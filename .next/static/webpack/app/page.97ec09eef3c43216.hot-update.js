"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/NotificationManager.tsx":
/*!********************************************!*\
  !*** ./components/NotificationManager.tsx ***!
  \********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\nvar _s = $RefreshSig$();\n\nconst Notification = (param)=>{\n    let { notification, onClose } = param;\n    _s();\n    const [isExiting, setIsExiting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const autoCloseTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(undefined);\n    // Effect for auto-closing the notification\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const exitTimer = window.setTimeout(()=>{\n            setIsExiting(true);\n        }, 4500); // Start exit animation 0.5s before removal\n        autoCloseTimerRef.current = window.setTimeout(()=>{\n            onClose(notification.id);\n        }, 5000); // Remove after 5s\n        return ()=>{\n            window.clearTimeout(exitTimer);\n            if (autoCloseTimerRef.current) {\n                window.clearTimeout(autoCloseTimerRef.current);\n            }\n        };\n    }, [\n        onClose,\n        notification.id\n    ]);\n    // Handler for the manual close button\n    const handleManualClose = ()=>{\n        // Clear any pending auto-close timers\n        if (autoCloseTimerRef.current) {\n            window.clearTimeout(autoCloseTimerRef.current);\n        }\n        // Start the exit animation\n        setIsExiting(true);\n        // Remove the component after the animation completes (500ms duration)\n        window.setTimeout(()=>onClose(notification.id), 500);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-brand-red text-parchment-light font-sans font-bold py-2 px-4 rounded-lg shadow-lg mb-2 transition-all duration-500 ease-in-out transform flex items-center justify-between \".concat(isExiting ? \"opacity-0 translate-x-full\" : \"opacity-100 translate-x-0\"),\n        role: \"alert\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                children: notification.message\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/NotificationManager.tsx\",\n                lineNumber: 52,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handleManualClose,\n                className: \"-mr-1 p-1 rounded-full hover:bg-black/20 focus:outline-none focus:ring-2 focus:ring-parchment-light transition-colors\",\n                \"aria-label\": \"Dismiss\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                    className: \"h-4 w-4\",\n                    fill: \"none\",\n                    viewBox: \"0 0 24 24\",\n                    stroke: \"currentColor\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        strokeWidth: \"2\",\n                        d: \"M6 18L18 6M6 6l12 12\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/NotificationManager.tsx\",\n                        lineNumber: 59,\n                        columnNumber: 21\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/NotificationManager.tsx\",\n                    lineNumber: 58,\n                    columnNumber: 17\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/NotificationManager.tsx\",\n                lineNumber: 53,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/NotificationManager.tsx\",\n        lineNumber: 46,\n        columnNumber: 9\n    }, undefined);\n};\n_s(Notification, \"K8kUKs3nisHtUvYKdu70mMv5uGQ=\");\n_c = Notification;\nconst NotificationManager = (param)=>{\n    let { notifications, onRemoveNotification } = param;\n    if (notifications.length === 0) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed top-4 right-4 z-[100] w-full max-w-sm\",\n        children: notifications.map((notification)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Notification, {\n                notification: notification,\n                onClose: onRemoveNotification\n            }, notification.id, false, {\n                fileName: \"/home/user/studio/components/NotificationManager.tsx\",\n                lineNumber: 80,\n                columnNumber: 17\n            }, undefined))\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/NotificationManager.tsx\",\n        lineNumber: 78,\n        columnNumber: 9\n    }, undefined);\n};\n_c1 = NotificationManager;\n/* harmony default export */ __webpack_exports__[\"default\"] = (NotificationManager);\nvar _c, _c1;\n$RefreshReg$(_c, \"Notification\");\n$RefreshReg$(_c1, \"NotificationManager\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvTm90aWZpY2F0aW9uTWFuYWdlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJEO0FBUTNELE1BQU1JLGVBQTRDO1FBQUMsRUFBRUMsWUFBWSxFQUFFQyxPQUFPLEVBQUU7O0lBQ3hFLE1BQU0sQ0FBQ0MsV0FBV0MsYUFBYSxHQUFHTiwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNTyxvQkFBb0JOLDZDQUFNQSxDQUFxQk87SUFFckQsMkNBQTJDO0lBQzNDVCxnREFBU0EsQ0FBQztRQUNOLE1BQU1VLFlBQVlDLE9BQU9DLFVBQVUsQ0FBQztZQUNoQ0wsYUFBYTtRQUNqQixHQUFHLE9BQU8sMkNBQTJDO1FBRXJEQyxrQkFBa0JLLE9BQU8sR0FBR0YsT0FBT0MsVUFBVSxDQUFDO1lBQzFDUCxRQUFRRCxhQUFhVSxFQUFFO1FBQzNCLEdBQUcsT0FBTyxrQkFBa0I7UUFFNUIsT0FBTztZQUNISCxPQUFPSSxZQUFZLENBQUNMO1lBQ3BCLElBQUlGLGtCQUFrQkssT0FBTyxFQUFFO2dCQUMzQkYsT0FBT0ksWUFBWSxDQUFDUCxrQkFBa0JLLE9BQU87WUFDakQ7UUFDSjtJQUNKLEdBQUc7UUFBQ1I7UUFBU0QsYUFBYVUsRUFBRTtLQUFDO0lBRTdCLHNDQUFzQztJQUN0QyxNQUFNRSxvQkFBb0I7UUFDdEIsc0NBQXNDO1FBQ3RDLElBQUlSLGtCQUFrQkssT0FBTyxFQUFFO1lBQzNCRixPQUFPSSxZQUFZLENBQUNQLGtCQUFrQkssT0FBTztRQUNqRDtRQUVBLDJCQUEyQjtRQUMzQk4sYUFBYTtRQUViLHNFQUFzRTtRQUN0RUksT0FBT0MsVUFBVSxDQUFDLElBQU1QLFFBQVFELGFBQWFVLEVBQUUsR0FBRztJQUN0RDtJQUVBLHFCQUNJLDhEQUFDRztRQUNHQyxXQUFXLGlMQUVWLE9BREdaLFlBQVksK0JBQStCO1FBRS9DYSxNQUFLOzswQkFFTCw4REFBQ0M7MEJBQU1oQixhQUFhaUIsT0FBTzs7Ozs7OzBCQUMzQiw4REFBQ0M7Z0JBQ0dDLFNBQVNQO2dCQUNURSxXQUFVO2dCQUNWTSxjQUFXOzBCQUVYLDRFQUFDQztvQkFBSVAsV0FBVTtvQkFBVVEsTUFBSztvQkFBT0MsU0FBUTtvQkFBWUMsUUFBTzs4QkFDNUQsNEVBQUNDO3dCQUFLQyxlQUFjO3dCQUFRQyxnQkFBZTt3QkFBUUMsYUFBWTt3QkFBSUMsR0FBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUt6RjtHQXZETTlCO0tBQUFBO0FBK0ROLE1BQU0rQixzQkFBMEQ7UUFBQyxFQUFFQyxhQUFhLEVBQUVDLG9CQUFvQixFQUFFO0lBQ3BHLElBQUlELGNBQWNFLE1BQU0sS0FBSyxHQUFHO1FBQzVCLE9BQU87SUFDWDtJQUVBLHFCQUNJLDhEQUFDcEI7UUFBSUMsV0FBVTtrQkFDVmlCLGNBQWNHLEdBQUcsQ0FBQyxDQUFDbEMsNkJBQ2hCLDhEQUFDRDtnQkFFR0MsY0FBY0E7Z0JBQ2RDLFNBQVMrQjtlQUZKaEMsYUFBYVUsRUFBRTs7Ozs7Ozs7OztBQU94QztNQWhCTW9CO0FBa0JOLCtEQUFlQSxtQkFBbUJBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9Ob3RpZmljYXRpb25NYW5hZ2VyLnRzeD80NDUxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdHlwZSB7IFVJTm90aWZpY2F0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbnRlcmZhY2UgTm90aWZpY2F0aW9uUHJvcHMge1xuICAgIG5vdGlmaWNhdGlvbjogVUlOb3RpZmljYXRpb247XG4gICAgb25DbG9zZTogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XG59XG5cbmNvbnN0IE5vdGlmaWNhdGlvbjogUmVhY3QuRkM8Tm90aWZpY2F0aW9uUHJvcHM+ID0gKHsgbm90aWZpY2F0aW9uLCBvbkNsb3NlIH0pID0+IHtcbiAgICBjb25zdCBbaXNFeGl0aW5nLCBzZXRJc0V4aXRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IGF1dG9DbG9zZVRpbWVyUmVmID0gdXNlUmVmPG51bWJlciB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcblxuICAgIC8vIEVmZmVjdCBmb3IgYXV0by1jbG9zaW5nIHRoZSBub3RpZmljYXRpb25cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBleGl0VGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRJc0V4aXRpbmcodHJ1ZSk7XG4gICAgICAgIH0sIDQ1MDApOyAvLyBTdGFydCBleGl0IGFuaW1hdGlvbiAwLjVzIGJlZm9yZSByZW1vdmFsXG5cbiAgICAgICAgYXV0b0Nsb3NlVGltZXJSZWYuY3VycmVudCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIG9uQ2xvc2Uobm90aWZpY2F0aW9uLmlkKTtcbiAgICAgICAgfSwgNTAwMCk7IC8vIFJlbW92ZSBhZnRlciA1c1xuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGV4aXRUaW1lcik7XG4gICAgICAgICAgICBpZiAoYXV0b0Nsb3NlVGltZXJSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoYXV0b0Nsb3NlVGltZXJSZWYuY3VycmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSwgW29uQ2xvc2UsIG5vdGlmaWNhdGlvbi5pZF0pO1xuXG4gICAgLy8gSGFuZGxlciBmb3IgdGhlIG1hbnVhbCBjbG9zZSBidXR0b25cbiAgICBjb25zdCBoYW5kbGVNYW51YWxDbG9zZSA9ICgpID0+IHtcbiAgICAgICAgLy8gQ2xlYXIgYW55IHBlbmRpbmcgYXV0by1jbG9zZSB0aW1lcnNcbiAgICAgICAgaWYgKGF1dG9DbG9zZVRpbWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoYXV0b0Nsb3NlVGltZXJSZWYuY3VycmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFN0YXJ0IHRoZSBleGl0IGFuaW1hdGlvblxuICAgICAgICBzZXRJc0V4aXRpbmcodHJ1ZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBSZW1vdmUgdGhlIGNvbXBvbmVudCBhZnRlciB0aGUgYW5pbWF0aW9uIGNvbXBsZXRlcyAoNTAwbXMgZHVyYXRpb24pXG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IG9uQ2xvc2Uobm90aWZpY2F0aW9uLmlkKSwgNTAwKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgYmctYnJhbmQtcmVkIHRleHQtcGFyY2htZW50LWxpZ2h0IGZvbnQtc2FucyBmb250LWJvbGQgcHktMiBweC00IHJvdW5kZWQtbGcgc2hhZG93LWxnIG1iLTIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tNTAwIGVhc2UtaW4tb3V0IHRyYW5zZm9ybSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gJHtcbiAgICAgICAgICAgICAgICBpc0V4aXRpbmcgPyAnb3BhY2l0eS0wIHRyYW5zbGF0ZS14LWZ1bGwnIDogJ29wYWNpdHktMTAwIHRyYW5zbGF0ZS14LTAnXG4gICAgICAgICAgICB9YH1cbiAgICAgICAgICAgIHJvbGU9XCJhbGVydFwiXG4gICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuPntub3RpZmljYXRpb24ubWVzc2FnZX08L3NwYW4+XG4gICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZU1hbnVhbENsb3NlfSBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCItbXItMSBwLTEgcm91bmRlZC1mdWxsIGhvdmVyOmJnLWJsYWNrLzIwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1wYXJjaG1lbnQtbGlnaHQgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJEaXNtaXNzXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cImgtNCB3LTRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPVwiMlwiIGQ9XCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiIC8+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cblxuaW50ZXJmYWNlIE5vdGlmaWNhdGlvbk1hbmFnZXJQcm9wcyB7XG4gICAgbm90aWZpY2F0aW9uczogVUlOb3RpZmljYXRpb25bXTtcbiAgICBvblJlbW92ZU5vdGlmaWNhdGlvbjogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XG59XG5cbmNvbnN0IE5vdGlmaWNhdGlvbk1hbmFnZXI6IFJlYWN0LkZDPE5vdGlmaWNhdGlvbk1hbmFnZXJQcm9wcz4gPSAoeyBub3RpZmljYXRpb25zLCBvblJlbW92ZU5vdGlmaWNhdGlvbiB9KSA9PiB7XG4gICAgaWYgKG5vdGlmaWNhdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgdG9wLTQgcmlnaHQtNCB6LVsxMDBdIHctZnVsbCBtYXgtdy1zbVwiPlxuICAgICAgICAgICAge25vdGlmaWNhdGlvbnMubWFwKChub3RpZmljYXRpb24pID0+IChcbiAgICAgICAgICAgICAgICA8Tm90aWZpY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgIGtleT17bm90aWZpY2F0aW9uLmlkfVxuICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb249e25vdGlmaWNhdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17b25SZW1vdmVOb3RpZmljYXRpb259XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTm90aWZpY2F0aW9uTWFuYWdlcjtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlUmVmIiwiTm90aWZpY2F0aW9uIiwibm90aWZpY2F0aW9uIiwib25DbG9zZSIsImlzRXhpdGluZyIsInNldElzRXhpdGluZyIsImF1dG9DbG9zZVRpbWVyUmVmIiwidW5kZWZpbmVkIiwiZXhpdFRpbWVyIiwid2luZG93Iiwic2V0VGltZW91dCIsImN1cnJlbnQiLCJpZCIsImNsZWFyVGltZW91dCIsImhhbmRsZU1hbnVhbENsb3NlIiwiZGl2IiwiY2xhc3NOYW1lIiwicm9sZSIsInNwYW4iLCJtZXNzYWdlIiwiYnV0dG9uIiwib25DbGljayIsImFyaWEtbGFiZWwiLCJzdmciLCJmaWxsIiwidmlld0JveCIsInN0cm9rZSIsInBhdGgiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJzdHJva2VXaWR0aCIsImQiLCJOb3RpZmljYXRpb25NYW5hZ2VyIiwibm90aWZpY2F0aW9ucyIsIm9uUmVtb3ZlTm90aWZpY2F0aW9uIiwibGVuZ3RoIiwibWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/NotificationManager.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/types */ \"(app-pages-browser)/./types.ts\");\n/* harmony import */ var _services_geminiService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/services/geminiService */ \"(app-pages-browser)/./services/geminiService.ts\");\n/* harmony import */ var _services_dbService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/services/dbService */ \"(app-pages-browser)/./services/dbService.ts\");\n/* harmony import */ var _services_nameService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/services/nameService */ \"(app-pages-browser)/./services/nameService.ts\");\n/* harmony import */ var _data_itemContent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/data/itemContent */ \"(app-pages-browser)/./data/itemContent.ts\");\n/* harmony import */ var _data_ageInfo__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/data/ageInfo */ \"(app-pages-browser)/./data/ageInfo.ts\");\n/* harmony import */ var _data_buildingInfo__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/data/buildingInfo */ \"(app-pages-browser)/./data/buildingInfo.ts\");\n/* harmony import */ var _data_unitInfo__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/data/unitInfo */ \"(app-pages-browser)/./data/unitInfo.ts\");\n/* harmony import */ var _data_resourceInfo__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/data/resourceInfo */ \"(app-pages-browser)/./data/resourceInfo.ts\");\n/* harmony import */ var _data_researchInfo__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/data/researchInfo */ \"(app-pages-browser)/./data/researchInfo.ts\");\n/* harmony import */ var _components_GameUI__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/components/GameUI */ \"(app-pages-browser)/./components/GameUI.tsx\");\n/* harmony import */ var _components_StartScreen__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/components/StartScreen */ \"(app-pages-browser)/./components/StartScreen.tsx\");\n/* harmony import */ var _components_LoadingScreen__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/components/LoadingScreen */ \"(app-pages-browser)/./components/LoadingScreen.tsx\");\n/* harmony import */ var _components_BuildPanel__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/components/BuildPanel */ \"(app-pages-browser)/./components/BuildPanel.tsx\");\n/* harmony import */ var _components_NotificationManager__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/components/NotificationManager */ \"(app-pages-browser)/./components/NotificationManager.tsx\");\n/* harmony import */ var _components_UnitManagementPanel__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @/components/UnitManagementPanel */ \"(app-pages-browser)/./components/UnitManagementPanel.tsx\");\n/* harmony import */ var _components_BuildingManagementPanel__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @/components/BuildingManagementPanel */ \"(app-pages-browser)/./components/BuildingManagementPanel.tsx\");\n/* harmony import */ var _components_ResourceAssignmentPanel__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @/components/ResourceAssignmentPanel */ \"(app-pages-browser)/./components/ResourceAssignmentPanel.tsx\");\n/* harmony import */ var _components_CivilizationPanel__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @/components/CivilizationPanel */ \"(app-pages-browser)/./components/CivilizationPanel.tsx\");\n/* harmony import */ var _components_AllBuildingsPanel__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @/components/AllBuildingsPanel */ \"(app-pages-browser)/./components/AllBuildingsPanel.tsx\");\n/* harmony import */ var _components_InventoryPanel__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @/components/InventoryPanel */ \"(app-pages-browser)/./components/InventoryPanel.tsx\");\n/* harmony import */ var _components_ResearchPanel__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @/components/ResearchPanel */ \"(app-pages-browser)/./components/ResearchPanel.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst initialBuildingsState = {\n    houses: [],\n    barracks: [],\n    archeryRange: [],\n    stable: [],\n    siegeWorkshop: [],\n    blacksmith: [],\n    watchTower: [],\n    townCenter: []\n};\nconst MAP_DIMENSIONS = {\n    width: 25,\n    height: 18\n};\nconst GamePage = ()=>{\n    _s();\n    // Core Game State\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n    const [civilization, setCivilization] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [resources, setResources] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        food: 200,\n        wood: 150,\n        gold: 50,\n        stone: 100\n    });\n    const [units, setUnits] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        villagers: [],\n        military: []\n    });\n    const [buildings, setBuildings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialBuildingsState);\n    const [currentAge, setCurrentAge] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Nomadic Age\");\n    const [gameLog, setGameLog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentEvent, setCurrentEvent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [resourceDeltas, setResourceDeltas] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [activityStatus, setActivityStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Your story begins...\");\n    const [notifications, setNotifications] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [unlimitedResources, setUnlimitedResources] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [allSaves, setAllSaves] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentSaveName, setCurrentSaveName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [playerAction, setPlayerAction] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [activeTasks, setActiveTasks] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [resourceNodes, setResourceNodes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [inventory, setInventory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [activeBuffs, setActiveBuffs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        resourceBoost: []\n    });\n    const [completedResearch, setCompletedResearch] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // Master lists of all configurations from DB\n    const [masterAgeList, setMasterAgeList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [masterBuildingList, setMasterBuildingList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [masterUnitList, setMasterUnitList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [masterResourceList, setMasterResourceList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [masterResearchList, setMasterResearchList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // App Loading State\n    const [isAppLoading, setIsAppLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    // Panel States\n    const [buildPanelState, setBuildPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        villagerId: null,\n        anchorRect: null\n    });\n    const [unitManagementPanel, setUnitManagementPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        type: null,\n        anchorRect: null\n    });\n    const [buildingManagementPanel, setBuildingManagementPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        type: null,\n        instanceId: null,\n        anchorRect: null\n    });\n    const [allBuildingsPanel, setAllBuildingsPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const [assignmentPanelState, setAssignmentPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        targetId: null,\n        targetType: null,\n        anchorRect: null\n    });\n    const [civPanelState, setCivPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const [inventoryPanelState, setInventoryPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const [researchPanelState, setResearchPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const deltaTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    const eventTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const lastTickRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(Date.now());\n    const animationFrameRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const gatherInfoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    // Derived state for active game configurations\n    const ageProgressionList = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>masterAgeList.filter((age)=>age.isActive), [\n        masterAgeList\n    ]);\n    const buildingList = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>masterBuildingList, [\n        masterBuildingList\n    ]); // Keep all for lookups, filter on use\n    const unitList = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>masterUnitList, [\n        masterUnitList\n    ]); // Keep all for lookups, filter on use\n    const populationCapacity = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        let capacity = 0;\n        for(const buildingType in buildings){\n            const buildingInfo = masterBuildingList.find((b)=>b.id === buildingType);\n            if (buildingInfo && buildingInfo.populationCapacity) {\n                capacity += buildings[buildingType].length * buildingInfo.populationCapacity;\n            }\n        }\n        return capacity;\n    }, [\n        buildings,\n        masterBuildingList\n    ]);\n    const population = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const militaryPop = units.military.reduce((acc, unit)=>{\n            const unitInfo = masterUnitList.find((u)=>u.id === unit.unitType);\n            return acc + ((unitInfo === null || unitInfo === void 0 ? void 0 : unitInfo.populationCost) || 1);\n        }, 0);\n        return {\n            current: units.villagers.length + militaryPop,\n            capacity: populationCapacity\n        };\n    }, [\n        units,\n        populationCapacity,\n        masterUnitList\n    ]);\n    const hasResearchBuildings = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        return masterBuildingList.some((buildingInfo)=>{\n            var _buildings_buildingInfo_id;\n            return buildingInfo.canResearch && (((_buildings_buildingInfo_id = buildings[buildingInfo.id]) === null || _buildings_buildingInfo_id === void 0 ? void 0 : _buildings_buildingInfo_id.length) || 0) > 0;\n        });\n    }, [\n        buildings,\n        masterBuildingList\n    ]);\n    const fetchResources = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        let allItems = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllResourceConfigs)();\n        const itemMap = new Map(allItems.map((i)=>[\n                i.id,\n                i\n            ]));\n        let needsUpdate = false;\n        for (const [index, pItem] of _data_resourceInfo__WEBPACK_IMPORTED_MODULE_10__.INITIAL_RESOURCES.entries()){\n            const existingItem = itemMap.get(pItem.id);\n            var _existingItem_isActive, _existingItem_order;\n            const newItem = {\n                ...pItem,\n                ...existingItem || {},\n                id: pItem.id,\n                isPredefined: true,\n                isActive: (_existingItem_isActive = existingItem === null || existingItem === void 0 ? void 0 : existingItem.isActive) !== null && _existingItem_isActive !== void 0 ? _existingItem_isActive : true,\n                order: (_existingItem_order = existingItem === null || existingItem === void 0 ? void 0 : existingItem.order) !== null && _existingItem_order !== void 0 ? _existingItem_order : index\n            };\n            if (JSON.stringify(existingItem) !== JSON.stringify(newItem)) {\n                await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.saveResourceConfig)(newItem);\n                needsUpdate = true;\n            }\n        }\n        if (needsUpdate) allItems = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllResourceConfigs)();\n        setMasterResourceList(allItems);\n        gatherInfoRef.current = allItems.reduce((acc, res)=>{\n            acc[res.id] = {\n                rate: res.baseGatherRate\n            };\n            return acc;\n        }, {});\n        return allItems;\n    }, []);\n    const fetchSavesAndConfigs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        setIsAppLoading(true);\n        try {\n            var _allAgeConfigs_;\n            const names = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllSaveNames)();\n            setAllSaves(names);\n            // --- Smart Seeding/Updating for Ages ---\n            let allAgeConfigs = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllAgeConfigs)();\n            let ageMap = new Map(allAgeConfigs.map((item)=>[\n                    item.id,\n                    item\n                ]));\n            let agesNeedUpdate = false;\n            for (const [index, pItem] of _data_ageInfo__WEBPACK_IMPORTED_MODULE_7__.INITIAL_AGES.entries()){\n                const existingItem = ageMap.get(pItem.name);\n                var _existingItem_isActive, _existingItem_order;\n                const newItem = {\n                    ...existingItem || {},\n                    ...pItem,\n                    id: pItem.name,\n                    isPredefined: true,\n                    isActive: (_existingItem_isActive = existingItem === null || existingItem === void 0 ? void 0 : existingItem.isActive) !== null && _existingItem_isActive !== void 0 ? _existingItem_isActive : true,\n                    order: (_existingItem_order = existingItem === null || existingItem === void 0 ? void 0 : existingItem.order) !== null && _existingItem_order !== void 0 ? _existingItem_order : index\n                };\n                if (JSON.stringify(existingItem) !== JSON.stringify(newItem)) {\n                    await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.saveAgeConfig)(newItem);\n                    agesNeedUpdate = true;\n                }\n            }\n            if (agesNeedUpdate) allAgeConfigs = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllAgeConfigs)();\n            setMasterAgeList(allAgeConfigs);\n            // --- Smart Seeding/Updating for Buildings ---\n            let allBuildingConfigs = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllBuildingConfigs)();\n            let buildingMap = new Map(allBuildingConfigs.map((item)=>[\n                    item.id,\n                    item\n                ]));\n            let buildingsNeedUpdate = false;\n            const defaultAge = ((_allAgeConfigs_ = allAgeConfigs[0]) === null || _allAgeConfigs_ === void 0 ? void 0 : _allAgeConfigs_.name) || _data_ageInfo__WEBPACK_IMPORTED_MODULE_7__.INITIAL_AGES[0].name;\n            for (const [index, pItem] of _data_buildingInfo__WEBPACK_IMPORTED_MODULE_8__.INITIAL_BUILDINGS.entries()){\n                const existingItem = buildingMap.get(pItem.id);\n                var _existingItem_isActive1, _existingItem_order1, _existingItem_populationCapacity, _existingItem_generatesResource, _existingItem_generationRate, _existingItem_maintenanceCost;\n                const newItem = {\n                    ...pItem,\n                    ...existingItem || {},\n                    id: pItem.id,\n                    isPredefined: true,\n                    unlockedInAge: (existingItem === null || existingItem === void 0 ? void 0 : existingItem.unlockedInAge) || (pItem.id === \"townCenter\" ? _data_ageInfo__WEBPACK_IMPORTED_MODULE_7__.INITIAL_AGES[0].name : defaultAge),\n                    isActive: (_existingItem_isActive1 = existingItem === null || existingItem === void 0 ? void 0 : existingItem.isActive) !== null && _existingItem_isActive1 !== void 0 ? _existingItem_isActive1 : true,\n                    order: (_existingItem_order1 = existingItem === null || existingItem === void 0 ? void 0 : existingItem.order) !== null && _existingItem_order1 !== void 0 ? _existingItem_order1 : index,\n                    treeId: (existingItem === null || existingItem === void 0 ? void 0 : existingItem.treeId) || \"tree-predefined-\".concat(pItem.id),\n                    populationCapacity: (_existingItem_populationCapacity = existingItem === null || existingItem === void 0 ? void 0 : existingItem.populationCapacity) !== null && _existingItem_populationCapacity !== void 0 ? _existingItem_populationCapacity : pItem.populationCapacity,\n                    generatesResource: (_existingItem_generatesResource = existingItem === null || existingItem === void 0 ? void 0 : existingItem.generatesResource) !== null && _existingItem_generatesResource !== void 0 ? _existingItem_generatesResource : pItem.generatesResource,\n                    generationRate: (_existingItem_generationRate = existingItem === null || existingItem === void 0 ? void 0 : existingItem.generationRate) !== null && _existingItem_generationRate !== void 0 ? _existingItem_generationRate : pItem.generationRate,\n                    maintenanceCost: (_existingItem_maintenanceCost = existingItem === null || existingItem === void 0 ? void 0 : existingItem.maintenanceCost) !== null && _existingItem_maintenanceCost !== void 0 ? _existingItem_maintenanceCost : pItem.maintenanceCost\n                };\n                if (JSON.stringify(existingItem) !== JSON.stringify(newItem)) {\n                    await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.saveBuildingConfig)(newItem);\n                    buildingsNeedUpdate = true;\n                }\n            }\n            if (buildingsNeedUpdate) allBuildingConfigs = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllBuildingConfigs)();\n            setMasterBuildingList(allBuildingConfigs);\n            // --- Smart Seeding/Updating for Units ---\n            let allUnitConfigs = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllUnitConfigs)();\n            const unitMap = new Map(allUnitConfigs.map((item)=>[\n                    item.id,\n                    item\n                ]));\n            let unitsNeedUpdate = false;\n            const initialUnitsWithIds = _data_unitInfo__WEBPACK_IMPORTED_MODULE_9__.INITIAL_UNITS.map((u)=>({\n                    ...u,\n                    id: u.name.toLowerCase().replace(/\\s/g, \"\")\n                }));\n            for (const [index, pItem] of initialUnitsWithIds.entries()){\n                const existingItem = unitMap.get(pItem.id);\n                var _existingItem_isActive2, _existingItem_order2, _existingItem_populationCost;\n                const newItem = {\n                    ...pItem,\n                    ...existingItem || {},\n                    id: pItem.id,\n                    isPredefined: true,\n                    isActive: (_existingItem_isActive2 = existingItem === null || existingItem === void 0 ? void 0 : existingItem.isActive) !== null && _existingItem_isActive2 !== void 0 ? _existingItem_isActive2 : true,\n                    order: (_existingItem_order2 = existingItem === null || existingItem === void 0 ? void 0 : existingItem.order) !== null && _existingItem_order2 !== void 0 ? _existingItem_order2 : index,\n                    treeId: (existingItem === null || existingItem === void 0 ? void 0 : existingItem.treeId) || \"utree-predefined-\".concat(pItem.id),\n                    populationCost: (_existingItem_populationCost = existingItem === null || existingItem === void 0 ? void 0 : existingItem.populationCost) !== null && _existingItem_populationCost !== void 0 ? _existingItem_populationCost : pItem.populationCost\n                };\n                if (JSON.stringify(existingItem) !== JSON.stringify(newItem)) {\n                    await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.saveUnitConfig)(newItem);\n                    unitsNeedUpdate = true;\n                }\n            }\n            if (unitsNeedUpdate) allUnitConfigs = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllUnitConfigs)();\n            setMasterUnitList(allUnitConfigs);\n            // --- Smart Seeding/Updating for Research ---\n            let allResearchConfigs = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllResearchConfigs)();\n            let researchMap = new Map(allResearchConfigs.map((item)=>[\n                    item.id,\n                    item\n                ]));\n            let researchNeedUpdate = false;\n            for (const [index, pItem] of _data_researchInfo__WEBPACK_IMPORTED_MODULE_11__.INITIAL_RESEARCH.entries()){\n                const id = pItem.name.toLowerCase().replace(/\\s/g, \"_\");\n                const existingItem = researchMap.get(id);\n                var _existingItem_isActive3, _existingItem_order3;\n                const newItem = {\n                    ...existingItem || {},\n                    ...pItem,\n                    id,\n                    isPredefined: true,\n                    isActive: (_existingItem_isActive3 = existingItem === null || existingItem === void 0 ? void 0 : existingItem.isActive) !== null && _existingItem_isActive3 !== void 0 ? _existingItem_isActive3 : true,\n                    order: (_existingItem_order3 = existingItem === null || existingItem === void 0 ? void 0 : existingItem.order) !== null && _existingItem_order3 !== void 0 ? _existingItem_order3 : index,\n                    ageRequirement: (existingItem === null || existingItem === void 0 ? void 0 : existingItem.ageRequirement) || defaultAge,\n                    requiredBuildingId: (existingItem === null || existingItem === void 0 ? void 0 : existingItem.requiredBuildingId) || \"blacksmith\"\n                };\n                if (JSON.stringify(existingItem) !== JSON.stringify(newItem)) {\n                    await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.saveResearchConfig)(newItem);\n                    researchNeedUpdate = true;\n                }\n            }\n            if (researchNeedUpdate) allResearchConfigs = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllResearchConfigs)();\n            setMasterResearchList(allResearchConfigs);\n            const allResourceConfigs = await fetchResources();\n            return {\n                allAgeConfigs,\n                allBuildingConfigs,\n                allUnitConfigs,\n                allResourceConfigs,\n                allResearchConfigs\n            };\n        } catch (error) {\n            console.error(\"Error during initial config fetch:\", error);\n            const ages = _data_ageInfo__WEBPACK_IMPORTED_MODULE_7__.INITIAL_AGES.map((a, i)=>({\n                    ...a,\n                    id: a.name,\n                    isActive: true,\n                    isPredefined: true,\n                    order: i\n                }));\n            const buildings = _data_buildingInfo__WEBPACK_IMPORTED_MODULE_8__.INITIAL_BUILDINGS.map((b, i)=>({\n                    ...b,\n                    isActive: true,\n                    isPredefined: true,\n                    order: i,\n                    unlockedInAge: \"Nomadic Age\"\n                }));\n            const units = _data_unitInfo__WEBPACK_IMPORTED_MODULE_9__.INITIAL_UNITS.map((u, i)=>({\n                    ...u,\n                    id: u.name.toLowerCase().replace(/\\s/g, \"\"),\n                    isActive: true,\n                    isPredefined: true,\n                    order: i\n                }));\n            const resources = _data_resourceInfo__WEBPACK_IMPORTED_MODULE_10__.INITIAL_RESOURCES.map((r, i)=>({\n                    ...r,\n                    isActive: true,\n                    isPredefined: true,\n                    order: i\n                }));\n            const research = _data_researchInfo__WEBPACK_IMPORTED_MODULE_11__.INITIAL_RESEARCH.map((r, i)=>({\n                    ...r,\n                    id: r.name.toLowerCase().replace(/\\s/g, \"_\"),\n                    isActive: true,\n                    isPredefined: true,\n                    order: i,\n                    ageRequirement: \"Nomadic Age\"\n                }));\n            setMasterAgeList(ages);\n            setMasterBuildingList(buildings);\n            setMasterUnitList(units);\n            setMasterResourceList(resources);\n            setMasterResearchList(research);\n            return {\n                allAgeConfigs: ages,\n                allBuildingConfigs: buildings,\n                allUnitConfigs: units,\n                allResourceConfigs: resources,\n                allResearchConfigs: research\n            };\n        } finally{\n            setIsAppLoading(false);\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU);\n        }\n    }, [\n        fetchResources\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        fetchSavesAndConfigs();\n    }, [\n        fetchSavesAndConfigs\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && civilization && currentSaveName) {\n            const fullState = {\n                civilization,\n                resources,\n                units,\n                buildings,\n                currentAge,\n                gameLog,\n                activeTasks,\n                resourceNodes,\n                inventory,\n                activeBuffs,\n                completedResearch\n            };\n            (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.saveGameState)(currentSaveName, fullState);\n        }\n    }, [\n        civilization,\n        resources,\n        units,\n        buildings,\n        currentAge,\n        gameLog,\n        gameState,\n        currentSaveName,\n        activeTasks,\n        resourceNodes,\n        inventory,\n        activeBuffs,\n        completedResearch\n    ]);\n    const addNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message)=>{\n        const id = \"\".concat(Date.now(), \"-\").concat(Math.random());\n        setNotifications((prev)=>[\n                {\n                    id,\n                    message\n                }\n            ]);\n    }, []);\n    const removeNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id)=>{\n        setNotifications((prev)=>prev.filter((n)=>n.id !== id));\n    }, []);\n    const addToLog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message, icon)=>{\n        setGameLog((prev)=>[\n                {\n                    id: \"\".concat(Date.now(), \"-\").concat(Math.random()),\n                    message,\n                    icon\n                },\n                ...prev.slice(0, 19)\n            ]);\n    }, []);\n    const updateResources = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((deltas)=>{\n        setResources((prev)=>{\n            const newResources = {\n                ...prev\n            };\n            for(const key in deltas){\n                const resourceKey = key;\n                var _deltas_resourceKey;\n                newResources[resourceKey] = Math.max(0, (newResources[resourceKey] || 0) + ((_deltas_resourceKey = deltas[resourceKey]) !== null && _deltas_resourceKey !== void 0 ? _deltas_resourceKey : 0));\n            }\n            return newResources;\n        });\n        setResourceDeltas((prev)=>({\n                ...prev,\n                ...deltas\n            }));\n        for(const key in deltas){\n            const resourceKey = key;\n            if (deltaTimeoutRef.current[resourceKey]) {\n                window.clearTimeout(deltaTimeoutRef.current[resourceKey]);\n            }\n            deltaTimeoutRef.current[resourceKey] = window.setTimeout(()=>{\n                setResourceDeltas((prev)=>{\n                    const newDeltas = {\n                        ...prev\n                    };\n                    delete newDeltas[resourceKey];\n                    return newDeltas;\n                });\n            }, 1500);\n        }\n    }, []);\n    const handleTaskCompletion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((task)=>{\n        var _task_payload;\n        if (((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.villagerIds) && task.payload.villagerIds.length > 0) {\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>task.payload.villagerIds.includes(v.id) ? {\n                            ...v,\n                            currentTask: null\n                        } : v)\n                }));\n        }\n        switch(task.type){\n            case \"build\":\n                {\n                    const { buildingType, position } = task.payload;\n                    const buildingInfo = buildingList.find((b)=>b.id === buildingType);\n                    const [name] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n                    const newBuilding = {\n                        id: task.id,\n                        name,\n                        position: position,\n                        currentHp: buildingInfo.hp\n                    };\n                    setBuildings((p)=>{\n                        const currentBuildings = p[buildingType] || [];\n                        return {\n                            ...p,\n                            [buildingType]: [\n                                ...currentBuildings,\n                                newBuilding\n                            ]\n                        };\n                    });\n                    addToLog(\"\".concat(task.payload.villagerIds.length, \" builder(s) have constructed \").concat(name, \", a new \").concat(buildingInfo.name, \".\"), buildingInfo.iconId);\n                    setActivityStatus(\"Construction of \".concat(name, \" is complete.\"));\n                    break;\n                }\n            case \"upgrade_building\":\n                {\n                    var _buildings_originalBuildingType;\n                    const { originalBuildingId, originalBuildingType, targetBuildingType } = task.payload;\n                    const originalBuilding = (_buildings_originalBuildingType = buildings[originalBuildingType]) === null || _buildings_originalBuildingType === void 0 ? void 0 : _buildings_originalBuildingType.find((b)=>b.id === originalBuildingId);\n                    const targetBuildingInfo = buildingList.find((b)=>b.id === targetBuildingType);\n                    if (originalBuilding && targetBuildingInfo) {\n                        const newBuilding = {\n                            id: originalBuilding.id,\n                            name: originalBuilding.name,\n                            position: originalBuilding.position,\n                            currentHp: targetBuildingInfo.hp\n                        };\n                        setBuildings((p)=>{\n                            const newBuildings = {\n                                ...p\n                            };\n                            newBuildings[originalBuildingType] = (newBuildings[originalBuildingType] || []).filter((b)=>b.id !== originalBuildingId);\n                            newBuildings[targetBuildingType] = [\n                                ...newBuildings[targetBuildingType] || [],\n                                newBuilding\n                            ];\n                            return newBuildings;\n                        });\n                        addToLog(\"\".concat(originalBuilding.name, \" has been upgraded to a \").concat(targetBuildingInfo.name, \"!\"), targetBuildingInfo.iconId);\n                        setActivityStatus(\"Upgrade to \".concat(targetBuildingInfo.name, \" complete.\"));\n                    }\n                    break;\n                }\n            case \"gather\":\n                break;\n            case \"train_villager\":\n                {\n                    const { count } = task.payload;\n                    const newVillagerNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", count);\n                    const newVillagers = newVillagerNames.map((name)=>({\n                            id: \"\".concat(Date.now(), \"-\").concat(name),\n                            name,\n                            currentTask: null\n                        }));\n                    setUnits((p)=>({\n                            ...p,\n                            villagers: [\n                                ...p.villagers,\n                                ...newVillagers\n                            ]\n                        }));\n                    addToLog(\"\".concat(count, \" new villager(s) have joined your settlement.\"), \"villager\");\n                    setActivityStatus(\"\".concat(count, \" new villager(s) are ready to work.\"));\n                    break;\n                }\n            case \"train_military\":\n                {\n                    const { unitType, count } = task.payload;\n                    const unitInfo = unitList.find((u)=>u.id === unitType);\n                    const newUnitNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"soldier\", count);\n                    const newUnits = newUnitNames.map((name)=>({\n                            id: \"\".concat(Date.now(), \"-\").concat(unitType, \"-\").concat(name),\n                            name,\n                            title: \"\",\n                            unitType: unitType\n                        }));\n                    setUnits((p)=>({\n                            ...p,\n                            military: [\n                                ...p.military,\n                                ...newUnits\n                            ]\n                        }));\n                    addToLog(\"\".concat(count, \" \").concat(unitInfo.name, \"(s) have been trained.\"), unitType);\n                    setActivityStatus(\"\".concat(count, \" new \").concat(unitInfo.name, \"(s) are ready for battle.\"));\n                    break;\n                }\n            case \"advance_age\":\n                {\n                    const activeAges = masterAgeList.filter((a)=>a.isActive);\n                    const currentIndex = activeAges.findIndex((age)=>age.name === currentAge);\n                    const ageResult = activeAges[currentIndex + 1] || {\n                        name: \"Age of Legends\",\n                        description: \"Your civilization transcends history and becomes a legend.\"\n                    };\n                    setCurrentAge(ageResult.name);\n                    addToLog(\"You have advanced to the \".concat(ageResult.name, \"!\"), \"age\");\n                    addToLog(ageResult.description, \"age\");\n                    setActivityStatus(\"Welcome to the \".concat(ageResult.name, \"!\"));\n                    break;\n                }\n            case \"research\":\n                {\n                    const { researchId } = task.payload;\n                    const researchInfo = masterResearchList.find((r)=>r.id === researchId);\n                    if (researchInfo) {\n                        setCompletedResearch((prev)=>[\n                                ...new Set([\n                                    ...prev,\n                                    researchId\n                                ])\n                            ]);\n                        addToLog(\"Research complete: \".concat(researchInfo.name, \"!\"), researchInfo.iconId);\n                        setActivityStatus(\"Completed research for \".concat(researchInfo.name, \".\"));\n                    // TODO: Apply research effects\n                    }\n                    break;\n                }\n        }\n    }, [\n        currentAge,\n        addToLog,\n        buildingList,\n        unitList,\n        masterAgeList,\n        masterResearchList,\n        buildings\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState !== _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING) {\n            if (animationFrameRef.current) cancelAnimationFrame(animationFrameRef.current);\n            return;\n        }\n        const gameLoop = ()=>{\n            const now = Date.now();\n            const deltaTime = now - lastTickRef.current;\n            lastTickRef.current = now;\n            let completedTasks = [];\n            let resourceDeltasThisTick = {};\n            // --- Passive Generation and Maintenance ---\n            Object.values(buildings).flat().forEach((instance)=>{\n                const config = masterBuildingList.find((b)=>b.id === Object.keys(buildings).find((key)=>buildings[key].some((bInst)=>bInst.id === instance.id)));\n                if (!config) return;\n                // Passive Generation\n                if (config.generatesResource && config.generatesResource !== \"none\" && config.generationRate) {\n                    const amountPerSecond = config.generationRate / 60;\n                    resourceDeltasThisTick[config.generatesResource] = (resourceDeltasThisTick[config.generatesResource] || 0) + amountPerSecond / 1000 * deltaTime;\n                }\n                // Maintenance Costs\n                if (config.maintenanceCost) {\n                    Object.entries(config.maintenanceCost).forEach((param)=>{\n                        let [res, cost] = param;\n                        const costPerSecond = (cost || 0) / 60;\n                        resourceDeltasThisTick[res] = (resourceDeltasThisTick[res] || 0) - costPerSecond / 1000 * deltaTime;\n                    });\n                }\n            });\n            setActiveBuffs((prev)=>{\n                var _prev_resourceBoost, _prev_resourceBoost1;\n                const newResourceBoosts = (_prev_resourceBoost = prev.resourceBoost) === null || _prev_resourceBoost === void 0 ? void 0 : _prev_resourceBoost.filter((b)=>b.endTime > now);\n                if ((newResourceBoosts === null || newResourceBoosts === void 0 ? void 0 : newResourceBoosts.length) !== ((_prev_resourceBoost1 = prev.resourceBoost) === null || _prev_resourceBoost1 === void 0 ? void 0 : _prev_resourceBoost1.length)) {\n                    addToLog(\"A resource gathering bonus has expired.\", \"system\");\n                }\n                return {\n                    ...prev,\n                    resourceBoost: newResourceBoosts\n                };\n            });\n            const tasksInProgress = activeTasks.map((task)=>{\n                if (now >= task.startTime + task.duration) {\n                    completedTasks.push(task);\n                    return null;\n                }\n                if (task.type === \"gather\") {\n                    var _task_payload_villagerIds, _task_payload, _gatherInfoRef_current_node_type, _activeBuffs_resourceBoost_find, _activeBuffs_resourceBoost;\n                    const node = resourceNodes.find((n)=>{\n                        var _task_payload;\n                        return n.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.resourceNodeId);\n                    });\n                    const villagerCount = ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 0;\n                    if (!node || villagerCount === 0) {\n                        completedTasks.push(task);\n                        return null;\n                    }\n                    const baseRatePerSecond = (((_gatherInfoRef_current_node_type = gatherInfoRef.current[node.type]) === null || _gatherInfoRef_current_node_type === void 0 ? void 0 : _gatherInfoRef_current_node_type.rate) || 0) * (node.richness || 1);\n                    let civBonusMultiplier = 1;\n                    if (civilization === null || civilization === void 0 ? void 0 : civilization.bonus.toLowerCase().includes(node.type.toLowerCase())) {\n                        const match = civilization.bonus.match(/(\\d+)%/);\n                        if (match === null || match === void 0 ? void 0 : match[1]) civBonusMultiplier = 1 + parseInt(match[1], 10) / 100;\n                    }\n                    const itemBoostMultiplier = ((_activeBuffs_resourceBoost = activeBuffs.resourceBoost) === null || _activeBuffs_resourceBoost === void 0 ? void 0 : (_activeBuffs_resourceBoost_find = _activeBuffs_resourceBoost.find((b)=>b.resource === node.type)) === null || _activeBuffs_resourceBoost_find === void 0 ? void 0 : _activeBuffs_resourceBoost_find.multiplier) || 1;\n                    const finalRatePerSecond = baseRatePerSecond * civBonusMultiplier * itemBoostMultiplier;\n                    resourceDeltasThisTick[node.type] = (resourceDeltasThisTick[node.type] || 0) + finalRatePerSecond / 1000 * deltaTime * villagerCount;\n                }\n                return task;\n            }).filter(Boolean);\n            if (Object.keys(resourceDeltasThisTick).length > 0) {\n                updateResources(resourceDeltasThisTick);\n                setResourceNodes((prevNodes)=>prevNodes.map((node)=>{\n                        const amountToDecrement = resourceDeltasThisTick[node.type];\n                        if (!amountToDecrement || amountToDecrement <= 0) return node;\n                        const newAmount = node.amount - amountToDecrement;\n                        if (newAmount <= 0) {\n                            const taskId = \"gather-\".concat(node.id);\n                            const task = tasksInProgress.find((t)=>t.id === taskId);\n                            if (task) {\n                                var _task_payload_villagerIds, _task_payload;\n                                addToLog(\"\".concat(((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 0, \" villager(s) depleted a \").concat(node.richness ? \"rich \" : \"\").concat(node.type, \" source, gaining \").concat(Math.floor(node.amount), \" \").concat(node.type, \".\"), node.type);\n                                setActivityStatus(\"A \".concat(node.richness ? \"rich \" : \"\").concat(node.type, \" source has been fully depleted.\"));\n                                completedTasks.push(task);\n                            }\n                            return null;\n                        }\n                        return {\n                            ...node,\n                            amount: newAmount\n                        };\n                    }).filter(Boolean));\n            }\n            const finalActiveTasks = tasksInProgress.filter((t)=>!completedTasks.some((ct)=>ct.id === t.id));\n            setActiveTasks(finalActiveTasks);\n            if (completedTasks.length > 0) completedTasks.forEach(handleTaskCompletion);\n            animationFrameRef.current = requestAnimationFrame(gameLoop);\n        };\n        animationFrameRef.current = requestAnimationFrame(gameLoop);\n        return ()=>{\n            if (animationFrameRef.current) cancelAnimationFrame(animationFrameRef.current);\n        };\n    }, [\n        gameState,\n        activeTasks,\n        resourceNodes,\n        handleTaskCompletion,\n        addToLog,\n        updateResources,\n        units.villagers,\n        civilization,\n        activeBuffs,\n        buildings,\n        masterBuildingList\n    ]);\n    const handleNewEvent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!civilization || currentEvent) return;\n        const event = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedGameEvent)();\n        setCurrentEvent(event);\n        setActivityStatus(\"A new event requires your attention!\");\n    }, [\n        civilization,\n        currentEvent\n    ]);\n    const scheduleNextEvent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (eventTimerRef.current) clearTimeout(eventTimerRef.current);\n        eventTimerRef.current = setTimeout(()=>handleNewEvent(), (10 + Math.random() * 15) * 1000);\n    }, [\n        handleNewEvent\n    ]);\n    const generateResourceNodes = (startPosition)=>{\n        const nodes = [];\n        const occupiedCells = new Set([\n            \"\".concat(startPosition.x, \",\").concat(startPosition.y)\n        ]);\n        const SAFE_RADIUS = 5;\n        const RICH_CHANCE = 0.15; // 15% chance for a node to be rich\n        const placeNode = function(type, amount, richness) {\n            let preferContested = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : false;\n            let placed = false;\n            for(let i = 0; i < 100; i++){\n                const angle = Math.random() * 2 * Math.PI;\n                const distance = preferContested ? SAFE_RADIUS + Math.random() * (Math.min(MAP_DIMENSIONS.width, MAP_DIMENSIONS.height) / 2 - SAFE_RADIUS) : Math.random() * SAFE_RADIUS;\n                const x = Math.round(startPosition.x + Math.cos(angle) * distance);\n                const y = Math.round(startPosition.y + Math.sin(angle) * distance);\n                if (x >= 0 && x < MAP_DIMENSIONS.width && y >= 0 && y < MAP_DIMENSIONS.height && !occupiedCells.has(\"\".concat(x, \",\").concat(y))) {\n                    nodes.push({\n                        id: \"\".concat(Date.now(), \"-node-\").concat(nodes.length),\n                        type,\n                        position: {\n                            x,\n                            y\n                        },\n                        amount,\n                        richness\n                    });\n                    occupiedCells.add(\"\".concat(x, \",\").concat(y));\n                    placed = true;\n                    break;\n                }\n            }\n            return placed;\n        };\n        const safeResources = masterResourceList.filter((r)=>r.spawnInSafeZone);\n        const contestedResources = masterResourceList.filter((r)=>!r.spawnInSafeZone);\n        // Place safe resources\n        safeResources.forEach((res)=>{\n            for(let i = 0; i < 3; i++){\n                placeNode(res.id, 800 + Math.random() * 400, Math.random() < RICH_CHANCE ? 1.5 : 1, false);\n            }\n        });\n        // Place contested resources\n        contestedResources.forEach((res)=>{\n            for(let i = 0; i < 2; i++){\n                placeNode(res.id, 1000 + Math.random() * 500, Math.random() < RICH_CHANCE ? 2 : 1, true);\n            }\n        });\n        return nodes;\n    };\n    const handleStartNewGame = async (saveName)=>{\n        var _localAgeProgressionList_;\n        if (allSaves.includes(saveName)) {\n            addNotification('A saga named \"'.concat(saveName, '\" already exists.'));\n            return;\n        }\n        const configs = await fetchSavesAndConfigs();\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n        setCurrentSaveName(saveName);\n        const localAgeProgressionList = configs.allAgeConfigs.filter((a)=>a.isActive);\n        const civ = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedCivilization)();\n        setCivilization(civ);\n        const initialRes = {};\n        configs.allResourceConfigs.forEach((res)=>{\n            if (res.isActive) initialRes[res.id] = res.initialAmount;\n        });\n        setResources(initialRes);\n        const initialVillagers = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", 3).map((name)=>({\n                id: \"\".concat(Date.now(), \"-\").concat(name),\n                name,\n                currentTask: null\n            }));\n        setUnits({\n            villagers: initialVillagers,\n            military: []\n        });\n        const tcPosition = {\n            x: Math.floor(MAP_DIMENSIONS.width / 2),\n            y: Math.floor(MAP_DIMENSIONS.height / 2)\n        };\n        const tcInfo = configs.allBuildingConfigs.find((b)=>b.id === \"townCenter\");\n        const initialTC = {\n            id: \"\".concat(Date.now(), \"-tc\"),\n            name: (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1)[0],\n            position: tcPosition,\n            currentHp: tcInfo.hp\n        };\n        setBuildings({\n            ...initialBuildingsState,\n            townCenter: [\n                initialTC\n            ]\n        });\n        setResourceNodes(generateResourceNodes(tcPosition));\n        setCurrentAge(((_localAgeProgressionList_ = localAgeProgressionList[0]) === null || _localAgeProgressionList_ === void 0 ? void 0 : _localAgeProgressionList_.name) || _data_ageInfo__WEBPACK_IMPORTED_MODULE_7__.INITIAL_AGES[0].name);\n        setGameLog([]);\n        setCurrentEvent(null);\n        setUnlimitedResources(false);\n        setActiveTasks([]);\n        setInventory([]);\n        setActiveBuffs({\n            resourceBoost: []\n        });\n        setCompletedResearch([]);\n        addToLog(\"\".concat(civ.name, \" has been founded!\"), \"system\");\n        addToLog(\"Your story begins...\", \"system\");\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING);\n        setActivityStatus(\"Your settlement awaits your command.\");\n    };\n    const isVillagerBusy = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((villagerId)=>{\n        var _units_villagers_find;\n        return !!((_units_villagers_find = units.villagers.find((v)=>v.id === villagerId)) === null || _units_villagers_find === void 0 ? void 0 : _units_villagers_find.currentTask);\n    }, [\n        units.villagers\n    ]);\n    const getVillagerTaskDetails = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((villagerId)=>{\n        var _buildingList_find, _resourceNodes_find;\n        const villager = units.villagers.find((v)=>v.id === villagerId);\n        if (!(villager === null || villager === void 0 ? void 0 : villager.currentTask)) return \"Idle\";\n        const task = activeTasks.find((t)=>t.id === villager.currentTask);\n        if (!task) return \"Idle (Finalizing Task)\";\n        if (task.type === \"build\") return \"Busy: Constructing \".concat(((_buildingList_find = buildingList.find((b)=>b.id === task.payload.buildingType)) === null || _buildingList_find === void 0 ? void 0 : _buildingList_find.name) || \"a building\");\n        if (task.type === \"gather\") return \"Busy: Gathering \".concat(((_resourceNodes_find = resourceNodes.find((n)=>n.id === task.payload.resourceNodeId)) === null || _resourceNodes_find === void 0 ? void 0 : _resourceNodes_find.type) || \"resources\");\n        return \"Idle\";\n    }, [\n        activeTasks,\n        resourceNodes,\n        units.villagers,\n        buildingList\n    ]);\n    const handleResumeGame = async (saveName)=>{\n        const configs = await fetchSavesAndConfigs();\n        const savedState = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.loadGameState)(saveName);\n        if (savedState) {\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n            setCurrentSaveName(saveName);\n            setCivilization(savedState.civilization);\n            setResources(savedState.resources);\n            const migratedVillagers = (savedState.units.villagers || []).map((v)=>({\n                    ...v,\n                    currentTask: v.currentTask !== undefined ? v.currentTask : null\n                }));\n            const migratedTasks = (savedState.activeTasks || []).map((t)=>{\n                var _t_payload;\n                return t.type === \"build\" && !((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.villagerIds) ? {\n                    ...t,\n                    payload: {\n                        ...t.payload,\n                        villagerIds: []\n                    }\n                } : t;\n            });\n            migratedTasks.forEach((task)=>{\n                var _task_payload_villagerIds, _task_payload;\n                return (_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.forEach((vid)=>{\n                    const v = migratedVillagers.find((v)=>v.id === vid);\n                    if (v) v.currentTask = task.id;\n                });\n            });\n            setUnits({\n                ...savedState.units,\n                villagers: migratedVillagers\n            });\n            const constructionTasks = migratedTasks.filter((t)=>t.type === \"build\");\n            const occupiedCells = new Set([\n                ...Object.values(savedState.buildings || {}).flat().map((b)=>\"\".concat(b.position.x, \",\").concat(b.position.y)),\n                ...constructionTasks.map((t)=>\"\".concat(t.payload.position.x, \",\").concat(t.payload.position.y))\n            ]);\n            let finalBuildings = {\n                ...initialBuildingsState,\n                ...savedState.buildings || {}\n            };\n            Object.keys(finalBuildings).forEach((bType)=>{\n                const info = configs.allBuildingConfigs.find((b)=>b.id === bType);\n                if (info) finalBuildings[bType] = finalBuildings[bType].map((b)=>({\n                        ...b,\n                        currentHp: b.currentHp === undefined ? info.hp : b.currentHp\n                    }));\n            });\n            let tcPosition = {\n                x: 10,\n                y: 5\n            };\n            if (!finalBuildings.townCenter || finalBuildings.townCenter.length === 0) {\n                while(occupiedCells.has(\"\".concat(tcPosition.x, \",\").concat(tcPosition.y))){\n                    tcPosition.x++;\n                }\n                const tcInfo = configs.allBuildingConfigs.find((b)=>b.id === \"townCenter\");\n                finalBuildings.townCenter = [\n                    {\n                        id: \"\".concat(Date.now(), \"-tc\"),\n                        name: (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1)[0],\n                        position: tcPosition,\n                        currentHp: tcInfo.hp\n                    }\n                ];\n                occupiedCells.add(\"\".concat(tcPosition.x, \",\").concat(tcPosition.y));\n            } else {\n                tcPosition = finalBuildings.townCenter[0].position;\n            }\n            setBuildings(finalBuildings);\n            setResourceNodes((savedState.resourceNodes || []).length === 0 ? generateResourceNodes(tcPosition) : savedState.resourceNodes || []);\n            setCurrentAge(savedState.currentAge);\n            setGameLog(savedState.gameLog);\n            setActiveTasks(migratedTasks);\n            setInventory(savedState.inventory || []);\n            setActiveBuffs(savedState.activeBuffs || {\n                resourceBoost: []\n            });\n            setCompletedResearch(savedState.completedResearch || []);\n            setCurrentEvent(null);\n            setActivityStatus(\"Welcome back to your saga.\");\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING);\n        } else {\n            addNotification('Could not find a saved game named \"'.concat(saveName, '\".'));\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState !== _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING) return;\n        if (!currentEvent) scheduleNextEvent();\n        else if (eventTimerRef.current) clearTimeout(eventTimerRef.current);\n        return ()=>{\n            if (eventTimerRef.current) clearTimeout(eventTimerRef.current);\n        };\n    }, [\n        gameState,\n        currentEvent,\n        scheduleNextEvent\n    ]);\n    const handleEventChoice = (choice)=>{\n        if (choice.cost) {\n            const missing = Object.keys(choice.cost).filter((res)=>(resources[res] || 0) < (choice.cost[res] || 0));\n            if (missing.length > 0) {\n                addNotification(\"You lack the required resources: \".concat(missing.join(\", \"), \".\"));\n                return;\n            }\n            updateResources(Object.entries(choice.cost).reduce((acc, param)=>{\n                let [k, v] = param;\n                return {\n                    ...acc,\n                    [k]: -(v || 0)\n                };\n            }, {}));\n        }\n        const isSuccess = choice.successChance === undefined || Math.random() < choice.successChance;\n        const effects = isSuccess ? choice.successEffects : choice.failureEffects;\n        if (!effects) {\n            setCurrentEvent(null);\n            scheduleNextEvent();\n            return;\n        }\n        let logMessage = 'Decision: \"'.concat(choice.text, '\". Outcome: ').concat(isSuccess ? \"Success\" : \"Failure\", \". \").concat(effects.log);\n        effects.rewards.forEach((reward)=>{\n            if (reward.type === \"resource\") {\n                const amount = Array.isArray(reward.amount) ? Math.floor(Math.random() * (reward.amount[1] - reward.amount[0] + 1)) + reward.amount[0] : reward.amount;\n                if (amount !== 0) {\n                    updateResources({\n                        [reward.resource]: amount\n                    });\n                    logMessage += \" You \".concat(amount > 0 ? \"gained\" : \"lost\", \" \").concat(Math.abs(amount), \" \").concat(reward.resource, \".\");\n                }\n            } else if (reward.type === \"item\") {\n                const itemInfo = _data_itemContent__WEBPACK_IMPORTED_MODULE_6__.GAME_ITEMS[reward.itemId];\n                if (itemInfo) {\n                    const newItems = Array.from({\n                        length: reward.amount\n                    }, (_, i)=>({\n                            ...itemInfo,\n                            id: \"\".concat(reward.itemId, \"-\").concat(Date.now(), \"-\").concat(i)\n                        }));\n                    setInventory((prev)=>[\n                            ...prev,\n                            ...newItems\n                        ]);\n                    logMessage += \" You received \".concat(reward.amount, \"x \").concat(itemInfo.name, \"!\");\n                }\n            } else if (reward.type === \"unit\" && reward.unitType === \"villager\") {\n                const newVillagers = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", reward.amount).map((name)=>({\n                        id: \"\".concat(Date.now(), \"-\").concat(name),\n                        name,\n                        currentTask: null\n                    }));\n                setUnits((p)=>({\n                        ...p,\n                        villagers: [\n                            ...p.villagers,\n                            ...newVillagers\n                        ]\n                    }));\n                logMessage += \" You gained \".concat(reward.amount, \" villager(s).\");\n            } else if (reward.type === \"building\") {\n                const buildingInfo = buildingList.find((b)=>b.id === reward.buildingId);\n                if (buildingInfo) {\n                    const occupiedCells = new Set();\n                    Object.values(buildings).flat().forEach((b)=>occupiedCells.add(\"\".concat(b.position.x, \",\").concat(b.position.y)));\n                    activeTasks.filter((t)=>t.type === \"build\").forEach((t)=>{\n                        var _t_payload;\n                        return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.position) && occupiedCells.add(\"\".concat(t.payload.position.x, \",\").concat(t.payload.position.y));\n                    });\n                    resourceNodes.forEach((n)=>occupiedCells.add(\"\".concat(n.position.x, \",\").concat(n.position.y)));\n                    let placed = false;\n                    for(let i = 0; i < MAP_DIMENSIONS.width * MAP_DIMENSIONS.height; i++){\n                        const x = Math.floor(Math.random() * MAP_DIMENSIONS.width);\n                        const y = Math.floor(Math.random() * MAP_DIMENSIONS.height);\n                        if (!occupiedCells.has(\"\".concat(x, \",\").concat(y))) {\n                            const [name] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n                            const newBuilding = {\n                                id: \"reward-\".concat(Date.now()),\n                                name,\n                                position: {\n                                    x,\n                                    y\n                                },\n                                currentHp: buildingInfo.hp\n                            };\n                            setBuildings((p)=>({\n                                    ...p,\n                                    [reward.buildingId]: [\n                                        ...p[reward.buildingId] || [],\n                                        newBuilding\n                                    ]\n                                }));\n                            logMessage += \" You were gifted a new \".concat(buildingInfo.name, \"!\");\n                            placed = true;\n                            break;\n                        }\n                    }\n                    if (!placed) logMessage += \" You were to be gifted a \".concat(buildingInfo.name, \", but there was no room to build it!\");\n                }\n            }\n        });\n        addToLog(logMessage, \"event\");\n        setActivityStatus(effects.log);\n        setCurrentEvent(null);\n        scheduleNextEvent();\n    };\n    const handleInitiateBuild = (villagerId, rect)=>{\n        if (isVillagerBusy(villagerId)) {\n            addNotification(\"This villager is already busy.\");\n            return;\n        }\n        setBuildPanelState({\n            isOpen: true,\n            villagerId,\n            anchorRect: rect\n        });\n        setUnitManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleStartPlacement = (buildingId)=>{\n        var _buildings_buildingInfo_id;\n        const villagerId = buildPanelState.villagerId;\n        if (!villagerId) return;\n        const buildingInfo = buildingList.find((b)=>b.id === buildingId);\n        if (!buildingInfo) return;\n        const existingCount = ((_buildings_buildingInfo_id = buildings[buildingInfo.id]) === null || _buildings_buildingInfo_id === void 0 ? void 0 : _buildings_buildingInfo_id.length) || 0;\n        const constructingCount = activeTasks.filter((t)=>{\n            var _t_payload;\n            return t.type === \"build\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.buildingType) === buildingInfo.id;\n        }).length;\n        const totalCount = existingCount + constructingCount;\n        const limit = buildingInfo.buildLimit || 0;\n        if (limit > 0 && totalCount >= limit) {\n            addNotification(\"You have reached the build limit for \".concat(buildingInfo.name, \" (\").concat(limit, \").\"));\n            return;\n        }\n        const missing = unlimitedResources ? [] : Object.keys(buildingInfo.cost).filter((res)=>(resources[res] || 0) < (buildingInfo.cost[res] || 0));\n        if (missing.length > 0) {\n            addNotification(\"Need more \".concat(missing.join(\", \"), \".\"));\n            return;\n        }\n        setPlayerAction({\n            mode: \"build\",\n            buildingType: buildingId,\n            villagerId\n        });\n        setBuildPanelState({\n            isOpen: false,\n            villagerId: null,\n            anchorRect: null\n        });\n        setActivityStatus(\"Select a location to build a \".concat(buildingInfo.name, \". Right-click to cancel.\"));\n    };\n    const handleConfirmPlacement = (position)=>{\n        if ((playerAction === null || playerAction === void 0 ? void 0 : playerAction.mode) !== \"build\") return;\n        const { buildingType, villagerId } = playerAction;\n        const buildingInfo = buildingList.find((b)=>b.id === buildingType);\n        const builder = units.villagers.find((v)=>v.id === villagerId);\n        if (!buildingInfo || !builder) return;\n        if (!unlimitedResources) updateResources(Object.entries(buildingInfo.cost).reduce((acc, param)=>{\n            let [k, v] = param;\n            return {\n                ...acc,\n                [k]: -(v || 0)\n            };\n        }, {}));\n        let buildTime = buildingInfo.buildTime * 1000;\n        if (activeBuffs.buildTimeReduction) {\n            buildTime *= 1 - activeBuffs.buildTimeReduction.percentage;\n            addToLog(\"A Builder's Charm reduced construction time by \".concat(activeBuffs.buildTimeReduction.percentage * 100, \"%!\"), \"item\");\n            setActiveBuffs((prev)=>({\n                    ...prev,\n                    buildTimeReduction: prev.buildTimeReduction.uses - 1 > 0 ? {\n                        ...prev.buildTimeReduction,\n                        uses: prev.buildTimeReduction.uses - 1\n                    } : undefined\n                }));\n        }\n        const taskId = \"\".concat(Date.now(), \"-build-\").concat(buildingType);\n        const taskPayload = {\n            buildingType,\n            villagerIds: [\n                villagerId\n            ],\n            position\n        };\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: taskId,\n                type: \"build\",\n                startTime: 0,\n                duration: 0,\n                payload: {\n                    ...taskPayload,\n                    position\n                }\n            });\n        } else {\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: taskId,\n                        type: \"build\",\n                        startTime: Date.now(),\n                        duration: buildTime,\n                        payload: taskPayload\n                    }\n                ]);\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>v.id === villagerId ? {\n                            ...v,\n                            currentTask: taskId\n                        } : v)\n                }));\n            setActivityStatus(\"\".concat(builder.name, \" has started constructing a \").concat(buildingInfo.name, \".\"));\n            addToLog(\"\".concat(builder.name, \" began construction of a new \").concat(buildingInfo.name, \".\"), buildingInfo.iconId);\n        }\n        setPlayerAction(null);\n    };\n    const handleCancelPlayerAction = ()=>{\n        setPlayerAction(null);\n        setActivityStatus(\"Command cancelled.\");\n    };\n    const handleDemolishBuilding = (type, id)=>{\n        if (type === \"townCenter\") {\n            addNotification(\"The Town Center is the heart of your civilization and cannot be demolished.\");\n            return;\n        }\n        if (activeTasks.some((task)=>{\n            var _task_payload, _task_payload1;\n            return ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingId) === id || task.type === \"upgrade_building\" && ((_task_payload1 = task.payload) === null || _task_payload1 === void 0 ? void 0 : _task_payload1.originalBuildingId) === id;\n        })) {\n            addNotification(\"Cannot demolish a building with an active task (e.g., training or upgrading).\");\n            return;\n        }\n        const buildingInfo = buildingList.find((b)=>b.id === type);\n        const buildingInstance = buildings[type].find((b)=>b.id === id);\n        if (!buildingInfo || !buildingInstance) return;\n        const capacityLost = buildingInfo.populationCapacity || 0;\n        if (capacityLost > 0 && population.current > populationCapacity - capacityLost) {\n            addNotification(\"Cannot demolish this building, your people would be homeless.\");\n            return;\n        }\n        const refund = Object.entries(buildingInfo.cost).reduce((acc, param)=>{\n            let [res, cost] = param;\n            const amount = Math.floor((cost || 0) * 0.5);\n            if (amount > 0) acc[res] = amount;\n            return acc;\n        }, {});\n        if (Object.keys(refund).length > 0) {\n            updateResources(refund);\n            addNotification(\"Salvaged \".concat(Object.entries(refund).map((param)=>{\n                let [r, a] = param;\n                return \"\".concat(a, \" \").concat(r);\n            }).join(\", \"), \".\"));\n        }\n        setBuildings((prev)=>({\n                ...prev,\n                [type]: prev[type].filter((b)=>b.id !== id)\n            }));\n        addToLog(\"\".concat(buildingInstance.name, \" (\").concat(buildingInfo.name, \") was demolished.\"), buildingInfo.iconId);\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            instanceId: null,\n            anchorRect: null\n        });\n    };\n    const handleUpdateBuilding = (type, id, name)=>{\n        setBuildings((prev)=>({\n                ...prev,\n                [type]: prev[type].map((b)=>b.id === id ? {\n                        ...b,\n                        name\n                    } : b)\n            }));\n        addNotification(\"Building renamed.\");\n    };\n    const handleUpgradeBuilding = (building, upgradePath)=>{\n        if (!unlimitedResources) {\n            const missing = Object.keys(upgradePath.cost).filter((res)=>(resources[res] || 0) < (upgradePath.cost[res] || 0));\n            if (missing.length > 0) {\n                addNotification(\"Need more \".concat(missing.join(\", \"), \".\"));\n                return;\n            }\n            updateResources(Object.entries(upgradePath.cost).reduce((acc, param)=>{\n                let [k, v] = param;\n                return {\n                    ...acc,\n                    [k]: -(v || 0)\n                };\n            }, {}));\n        }\n        const originalBuildingType = Object.keys(buildings).find((type)=>buildings[type].some((b)=>b.id === building.id));\n        const taskPayload = {\n            originalBuildingId: building.id,\n            originalBuildingType,\n            targetBuildingType: upgradePath.id\n        };\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: \"instant\",\n                type: \"upgrade_building\",\n                startTime: 0,\n                duration: 0,\n                payload: taskPayload\n            });\n        } else {\n            var _buildingList_find;\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: \"\".concat(Date.now(), \"-upgrade-\").concat(building.id),\n                        type: \"upgrade_building\",\n                        startTime: Date.now(),\n                        duration: upgradePath.time * 1000,\n                        payload: taskPayload\n                    }\n                ]);\n            addToLog(\"Upgrading \".concat(building.name, \" to a \").concat((_buildingList_find = buildingList.find((b)=>b.id === upgradePath.id)) === null || _buildingList_find === void 0 ? void 0 : _buildingList_find.name, \".\"), \"system\");\n            setActivityStatus(\"Upgrading \".concat(building.name, \"...\"));\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            instanceId: null,\n            anchorRect: null\n        });\n    };\n    const handleTrainVillagers = (count)=>{\n        var _buildings_townCenter;\n        if (activeTasks.some((t)=>t.type === \"train_villager\") || count <= 0) return;\n        if (population.current + count > population.capacity) {\n            addNotification(\"Need space for \".concat(count, \" more villagers.\"));\n            return;\n        }\n        if (!((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter[0])) {\n            addNotification(\"No Town Center to train villagers.\");\n            return;\n        }\n        if (!unlimitedResources) {\n            const totalCost = 50 * count;\n            if ((resources.food || 0) < totalCost) {\n                addNotification(\"Need \".concat(totalCost - (resources.food || 0), \" more Food.\"));\n                return;\n            }\n            updateResources({\n                food: -totalCost\n            });\n        }\n        if (unlimitedResources) handleTaskCompletion({\n            id: \"instant\",\n            type: \"train_villager\",\n            startTime: 0,\n            duration: 0,\n            payload: {\n                count\n            }\n        });\n        else {\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: \"\".concat(Date.now(), \"-train-villager\"),\n                        type: \"train_villager\",\n                        startTime: Date.now(),\n                        duration: 10000 * count,\n                        payload: {\n                            count,\n                            buildingId: buildings.townCenter[0].id\n                        }\n                    }\n                ]);\n            setActivityStatus(\"Training \".concat(count, \" villager(s)...\"));\n            addToLog(\"Began training \".concat(count, \" new villager(s).\"), \"villager\");\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            instanceId: null,\n            anchorRect: null\n        });\n    };\n    const handleTrainUnits = (unitType, count)=>{\n        var _buildings_unitInfo_requiredBuilding;\n        const unitInfo = unitList.find((u)=>u.id === unitType);\n        if (!unitInfo || activeTasks.some((t)=>{\n            var _t_payload;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.unitType) === unitType;\n        }) || count <= 0) return;\n        const totalPopulationCost = (unitInfo.populationCost || 1) * count;\n        if (population.current + totalPopulationCost > population.capacity) {\n            addNotification(\"Need space for \".concat(totalPopulationCost, \" more population.\"));\n            return;\n        }\n        // Check for required buildings\n        const trainingBuilding = (_buildings_unitInfo_requiredBuilding = buildings[unitInfo.requiredBuilding]) === null || _buildings_unitInfo_requiredBuilding === void 0 ? void 0 : _buildings_unitInfo_requiredBuilding[0];\n        if (!trainingBuilding) {\n            var _buildingList_find;\n            addNotification(\"No \".concat((_buildingList_find = buildingList.find((b)=>b.id === unitInfo.requiredBuilding)) === null || _buildingList_find === void 0 ? void 0 : _buildingList_find.name, \" to train units.\"));\n            return;\n        }\n        if (unitInfo.requiredBuildingIds && unitInfo.requiredBuildingIds.length > 0) {\n            const missingBuildings = unitInfo.requiredBuildingIds.filter((reqId)=>{\n                var _buildings_reqId;\n                return !((_buildings_reqId = buildings[reqId]) === null || _buildings_reqId === void 0 ? void 0 : _buildings_reqId.length);\n            });\n            if (missingBuildings.length > 0) {\n                const missingNames = missingBuildings.map((id)=>{\n                    var _buildingList_find;\n                    return ((_buildingList_find = buildingList.find((b)=>b.id === id)) === null || _buildingList_find === void 0 ? void 0 : _buildingList_find.name) || id;\n                }).join(\", \");\n                addNotification(\"Training this unit requires: \".concat(missingNames, \".\"));\n                return;\n            }\n        }\n        // Check for required research\n        if (unitInfo.requiredResearchIds && unitInfo.requiredResearchIds.length > 0) {\n            const missingResearch = unitInfo.requiredResearchIds.filter((reqId)=>!completedResearch.includes(reqId));\n            if (missingResearch.length > 0) {\n                const missingNames = missingResearch.map((id)=>{\n                    var _masterResearchList_find;\n                    return ((_masterResearchList_find = masterResearchList.find((r)=>r.id === id)) === null || _masterResearchList_find === void 0 ? void 0 : _masterResearchList_find.name) || id;\n                }).join(\", \");\n                addNotification(\"Training this unit requires research: \".concat(missingNames, \".\"));\n                return;\n            }\n        }\n        if (!unlimitedResources) {\n            const missing = Object.keys(unitInfo.cost).filter((res)=>(resources[res] || 0) < (unitInfo.cost[res] || 0) * count);\n            if (missing.length > 0) {\n                addNotification(\"Need more \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n            updateResources(Object.entries(unitInfo.cost).reduce((acc, param)=>{\n                let [k, v] = param;\n                return {\n                    ...acc,\n                    [k]: -(v || 0) * count\n                };\n            }, {}));\n        }\n        let trainTime = unitInfo.trainTime * 1000 * count;\n        if (activeBuffs.permanentTrainTimeReduction) trainTime *= 1 - activeBuffs.permanentTrainTimeReduction;\n        if (activeBuffs.trainTimeReduction) {\n            const applicable = Math.min(count, activeBuffs.trainTimeReduction.uses);\n            trainTime = unitInfo.trainTime * 1000 * applicable * (1 - activeBuffs.trainTimeReduction.percentage) + unitInfo.trainTime * 1000 * (count - applicable);\n            if (activeBuffs.trainTimeReduction.uses - applicable > 0) setActiveBuffs((prev)=>({\n                    ...prev,\n                    trainTimeReduction: {\n                        ...prev.trainTimeReduction,\n                        uses: prev.trainTimeReduction.uses - applicable\n                    }\n                }));\n            else {\n                setActiveBuffs((prev)=>({\n                        ...prev,\n                        trainTimeReduction: undefined\n                    }));\n                addToLog(\"The Drillmaster's Whistle buff has been fully used.\", \"item\");\n            }\n        }\n        if (unlimitedResources) handleTaskCompletion({\n            id: \"instant\",\n            type: \"train_military\",\n            startTime: 0,\n            duration: 0,\n            payload: {\n                unitType,\n                count\n            }\n        });\n        else {\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: \"\".concat(Date.now(), \"-train-\").concat(unitType),\n                        type: \"train_military\",\n                        startTime: Date.now(),\n                        duration: trainTime,\n                        payload: {\n                            unitType,\n                            count,\n                            buildingId: trainingBuilding.id\n                        }\n                    }\n                ]);\n            setActivityStatus(\"Training \".concat(count, \" \").concat(unitInfo.name, \"(s)...\"));\n            addToLog(\"Began training \".concat(count, \" new \").concat(unitInfo.name, \"(s).\"), unitType);\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            instanceId: null,\n            anchorRect: null\n        });\n    };\n    const handleDismissSpecificUnit = (type, id)=>{\n        if (type === \"villagers\" && isVillagerBusy(id)) {\n            addNotification(\"Cannot dismiss a busy villager.\");\n            return;\n        }\n        const unit = units[type].find((u)=>u.id === id);\n        if (!unit) return;\n        if (type === \"villagers\" && units.villagers.length <= 1) {\n            addNotification(\"Cannot dismiss your last villager.\");\n            return;\n        }\n        setUnits((prev)=>({\n                ...prev,\n                [type]: prev[type].filter((u)=>u.id !== id)\n            }));\n        const unitTypeName = type === \"villagers\" ? \"villager\" : unit.unitType;\n        addToLog(\"\".concat(unit.name, \" the \").concat(unitTypeName, \" has been dismissed.\"), type === \"villagers\" ? \"villager\" : unit.unitType);\n        addNotification(\"\".concat(unit.name, \" was dismissed.\"));\n    };\n    const handleUpdateUnit = (type, id, name, title)=>{\n        setUnits((prev)=>({\n                ...prev,\n                [type]: prev[type].map((u)=>u.id === id ? type === \"military\" && title !== undefined ? {\n                        ...u,\n                        name,\n                        title\n                    } : {\n                        ...u,\n                        name\n                    } : u)\n            }));\n        addNotification(\"Unit updated.\");\n    };\n    const handleAssignVillagersToConstruction = (constructionId, count)=>{\n        var _task_payload_villagerIds, _task_payload, _task_payload_villagerIds1, _task_payload1;\n        const idleVillagers = units.villagers.filter((v)=>!v.currentTask);\n        if (count <= 0 || idleVillagers.length === 0) {\n            addNotification(\"No idle villagers available.\");\n            return;\n        }\n        const task = activeTasks.find((t)=>t.id === constructionId);\n        if (!task || task.type !== \"build\") return;\n        const buildingInfo = buildingList.find((b)=>{\n            var _task_payload;\n            return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n        });\n        if (!buildingInfo) return;\n        const cappedCount = Math.min(count, idleVillagers.length);\n        const villagersToAssign = idleVillagers.slice(0, cappedCount).map((v)=>v.id);\n        const workDone = (Date.now() - task.startTime) * (((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 1);\n        const workRemaining = Math.max(0, buildingInfo.buildTime * 1000 - workDone);\n        const newWorkerCount = (((_task_payload1 = task.payload) === null || _task_payload1 === void 0 ? void 0 : (_task_payload_villagerIds1 = _task_payload1.villagerIds) === null || _task_payload_villagerIds1 === void 0 ? void 0 : _task_payload_villagerIds1.length) || 0) + cappedCount;\n        const newRemainingDuration = workRemaining / newWorkerCount;\n        setUnits((prev)=>({\n                ...prev,\n                villagers: prev.villagers.map((v)=>villagersToAssign.includes(v.id) ? {\n                        ...v,\n                        currentTask: constructionId\n                    } : v)\n            }));\n        setActiveTasks((prev)=>prev.map((t)=>t.id === constructionId ? {\n                    ...t,\n                    startTime: Date.now(),\n                    duration: newRemainingDuration,\n                    payload: {\n                        ...t.payload,\n                        villagerIds: [\n                            ...t.payload.villagerIds,\n                            ...villagersToAssign\n                        ]\n                    }\n                } : t));\n        addToLog(\"\".concat(cappedCount, \" villager(s) are now assisting with the \").concat(buildingInfo.name, \".\"), buildingInfo.iconId);\n        setActivityStatus(\"Construction of the \".concat(buildingInfo.name, \" is now faster.\"));\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleAssignVillagers = (targetId, count)=>{\n        if (assignmentPanelState.targetType === \"construction\") return handleAssignVillagersToConstruction(targetId, count);\n        const idleVillagers = units.villagers.filter((v)=>!v.currentTask);\n        if (count <= 0 || idleVillagers.length === 0) {\n            addNotification(\"No idle villagers available.\");\n            return;\n        }\n        const targetNode = resourceNodes.find((n)=>n.id === targetId);\n        if (!targetNode) return;\n        const cappedCount = Math.min(count, idleVillagers.length);\n        const villagersToAssign = idleVillagers.slice(0, cappedCount).map((v)=>v.id);\n        const taskId = \"gather-\".concat(targetId);\n        const existingTask = activeTasks.find((t)=>t.id === taskId);\n        if (unlimitedResources) {\n            updateResources({\n                [targetNode.type]: targetNode.amount\n            });\n            addToLog(\"\".concat(cappedCount, \" villager(s) instantly gathered \").concat(Math.floor(targetNode.amount), \" \").concat(targetNode.type, \".\"), targetNode.type);\n            setResourceNodes((prev)=>prev.filter((n)=>n.id !== targetId));\n        } else {\n            if (existingTask) setActiveTasks((prev)=>prev.map((t)=>t.id === taskId ? {\n                        ...t,\n                        payload: {\n                            ...t.payload,\n                            villagerIds: [\n                                ...new Set([\n                                    ...t.payload.villagerIds,\n                                    ...villagersToAssign\n                                ])\n                            ]\n                        }\n                    } : t));\n            else setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: taskId,\n                        type: \"gather\",\n                        startTime: Date.now(),\n                        duration: 999999999,\n                        payload: {\n                            resourceNodeId: targetId,\n                            villagerIds: villagersToAssign\n                        }\n                    }\n                ]);\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>villagersToAssign.includes(v.id) ? {\n                            ...v,\n                            currentTask: taskId\n                        } : v)\n                }));\n        }\n        addToLog(\"\".concat(cappedCount, \" villager(s) assigned to gather \").concat(targetNode.type, \".\"), targetNode.type);\n        setActivityStatus(\"\".concat(cappedCount, \" villager(s) are now gathering \").concat(targetNode.type, \".\"));\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleRecallVillagers = (targetId, count, type)=>{\n        var _task_payload_villagerIds, _task_payload;\n        const taskId = type === \"resource\" ? \"gather-\".concat(targetId) : targetId;\n        const task = activeTasks.find((t)=>t.id === taskId);\n        var _task_payload_villagerIds_length;\n        if (!task || ((_task_payload_villagerIds_length = (_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) !== null && _task_payload_villagerIds_length !== void 0 ? _task_payload_villagerIds_length : 0) < count) return;\n        const villagersToRecall = task.payload.villagerIds.slice(task.payload.villagerIds.length - count);\n        if (type === \"construction\" && villagersToRecall.length === task.payload.villagerIds.length) {\n            addNotification(\"Cannot recall the last builder from a project.\");\n            return;\n        }\n        setUnits((prev)=>({\n                ...prev,\n                villagers: prev.villagers.map((v)=>villagersToRecall.includes(v.id) ? {\n                        ...v,\n                        currentTask: null\n                    } : v)\n            }));\n        const remainingVillagers = task.payload.villagerIds.filter((id)=>!villagersToRecall.includes(id));\n        if (remainingVillagers.length === 0) {\n            setActiveTasks((prev)=>prev.filter((t)=>t.id !== taskId));\n            if (type === \"resource\") {\n                const node = resourceNodes.find((n)=>n.id === targetId);\n                if (node) addToLog(\"All villagers recalled from gathering \".concat(node.type, \".\"), \"villager\");\n            }\n        } else {\n            const buildingInfo = buildingList.find((b)=>{\n                var _task_payload;\n                return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n            });\n            const workDone = (Date.now() - task.startTime) * task.payload.villagerIds.length;\n            const newRemainingDuration = (buildingInfo.buildTime * 1000 - workDone) / remainingVillagers.length;\n            setActiveTasks((prev)=>prev.map((t)=>t.id === taskId ? {\n                        ...t,\n                        startTime: Date.now(),\n                        duration: newRemainingDuration,\n                        payload: {\n                            ...t.payload,\n                            villagerIds: remainingVillagers\n                        }\n                    } : t));\n            if (type === \"construction\") addToLog(\"\".concat(count, \" builder(s) recalled. Construction will now be slower.\"), \"villager\");\n        }\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleAdvanceAge = async ()=>{\n        if (activeTasks.some((t)=>t.type === \"advance_age\")) {\n            addNotification(\"Advancement already in progress.\");\n            return;\n        }\n        if (!unlimitedResources) {\n            const missing = [];\n            if ((resources.food || 0) < 500) missing.push(\"\".concat(500 - (resources.food || 0), \" Food\"));\n            if ((resources.gold || 0) < 200) missing.push(\"\".concat(200 - (resources.gold || 0), \" Gold\"));\n            if (missing.length > 0) {\n                addNotification(\"To advance, you need \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n            updateResources({\n                food: -500,\n                gold: -200\n            });\n        }\n        const activeAges = masterAgeList.filter((a)=>a.isActive);\n        const currentIndex = activeAges.findIndex((age)=>age.name === currentAge);\n        if (currentIndex === -1 || currentIndex + 1 >= activeAges.length) {\n            addNotification(\"You have reached the final available age.\");\n            return;\n        }\n        if (unlimitedResources) handleTaskCompletion({\n            id: \"instant\",\n            type: \"advance_age\",\n            startTime: 0,\n            duration: 0,\n            payload: {}\n        });\n        else {\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: \"\".concat(Date.now(), \"-advance_age\"),\n                        type: \"advance_age\",\n                        startTime: Date.now(),\n                        duration: 60000\n                    }\n                ]);\n            setActivityStatus(\"Your people begin the long journey to a new age.\");\n            setBuildingManagementPanel({\n                isOpen: false,\n                type: null,\n                instanceId: null,\n                anchorRect: null\n            });\n        }\n    };\n    const handleStartResearch = (researchId)=>{\n        const researchInfo = masterResearchList.find((r)=>r.id === researchId);\n        if (!researchInfo || activeTasks.some((t)=>{\n            var _t_payload;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.researchId) === researchId;\n        })) return;\n        if (!unlimitedResources) {\n            const missing = Object.keys(researchInfo.cost).filter((res)=>(resources[res] || 0) < (researchInfo.cost[res] || 0));\n            if (missing.length > 0) {\n                addNotification(\"Need more \".concat(missing.join(\", \"), \".\"));\n                return;\n            }\n            updateResources(Object.entries(researchInfo.cost).reduce((acc, param)=>{\n                let [k, v] = param;\n                return {\n                    ...acc,\n                    [k]: -(v || 0)\n                };\n            }, {}));\n        }\n        const taskPayload = {\n            researchId\n        };\n        if (unlimitedResources) handleTaskCompletion({\n            id: \"instant\",\n            type: \"research\",\n            startTime: 0,\n            duration: 0,\n            payload: taskPayload\n        });\n        else {\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: \"\".concat(Date.now(), \"-research-\").concat(researchId),\n                        type: \"research\",\n                        startTime: Date.now(),\n                        duration: researchInfo.researchTime * 1000,\n                        payload: taskPayload\n                    }\n                ]);\n            setActivityStatus(\"Researching \".concat(researchInfo.name, \"...\"));\n            addToLog(\"Began research for \".concat(researchInfo.name, \".\"), researchInfo.iconId);\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            instanceId: null,\n            anchorRect: null\n        });\n        setResearchPanelState({\n            isOpen: false,\n            anchorRect: null\n        });\n    };\n    const handleExitGame = async ()=>{\n        setCurrentSaveName(null);\n        await fetchSavesAndConfigs();\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU);\n    };\n    const handleDeleteGame = async (saveName)=>{\n        await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.deleteGameState)(saveName);\n        await fetchSavesAndConfigs();\n        addNotification('Deleted saga: \"'.concat(saveName, '\"'));\n    };\n    const handleToggleUnlimitedResources = ()=>{\n        const newMode = !unlimitedResources;\n        setUnlimitedResources(newMode);\n        if (newMode) {\n            const maxedResources = masterResourceList.reduce((acc, res)=>({\n                    ...acc,\n                    [res.id]: 99999\n                }), {});\n            setResources(maxedResources);\n            addNotification(\"Test Mode: ON - All active tasks completed.\");\n            const depletedNodeIds = new Set();\n            activeTasks.forEach((task)=>{\n                var _task_payload;\n                if (task.type === \"gather\" && ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.resourceNodeId)) {\n                    depletedNodeIds.add(task.payload.resourceNodeId);\n                    const node = resourceNodes.find((n)=>n.id === task.payload.resourceNodeId);\n                    if (node) addToLog(\"Instantly gathered all \".concat(node.type, \" from a depleted source.\"), node.type);\n                }\n                handleTaskCompletion(task);\n            });\n            setActiveTasks([]);\n            if (depletedNodeIds.size > 0) setResourceNodes((prev)=>prev.filter((n)=>!depletedNodeIds.has(n.id)));\n        } else addNotification(\"Test Mode: OFF\");\n    };\n    const handleUseItem = (itemId)=>{\n        const item = inventory.find((i)=>i.id === itemId);\n        if (!item) return;\n        const baseItemId = item.id.split(\"-\")[0];\n        const constructionTasks = activeTasks.filter((t)=>t.type === \"build\");\n        switch(baseItemId){\n            case \"scroll_of_haste\":\n            case \"blueprint_of_the_master\":\n                if (constructionTasks.length > 0) {\n                    var _buildingList_find;\n                    const task = constructionTasks.sort((a, b)=>b.startTime + b.duration - (a.startTime + a.duration))[0];\n                    setActiveTasks((p)=>p.map((t)=>t.id === task.id ? {\n                                ...t,\n                                duration: Math.max(0, t.duration - (baseItemId === \"scroll_of_haste\" ? 15000 : 60000))\n                            } : t));\n                    addToLog(\"Used \".concat(item.name, \" on the \").concat((_buildingList_find = buildingList.find((b)=>{\n                        var _task_payload;\n                        return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n                    })) === null || _buildingList_find === void 0 ? void 0 : _buildingList_find.name, \".\"), \"item\");\n                }\n                break;\n            case \"hearty_meal\":\n                updateResources({\n                    food: 75\n                });\n                addToLog(\"Used \".concat(item.name, \" to gain 75 food.\"), \"item\");\n                break;\n            case \"builders_charm\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        buildTimeReduction: {\n                            percentage: 0.1,\n                            uses: 1\n                        }\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Next building is 10% faster.\"), \"item\");\n                break;\n            case \"drillmasters_whistle\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        trainTimeReduction: {\n                            percentage: 0.25,\n                            uses: 5\n                        }\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Next 5 units train 25% faster.\"), \"item\");\n                break;\n            case \"golden_harvest\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        resourceBoost: [\n                            ...p.resourceBoost || [],\n                            {\n                                resource: \"food\",\n                                multiplier: 1.5,\n                                endTime: Date.now() + 60000\n                            }\n                        ]\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Food gathering boosted by 50% for 60s.\"), \"item\");\n                break;\n            case \"shard_of_the_ancients\":\n                if (constructionTasks.length > 0) {\n                    var _buildingList_find1;\n                    const task = constructionTasks.sort((a, b)=>b.startTime + b.duration - (a.startTime + a.duration))[0];\n                    setActiveTasks((p)=>p.filter((t)=>t.id !== task.id));\n                    handleTaskCompletion(task);\n                    addToLog(\"Used \".concat(item.name, \" to instantly complete the \").concat((_buildingList_find1 = buildingList.find((b)=>{\n                        var _task_payload;\n                        return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n                    })) === null || _buildingList_find1 === void 0 ? void 0 : _buildingList_find1.name, \".\"), \"item\");\n                }\n                break;\n            case \"heart_of_the_mountain\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        resourceBoost: [\n                            ...p.resourceBoost || [],\n                            {\n                                resource: \"gold\",\n                                multiplier: 2,\n                                endTime: Date.now() + 120000\n                            },\n                            {\n                                resource: \"stone\",\n                                multiplier: 2,\n                                endTime: Date.now() + 120000\n                            }\n                        ]\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Gold and Stone gathering doubled for 2 minutes.\"), \"item\");\n                break;\n            case \"banner_of_command\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        permanentTrainTimeReduction: (p.permanentTrainTimeReduction || 0) + 0.05\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Military units train 5% faster, permanently.\"), \"item\");\n                break;\n            case \"whisper_of_the_creator\":\n                const tasks = [\n                    ...activeTasks\n                ];\n                setActiveTasks([]);\n                tasks.forEach(handleTaskCompletion);\n                addToLog(\"A divine whisper echoes, and all work is instantly finished.\", \"item\");\n                break;\n        }\n        setInventory((prev)=>prev.filter((i)=>i.id !== itemId));\n        setInventoryPanelState({\n            isOpen: false,\n            anchorRect: null\n        });\n    };\n    const buildingCounts = buildingList.reduce((acc, b)=>{\n        var _buildings_b_id;\n        acc[b.id] = ((_buildings_b_id = buildings[b.id]) === null || _buildings_b_id === void 0 ? void 0 : _buildings_b_id.length) || 0;\n        return acc;\n    }, {});\n    const idleVillagerCount = units.villagers.filter((v)=>!v.currentTask).length;\n    const assignmentTarget = assignmentPanelState.targetType === \"resource\" ? resourceNodes.find((n)=>n.id === assignmentPanelState.targetId) : activeTasks.find((t)=>t.type === \"build\" && t.id === assignmentPanelState.targetId);\n    const currentAgeIndex = ageProgressionList.findIndex((a)=>a.name === currentAge);\n    const availableBuildings = buildingList.filter((b)=>{\n        const unlockAgeIndex = ageProgressionList.findIndex((a)=>a.name === b.unlockedInAge);\n        return b.isActive && !b.isUpgradeOnly && unlockAgeIndex !== -1 && unlockAgeIndex <= currentAgeIndex;\n    });\n    const activeUnits = unitList.filter((u)=>u.isActive);\n    const closeAllPanels = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setUnitManagementPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                type: null,\n                anchorRect: null\n            } : p);\n        setBuildingManagementPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                type: null,\n                instanceId: null,\n                anchorRect: null\n            } : p);\n        setBuildPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                villagerId: null,\n                anchorRect: null\n            } : p);\n        setAssignmentPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                targetId: null,\n                targetType: null,\n                anchorRect: null\n            } : p);\n        setCivPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n        setAllBuildingsPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n        setInventoryPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n        setResearchPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n    }, []);\n    const handleOpenBuildingPanel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((type, instanceId, rect)=>{\n        closeAllPanels();\n        setBuildingManagementPanel({\n            isOpen: true,\n            type,\n            instanceId,\n            anchorRect: rect\n        });\n    }, [\n        closeAllPanels\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClickOutside = (event)=>{\n            const target = event.target;\n            if (!target.closest(\".sci-fi-panel-popup, [data-radix-popper-content-wrapper]\")) closeAllPanels();\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>document.removeEventListener(\"mousedown\", handleClickOutside);\n    }, [\n        closeAllPanels\n    ]);\n    const renderContent = ()=>{\n        if (isAppLoading) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {}, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 1126,\n                columnNumber: 20\n            }, undefined);\n        }\n        switch(gameState){\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StartScreen__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                    onNewGame: handleStartNewGame,\n                    onResumeGame: handleResumeGame,\n                    savedGames: allSaves,\n                    onDeleteGame: handleDeleteGame\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 1130,\n                    columnNumber: 42\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 1131,\n                    columnNumber: 45\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING:\n                if (!civilization) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 1133,\n                    columnNumber: 43\n                }, undefined);\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_GameUI__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                            civilization: civilization,\n                            resources: resources,\n                            units: units,\n                            buildings: buildings,\n                            population: population,\n                            currentAge: currentAge,\n                            gameLog: gameLog,\n                            resourceDeltas: resourceDeltas,\n                            activityStatus: activityStatus,\n                            unitList: activeUnits,\n                            buildingList: buildingList,\n                            onOpenUnitPanel: (type, rect)=>{\n                                closeAllPanels();\n                                setUnitManagementPanel({\n                                    isOpen: true,\n                                    type,\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenBuildingPanel: handleOpenBuildingPanel,\n                            onOpenAllBuildingsPanel: (rect)=>{\n                                closeAllPanels();\n                                setAllBuildingsPanel({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            playerAction: playerAction,\n                            onConfirmPlacement: handleConfirmPlacement,\n                            onCancelPlayerAction: handleCancelPlayerAction,\n                            onBuildingClick: (building, rect)=>{\n                                closeAllPanels();\n                                const type = Object.keys(buildings).find((key)=>{\n                                    var _buildings_key;\n                                    return (_buildings_key = buildings[key]) === null || _buildings_key === void 0 ? void 0 : _buildings_key.some((b)=>b.id === building.id);\n                                });\n                                if (type) setBuildingManagementPanel({\n                                    isOpen: true,\n                                    type,\n                                    instanceId: building.id,\n                                    anchorRect: rect\n                                });\n                            },\n                            mapDimensions: MAP_DIMENSIONS,\n                            activeTasks: activeTasks,\n                            onExitGame: handleExitGame,\n                            onOpenCivPanel: (rect)=>{\n                                closeAllPanels();\n                                setCivPanelState({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            resourceNodes: resourceNodes,\n                            onOpenAssignmentPanel: (nodeId, rect)=>{\n                                closeAllPanels();\n                                setAssignmentPanelState({\n                                    isOpen: true,\n                                    targetId: nodeId,\n                                    targetType: \"resource\",\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenConstructionPanel: (constructionId, rect)=>{\n                                closeAllPanels();\n                                setAssignmentPanelState({\n                                    isOpen: true,\n                                    targetId: constructionId,\n                                    targetType: \"construction\",\n                                    anchorRect: rect\n                                });\n                            },\n                            gatherInfo: gatherInfoRef.current,\n                            currentEvent: currentEvent,\n                            onEventChoice: handleEventChoice,\n                            inventory: inventory,\n                            onOpenInventoryPanel: (rect)=>{\n                                closeAllPanels();\n                                setInventoryPanelState({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenResearchPanel: (rect)=>{\n                                closeAllPanels();\n                                setResearchPanelState({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            hasResearchBuildings: hasResearchBuildings,\n                            resourceList: masterResourceList\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1136,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BuildPanel__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                            isOpen: buildPanelState.isOpen,\n                            onClose: ()=>setBuildPanelState({\n                                    isOpen: false,\n                                    villagerId: null,\n                                    anchorRect: null\n                                }),\n                            onStartPlacement: handleStartPlacement,\n                            resources: resources,\n                            buildingCounts: buildingCounts,\n                            buildingList: availableBuildings,\n                            anchorRect: buildPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1154,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_UnitManagementPanel__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                            isOpen: unitManagementPanel.isOpen,\n                            onClose: ()=>setUnitManagementPanel({\n                                    isOpen: false,\n                                    type: null,\n                                    anchorRect: null\n                                }),\n                            type: unitManagementPanel.type,\n                            units: units,\n                            onUpdateUnit: handleUpdateUnit,\n                            onDismissUnit: handleDismissSpecificUnit,\n                            onInitiateBuild: (villagerId, rect)=>{\n                                closeAllPanels();\n                                handleInitiateBuild(villagerId, rect);\n                            },\n                            getVillagerTaskDetails: getVillagerTaskDetails,\n                            anchorRect: unitManagementPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1155,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BuildingManagementPanel__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                            isOpen: buildingManagementPanel.isOpen,\n                            onClose: ()=>setBuildingManagementPanel({\n                                    isOpen: false,\n                                    type: null,\n                                    anchorRect: null\n                                }),\n                            panelState: buildingManagementPanel,\n                            buildings: buildings,\n                            buildingList: buildingList,\n                            onUpdateBuilding: handleUpdateBuilding,\n                            onDemolishBuilding: handleDemolishBuilding,\n                            onTrainUnits: handleTrainUnits,\n                            onTrainVillagers: handleTrainVillagers,\n                            onUpgradeBuilding: handleUpgradeBuilding,\n                            resources: resources,\n                            population: population,\n                            unitList: activeUnits,\n                            onAdvanceAge: handleAdvanceAge,\n                            activeTasks: activeTasks,\n                            anchorRect: buildingManagementPanel.anchorRect,\n                            masterResearchList: masterResearchList,\n                            completedResearch: completedResearch,\n                            onStartResearch: handleStartResearch,\n                            currentAge: currentAge,\n                            ageProgressionList: ageProgressionList\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1156,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ResourceAssignmentPanel__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                            isOpen: assignmentPanelState.isOpen,\n                            onClose: ()=>setAssignmentPanelState({\n                                    isOpen: false,\n                                    targetId: null,\n                                    targetType: null,\n                                    anchorRect: null\n                                }),\n                            assignmentTarget: assignmentTarget || null,\n                            idleVillagerCount: idleVillagerCount,\n                            onAssignVillagers: handleAssignVillagers,\n                            onRecallVillagers: handleRecallVillagers,\n                            gatherInfo: gatherInfoRef.current,\n                            buildingList: buildingList,\n                            units: units,\n                            anchorRect: assignmentPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1157,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CivilizationPanel__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                            isOpen: civPanelState.isOpen,\n                            onClose: ()=>setCivPanelState({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            civilization: civilization,\n                            anchorRect: civPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1158,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AllBuildingsPanel__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                            isOpen: allBuildingsPanel.isOpen,\n                            onClose: ()=>setAllBuildingsPanel({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            buildingList: buildingList,\n                            buildingCounts: buildingCounts,\n                            activeTasks: activeTasks,\n                            onOpenBuildingPanel: handleOpenBuildingPanel,\n                            anchorRect: allBuildingsPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1159,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_InventoryPanel__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                            isOpen: inventoryPanelState.isOpen,\n                            onClose: ()=>setInventoryPanelState({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            inventory: inventory,\n                            onUseItem: handleUseItem,\n                            activeTasks: activeTasks,\n                            activeBuffs: activeBuffs,\n                            anchorRect: inventoryPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1160,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ResearchPanel__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                            isOpen: researchPanelState.isOpen,\n                            onClose: ()=>setResearchPanelState({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            masterResearchList: masterResearchList,\n                            completedResearch: completedResearch,\n                            activeTasks: activeTasks,\n                            resources: resources,\n                            currentAge: currentAge,\n                            ageProgressionList: ageProgressionList,\n                            onStartResearch: handleStartResearch\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1161,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true);\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StartScreen__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                    onNewGame: handleStartNewGame,\n                    onResumeGame: handleResumeGame,\n                    savedGames: allSaves,\n                    onDeleteGame: handleDeleteGame\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 1174,\n                    columnNumber: 29\n                }, undefined);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-stone-dark flex items-center justify-center p-4\",\n        children: [\n            gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handleToggleUnlimitedResources,\n                className: \"fixed bottom-4 left-4 z-[101] bg-brand-gold text-stone-dark font-bold py-1 px-3 rounded-full text-xs shadow-lg hover:scale-105 transition-transform\",\n                \"aria-label\": \"Toggle unlimited resources test mode\",\n                children: [\n                    \"Test Mode: \",\n                    unlimitedResources ? \"ON\" : \"OFF\"\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 1181,\n                columnNumber: 18\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_NotificationManager__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                notifications: notifications,\n                onRemoveNotification: removeNotification\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 1183,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"w-full max-w-7xl mx-auto\",\n                children: renderContent()\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 1184,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/src/app/page.tsx\",\n        lineNumber: 1179,\n        columnNumber: 9\n    }, undefined);\n};\n_s(GamePage, \"Dg0fBjs1PoGU+bKKPJRCNhTw4Nk=\");\n_c = GamePage;\n/* harmony default export */ __webpack_exports__[\"default\"] = (GamePage);\nvar _c;\n$RefreshReg$(_c, \"GamePage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TXhiO0tBQUFBO0FBbW9DTiwrREFBZUEsUUFBUUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvYXBwL3BhZ2UudHN4P2Y2OGEiXSwic291cmNlc0NvbnRlbnQiOlsiXG4ndXNlIGNsaWVudCc7XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgR2FtZVN0YXR1cywgdHlwZSBDaXZpbGl6YXRpb24sIHR5cGUgUmVzb3VyY2VzLCB0eXBlIFVuaXRzLCB0eXBlIEJ1aWxkaW5ncywgdHlwZSBHYW1lRXZlbnQsIHR5cGUgR2FtZUxvZ0VudHJ5LCB0eXBlIExvZ0ljb25UeXBlLCB0eXBlIFJlc291cmNlRGVsdGFzLCBCdWlsZGluZ1R5cGUsIFVJTm90aWZpY2F0aW9uLCBGdWxsR2FtZVN0YXRlLCBWaWxsYWdlciwgTWlsaXRhcnlVbml0LCBVbml0Q29uZmlnLCBNaWxpdGFyeVVuaXRUeXBlLCBHYW1lVGFzaywgVGFza1R5cGUsIFJlc291cmNlTm9kZSwgUmVzb3VyY2VOb2RlVHlwZSwgUGxheWVyQWN0aW9uU3RhdGUsIEdhbWVFdmVudENob2ljZSwgR2FtZUl0ZW0sIFJld2FyZCwgQWN0aXZlQnVmZnMsIEJ1aWxkaW5nSW5zdGFuY2UsIEFnZUNvbmZpZywgQnVpbGRpbmdDb25maWcsIEJ1aWxkaW5nVXBncmFkZVBhdGgsIFJlc291cmNlQ29uZmlnLCBSZXNlYXJjaENvbmZpZyB9IGZyb20gJ0AvdHlwZXMnO1xuaW1wb3J0IHsgZ2V0UHJlZGVmaW5lZENpdmlsaXphdGlvbiwgZ2V0UHJlZGVmaW5lZEdhbWVFdmVudCB9IGZyb20gJ0Avc2VydmljZXMvZ2VtaW5pU2VydmljZSc7XG5pbXBvcnQgeyBzYXZlR2FtZVN0YXRlLCBsb2FkR2FtZVN0YXRlLCBnZXRBbGxTYXZlTmFtZXMsIGRlbGV0ZUdhbWVTdGF0ZSwgZ2V0QWxsQWdlQ29uZmlncywgZ2V0QWxsQnVpbGRpbmdDb25maWdzLCBnZXRBbGxVbml0Q29uZmlncywgc2F2ZUFnZUNvbmZpZywgc2F2ZUJ1aWxkaW5nQ29uZmlnLCBzYXZlVW5pdENvbmZpZywgZ2V0QWxsUmVzb3VyY2VDb25maWdzLCBzYXZlUmVzb3VyY2VDb25maWcsIGdldEFsbFJlc2VhcmNoQ29uZmlncywgc2F2ZVJlc2VhcmNoQ29uZmlnIH0gZnJvbSAnQC9zZXJ2aWNlcy9kYlNlcnZpY2UnO1xuaW1wb3J0IHsgZ2V0UmFuZG9tTmFtZXMgfSBmcm9tICdAL3NlcnZpY2VzL25hbWVTZXJ2aWNlJztcbmltcG9ydCB7IEdBTUVfSVRFTVMgfSBmcm9tICdAL2RhdGEvaXRlbUNvbnRlbnQnO1xuaW1wb3J0IHsgSU5JVElBTF9BR0VTIH0gZnJvbSAnQC9kYXRhL2FnZUluZm8nO1xuaW1wb3J0IHsgSU5JVElBTF9CVUlMRElOR1MgfSBmcm9tICdAL2RhdGEvYnVpbGRpbmdJbmZvJztcbmltcG9ydCB7IElOSVRJQUxfVU5JVFMgfSBmcm9tICdAL2RhdGEvdW5pdEluZm8nO1xuaW1wb3J0IHsgSU5JVElBTF9SRVNPVVJDRVMgfSBmcm9tICdAL2RhdGEvcmVzb3VyY2VJbmZvJztcbmltcG9ydCB7IElOSVRJQUxfUkVTRUFSQ0ggfSBmcm9tICdAL2RhdGEvcmVzZWFyY2hJbmZvJztcbmltcG9ydCBHYW1lVUkgZnJvbSAnQC9jb21wb25lbnRzL0dhbWVVSSc7XG5pbXBvcnQgU3RhcnRTY3JlZW4gZnJvbSAnQC9jb21wb25lbnRzL1N0YXJ0U2NyZWVuJztcbmltcG9ydCBMb2FkaW5nU2NyZWVuIGZyb20gJ0AvY29tcG9uZW50cy9Mb2FkaW5nU2NyZWVuJztcbmltcG9ydCBCdWlsZFBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9CdWlsZFBhbmVsJztcbmltcG9ydCBOb3RpZmljYXRpb25NYW5hZ2VyIGZyb20gJ0AvY29tcG9uZW50cy9Ob3RpZmljYXRpb25NYW5hZ2VyJztcbmltcG9ydCBVbml0TWFuYWdlbWVudFBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9Vbml0TWFuYWdlbWVudFBhbmVsJztcbmltcG9ydCBCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvQnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwnO1xuaW1wb3J0IFJlc291cmNlQXNzaWdubWVudFBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9SZXNvdXJjZUFzc2lnbm1lbnRQYW5lbCc7XG5pbXBvcnQgQ2l2aWxpemF0aW9uUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL0NpdmlsaXphdGlvblBhbmVsJztcbmltcG9ydCBBbGxCdWlsZGluZ3NQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvQWxsQnVpbGRpbmdzUGFuZWwnO1xuaW1wb3J0IEludmVudG9yeVBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9JbnZlbnRvcnlQYW5lbCc7XG5pbXBvcnQgUmVzZWFyY2hQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvUmVzZWFyY2hQYW5lbCc7XG5cblxuY29uc3QgaW5pdGlhbEJ1aWxkaW5nc1N0YXRlOiBCdWlsZGluZ3MgPSB7XG4gICAgaG91c2VzOiBbXSwgYmFycmFja3M6IFtdLCBhcmNoZXJ5UmFuZ2U6IFtdLCBzdGFibGU6IFtdLCBzaWVnZVdvcmtzaG9wOiBbXSwgYmxhY2tzbWl0aDogW10sIHdhdGNoVG93ZXI6IFtdLCB0b3duQ2VudGVyOiBbXVxufTtcblxuY29uc3QgTUFQX0RJTUVOU0lPTlMgPSB7IHdpZHRoOiAyNSwgaGVpZ2h0OiAxOCB9O1xuXG5cbmNvbnN0IEdhbWVQYWdlOiBSZWFjdC5GQyA9ICgpID0+IHtcbiAgICAvLyBDb3JlIEdhbWUgU3RhdGVcbiAgICBjb25zdCBbZ2FtZVN0YXRlLCBzZXRHYW1lU3RhdGVdID0gdXNlU3RhdGU8R2FtZVN0YXR1cz4oR2FtZVN0YXR1cy5MT0FESU5HKTtcbiAgICBjb25zdCBbY2l2aWxpemF0aW9uLCBzZXRDaXZpbGl6YXRpb25dID0gdXNlU3RhdGU8Q2l2aWxpemF0aW9uIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW3Jlc291cmNlcywgc2V0UmVzb3VyY2VzXSA9IHVzZVN0YXRlPFJlc291cmNlcz4oeyBmb29kOiAyMDAsIHdvb2Q6IDE1MCwgZ29sZDogNTAsIHN0b25lOiAxMDAgfSk7XG4gICAgY29uc3QgW3VuaXRzLCBzZXRVbml0c10gPSB1c2VTdGF0ZTxVbml0cz4oeyB2aWxsYWdlcnM6IFtdLCBtaWxpdGFyeTogW10gfSk7XG4gICAgY29uc3QgW2J1aWxkaW5ncywgc2V0QnVpbGRpbmdzXSA9IHVzZVN0YXRlPEJ1aWxkaW5ncz4oaW5pdGlhbEJ1aWxkaW5nc1N0YXRlKTtcbiAgICBjb25zdCBbY3VycmVudEFnZSwgc2V0Q3VycmVudEFnZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCdOb21hZGljIEFnZScpO1xuICAgIGNvbnN0IFtnYW1lTG9nLCBzZXRHYW1lTG9nXSA9IHVzZVN0YXRlPEdhbWVMb2dFbnRyeVtdPihbXSk7XG4gICAgY29uc3QgW2N1cnJlbnRFdmVudCwgc2V0Q3VycmVudEV2ZW50XSA9IHVzZVN0YXRlPEdhbWVFdmVudCB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFtyZXNvdXJjZURlbHRhcywgc2V0UmVzb3VyY2VEZWx0YXNdID0gdXNlU3RhdGU8UmVzb3VyY2VEZWx0YXM+KHt9KTtcbiAgICBjb25zdCBbYWN0aXZpdHlTdGF0dXMsIHNldEFjdGl2aXR5U3RhdHVzXSA9IHVzZVN0YXRlPHN0cmluZz4oJ1lvdXIgc3RvcnkgYmVnaW5zLi4uJyk7XG4gICAgY29uc3QgW25vdGlmaWNhdGlvbnMsIHNldE5vdGlmaWNhdGlvbnNdID0gdXNlU3RhdGU8VUlOb3RpZmljYXRpb25bXT4oW10pO1xuICAgIGNvbnN0IFt1bmxpbWl0ZWRSZXNvdXJjZXMsIHNldFVubGltaXRlZFJlc291cmNlc10gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gICAgY29uc3QgW2FsbFNhdmVzLCBzZXRBbGxTYXZlc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICAgIGNvbnN0IFtjdXJyZW50U2F2ZU5hbWUsIHNldEN1cnJlbnRTYXZlTmFtZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbcGxheWVyQWN0aW9uLCBzZXRQbGF5ZXJBY3Rpb25dID0gdXNlU3RhdGU8UGxheWVyQWN0aW9uU3RhdGU+KG51bGwpO1xuICAgIGNvbnN0IFthY3RpdmVUYXNrcywgc2V0QWN0aXZlVGFza3NdID0gdXNlU3RhdGU8R2FtZVRhc2tbXT4oW10pO1xuICAgIGNvbnN0IFtyZXNvdXJjZU5vZGVzLCBzZXRSZXNvdXJjZU5vZGVzXSA9IHVzZVN0YXRlPFJlc291cmNlTm9kZVtdPihbXSk7XG4gICAgY29uc3QgW2ludmVudG9yeSwgc2V0SW52ZW50b3J5XSA9IHVzZVN0YXRlPEdhbWVJdGVtW10+KFtdKTtcbiAgICBjb25zdCBbYWN0aXZlQnVmZnMsIHNldEFjdGl2ZUJ1ZmZzXSA9IHVzZVN0YXRlPEFjdGl2ZUJ1ZmZzPih7IHJlc291cmNlQm9vc3Q6IFtdIH0pO1xuICAgIGNvbnN0IFtjb21wbGV0ZWRSZXNlYXJjaCwgc2V0Q29tcGxldGVkUmVzZWFyY2hdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgICBcbiAgICAvLyBNYXN0ZXIgbGlzdHMgb2YgYWxsIGNvbmZpZ3VyYXRpb25zIGZyb20gREJcbiAgICBjb25zdCBbbWFzdGVyQWdlTGlzdCwgc2V0TWFzdGVyQWdlTGlzdF0gPSB1c2VTdGF0ZTxBZ2VDb25maWdbXT4oW10pO1xuICAgIGNvbnN0IFttYXN0ZXJCdWlsZGluZ0xpc3QsIHNldE1hc3RlckJ1aWxkaW5nTGlzdF0gPSB1c2VTdGF0ZTxCdWlsZGluZ0NvbmZpZ1tdPihbXSk7XG4gICAgY29uc3QgW21hc3RlclVuaXRMaXN0LCBzZXRNYXN0ZXJVbml0TGlzdF0gPSB1c2VTdGF0ZTxVbml0Q29uZmlnW10+KFtdKTtcbiAgICBjb25zdCBbbWFzdGVyUmVzb3VyY2VMaXN0LCBzZXRNYXN0ZXJSZXNvdXJjZUxpc3RdID0gdXNlU3RhdGU8UmVzb3VyY2VDb25maWdbXT4oW10pO1xuICAgIGNvbnN0IFttYXN0ZXJSZXNlYXJjaExpc3QsIHNldE1hc3RlclJlc2VhcmNoTGlzdF0gPSB1c2VTdGF0ZTxSZXNlYXJjaENvbmZpZ1tdPihbXSk7XG5cblxuICAgIC8vIEFwcCBMb2FkaW5nIFN0YXRlXG4gICAgY29uc3QgW2lzQXBwTG9hZGluZywgc2V0SXNBcHBMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuXG4gICAgXG4gICAgLy8gUGFuZWwgU3RhdGVzXG4gICAgY29uc3QgW2J1aWxkUGFuZWxTdGF0ZSwgc2V0QnVpbGRQYW5lbFN0YXRlXSA9IHVzZVN0YXRlPHsgaXNPcGVuOiBib29sZWFuOyB2aWxsYWdlcklkOiBzdHJpbmcgfCBudWxsOyBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbCB9Pih7IGlzT3BlbjogZmFsc2UsIHZpbGxhZ2VySWQ6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgY29uc3QgW3VuaXRNYW5hZ2VtZW50UGFuZWwsIHNldFVuaXRNYW5hZ2VtZW50UGFuZWxdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IHR5cGU6ICd2aWxsYWdlcnMnIHwgJ21pbGl0YXJ5JyB8IG51bGw7IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsOyB9Pih7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgY29uc3QgW2J1aWxkaW5nTWFuYWdlbWVudFBhbmVsLCBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbF0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgdHlwZTogQnVpbGRpbmdUeXBlIHwgc3RyaW5nIHwgbnVsbDsgaW5zdGFuY2VJZD86IHN0cmluZzsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7IH0+KHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgaW5zdGFuY2VJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICBjb25zdCBbYWxsQnVpbGRpbmdzUGFuZWwsIHNldEFsbEJ1aWxkaW5nc1BhbmVsXSA9IHVzZVN0YXRlPHsgaXNPcGVuOiBib29sZWFuOyBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbDsgfT4oeyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIGNvbnN0IFthc3NpZ25tZW50UGFuZWxTdGF0ZSwgc2V0QXNzaWdubWVudFBhbmVsU3RhdGVdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IHRhcmdldElkOiBzdHJpbmcgfCBudWxsOyB0YXJnZXRUeXBlOiAncmVzb3VyY2UnIHwgJ2NvbnN0cnVjdGlvbicgfCBudWxsOyBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbDsgfT4oeyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICBjb25zdCBbY2l2UGFuZWxTdGF0ZSwgc2V0Q2l2UGFuZWxTdGF0ZV0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7IH0+KHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICBjb25zdCBbaW52ZW50b3J5UGFuZWxTdGF0ZSwgc2V0SW52ZW50b3J5UGFuZWxTdGF0ZV0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7IH0+KHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICBjb25zdCBbcmVzZWFyY2hQYW5lbFN0YXRlLCBzZXRSZXNlYXJjaFBhbmVsU3RhdGVdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsOyB9Pih7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG5cblxuICAgIGNvbnN0IGRlbHRhVGltZW91dFJlZiA9IHVzZVJlZjx7IFtrZXkgaW4ga2V5b2YgUmVzb3VyY2VzXT86IG51bWJlciB9Pih7fSk7XG4gICAgY29uc3QgZXZlbnRUaW1lclJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IGxhc3RUaWNrUmVmID0gdXNlUmVmPG51bWJlcj4oRGF0ZS5ub3coKSk7XG4gICAgY29uc3QgYW5pbWF0aW9uRnJhbWVSZWYgPSB1c2VSZWY8bnVtYmVyPigpO1xuICAgIGNvbnN0IGdhdGhlckluZm9SZWYgPSB1c2VSZWY8UmVjb3JkPHN0cmluZywgeyByYXRlOiBudW1iZXIgfT4+KHt9KTtcbiAgICBcbiAgICAvLyBEZXJpdmVkIHN0YXRlIGZvciBhY3RpdmUgZ2FtZSBjb25maWd1cmF0aW9uc1xuICAgIGNvbnN0IGFnZVByb2dyZXNzaW9uTGlzdCA9IHVzZU1lbW8oKCkgPT4gbWFzdGVyQWdlTGlzdC5maWx0ZXIoYWdlID0+IGFnZS5pc0FjdGl2ZSksIFttYXN0ZXJBZ2VMaXN0XSk7XG4gICAgY29uc3QgYnVpbGRpbmdMaXN0ID0gdXNlTWVtbygoKSA9PiBtYXN0ZXJCdWlsZGluZ0xpc3QsIFttYXN0ZXJCdWlsZGluZ0xpc3RdKTsgLy8gS2VlcCBhbGwgZm9yIGxvb2t1cHMsIGZpbHRlciBvbiB1c2VcbiAgICBjb25zdCB1bml0TGlzdCA9IHVzZU1lbW8oKCkgPT4gbWFzdGVyVW5pdExpc3QsIFttYXN0ZXJVbml0TGlzdF0pOyAvLyBLZWVwIGFsbCBmb3IgbG9va3VwcywgZmlsdGVyIG9uIHVzZVxuXG4gICAgY29uc3QgcG9wdWxhdGlvbkNhcGFjaXR5ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGxldCBjYXBhY2l0eSA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgYnVpbGRpbmdUeXBlIGluIGJ1aWxkaW5ncykge1xuICAgICAgICAgICAgY29uc3QgYnVpbGRpbmdJbmZvID0gbWFzdGVyQnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSBidWlsZGluZ1R5cGUpO1xuICAgICAgICAgICAgaWYgKGJ1aWxkaW5nSW5mbyAmJiBidWlsZGluZ0luZm8ucG9wdWxhdGlvbkNhcGFjaXR5KSB7XG4gICAgICAgICAgICAgICAgY2FwYWNpdHkgKz0gYnVpbGRpbmdzW2J1aWxkaW5nVHlwZV0ubGVuZ3RoICogYnVpbGRpbmdJbmZvLnBvcHVsYXRpb25DYXBhY2l0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FwYWNpdHk7XG4gICAgfSwgW2J1aWxkaW5ncywgbWFzdGVyQnVpbGRpbmdMaXN0XSk7XG4gICAgXG4gICAgY29uc3QgcG9wdWxhdGlvbiA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBjb25zdCBtaWxpdGFyeVBvcCA9IHVuaXRzLm1pbGl0YXJ5LnJlZHVjZSgoYWNjLCB1bml0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB1bml0SW5mbyA9IG1hc3RlclVuaXRMaXN0LmZpbmQodSA9PiB1LmlkID09PSB1bml0LnVuaXRUeXBlKTtcbiAgICAgICAgICAgIHJldHVybiBhY2MgKyAodW5pdEluZm8/LnBvcHVsYXRpb25Db3N0IHx8IDEpO1xuICAgICAgICB9LCAwKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjdXJyZW50OiB1bml0cy52aWxsYWdlcnMubGVuZ3RoICsgbWlsaXRhcnlQb3AsXG4gICAgICAgICAgICBjYXBhY2l0eTogcG9wdWxhdGlvbkNhcGFjaXR5LFxuICAgICAgICB9O1xuICAgIH0sIFt1bml0cywgcG9wdWxhdGlvbkNhcGFjaXR5LCBtYXN0ZXJVbml0TGlzdF0pO1xuXG4gICAgY29uc3QgaGFzUmVzZWFyY2hCdWlsZGluZ3MgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIG1hc3RlckJ1aWxkaW5nTGlzdC5zb21lKGJ1aWxkaW5nSW5mbyA9PiBcbiAgICAgICAgICAgIGJ1aWxkaW5nSW5mby5jYW5SZXNlYXJjaCAmJiAoYnVpbGRpbmdzW2J1aWxkaW5nSW5mby5pZF0/Lmxlbmd0aCB8fCAwKSA+IDBcbiAgICAgICAgKTtcbiAgICB9LCBbYnVpbGRpbmdzLCBtYXN0ZXJCdWlsZGluZ0xpc3RdKTtcblxuICAgIGNvbnN0IGZldGNoUmVzb3VyY2VzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICBsZXQgYWxsSXRlbXMgPSBhd2FpdCBnZXRBbGxSZXNvdXJjZUNvbmZpZ3MoKTtcbiAgICAgICAgY29uc3QgaXRlbU1hcCA9IG5ldyBNYXAoYWxsSXRlbXMubWFwKGkgPT4gW2kuaWQsIGldKSk7XG4gICAgICAgIGxldCBuZWVkc1VwZGF0ZSA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAoY29uc3QgW2luZGV4LCBwSXRlbV0gb2YgSU5JVElBTF9SRVNPVVJDRVMuZW50cmllcygpKSB7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ0l0ZW0gPSBpdGVtTWFwLmdldChwSXRlbS5pZCk7XG4gICAgICAgICAgICBjb25zdCBuZXdJdGVtOiBSZXNvdXJjZUNvbmZpZyA9IHsgLi4uKHBJdGVtIGFzIGFueSksIC4uLihleGlzdGluZ0l0ZW0gfHwge30pLCBpZDogcEl0ZW0uaWQsIGlzUHJlZGVmaW5lZDogdHJ1ZSwgaXNBY3RpdmU6IGV4aXN0aW5nSXRlbT8uaXNBY3RpdmUgPz8gdHJ1ZSwgb3JkZXI6IGV4aXN0aW5nSXRlbT8ub3JkZXIgPz8gaW5kZXggfTtcbiAgICAgICAgICAgIGlmIChKU09OLnN0cmluZ2lmeShleGlzdGluZ0l0ZW0pICE9PSBKU09OLnN0cmluZ2lmeShuZXdJdGVtKSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHNhdmVSZXNvdXJjZUNvbmZpZyhuZXdJdGVtKTtcbiAgICAgICAgICAgICAgICBuZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5lZWRzVXBkYXRlKSBhbGxJdGVtcyA9IGF3YWl0IGdldEFsbFJlc291cmNlQ29uZmlncygpO1xuICAgICAgICBzZXRNYXN0ZXJSZXNvdXJjZUxpc3QoYWxsSXRlbXMpO1xuICAgICAgICBnYXRoZXJJbmZvUmVmLmN1cnJlbnQgPSBhbGxJdGVtcy5yZWR1Y2UoKGFjYywgcmVzKSA9PiB7XG4gICAgICAgICAgICBhY2NbcmVzLmlkXSA9IHsgcmF0ZTogcmVzLmJhc2VHYXRoZXJSYXRlIH07XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSBhcyBSZWNvcmQ8c3RyaW5nLCB7IHJhdGU6IG51bWJlciB9Pik7XG4gICAgICAgIHJldHVybiBhbGxJdGVtcztcbiAgICB9LCBbXSk7XG4gICAgXG4gICAgY29uc3QgZmV0Y2hTYXZlc0FuZENvbmZpZ3MgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgIHNldElzQXBwTG9hZGluZyh0cnVlKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzID0gYXdhaXQgZ2V0QWxsU2F2ZU5hbWVzKCk7XG4gICAgICAgICAgICBzZXRBbGxTYXZlcyhuYW1lcyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIC0tLSBTbWFydCBTZWVkaW5nL1VwZGF0aW5nIGZvciBBZ2VzIC0tLVxuICAgICAgICAgICAgbGV0IGFsbEFnZUNvbmZpZ3MgPSBhd2FpdCBnZXRBbGxBZ2VDb25maWdzKCk7XG4gICAgICAgICAgICBsZXQgYWdlTWFwID0gbmV3IE1hcChhbGxBZ2VDb25maWdzLm1hcChpdGVtID0+IFtpdGVtLmlkLCBpdGVtXSkpO1xuICAgICAgICAgICAgbGV0IGFnZXNOZWVkVXBkYXRlID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtpbmRleCwgcEl0ZW1dIG9mIElOSVRJQUxfQUdFUy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0l0ZW0gPSBhZ2VNYXAuZ2V0KHBJdGVtLm5hbWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW06IEFnZUNvbmZpZyA9IHsgLi4uKGV4aXN0aW5nSXRlbSB8fCB7fSksIC4uLnBJdGVtLCBpZDogcEl0ZW0ubmFtZSwgaXNQcmVkZWZpbmVkOiB0cnVlLCBpc0FjdGl2ZTogZXhpc3RpbmdJdGVtPy5pc0FjdGl2ZSA/PyB0cnVlLCBvcmRlcjogZXhpc3RpbmdJdGVtPy5vcmRlciA/PyBpbmRleCB9O1xuICAgICAgICAgICAgICAgIGlmIChKU09OLnN0cmluZ2lmeShleGlzdGluZ0l0ZW0pICE9PSBKU09OLnN0cmluZ2lmeShuZXdJdGVtKSkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzYXZlQWdlQ29uZmlnKG5ld0l0ZW0pO1xuICAgICAgICAgICAgICAgICAgICBhZ2VzTmVlZFVwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFnZXNOZWVkVXBkYXRlKSBhbGxBZ2VDb25maWdzID0gYXdhaXQgZ2V0QWxsQWdlQ29uZmlncygpO1xuICAgICAgICAgICAgc2V0TWFzdGVyQWdlTGlzdChhbGxBZ2VDb25maWdzKTtcblxuICAgICAgICAgICAgLy8gLS0tIFNtYXJ0IFNlZWRpbmcvVXBkYXRpbmcgZm9yIEJ1aWxkaW5ncyAtLS1cbiAgICAgICAgICAgIGxldCBhbGxCdWlsZGluZ0NvbmZpZ3MgPSBhd2FpdCBnZXRBbGxCdWlsZGluZ0NvbmZpZ3MoKTtcbiAgICAgICAgICAgIGxldCBidWlsZGluZ01hcCA9IG5ldyBNYXAoYWxsQnVpbGRpbmdDb25maWdzLm1hcChpdGVtID0+IFtpdGVtLmlkLCBpdGVtXSkpO1xuICAgICAgICAgICAgbGV0IGJ1aWxkaW5nc05lZWRVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRBZ2UgPSBhbGxBZ2VDb25maWdzWzBdPy5uYW1lIHx8IElOSVRJQUxfQUdFU1swXS5uYW1lO1xuICAgICAgICAgICAgZm9yIChjb25zdCBbaW5kZXgsIHBJdGVtXSBvZiBJTklUSUFMX0JVSUxESU5HUy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0l0ZW0gPSBidWlsZGluZ01hcC5nZXQocEl0ZW0uaWQpO1xuICAgICAgICAgICAgICAgICBjb25zdCBuZXdJdGVtOiBCdWlsZGluZ0NvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uKHBJdGVtIGFzIGFueSksIC8vIEJhc2UgcHJlZGVmaW5lZCB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgLi4uKGV4aXN0aW5nSXRlbSB8fCB7fSksIC8vIE92ZXJ3cml0ZSB3aXRoIHNhdmVkIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICBpZDogcEl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgIGlzUHJlZGVmaW5lZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdW5sb2NrZWRJbkFnZTogZXhpc3RpbmdJdGVtPy51bmxvY2tlZEluQWdlIHx8IChwSXRlbS5pZCA9PT0gJ3Rvd25DZW50ZXInID8gSU5JVElBTF9BR0VTWzBdLm5hbWUgOiBkZWZhdWx0QWdlKSxcbiAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmU6IGV4aXN0aW5nSXRlbT8uaXNBY3RpdmUgPz8gdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IGV4aXN0aW5nSXRlbT8ub3JkZXIgPz8gaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIHRyZWVJZDogZXhpc3RpbmdJdGVtPy50cmVlSWQgfHwgYHRyZWUtcHJlZGVmaW5lZC0ke3BJdGVtLmlkfWAsXG4gICAgICAgICAgICAgICAgICAgIHBvcHVsYXRpb25DYXBhY2l0eTogZXhpc3RpbmdJdGVtPy5wb3B1bGF0aW9uQ2FwYWNpdHkgPz8gcEl0ZW0ucG9wdWxhdGlvbkNhcGFjaXR5LFxuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZXNSZXNvdXJjZTogZXhpc3RpbmdJdGVtPy5nZW5lcmF0ZXNSZXNvdXJjZSA/PyBwSXRlbS5nZW5lcmF0ZXNSZXNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGlvblJhdGU6IGV4aXN0aW5nSXRlbT8uZ2VuZXJhdGlvblJhdGUgPz8gcEl0ZW0uZ2VuZXJhdGlvblJhdGUsXG4gICAgICAgICAgICAgICAgICAgIG1haW50ZW5hbmNlQ29zdDogZXhpc3RpbmdJdGVtPy5tYWludGVuYW5jZUNvc3QgPz8gcEl0ZW0ubWFpbnRlbmFuY2VDb3N0LFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkoZXhpc3RpbmdJdGVtKSAhPT0gSlNPTi5zdHJpbmdpZnkobmV3SXRlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2F2ZUJ1aWxkaW5nQ29uZmlnKG5ld0l0ZW0pO1xuICAgICAgICAgICAgICAgICAgICBidWlsZGluZ3NOZWVkVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYnVpbGRpbmdzTmVlZFVwZGF0ZSkgYWxsQnVpbGRpbmdDb25maWdzID0gYXdhaXQgZ2V0QWxsQnVpbGRpbmdDb25maWdzKCk7XG4gICAgICAgICAgICBzZXRNYXN0ZXJCdWlsZGluZ0xpc3QoYWxsQnVpbGRpbmdDb25maWdzKTtcblxuICAgICAgICAgICAgLy8gLS0tIFNtYXJ0IFNlZWRpbmcvVXBkYXRpbmcgZm9yIFVuaXRzIC0tLVxuICAgICAgICAgICAgbGV0IGFsbFVuaXRDb25maWdzID0gYXdhaXQgZ2V0QWxsVW5pdENvbmZpZ3MoKTtcbiAgICAgICAgICAgIGNvbnN0IHVuaXRNYXAgPSBuZXcgTWFwKGFsbFVuaXRDb25maWdzLm1hcChpdGVtID0+IFtpdGVtLmlkLCBpdGVtXSkpO1xuICAgICAgICAgICAgbGV0IHVuaXRzTmVlZFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgaW5pdGlhbFVuaXRzV2l0aElkcyA9IElOSVRJQUxfVU5JVFMubWFwKHUgPT4gKHsgLi4udSwgaWQ6IHUubmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccy9nLCAnJykgfSkpO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtpbmRleCwgcEl0ZW1dIG9mIGluaXRpYWxVbml0c1dpdGhJZHMuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdJdGVtID0gdW5pdE1hcC5nZXQocEl0ZW0uaWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW06IFVuaXRDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLihwSXRlbSBhcyBhbnkpLCAvLyBCYXNlIHByZWRlZmluZWQgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIC4uLihleGlzdGluZ0l0ZW0gfHwge30pLCAvLyBPdmVyd3JpdGUgd2l0aCBzYXZlZCB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHBJdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICBpc1ByZWRlZmluZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGlzQWN0aXZlOiBleGlzdGluZ0l0ZW0/LmlzQWN0aXZlID8/IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG9yZGVyOiBleGlzdGluZ0l0ZW0/Lm9yZGVyID8/IGluZGV4LFxuICAgICAgICAgICAgICAgICAgICB0cmVlSWQ6IGV4aXN0aW5nSXRlbT8udHJlZUlkIHx8IGB1dHJlZS1wcmVkZWZpbmVkLSR7cEl0ZW0uaWR9YCxcbiAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGlvbkNvc3Q6IGV4aXN0aW5nSXRlbT8ucG9wdWxhdGlvbkNvc3QgPz8gcEl0ZW0ucG9wdWxhdGlvbkNvc3QsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmIChKU09OLnN0cmluZ2lmeShleGlzdGluZ0l0ZW0pICE9PSBKU09OLnN0cmluZ2lmeShuZXdJdGVtKSkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzYXZlVW5pdENvbmZpZyhuZXdJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgdW5pdHNOZWVkVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodW5pdHNOZWVkVXBkYXRlKSBhbGxVbml0Q29uZmlncyA9IGF3YWl0IGdldEFsbFVuaXRDb25maWdzKCk7XG4gICAgICAgICAgICBzZXRNYXN0ZXJVbml0TGlzdChhbGxVbml0Q29uZmlncyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAvLyAtLS0gU21hcnQgU2VlZGluZy9VcGRhdGluZyBmb3IgUmVzZWFyY2ggLS0tXG4gICAgICAgICAgICBsZXQgYWxsUmVzZWFyY2hDb25maWdzID0gYXdhaXQgZ2V0QWxsUmVzZWFyY2hDb25maWdzKCk7XG4gICAgICAgICAgICBsZXQgcmVzZWFyY2hNYXAgPSBuZXcgTWFwKGFsbFJlc2VhcmNoQ29uZmlncy5tYXAoaXRlbSA9PiBbaXRlbS5pZCwgaXRlbV0pKTtcbiAgICAgICAgICAgIGxldCByZXNlYXJjaE5lZWRVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2luZGV4LCBwSXRlbV0gb2YgSU5JVElBTF9SRVNFQVJDSC5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IHBJdGVtLm5hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMvZywgJ18nKTtcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0l0ZW0gPSByZXNlYXJjaE1hcC5nZXQoaWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW06IFJlc2VhcmNoQ29uZmlnID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi4oZXhpc3RpbmdJdGVtIHx8IHt9IGFzIFJlc2VhcmNoQ29uZmlnKSwgLy8gU3RhcnQgd2l0aCBzYXZlZCB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgLi4uKHBJdGVtIGFzIGFueSksIC8vIE92ZXJ3cml0ZSB3aXRoIHByZWRlZmluZWQgYmFzZSB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgaWQsIC8vIEVuc3VyZSBJRCBpcyBjb3JyZWN0XG4gICAgICAgICAgICAgICAgICAgIGlzUHJlZGVmaW5lZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmU6IGV4aXN0aW5nSXRlbT8uaXNBY3RpdmUgPz8gdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IGV4aXN0aW5nSXRlbT8ub3JkZXIgPz8gaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGFnZVJlcXVpcmVtZW50OiBleGlzdGluZ0l0ZW0/LmFnZVJlcXVpcmVtZW50IHx8IGRlZmF1bHRBZ2UsXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkQnVpbGRpbmdJZDogZXhpc3RpbmdJdGVtPy5yZXF1aXJlZEJ1aWxkaW5nSWQgfHwgJ2JsYWNrc21pdGgnLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KGV4aXN0aW5nSXRlbSkgIT09IEpTT04uc3RyaW5naWZ5KG5ld0l0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHNhdmVSZXNlYXJjaENvbmZpZyhuZXdJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzZWFyY2hOZWVkVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzZWFyY2hOZWVkVXBkYXRlKSBhbGxSZXNlYXJjaENvbmZpZ3MgPSBhd2FpdCBnZXRBbGxSZXNlYXJjaENvbmZpZ3MoKTtcbiAgICAgICAgICAgIHNldE1hc3RlclJlc2VhcmNoTGlzdChhbGxSZXNlYXJjaENvbmZpZ3MpO1xuXG4gICAgICAgICAgICBjb25zdCBhbGxSZXNvdXJjZUNvbmZpZ3MgPSBhd2FpdCBmZXRjaFJlc291cmNlcygpO1xuXG4gICAgICAgICAgICByZXR1cm4geyBhbGxBZ2VDb25maWdzLCBhbGxCdWlsZGluZ0NvbmZpZ3MsIGFsbFVuaXRDb25maWdzLCBhbGxSZXNvdXJjZUNvbmZpZ3MsIGFsbFJlc2VhcmNoQ29uZmlncyB9O1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGR1cmluZyBpbml0aWFsIGNvbmZpZyBmZXRjaDpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgY29uc3QgYWdlcyA9IElOSVRJQUxfQUdFUy5tYXAoKGEsIGkpID0+ICh7Li4uYSwgaWQ6IGEubmFtZSwgaXNBY3RpdmU6IHRydWUsIGlzUHJlZGVmaW5lZDogdHJ1ZSwgb3JkZXI6IGl9KSk7XG4gICAgICAgICAgICBjb25zdCBidWlsZGluZ3MgPSBJTklUSUFMX0JVSUxESU5HUy5tYXAoKGIsIGkpID0+ICh7Li4uYiwgaXNBY3RpdmU6IHRydWUsIGlzUHJlZGVmaW5lZDogdHJ1ZSwgb3JkZXI6IGksIHVubG9ja2VkSW5BZ2U6ICdOb21hZGljIEFnZScgfSBhcyBCdWlsZGluZ0NvbmZpZykpO1xuICAgICAgICAgICAgY29uc3QgdW5pdHMgPSBJTklUSUFMX1VOSVRTLm1hcCgodSwgaSkgPT4gKHsuLi51LCBpZDogdS5uYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzL2csICcnKSwgaXNBY3RpdmU6IHRydWUsIGlzUHJlZGVmaW5lZDogdHJ1ZSwgb3JkZXI6IGl9KSk7XG4gICAgICAgICAgICBjb25zdCByZXNvdXJjZXMgPSBJTklUSUFMX1JFU09VUkNFUy5tYXAoKHIsaSkgPT4gKHsuLi5yLCBpc0FjdGl2ZTogdHJ1ZSwgaXNQcmVkZWZpbmVkOiB0cnVlLCBvcmRlcjogaX0pKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc2VhcmNoID0gSU5JVElBTF9SRVNFQVJDSC5tYXAoKHIsaSkgPT4gKHsuLi5yLCBpZDogci5uYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzL2csICdfJyksIGlzQWN0aXZlOiB0cnVlLCBpc1ByZWRlZmluZWQ6IHRydWUsIG9yZGVyOiBpLCBhZ2VSZXF1aXJlbWVudDogJ05vbWFkaWMgQWdlJ30gYXMgUmVzZWFyY2hDb25maWcpKTtcbiAgICAgICAgICAgIHNldE1hc3RlckFnZUxpc3QoYWdlcyk7XG4gICAgICAgICAgICBzZXRNYXN0ZXJCdWlsZGluZ0xpc3QoYnVpbGRpbmdzKTtcbiAgICAgICAgICAgIHNldE1hc3RlclVuaXRMaXN0KHVuaXRzIGFzIFVuaXRDb25maWdbXSk7XG4gICAgICAgICAgICBzZXRNYXN0ZXJSZXNvdXJjZUxpc3QocmVzb3VyY2VzKTtcbiAgICAgICAgICAgIHNldE1hc3RlclJlc2VhcmNoTGlzdChyZXNlYXJjaCk7XG4gICAgICAgICAgICByZXR1cm4geyBhbGxBZ2VDb25maWdzOiBhZ2VzLCBhbGxCdWlsZGluZ0NvbmZpZ3M6IGJ1aWxkaW5ncywgYWxsVW5pdENvbmZpZ3M6IHVuaXRzIGFzIFVuaXRDb25maWdbXSwgYWxsUmVzb3VyY2VDb25maWdzOiByZXNvdXJjZXMsIGFsbFJlc2VhcmNoQ29uZmlnczogcmVzZWFyY2ggfTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldElzQXBwTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICBzZXRHYW1lU3RhdGUoR2FtZVN0YXR1cy5NRU5VKTtcbiAgICAgICAgfVxuICAgIH0sIFtmZXRjaFJlc291cmNlc10pO1xuICAgIFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGZldGNoU2F2ZXNBbmRDb25maWdzKCk7XG4gICAgfSwgW2ZldGNoU2F2ZXNBbmRDb25maWdzXSk7XG4gICAgXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGdhbWVTdGF0ZSA9PT0gR2FtZVN0YXR1cy5QTEFZSU5HICYmIGNpdmlsaXphdGlvbiAmJiBjdXJyZW50U2F2ZU5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGZ1bGxTdGF0ZTogRnVsbEdhbWVTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICBjaXZpbGl6YXRpb24sXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VzLFxuICAgICAgICAgICAgICAgIHVuaXRzLFxuICAgICAgICAgICAgICAgIGJ1aWxkaW5ncyxcbiAgICAgICAgICAgICAgICBjdXJyZW50QWdlLFxuICAgICAgICAgICAgICAgIGdhbWVMb2csXG4gICAgICAgICAgICAgICAgYWN0aXZlVGFza3MsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VOb2RlcyxcbiAgICAgICAgICAgICAgICBpbnZlbnRvcnksXG4gICAgICAgICAgICAgICAgYWN0aXZlQnVmZnMsXG4gICAgICAgICAgICAgICAgY29tcGxldGVkUmVzZWFyY2gsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2F2ZUdhbWVTdGF0ZShjdXJyZW50U2F2ZU5hbWUsIGZ1bGxTdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9LCBbY2l2aWxpemF0aW9uLCByZXNvdXJjZXMsIHVuaXRzLCBidWlsZGluZ3MsIGN1cnJlbnRBZ2UsIGdhbWVMb2csIGdhbWVTdGF0ZSwgY3VycmVudFNhdmVOYW1lLCBhY3RpdmVUYXNrcywgcmVzb3VyY2VOb2RlcywgaW52ZW50b3J5LCBhY3RpdmVCdWZmcywgY29tcGxldGVkUmVzZWFyY2hdKTtcblxuICAgIGNvbnN0IGFkZE5vdGlmaWNhdGlvbiA9IHVzZUNhbGxiYWNrKChtZXNzYWdlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgaWQgPSBgJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCl9YDtcbiAgICAgICAgc2V0Tm90aWZpY2F0aW9ucyhwcmV2ID0+IFt7IGlkLCBtZXNzYWdlIH1dKTtcbiAgICB9LCBbXSk7XG5cbiAgICBjb25zdCByZW1vdmVOb3RpZmljYXRpb24gPSB1c2VDYWxsYmFjaygoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBzZXROb3RpZmljYXRpb25zKHByZXYgPT4gcHJldi5maWx0ZXIobiA9PiBuLmlkICE9PSBpZCkpO1xuICAgIH0sIFtdKTtcbiAgICBcbiAgICBjb25zdCBhZGRUb0xvZyA9IHVzZUNhbGxiYWNrKChtZXNzYWdlOiBzdHJpbmcsIGljb246IExvZ0ljb25UeXBlKSA9PiB7XG4gICAgICAgIHNldEdhbWVMb2cocHJldiA9PiBbeyBpZDogYCR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpfWAsIG1lc3NhZ2UsIGljb24gfSwgLi4ucHJldi5zbGljZSgwLCAxOSldKTtcbiAgICB9LCBbXSk7XG4gICAgXG4gICAgY29uc3QgdXBkYXRlUmVzb3VyY2VzID0gdXNlQ2FsbGJhY2soKGRlbHRhczogUmVzb3VyY2VEZWx0YXMpID0+IHtcbiAgICAgICAgc2V0UmVzb3VyY2VzKHByZXYgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3UmVzb3VyY2VzID0geyAuLi5wcmV2IH07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkZWx0YXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNvdXJjZUtleSA9IGtleSBhcyBrZXlvZiBSZXNvdXJjZXM7XG4gICAgICAgICAgICAgICAgbmV3UmVzb3VyY2VzW3Jlc291cmNlS2V5XSA9IE1hdGgubWF4KDAsIChuZXdSZXNvdXJjZXNbcmVzb3VyY2VLZXldIHx8IDApICsgKGRlbHRhc1tyZXNvdXJjZUtleV0gPz8gMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ld1Jlc291cmNlcztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2V0UmVzb3VyY2VEZWx0YXMocHJldiA9PiAoey4uLnByZXYsIC4uLmRlbHRhc30pKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkZWx0YXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc291cmNlS2V5ID0ga2V5IGFzIGtleW9mIFJlc291cmNlcztcbiAgICAgICAgICAgIGlmIChkZWx0YVRpbWVvdXRSZWYuY3VycmVudFtyZXNvdXJjZUtleV0pIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGRlbHRhVGltZW91dFJlZi5jdXJyZW50W3Jlc291cmNlS2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWx0YVRpbWVvdXRSZWYuY3VycmVudFtyZXNvdXJjZUtleV0gPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0UmVzb3VyY2VEZWx0YXMocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0RlbHRhcyA9IHsuLi5wcmV2fTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG5ld0RlbHRhc1tyZXNvdXJjZUtleV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdEZWx0YXM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCAxNTAwKTtcbiAgICAgICAgfVxuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IGhhbmRsZVRhc2tDb21wbGV0aW9uID0gdXNlQ2FsbGJhY2soKHRhc2s6IEdhbWVUYXNrKSA9PiB7XG4gICAgICAgIGlmICh0YXNrLnBheWxvYWQ/LnZpbGxhZ2VySWRzICYmIHRhc2sucGF5bG9hZC52aWxsYWdlcklkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7IC4uLnByZXYsIHZpbGxhZ2VyczogcHJldi52aWxsYWdlcnMubWFwKHYgPT4gdGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEuaW5jbHVkZXModi5pZCkgPyB7IC4uLnYsIGN1cnJlbnRUYXNrOiBudWxsIH0gOiB2KSB9KSk7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHRhc2sudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnYnVpbGQnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBidWlsZGluZ1R5cGUsIHBvc2l0aW9uIH0gPSB0YXNrLnBheWxvYWQhO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gYnVpbGRpbmdUeXBlKSE7XG4gICAgICAgICAgICAgICAgY29uc3QgW25hbWVdID0gZ2V0UmFuZG9tTmFtZXMoJ2J1aWxkaW5nJywgMSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3QnVpbGRpbmc6IEJ1aWxkaW5nSW5zdGFuY2UgPSB7IGlkOiB0YXNrLmlkLCBuYW1lLCBwb3NpdGlvbjogcG9zaXRpb24hLCBjdXJyZW50SHA6IGJ1aWxkaW5nSW5mby5ocCB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHNldEJ1aWxkaW5ncyhwID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEJ1aWxkaW5ncyA9IHBbYnVpbGRpbmdUeXBlIGFzIHN0cmluZ10gfHwgW107XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnAsIFtidWlsZGluZ1R5cGUgYXMgc3RyaW5nXTogWy4uLmN1cnJlbnRCdWlsZGluZ3MsIG5ld0J1aWxkaW5nXSB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGFkZFRvTG9nKGAke3Rhc2sucGF5bG9hZCEudmlsbGFnZXJJZHMhLmxlbmd0aH0gYnVpbGRlcihzKSBoYXZlIGNvbnN0cnVjdGVkICR7bmFtZX0sIGEgbmV3ICR7YnVpbGRpbmdJbmZvLm5hbWV9LmAsIGJ1aWxkaW5nSW5mby5pY29uSWQpO1xuICAgICAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBDb25zdHJ1Y3Rpb24gb2YgJHtuYW1lfSBpcyBjb21wbGV0ZS5gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ3VwZ3JhZGVfYnVpbGRpbmcnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBvcmlnaW5hbEJ1aWxkaW5nSWQsIG9yaWdpbmFsQnVpbGRpbmdUeXBlLCB0YXJnZXRCdWlsZGluZ1R5cGUgfSA9IHRhc2sucGF5bG9hZCE7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxCdWlsZGluZyA9IGJ1aWxkaW5nc1tvcmlnaW5hbEJ1aWxkaW5nVHlwZSBhcyBzdHJpbmddPy5maW5kKGIgPT4gYi5pZCA9PT0gb3JpZ2luYWxCdWlsZGluZ0lkKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRCdWlsZGluZ0luZm8gPSBidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IHRhcmdldEJ1aWxkaW5nVHlwZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxCdWlsZGluZyAmJiB0YXJnZXRCdWlsZGluZ0luZm8pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3QnVpbGRpbmc6IEJ1aWxkaW5nSW5zdGFuY2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogb3JpZ2luYWxCdWlsZGluZy5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG9yaWdpbmFsQnVpbGRpbmcubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBvcmlnaW5hbEJ1aWxkaW5nLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEhwOiB0YXJnZXRCdWlsZGluZ0luZm8uaHAsXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0QnVpbGRpbmdzKHAgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3QnVpbGRpbmdzID0geyAuLi5wIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdCdWlsZGluZ3Nbb3JpZ2luYWxCdWlsZGluZ1R5cGUgYXMgc3RyaW5nXSA9IChuZXdCdWlsZGluZ3Nbb3JpZ2luYWxCdWlsZGluZ1R5cGUgYXMgc3RyaW5nXSB8fCBbXSkuZmlsdGVyKGIgPT4gYi5pZCAhPT0gb3JpZ2luYWxCdWlsZGluZ0lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0J1aWxkaW5nc1t0YXJnZXRCdWlsZGluZ1R5cGUgYXMgc3RyaW5nXSA9IFsuLi4obmV3QnVpbGRpbmdzW3RhcmdldEJ1aWxkaW5nVHlwZSBhcyBzdHJpbmddIHx8IFtdKSwgbmV3QnVpbGRpbmddO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld0J1aWxkaW5ncztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICBhZGRUb0xvZyhgJHtvcmlnaW5hbEJ1aWxkaW5nLm5hbWV9IGhhcyBiZWVuIHVwZ3JhZGVkIHRvIGEgJHt0YXJnZXRCdWlsZGluZ0luZm8ubmFtZX0hYCwgdGFyZ2V0QnVpbGRpbmdJbmZvLmljb25JZCk7XG4gICAgICAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgVXBncmFkZSB0byAke3RhcmdldEJ1aWxkaW5nSW5mby5uYW1lfSBjb21wbGV0ZS5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdnYXRoZXInOiBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3RyYWluX3ZpbGxhZ2VyJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgY291bnQgfSA9IHRhc2sucGF5bG9hZCE7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VmlsbGFnZXJOYW1lcyA9IGdldFJhbmRvbU5hbWVzKCd2aWxsYWdlcicsIGNvdW50ISk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VmlsbGFnZXJzOiBWaWxsYWdlcltdID0gbmV3VmlsbGFnZXJOYW1lcy5tYXAobmFtZSA9PiAoeyBpZDogYCR7RGF0ZS5ub3coKX0tJHtuYW1lfWAsIG5hbWUsIGN1cnJlbnRUYXNrOiBudWxsIH0pKTtcbiAgICAgICAgICAgICAgICBzZXRVbml0cyhwID0+ICh7IC4uLnAsIHZpbGxhZ2VyczogWy4uLnAudmlsbGFnZXJzLCAuLi5uZXdWaWxsYWdlcnNdIH0pKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhgJHtjb3VudH0gbmV3IHZpbGxhZ2VyKHMpIGhhdmUgam9pbmVkIHlvdXIgc2V0dGxlbWVudC5gLCAndmlsbGFnZXInKTtcbiAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgJHtjb3VudH0gbmV3IHZpbGxhZ2VyKHMpIGFyZSByZWFkeSB0byB3b3JrLmApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAndHJhaW5fbWlsaXRhcnknOiB7XG4gICAgICAgICAgICAgICAgIGNvbnN0IHsgdW5pdFR5cGUsIGNvdW50IH0gPSB0YXNrLnBheWxvYWQhO1xuICAgICAgICAgICAgICAgICBjb25zdCB1bml0SW5mbyA9IHVuaXRMaXN0LmZpbmQodSA9PiB1LmlkID09PSB1bml0VHlwZSkhO1xuICAgICAgICAgICAgICAgICBjb25zdCBuZXdVbml0TmFtZXMgPSBnZXRSYW5kb21OYW1lcygnc29sZGllcicsIGNvdW50ISk7XG4gICAgICAgICAgICAgICAgIGNvbnN0IG5ld1VuaXRzOiBNaWxpdGFyeVVuaXRbXSA9IG5ld1VuaXROYW1lcy5tYXAobmFtZSA9PiAoeyBpZDogYCR7RGF0ZS5ub3coKX0tJHt1bml0VHlwZX0tJHtuYW1lfWAsIG5hbWUsIHRpdGxlOiAnJywgdW5pdFR5cGU6IHVuaXRUeXBlISB9KSk7XG4gICAgICAgICAgICAgICAgIHNldFVuaXRzKHAgPT4gKHsgLi4ucCwgbWlsaXRhcnk6IFsuLi5wLm1pbGl0YXJ5LCAuLi5uZXdVbml0c10gfSkpO1xuICAgICAgICAgICAgICAgICBhZGRUb0xvZyhgJHtjb3VudH0gJHt1bml0SW5mby5uYW1lfShzKSBoYXZlIGJlZW4gdHJhaW5lZC5gLCB1bml0VHlwZSEpO1xuICAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgJHtjb3VudH0gbmV3ICR7dW5pdEluZm8ubmFtZX0ocykgYXJlIHJlYWR5IGZvciBiYXR0bGUuYCk7XG4gICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnYWR2YW5jZV9hZ2UnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlQWdlcyA9IG1hc3RlckFnZUxpc3QuZmlsdGVyKGEgPT4gYS5pc0FjdGl2ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gYWN0aXZlQWdlcy5maW5kSW5kZXgoYWdlID0+IGFnZS5uYW1lID09PSBjdXJyZW50QWdlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhZ2VSZXN1bHQgPSBhY3RpdmVBZ2VzW2N1cnJlbnRJbmRleCArIDFdIHx8IHsgbmFtZTogJ0FnZSBvZiBMZWdlbmRzJywgZGVzY3JpcHRpb246ICdZb3VyIGNpdmlsaXphdGlvbiB0cmFuc2NlbmRzIGhpc3RvcnkgYW5kIGJlY29tZXMgYSBsZWdlbmQuJ307XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudEFnZShhZ2VSZXN1bHQubmFtZSk7XG4gICAgICAgICAgICAgICAgYWRkVG9Mb2coYFlvdSBoYXZlIGFkdmFuY2VkIHRvIHRoZSAke2FnZVJlc3VsdC5uYW1lfSFgLCAnYWdlJyk7XG4gICAgICAgICAgICAgICAgYWRkVG9Mb2coYWdlUmVzdWx0LmRlc2NyaXB0aW9uLCAnYWdlJyk7XG4gICAgICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYFdlbGNvbWUgdG8gdGhlICR7YWdlUmVzdWx0Lm5hbWV9IWApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAncmVzZWFyY2gnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyByZXNlYXJjaElkIH0gPSB0YXNrLnBheWxvYWQhO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc2VhcmNoSW5mbyA9IG1hc3RlclJlc2VhcmNoTGlzdC5maW5kKHIgPT4gci5pZCA9PT0gcmVzZWFyY2hJZCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc2VhcmNoSW5mbykge1xuICAgICAgICAgICAgICAgICAgICBzZXRDb21wbGV0ZWRSZXNlYXJjaChwcmV2ID0+IFsuLi5uZXcgU2V0KFsuLi5wcmV2LCByZXNlYXJjaElkIV0pXSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFRvTG9nKGBSZXNlYXJjaCBjb21wbGV0ZTogJHtyZXNlYXJjaEluZm8ubmFtZX0hYCwgcmVzZWFyY2hJbmZvLmljb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBDb21wbGV0ZWQgcmVzZWFyY2ggZm9yICR7cmVzZWFyY2hJbmZvLm5hbWV9LmApO1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBBcHBseSByZXNlYXJjaCBlZmZlY3RzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgW2N1cnJlbnRBZ2UsIGFkZFRvTG9nLCBidWlsZGluZ0xpc3QsIHVuaXRMaXN0LCBtYXN0ZXJBZ2VMaXN0LCBtYXN0ZXJSZXNlYXJjaExpc3QsIGJ1aWxkaW5nc10pO1xuICAgIFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChnYW1lU3RhdGUgIT09IEdhbWVTdGF0dXMuUExBWUlORykge1xuICAgICAgICAgICAgaWYgKGFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQpIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZ2FtZUxvb3AgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgY29uc3QgZGVsdGFUaW1lID0gbm93IC0gbGFzdFRpY2tSZWYuY3VycmVudDtcbiAgICAgICAgICAgIGxhc3RUaWNrUmVmLmN1cnJlbnQgPSBub3c7XG5cbiAgICAgICAgICAgIGxldCBjb21wbGV0ZWRUYXNrczogR2FtZVRhc2tbXSA9IFtdO1xuICAgICAgICAgICAgbGV0IHJlc291cmNlRGVsdGFzVGhpc1RpY2s6IFJlc291cmNlRGVsdGFzID0ge307XG5cbiAgICAgICAgICAgIC8vIC0tLSBQYXNzaXZlIEdlbmVyYXRpb24gYW5kIE1haW50ZW5hbmNlIC0tLVxuICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyhidWlsZGluZ3MpLmZsYXQoKS5mb3JFYWNoKGluc3RhbmNlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb25maWcgPSBtYXN0ZXJCdWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IE9iamVjdC5rZXlzKGJ1aWxkaW5ncykuZmluZChrZXkgPT4gYnVpbGRpbmdzW2tleSBhcyBzdHJpbmddLnNvbWUoYkluc3QgPT4gYkluc3QuaWQgPT09IGluc3RhbmNlLmlkKSkpO1xuICAgICAgICAgICAgICAgIGlmICghY29uZmlnKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAvLyBQYXNzaXZlIEdlbmVyYXRpb25cbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmdlbmVyYXRlc1Jlc291cmNlICYmIGNvbmZpZy5nZW5lcmF0ZXNSZXNvdXJjZSAhPT0gJ25vbmUnICYmIGNvbmZpZy5nZW5lcmF0aW9uUmF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbW91bnRQZXJTZWNvbmQgPSBjb25maWcuZ2VuZXJhdGlvblJhdGUgLyA2MDtcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VEZWx0YXNUaGlzVGlja1tjb25maWcuZ2VuZXJhdGVzUmVzb3VyY2VdID0gKHJlc291cmNlRGVsdGFzVGhpc1RpY2tbY29uZmlnLmdlbmVyYXRlc1Jlc291cmNlXSB8fCAwKSArIChhbW91bnRQZXJTZWNvbmQgLyAxMDAwKSAqIGRlbHRhVGltZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBNYWludGVuYW5jZSBDb3N0c1xuICAgICAgICAgICAgICAgIGlmIChjb25maWcubWFpbnRlbmFuY2VDb3N0KSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGNvbmZpZy5tYWludGVuYW5jZUNvc3QpLmZvckVhY2goKFtyZXMsIGNvc3RdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3N0UGVyU2Vjb25kID0gKGNvc3QgfHwgMCkgLyA2MDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlRGVsdGFzVGhpc1RpY2tbcmVzIGFzIGtleW9mIFJlc291cmNlc10gPSAocmVzb3VyY2VEZWx0YXNUaGlzVGlja1tyZXMgYXMga2V5b2YgUmVzb3VyY2VzXSB8fCAwKSAtIChjb3N0UGVyU2Vjb25kIC8gMTAwMCkgKiBkZWx0YVRpbWU7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZXRBY3RpdmVCdWZmcyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdSZXNvdXJjZUJvb3N0cyA9IHByZXYucmVzb3VyY2VCb29zdD8uZmlsdGVyKGIgPT4gYi5lbmRUaW1lID4gbm93KTtcbiAgICAgICAgICAgICAgICBpZiAobmV3UmVzb3VyY2VCb29zdHM/Lmxlbmd0aCAhPT0gcHJldi5yZXNvdXJjZUJvb3N0Py5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkVG9Mb2coXCJBIHJlc291cmNlIGdhdGhlcmluZyBib251cyBoYXMgZXhwaXJlZC5cIiwgJ3N5c3RlbScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5wcmV2LCByZXNvdXJjZUJvb3N0OiBuZXdSZXNvdXJjZUJvb3N0cyB9O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHRhc2tzSW5Qcm9ncmVzcyA9IGFjdGl2ZVRhc2tzLm1hcCh0YXNrID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobm93ID49IHRhc2suc3RhcnRUaW1lICsgdGFzay5kdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRUYXNrcy5wdXNoKHRhc2spO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRhc2sudHlwZSA9PT0gJ2dhdGhlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHJlc291cmNlTm9kZXMuZmluZChuID0+IG4uaWQgPT09IHRhc2sucGF5bG9hZD8ucmVzb3VyY2VOb2RlSWQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWxsYWdlckNvdW50ID0gdGFzay5wYXlsb2FkPy52aWxsYWdlcklkcz8ubGVuZ3RoIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbm9kZSB8fCB2aWxsYWdlckNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRUYXNrcy5wdXNoKHRhc2spOyByZXR1cm4gbnVsbDsgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFzZVJhdGVQZXJTZWNvbmQgPSAoZ2F0aGVySW5mb1JlZi5jdXJyZW50W25vZGUudHlwZV0/LnJhdGUgfHwgMCkgKiAobm9kZS5yaWNobmVzcyB8fCAxKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNpdkJvbnVzTXVsdGlwbGllciA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaXZpbGl6YXRpb24/LmJvbnVzLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobm9kZS50eXBlLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IGNpdmlsaXphdGlvbi5ib251cy5tYXRjaCgvKFxcZCspJS8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoPy5bMV0pIGNpdkJvbnVzTXVsdGlwbGllciA9IDEgKyAocGFyc2VJbnQobWF0Y2hbMV0sIDEwKSAvIDEwMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbUJvb3N0TXVsdGlwbGllciA9IGFjdGl2ZUJ1ZmZzLnJlc291cmNlQm9vc3Q/LmZpbmQoYiA9PiBiLnJlc291cmNlID09PSBub2RlLnR5cGUpPy5tdWx0aXBsaWVyIHx8IDE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsUmF0ZVBlclNlY29uZCA9IGJhc2VSYXRlUGVyU2Vjb25kICogY2l2Qm9udXNNdWx0aXBsaWVyICogaXRlbUJvb3N0TXVsdGlwbGllcjtcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VEZWx0YXNUaGlzVGlja1tub2RlLnR5cGVdID0gKHJlc291cmNlRGVsdGFzVGhpc1RpY2tbbm9kZS50eXBlXSB8fCAwKSArIChmaW5hbFJhdGVQZXJTZWNvbmQgLyAxMDAwKSAqIGRlbHRhVGltZSAqIHZpbGxhZ2VyQ291bnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0YXNrO1xuICAgICAgICAgICAgfSkuZmlsdGVyKEJvb2xlYW4pIGFzIEdhbWVUYXNrW107XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhyZXNvdXJjZURlbHRhc1RoaXNUaWNrKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKHJlc291cmNlRGVsdGFzVGhpc1RpY2spO1xuICAgICAgICAgICAgICAgIHNldFJlc291cmNlTm9kZXMocHJldk5vZGVzID0+IHByZXZOb2Rlcy5tYXAobm9kZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudFRvRGVjcmVtZW50ID0gcmVzb3VyY2VEZWx0YXNUaGlzVGlja1tub2RlLnR5cGVdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFtb3VudFRvRGVjcmVtZW50IHx8IGFtb3VudFRvRGVjcmVtZW50IDw9IDApIHJldHVybiBub2RlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdBbW91bnQgPSBub2RlLmFtb3VudCAtIGFtb3VudFRvRGVjcmVtZW50O1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3QW1vdW50IDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tJZCA9IGBnYXRoZXItJHtub2RlLmlkfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXNrID0gdGFza3NJblByb2dyZXNzLmZpbmQodCA9PiB0LmlkID09PSB0YXNrSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGFzaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvTG9nKGAke3Rhc2sucGF5bG9hZD8udmlsbGFnZXJJZHM/Lmxlbmd0aCB8fCAwfSB2aWxsYWdlcihzKSBkZXBsZXRlZCBhICR7bm9kZS5yaWNobmVzcyA/ICdyaWNoICcgOiAnJ30ke25vZGUudHlwZX0gc291cmNlLCBnYWluaW5nICR7TWF0aC5mbG9vcihub2RlLmFtb3VudCl9ICR7bm9kZS50eXBlfS5gLCBub2RlLnR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBBICR7bm9kZS5yaWNobmVzcyA/ICdyaWNoICcgOiAnJ30ke25vZGUudHlwZX0gc291cmNlIGhhcyBiZWVuIGZ1bGx5IGRlcGxldGVkLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZFRhc2tzLnB1c2godGFzayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5ub2RlLCBhbW91bnQ6IG5ld0Ftb3VudCB9O1xuICAgICAgICAgICAgICAgIH0pLmZpbHRlcihCb29sZWFuKSBhcyBSZXNvdXJjZU5vZGVbXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGZpbmFsQWN0aXZlVGFza3MgPSB0YXNrc0luUHJvZ3Jlc3MuZmlsdGVyKHQgPT4gIWNvbXBsZXRlZFRhc2tzLnNvbWUoY3QgPT4gY3QuaWQgPT09IHQuaWQpKTtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKGZpbmFsQWN0aXZlVGFza3MpO1xuICAgICAgICAgICAgaWYgKGNvbXBsZXRlZFRhc2tzLmxlbmd0aCA+IDApIGNvbXBsZXRlZFRhc2tzLmZvckVhY2goaGFuZGxlVGFza0NvbXBsZXRpb24pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGdhbWVMb29wKTtcbiAgICAgICAgfTtcbiAgICAgICAgYW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lTG9vcCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7IGlmIChhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50KSBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50KTsgfTtcbiAgICB9LCBbZ2FtZVN0YXRlLCBhY3RpdmVUYXNrcywgcmVzb3VyY2VOb2RlcywgaGFuZGxlVGFza0NvbXBsZXRpb24sIGFkZFRvTG9nLCB1cGRhdGVSZXNvdXJjZXMsIHVuaXRzLnZpbGxhZ2VycywgY2l2aWxpemF0aW9uLCBhY3RpdmVCdWZmcywgYnVpbGRpbmdzLCBtYXN0ZXJCdWlsZGluZ0xpc3RdKTtcblxuICAgIGNvbnN0IGhhbmRsZU5ld0V2ZW50ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoIWNpdmlsaXphdGlvbiB8fCBjdXJyZW50RXZlbnQpIHJldHVybjtcbiAgICAgICAgY29uc3QgZXZlbnQgPSBnZXRQcmVkZWZpbmVkR2FtZUV2ZW50KCk7XG4gICAgICAgIHNldEN1cnJlbnRFdmVudChldmVudCk7XG4gICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKCdBIG5ldyBldmVudCByZXF1aXJlcyB5b3VyIGF0dGVudGlvbiEnKTtcbiAgICB9LCBbY2l2aWxpemF0aW9uLCBjdXJyZW50RXZlbnRdKTtcbiAgICBcbiAgICBjb25zdCBzY2hlZHVsZU5leHRFdmVudCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50VGltZXJSZWYuY3VycmVudCkgY2xlYXJUaW1lb3V0KGV2ZW50VGltZXJSZWYuY3VycmVudCk7XG4gICAgICAgIGV2ZW50VGltZXJSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4gaGFuZGxlTmV3RXZlbnQoKSwgKDEwICsgTWF0aC5yYW5kb20oKSAqIDE1KSAqIDEwMDApO1xuICAgIH0sIFtoYW5kbGVOZXdFdmVudF0pO1xuXG4gICAgY29uc3QgZ2VuZXJhdGVSZXNvdXJjZU5vZGVzID0gKHN0YXJ0UG9zaXRpb246IHsgeDogbnVtYmVyLCB5OiBudW1iZXIgfSk6IFJlc291cmNlTm9kZVtdID0+IHtcbiAgICAgICAgY29uc3Qgbm9kZXM6IFJlc291cmNlTm9kZVtdID0gW107XG4gICAgICAgIGNvbnN0IG9jY3VwaWVkQ2VsbHMgPSBuZXcgU2V0PHN0cmluZz4oW2Ake3N0YXJ0UG9zaXRpb24ueH0sJHtzdGFydFBvc2l0aW9uLnl9YF0pO1xuICAgICAgICBjb25zdCBTQUZFX1JBRElVUyA9IDU7XG4gICAgICAgIGNvbnN0IFJJQ0hfQ0hBTkNFID0gMC4xNTsgLy8gMTUlIGNoYW5jZSBmb3IgYSBub2RlIHRvIGJlIHJpY2hcblxuICAgICAgICBjb25zdCBwbGFjZU5vZGUgPSAodHlwZTogUmVzb3VyY2VOb2RlVHlwZSB8IHN0cmluZywgYW1vdW50OiBudW1iZXIsIHJpY2huZXNzPzogbnVtYmVyLCBwcmVmZXJDb250ZXN0ZWQgPSBmYWxzZSkgPT4ge1xuICAgICAgICAgICAgbGV0IHBsYWNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7IGkrKykgeyAvLyBNYXggMTAwIGF0dGVtcHRzIHRvIHBsYWNlIGEgbm9kZVxuICAgICAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5yYW5kb20oKSAqIDIgKiBNYXRoLlBJO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gcHJlZmVyQ29udGVzdGVkIFxuICAgICAgICAgICAgICAgICAgICA/IFNBRkVfUkFESVVTICsgTWF0aC5yYW5kb20oKSAqIChNYXRoLm1pbihNQVBfRElNRU5TSU9OUy53aWR0aCwgTUFQX0RJTUVOU0lPTlMuaGVpZ2h0KSAvIDIgLSBTQUZFX1JBRElVUylcbiAgICAgICAgICAgICAgICAgICAgOiBNYXRoLnJhbmRvbSgpICogU0FGRV9SQURJVVM7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IE1hdGgucm91bmQoc3RhcnRQb3NpdGlvbi54ICsgTWF0aC5jb3MoYW5nbGUpICogZGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBNYXRoLnJvdW5kKHN0YXJ0UG9zaXRpb24ueSArIE1hdGguc2luKGFuZ2xlKSAqIGRpc3RhbmNlKTtcblxuICAgICAgICAgICAgICAgIGlmICh4ID49IDAgJiYgeCA8IE1BUF9ESU1FTlNJT05TLndpZHRoICYmIHkgPj0gMCAmJiB5IDwgTUFQX0RJTUVOU0lPTlMuaGVpZ2h0ICYmICFvY2N1cGllZENlbGxzLmhhcyhgJHt4fSwke3l9YCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXMucHVzaCh7IGlkOiBgJHtEYXRlLm5vdygpfS1ub2RlLSR7bm9kZXMubGVuZ3RofWAsIHR5cGUsIHBvc2l0aW9uOiB7eCx5fSwgYW1vdW50LCByaWNobmVzcyB9KTtcbiAgICAgICAgICAgICAgICAgICAgb2NjdXBpZWRDZWxscy5hZGQoYCR7eH0sJHt5fWApO1xuICAgICAgICAgICAgICAgICAgICBwbGFjZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGxhY2VkO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2FmZVJlc291cmNlcyA9IG1hc3RlclJlc291cmNlTGlzdC5maWx0ZXIociA9PiByLnNwYXduSW5TYWZlWm9uZSk7XG4gICAgICAgIGNvbnN0IGNvbnRlc3RlZFJlc291cmNlcyA9IG1hc3RlclJlc291cmNlTGlzdC5maWx0ZXIociA9PiAhci5zcGF3bkluU2FmZVpvbmUpO1xuICAgICAgICBcbiAgICAgICAgLy8gUGxhY2Ugc2FmZSByZXNvdXJjZXNcbiAgICAgICAgc2FmZVJlc291cmNlcy5mb3JFYWNoKHJlcyA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykgeyAvLyBBdHRlbXB0IHRvIHBsYWNlIDMgbm9kZXMgb2YgZWFjaCBzYWZlIHR5cGVcbiAgICAgICAgICAgICAgICAgcGxhY2VOb2RlKHJlcy5pZCwgODAwICsgTWF0aC5yYW5kb20oKSAqIDQwMCwgTWF0aC5yYW5kb20oKSA8IFJJQ0hfQ0hBTkNFID8gMS41IDogMSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBQbGFjZSBjb250ZXN0ZWQgcmVzb3VyY2VzXG4gICAgICAgIGNvbnRlc3RlZFJlc291cmNlcy5mb3JFYWNoKHJlcyA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI7IGkrKykgeyAvLyBBdHRlbXB0IHRvIHBsYWNlIDIgbm9kZXMgb2YgZWFjaCBjb250ZXN0ZWQgdHlwZVxuICAgICAgICAgICAgICAgIHBsYWNlTm9kZShyZXMuaWQsIDEwMDAgKyBNYXRoLnJhbmRvbSgpICogNTAwLCBNYXRoLnJhbmRvbSgpIDwgUklDSF9DSEFOQ0UgPyAyIDogMSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBub2RlcztcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlU3RhcnROZXdHYW1lID0gYXN5bmMgKHNhdmVOYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgaWYgKGFsbFNhdmVzLmluY2x1ZGVzKHNhdmVOYW1lKSkgeyBhZGROb3RpZmljYXRpb24oYEEgc2FnYSBuYW1lZCBcIiR7c2F2ZU5hbWV9XCIgYWxyZWFkeSBleGlzdHMuYCk7IHJldHVybjsgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgY29uZmlncyA9IGF3YWl0IGZldGNoU2F2ZXNBbmRDb25maWdzKCk7XG4gICAgICAgIHNldEdhbWVTdGF0ZShHYW1lU3RhdHVzLkxPQURJTkcpO1xuICAgICAgICBzZXRDdXJyZW50U2F2ZU5hbWUoc2F2ZU5hbWUpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgbG9jYWxBZ2VQcm9ncmVzc2lvbkxpc3QgPSBjb25maWdzLmFsbEFnZUNvbmZpZ3MuZmlsdGVyKGEgPT4gYS5pc0FjdGl2ZSk7XG5cbiAgICAgICAgY29uc3QgY2l2ID0gZ2V0UHJlZGVmaW5lZENpdmlsaXphdGlvbigpO1xuICAgICAgICBzZXRDaXZpbGl6YXRpb24oY2l2KTtcblxuICAgICAgICBjb25zdCBpbml0aWFsUmVzOiBSZXNvdXJjZXMgPSB7fTtcbiAgICAgICAgY29uZmlncy5hbGxSZXNvdXJjZUNvbmZpZ3MuZm9yRWFjaChyZXMgPT4ge1xuICAgICAgICAgICAgaWYgKHJlcy5pc0FjdGl2ZSkgaW5pdGlhbFJlc1tyZXMuaWRdID0gcmVzLmluaXRpYWxBbW91bnQ7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRSZXNvdXJjZXMoaW5pdGlhbFJlcyk7XG5cbiAgICAgICAgY29uc3QgaW5pdGlhbFZpbGxhZ2VycyA9IGdldFJhbmRvbU5hbWVzKCd2aWxsYWdlcicsIDMpLm1hcChuYW1lID0+ICh7IGlkOiBgJHtEYXRlLm5vdygpfS0ke25hbWV9YCwgbmFtZSwgY3VycmVudFRhc2s6IG51bGwgfSkpO1xuICAgICAgICBzZXRVbml0cyh7IHZpbGxhZ2VyczogaW5pdGlhbFZpbGxhZ2VycywgbWlsaXRhcnk6IFtdIH0pO1xuICAgICAgICBjb25zdCB0Y1Bvc2l0aW9uID0geyB4OiBNYXRoLmZsb29yKE1BUF9ESU1FTlNJT05TLndpZHRoIC8gMiksIHk6IE1hdGguZmxvb3IoTUFQX0RJTUVOU0lPTlMuaGVpZ2h0IC8gMikgfTtcbiAgICAgICAgY29uc3QgdGNJbmZvID0gY29uZmlncy5hbGxCdWlsZGluZ0NvbmZpZ3MuZmluZChiID0+IGIuaWQgPT09ICd0b3duQ2VudGVyJykhO1xuICAgICAgICBjb25zdCBpbml0aWFsVEMgPSB7IGlkOiBgJHtEYXRlLm5vdygpfS10Y2AsIG5hbWU6IGdldFJhbmRvbU5hbWVzKCdidWlsZGluZycsIDEpWzBdLCBwb3NpdGlvbjogdGNQb3NpdGlvbiwgY3VycmVudEhwOiB0Y0luZm8uaHAgfTtcbiAgICAgICAgc2V0QnVpbGRpbmdzKHsuLi5pbml0aWFsQnVpbGRpbmdzU3RhdGUsIHRvd25DZW50ZXI6IFtpbml0aWFsVENdfSk7XG4gICAgICAgIHNldFJlc291cmNlTm9kZXMoZ2VuZXJhdGVSZXNvdXJjZU5vZGVzKHRjUG9zaXRpb24pKTtcbiAgICAgICAgc2V0Q3VycmVudEFnZShsb2NhbEFnZVByb2dyZXNzaW9uTGlzdFswXT8ubmFtZSB8fCBJTklUSUFMX0FHRVNbMF0ubmFtZSk7XG4gICAgICAgIHNldEdhbWVMb2coW10pOyBzZXRDdXJyZW50RXZlbnQobnVsbCk7IHNldFVubGltaXRlZFJlc291cmNlcyhmYWxzZSk7IHNldEFjdGl2ZVRhc2tzKFtdKTsgc2V0SW52ZW50b3J5KFtdKTsgc2V0QWN0aXZlQnVmZnMoeyByZXNvdXJjZUJvb3N0OiBbXSB9KTsgc2V0Q29tcGxldGVkUmVzZWFyY2goW10pO1xuICAgICAgICBhZGRUb0xvZyhgJHtjaXYubmFtZX0gaGFzIGJlZW4gZm91bmRlZCFgLCAnc3lzdGVtJyk7XG4gICAgICAgIGFkZFRvTG9nKCdZb3VyIHN0b3J5IGJlZ2lucy4uLicsICdzeXN0ZW0nKTtcbiAgICAgICAgc2V0R2FtZVN0YXRlKEdhbWVTdGF0dXMuUExBWUlORyk7XG4gICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKCdZb3VyIHNldHRsZW1lbnQgYXdhaXRzIHlvdXIgY29tbWFuZC4nKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaXNWaWxsYWdlckJ1c3kgPSB1c2VDYWxsYmFjaygodmlsbGFnZXJJZDogc3RyaW5nKTogYm9vbGVhbiA9PiAhIXVuaXRzLnZpbGxhZ2Vycy5maW5kKHYgPT4gdi5pZCA9PT0gdmlsbGFnZXJJZCk/LmN1cnJlbnRUYXNrLCBbdW5pdHMudmlsbGFnZXJzXSk7XG5cbiAgICBjb25zdCBnZXRWaWxsYWdlclRhc2tEZXRhaWxzID0gdXNlQ2FsbGJhY2soKHZpbGxhZ2VySWQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgICAgIGNvbnN0IHZpbGxhZ2VyID0gdW5pdHMudmlsbGFnZXJzLmZpbmQodiA9PiB2LmlkID09PSB2aWxsYWdlcklkKTtcbiAgICAgICAgaWYgKCF2aWxsYWdlcj8uY3VycmVudFRhc2spIHJldHVybiAnSWRsZSc7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBhY3RpdmVUYXNrcy5maW5kKHQgPT4gdC5pZCA9PT0gdmlsbGFnZXIuY3VycmVudFRhc2spO1xuICAgICAgICBpZiAoIXRhc2spIHJldHVybiAnSWRsZSAoRmluYWxpemluZyBUYXNrKSc7XG4gICAgICAgIGlmICh0YXNrLnR5cGUgPT09ICdidWlsZCcpIHJldHVybiBgQnVzeTogQ29uc3RydWN0aW5nICR7YnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSB0YXNrLnBheWxvYWQhLmJ1aWxkaW5nVHlwZSk/Lm5hbWUgfHwgJ2EgYnVpbGRpbmcnfWA7XG4gICAgICAgIGlmICh0YXNrLnR5cGUgPT09ICdnYXRoZXInKSByZXR1cm4gYEJ1c3k6IEdhdGhlcmluZyAke3Jlc291cmNlTm9kZXMuZmluZChuID0+IG4uaWQgPT09IHRhc2sucGF5bG9hZCEucmVzb3VyY2VOb2RlSWQpPy50eXBlIHx8ICdyZXNvdXJjZXMnfWA7XG4gICAgICAgIHJldHVybiAnSWRsZSc7XG4gICAgfSwgW2FjdGl2ZVRhc2tzLCByZXNvdXJjZU5vZGVzLCB1bml0cy52aWxsYWdlcnMsIGJ1aWxkaW5nTGlzdF0pO1xuXG4gICAgY29uc3QgaGFuZGxlUmVzdW1lR2FtZSA9IGFzeW5jIChzYXZlTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbmZpZ3MgPSBhd2FpdCBmZXRjaFNhdmVzQW5kQ29uZmlncygpO1xuICAgICAgICBjb25zdCBzYXZlZFN0YXRlID0gYXdhaXQgbG9hZEdhbWVTdGF0ZShzYXZlTmFtZSkgYXMgRnVsbEdhbWVTdGF0ZTtcbiAgICAgICAgaWYgKHNhdmVkU3RhdGUpIHtcbiAgICAgICAgICAgIHNldEdhbWVTdGF0ZShHYW1lU3RhdHVzLkxPQURJTkcpO1xuICAgICAgICAgICAgc2V0Q3VycmVudFNhdmVOYW1lKHNhdmVOYW1lKTtcbiAgICAgICAgICAgIHNldENpdmlsaXphdGlvbihzYXZlZFN0YXRlLmNpdmlsaXphdGlvbik7XG4gICAgICAgICAgICBzZXRSZXNvdXJjZXMoc2F2ZWRTdGF0ZS5yZXNvdXJjZXMpO1xuICAgICAgICAgICAgY29uc3QgbWlncmF0ZWRWaWxsYWdlcnMgPSAoc2F2ZWRTdGF0ZS51bml0cy52aWxsYWdlcnMgfHwgW10pLm1hcCh2ID0+ICh7Li4udiwgY3VycmVudFRhc2s6IHYuY3VycmVudFRhc2sgIT09IHVuZGVmaW5lZCA/IHYuY3VycmVudFRhc2sgOiBudWxsfSkpO1xuICAgICAgICAgICAgY29uc3QgbWlncmF0ZWRUYXNrcyA9IChzYXZlZFN0YXRlLmFjdGl2ZVRhc2tzIHx8IFtdKS5tYXAodCA9PiB0LnR5cGUgPT09ICdidWlsZCcgJiYgIXQucGF5bG9hZD8udmlsbGFnZXJJZHMgPyB7IC4uLnQsIHBheWxvYWQ6IHsgLi4udC5wYXlsb2FkLCB2aWxsYWdlcklkczogW10gfSB9IDogdCk7XG4gICAgICAgICAgICBtaWdyYXRlZFRhc2tzLmZvckVhY2godGFzayA9PiB0YXNrLnBheWxvYWQ/LnZpbGxhZ2VySWRzPy5mb3JFYWNoKHZpZCA9PiB7IGNvbnN0IHYgPSBtaWdyYXRlZFZpbGxhZ2Vycy5maW5kKHYgPT4gdi5pZCA9PT0gdmlkKTsgaWYodikgdi5jdXJyZW50VGFzayA9IHRhc2suaWQ7IH0pKTtcbiAgICAgICAgICAgIHNldFVuaXRzKHsgLi4uc2F2ZWRTdGF0ZS51bml0cywgdmlsbGFnZXJzOiBtaWdyYXRlZFZpbGxhZ2VycyB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgY29uc3RydWN0aW9uVGFza3MgPSBtaWdyYXRlZFRhc2tzLmZpbHRlcih0ID0+IHQudHlwZSA9PT0gJ2J1aWxkJyk7XG4gICAgICAgICAgICBjb25zdCBvY2N1cGllZENlbGxzID0gbmV3IFNldChbLi4uT2JqZWN0LnZhbHVlcyhzYXZlZFN0YXRlLmJ1aWxkaW5ncyB8fCB7fSkuZmxhdCgpLm1hcCgoYjogYW55KSA9PiBgJHtiLnBvc2l0aW9uLnh9LCR7Yi5wb3NpdGlvbi55fWApLCAuLi5jb25zdHJ1Y3Rpb25UYXNrcy5tYXAodCA9PiBgJHt0LnBheWxvYWQhLnBvc2l0aW9uIS54fSwke3QucGF5bG9hZCEucG9zaXRpb24hLnl9YCldKTtcbiAgICAgICAgICAgIGxldCBmaW5hbEJ1aWxkaW5ncyA9IHsgLi4uaW5pdGlhbEJ1aWxkaW5nc1N0YXRlLCAuLi4oc2F2ZWRTdGF0ZS5idWlsZGluZ3MgfHwge30pIH07XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhmaW5hbEJ1aWxkaW5ncykuZm9yRWFjaChiVHlwZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5mbyA9IGNvbmZpZ3MuYWxsQnVpbGRpbmdDb25maWdzLmZpbmQoYiA9PiBiLmlkID09PSBiVHlwZSk7XG4gICAgICAgICAgICAgICAgaWYoaW5mbykgZmluYWxCdWlsZGluZ3NbYlR5cGVdID0gZmluYWxCdWlsZGluZ3NbYlR5cGVdLm1hcChiID0+ICh7IC4uLmIsIGN1cnJlbnRIcDogYi5jdXJyZW50SHAgPT09IHVuZGVmaW5lZCA/IGluZm8uaHAgOiBiLmN1cnJlbnRIcCB9KSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxldCB0Y1Bvc2l0aW9uID0geyB4OiAxMCwgeTogNSB9O1xuICAgICAgICAgICAgaWYgKCFmaW5hbEJ1aWxkaW5ncy50b3duQ2VudGVyIHx8IGZpbmFsQnVpbGRpbmdzLnRvd25DZW50ZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgIHdoaWxlIChvY2N1cGllZENlbGxzLmhhcyhgJHt0Y1Bvc2l0aW9uLnh9LCR7dGNQb3NpdGlvbi55fWApKSB7IHRjUG9zaXRpb24ueCsrOyB9XG4gICAgICAgICAgICAgICAgY29uc3QgdGNJbmZvID0gY29uZmlncy5hbGxCdWlsZGluZ0NvbmZpZ3MuZmluZChiID0+IGIuaWQgPT09ICd0b3duQ2VudGVyJykhO1xuICAgICAgICAgICAgICAgIGZpbmFsQnVpbGRpbmdzLnRvd25DZW50ZXIgPSBbeyBpZDogYCR7RGF0ZS5ub3coKX0tdGNgLCBuYW1lOiBnZXRSYW5kb21OYW1lcygnYnVpbGRpbmcnLCAxKVswXSwgcG9zaXRpb246IHRjUG9zaXRpb24sIGN1cnJlbnRIcDogdGNJbmZvLmhwIH1dO1xuICAgICAgICAgICAgICAgIG9jY3VwaWVkQ2VsbHMuYWRkKGAke3RjUG9zaXRpb24ueH0sJHt0Y1Bvc2l0aW9uLnl9YCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRjUG9zaXRpb24gPSBmaW5hbEJ1aWxkaW5ncy50b3duQ2VudGVyWzBdLnBvc2l0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0QnVpbGRpbmdzKGZpbmFsQnVpbGRpbmdzKTtcblxuICAgICAgICAgICAgc2V0UmVzb3VyY2VOb2Rlcygoc2F2ZWRTdGF0ZS5yZXNvdXJjZU5vZGVzIHx8IFtdKS5sZW5ndGggPT09IDAgPyBnZW5lcmF0ZVJlc291cmNlTm9kZXModGNQb3NpdGlvbikgOiAoc2F2ZWRTdGF0ZS5yZXNvdXJjZU5vZGVzIHx8IFtdKSk7XG4gICAgICAgICAgICBzZXRDdXJyZW50QWdlKHNhdmVkU3RhdGUuY3VycmVudEFnZSk7IHNldEdhbWVMb2coc2F2ZWRTdGF0ZS5nYW1lTG9nKTsgc2V0QWN0aXZlVGFza3MobWlncmF0ZWRUYXNrcyk7XG4gICAgICAgICAgICBzZXRJbnZlbnRvcnkoc2F2ZWRTdGF0ZS5pbnZlbnRvcnkgfHwgW10pOyBzZXRBY3RpdmVCdWZmcyhzYXZlZFN0YXRlLmFjdGl2ZUJ1ZmZzIHx8IHsgcmVzb3VyY2VCb29zdDogW10gfSk7XG4gICAgICAgICAgICBzZXRDb21wbGV0ZWRSZXNlYXJjaChzYXZlZFN0YXRlLmNvbXBsZXRlZFJlc2VhcmNoIHx8IFtdKTtcbiAgICAgICAgICAgIHNldEN1cnJlbnRFdmVudChudWxsKTsgc2V0QWN0aXZpdHlTdGF0dXMoJ1dlbGNvbWUgYmFjayB0byB5b3VyIHNhZ2EuJyk7XG4gICAgICAgICAgICBzZXRHYW1lU3RhdGUoR2FtZVN0YXR1cy5QTEFZSU5HKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihgQ291bGQgbm90IGZpbmQgYSBzYXZlZCBnYW1lIG5hbWVkIFwiJHtzYXZlTmFtZX1cIi5gKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZ2FtZVN0YXRlICE9PSBHYW1lU3RhdHVzLlBMQVlJTkcpIHJldHVybjtcbiAgICAgICAgaWYgKCFjdXJyZW50RXZlbnQpIHNjaGVkdWxlTmV4dEV2ZW50KCk7XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50VGltZXJSZWYuY3VycmVudCkgY2xlYXJUaW1lb3V0KGV2ZW50VGltZXJSZWYuY3VycmVudCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7IGlmIChldmVudFRpbWVyUmVmLmN1cnJlbnQpIGNsZWFyVGltZW91dChldmVudFRpbWVyUmVmLmN1cnJlbnQpOyB9O1xuICAgIH0sIFtnYW1lU3RhdGUsIGN1cnJlbnRFdmVudCwgc2NoZWR1bGVOZXh0RXZlbnRdKTtcblxuICAgIGNvbnN0IGhhbmRsZUV2ZW50Q2hvaWNlID0gKGNob2ljZTogR2FtZUV2ZW50Q2hvaWNlKSA9PiB7XG4gICAgICAgIGlmIChjaG9pY2UuY29zdCkge1xuICAgICAgICAgICAgY29uc3QgbWlzc2luZyA9IChPYmplY3Qua2V5cyhjaG9pY2UuY29zdCkgYXMgKGtleW9mIFJlc291cmNlcylbXSkuZmlsdGVyKHJlcyA9PiAocmVzb3VyY2VzW3Jlc10gfHwgMCkgPCAoY2hvaWNlLmNvc3QhW3Jlc10gfHwgMCkpO1xuICAgICAgICAgICAgaWYgKG1pc3NpbmcubGVuZ3RoID4gMCkgeyBhZGROb3RpZmljYXRpb24oYFlvdSBsYWNrIHRoZSByZXF1aXJlZCByZXNvdXJjZXM6ICR7bWlzc2luZy5qb2luKCcsICcpfS5gKTsgcmV0dXJuOyB9XG4gICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXMoT2JqZWN0LmVudHJpZXMoY2hvaWNlLmNvc3QpLnJlZHVjZSgoYWNjLCBbaywgdl0pID0+ICh7Li4uYWNjLCBba106IC0odiB8fCAwKX0pLCB7fSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzU3VjY2VzcyA9IGNob2ljZS5zdWNjZXNzQ2hhbmNlID09PSB1bmRlZmluZWQgfHwgTWF0aC5yYW5kb20oKSA8IGNob2ljZS5zdWNjZXNzQ2hhbmNlO1xuICAgICAgICBjb25zdCBlZmZlY3RzID0gaXNTdWNjZXNzID8gY2hvaWNlLnN1Y2Nlc3NFZmZlY3RzIDogY2hvaWNlLmZhaWx1cmVFZmZlY3RzO1xuICAgICAgICBpZiAoIWVmZmVjdHMpIHsgc2V0Q3VycmVudEV2ZW50KG51bGwpOyBzY2hlZHVsZU5leHRFdmVudCgpOyByZXR1cm47IH1cblxuICAgICAgICBsZXQgbG9nTWVzc2FnZSA9IGBEZWNpc2lvbjogXCIke2Nob2ljZS50ZXh0fVwiLiBPdXRjb21lOiAke2lzU3VjY2VzcyA/ICdTdWNjZXNzJyA6ICdGYWlsdXJlJ30uICR7ZWZmZWN0cy5sb2d9YDtcbiAgICAgICAgZWZmZWN0cy5yZXdhcmRzLmZvckVhY2goKHJld2FyZDogUmV3YXJkKSA9PiB7XG4gICAgICAgICAgICBpZiAocmV3YXJkLnR5cGUgPT09ICdyZXNvdXJjZScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbW91bnQgPSBBcnJheS5pc0FycmF5KHJld2FyZC5hbW91bnQpID8gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHJld2FyZC5hbW91bnRbMV0gLSByZXdhcmQuYW1vdW50WzBdICsgMSkpICsgcmV3YXJkLmFtb3VudFswXSA6IHJld2FyZC5hbW91bnQ7XG4gICAgICAgICAgICAgICAgaWYgKGFtb3VudCAhPT0gMCkgeyB1cGRhdGVSZXNvdXJjZXMoeyBbcmV3YXJkLnJlc291cmNlXTogYW1vdW50IH0pOyBsb2dNZXNzYWdlICs9IGAgWW91ICR7YW1vdW50ID4gMCA/ICdnYWluZWQnIDogJ2xvc3QnfSAke01hdGguYWJzKGFtb3VudCl9ICR7cmV3YXJkLnJlc291cmNlfS5gOyB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJld2FyZC50eXBlID09PSAnaXRlbScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtSW5mbyA9IEdBTUVfSVRFTVNbcmV3YXJkLml0ZW1JZF07XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1JbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW1zID0gQXJyYXkuZnJvbSh7bGVuZ3RoOiByZXdhcmQuYW1vdW50fSwgKF8sIGkpID0+ICh7IC4uLml0ZW1JbmZvLCBpZDogYCR7cmV3YXJkLml0ZW1JZH0tJHtEYXRlLm5vdygpfS0ke2l9YCB9KSk7XG4gICAgICAgICAgICAgICAgICAgIHNldEludmVudG9yeShwcmV2ID0+IFsuLi5wcmV2LCAuLi5uZXdJdGVtc10pO1xuICAgICAgICAgICAgICAgICAgICBsb2dNZXNzYWdlICs9IGAgWW91IHJlY2VpdmVkICR7cmV3YXJkLmFtb3VudH14ICR7aXRlbUluZm8ubmFtZX0hYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJld2FyZC50eXBlID09PSAndW5pdCcgJiYgcmV3YXJkLnVuaXRUeXBlID09PSAndmlsbGFnZXInKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VmlsbGFnZXJzID0gZ2V0UmFuZG9tTmFtZXMoJ3ZpbGxhZ2VyJywgcmV3YXJkLmFtb3VudCkubWFwKG5hbWUgPT4gKHsgaWQ6IGAke0RhdGUubm93KCl9LSR7bmFtZX1gLCBuYW1lLCBjdXJyZW50VGFzazogbnVsbCB9KSk7XG4gICAgICAgICAgICAgICAgc2V0VW5pdHMocCA9PiAoeyAuLi5wLCB2aWxsYWdlcnM6IFsuLi5wLnZpbGxhZ2VycywgLi4ubmV3VmlsbGFnZXJzXSB9KSk7XG4gICAgICAgICAgICAgICAgbG9nTWVzc2FnZSArPSBgIFlvdSBnYWluZWQgJHtyZXdhcmQuYW1vdW50fSB2aWxsYWdlcihzKS5gO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXdhcmQudHlwZSA9PT0gJ2J1aWxkaW5nJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gcmV3YXJkLmJ1aWxkaW5nSWQpO1xuICAgICAgICAgICAgICAgIGlmIChidWlsZGluZ0luZm8pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2NjdXBpZWRDZWxscyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QudmFsdWVzKGJ1aWxkaW5ncykuZmxhdCgpLmZvckVhY2goYiA9PiBvY2N1cGllZENlbGxzLmFkZChgJHtiLnBvc2l0aW9uLnh9LCR7Yi5wb3NpdGlvbi55fWApKTtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlVGFza3MuZmlsdGVyKHQgPT4gdC50eXBlID09PSAnYnVpbGQnKS5mb3JFYWNoKHQgPT4gdC5wYXlsb2FkPy5wb3NpdGlvbiAmJiBvY2N1cGllZENlbGxzLmFkZChgJHt0LnBheWxvYWQucG9zaXRpb24ueH0sJHt0LnBheWxvYWQucG9zaXRpb24ueX1gKSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlTm9kZXMuZm9yRWFjaChuID0+IG9jY3VwaWVkQ2VsbHMuYWRkKGAke24ucG9zaXRpb24ueH0sJHtuLnBvc2l0aW9uLnl9YCkpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBsYWNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE1BUF9ESU1FTlNJT05TLndpZHRoICogTUFQX0RJTUVOU0lPTlMuaGVpZ2h0OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNQVBfRElNRU5TSU9OUy53aWR0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTUFQX0RJTUVOU0lPTlMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb2NjdXBpZWRDZWxscy5oYXMoYCR7eH0sJHt5fWApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgW25hbWVdID0gZ2V0UmFuZG9tTmFtZXMoJ2J1aWxkaW5nJywgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3QnVpbGRpbmc6IEJ1aWxkaW5nSW5zdGFuY2UgPSB7IGlkOiBgcmV3YXJkLSR7RGF0ZS5ub3coKX1gLCBuYW1lLCBwb3NpdGlvbjoge3gseX0sIGN1cnJlbnRIcDogYnVpbGRpbmdJbmZvLmhwIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QnVpbGRpbmdzKHAgPT4gKHsgLi4ucCwgW3Jld2FyZC5idWlsZGluZ0lkIGFzIHN0cmluZ106IFsuLi4ocFtyZXdhcmQuYnVpbGRpbmdJZCBhcyBzdHJpbmddIHx8IFtdKSwgbmV3QnVpbGRpbmddfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ01lc3NhZ2UgKz0gYCBZb3Ugd2VyZSBnaWZ0ZWQgYSBuZXcgJHtidWlsZGluZ0luZm8ubmFtZX0hYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghcGxhY2VkKSBsb2dNZXNzYWdlICs9IGAgWW91IHdlcmUgdG8gYmUgZ2lmdGVkIGEgJHtidWlsZGluZ0luZm8ubmFtZX0sIGJ1dCB0aGVyZSB3YXMgbm8gcm9vbSB0byBidWlsZCBpdCFgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBhZGRUb0xvZyhsb2dNZXNzYWdlLCAnZXZlbnQnKTsgc2V0QWN0aXZpdHlTdGF0dXMoZWZmZWN0cy5sb2cpOyBzZXRDdXJyZW50RXZlbnQobnVsbCk7IHNjaGVkdWxlTmV4dEV2ZW50KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUluaXRpYXRlQnVpbGQgPSAodmlsbGFnZXJJZDogc3RyaW5nLCByZWN0OiBET01SZWN0KSA9PiB7XG4gICAgICAgIGlmIChpc1ZpbGxhZ2VyQnVzeSh2aWxsYWdlcklkKSkgeyBhZGROb3RpZmljYXRpb24oXCJUaGlzIHZpbGxhZ2VyIGlzIGFscmVhZHkgYnVzeS5cIik7IHJldHVybjsgfVxuICAgICAgICBzZXRCdWlsZFBhbmVsU3RhdGUoeyBpc09wZW46IHRydWUsIHZpbGxhZ2VySWQsIGFuY2hvclJlY3Q6IHJlY3QgfSk7XG4gICAgICAgIHNldFVuaXRNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgaGFuZGxlU3RhcnRQbGFjZW1lbnQgPSAoYnVpbGRpbmdJZDogQnVpbGRpbmdUeXBlIHwgc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IHZpbGxhZ2VySWQgPSBidWlsZFBhbmVsU3RhdGUudmlsbGFnZXJJZDsgaWYgKCF2aWxsYWdlcklkKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gYnVpbGRpbmdJZCk7IGlmICghYnVpbGRpbmdJbmZvKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgZXhpc3RpbmdDb3VudCA9IGJ1aWxkaW5nc1tidWlsZGluZ0luZm8uaWQgYXMgc3RyaW5nXT8ubGVuZ3RoIHx8IDA7XG4gICAgICAgIGNvbnN0IGNvbnN0cnVjdGluZ0NvdW50ID0gYWN0aXZlVGFza3MuZmlsdGVyKHQgPT4gdC50eXBlID09PSAnYnVpbGQnICYmIHQucGF5bG9hZD8uYnVpbGRpbmdUeXBlID09PSBidWlsZGluZ0luZm8uaWQpLmxlbmd0aDtcbiAgICAgICAgY29uc3QgdG90YWxDb3VudCA9IGV4aXN0aW5nQ291bnQgKyBjb25zdHJ1Y3RpbmdDb3VudDtcbiAgICAgICAgY29uc3QgbGltaXQgPSBidWlsZGluZ0luZm8uYnVpbGRMaW1pdCB8fCAwO1xuXG4gICAgICAgIGlmIChsaW1pdCA+IDAgJiYgdG90YWxDb3VudCA+PSBsaW1pdCkge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKGBZb3UgaGF2ZSByZWFjaGVkIHRoZSBidWlsZCBsaW1pdCBmb3IgJHtidWlsZGluZ0luZm8ubmFtZX0gKCR7bGltaXR9KS5gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1pc3NpbmcgPSB1bmxpbWl0ZWRSZXNvdXJjZXMgPyBbXSA6IChPYmplY3Qua2V5cyhidWlsZGluZ0luZm8uY29zdCkgYXMgKGtleW9mIFJlc291cmNlcylbXSkuZmlsdGVyKHJlcyA9PiAocmVzb3VyY2VzW3Jlc10gfHwgMCkgPCAoYnVpbGRpbmdJbmZvLmNvc3RbcmVzXSB8fCAwKSk7XG4gICAgICAgIGlmIChtaXNzaW5nLmxlbmd0aCA+IDApIHsgYWRkTm90aWZpY2F0aW9uKGBOZWVkIG1vcmUgJHttaXNzaW5nLmpvaW4oJywgJyl9LmApOyByZXR1cm47IH1cbiAgICAgICAgXG4gICAgICAgIHNldFBsYXllckFjdGlvbih7IG1vZGU6ICdidWlsZCcsIGJ1aWxkaW5nVHlwZTogYnVpbGRpbmdJZCwgdmlsbGFnZXJJZCB9KTtcbiAgICAgICAgc2V0QnVpbGRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdmlsbGFnZXJJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYFNlbGVjdCBhIGxvY2F0aW9uIHRvIGJ1aWxkIGEgJHtidWlsZGluZ0luZm8ubmFtZX0uIFJpZ2h0LWNsaWNrIHRvIGNhbmNlbC5gKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQ29uZmlybVBsYWNlbWVudCA9IChwb3NpdGlvbjogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9KSA9PiB7XG4gICAgICAgIGlmIChwbGF5ZXJBY3Rpb24/Lm1vZGUgIT09ICdidWlsZCcpIHJldHVybjtcbiAgICAgICAgY29uc3QgeyBidWlsZGluZ1R5cGUsIHZpbGxhZ2VySWQgfSA9IHBsYXllckFjdGlvbjtcbiAgICAgICAgY29uc3QgYnVpbGRpbmdJbmZvID0gYnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSBidWlsZGluZ1R5cGUpO1xuICAgICAgICBjb25zdCBidWlsZGVyID0gdW5pdHMudmlsbGFnZXJzLmZpbmQodiA9PiB2LmlkID09PSB2aWxsYWdlcklkKTtcbiAgICAgICAgaWYgKCFidWlsZGluZ0luZm8gfHwgIWJ1aWxkZXIpIHJldHVybjtcbiAgICAgICAgaWYgKCF1bmxpbWl0ZWRSZXNvdXJjZXMpIHVwZGF0ZVJlc291cmNlcyhPYmplY3QuZW50cmllcyhidWlsZGluZ0luZm8uY29zdCkucmVkdWNlKChhY2MsIFtrLCB2XSkgPT4gKHsuLi5hY2MsIFtrXTogLSh2IHx8IDApfSksIHt9KSk7XG4gICAgICAgIFxuICAgICAgICBsZXQgYnVpbGRUaW1lID0gYnVpbGRpbmdJbmZvLmJ1aWxkVGltZSAqIDEwMDA7XG4gICAgICAgIGlmKGFjdGl2ZUJ1ZmZzLmJ1aWxkVGltZVJlZHVjdGlvbikge1xuICAgICAgICAgICAgYnVpbGRUaW1lICo9ICgxIC0gYWN0aXZlQnVmZnMuYnVpbGRUaW1lUmVkdWN0aW9uLnBlcmNlbnRhZ2UpO1xuICAgICAgICAgICAgYWRkVG9Mb2coYEEgQnVpbGRlcidzIENoYXJtIHJlZHVjZWQgY29uc3RydWN0aW9uIHRpbWUgYnkgJHthY3RpdmVCdWZmcy5idWlsZFRpbWVSZWR1Y3Rpb24ucGVyY2VudGFnZSAqIDEwMH0lIWAsICdpdGVtJyk7XG4gICAgICAgICAgICBzZXRBY3RpdmVCdWZmcyhwcmV2ID0+ICh7Li4ucHJldiwgYnVpbGRUaW1lUmVkdWN0aW9uOiBwcmV2LmJ1aWxkVGltZVJlZHVjdGlvbiEudXNlcyAtIDEgPiAwID8gey4uLnByZXYuYnVpbGRUaW1lUmVkdWN0aW9uISwgdXNlczogcHJldi5idWlsZFRpbWVSZWR1Y3Rpb24hLnVzZXMgLSAxfSA6IHVuZGVmaW5lZCB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRhc2tJZCA9IGAke0RhdGUubm93KCl9LWJ1aWxkLSR7YnVpbGRpbmdUeXBlfWA7XG4gICAgICAgIGNvbnN0IHRhc2tQYXlsb2FkID0geyBidWlsZGluZ1R5cGUsIHZpbGxhZ2VySWRzOiBbdmlsbGFnZXJJZF0sIHBvc2l0aW9uIH07XG4gICAgICAgIGlmICh1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgICBoYW5kbGVUYXNrQ29tcGxldGlvbih7IGlkOiB0YXNrSWQsIHR5cGU6ICdidWlsZCcsIHN0YXJ0VGltZTogMCwgZHVyYXRpb246IDAsIHBheWxvYWQ6IHsgLi4udGFza1BheWxvYWQsIHBvc2l0aW9uIH0gfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IFsuLi5wcmV2LCB7IGlkOiB0YXNrSWQsIHR5cGU6ICdidWlsZCcsIHN0YXJ0VGltZTogRGF0ZS5ub3coKSwgZHVyYXRpb246IGJ1aWxkVGltZSwgcGF5bG9hZDogdGFza1BheWxvYWQgfV0pO1xuICAgICAgICAgICAgc2V0VW5pdHMocHJldiA9PiAoey4uLnByZXYsIHZpbGxhZ2VyczogcHJldi52aWxsYWdlcnMubWFwKHYgPT4gdi5pZCA9PT0gdmlsbGFnZXJJZCA/IHsuLi52LCBjdXJyZW50VGFzazogdGFza0lkfSA6IHYpfSkpO1xuICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYCR7YnVpbGRlci5uYW1lfSBoYXMgc3RhcnRlZCBjb25zdHJ1Y3RpbmcgYSAke2J1aWxkaW5nSW5mby5uYW1lfS5gKTtcbiAgICAgICAgICAgIGFkZFRvTG9nKGAke2J1aWxkZXIubmFtZX0gYmVnYW4gY29uc3RydWN0aW9uIG9mIGEgbmV3ICR7YnVpbGRpbmdJbmZvLm5hbWV9LmAsIGJ1aWxkaW5nSW5mby5pY29uSWQpO1xuICAgICAgICB9XG4gICAgICAgIHNldFBsYXllckFjdGlvbihudWxsKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQ2FuY2VsUGxheWVyQWN0aW9uID0gKCkgPT4geyBzZXRQbGF5ZXJBY3Rpb24obnVsbCk7IHNldEFjdGl2aXR5U3RhdHVzKCdDb21tYW5kIGNhbmNlbGxlZC4nKTsgfTtcblxuICAgIGNvbnN0IGhhbmRsZURlbW9saXNoQnVpbGRpbmcgPSAodHlwZTogQnVpbGRpbmdUeXBlIHwgc3RyaW5nLCBpZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmICh0eXBlID09PSAndG93bkNlbnRlcicpIHsgYWRkTm90aWZpY2F0aW9uKFwiVGhlIFRvd24gQ2VudGVyIGlzIHRoZSBoZWFydCBvZiB5b3VyIGNpdmlsaXphdGlvbiBhbmQgY2Fubm90IGJlIGRlbW9saXNoZWQuXCIpOyByZXR1cm47IH1cbiAgICAgICAgaWYgKGFjdGl2ZVRhc2tzLnNvbWUodGFzayA9PiAodGFzay5wYXlsb2FkPy5idWlsZGluZ0lkID09PSBpZCkgfHwgKHRhc2sudHlwZSA9PT0gJ3VwZ3JhZGVfYnVpbGRpbmcnICYmIHRhc2sucGF5bG9hZD8ub3JpZ2luYWxCdWlsZGluZ0lkID09PSBpZCkpKSB7IGFkZE5vdGlmaWNhdGlvbihcIkNhbm5vdCBkZW1vbGlzaCBhIGJ1aWxkaW5nIHdpdGggYW4gYWN0aXZlIHRhc2sgKGUuZy4sIHRyYWluaW5nIG9yIHVwZ3JhZGluZykuXCIpOyByZXR1cm47IH1cbiAgICAgICAgY29uc3QgYnVpbGRpbmdJbmZvID0gYnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSB0eXBlKTtcbiAgICAgICAgY29uc3QgYnVpbGRpbmdJbnN0YW5jZSA9IGJ1aWxkaW5nc1t0eXBlIGFzIHN0cmluZ10uZmluZChiID0+IGIuaWQgPT09IGlkKTtcbiAgICAgICAgaWYgKCFidWlsZGluZ0luZm8gfHwgIWJ1aWxkaW5nSW5zdGFuY2UpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGNhcGFjaXR5TG9zdCA9IGJ1aWxkaW5nSW5mby5wb3B1bGF0aW9uQ2FwYWNpdHkgfHwgMDtcbiAgICAgICAgaWYgKGNhcGFjaXR5TG9zdCA+IDAgJiYgcG9wdWxhdGlvbi5jdXJyZW50ID4gcG9wdWxhdGlvbkNhcGFjaXR5IC0gY2FwYWNpdHlMb3N0KSB7XG4gICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiQ2Fubm90IGRlbW9saXNoIHRoaXMgYnVpbGRpbmcsIHlvdXIgcGVvcGxlIHdvdWxkIGJlIGhvbWVsZXNzLlwiKTsgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVmdW5kID0gT2JqZWN0LmVudHJpZXMoYnVpbGRpbmdJbmZvLmNvc3QpLnJlZHVjZSgoYWNjLCBbcmVzLCBjb3N0XSkgPT4geyBjb25zdCBhbW91bnQgPSBNYXRoLmZsb29yKChjb3N0IHx8IDApICogMC41KTsgaWYgKGFtb3VudCA+IDApIGFjY1tyZXMgYXMga2V5b2YgUmVzb3VyY2VzXSA9IGFtb3VudDsgcmV0dXJuIGFjYzsgfSwge30gYXMgUmVzb3VyY2VEZWx0YXMpO1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMocmVmdW5kKS5sZW5ndGggPiAwKSB7IHVwZGF0ZVJlc291cmNlcyhyZWZ1bmQpOyBhZGROb3RpZmljYXRpb24oYFNhbHZhZ2VkICR7T2JqZWN0LmVudHJpZXMocmVmdW5kKS5tYXAoKFtyLGFdKSA9PiBgJHthfSAke3J9YCkuam9pbignLCAnKX0uYCk7IH1cbiAgICAgICAgc2V0QnVpbGRpbmdzKHByZXYgPT4gKHsgLi4ucHJldiwgW3R5cGUgYXMgc3RyaW5nXTogcHJldlt0eXBlIGFzIHN0cmluZ10uZmlsdGVyKGIgPT4gYi5pZCAhPT0gaWQpIH0pKTtcbiAgICAgICAgYWRkVG9Mb2coYCR7YnVpbGRpbmdJbnN0YW5jZS5uYW1lfSAoJHtidWlsZGluZ0luZm8ubmFtZX0pIHdhcyBkZW1vbGlzaGVkLmAsIGJ1aWxkaW5nSW5mby5pY29uSWQpO1xuICAgICAgICBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7aXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgaW5zdGFuY2VJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlVXBkYXRlQnVpbGRpbmcgPSAodHlwZTogQnVpbGRpbmdUeXBlIHwgc3RyaW5nLCBpZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgc2V0QnVpbGRpbmdzKHByZXYgPT4gKHsgLi4ucHJldiwgW3R5cGUgYXMgc3RyaW5nXTogcHJldlt0eXBlIGFzIHN0cmluZ10ubWFwKGIgPT4gYi5pZCA9PT0gaWQgPyB7IC4uLmIsIG5hbWUgfSA6IGIpIH0pKTtcbiAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiQnVpbGRpbmcgcmVuYW1lZC5cIik7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVVwZ3JhZGVCdWlsZGluZyA9IChidWlsZGluZzogQnVpbGRpbmdJbnN0YW5jZSwgdXBncmFkZVBhdGg6IEJ1aWxkaW5nVXBncmFkZVBhdGgpID0+IHtcbiAgICAgICAgaWYgKCF1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pc3NpbmcgPSAoT2JqZWN0LmtleXModXBncmFkZVBhdGguY29zdCkgYXMgKGtleW9mIFJlc291cmNlcylbXSkuZmlsdGVyKHJlcyA9PiAocmVzb3VyY2VzW3Jlc10gfHwgMCkgPCAodXBncmFkZVBhdGguY29zdFtyZXNdIHx8IDApKTtcbiAgICAgICAgICAgIGlmIChtaXNzaW5nLmxlbmd0aCA+IDApIHsgYWRkTm90aWZpY2F0aW9uKGBOZWVkIG1vcmUgJHttaXNzaW5nLmpvaW4oJywgJyl9LmApOyByZXR1cm47IH1cbiAgICAgICAgICAgIHVwZGF0ZVJlc291cmNlcyhPYmplY3QuZW50cmllcyh1cGdyYWRlUGF0aC5jb3N0KS5yZWR1Y2UoKGFjYywgW2ssIHZdKSA9PiAoeyAuLi5hY2MsIFtrXTogLSh2IHx8IDApIH0pLCB7fSkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBvcmlnaW5hbEJ1aWxkaW5nVHlwZSA9IE9iamVjdC5rZXlzKGJ1aWxkaW5ncykuZmluZCh0eXBlID0+IGJ1aWxkaW5nc1t0eXBlIGFzIHN0cmluZ10uc29tZShiID0+IGIuaWQgPT09IGJ1aWxkaW5nLmlkKSk7XG4gICAgICAgIGNvbnN0IHRhc2tQYXlsb2FkID0ge1xuICAgICAgICAgICAgb3JpZ2luYWxCdWlsZGluZ0lkOiBidWlsZGluZy5pZCxcbiAgICAgICAgICAgIG9yaWdpbmFsQnVpbGRpbmdUeXBlLFxuICAgICAgICAgICAgdGFyZ2V0QnVpbGRpbmdUeXBlOiB1cGdyYWRlUGF0aC5pZCxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodW5saW1pdGVkUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICBoYW5kbGVUYXNrQ29tcGxldGlvbih7IGlkOiAnaW5zdGFudCcsIHR5cGU6ICd1cGdyYWRlX2J1aWxkaW5nJywgc3RhcnRUaW1lOiAwLCBkdXJhdGlvbjogMCwgcGF5bG9hZDogdGFza1BheWxvYWQgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IFsuLi5wcmV2LCB7IGlkOiBgJHtEYXRlLm5vdygpfS11cGdyYWRlLSR7YnVpbGRpbmcuaWR9YCwgdHlwZTogJ3VwZ3JhZGVfYnVpbGRpbmcnLCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiB1cGdyYWRlUGF0aC50aW1lICogMTAwMCwgcGF5bG9hZDogdGFza1BheWxvYWQgfV0pO1xuICAgICAgICAgICAgYWRkVG9Mb2coYFVwZ3JhZGluZyAke2J1aWxkaW5nLm5hbWV9IHRvIGEgJHtidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IHVwZ3JhZGVQYXRoLmlkKT8ubmFtZX0uYCwgJ3N5c3RlbScpO1xuICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYFVwZ3JhZGluZyAke2J1aWxkaW5nLm5hbWV9Li4uYCk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBpbnN0YW5jZUlkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVUcmFpblZpbGxhZ2VycyA9IChjb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGlmIChhY3RpdmVUYXNrcy5zb21lKHQgPT4gdC50eXBlID09PSAndHJhaW5fdmlsbGFnZXInKSB8fCBjb3VudCA8PSAwKSByZXR1cm47XG4gICAgICAgIGlmIChwb3B1bGF0aW9uLmN1cnJlbnQgKyBjb3VudCA+IHBvcHVsYXRpb24uY2FwYWNpdHkpIHsgYWRkTm90aWZpY2F0aW9uKGBOZWVkIHNwYWNlIGZvciAke2NvdW50fSBtb3JlIHZpbGxhZ2Vycy5gKTsgcmV0dXJuOyB9XG4gICAgICAgIGlmICghYnVpbGRpbmdzLnRvd25DZW50ZXI/LlswXSkgeyBhZGROb3RpZmljYXRpb24oYE5vIFRvd24gQ2VudGVyIHRvIHRyYWluIHZpbGxhZ2Vycy5gKTsgcmV0dXJuOyB9XG4gICAgICAgIGlmICghdW5saW1pdGVkUmVzb3VyY2VzKSB7IGNvbnN0IHRvdGFsQ29zdCA9IDUwICogY291bnQ7IGlmICgocmVzb3VyY2VzLmZvb2QgfHwgMCkgPCB0b3RhbENvc3QpIHsgYWRkTm90aWZpY2F0aW9uKGBOZWVkICR7dG90YWxDb3N0IC0gKHJlc291cmNlcy5mb29kIHx8IDApfSBtb3JlIEZvb2QuYCk7IHJldHVybjsgfSB1cGRhdGVSZXNvdXJjZXMoeyBmb29kOiAtdG90YWxDb3N0IH0pOyB9XG4gICAgICAgIFxuICAgICAgICBpZih1bmxpbWl0ZWRSZXNvdXJjZXMpIGhhbmRsZVRhc2tDb21wbGV0aW9uKHsgaWQ6ICdpbnN0YW50JywgdHlwZTogJ3RyYWluX3ZpbGxhZ2VyJywgc3RhcnRUaW1lOiAwLCBkdXJhdGlvbjogMCwgcGF5bG9hZDogeyBjb3VudCB9IH0pO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gWy4uLnByZXYsIHsgaWQ6IGAke0RhdGUubm93KCl9LXRyYWluLXZpbGxhZ2VyYCwgdHlwZTogJ3RyYWluX3ZpbGxhZ2VyJywgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBkdXJhdGlvbjogMTAwMDAgKiBjb3VudCwgcGF5bG9hZDogeyBjb3VudCwgYnVpbGRpbmdJZDogYnVpbGRpbmdzLnRvd25DZW50ZXIhWzBdLmlkIH0gfV0pO1xuICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYFRyYWluaW5nICR7Y291bnR9IHZpbGxhZ2VyKHMpLi4uYCk7IGFkZFRvTG9nKGBCZWdhbiB0cmFpbmluZyAke2NvdW50fSBuZXcgdmlsbGFnZXIocykuYCwgJ3ZpbGxhZ2VyJyk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBpbnN0YW5jZUlkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgaGFuZGxlVHJhaW5Vbml0cyA9ICh1bml0VHlwZTogTWlsaXRhcnlVbml0VHlwZSwgY291bnQ6IG51bWJlcikgPT4ge1xuICAgICAgICBjb25zdCB1bml0SW5mbyA9IHVuaXRMaXN0LmZpbmQodSA9PiB1LmlkID09PSB1bml0VHlwZSk7XG4gICAgICAgIGlmICghdW5pdEluZm8gfHwgYWN0aXZlVGFza3Muc29tZSh0ID0+IHQucGF5bG9hZD8udW5pdFR5cGUgPT09IHVuaXRUeXBlKSB8fCBjb3VudCA8PSAwKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHRvdGFsUG9wdWxhdGlvbkNvc3QgPSAodW5pdEluZm8ucG9wdWxhdGlvbkNvc3QgfHwgMSkgKiBjb3VudDtcbiAgICAgICAgaWYgKHBvcHVsYXRpb24uY3VycmVudCArIHRvdGFsUG9wdWxhdGlvbkNvc3QgPiBwb3B1bGF0aW9uLmNhcGFjaXR5KSB7IGFkZE5vdGlmaWNhdGlvbihgTmVlZCBzcGFjZSBmb3IgJHt0b3RhbFBvcHVsYXRpb25Db3N0fSBtb3JlIHBvcHVsYXRpb24uYCk7IHJldHVybjsgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHJlcXVpcmVkIGJ1aWxkaW5nc1xuICAgICAgICBjb25zdCB0cmFpbmluZ0J1aWxkaW5nID0gYnVpbGRpbmdzW3VuaXRJbmZvLnJlcXVpcmVkQnVpbGRpbmcgYXMgc3RyaW5nXT8uWzBdO1xuICAgICAgICBpZiAoIXRyYWluaW5nQnVpbGRpbmcpIHsgYWRkTm90aWZpY2F0aW9uKGBObyAke2J1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gdW5pdEluZm8ucmVxdWlyZWRCdWlsZGluZyk/Lm5hbWV9IHRvIHRyYWluIHVuaXRzLmApOyByZXR1cm47IH1cblxuICAgICAgICBpZiAodW5pdEluZm8ucmVxdWlyZWRCdWlsZGluZ0lkcyAmJiB1bml0SW5mby5yZXF1aXJlZEJ1aWxkaW5nSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG1pc3NpbmdCdWlsZGluZ3MgPSB1bml0SW5mby5yZXF1aXJlZEJ1aWxkaW5nSWRzLmZpbHRlcihyZXFJZCA9PiAhYnVpbGRpbmdzW3JlcUlkXT8ubGVuZ3RoKTtcbiAgICAgICAgICAgIGlmIChtaXNzaW5nQnVpbGRpbmdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtaXNzaW5nTmFtZXMgPSBtaXNzaW5nQnVpbGRpbmdzLm1hcChpZCA9PiBidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IGlkKT8ubmFtZSB8fCBpZCkuam9pbignLCAnKTtcbiAgICAgICAgICAgICAgICBhZGROb3RpZmljYXRpb24oYFRyYWluaW5nIHRoaXMgdW5pdCByZXF1aXJlczogJHttaXNzaW5nTmFtZXN9LmApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHJlcXVpcmVkIHJlc2VhcmNoXG4gICAgICAgIGlmKHVuaXRJbmZvLnJlcXVpcmVkUmVzZWFyY2hJZHMgJiYgdW5pdEluZm8ucmVxdWlyZWRSZXNlYXJjaElkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBtaXNzaW5nUmVzZWFyY2ggPSB1bml0SW5mby5yZXF1aXJlZFJlc2VhcmNoSWRzLmZpbHRlcihyZXFJZCA9PiAhY29tcGxldGVkUmVzZWFyY2guaW5jbHVkZXMocmVxSWQpKTtcbiAgICAgICAgICAgICBpZiAobWlzc2luZ1Jlc2VhcmNoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtaXNzaW5nTmFtZXMgPSBtaXNzaW5nUmVzZWFyY2gubWFwKGlkID0+IG1hc3RlclJlc2VhcmNoTGlzdC5maW5kKHIgPT4gci5pZCA9PT0gaWQpPy5uYW1lIHx8IGlkKS5qb2luKCcsICcpO1xuICAgICAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihgVHJhaW5pbmcgdGhpcyB1bml0IHJlcXVpcmVzIHJlc2VhcmNoOiAke21pc3NpbmdOYW1lc30uYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuICAgICAgICBpZiAoIXVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgY29uc3QgbWlzc2luZyA9IChPYmplY3Qua2V5cyh1bml0SW5mby5jb3N0KSBhcyAoa2V5b2YgUmVzb3VyY2VzKVtdKS5maWx0ZXIocmVzID0+IChyZXNvdXJjZXNbcmVzXSB8fCAwKSA8ICh1bml0SW5mby5jb3N0W3Jlc10gfHwgMCkgKiBjb3VudCk7XG4gICAgICAgICAgICBpZiAobWlzc2luZy5sZW5ndGggPiAwKSB7IGFkZE5vdGlmaWNhdGlvbihgTmVlZCBtb3JlICR7bWlzc2luZy5qb2luKCcgYW5kICcpfS5gKTsgcmV0dXJuOyB9XG4gICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXMoT2JqZWN0LmVudHJpZXModW5pdEluZm8uY29zdCkucmVkdWNlKChhY2MsIFtrLCB2XSkgPT4gKHsuLi5hY2MsIFtrXTogLSh2IHx8IDApICogY291bnR9KSwge30pKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgbGV0IHRyYWluVGltZSA9IHVuaXRJbmZvLnRyYWluVGltZSAqIDEwMDAgKiBjb3VudDtcbiAgICAgICAgaWYoYWN0aXZlQnVmZnMucGVybWFuZW50VHJhaW5UaW1lUmVkdWN0aW9uKSB0cmFpblRpbWUgKj0gKDEgLSBhY3RpdmVCdWZmcy5wZXJtYW5lbnRUcmFpblRpbWVSZWR1Y3Rpb24pO1xuICAgICAgICBpZiAoYWN0aXZlQnVmZnMudHJhaW5UaW1lUmVkdWN0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBhcHBsaWNhYmxlID0gTWF0aC5taW4oY291bnQsIGFjdGl2ZUJ1ZmZzLnRyYWluVGltZVJlZHVjdGlvbi51c2VzKTtcbiAgICAgICAgICAgIHRyYWluVGltZSA9ICh1bml0SW5mby50cmFpblRpbWUgKiAxMDAwICogYXBwbGljYWJsZSAqICgxIC0gYWN0aXZlQnVmZnMudHJhaW5UaW1lUmVkdWN0aW9uLnBlcmNlbnRhZ2UpKSArICh1bml0SW5mby50cmFpblRpbWUgKiAxMDAwICogKGNvdW50IC0gYXBwbGljYWJsZSkpO1xuICAgICAgICAgICAgaWYgKGFjdGl2ZUJ1ZmZzLnRyYWluVGltZVJlZHVjdGlvbi51c2VzIC0gYXBwbGljYWJsZSA+IDApIHNldEFjdGl2ZUJ1ZmZzKHByZXYgPT4gKHsuLi5wcmV2LCB0cmFpblRpbWVSZWR1Y3Rpb246IHsuLi5wcmV2LnRyYWluVGltZVJlZHVjdGlvbiEsIHVzZXM6IHByZXYudHJhaW5UaW1lUmVkdWN0aW9uIS51c2VzIC0gYXBwbGljYWJsZX19KSk7XG4gICAgICAgICAgICBlbHNlIHsgc2V0QWN0aXZlQnVmZnMocHJldiA9PiAoey4uLnByZXYsIHRyYWluVGltZVJlZHVjdGlvbjogdW5kZWZpbmVkfSkpOyBhZGRUb0xvZyhcIlRoZSBEcmlsbG1hc3RlcidzIFdoaXN0bGUgYnVmZiBoYXMgYmVlbiBmdWxseSB1c2VkLlwiLCAnaXRlbScpOyB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmKHVubGltaXRlZFJlc291cmNlcykgaGFuZGxlVGFza0NvbXBsZXRpb24oeyBpZDogJ2luc3RhbnQnLCB0eXBlOiAndHJhaW5fbWlsaXRhcnknLCBzdGFydFRpbWU6IDAsIGR1cmF0aW9uOiAwLCBwYXlsb2FkOiB7IHVuaXRUeXBlLCBjb3VudCB9IH0pO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gWy4uLnByZXYsIHsgaWQ6IGAke0RhdGUubm93KCl9LXRyYWluLSR7dW5pdFR5cGV9YCwgdHlwZTogJ3RyYWluX21pbGl0YXJ5Jywgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBkdXJhdGlvbjogdHJhaW5UaW1lLCBwYXlsb2FkOiB7IHVuaXRUeXBlLCBjb3VudCwgYnVpbGRpbmdJZDogdHJhaW5pbmdCdWlsZGluZy5pZCB9IH1dKTtcbiAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBUcmFpbmluZyAke2NvdW50fSAke3VuaXRJbmZvLm5hbWV9KHMpLi4uYCk7IGFkZFRvTG9nKGBCZWdhbiB0cmFpbmluZyAke2NvdW50fSBuZXcgJHt1bml0SW5mby5uYW1lfShzKS5gLCB1bml0VHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBpbnN0YW5jZUlkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVEaXNtaXNzU3BlY2lmaWNVbml0ID0gKHR5cGU6ICd2aWxsYWdlcnMnIHwgJ21pbGl0YXJ5JywgaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAodHlwZSA9PT0gJ3ZpbGxhZ2VycycgJiYgaXNWaWxsYWdlckJ1c3koaWQpKSB7IGFkZE5vdGlmaWNhdGlvbihcIkNhbm5vdCBkaXNtaXNzIGEgYnVzeSB2aWxsYWdlci5cIik7IHJldHVybjsgfVxuICAgICAgICBjb25zdCB1bml0ID0gdW5pdHNbdHlwZV0uZmluZCh1ID0+IHUuaWQgPT09IGlkKTsgaWYgKCF1bml0KSByZXR1cm47XG4gICAgICAgIGlmICh0eXBlID09PSAndmlsbGFnZXJzJyAmJiB1bml0cy52aWxsYWdlcnMubGVuZ3RoIDw9IDEpIHsgYWRkTm90aWZpY2F0aW9uKFwiQ2Fubm90IGRpc21pc3MgeW91ciBsYXN0IHZpbGxhZ2VyLlwiKTsgcmV0dXJuOyB9XG4gICAgICAgIHNldFVuaXRzKHByZXYgPT4gKHsgLi4ucHJldiwgW3R5cGVdOiBwcmV2W3R5cGVdLmZpbHRlcih1ID0+IHUuaWQgIT09IGlkKSB9KSk7XG4gICAgICAgIGNvbnN0IHVuaXRUeXBlTmFtZSA9IHR5cGUgPT09ICd2aWxsYWdlcnMnID8gJ3ZpbGxhZ2VyJyA6ICh1bml0IGFzIE1pbGl0YXJ5VW5pdCkudW5pdFR5cGU7XG4gICAgICAgIGFkZFRvTG9nKGAke3VuaXQubmFtZX0gdGhlICR7dW5pdFR5cGVOYW1lfSBoYXMgYmVlbiBkaXNtaXNzZWQuYCwgdHlwZSA9PT0gJ3ZpbGxhZ2VycycgPyAndmlsbGFnZXInIDogKHVuaXQgYXMgTWlsaXRhcnlVbml0KS51bml0VHlwZSk7XG4gICAgICAgIGFkZE5vdGlmaWNhdGlvbihgJHt1bml0Lm5hbWV9IHdhcyBkaXNtaXNzZWQuYCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVVwZGF0ZVVuaXQgPSAodHlwZTogJ3ZpbGxhZ2VycycgfCAnbWlsaXRhcnknLCBpZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIHRpdGxlPzogc3RyaW5nKSA9PiB7XG4gICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7IC4uLnByZXYsIFt0eXBlXTogcHJldlt0eXBlXS5tYXAodSA9PiB1LmlkID09PSBpZCA/ICh0eXBlID09PSAnbWlsaXRhcnknICYmIHRpdGxlICE9PSB1bmRlZmluZWQgPyB7IC4uLnUsIG5hbWUsIHRpdGxlIH0gOiB7IC4uLnUsIG5hbWUgfSkgOiB1KX0pKTtcbiAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiVW5pdCB1cGRhdGVkLlwiKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQXNzaWduVmlsbGFnZXJzVG9Db25zdHJ1Y3Rpb24gPSAoY29uc3RydWN0aW9uSWQ6IHN0cmluZywgY291bnQ6IG51bWJlcikgPT4ge1xuICAgICAgICBjb25zdCBpZGxlVmlsbGFnZXJzID0gdW5pdHMudmlsbGFnZXJzLmZpbHRlcih2ID0+ICF2LmN1cnJlbnRUYXNrKTtcbiAgICAgICAgaWYgKGNvdW50IDw9IDAgfHwgaWRsZVZpbGxhZ2Vycy5sZW5ndGggPT09IDApIHsgYWRkTm90aWZpY2F0aW9uKFwiTm8gaWRsZSB2aWxsYWdlcnMgYXZhaWxhYmxlLlwiKTsgcmV0dXJuOyB9XG4gICAgICAgIGNvbnN0IHRhc2sgPSBhY3RpdmVUYXNrcy5maW5kKHQgPT4gdC5pZCA9PT0gY29uc3RydWN0aW9uSWQpOyBpZiAoIXRhc2sgfHwgdGFzay50eXBlICE9PSAnYnVpbGQnKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gdGFzay5wYXlsb2FkPy5idWlsZGluZ1R5cGUpOyBpZiAoIWJ1aWxkaW5nSW5mbykgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGNhcHBlZENvdW50ID0gTWF0aC5taW4oY291bnQsIGlkbGVWaWxsYWdlcnMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgdmlsbGFnZXJzVG9Bc3NpZ24gPSBpZGxlVmlsbGFnZXJzLnNsaWNlKDAsIGNhcHBlZENvdW50KS5tYXAodiA9PiB2LmlkKTtcbiAgICAgICAgY29uc3Qgd29ya0RvbmUgPSAoRGF0ZS5ub3coKSAtIHRhc2suc3RhcnRUaW1lKSAqICh0YXNrLnBheWxvYWQ/LnZpbGxhZ2VySWRzPy5sZW5ndGggfHwgMSk7XG4gICAgICAgIGNvbnN0IHdvcmtSZW1haW5pbmcgPSBNYXRoLm1heCgwLCAoYnVpbGRpbmdJbmZvLmJ1aWxkVGltZSAqIDEwMDApIC0gd29ya0RvbmUpO1xuICAgICAgICBjb25zdCBuZXdXb3JrZXJDb3VudCA9ICh0YXNrLnBheWxvYWQ/LnZpbGxhZ2VySWRzPy5sZW5ndGggfHwgMCkgKyBjYXBwZWRDb3VudDtcbiAgICAgICAgY29uc3QgbmV3UmVtYWluaW5nRHVyYXRpb24gPSB3b3JrUmVtYWluaW5nIC8gbmV3V29ya2VyQ291bnQ7XG4gICAgICAgIFxuICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7Li4ucHJldiwgdmlsbGFnZXJzOiBwcmV2LnZpbGxhZ2Vycy5tYXAodiA9PiB2aWxsYWdlcnNUb0Fzc2lnbi5pbmNsdWRlcyh2LmlkKSA/IHsuLi52LCBjdXJyZW50VGFzazogY29uc3RydWN0aW9uSWR9IDogdil9KSk7XG4gICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gcHJldi5tYXAodCA9PiB0LmlkID09PSBjb25zdHJ1Y3Rpb25JZCA/IHsgLi4udCwgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBkdXJhdGlvbjogbmV3UmVtYWluaW5nRHVyYXRpb24sIHBheWxvYWQ6IHsgLi4udC5wYXlsb2FkLCB2aWxsYWdlcklkczogWy4uLnQucGF5bG9hZCEudmlsbGFnZXJJZHMhLCAuLi52aWxsYWdlcnNUb0Fzc2lnbl0gfSB9IDogdCkpO1xuICAgICAgICBhZGRUb0xvZyhgJHtjYXBwZWRDb3VudH0gdmlsbGFnZXIocykgYXJlIG5vdyBhc3Npc3Rpbmcgd2l0aCB0aGUgJHtidWlsZGluZ0luZm8ubmFtZX0uYCwgYnVpbGRpbmdJbmZvLmljb25JZCk7XG4gICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBDb25zdHJ1Y3Rpb24gb2YgdGhlICR7YnVpbGRpbmdJbmZvLm5hbWV9IGlzIG5vdyBmYXN0ZXIuYCk7XG4gICAgICAgIHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdGFyZ2V0SWQ6IG51bGwsIHRhcmdldFR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUFzc2lnblZpbGxhZ2VycyA9ICh0YXJnZXRJZDogc3RyaW5nLCBjb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGlmIChhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRUeXBlID09PSAnY29uc3RydWN0aW9uJykgcmV0dXJuIGhhbmRsZUFzc2lnblZpbGxhZ2Vyc1RvQ29uc3RydWN0aW9uKHRhcmdldElkLCBjb3VudCk7XG4gICAgICAgIGNvbnN0IGlkbGVWaWxsYWdlcnMgPSB1bml0cy52aWxsYWdlcnMuZmlsdGVyKHYgPT4gIXYuY3VycmVudFRhc2spO1xuICAgICAgICBpZiAoY291bnQgPD0gMCB8fCBpZGxlVmlsbGFnZXJzLmxlbmd0aCA9PT0gMCkgeyBhZGROb3RpZmljYXRpb24oXCJObyBpZGxlIHZpbGxhZ2VycyBhdmFpbGFibGUuXCIpOyByZXR1cm47IH1cbiAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHJlc291cmNlTm9kZXMuZmluZChuID0+IG4uaWQgPT09IHRhcmdldElkKTsgaWYgKCF0YXJnZXROb2RlKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNhcHBlZENvdW50ID0gTWF0aC5taW4oY291bnQsIGlkbGVWaWxsYWdlcnMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgdmlsbGFnZXJzVG9Bc3NpZ24gPSBpZGxlVmlsbGFnZXJzLnNsaWNlKDAsIGNhcHBlZENvdW50KS5tYXAodiA9PiB2LmlkKTtcbiAgICAgICAgY29uc3QgdGFza0lkID0gYGdhdGhlci0ke3RhcmdldElkfWA7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nVGFzayA9IGFjdGl2ZVRhc2tzLmZpbmQodCA9PiB0LmlkID09PSB0YXNrSWQpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKHsgW3RhcmdldE5vZGUudHlwZV06IHRhcmdldE5vZGUuYW1vdW50IH0pO1xuICAgICAgICAgICAgYWRkVG9Mb2coYCR7Y2FwcGVkQ291bnR9IHZpbGxhZ2VyKHMpIGluc3RhbnRseSBnYXRoZXJlZCAke01hdGguZmxvb3IodGFyZ2V0Tm9kZS5hbW91bnQpfSAke3RhcmdldE5vZGUudHlwZX0uYCwgdGFyZ2V0Tm9kZS50eXBlKTtcbiAgICAgICAgICAgIHNldFJlc291cmNlTm9kZXMocHJldiA9PiBwcmV2LmZpbHRlcihuID0+IG4uaWQgIT09IHRhcmdldElkKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdUYXNrKSBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IHByZXYubWFwKHQgPT4gdC5pZCA9PT0gdGFza0lkID8geyAuLi50LCBwYXlsb2FkOiB7IC4uLnQucGF5bG9hZCwgdmlsbGFnZXJJZHM6IFsuLi5uZXcgU2V0KFsuLi50LnBheWxvYWQhLnZpbGxhZ2VySWRzISwgLi4udmlsbGFnZXJzVG9Bc3NpZ25dKV0gfSB9IDogdCkpO1xuICAgICAgICAgICAgZWxzZSBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IFsuLi5wcmV2LCB7IGlkOiB0YXNrSWQsIHR5cGU6ICdnYXRoZXInLCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiA5OTk5OTk5OTksIHBheWxvYWQ6IHsgcmVzb3VyY2VOb2RlSWQ6IHRhcmdldElkLCB2aWxsYWdlcklkczogdmlsbGFnZXJzVG9Bc3NpZ24gfSB9XSk7XG4gICAgICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7Li4ucHJldiwgdmlsbGFnZXJzOiBwcmV2LnZpbGxhZ2Vycy5tYXAodiA9PiB2aWxsYWdlcnNUb0Fzc2lnbi5pbmNsdWRlcyh2LmlkKSA/IHsuLi52LCBjdXJyZW50VGFzazogdGFza0lkfSA6IHYpfSkpO1xuICAgICAgICB9XG4gICAgICAgIGFkZFRvTG9nKGAke2NhcHBlZENvdW50fSB2aWxsYWdlcihzKSBhc3NpZ25lZCB0byBnYXRoZXIgJHt0YXJnZXROb2RlLnR5cGV9LmAsIHRhcmdldE5vZGUudHlwZSk7XG4gICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGAke2NhcHBlZENvdW50fSB2aWxsYWdlcihzKSBhcmUgbm93IGdhdGhlcmluZyAke3RhcmdldE5vZGUudHlwZX0uYCk7XG4gICAgICAgIHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdGFyZ2V0SWQ6IG51bGwsIHRhcmdldFR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVJlY2FsbFZpbGxhZ2VycyA9ICh0YXJnZXRJZDogc3RyaW5nLCBjb3VudDogbnVtYmVyLCB0eXBlOiAncmVzb3VyY2UnIHwgJ2NvbnN0cnVjdGlvbicpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0lkID0gdHlwZSA9PT0gJ3Jlc291cmNlJyA/IGBnYXRoZXItJHt0YXJnZXRJZH1gIDogdGFyZ2V0SWQ7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBhY3RpdmVUYXNrcy5maW5kKHQgPT4gdC5pZCA9PT0gdGFza0lkKTtcbiAgICAgICAgaWYgKCF0YXNrIHx8ICh0YXNrLnBheWxvYWQ/LnZpbGxhZ2VySWRzPy5sZW5ndGggPz8gMCkgPCBjb3VudCkgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdmlsbGFnZXJzVG9SZWNhbGwgPSB0YXNrLnBheWxvYWQhLnZpbGxhZ2VySWRzIS5zbGljZSh0YXNrLnBheWxvYWQhLnZpbGxhZ2VySWRzIS5sZW5ndGggLSBjb3VudCk7XG4gICAgICAgIGlmICh0eXBlID09PSAnY29uc3RydWN0aW9uJyAmJiB2aWxsYWdlcnNUb1JlY2FsbC5sZW5ndGggPT09IHRhc2sucGF5bG9hZCEudmlsbGFnZXJJZHMhLmxlbmd0aCkgeyBhZGROb3RpZmljYXRpb24oXCJDYW5ub3QgcmVjYWxsIHRoZSBsYXN0IGJ1aWxkZXIgZnJvbSBhIHByb2plY3QuXCIpOyByZXR1cm47IH1cblxuICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7Li4ucHJldiwgdmlsbGFnZXJzOiBwcmV2LnZpbGxhZ2Vycy5tYXAodiA9PiB2aWxsYWdlcnNUb1JlY2FsbC5pbmNsdWRlcyh2LmlkKSA/IHsuLi52LCBjdXJyZW50VGFzazogbnVsbH0gOiB2KX0pKTtcbiAgICAgICAgY29uc3QgcmVtYWluaW5nVmlsbGFnZXJzID0gdGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEuZmlsdGVyKGlkID0+ICF2aWxsYWdlcnNUb1JlY2FsbC5pbmNsdWRlcyhpZCkpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHJlbWFpbmluZ1ZpbGxhZ2Vycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gcHJldi5maWx0ZXIodCA9PiB0LmlkICE9PSB0YXNrSWQpKTtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAncmVzb3VyY2UnKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHJlc291cmNlTm9kZXMuZmluZChuID0+IG4uaWQgPT09IHRhcmdldElkKTtcbiAgICAgICAgICAgICAgICBpZihub2RlKSBhZGRUb0xvZyhgQWxsIHZpbGxhZ2VycyByZWNhbGxlZCBmcm9tIGdhdGhlcmluZyAke25vZGUudHlwZX0uYCwgJ3ZpbGxhZ2VyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IHRhc2sucGF5bG9hZD8uYnVpbGRpbmdUeXBlKSE7XG4gICAgICAgICAgICBjb25zdCB3b3JrRG9uZSA9IChEYXRlLm5vdygpIC0gdGFzay5zdGFydFRpbWUpICogdGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgbmV3UmVtYWluaW5nRHVyYXRpb24gPSAoYnVpbGRpbmdJbmZvLmJ1aWxkVGltZSAqIDEwMDAgLSB3b3JrRG9uZSkgLyByZW1haW5pbmdWaWxsYWdlcnMubGVuZ3RoO1xuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBwcmV2Lm1hcCh0ID0+IHQuaWQgPT09IHRhc2tJZCA/IHsgLi4udCwgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBkdXJhdGlvbjogbmV3UmVtYWluaW5nRHVyYXRpb24sIHBheWxvYWQ6IHsgLi4udC5wYXlsb2FkLCB2aWxsYWdlcklkczogcmVtYWluaW5nVmlsbGFnZXJzIH0gfSA6IHQpKTtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnY29uc3RydWN0aW9uJykgYWRkVG9Mb2coYCR7Y291bnR9IGJ1aWxkZXIocykgcmVjYWxsZWQuIENvbnN0cnVjdGlvbiB3aWxsIG5vdyBiZSBzbG93ZXIuYCwgJ3ZpbGxhZ2VyJyk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0QXNzaWdubWVudFBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQWR2YW5jZUFnZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZVRhc2tzLnNvbWUodCA9PiB0LnR5cGUgPT09ICdhZHZhbmNlX2FnZScpKSB7IGFkZE5vdGlmaWNhdGlvbihcIkFkdmFuY2VtZW50IGFscmVhZHkgaW4gcHJvZ3Jlc3MuXCIpOyByZXR1cm47IH1cbiAgICAgICAgaWYgKCF1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pc3NpbmcgPSBbXTtcbiAgICAgICAgICAgIGlmICgocmVzb3VyY2VzLmZvb2QgfHwgMCkgPCA1MDApIG1pc3NpbmcucHVzaChgJHs1MDAgLSAocmVzb3VyY2VzLmZvb2QgfHwgMCl9IEZvb2RgKTtcbiAgICAgICAgICAgIGlmICgocmVzb3VyY2VzLmdvbGQgfHwgMCkgPCAyMDApIG1pc3NpbmcucHVzaChgJHsyMDAgLSAocmVzb3VyY2VzLmdvbGQgfHwgMCl9IEdvbGRgKTtcbiAgICAgICAgICAgIGlmIChtaXNzaW5nLmxlbmd0aCA+IDApIHsgYWRkTm90aWZpY2F0aW9uKGBUbyBhZHZhbmNlLCB5b3UgbmVlZCAke21pc3Npbmcuam9pbignIGFuZCAnKX0uYCk7IHJldHVybjsgfVxuICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKHsgZm9vZDogLTUwMCwgZ29sZDogLTIwMCB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhY3RpdmVBZ2VzID0gbWFzdGVyQWdlTGlzdC5maWx0ZXIoYSA9PiBhLmlzQWN0aXZlKTtcbiAgICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gYWN0aXZlQWdlcy5maW5kSW5kZXgoYWdlID0+IGFnZS5uYW1lID09PSBjdXJyZW50QWdlKTtcbiAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA9PT0gLTEgfHwgY3VycmVudEluZGV4ICsgMSA+PSBhY3RpdmVBZ2VzLmxlbmd0aCkgeyBhZGROb3RpZmljYXRpb24oXCJZb3UgaGF2ZSByZWFjaGVkIHRoZSBmaW5hbCBhdmFpbGFibGUgYWdlLlwiKTsgcmV0dXJuOyB9XG5cbiAgICAgICAgaWYodW5saW1pdGVkUmVzb3VyY2VzKSBoYW5kbGVUYXNrQ29tcGxldGlvbih7IGlkOiAnaW5zdGFudCcsIHR5cGU6ICdhZHZhbmNlX2FnZScsIHN0YXJ0VGltZTogMCwgZHVyYXRpb246IDAsIHBheWxvYWQ6IHt9IH0pO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gWy4uLnByZXYsIHsgaWQ6IGAke0RhdGUubm93KCl9LWFkdmFuY2VfYWdlYCwgdHlwZTogJ2FkdmFuY2VfYWdlJywgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBkdXJhdGlvbjogNjAwMDAgfV0pO1xuICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYFlvdXIgcGVvcGxlIGJlZ2luIHRoZSBsb25nIGpvdXJuZXkgdG8gYSBuZXcgYWdlLmApO1xuICAgICAgICAgICAgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBpbnN0YW5jZUlkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVN0YXJ0UmVzZWFyY2ggPSAocmVzZWFyY2hJZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc2VhcmNoSW5mbyA9IG1hc3RlclJlc2VhcmNoTGlzdC5maW5kKHIgPT4gci5pZCA9PT0gcmVzZWFyY2hJZCk7XG4gICAgICAgIGlmICghcmVzZWFyY2hJbmZvIHx8IGFjdGl2ZVRhc2tzLnNvbWUodCA9PiB0LnBheWxvYWQ/LnJlc2VhcmNoSWQgPT09IHJlc2VhcmNoSWQpKSByZXR1cm47XG4gICAgICAgIFxuICAgICAgICBpZiAoIXVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgY29uc3QgbWlzc2luZyA9IChPYmplY3Qua2V5cyhyZXNlYXJjaEluZm8uY29zdCkgYXMgKGtleW9mIFJlc291cmNlcylbXSkuZmlsdGVyKHJlcyA9PiAocmVzb3VyY2VzW3Jlc10gfHwgMCkgPCAocmVzZWFyY2hJbmZvLmNvc3RbcmVzXSB8fCAwKSk7XG4gICAgICAgICAgICBpZiAobWlzc2luZy5sZW5ndGggPiAwKSB7IGFkZE5vdGlmaWNhdGlvbihgTmVlZCBtb3JlICR7bWlzc2luZy5qb2luKCcsICcpfS5gKTsgcmV0dXJuOyB9XG4gICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXMoT2JqZWN0LmVudHJpZXMocmVzZWFyY2hJbmZvLmNvc3QpLnJlZHVjZSgoYWNjLCBbaywgdl0pID0+ICh7Li4uYWNjLCBba106IC0odiB8fCAwKX0pLCB7fSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGFza1BheWxvYWQgPSB7IHJlc2VhcmNoSWQgfTtcbiAgICAgICAgaWYodW5saW1pdGVkUmVzb3VyY2VzKSBoYW5kbGVUYXNrQ29tcGxldGlvbih7IGlkOiAnaW5zdGFudCcsIHR5cGU6ICdyZXNlYXJjaCcsIHN0YXJ0VGltZTogMCwgZHVyYXRpb246IDAsIHBheWxvYWQ6IHRhc2tQYXlsb2FkIH0pO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gWy4uLnByZXYsIHsgaWQ6IGAke0RhdGUubm93KCl9LXJlc2VhcmNoLSR7cmVzZWFyY2hJZH1gLCB0eXBlOiAncmVzZWFyY2gnLCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiByZXNlYXJjaEluZm8ucmVzZWFyY2hUaW1lICogMTAwMCwgcGF5bG9hZDogdGFza1BheWxvYWQgfV0pO1xuICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYFJlc2VhcmNoaW5nICR7cmVzZWFyY2hJbmZvLm5hbWV9Li4uYCk7XG4gICAgICAgICAgICBhZGRUb0xvZyhgQmVnYW4gcmVzZWFyY2ggZm9yICR7cmVzZWFyY2hJbmZvLm5hbWV9LmAsIHJlc2VhcmNoSW5mby5pY29uSWQpO1xuICAgICAgICB9XG4gICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgaW5zdGFuY2VJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICAgICAgc2V0UmVzZWFyY2hQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuXG4gICAgXG4gICAgY29uc3QgaGFuZGxlRXhpdEdhbWUgPSBhc3luYyAoKSA9PiB7IHNldEN1cnJlbnRTYXZlTmFtZShudWxsKTsgYXdhaXQgZmV0Y2hTYXZlc0FuZENvbmZpZ3MoKTsgc2V0R2FtZVN0YXRlKEdhbWVTdGF0dXMuTUVOVSk7IH07XG4gICAgY29uc3QgaGFuZGxlRGVsZXRlR2FtZSA9IGFzeW5jIChzYXZlTmFtZTogc3RyaW5nKSA9PiB7IGF3YWl0IGRlbGV0ZUdhbWVTdGF0ZShzYXZlTmFtZSk7IGF3YWl0IGZldGNoU2F2ZXNBbmRDb25maWdzKCk7IGFkZE5vdGlmaWNhdGlvbihgRGVsZXRlZCBzYWdhOiBcIiR7c2F2ZU5hbWV9XCJgKTsgfTtcblxuICAgIGNvbnN0IGhhbmRsZVRvZ2dsZVVubGltaXRlZFJlc291cmNlcyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgbmV3TW9kZSA9ICF1bmxpbWl0ZWRSZXNvdXJjZXM7XG4gICAgICAgIHNldFVubGltaXRlZFJlc291cmNlcyhuZXdNb2RlKTtcbiAgICAgICAgaWYgKG5ld01vZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG1heGVkUmVzb3VyY2VzID0gbWFzdGVyUmVzb3VyY2VMaXN0LnJlZHVjZSgoYWNjLCByZXMpID0+ICh7Li4uYWNjLCBbcmVzLmlkXTogOTk5OTl9KSwge30pO1xuICAgICAgICAgICAgc2V0UmVzb3VyY2VzKG1heGVkUmVzb3VyY2VzKTtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihcIlRlc3QgTW9kZTogT04gLSBBbGwgYWN0aXZlIHRhc2tzIGNvbXBsZXRlZC5cIik7XG4gICAgICAgICAgICBjb25zdCBkZXBsZXRlZE5vZGVJZHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICAgICAgICAgIGFjdGl2ZVRhc2tzLmZvckVhY2godGFzayA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRhc2sudHlwZSA9PT0gJ2dhdGhlcicgJiYgdGFzay5wYXlsb2FkPy5yZXNvdXJjZU5vZGVJZCkge1xuICAgICAgICAgICAgICAgICAgICBkZXBsZXRlZE5vZGVJZHMuYWRkKHRhc2sucGF5bG9hZC5yZXNvdXJjZU5vZGVJZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSByZXNvdXJjZU5vZGVzLmZpbmQobiA9PiBuLmlkID09PSB0YXNrLnBheWxvYWQucmVzb3VyY2VOb2RlSWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSkgYWRkVG9Mb2coYEluc3RhbnRseSBnYXRoZXJlZCBhbGwgJHtub2RlLnR5cGV9IGZyb20gYSBkZXBsZXRlZCBzb3VyY2UuYCwgbm9kZS50eXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaGFuZGxlVGFza0NvbXBsZXRpb24odGFzayk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKFtdKTtcbiAgICAgICAgICAgIGlmIChkZXBsZXRlZE5vZGVJZHMuc2l6ZSA+IDApIHNldFJlc291cmNlTm9kZXMocHJldiA9PiBwcmV2LmZpbHRlcihuID0+ICFkZXBsZXRlZE5vZGVJZHMuaGFzKG4uaWQpKSk7XG4gICAgICAgIH0gZWxzZSBhZGROb3RpZmljYXRpb24oXCJUZXN0IE1vZGU6IE9GRlwiKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGhhbmRsZVVzZUl0ZW0gPSAoaXRlbUlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGludmVudG9yeS5maW5kKGkgPT4gaS5pZCA9PT0gaXRlbUlkKTsgaWYgKCFpdGVtKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGJhc2VJdGVtSWQgPSBpdGVtLmlkLnNwbGl0KCctJylbMF07XG4gICAgICAgIGNvbnN0IGNvbnN0cnVjdGlvblRhc2tzID0gYWN0aXZlVGFza3MuZmlsdGVyKHQgPT4gdC50eXBlID09PSAnYnVpbGQnKTtcbiAgICAgICAgc3dpdGNoKGJhc2VJdGVtSWQpIHtcbiAgICAgICAgICAgIGNhc2UgJ3Njcm9sbF9vZl9oYXN0ZSc6IGNhc2UgJ2JsdWVwcmludF9vZl90aGVfbWFzdGVyJzpcbiAgICAgICAgICAgICAgICBpZiAoY29uc3RydWN0aW9uVGFza3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXNrID0gY29uc3RydWN0aW9uVGFza3Muc29ydCgoYSxiKSA9PiAoYi5zdGFydFRpbWUgKyBiLmR1cmF0aW9uKSAtIChhLnN0YXJ0VGltZSArIGEuZHVyYXRpb24pKVswXTtcbiAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocCA9PiBwLm1hcCh0ID0+IHQuaWQgPT09IHRhc2suaWQgPyB7IC4uLnQsIGR1cmF0aW9uOiBNYXRoLm1heCgwLCB0LmR1cmF0aW9uIC0gKGJhc2VJdGVtSWQgPT09ICdzY3JvbGxfb2ZfaGFzdGUnID8gMTUwMDAgOiA2MDAwMCkpIH0gOiB0KSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFRvTG9nKGBVc2VkICR7aXRlbS5uYW1lfSBvbiB0aGUgJHtidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IHRhc2sucGF5bG9hZD8uYnVpbGRpbmdUeXBlKT8ubmFtZX0uYCwgJ2l0ZW0nKTtcbiAgICAgICAgICAgICAgICB9IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnaGVhcnR5X21lYWwnOiB1cGRhdGVSZXNvdXJjZXMoeyBmb29kOiA3NSB9KTsgYWRkVG9Mb2coYFVzZWQgJHtpdGVtLm5hbWV9IHRvIGdhaW4gNzUgZm9vZC5gLCAnaXRlbScpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2J1aWxkZXJzX2NoYXJtJzogc2V0QWN0aXZlQnVmZnMocCA9PiAoey4uLnAsIGJ1aWxkVGltZVJlZHVjdGlvbjogeyBwZXJjZW50YWdlOiAwLjEsIHVzZXM6IDEgfX0pKTsgYWRkVG9Mb2coYFVzZWQgJHtpdGVtLm5hbWV9LiBOZXh0IGJ1aWxkaW5nIGlzIDEwJSBmYXN0ZXIuYCwgJ2l0ZW0nKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkcmlsbG1hc3RlcnNfd2hpc3RsZSc6IHNldEFjdGl2ZUJ1ZmZzKHAgPT4gKHsuLi5wLCB0cmFpblRpbWVSZWR1Y3Rpb246IHsgcGVyY2VudGFnZTogMC4yNSwgdXNlczogNSB9fSkpOyBhZGRUb0xvZyhgVXNlZCAke2l0ZW0ubmFtZX0uIE5leHQgNSB1bml0cyB0cmFpbiAyNSUgZmFzdGVyLmAsICdpdGVtJyk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZ29sZGVuX2hhcnZlc3QnOiBzZXRBY3RpdmVCdWZmcyhwID0+ICh7Li4ucCwgcmVzb3VyY2VCb29zdDogWy4uLihwLnJlc291cmNlQm9vc3QgfHwgW10pLCB7IHJlc291cmNlOiAnZm9vZCcsIG11bHRpcGxpZXI6IDEuNSwgZW5kVGltZTogRGF0ZS5ub3coKSArIDYwMDAwIH1dfSkpOyBhZGRUb0xvZyhgVXNlZCAke2l0ZW0ubmFtZX0uIEZvb2QgZ2F0aGVyaW5nIGJvb3N0ZWQgYnkgNTAlIGZvciA2MHMuYCwgJ2l0ZW0nKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzaGFyZF9vZl90aGVfYW5jaWVudHMnOlxuICAgICAgICAgICAgICAgIGlmIChjb25zdHJ1Y3Rpb25UYXNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhc2sgPSBjb25zdHJ1Y3Rpb25UYXNrcy5zb3J0KChhLGIpID0+IChiLnN0YXJ0VGltZSArIGIuZHVyYXRpb24pIC0gKGEuc3RhcnRUaW1lICsgYS5kdXJhdGlvbikpWzBdO1xuICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwID0+IHAuZmlsdGVyKHQgPT4gdC5pZCAhPT0gdGFzay5pZCkpOyBoYW5kbGVUYXNrQ29tcGxldGlvbih0YXNrKTtcbiAgICAgICAgICAgICAgICAgICAgYWRkVG9Mb2coYFVzZWQgJHtpdGVtLm5hbWV9IHRvIGluc3RhbnRseSBjb21wbGV0ZSB0aGUgJHtidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IHRhc2sucGF5bG9hZD8uYnVpbGRpbmdUeXBlKT8ubmFtZX0uYCwgJ2l0ZW0nKTtcbiAgICAgICAgICAgICAgICB9IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnaGVhcnRfb2ZfdGhlX21vdW50YWluJzpcbiAgICAgICAgICAgICAgICBzZXRBY3RpdmVCdWZmcyhwID0+ICh7Li4ucCwgcmVzb3VyY2VCb29zdDogWy4uLihwLnJlc291cmNlQm9vc3QgfHwgW10pLCB7IHJlc291cmNlOiAnZ29sZCcsIG11bHRpcGxpZXI6IDIsIGVuZFRpbWU6IERhdGUubm93KCkgKyAxMjAwMDAgfSwgeyByZXNvdXJjZTogJ3N0b25lJywgbXVsdGlwbGllcjogMiwgZW5kVGltZTogRGF0ZS5ub3coKSArIDEyMDAwMCB9XX0pKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhgVXNlZCAke2l0ZW0ubmFtZX0uIEdvbGQgYW5kIFN0b25lIGdhdGhlcmluZyBkb3VibGVkIGZvciAyIG1pbnV0ZXMuYCwgJ2l0ZW0nKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdiYW5uZXJfb2ZfY29tbWFuZCc6XG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlQnVmZnMocCA9PiAoey4uLnAsIHBlcm1hbmVudFRyYWluVGltZVJlZHVjdGlvbjogKHAucGVybWFuZW50VHJhaW5UaW1lUmVkdWN0aW9uIHx8IDApICsgMC4wNX0pKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhgVXNlZCAke2l0ZW0ubmFtZX0uIE1pbGl0YXJ5IHVuaXRzIHRyYWluIDUlIGZhc3RlciwgcGVybWFuZW50bHkuYCwgJ2l0ZW0nKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd3aGlzcGVyX29mX3RoZV9jcmVhdG9yJzpcbiAgICAgICAgICAgICAgICBjb25zdCB0YXNrcyA9IFsuLi5hY3RpdmVUYXNrc107IHNldEFjdGl2ZVRhc2tzKFtdKTsgdGFza3MuZm9yRWFjaChoYW5kbGVUYXNrQ29tcGxldGlvbik7XG4gICAgICAgICAgICAgICAgYWRkVG9Mb2coYEEgZGl2aW5lIHdoaXNwZXIgZWNob2VzLCBhbmQgYWxsIHdvcmsgaXMgaW5zdGFudGx5IGZpbmlzaGVkLmAsICdpdGVtJyk7IGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHNldEludmVudG9yeShwcmV2ID0+IHByZXYuZmlsdGVyKGkgPT4gaS5pZCAhPT0gaXRlbUlkKSk7IHNldEludmVudG9yeVBhbmVsU3RhdGUoe2lzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGx9KTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGJ1aWxkaW5nQ291bnRzID0gYnVpbGRpbmdMaXN0LnJlZHVjZSgoYWNjLCBiKSA9PiB7IGFjY1tiLmlkXSA9IGJ1aWxkaW5nc1tiLmlkIGFzIHN0cmluZ10/Lmxlbmd0aCB8fCAwOyByZXR1cm4gYWNjOyB9LCB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+KTtcbiAgICBjb25zdCBpZGxlVmlsbGFnZXJDb3VudCA9IHVuaXRzLnZpbGxhZ2Vycy5maWx0ZXIodiA9PiAhdi5jdXJyZW50VGFzaykubGVuZ3RoO1xuICAgIGNvbnN0IGFzc2lnbm1lbnRUYXJnZXQgPSBhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRUeXBlID09PSAncmVzb3VyY2UnIFxuICAgICAgICA/IHJlc291cmNlTm9kZXMuZmluZChuID0+IG4uaWQgPT09IGFzc2lnbm1lbnRQYW5lbFN0YXRlLnRhcmdldElkKSBcbiAgICAgICAgOiBhY3RpdmVUYXNrcy5maW5kKHQgPT4gdC50eXBlID09PSAnYnVpbGQnICYmIHQuaWQgPT09IGFzc2lnbm1lbnRQYW5lbFN0YXRlLnRhcmdldElkKTtcbiAgICBcbiAgICBjb25zdCBjdXJyZW50QWdlSW5kZXggPSBhZ2VQcm9ncmVzc2lvbkxpc3QuZmluZEluZGV4KGEgPT4gYS5uYW1lID09PSBjdXJyZW50QWdlKTtcbiAgICBjb25zdCBhdmFpbGFibGVCdWlsZGluZ3MgPSBidWlsZGluZ0xpc3QuZmlsdGVyKGIgPT4ge1xuICAgICAgICBjb25zdCB1bmxvY2tBZ2VJbmRleCA9IGFnZVByb2dyZXNzaW9uTGlzdC5maW5kSW5kZXgoYSA9PiBhLm5hbWUgPT09IGIudW5sb2NrZWRJbkFnZSk7XG4gICAgICAgIHJldHVybiBiLmlzQWN0aXZlICYmICFiLmlzVXBncmFkZU9ubHkgJiYgdW5sb2NrQWdlSW5kZXggIT09IC0xICYmIHVubG9ja0FnZUluZGV4IDw9IGN1cnJlbnRBZ2VJbmRleDtcbiAgICB9KTtcblxuICAgIGNvbnN0IGFjdGl2ZVVuaXRzID0gdW5pdExpc3QuZmlsdGVyKHUgPT4gdS5pc0FjdGl2ZSk7XG5cbiAgICBjb25zdCBjbG9zZUFsbFBhbmVscyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgc2V0VW5pdE1hbmFnZW1lbnRQYW5lbChwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICAgICAgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwocCA9PiBwLmlzT3BlbiA/IHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgaW5zdGFuY2VJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgICAgIHNldEJ1aWxkUGFuZWxTdGF0ZShwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCB2aWxsYWdlcklkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICAgICAgc2V0QXNzaWdubWVudFBhbmVsU3RhdGUocCA9PiBwLmlzT3BlbiA/IHsgaXNPcGVuOiBmYWxzZSwgdGFyZ2V0SWQ6IG51bGwsIHRhcmdldFR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgICAgICBzZXRDaXZQYW5lbFN0YXRlKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgICAgICBzZXRBbGxCdWlsZGluZ3NQYW5lbChwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICAgICAgc2V0SW52ZW50b3J5UGFuZWxTdGF0ZShwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICAgICAgc2V0UmVzZWFyY2hQYW5lbFN0YXRlKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IGhhbmRsZU9wZW5CdWlsZGluZ1BhbmVsID0gdXNlQ2FsbGJhY2soKHR5cGU6IEJ1aWxkaW5nVHlwZSB8IHN0cmluZywgaW5zdGFuY2VJZDogc3RyaW5nLCByZWN0OiBET01SZWN0KSA9PiB7XG4gICAgICAgIGNsb3NlQWxsUGFuZWxzKCk7XG4gICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiB0cnVlLCB0eXBlLCBpbnN0YW5jZUlkLCBhbmNob3JSZWN0OiByZWN0IH0pO1xuICAgIH0sIFtjbG9zZUFsbFBhbmVsc10pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgaGFuZGxlQ2xpY2tPdXRzaWRlID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgRWxlbWVudDtcbiAgICAgICAgICAgIGlmICghdGFyZ2V0LmNsb3Nlc3QoJy5zY2ktZmktcGFuZWwtcG9wdXAsIFtkYXRhLXJhZGl4LXBvcHBlci1jb250ZW50LXdyYXBwZXJdJykpIGNsb3NlQWxsUGFuZWxzKCk7XG4gICAgICAgIH07XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpO1xuICAgIH0sIFtjbG9zZUFsbFBhbmVsc10pO1xuXG4gICAgY29uc3QgcmVuZGVyQ29udGVudCA9ICgpID0+IHtcbiAgICAgICAgaWYgKGlzQXBwTG9hZGluZykge1xuICAgICAgICAgICAgcmV0dXJuIDxMb2FkaW5nU2NyZWVuIC8+O1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChnYW1lU3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZVN0YXR1cy5NRU5VOiByZXR1cm4gPFN0YXJ0U2NyZWVuIG9uTmV3R2FtZT17aGFuZGxlU3RhcnROZXdHYW1lfSBvblJlc3VtZUdhbWU9e2hhbmRsZVJlc3VtZUdhbWV9IHNhdmVkR2FtZXM9e2FsbFNhdmVzfSBvbkRlbGV0ZUdhbWU9e2hhbmRsZURlbGV0ZUdhbWV9IC8+O1xuICAgICAgICAgICAgY2FzZSBHYW1lU3RhdHVzLkxPQURJTkc6IHJldHVybiA8TG9hZGluZ1NjcmVlbiAvPjtcbiAgICAgICAgICAgIGNhc2UgR2FtZVN0YXR1cy5QTEFZSU5HOlxuICAgICAgICAgICAgICAgIGlmICghY2l2aWxpemF0aW9uKSByZXR1cm4gPExvYWRpbmdTY3JlZW4gLz47XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxHYW1lVUlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXZpbGl6YXRpb249e2NpdmlsaXphdGlvbn0gcmVzb3VyY2VzPXtyZXNvdXJjZXN9IHVuaXRzPXt1bml0c30gYnVpbGRpbmdzPXtidWlsZGluZ3N9IHBvcHVsYXRpb249e3BvcHVsYXRpb259IGN1cnJlbnRBZ2U9e2N1cnJlbnRBZ2V9IGdhbWVMb2c9e2dhbWVMb2d9IHJlc291cmNlRGVsdGFzPXtyZXNvdXJjZURlbHRhc30gYWN0aXZpdHlTdGF0dXM9e2FjdGl2aXR5U3RhdHVzfSB1bml0TGlzdD17YWN0aXZlVW5pdHN9IGJ1aWxkaW5nTGlzdD17YnVpbGRpbmdMaXN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlblVuaXRQYW5lbD17KHR5cGUsIHJlY3QpID0+IHsgY2xvc2VBbGxQYW5lbHMoKTsgc2V0VW5pdE1hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogdHJ1ZSwgdHlwZSwgYW5jaG9yUmVjdDogcmVjdCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5CdWlsZGluZ1BhbmVsPXtoYW5kbGVPcGVuQnVpbGRpbmdQYW5lbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5BbGxCdWlsZGluZ3NQYW5lbD17KHJlY3QpID0+IHsgY2xvc2VBbGxQYW5lbHMoKTsgc2V0QWxsQnVpbGRpbmdzUGFuZWwoeyBpc09wZW46IHRydWUsIGFuY2hvclJlY3Q6IHJlY3QgfSk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyQWN0aW9uPXtwbGF5ZXJBY3Rpb259IG9uQ29uZmlybVBsYWNlbWVudD17aGFuZGxlQ29uZmlybVBsYWNlbWVudH0gb25DYW5jZWxQbGF5ZXJBY3Rpb249e2hhbmRsZUNhbmNlbFBsYXllckFjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkJ1aWxkaW5nQ2xpY2s9eyhidWlsZGluZywgcmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBjb25zdCB0eXBlID0gT2JqZWN0LmtleXMoYnVpbGRpbmdzKS5maW5kKGtleSA9PiBidWlsZGluZ3Nba2V5IGFzIHN0cmluZ10/LnNvbWUoYiA9PiBiLmlkID09PSBidWlsZGluZy5pZCkpOyBpZih0eXBlKSBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogdHJ1ZSwgdHlwZSwgaW5zdGFuY2VJZDogYnVpbGRpbmcuaWQsIGFuY2hvclJlY3Q6IHJlY3QgfSk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwRGltZW5zaW9ucz17TUFQX0RJTUVOU0lPTlN9IGFjdGl2ZVRhc2tzPXthY3RpdmVUYXNrc30gb25FeGl0R2FtZT17aGFuZGxlRXhpdEdhbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuQ2l2UGFuZWw9eyhyZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IHNldENpdlBhbmVsU3RhdGUoeyBpc09wZW46IHRydWUsIGFuY2hvclJlY3Q6IHJlY3QgfSk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VOb2Rlcz17cmVzb3VyY2VOb2Rlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5Bc3NpZ25tZW50UGFuZWw9eyhub2RlSWQsIHJlY3QpID0+IHsgY2xvc2VBbGxQYW5lbHMoKTsgc2V0QXNzaWdubWVudFBhbmVsU3RhdGUoeyBpc09wZW46IHRydWUsIHRhcmdldElkOiBub2RlSWQsIHRhcmdldFR5cGU6ICdyZXNvdXJjZScsIGFuY2hvclJlY3Q6IHJlY3QgfSk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuQ29uc3RydWN0aW9uUGFuZWw9eyhjb25zdHJ1Y3Rpb25JZCwgcmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZSh7IGlzT3BlbjogdHJ1ZSwgdGFyZ2V0SWQ6IGNvbnN0cnVjdGlvbklkLCB0YXJnZXRUeXBlOiAnY29uc3RydWN0aW9uJywgYW5jaG9yUmVjdDogcmVjdCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXRoZXJJbmZvPXtnYXRoZXJJbmZvUmVmLmN1cnJlbnR9IGN1cnJlbnRFdmVudD17Y3VycmVudEV2ZW50fSBvbkV2ZW50Q2hvaWNlPXtoYW5kbGVFdmVudENob2ljZX0gaW52ZW50b3J5PXtpbnZlbnRvcnl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuSW52ZW50b3J5UGFuZWw9eyhyZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IHNldEludmVudG9yeVBhbmVsU3RhdGUoeyBpc09wZW46IHRydWUsIGFuY2hvclJlY3Q6IHJlY3QgfSk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuUmVzZWFyY2hQYW5lbD17KHJlY3QpID0+IHsgY2xvc2VBbGxQYW5lbHMoKTsgc2V0UmVzZWFyY2hQYW5lbFN0YXRlKHsgaXNPcGVuOiB0cnVlLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc1Jlc2VhcmNoQnVpbGRpbmdzPXtoYXNSZXNlYXJjaEJ1aWxkaW5nc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZUxpc3Q9e21hc3RlclJlc291cmNlTGlzdH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnVpbGRQYW5lbCBpc09wZW49e2J1aWxkUGFuZWxTdGF0ZS5pc09wZW59IG9uQ2xvc2U9eygpID0+IHNldEJ1aWxkUGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIHZpbGxhZ2VySWQ6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSl9IG9uU3RhcnRQbGFjZW1lbnQ9e2hhbmRsZVN0YXJ0UGxhY2VtZW50fSByZXNvdXJjZXM9e3Jlc291cmNlc30gYnVpbGRpbmdDb3VudHM9e2J1aWxkaW5nQ291bnRzfSBidWlsZGluZ0xpc3Q9e2F2YWlsYWJsZUJ1aWxkaW5nc30gYW5jaG9yUmVjdD17YnVpbGRQYW5lbFN0YXRlLmFuY2hvclJlY3R9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VW5pdE1hbmFnZW1lbnRQYW5lbCBpc09wZW49e3VuaXRNYW5hZ2VtZW50UGFuZWwuaXNPcGVufSBvbkNsb3NlPXsoKSA9PiBzZXRVbml0TWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KX0gdHlwZT17dW5pdE1hbmFnZW1lbnRQYW5lbC50eXBlfSB1bml0cz17dW5pdHN9IG9uVXBkYXRlVW5pdD17aGFuZGxlVXBkYXRlVW5pdH0gb25EaXNtaXNzVW5pdD17aGFuZGxlRGlzbWlzc1NwZWNpZmljVW5pdH0gb25Jbml0aWF0ZUJ1aWxkPXsodmlsbGFnZXJJZCwgcmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBoYW5kbGVJbml0aWF0ZUJ1aWxkKHZpbGxhZ2VySWQsIHJlY3QpOyB9fSBnZXRWaWxsYWdlclRhc2tEZXRhaWxzPXtnZXRWaWxsYWdlclRhc2tEZXRhaWxzfSBhbmNob3JSZWN0PXt1bml0TWFuYWdlbWVudFBhbmVsLmFuY2hvclJlY3R9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwgaXNPcGVuPXtidWlsZGluZ01hbmFnZW1lbnRQYW5lbC5pc09wZW59IG9uQ2xvc2U9eygpID0+IHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KX0gcGFuZWxTdGF0ZT17YnVpbGRpbmdNYW5hZ2VtZW50UGFuZWx9IGJ1aWxkaW5ncz17YnVpbGRpbmdzfSBidWlsZGluZ0xpc3Q9e2J1aWxkaW5nTGlzdH0gb25VcGRhdGVCdWlsZGluZz17aGFuZGxlVXBkYXRlQnVpbGRpbmd9IG9uRGVtb2xpc2hCdWlsZGluZz17aGFuZGxlRGVtb2xpc2hCdWlsZGluZ30gb25UcmFpblVuaXRzPXtoYW5kbGVUcmFpblVuaXRzfSBvblRyYWluVmlsbGFnZXJzPXtoYW5kbGVUcmFpblZpbGxhZ2Vyc30gb25VcGdyYWRlQnVpbGRpbmc9e2hhbmRsZVVwZ3JhZGVCdWlsZGluZ30gcmVzb3VyY2VzPXtyZXNvdXJjZXN9IHBvcHVsYXRpb249e3BvcHVsYXRpb259IHVuaXRMaXN0PXthY3RpdmVVbml0c30gb25BZHZhbmNlQWdlPXtoYW5kbGVBZHZhbmNlQWdlfSBhY3RpdmVUYXNrcz17YWN0aXZlVGFza3N9IGFuY2hvclJlY3Q9e2J1aWxkaW5nTWFuYWdlbWVudFBhbmVsLmFuY2hvclJlY3R9IG1hc3RlclJlc2VhcmNoTGlzdD17bWFzdGVyUmVzZWFyY2hMaXN0fSBjb21wbGV0ZWRSZXNlYXJjaD17Y29tcGxldGVkUmVzZWFyY2h9IG9uU3RhcnRSZXNlYXJjaD17aGFuZGxlU3RhcnRSZXNlYXJjaH0gY3VycmVudEFnZT17Y3VycmVudEFnZX0gYWdlUHJvZ3Jlc3Npb25MaXN0PXthZ2VQcm9ncmVzc2lvbkxpc3R9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UmVzb3VyY2VBc3NpZ25tZW50UGFuZWwgaXNPcGVuPXthc3NpZ25tZW50UGFuZWxTdGF0ZS5pc09wZW59IG9uQ2xvc2U9eygpID0+IHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdGFyZ2V0SWQ6IG51bGwsIHRhcmdldFR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSl9IGFzc2lnbm1lbnRUYXJnZXQ9e2Fzc2lnbm1lbnRUYXJnZXQgfHwgbnVsbH0gaWRsZVZpbGxhZ2VyQ291bnQ9e2lkbGVWaWxsYWdlckNvdW50fSBvbkFzc2lnblZpbGxhZ2Vycz17aGFuZGxlQXNzaWduVmlsbGFnZXJzfSBvblJlY2FsbFZpbGxhZ2Vycz17aGFuZGxlUmVjYWxsVmlsbGFnZXJzfSBnYXRoZXJJbmZvPXtnYXRoZXJJbmZvUmVmLmN1cnJlbnR9IGJ1aWxkaW5nTGlzdD17YnVpbGRpbmdMaXN0fSB1bml0cz17dW5pdHN9IGFuY2hvclJlY3Q9e2Fzc2lnbm1lbnRQYW5lbFN0YXRlLmFuY2hvclJlY3R9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2l2aWxpemF0aW9uUGFuZWwgaXNPcGVuPXtjaXZQYW5lbFN0YXRlLmlzT3Blbn0gb25DbG9zZT17KCkgPT4gc2V0Q2l2UGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSl9IGNpdmlsaXphdGlvbj17Y2l2aWxpemF0aW9ufSBhbmNob3JSZWN0PXtjaXZQYW5lbFN0YXRlLmFuY2hvclJlY3R9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QWxsQnVpbGRpbmdzUGFuZWwgaXNPcGVuPXthbGxCdWlsZGluZ3NQYW5lbC5pc09wZW59IG9uQ2xvc2U9eygpID0+IHNldEFsbEJ1aWxkaW5nc1BhbmVsKHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9KX0gYnVpbGRpbmdMaXN0PXtidWlsZGluZ0xpc3R9IGJ1aWxkaW5nQ291bnRzPXtidWlsZGluZ0NvdW50c30gYWN0aXZlVGFza3M9e2FjdGl2ZVRhc2tzfSBvbk9wZW5CdWlsZGluZ1BhbmVsPXtoYW5kbGVPcGVuQnVpbGRpbmdQYW5lbH0gYW5jaG9yUmVjdD17YWxsQnVpbGRpbmdzUGFuZWwuYW5jaG9yUmVjdH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxJbnZlbnRvcnlQYW5lbCBpc09wZW49e2ludmVudG9yeVBhbmVsU3RhdGUuaXNPcGVufSBvbkNsb3NlPXsoKSA9PiBzZXRJbnZlbnRvcnlQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9KX0gaW52ZW50b3J5PXtpbnZlbnRvcnl9IG9uVXNlSXRlbT17aGFuZGxlVXNlSXRlbX0gYWN0aXZlVGFza3M9e2FjdGl2ZVRhc2tzfSBhY3RpdmVCdWZmcz17YWN0aXZlQnVmZnN9IGFuY2hvclJlY3Q9e2ludmVudG9yeVBhbmVsU3RhdGUuYW5jaG9yUmVjdH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxSZXNlYXJjaFBhbmVsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT3Blbj17cmVzZWFyY2hQYW5lbFN0YXRlLmlzT3Blbn0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0UmVzZWFyY2hQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXN0ZXJSZXNlYXJjaExpc3Q9e21hc3RlclJlc2VhcmNoTGlzdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRSZXNlYXJjaD17Y29tcGxldGVkUmVzZWFyY2h9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlVGFza3M9e2FjdGl2ZVRhc2tzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlcz17cmVzb3VyY2VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRBZ2U9e2N1cnJlbnRBZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWdlUHJvZ3Jlc3Npb25MaXN0PXthZ2VQcm9ncmVzc2lvbkxpc3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TdGFydFJlc2VhcmNoPXtoYW5kbGVTdGFydFJlc2VhcmNofVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiA8U3RhcnRTY3JlZW4gb25OZXdHYW1lPXtoYW5kbGVTdGFydE5ld0dhbWV9IG9uUmVzdW1lR2FtZT17aGFuZGxlUmVzdW1lR2FtZX0gc2F2ZWRHYW1lcz17YWxsU2F2ZXN9IG9uRGVsZXRlR2FtZT17aGFuZGxlRGVsZXRlR2FtZX0gLz47XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctc3RvbmUtZGFyayBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTRcIj5cbiAgICAgICAgICAgIHtnYW1lU3RhdGUgPT09IEdhbWVTdGF0dXMuUExBWUlORyAmJiAoXG4gICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlVG9nZ2xlVW5saW1pdGVkUmVzb3VyY2VzfSBjbGFzc05hbWU9XCJmaXhlZCBib3R0b20tNCBsZWZ0LTQgei1bMTAxXSBiZy1icmFuZC1nb2xkIHRleHQtc3RvbmUtZGFyayBmb250LWJvbGQgcHktMSBweC0zIHJvdW5kZWQtZnVsbCB0ZXh0LXhzIHNoYWRvdy1sZyBob3ZlcjpzY2FsZS0xMDUgdHJhbnNpdGlvbi10cmFuc2Zvcm1cIiBhcmlhLWxhYmVsPVwiVG9nZ2xlIHVubGltaXRlZCByZXNvdXJjZXMgdGVzdCBtb2RlXCI+VGVzdCBNb2RlOiB7dW5saW1pdGVkUmVzb3VyY2VzID8gJ09OJyA6ICdPRkYnfTwvYnV0dG9uPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxOb3RpZmljYXRpb25NYW5hZ2VyIG5vdGlmaWNhdGlvbnM9e25vdGlmaWNhdGlvbnN9IG9uUmVtb3ZlTm90aWZpY2F0aW9uPXtyZW1vdmVOb3RpZmljYXRpb259IC8+XG4gICAgICAgICAgICA8bWFpbiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXctN3hsIG14LWF1dG9cIj5cbiAgICAgICAgICAgICAgICB7cmVuZGVyQ29udGVudCgpfVxuICAgICAgICAgICAgPC9tYWluPlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgR2FtZVBhZ2U7XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlTWVtbyIsIkdhbWVTdGF0dXMiLCJnZXRQcmVkZWZpbmVkQ2l2aWxpemF0aW9uIiwiZ2V0UHJlZGVmaW5lZEdhbWVFdmVudCIsInNhdmVHYW1lU3RhdGUiLCJsb2FkR2FtZVN0YXRlIiwiZ2V0QWxsU2F2ZU5hbWVzIiwiZGVsZXRlR2FtZVN0YXRlIiwiZ2V0QWxsQWdlQ29uZmlncyIsImdldEFsbEJ1aWxkaW5nQ29uZmlncyIsImdldEFsbFVuaXRDb25maWdzIiwic2F2ZUFnZUNvbmZpZyIsInNhdmVCdWlsZGluZ0NvbmZpZyIsInNhdmVVbml0Q29uZmlnIiwiZ2V0QWxsUmVzb3VyY2VDb25maWdzIiwic2F2ZVJlc291cmNlQ29uZmlnIiwiZ2V0QWxsUmVzZWFyY2hDb25maWdzIiwic2F2ZVJlc2VhcmNoQ29uZmlnIiwiZ2V0UmFuZG9tTmFtZXMiLCJHQU1FX0lURU1TIiwiSU5JVElBTF9BR0VTIiwiSU5JVElBTF9CVUlMRElOR1MiLCJJTklUSUFMX1VOSVRTIiwiSU5JVElBTF9SRVNPVVJDRVMiLCJJTklUSUFMX1JFU0VBUkNIIiwiR2FtZVVJIiwiU3RhcnRTY3JlZW4iLCJMb2FkaW5nU2NyZWVuIiwiQnVpbGRQYW5lbCIsIk5vdGlmaWNhdGlvbk1hbmFnZXIiLCJVbml0TWFuYWdlbWVudFBhbmVsIiwiQnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwiLCJSZXNvdXJjZUFzc2lnbm1lbnRQYW5lbCIsIkNpdmlsaXphdGlvblBhbmVsIiwiQWxsQnVpbGRpbmdzUGFuZWwiLCJJbnZlbnRvcnlQYW5lbCIsIlJlc2VhcmNoUGFuZWwiLCJpbml0aWFsQnVpbGRpbmdzU3RhdGUiLCJob3VzZXMiLCJiYXJyYWNrcyIsImFyY2hlcnlSYW5nZSIsInN0YWJsZSIsInNpZWdlV29ya3Nob3AiLCJibGFja3NtaXRoIiwid2F0Y2hUb3dlciIsInRvd25DZW50ZXIiLCJNQVBfRElNRU5TSU9OUyIsIndpZHRoIiwiaGVpZ2h0IiwiR2FtZVBhZ2UiLCJnYW1lU3RhdGUiLCJzZXRHYW1lU3RhdGUiLCJMT0FESU5HIiwiY2l2aWxpemF0aW9uIiwic2V0Q2l2aWxpemF0aW9uIiwicmVzb3VyY2VzIiwic2V0UmVzb3VyY2VzIiwiZm9vZCIsIndvb2QiLCJnb2xkIiwic3RvbmUiLCJ1bml0cyIsInNldFVuaXRzIiwidmlsbGFnZXJzIiwibWlsaXRhcnkiLCJidWlsZGluZ3MiLCJzZXRCdWlsZGluZ3MiLCJjdXJyZW50QWdlIiwic2V0Q3VycmVudEFnZSIsImdhbWVMb2ciLCJzZXRHYW1lTG9nIiwiY3VycmVudEV2ZW50Iiwic2V0Q3VycmVudEV2ZW50IiwicmVzb3VyY2VEZWx0YXMiLCJzZXRSZXNvdXJjZURlbHRhcyIsImFjdGl2aXR5U3RhdHVzIiwic2V0QWN0aXZpdHlTdGF0dXMiLCJub3RpZmljYXRpb25zIiwic2V0Tm90aWZpY2F0aW9ucyIsInVubGltaXRlZFJlc291cmNlcyIsInNldFVubGltaXRlZFJlc291cmNlcyIsImFsbFNhdmVzIiwic2V0QWxsU2F2ZXMiLCJjdXJyZW50U2F2ZU5hbWUiLCJzZXRDdXJyZW50U2F2ZU5hbWUiLCJwbGF5ZXJBY3Rpb24iLCJzZXRQbGF5ZXJBY3Rpb24iLCJhY3RpdmVUYXNrcyIsInNldEFjdGl2ZVRhc2tzIiwicmVzb3VyY2VOb2RlcyIsInNldFJlc291cmNlTm9kZXMiLCJpbnZlbnRvcnkiLCJzZXRJbnZlbnRvcnkiLCJhY3RpdmVCdWZmcyIsInNldEFjdGl2ZUJ1ZmZzIiwicmVzb3VyY2VCb29zdCIsImNvbXBsZXRlZFJlc2VhcmNoIiwic2V0Q29tcGxldGVkUmVzZWFyY2giLCJtYXN0ZXJBZ2VMaXN0Iiwic2V0TWFzdGVyQWdlTGlzdCIsIm1hc3RlckJ1aWxkaW5nTGlzdCIsInNldE1hc3RlckJ1aWxkaW5nTGlzdCIsIm1hc3RlclVuaXRMaXN0Iiwic2V0TWFzdGVyVW5pdExpc3QiLCJtYXN0ZXJSZXNvdXJjZUxpc3QiLCJzZXRNYXN0ZXJSZXNvdXJjZUxpc3QiLCJtYXN0ZXJSZXNlYXJjaExpc3QiLCJzZXRNYXN0ZXJSZXNlYXJjaExpc3QiLCJpc0FwcExvYWRpbmciLCJzZXRJc0FwcExvYWRpbmciLCJidWlsZFBhbmVsU3RhdGUiLCJzZXRCdWlsZFBhbmVsU3RhdGUiLCJpc09wZW4iLCJ2aWxsYWdlcklkIiwiYW5jaG9yUmVjdCIsInVuaXRNYW5hZ2VtZW50UGFuZWwiLCJzZXRVbml0TWFuYWdlbWVudFBhbmVsIiwidHlwZSIsImJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsIiwic2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwiLCJpbnN0YW5jZUlkIiwiYWxsQnVpbGRpbmdzUGFuZWwiLCJzZXRBbGxCdWlsZGluZ3NQYW5lbCIsImFzc2lnbm1lbnRQYW5lbFN0YXRlIiwic2V0QXNzaWdubWVudFBhbmVsU3RhdGUiLCJ0YXJnZXRJZCIsInRhcmdldFR5cGUiLCJjaXZQYW5lbFN0YXRlIiwic2V0Q2l2UGFuZWxTdGF0ZSIsImludmVudG9yeVBhbmVsU3RhdGUiLCJzZXRJbnZlbnRvcnlQYW5lbFN0YXRlIiwicmVzZWFyY2hQYW5lbFN0YXRlIiwic2V0UmVzZWFyY2hQYW5lbFN0YXRlIiwiZGVsdGFUaW1lb3V0UmVmIiwiZXZlbnRUaW1lclJlZiIsImxhc3RUaWNrUmVmIiwiRGF0ZSIsIm5vdyIsImFuaW1hdGlvbkZyYW1lUmVmIiwiZ2F0aGVySW5mb1JlZiIsImFnZVByb2dyZXNzaW9uTGlzdCIsImZpbHRlciIsImFnZSIsImlzQWN0aXZlIiwiYnVpbGRpbmdMaXN0IiwidW5pdExpc3QiLCJwb3B1bGF0aW9uQ2FwYWNpdHkiLCJjYXBhY2l0eSIsImJ1aWxkaW5nVHlwZSIsImJ1aWxkaW5nSW5mbyIsImZpbmQiLCJiIiwiaWQiLCJsZW5ndGgiLCJwb3B1bGF0aW9uIiwibWlsaXRhcnlQb3AiLCJyZWR1Y2UiLCJhY2MiLCJ1bml0IiwidW5pdEluZm8iLCJ1IiwidW5pdFR5cGUiLCJwb3B1bGF0aW9uQ29zdCIsImN1cnJlbnQiLCJoYXNSZXNlYXJjaEJ1aWxkaW5ncyIsInNvbWUiLCJjYW5SZXNlYXJjaCIsImZldGNoUmVzb3VyY2VzIiwiYWxsSXRlbXMiLCJpdGVtTWFwIiwiTWFwIiwibWFwIiwiaSIsIm5lZWRzVXBkYXRlIiwiaW5kZXgiLCJwSXRlbSIsImVudHJpZXMiLCJleGlzdGluZ0l0ZW0iLCJnZXQiLCJuZXdJdGVtIiwiaXNQcmVkZWZpbmVkIiwib3JkZXIiLCJKU09OIiwic3RyaW5naWZ5IiwicmVzIiwicmF0ZSIsImJhc2VHYXRoZXJSYXRlIiwiZmV0Y2hTYXZlc0FuZENvbmZpZ3MiLCJhbGxBZ2VDb25maWdzIiwibmFtZXMiLCJhZ2VNYXAiLCJpdGVtIiwiYWdlc05lZWRVcGRhdGUiLCJuYW1lIiwiYWxsQnVpbGRpbmdDb25maWdzIiwiYnVpbGRpbmdNYXAiLCJidWlsZGluZ3NOZWVkVXBkYXRlIiwiZGVmYXVsdEFnZSIsInVubG9ja2VkSW5BZ2UiLCJ0cmVlSWQiLCJnZW5lcmF0ZXNSZXNvdXJjZSIsImdlbmVyYXRpb25SYXRlIiwibWFpbnRlbmFuY2VDb3N0IiwiYWxsVW5pdENvbmZpZ3MiLCJ1bml0TWFwIiwidW5pdHNOZWVkVXBkYXRlIiwiaW5pdGlhbFVuaXRzV2l0aElkcyIsInRvTG93ZXJDYXNlIiwicmVwbGFjZSIsImFsbFJlc2VhcmNoQ29uZmlncyIsInJlc2VhcmNoTWFwIiwicmVzZWFyY2hOZWVkVXBkYXRlIiwiYWdlUmVxdWlyZW1lbnQiLCJyZXF1aXJlZEJ1aWxkaW5nSWQiLCJhbGxSZXNvdXJjZUNvbmZpZ3MiLCJlcnJvciIsImNvbnNvbGUiLCJhZ2VzIiwiYSIsInIiLCJyZXNlYXJjaCIsIk1FTlUiLCJQTEFZSU5HIiwiZnVsbFN0YXRlIiwiYWRkTm90aWZpY2F0aW9uIiwibWVzc2FnZSIsIk1hdGgiLCJyYW5kb20iLCJwcmV2IiwicmVtb3ZlTm90aWZpY2F0aW9uIiwibiIsImFkZFRvTG9nIiwiaWNvbiIsInNsaWNlIiwidXBkYXRlUmVzb3VyY2VzIiwiZGVsdGFzIiwibmV3UmVzb3VyY2VzIiwia2V5IiwicmVzb3VyY2VLZXkiLCJtYXgiLCJ3aW5kb3ciLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwibmV3RGVsdGFzIiwiaGFuZGxlVGFza0NvbXBsZXRpb24iLCJ0YXNrIiwicGF5bG9hZCIsInZpbGxhZ2VySWRzIiwidiIsImluY2x1ZGVzIiwiY3VycmVudFRhc2siLCJwb3NpdGlvbiIsIm5ld0J1aWxkaW5nIiwiY3VycmVudEhwIiwiaHAiLCJwIiwiY3VycmVudEJ1aWxkaW5ncyIsImljb25JZCIsIm9yaWdpbmFsQnVpbGRpbmdJZCIsIm9yaWdpbmFsQnVpbGRpbmdUeXBlIiwidGFyZ2V0QnVpbGRpbmdUeXBlIiwib3JpZ2luYWxCdWlsZGluZyIsInRhcmdldEJ1aWxkaW5nSW5mbyIsIm5ld0J1aWxkaW5ncyIsImNvdW50IiwibmV3VmlsbGFnZXJOYW1lcyIsIm5ld1ZpbGxhZ2VycyIsIm5ld1VuaXROYW1lcyIsIm5ld1VuaXRzIiwidGl0bGUiLCJhY3RpdmVBZ2VzIiwiY3VycmVudEluZGV4IiwiZmluZEluZGV4IiwiYWdlUmVzdWx0IiwiZGVzY3JpcHRpb24iLCJyZXNlYXJjaElkIiwicmVzZWFyY2hJbmZvIiwiU2V0IiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJnYW1lTG9vcCIsImRlbHRhVGltZSIsImNvbXBsZXRlZFRhc2tzIiwicmVzb3VyY2VEZWx0YXNUaGlzVGljayIsIk9iamVjdCIsInZhbHVlcyIsImZsYXQiLCJmb3JFYWNoIiwiaW5zdGFuY2UiLCJjb25maWciLCJrZXlzIiwiYkluc3QiLCJhbW91bnRQZXJTZWNvbmQiLCJjb3N0IiwiY29zdFBlclNlY29uZCIsIm5ld1Jlc291cmNlQm9vc3RzIiwiZW5kVGltZSIsInRhc2tzSW5Qcm9ncmVzcyIsInN0YXJ0VGltZSIsImR1cmF0aW9uIiwicHVzaCIsIm5vZGUiLCJyZXNvdXJjZU5vZGVJZCIsInZpbGxhZ2VyQ291bnQiLCJiYXNlUmF0ZVBlclNlY29uZCIsInJpY2huZXNzIiwiY2l2Qm9udXNNdWx0aXBsaWVyIiwiYm9udXMiLCJtYXRjaCIsInBhcnNlSW50IiwiaXRlbUJvb3N0TXVsdGlwbGllciIsInJlc291cmNlIiwibXVsdGlwbGllciIsImZpbmFsUmF0ZVBlclNlY29uZCIsIkJvb2xlYW4iLCJwcmV2Tm9kZXMiLCJhbW91bnRUb0RlY3JlbWVudCIsIm5ld0Ftb3VudCIsImFtb3VudCIsInRhc2tJZCIsInQiLCJmbG9vciIsImZpbmFsQWN0aXZlVGFza3MiLCJjdCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImhhbmRsZU5ld0V2ZW50IiwiZXZlbnQiLCJzY2hlZHVsZU5leHRFdmVudCIsImdlbmVyYXRlUmVzb3VyY2VOb2RlcyIsInN0YXJ0UG9zaXRpb24iLCJub2RlcyIsIm9jY3VwaWVkQ2VsbHMiLCJ4IiwieSIsIlNBRkVfUkFESVVTIiwiUklDSF9DSEFOQ0UiLCJwbGFjZU5vZGUiLCJwcmVmZXJDb250ZXN0ZWQiLCJwbGFjZWQiLCJhbmdsZSIsIlBJIiwiZGlzdGFuY2UiLCJtaW4iLCJyb3VuZCIsImNvcyIsInNpbiIsImhhcyIsImFkZCIsInNhZmVSZXNvdXJjZXMiLCJzcGF3bkluU2FmZVpvbmUiLCJjb250ZXN0ZWRSZXNvdXJjZXMiLCJoYW5kbGVTdGFydE5ld0dhbWUiLCJzYXZlTmFtZSIsImxvY2FsQWdlUHJvZ3Jlc3Npb25MaXN0IiwiY29uZmlncyIsImNpdiIsImluaXRpYWxSZXMiLCJpbml0aWFsQW1vdW50IiwiaW5pdGlhbFZpbGxhZ2VycyIsInRjUG9zaXRpb24iLCJ0Y0luZm8iLCJpbml0aWFsVEMiLCJpc1ZpbGxhZ2VyQnVzeSIsImdldFZpbGxhZ2VyVGFza0RldGFpbHMiLCJ2aWxsYWdlciIsImhhbmRsZVJlc3VtZUdhbWUiLCJzYXZlZFN0YXRlIiwibWlncmF0ZWRWaWxsYWdlcnMiLCJ1bmRlZmluZWQiLCJtaWdyYXRlZFRhc2tzIiwidmlkIiwiY29uc3RydWN0aW9uVGFza3MiLCJmaW5hbEJ1aWxkaW5ncyIsImJUeXBlIiwiaW5mbyIsImhhbmRsZUV2ZW50Q2hvaWNlIiwiY2hvaWNlIiwibWlzc2luZyIsImpvaW4iLCJrIiwiaXNTdWNjZXNzIiwic3VjY2Vzc0NoYW5jZSIsImVmZmVjdHMiLCJzdWNjZXNzRWZmZWN0cyIsImZhaWx1cmVFZmZlY3RzIiwibG9nTWVzc2FnZSIsInRleHQiLCJsb2ciLCJyZXdhcmRzIiwicmV3YXJkIiwiQXJyYXkiLCJpc0FycmF5IiwiYWJzIiwiaXRlbUluZm8iLCJpdGVtSWQiLCJuZXdJdGVtcyIsImZyb20iLCJfIiwiYnVpbGRpbmdJZCIsImhhbmRsZUluaXRpYXRlQnVpbGQiLCJyZWN0IiwiaGFuZGxlU3RhcnRQbGFjZW1lbnQiLCJleGlzdGluZ0NvdW50IiwiY29uc3RydWN0aW5nQ291bnQiLCJ0b3RhbENvdW50IiwibGltaXQiLCJidWlsZExpbWl0IiwibW9kZSIsImhhbmRsZUNvbmZpcm1QbGFjZW1lbnQiLCJidWlsZGVyIiwiYnVpbGRUaW1lIiwiYnVpbGRUaW1lUmVkdWN0aW9uIiwicGVyY2VudGFnZSIsInVzZXMiLCJ0YXNrUGF5bG9hZCIsImhhbmRsZUNhbmNlbFBsYXllckFjdGlvbiIsImhhbmRsZURlbW9saXNoQnVpbGRpbmciLCJidWlsZGluZ0luc3RhbmNlIiwiY2FwYWNpdHlMb3N0IiwicmVmdW5kIiwiaGFuZGxlVXBkYXRlQnVpbGRpbmciLCJoYW5kbGVVcGdyYWRlQnVpbGRpbmciLCJidWlsZGluZyIsInVwZ3JhZGVQYXRoIiwidGltZSIsImhhbmRsZVRyYWluVmlsbGFnZXJzIiwidG90YWxDb3N0IiwiaGFuZGxlVHJhaW5Vbml0cyIsInRvdGFsUG9wdWxhdGlvbkNvc3QiLCJ0cmFpbmluZ0J1aWxkaW5nIiwicmVxdWlyZWRCdWlsZGluZyIsInJlcXVpcmVkQnVpbGRpbmdJZHMiLCJtaXNzaW5nQnVpbGRpbmdzIiwicmVxSWQiLCJtaXNzaW5nTmFtZXMiLCJyZXF1aXJlZFJlc2VhcmNoSWRzIiwibWlzc2luZ1Jlc2VhcmNoIiwidHJhaW5UaW1lIiwicGVybWFuZW50VHJhaW5UaW1lUmVkdWN0aW9uIiwidHJhaW5UaW1lUmVkdWN0aW9uIiwiYXBwbGljYWJsZSIsImhhbmRsZURpc21pc3NTcGVjaWZpY1VuaXQiLCJ1bml0VHlwZU5hbWUiLCJoYW5kbGVVcGRhdGVVbml0IiwiaGFuZGxlQXNzaWduVmlsbGFnZXJzVG9Db25zdHJ1Y3Rpb24iLCJjb25zdHJ1Y3Rpb25JZCIsImlkbGVWaWxsYWdlcnMiLCJjYXBwZWRDb3VudCIsInZpbGxhZ2Vyc1RvQXNzaWduIiwid29ya0RvbmUiLCJ3b3JrUmVtYWluaW5nIiwibmV3V29ya2VyQ291bnQiLCJuZXdSZW1haW5pbmdEdXJhdGlvbiIsImhhbmRsZUFzc2lnblZpbGxhZ2VycyIsInRhcmdldE5vZGUiLCJleGlzdGluZ1Rhc2siLCJoYW5kbGVSZWNhbGxWaWxsYWdlcnMiLCJ2aWxsYWdlcnNUb1JlY2FsbCIsInJlbWFpbmluZ1ZpbGxhZ2VycyIsImhhbmRsZUFkdmFuY2VBZ2UiLCJoYW5kbGVTdGFydFJlc2VhcmNoIiwicmVzZWFyY2hUaW1lIiwiaGFuZGxlRXhpdEdhbWUiLCJoYW5kbGVEZWxldGVHYW1lIiwiaGFuZGxlVG9nZ2xlVW5saW1pdGVkUmVzb3VyY2VzIiwibmV3TW9kZSIsIm1heGVkUmVzb3VyY2VzIiwiZGVwbGV0ZWROb2RlSWRzIiwic2l6ZSIsImhhbmRsZVVzZUl0ZW0iLCJiYXNlSXRlbUlkIiwic3BsaXQiLCJzb3J0IiwidGFza3MiLCJidWlsZGluZ0NvdW50cyIsImlkbGVWaWxsYWdlckNvdW50IiwiYXNzaWdubWVudFRhcmdldCIsImN1cnJlbnRBZ2VJbmRleCIsImF2YWlsYWJsZUJ1aWxkaW5ncyIsInVubG9ja0FnZUluZGV4IiwiaXNVcGdyYWRlT25seSIsImFjdGl2ZVVuaXRzIiwiY2xvc2VBbGxQYW5lbHMiLCJoYW5kbGVPcGVuQnVpbGRpbmdQYW5lbCIsImhhbmRsZUNsaWNrT3V0c2lkZSIsInRhcmdldCIsImNsb3Nlc3QiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVuZGVyQ29udGVudCIsIm9uTmV3R2FtZSIsIm9uUmVzdW1lR2FtZSIsInNhdmVkR2FtZXMiLCJvbkRlbGV0ZUdhbWUiLCJvbk9wZW5Vbml0UGFuZWwiLCJvbk9wZW5CdWlsZGluZ1BhbmVsIiwib25PcGVuQWxsQnVpbGRpbmdzUGFuZWwiLCJvbkNvbmZpcm1QbGFjZW1lbnQiLCJvbkNhbmNlbFBsYXllckFjdGlvbiIsIm9uQnVpbGRpbmdDbGljayIsIm1hcERpbWVuc2lvbnMiLCJvbkV4aXRHYW1lIiwib25PcGVuQ2l2UGFuZWwiLCJvbk9wZW5Bc3NpZ25tZW50UGFuZWwiLCJub2RlSWQiLCJvbk9wZW5Db25zdHJ1Y3Rpb25QYW5lbCIsImdhdGhlckluZm8iLCJvbkV2ZW50Q2hvaWNlIiwib25PcGVuSW52ZW50b3J5UGFuZWwiLCJvbk9wZW5SZXNlYXJjaFBhbmVsIiwicmVzb3VyY2VMaXN0Iiwib25DbG9zZSIsIm9uU3RhcnRQbGFjZW1lbnQiLCJvblVwZGF0ZVVuaXQiLCJvbkRpc21pc3NVbml0Iiwib25Jbml0aWF0ZUJ1aWxkIiwicGFuZWxTdGF0ZSIsIm9uVXBkYXRlQnVpbGRpbmciLCJvbkRlbW9saXNoQnVpbGRpbmciLCJvblRyYWluVW5pdHMiLCJvblRyYWluVmlsbGFnZXJzIiwib25VcGdyYWRlQnVpbGRpbmciLCJvbkFkdmFuY2VBZ2UiLCJvblN0YXJ0UmVzZWFyY2giLCJvbkFzc2lnblZpbGxhZ2VycyIsIm9uUmVjYWxsVmlsbGFnZXJzIiwib25Vc2VJdGVtIiwiZGl2IiwiY2xhc3NOYW1lIiwiYnV0dG9uIiwib25DbGljayIsImFyaWEtbGFiZWwiLCJvblJlbW92ZU5vdGlmaWNhdGlvbiIsIm1haW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/page.tsx\n"));

/***/ })

});