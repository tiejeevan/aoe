"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/AllBuildingsPanel.tsx":
/*!******************************************!*\
  !*** ./components/AllBuildingsPanel.tsx ***!
  \******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _GameUI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GameUI */ \"(app-pages-browser)/./components/GameUI.tsx\");\n\nvar _s = $RefreshSig$();\n\n\n// StatBox component copied from GameUI for reuse in this panel.\nconst StatBox = (param)=>{\n    let { icon, label, value, colorClass, onActionClick } = param;\n    const Component = onActionClick ? \"button\" : \"div\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n        onClick: onActionClick,\n        className: \"relative flex items-center space-x-3 w-full p-2 rounded-lg border border-stone-light/50 transition-colors duration-200\\n            bg-stone-dark/50 \".concat(colorClass, \"\\n            \").concat(onActionClick ? \"hover:bg-stone-light/10 cursor-pointer\" : \"\", \"\\n            overflow-hidden text-left\"),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-8 h-8\",\n                children: icon\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                lineNumber: 24,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"font-bold text-lg leading-tight\",\n                        children: value\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                        lineNumber: 26,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-xs text-parchment-dark leading-tight\",\n                        children: label\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                        lineNumber: 27,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                lineNumber: 25,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n        lineNumber: 17,\n        columnNumber: 9\n    }, undefined);\n};\n_c = StatBox;\nconst AllBuildingsPanel = (param)=>{\n    let { isOpen, onClose, buildingList, buildingCounts, constructingBuildings, onOpenBuildingPanel, anchorRect } = param;\n    _s();\n    const [isClosing, setIsClosing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentData, setCurrentData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        anchorRect\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen || isClosing) {\n            setCurrentData({\n                anchorRect\n            });\n        }\n    }, [\n        anchorRect,\n        isOpen,\n        isClosing\n    ]);\n    const handleClose = ()=>{\n        setIsClosing(true);\n        setTimeout(()=>{\n            onClose();\n            setIsClosing(false);\n        }, 300);\n    };\n    if (!isOpen && !isClosing) return null;\n    const { anchorRect: currentAnchor } = currentData;\n    if (!currentAnchor) return null;\n    const panelStyle = {\n        bottom: \"\".concat(window.innerHeight - currentAnchor.top + 8, \"px\"),\n        left: \"\".concat(currentAnchor.left, \"px\"),\n        transformOrigin: \"bottom left\",\n        maxHeight: \"\".concat(currentAnchor.top - 24, \"px\")\n    };\n    const totalBuildings = Object.values(buildingCounts).reduce((a, b)=>a + b, 0);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: panelStyle,\n        className: \"fixed z-40 w-72 transform transition-all duration-300 ease-in-out \".concat(isOpen && !isClosing ? \"opacity-100 scale-100\" : \"opacity-0 scale-95\"),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"sci-fi-panel-popup sci-fi-grid p-4 h-full flex flex-col\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center mb-4 flex-shrink-0\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-serif\",\n                            children: [\n                                \"Structures (\",\n                                totalBuildings,\n                                \")\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                            lineNumber: 83,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleClose,\n                            className: \"text-3xl font-bold sci-fi-close-button\",\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                            lineNumber: 84,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                    lineNumber: 82,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-2 flex-grow overflow-y-auto pr-2\",\n                    children: totalBuildings > 0 || constructingBuildings.length > 0 ? Object.entries(buildingCounts).sort((param, param1)=>{\n                        let [typeA] = param, [typeB] = param1;\n                        const order = [\n                            \"townCenter\",\n                            \"houses\"\n                        ];\n                        const indexA = order.indexOf(typeA);\n                        const indexB = order.indexOf(typeB);\n                        if (indexA !== -1 && indexB !== -1) return indexA - indexB;\n                        if (indexA !== -1) return -1;\n                        if (indexB !== -1) return 1;\n                        return typeA.localeCompare(typeB);\n                    }).map((param)=>{\n                        let [type, count] = param;\n                        if (count === 0 && constructingBuildings.every((b)=>b.type !== type)) return null;\n                        const info = buildingList.find((b)=>b.id === type);\n                        if (!info) return null;\n                        const Icon = _GameUI__WEBPACK_IMPORTED_MODULE_2__.iconMap[type];\n                        if (!Icon) return null;\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StatBox, {\n                            icon: Icon,\n                            label: info.name,\n                            value: count > 0 ? count : \"0\",\n                            colorClass: \"text-parchment-dark\",\n                            onActionClick: count > 0 ? (e)=>{\n                                onOpenBuildingPanel(type, \"\", e.currentTarget.getBoundingClientRect());\n                            } : undefined\n                        }, type, false, {\n                            fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                            lineNumber: 109,\n                            columnNumber: 37\n                        }, undefined);\n                    }) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-center text-parchment-dark py-8\",\n                        children: \"You have no buildings.\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                        lineNumber: 122,\n                        columnNumber: 25\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                    lineNumber: 87,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n            lineNumber: 81,\n            columnNumber: 14\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n        lineNumber: 77,\n        columnNumber: 9\n    }, undefined);\n};\n_s(AllBuildingsPanel, \"blhWDG9yiUBLxE17R6xsfLJ8ZIs=\");\n_c1 = AllBuildingsPanel;\n/* harmony default export */ __webpack_exports__[\"default\"] = (AllBuildingsPanel);\nvar _c, _c1;\n$RefreshReg$(_c, \"StatBox\");\n$RefreshReg$(_c1, \"AllBuildingsPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvQWxsQnVpbGRpbmdzUGFuZWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDbUQ7QUFFaEI7QUFFbkMsZ0VBQWdFO0FBQ2hFLE1BQU1JLFVBTUQ7UUFBQyxFQUFFQyxJQUFJLEVBQUVDLEtBQUssRUFBRUMsS0FBSyxFQUFFQyxVQUFVLEVBQUVDLGFBQWEsRUFBRTtJQUNuRCxNQUFNQyxZQUFZRCxnQkFBZ0IsV0FBVztJQUU3QyxxQkFDSSw4REFBQ0M7UUFDR0MsU0FBU0Y7UUFDVEcsV0FBVyx3SkFFVEgsT0FEaUJELFlBQVcsa0JBQ2tDLE9BQTlEQyxnQkFBZ0IsMkNBQTJDLElBQUc7OzBCQUdoRSw4REFBQ0k7Z0JBQUlELFdBQVU7MEJBQVdQOzs7Ozs7MEJBQzFCLDhEQUFDUTtnQkFBSUQsV0FBVTs7a0NBQ1gsOERBQUNFO3dCQUFLRixXQUFVO2tDQUFtQ0w7Ozs7OztrQ0FDbkQsOERBQUNPO3dCQUFLRixXQUFVO2tDQUE2Q047Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUk3RTtLQXhCTUY7QUFxQ04sTUFBTVcsb0JBQXNEO1FBQUMsRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUVDLFlBQVksRUFBRUMsY0FBYyxFQUFFQyxxQkFBcUIsRUFBRUMsbUJBQW1CLEVBQUVDLFVBQVUsRUFBRTs7SUFDbEssTUFBTSxDQUFDQyxXQUFXQyxhQUFhLEdBQUd2QiwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUN3QixhQUFhQyxlQUFlLEdBQUd6QiwrQ0FBUUEsQ0FBQztRQUFFcUI7SUFBVztJQUU1RHBCLGdEQUFTQSxDQUFDO1FBQ04sSUFBSWMsVUFBVU8sV0FBVztZQUNyQkcsZUFBZTtnQkFBRUo7WUFBVztRQUNoQztJQUNKLEdBQUc7UUFBQ0E7UUFBWU47UUFBUU87S0FBVTtJQUVsQyxNQUFNSSxjQUFjO1FBQ2hCSCxhQUFhO1FBQ2JJLFdBQVc7WUFDUFg7WUFDQU8sYUFBYTtRQUNqQixHQUFHO0lBQ1A7SUFFQSxJQUFJLENBQUNSLFVBQVUsQ0FBQ08sV0FBVyxPQUFPO0lBRWxDLE1BQU0sRUFBRUQsWUFBWU8sYUFBYSxFQUFFLEdBQUdKO0lBQ3RDLElBQUksQ0FBQ0ksZUFBZSxPQUFPO0lBRTNCLE1BQU1DLGFBQWtDO1FBQ3BDQyxRQUFRLEdBQThDLE9BQTNDQyxPQUFPQyxXQUFXLEdBQUdKLGNBQWNLLEdBQUcsR0FBRyxHQUFFO1FBQ3REQyxNQUFNLEdBQXNCLE9BQW5CTixjQUFjTSxJQUFJLEVBQUM7UUFDNUJDLGlCQUFpQjtRQUNqQkMsV0FBVyxHQUEwQixPQUF2QlIsY0FBY0ssR0FBRyxHQUFHLElBQUc7SUFDekM7SUFFQSxNQUFNSSxpQkFBaUJDLE9BQU9DLE1BQU0sQ0FBQ3JCLGdCQUFnQnNCLE1BQU0sQ0FBQyxDQUFDQyxHQUFHQyxJQUFNRCxJQUFJQyxHQUFHO0lBRTdFLHFCQUNJLDhEQUFDOUI7UUFDRytCLE9BQU9kO1FBQ1BsQixXQUFXLHFFQUEySSxPQUF0RUksVUFBVSxDQUFDTyxZQUFZLDBCQUEwQjtrQkFFaEksNEVBQUNWO1lBQUlELFdBQVU7OzhCQUNaLDhEQUFDQztvQkFBSUQsV0FBVTs7c0NBQ1gsOERBQUNpQzs0QkFBR2pDLFdBQVU7O2dDQUFzQjtnQ0FBYTBCO2dDQUFlOzs7Ozs7O3NDQUNoRSw4REFBQ1E7NEJBQU9uQyxTQUFTZ0I7NEJBQWFmLFdBQVU7c0NBQXlDOzs7Ozs7Ozs7Ozs7OEJBR3JGLDhEQUFDQztvQkFBSUQsV0FBVTs4QkFDVixpQkFBa0IsS0FBS1Esc0JBQXNCMkIsTUFBTSxHQUFHLElBQ25EUixPQUFPUyxPQUFPLENBQUM3QixnQkFDVjhCLElBQUksQ0FBQzs0QkFBQyxDQUFDQyxNQUFNLFVBQUUsQ0FBQ0MsTUFBTTt3QkFDbkIsTUFBTUMsUUFBUTs0QkFBQzs0QkFBYzt5QkFBUzt3QkFDdEMsTUFBTUMsU0FBU0QsTUFBTUUsT0FBTyxDQUFDSjt3QkFDN0IsTUFBTUssU0FBU0gsTUFBTUUsT0FBTyxDQUFDSDt3QkFDN0IsSUFBR0UsV0FBVyxDQUFDLEtBQUtFLFdBQVcsQ0FBQyxHQUFHLE9BQU9GLFNBQVNFO3dCQUNuRCxJQUFHRixXQUFXLENBQUMsR0FBRyxPQUFPLENBQUM7d0JBQzFCLElBQUdFLFdBQVcsQ0FBQyxHQUFHLE9BQU87d0JBQ3pCLE9BQU9MLE1BQU1NLGFBQWEsQ0FBQ0w7b0JBQy9CLEdBQ0NNLEdBQUcsQ0FBQzs0QkFBQyxDQUFDQyxNQUFNQyxNQUFNO3dCQUNmLElBQUdBLFVBQVUsS0FBS3ZDLHNCQUFzQndDLEtBQUssQ0FBQ2pCLENBQUFBLElBQUtBLEVBQUVlLElBQUksS0FBS0EsT0FBTyxPQUFPO3dCQUU1RSxNQUFNRyxPQUFPM0MsYUFBYTRDLElBQUksQ0FBQ25CLENBQUFBLElBQUtBLEVBQUVvQixFQUFFLEtBQUtMO3dCQUM3QyxJQUFJLENBQUNHLE1BQU0sT0FBTzt3QkFFbEIsTUFBTUcsT0FBTzdELDRDQUFPLENBQUN1RCxLQUFxQjt3QkFDMUMsSUFBSSxDQUFDTSxNQUFNLE9BQU87d0JBRWxCLHFCQUNJLDhEQUFDNUQ7NEJBRUdDLE1BQU0yRDs0QkFDTjFELE9BQU91RCxLQUFLSSxJQUFJOzRCQUNoQjFELE9BQU9vRCxRQUFRLElBQUlBLFFBQVE7NEJBQzNCbkQsWUFBVzs0QkFDWEMsZUFBZWtELFFBQVEsSUFBSSxDQUFDTztnQ0FDeEI3QyxvQkFBb0JxQyxNQUFzQixJQUFJUSxFQUFFQyxhQUFhLENBQUNDLHFCQUFxQjs0QkFDdkYsSUFBSUM7MkJBUENYOzs7OztvQkFVakIsbUJBRUosOERBQUNZO3dCQUFFMUQsV0FBVTtrQ0FBdUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNNUU7R0FwRk1HO01BQUFBO0FBcUZOLCtEQUFlQSxpQkFBaUJBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9BbGxCdWlsZGluZ3NQYW5lbC50c3g/ZTFjMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHR5cGUgeyBCdWlsZGluZ1R5cGUsIEJ1aWxkaW5nSW5mbywgQ29uc3RydWN0aW5nQnVpbGRpbmcgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpY29uTWFwIH0gZnJvbSAnLi9HYW1lVUknO1xuXG4vLyBTdGF0Qm94IGNvbXBvbmVudCBjb3BpZWQgZnJvbSBHYW1lVUkgZm9yIHJldXNlIGluIHRoaXMgcGFuZWwuXG5jb25zdCBTdGF0Qm94OiBSZWFjdC5GQzx7IFxuICAgIGljb246IFJlYWN0LlJlYWN0Tm9kZTsgXG4gICAgbGFiZWw6IHN0cmluZzsgXG4gICAgdmFsdWU6IHN0cmluZyB8IG51bWJlcjsgXG4gICAgY29sb3JDbGFzczogc3RyaW5nO1xuICAgIG9uQWN0aW9uQ2xpY2s/OiAoZXZlbnQ6IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTEVsZW1lbnQ+KSA9PiB2b2lkOyBcbn0+ID0gKHsgaWNvbiwgbGFiZWwsIHZhbHVlLCBjb2xvckNsYXNzLCBvbkFjdGlvbkNsaWNrIH0pID0+IHtcbiAgICBjb25zdCBDb21wb25lbnQgPSBvbkFjdGlvbkNsaWNrID8gJ2J1dHRvbicgOiAnZGl2JztcbiAgICBcbiAgICByZXR1cm4gKFxuICAgICAgICA8Q29tcG9uZW50XG4gICAgICAgICAgICBvbkNsaWNrPXtvbkFjdGlvbkNsaWNrfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgcmVsYXRpdmUgZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0zIHctZnVsbCBwLTIgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXN0b25lLWxpZ2h0LzUwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFxuICAgICAgICAgICAgYmctc3RvbmUtZGFyay81MCAke2NvbG9yQ2xhc3N9XG4gICAgICAgICAgICAke29uQWN0aW9uQ2xpY2sgPyAnaG92ZXI6Ymctc3RvbmUtbGlnaHQvMTAgY3Vyc29yLXBvaW50ZXInIDogJyd9XG4gICAgICAgICAgICBvdmVyZmxvdy1oaWRkZW4gdGV4dC1sZWZ0YH1cbiAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC04XCI+e2ljb259PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1sZyBsZWFkaW5nLXRpZ2h0XCI+e3ZhbHVlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtcGFyY2htZW50LWRhcmsgbGVhZGluZy10aWdodFwiPntsYWJlbH08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9Db21wb25lbnQ+XG4gICAgKTtcbn07XG5cbmludGVyZmFjZSBBbGxCdWlsZGluZ3NQYW5lbFByb3BzIHtcbiAgICBpc09wZW46IGJvb2xlYW47XG4gICAgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgICBidWlsZGluZ0xpc3Q6IEJ1aWxkaW5nSW5mb1tdO1xuICAgIGJ1aWxkaW5nQ291bnRzOiBSZWNvcmQ8QnVpbGRpbmdUeXBlLCBudW1iZXI+O1xuICAgIGNvbnN0cnVjdGluZ0J1aWxkaW5nczogQ29uc3RydWN0aW5nQnVpbGRpbmdbXTtcbiAgICBvbk9wZW5CdWlsZGluZ1BhbmVsOiAodHlwZTogQnVpbGRpbmdUeXBlLCBpbnN0YW5jZUlkOiBzdHJpbmcsIHJlY3Q6IERPTVJlY3QpID0+IHZvaWQ7XG4gICAgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7XG59XG5cblxuY29uc3QgQWxsQnVpbGRpbmdzUGFuZWw6IFJlYWN0LkZDPEFsbEJ1aWxkaW5nc1BhbmVsUHJvcHM+ID0gKHsgaXNPcGVuLCBvbkNsb3NlLCBidWlsZGluZ0xpc3QsIGJ1aWxkaW5nQ291bnRzLCBjb25zdHJ1Y3RpbmdCdWlsZGluZ3MsIG9uT3BlbkJ1aWxkaW5nUGFuZWwsIGFuY2hvclJlY3QgfSkgPT4ge1xuICAgIGNvbnN0IFtpc0Nsb3NpbmcsIHNldElzQ2xvc2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2N1cnJlbnREYXRhLCBzZXRDdXJyZW50RGF0YV0gPSB1c2VTdGF0ZSh7IGFuY2hvclJlY3QgfSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNPcGVuIHx8IGlzQ2xvc2luZykge1xuICAgICAgICAgICAgc2V0Q3VycmVudERhdGEoeyBhbmNob3JSZWN0IH0pO1xuICAgICAgICB9XG4gICAgfSwgW2FuY2hvclJlY3QsIGlzT3BlbiwgaXNDbG9zaW5nXSk7XG5cbiAgICBjb25zdCBoYW5kbGVDbG9zZSA9ICgpID0+IHtcbiAgICAgICAgc2V0SXNDbG9zaW5nKHRydWUpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgICAgIHNldElzQ2xvc2luZyhmYWxzZSk7IFxuICAgICAgICB9LCAzMDApOyBcbiAgICB9O1xuICAgIFxuICAgIGlmICghaXNPcGVuICYmICFpc0Nsb3NpbmcpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgeyBhbmNob3JSZWN0OiBjdXJyZW50QW5jaG9yIH0gPSBjdXJyZW50RGF0YTtcbiAgICBpZiAoIWN1cnJlbnRBbmNob3IpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgcGFuZWxTdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHtcbiAgICAgICAgYm90dG9tOiBgJHt3aW5kb3cuaW5uZXJIZWlnaHQgLSBjdXJyZW50QW5jaG9yLnRvcCArIDh9cHhgLFxuICAgICAgICBsZWZ0OiBgJHtjdXJyZW50QW5jaG9yLmxlZnR9cHhgLFxuICAgICAgICB0cmFuc2Zvcm1PcmlnaW46ICdib3R0b20gbGVmdCcsXG4gICAgICAgIG1heEhlaWdodDogYCR7Y3VycmVudEFuY2hvci50b3AgLSAyNH1weGAsXG4gICAgfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzO1xuICAgIFxuICAgIGNvbnN0IHRvdGFsQnVpbGRpbmdzID0gT2JqZWN0LnZhbHVlcyhidWlsZGluZ0NvdW50cykucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17cGFuZWxTdHlsZX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YGZpeGVkIHotNDAgdy03MiB0cmFuc2Zvcm0gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGVhc2UtaW4tb3V0ICR7aXNPcGVuICYmICFpc0Nsb3NpbmcgPyAnb3BhY2l0eS0xMDAgc2NhbGUtMTAwJyA6ICdvcGFjaXR5LTAgc2NhbGUtOTUnfWB9XG4gICAgICAgID5cbiAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNjaS1maS1wYW5lbC1wb3B1cCBzY2ktZmktZ3JpZCBwLTQgaC1mdWxsIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi00IGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtc2VyaWZcIj5TdHJ1Y3R1cmVzICh7dG90YWxCdWlsZGluZ3N9KTwvaDI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlQ2xvc2V9IGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCBzY2ktZmktY2xvc2UtYnV0dG9uXCI+JnRpbWVzOzwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTIgZmxleC1ncm93IG92ZXJmbG93LXktYXV0byBwci0yXCI+XG4gICAgICAgICAgICAgICAgICAgIHsodG90YWxCdWlsZGluZ3MgPiAwIHx8IGNvbnN0cnVjdGluZ0J1aWxkaW5ncy5sZW5ndGggPiAwKSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGJ1aWxkaW5nQ291bnRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zb3J0KChbdHlwZUFdLCBbdHlwZUJdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yZGVyID0gWyd0b3duQ2VudGVyJywgJ2hvdXNlcyddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleEEgPSBvcmRlci5pbmRleE9mKHR5cGVBKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXhCID0gb3JkZXIuaW5kZXhPZih0eXBlQik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGluZGV4QSAhPT0gLTEgJiYgaW5kZXhCICE9PSAtMSkgcmV0dXJuIGluZGV4QSAtIGluZGV4QjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW5kZXhBICE9PSAtMSkgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpbmRleEIgIT09IC0xKSByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVBLmxvY2FsZUNvbXBhcmUodHlwZUIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoW3R5cGUsIGNvdW50XSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjb3VudCA9PT0gMCAmJiBjb25zdHJ1Y3RpbmdCdWlsZGluZ3MuZXZlcnkoYiA9PiBiLnR5cGUgIT09IHR5cGUpKSByZXR1cm4gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmZvID0gYnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSB0eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbmZvKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IEljb24gPSBpY29uTWFwW3R5cGUgYXMgQnVpbGRpbmdUeXBlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFJY29uKSByZXR1cm4gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN0YXRCb3ggXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXt0eXBlfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPXtJY29ufSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17aW5mby5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjb3VudCA+IDAgPyBjb3VudCA6ICcwJ30gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JDbGFzcz1cInRleHQtcGFyY2htZW50LWRhcmtcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkFjdGlvbkNsaWNrPXtjb3VudCA+IDAgPyAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5CdWlsZGluZ1BhbmVsKHR5cGUgYXMgQnVpbGRpbmdUeXBlLCAnJywgZS5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC1wYXJjaG1lbnQtZGFyayBweS04XCI+WW91IGhhdmUgbm8gYnVpbGRpbmdzLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcbmV4cG9ydCBkZWZhdWx0IEFsbEJ1aWxkaW5nc1BhbmVsO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJpY29uTWFwIiwiU3RhdEJveCIsImljb24iLCJsYWJlbCIsInZhbHVlIiwiY29sb3JDbGFzcyIsIm9uQWN0aW9uQ2xpY2siLCJDb21wb25lbnQiLCJvbkNsaWNrIiwiY2xhc3NOYW1lIiwiZGl2Iiwic3BhbiIsIkFsbEJ1aWxkaW5nc1BhbmVsIiwiaXNPcGVuIiwib25DbG9zZSIsImJ1aWxkaW5nTGlzdCIsImJ1aWxkaW5nQ291bnRzIiwiY29uc3RydWN0aW5nQnVpbGRpbmdzIiwib25PcGVuQnVpbGRpbmdQYW5lbCIsImFuY2hvclJlY3QiLCJpc0Nsb3NpbmciLCJzZXRJc0Nsb3NpbmciLCJjdXJyZW50RGF0YSIsInNldEN1cnJlbnREYXRhIiwiaGFuZGxlQ2xvc2UiLCJzZXRUaW1lb3V0IiwiY3VycmVudEFuY2hvciIsInBhbmVsU3R5bGUiLCJib3R0b20iLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsInRvcCIsImxlZnQiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJtYXhIZWlnaHQiLCJ0b3RhbEJ1aWxkaW5ncyIsIk9iamVjdCIsInZhbHVlcyIsInJlZHVjZSIsImEiLCJiIiwic3R5bGUiLCJoMiIsImJ1dHRvbiIsImxlbmd0aCIsImVudHJpZXMiLCJzb3J0IiwidHlwZUEiLCJ0eXBlQiIsIm9yZGVyIiwiaW5kZXhBIiwiaW5kZXhPZiIsImluZGV4QiIsImxvY2FsZUNvbXBhcmUiLCJtYXAiLCJ0eXBlIiwiY291bnQiLCJldmVyeSIsImluZm8iLCJmaW5kIiwiaWQiLCJJY29uIiwibmFtZSIsImUiLCJjdXJyZW50VGFyZ2V0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidW5kZWZpbmVkIiwicCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/AllBuildingsPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/BuildPanel.tsx":
/*!***********************************!*\
  !*** ./components/BuildPanel.tsx ***!
  \***********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./icons/ResourceIcons */ \"(app-pages-browser)/./components/icons/ResourceIcons.tsx\");\n\nvar _s = $RefreshSig$();\n\n\nconst buildingIcons = {\n    houses: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.HouseIcon,\n    barracks: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BarracksIcon,\n    archeryRange: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.ArcheryRangeIcon,\n    stable: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.StableIcon,\n    siegeWorkshop: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.SiegeWorkshopIcon,\n    blacksmith: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BlacksmithIcon,\n    watchTower: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.WatchTowerIcon,\n    townCenter: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.TownCenterIcon\n};\nconst CostDisplay = (param)=>{\n    let { cost, resources } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-wrap gap-x-3 gap-y-1 text-xs\",\n        children: Object.entries(cost).map((param)=>{\n            let [resource, amount] = param;\n            if (!amount) return null;\n            const hasEnough = resources[resource] >= amount;\n            const Icon = {\n                food: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.FoodIcon,\n                wood: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.WoodIcon,\n                gold: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GoldIcon,\n                stone: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.StoneIcon\n            }[resource];\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"flex items-center \".concat(hasEnough ? \"\" : \"text-brand-red\"),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-4 h-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Icon, {}, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                            lineNumber: 35,\n                            columnNumber: 50\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                        lineNumber: 35,\n                        columnNumber: 25\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"ml-1\",\n                        children: amount\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                        lineNumber: 36,\n                        columnNumber: 25\n                    }, undefined)\n                ]\n            }, resource, true, {\n                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                lineNumber: 34,\n                columnNumber: 21\n            }, undefined);\n        })\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n        lineNumber: 28,\n        columnNumber: 9\n    }, undefined);\n};\n_c = CostDisplay;\nconst BuildPanel = (param)=>{\n    let { isOpen, onClose, onStartPlacement, resources, buildingCounts, buildingList, anchorRect } = param;\n    _s();\n    const constructibleBuildings = buildingList.filter((b)=>b.id !== \"townCenter\");\n    var _constructibleBuildings_;\n    const [selectedBuilding, setSelectedBuilding] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((_constructibleBuildings_ = constructibleBuildings[0]) !== null && _constructibleBuildings_ !== void 0 ? _constructibleBuildings_ : null);\n    const [isClosing, setIsClosing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentData, setCurrentData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        anchorRect,\n        buildingList\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen && !selectedBuilding) {\n            var _constructibleBuildings_;\n            setSelectedBuilding((_constructibleBuildings_ = constructibleBuildings[0]) !== null && _constructibleBuildings_ !== void 0 ? _constructibleBuildings_ : null);\n        }\n    }, [\n        isOpen,\n        selectedBuilding,\n        constructibleBuildings\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen || isClosing) {\n            setCurrentData({\n                anchorRect,\n                buildingList\n            });\n        }\n    }, [\n        anchorRect,\n        buildingList,\n        isOpen,\n        isClosing\n    ]);\n    const handleClose = ()=>{\n        setIsClosing(true);\n        setTimeout(()=>{\n            onClose();\n            setIsClosing(false);\n        }, 300);\n    };\n    if (!isOpen && !isClosing) return null;\n    const { anchorRect: currentAnchor } = currentData;\n    if (!currentAnchor) return null;\n    const isAffordable = selectedBuilding ? Object.entries(selectedBuilding.cost).every((param)=>{\n        let [res, cost] = param;\n        return resources[res] >= (cost || 0);\n    }) : false;\n    const isBuilt = selectedBuilding ? selectedBuilding.isUnique && buildingCounts[selectedBuilding.id] > 0 : false;\n    const canBuild = isAffordable && !isBuilt;\n    const panelStyle = {\n        top: \"\".concat(currentAnchor.bottom + 8, \"px\"),\n        left: \"\".concat(currentAnchor.left, \"px\"),\n        transformOrigin: \"top left\"\n    };\n    const constructButtonTooltip = isBuilt ? \"Already Built\" : !isAffordable ? \"Insufficient Resources\" : \"Construct \".concat(selectedBuilding === null || selectedBuilding === void 0 ? void 0 : selectedBuilding.name);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: panelStyle,\n        className: \"fixed z-40 w-[500px] transform transition-all duration-300 ease-in-out \".concat(isOpen && !isClosing ? \"opacity-100 scale-100\" : \"opacity-0 scale-95\"),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"sci-fi-panel-popup sci-fi-grid p-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-serif\",\n                            children: \"Construct Building\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                            lineNumber: 95,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleClose,\n                            className: \"text-3xl font-bold sci-fi-close-button\",\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                            lineNumber: 96,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                    lineNumber: 94,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex gap-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-2/5 pr-4 border-r border-stone-light/20\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"grid grid-cols-3 gap-2\",\n                                children: constructibleBuildings.map((building)=>{\n                                    const Icon = buildingIcons[building.id];\n                                    const isSelected = (selectedBuilding === null || selectedBuilding === void 0 ? void 0 : selectedBuilding.id) === building.id;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative group\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setSelectedBuilding(building),\n                                                className: \"w-full aspect-square p-1.5 bg-stone-dark/50 rounded-md border-2 transition-all duration-150\\n                                                \".concat(isSelected ? \"border-brand-gold bg-stone-light/20\" : \"border-stone-light/50 hover:border-brand-gold/70\", \"\\n                                            \"),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-full h-full \".concat(isSelected ? \"text-brand-gold\" : \"text-parchment-dark group-hover:text-c9d1d9\"),\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Icon, {}, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                        lineNumber: 115,\n                                                        columnNumber: 49\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                    lineNumber: 114,\n                                                    columnNumber: 45\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 108,\n                                                columnNumber: 42\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute bottom-full mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                children: building.name\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 118,\n                                                columnNumber: 41\n                                            }, undefined)\n                                        ]\n                                    }, building.id, true, {\n                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                        lineNumber: 107,\n                                        columnNumber: 37\n                                    }, undefined);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                lineNumber: 102,\n                                columnNumber: 26\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                            lineNumber: 101,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-3/5 flex flex-col\",\n                            children: selectedBuilding ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-grow\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                className: \"text-xl font-serif text-brand-gold\",\n                                                children: selectedBuilding.name\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 132,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-parchment-dark mt-1 mb-3 h-10\",\n                                                children: selectedBuilding.description\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 133,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                                                className: \"border-stone-light/20 my-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 135,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                        className: \"font-serif text-base\",\n                                                        children: \"Cost:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                        lineNumber: 138,\n                                                        columnNumber: 41\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CostDisplay, {\n                                                        cost: selectedBuilding.cost,\n                                                        resources: resources\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                        lineNumber: 139,\n                                                        columnNumber: 41\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 137,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-2 mt-2 text-xs\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-4 h-4 text-parchment-dark\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.ClockIcon, {}, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                            lineNumber: 142,\n                                                            columnNumber: 86\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                        lineNumber: 142,\n                                                        columnNumber: 41\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: [\n                                                            \"Build Time: \",\n                                                            selectedBuilding.buildTime,\n                                                            \"s\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                        lineNumber: 143,\n                                                        columnNumber: 41\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 141,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            selectedBuilding.isUnique && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-brand-blue mt-2\",\n                                                children: [\n                                                    \"Unique Building (\",\n                                                    buildingCounts[selectedBuilding.id],\n                                                    \" / 1 built)\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 146,\n                                                columnNumber: 41\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                        lineNumber: 131,\n                                        columnNumber: 33\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative group self-end\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    if (canBuild) onStartPlacement(selectedBuilding.id);\n                                                },\n                                                disabled: !canBuild,\n                                                className: \"sci-fi-action-button\",\n                                                \"aria-label\": constructButtonTooltip,\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-8 h-8\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BuildIcon, {}, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                        lineNumber: 159,\n                                                        columnNumber: 66\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                    lineNumber: 159,\n                                                    columnNumber: 41\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 153,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                children: constructButtonTooltip\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 161,\n                                                columnNumber: 37\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                        lineNumber: 152,\n                                        columnNumber: 33\n                                    }, undefined)\n                                ]\n                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-center h-full text-parchment-dark\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: \"Select a building.\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                    lineNumber: 168,\n                                    columnNumber: 33\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                lineNumber: 167,\n                                columnNumber: 29\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                            lineNumber: 128,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                    lineNumber: 99,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n            lineNumber: 93,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n        lineNumber: 89,\n        columnNumber: 9\n    }, undefined);\n};\n_s(BuildPanel, \"x0ZC5Bbt0+e3BdFqn6SCSeX6XDU=\");\n_c1 = BuildPanel;\n/* harmony default export */ __webpack_exports__[\"default\"] = (BuildPanel);\nvar _c, _c1;\n$RefreshReg$(_c, \"CostDisplay\");\n$RefreshReg$(_c1, \"BuildPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvQnVpbGRQYW5lbC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFtRDtBQUU2SztBQVloTyxNQUFNaUIsZ0JBQWdEO0lBQ2xEQyxRQUFRViwyREFBU0E7SUFDakJXLFVBQVVaLDhEQUFZQTtJQUN0QmEsY0FBY1gsa0VBQWdCQTtJQUM5QlksUUFBUVgsNERBQVVBO0lBQ2xCWSxlQUFlWCxtRUFBaUJBO0lBQ2hDWSxZQUFZWCxnRUFBY0E7SUFDMUJZLFlBQVlYLGdFQUFjQTtJQUMxQlksWUFBWVgsZ0VBQWNBO0FBQzlCO0FBRUEsTUFBTVksY0FBdUU7UUFBQyxFQUFFQyxJQUFJLEVBQUVDLFNBQVMsRUFBRTtJQUM3RixxQkFDSSw4REFBQ0M7UUFBSUMsV0FBVTtrQkFDVixPQUFRRSxPQUFPLENBQUNMLE1BQXNDTSxHQUFHLENBQUM7Z0JBQUMsQ0FBQ0MsVUFBVUMsT0FBTztZQUMxRSxJQUFJLENBQUNBLFFBQVEsT0FBTztZQUNwQixNQUFNQyxZQUFZUixTQUFTLENBQUNNLFNBQVMsSUFBSUM7WUFDekMsTUFBTUUsT0FBTztnQkFBRUMsTUFBTW5DLDBEQUFRQTtnQkFBRW9DLE1BQU1uQywwREFBUUE7Z0JBQUVvQyxNQUFNbkMsMERBQVFBO2dCQUFFb0MsT0FBT25DLDJEQUFTQTtZQUFDLENBQUMsQ0FBQzRCLFNBQVM7WUFDM0YscUJBQ0ksOERBQUNRO2dCQUFvQlosV0FBVyxxQkFBdUQsT0FBbENNLFlBQVksS0FBSzs7a0NBQ2xFLDhEQUFDUDt3QkFBSUMsV0FBVTtrQ0FBVSw0RUFBQ087Ozs7Ozs7Ozs7a0NBQzFCLDhEQUFDSzt3QkFBS1osV0FBVTtrQ0FBUUs7Ozs7Ozs7ZUFGakJEOzs7OztRQUtuQjs7Ozs7O0FBR1o7S0FoQk1SO0FBa0JOLE1BQU1pQixhQUF3QztRQUFDLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFQyxnQkFBZ0IsRUFBRWxCLFNBQVMsRUFBRW1CLGNBQWMsRUFBRUMsWUFBWSxFQUFF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REFBRztnREFDckVtQyxVQUFVLENBQUNwQjtnREFDWHRDLFdBQVU7Z0RBQ1YyRCxjQUFZZjswREFFWiw0RUFBQzdDO29EQUFJQyxXQUFVOzhEQUFVLDRFQUFDZCwyREFBU0E7Ozs7Ozs7Ozs7Ozs7OzswREFFdkMsOERBQUNhO2dEQUFJQyxXQUFVOzBEQUNWNEM7Ozs7Ozs7Ozs7Ozs7NkRBS2IsOERBQUM3QztnQ0FBSUMsV0FBVTswQ0FDWCw0RUFBQ3FEOzhDQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRbkM7R0FwSU14QztNQUFBQTtBQXNJTiwrREFBZUEsVUFBVUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL0J1aWxkUGFuZWwudHN4P2IxMzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdHlwZSB7IEJ1aWxkaW5nSW5mbywgQnVpbGRpbmdUeXBlLCBSZXNvdXJjZXMsIEJ1aWxkaW5nQ29zdHMgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBGb29kSWNvbiwgV29vZEljb24sIEdvbGRJY29uLCBTdG9uZUljb24sIEJhcnJhY2tzSWNvbiwgSG91c2VJY29uLCBBcmNoZXJ5UmFuZ2VJY29uLCBTdGFibGVJY29uLCBTaWVnZVdvcmtzaG9wSWNvbiwgQmxhY2tzbWl0aEljb24sIFdhdGNoVG93ZXJJY29uLCBUb3duQ2VudGVySWNvbiwgQ2xvY2tJY29uLCBCdWlsZEljb24gfSBmcm9tICcuL2ljb25zL1Jlc291cmNlSWNvbnMnO1xuXG5pbnRlcmZhY2UgQnVpbGRQYW5lbFByb3BzIHtcbiAgICBpc09wZW46IGJvb2xlYW47XG4gICAgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgICBvblN0YXJ0UGxhY2VtZW50OiAoYnVpbGRpbmdJZDogQnVpbGRpbmdUeXBlKSA9PiB2b2lkO1xuICAgIHJlc291cmNlczogUmVzb3VyY2VzO1xuICAgIGJ1aWxkaW5nQ291bnRzOiBSZWNvcmQ8QnVpbGRpbmdUeXBlLCBudW1iZXI+O1xuICAgIGJ1aWxkaW5nTGlzdDogQnVpbGRpbmdJbmZvW107XG4gICAgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7XG59XG5cbmNvbnN0IGJ1aWxkaW5nSWNvbnM6IFJlY29yZDxCdWlsZGluZ1R5cGUsIFJlYWN0LkZDPiA9IHtcbiAgICBob3VzZXM6IEhvdXNlSWNvbixcbiAgICBiYXJyYWNrczogQmFycmFja3NJY29uLFxuICAgIGFyY2hlcnlSYW5nZTogQXJjaGVyeVJhbmdlSWNvbixcbiAgICBzdGFibGU6IFN0YWJsZUljb24sXG4gICAgc2llZ2VXb3Jrc2hvcDogU2llZ2VXb3Jrc2hvcEljb24sXG4gICAgYmxhY2tzbWl0aDogQmxhY2tzbWl0aEljb24sXG4gICAgd2F0Y2hUb3dlcjogV2F0Y2hUb3dlckljb24sXG4gICAgdG93bkNlbnRlcjogVG93bkNlbnRlckljb24sXG59O1xuXG5jb25zdCBDb3N0RGlzcGxheTogUmVhY3QuRkM8eyBjb3N0OiBCdWlsZGluZ0Nvc3RzLCByZXNvdXJjZXM6IFJlc291cmNlcyB9PiA9ICh7IGNvc3QsIHJlc291cmNlcyB9KSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBnYXAteC0zIGdhcC15LTEgdGV4dC14c1wiPlxuICAgICAgICAgICAgeyhPYmplY3QuZW50cmllcyhjb3N0KSBhcyBba2V5b2YgUmVzb3VyY2VzLCBudW1iZXJdW10pLm1hcCgoW3Jlc291cmNlLCBhbW91bnRdKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFhbW91bnQpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhc0Vub3VnaCA9IHJlc291cmNlc1tyZXNvdXJjZV0gPj0gYW1vdW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IEljb24gPSB7IGZvb2Q6IEZvb2RJY29uLCB3b29kOiBXb29kSWNvbiwgZ29sZDogR29sZEljb24sIHN0b25lOiBTdG9uZUljb24gfVtyZXNvdXJjZV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4ga2V5PXtyZXNvdXJjZX0gY2xhc3NOYW1lPXtgZmxleCBpdGVtcy1jZW50ZXIgJHtoYXNFbm91Z2ggPyAnJyA6ICd0ZXh0LWJyYW5kLXJlZCd9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNCBoLTRcIj48SWNvbiAvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMVwiPnthbW91bnR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuY29uc3QgQnVpbGRQYW5lbDogUmVhY3QuRkM8QnVpbGRQYW5lbFByb3BzPiA9ICh7IGlzT3Blbiwgb25DbG9zZSwgb25TdGFydFBsYWNlbWVudCwgcmVzb3VyY2VzLCBidWlsZGluZ0NvdW50cywgYnVpbGRpbmdMaXN0LCBhbmNob3JSZWN0IH0pID0+IHtcbiAgICBjb25zdCBjb25zdHJ1Y3RpYmxlQnVpbGRpbmdzID0gYnVpbGRpbmdMaXN0LmZpbHRlcihiID0+IGIuaWQgIT09ICd0b3duQ2VudGVyJyk7XG4gICAgY29uc3QgW3NlbGVjdGVkQnVpbGRpbmcsIHNldFNlbGVjdGVkQnVpbGRpbmddID0gdXNlU3RhdGU8QnVpbGRpbmdJbmZvPihjb25zdHJ1Y3RpYmxlQnVpbGRpbmdzWzBdID8/IG51bGwpO1xuICAgIFxuICAgIGNvbnN0IFtpc0Nsb3NpbmcsIHNldElzQ2xvc2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2N1cnJlbnREYXRhLCBzZXRDdXJyZW50RGF0YV0gPSB1c2VTdGF0ZSh7IGFuY2hvclJlY3QsIGJ1aWxkaW5nTGlzdCB9KTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpc09wZW4gJiYgIXNlbGVjdGVkQnVpbGRpbmcpIHtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkQnVpbGRpbmcoY29uc3RydWN0aWJsZUJ1aWxkaW5nc1swXSA/PyBudWxsKTtcbiAgICAgICAgfVxuICAgIH0sIFtpc09wZW4sIHNlbGVjdGVkQnVpbGRpbmcsIGNvbnN0cnVjdGlibGVCdWlsZGluZ3NdKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpc09wZW4gfHwgaXNDbG9zaW5nKSB7XG4gICAgICAgICAgICBzZXRDdXJyZW50RGF0YSh7IGFuY2hvclJlY3QsIGJ1aWxkaW5nTGlzdCB9KTtcbiAgICAgICAgfVxuICAgIH0sIFthbmNob3JSZWN0LCBidWlsZGluZ0xpc3QsIGlzT3BlbiwgaXNDbG9zaW5nXSk7XG5cbiAgICBjb25zdCBoYW5kbGVDbG9zZSA9ICgpID0+IHtcbiAgICAgICAgc2V0SXNDbG9zaW5nKHRydWUpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgICAgIHNldElzQ2xvc2luZyhmYWxzZSk7XG4gICAgICAgIH0sIDMwMCk7XG4gICAgfTtcblxuICAgIGlmICghaXNPcGVuICYmICFpc0Nsb3NpbmcpIHJldHVybiBudWxsO1xuICAgIFxuICAgIGNvbnN0IHsgYW5jaG9yUmVjdDogY3VycmVudEFuY2hvciB9ID0gY3VycmVudERhdGE7XG4gICAgaWYgKCFjdXJyZW50QW5jaG9yKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IGlzQWZmb3JkYWJsZSA9IHNlbGVjdGVkQnVpbGRpbmcgPyBPYmplY3QuZW50cmllcyhzZWxlY3RlZEJ1aWxkaW5nLmNvc3QpLmV2ZXJ5KChbcmVzLCBjb3N0XSkgPT4gcmVzb3VyY2VzW3JlcyBhcyBrZXlvZiBSZXNvdXJjZXNdID49IChjb3N0IHx8IDApKSA6IGZhbHNlO1xuICAgIGNvbnN0IGlzQnVpbHQgPSBzZWxlY3RlZEJ1aWxkaW5nID8gc2VsZWN0ZWRCdWlsZGluZy5pc1VuaXF1ZSAmJiBidWlsZGluZ0NvdW50c1tzZWxlY3RlZEJ1aWxkaW5nLmlkXSA+IDAgOiBmYWxzZTtcbiAgICBjb25zdCBjYW5CdWlsZCA9IGlzQWZmb3JkYWJsZSAmJiAhaXNCdWlsdDtcblxuICAgIGNvbnN0IHBhbmVsU3R5bGU6IFJlYWN0LkNTU1Byb3BlcnRpZXMgPSB7XG4gICAgICAgIHRvcDogYCR7Y3VycmVudEFuY2hvci5ib3R0b20gKyA4fXB4YCxcbiAgICAgICAgbGVmdDogYCR7Y3VycmVudEFuY2hvci5sZWZ0fXB4YCxcbiAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiAndG9wIGxlZnQnLFxuICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllcztcbiAgICBcbiAgICBjb25zdCBjb25zdHJ1Y3RCdXR0b25Ub29sdGlwID0gaXNCdWlsdCA/ICdBbHJlYWR5IEJ1aWx0JyA6ICFpc0FmZm9yZGFibGUgPyAnSW5zdWZmaWNpZW50IFJlc291cmNlcycgOiBgQ29uc3RydWN0ICR7c2VsZWN0ZWRCdWlsZGluZz8ubmFtZX1gO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBcbiAgICAgICAgICAgIHN0eWxlPXtwYW5lbFN0eWxlfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgZml4ZWQgei00MCB3LVs1MDBweF0gdHJhbnNmb3JtIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCBlYXNlLWluLW91dCAke2lzT3BlbiAmJiAhaXNDbG9zaW5nID8gJ29wYWNpdHktMTAwIHNjYWxlLTEwMCcgOiAnb3BhY2l0eS0wIHNjYWxlLTk1J31gfVxuICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNjaS1maS1wYW5lbC1wb3B1cCBzY2ktZmktZ3JpZCBwLTRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LXNlcmlmXCI+Q29uc3RydWN0IEJ1aWxkaW5nPC9oMj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVDbG9zZX0gY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHNjaS1maS1jbG9zZS1idXR0b25cIj4mdGltZXM7PC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgey8qIExlZnQ6IEJ1aWxkaW5nIEdyaWQgKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yLzUgcHItNCBib3JkZXItciBib3JkZXItc3RvbmUtbGlnaHQvMjBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTMgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29uc3RydWN0aWJsZUJ1aWxkaW5ncy5tYXAoKGJ1aWxkaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IEljb24gPSBidWlsZGluZ0ljb25zW2J1aWxkaW5nLmlkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IHNlbGVjdGVkQnVpbGRpbmc/LmlkID09PSBidWlsZGluZy5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtidWlsZGluZy5pZH0gY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZEJ1aWxkaW5nKGJ1aWxkaW5nKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIGFzcGVjdC1zcXVhcmUgcC0xLjUgYmctc3RvbmUtZGFyay81MCByb3VuZGVkLW1kIGJvcmRlci0yIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtpc1NlbGVjdGVkID8gJ2JvcmRlci1icmFuZC1nb2xkIGJnLXN0b25lLWxpZ2h0LzIwJyA6ICdib3JkZXItc3RvbmUtbGlnaHQvNTAgaG92ZXI6Ym9yZGVyLWJyYW5kLWdvbGQvNzAnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B3LWZ1bGwgaC1mdWxsICR7aXNTZWxlY3RlZCA/ICd0ZXh0LWJyYW5kLWdvbGQnIDogJ3RleHQtcGFyY2htZW50LWRhcmsgZ3JvdXAtaG92ZXI6dGV4dC1jOWQxZDknfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tZnVsbCBtYi0yIHctbWF4IHB4LTIgcHktMSBiZy1zdG9uZS1kYXJrIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkIG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLW9wYWNpdHkgcG9pbnRlci1ldmVudHMtbm9uZSB6LTEwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtidWlsZGluZy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgey8qIFJpZ2h0OiBEZXRhaWxzICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMy81IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZEJ1aWxkaW5nID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1ncm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlcmlmIHRleHQtYnJhbmQtZ29sZFwiPntzZWxlY3RlZEJ1aWxkaW5nLm5hbWV9PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1wYXJjaG1lbnQtZGFyayBtdC0xIG1iLTMgaC0xMFwiPntzZWxlY3RlZEJ1aWxkaW5nLmRlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGhyIGNsYXNzTmFtZT1cImJvcmRlci1zdG9uZS1saWdodC8yMCBteS0yXCIgLz5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1zZXJpZiB0ZXh0LWJhc2VcIj5Db3N0OjwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvc3REaXNwbGF5IGNvc3Q9e3NlbGVjdGVkQnVpbGRpbmcuY29zdH0gcmVzb3VyY2VzPXtyZXNvdXJjZXN9Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtdC0yIHRleHQteHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1wYXJjaG1lbnQtZGFya1wiPjxDbG9ja0ljb24gLz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5CdWlsZCBUaW1lOiB7c2VsZWN0ZWRCdWlsZGluZy5idWlsZFRpbWV9czwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZEJ1aWxkaW5nLmlzVW5pcXVlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtYnJhbmQtYmx1ZSBtdC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVuaXF1ZSBCdWlsZGluZyAoe2J1aWxkaW5nQ291bnRzW3NlbGVjdGVkQnVpbGRpbmcuaWRdfSAvIDEgYnVpbHQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBncm91cCBzZWxmLWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsgaWYoY2FuQnVpbGQpIG9uU3RhcnRQbGFjZW1lbnQoc2VsZWN0ZWRCdWlsZGluZy5pZCk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFjYW5CdWlsZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzY2ktZmktYWN0aW9uLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Y29uc3RydWN0QnV0dG9uVG9vbHRpcH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOCBoLThcIj48QnVpbGRJY29uIC8+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLWZ1bGwgcmlnaHQtMCBtYi0yIHctbWF4IHB4LTIgcHktMSBiZy1zdG9uZS1kYXJrIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkIG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLW9wYWNpdHkgcG9pbnRlci1ldmVudHMtbm9uZSB6LTEwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NvbnN0cnVjdEJ1dHRvblRvb2x0aXB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgaC1mdWxsIHRleHQtcGFyY2htZW50LWRhcmtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+U2VsZWN0IGEgYnVpbGRpbmcuPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1aWxkUGFuZWw7XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIkZvb2RJY29uIiwiV29vZEljb24iLCJHb2xkSWNvbiIsIlN0b25lSWNvbiIsIkJhcnJhY2tzSWNvbiIsIkhvdXNlSWNvbiIsIkFyY2hlcnlSYW5nZUljb24iLCJTdGFibGVJY29uIiwiU2llZ2VXb3Jrc2hvcEljb24iLCJCbGFja3NtaXRoSWNvbiIsIldhdGNoVG93ZXJJY29uIiwiVG93bkNlbnRlckljb24iLCJDbG9ja0ljb24iLCJCdWlsZEljb24iLCJidWlsZGluZ0ljb25zIiwiaG91c2VzIiwiYmFycmFja3MiLCJhcmNoZXJ5UmFuZ2UiLCJzdGFibGUiLCJzaWVnZVdvcmtzaG9wIiwiYmxhY2tzbWl0aCIsIndhdGNoVG93ZXIiLCJ0b3duQ2VudGVyIiwiQ29zdERpc3BsYXkiLCJjb3N0IiwicmVzb3VyY2VzIiwiZGl2IiwiY2xhc3NOYW1lIiwiT2JqZWN0IiwiZW50cmllcyIsIm1hcCIsInJlc291cmNlIiwiYW1vdW50IiwiaGFzRW5vdWdoIiwiSWNvbiIsImZvb2QiLCJ3b29kIiwiZ29sZCIsInN0b25lIiwic3BhbiIsIkJ1aWxkUGFuZWwiLCJpc09wZW4iLCJvbkNsb3NlIiwib25TdGFydFBsYWNlbWVudCIsImJ1aWxkaW5nQ291bnRzIiwiYnVpbGRpbmdMaXN0IiwiYW5jaG9yUmVjdCIsImNvbnN0cnVjdGlibGVCdWlsZGluZ3MiLCJmaWx0ZXIiLCJiIiwiaWQiLCJzZWxlY3RlZEJ1aWxkaW5nIiwic2V0U2VsZWN0ZWRCdWlsZGluZyIsImlzQ2xvc2luZyIsInNldElzQ2xvc2luZyIsImN1cnJlbnREYXRhIiwic2V0Q3VycmVudERhdGEiLCJoYW5kbGVDbG9zZSIsInNldFRpbWVvdXQiLCJjdXJyZW50QW5jaG9yIiwiaXNBZmZvcmRhYmxlIiwiZXZlcnkiLCJyZXMiLCJpc0J1aWx0IiwiaXNVbmlxdWUiLCJjYW5CdWlsZCIsInBhbmVsU3R5bGUiLCJ0b3AiLCJib3R0b20iLCJsZWZ0IiwidHJhbnNmb3JtT3JpZ2luIiwiY29uc3RydWN0QnV0dG9uVG9vbHRpcCIsIm5hbWUiLCJzdHlsZSIsImgyIiwiYnV0dG9uIiwib25DbGljayIsImJ1aWxkaW5nIiwiaXNTZWxlY3RlZCIsImgzIiwicCIsImRlc2NyaXB0aW9uIiwiaHIiLCJoNCIsImJ1aWxkVGltZSIsImRpc2FibGVkIiwiYXJpYS1sYWJlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/BuildPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/BuildingManagementPanel.tsx":
/*!************************************************!*\
  !*** ./components/BuildingManagementPanel.tsx ***!
  \************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./icons/ResourceIcons */ \"(app-pages-browser)/./components/icons/ResourceIcons.tsx\");\n/* harmony import */ var _ProgressBar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ProgressBar */ \"(app-pages-browser)/./components/ProgressBar.tsx\");\n/* harmony import */ var _GameUI__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GameUI */ \"(app-pages-browser)/./components/GameUI.tsx\");\n/* harmony import */ var _barrel_optimize_names_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trash-2.js\");\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\n\nconst BuildingRow = (param)=>{\n    let { building, type, onUpdate, onDemolish } = param;\n    _s();\n    const [isEditing, setIsEditing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [name, setName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(building.name);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isEditing) {\n            var _inputRef_current, _inputRef_current1;\n            (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n            (_inputRef_current1 = inputRef.current) === null || _inputRef_current1 === void 0 ? void 0 : _inputRef_current1.select();\n        }\n    }, [\n        isEditing\n    ]);\n    const handleSave = ()=>{\n        if (name.trim() && name.trim() !== building.name) {\n            onUpdate(type, building.id, name.trim());\n        }\n        setIsEditing(false);\n    };\n    const handleKeyDown = (e)=>{\n        if (e.key === \"Enter\") {\n            handleSave();\n        } else if (e.key === \"Escape\") {\n            setName(building.name);\n            setIsEditing(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"sci-fi-unit-row flex items-center gap-2 p-2 justify-between\",\n        children: isEditing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n            ref: inputRef,\n            type: \"text\",\n            value: name,\n            onChange: (e)=>setName(e.target.value),\n            onBlur: handleSave,\n            onKeyDown: handleKeyDown,\n            className: \"sci-fi-input w-full !text-base\"\n        }, void 0, false, {\n            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n            lineNumber: 66,\n            columnNumber: 17\n        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-grow cursor-pointer\",\n                    onDoubleClick: ()=>setIsEditing(true),\n                    title: \"Double-click to rename\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-base font-bold\",\n                        children: building.name\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                        lineNumber: 82,\n                        columnNumber: 25\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                    lineNumber: 77,\n                    columnNumber: 21\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"relative group flex-shrink-0\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>onDemolish(type, building.id),\n                            className: \"p-1.5 text-parchment-dark/60 hover:text-brand-red rounded-full transition-colors focus:outline-none focus:ring-1 focus:ring-brand-red/50\",\n                            \"aria-label\": \"Demolish\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                className: \"w-4 h-4\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                lineNumber: 90,\n                                columnNumber: 29\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                            lineNumber: 85,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute bottom-full right-1/2 translate-x-1/2 mb-1 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                            children: \"Demolish\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                            lineNumber: 92,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                    lineNumber: 84,\n                    columnNumber: 21\n                }, undefined)\n            ]\n        }, void 0, true)\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n        lineNumber: 64,\n        columnNumber: 9\n    }, undefined);\n};\n_s(BuildingRow, \"ix8JKsNrueda/cGiLeHwh+G5/Ig=\");\n_c = BuildingRow;\nconst CostDisplay = (param)=>{\n    let { cost, resources } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-wrap gap-x-3 gap-y-1 text-xs\",\n        children: Object.entries(cost).map((param)=>{\n            let [resource, amount] = param;\n            if (!amount) return null;\n            const hasEnough = resources[resource] >= amount;\n            const Icon = {\n                food: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.FoodIcon,\n                wood: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.WoodIcon,\n                gold: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GoldIcon,\n                stone: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.StoneIcon\n            }[resource];\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"flex items-center \".concat(hasEnough ? \"\" : \"text-brand-red\"),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-4 h-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Icon, {}, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                            lineNumber: 111,\n                            columnNumber: 46\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                        lineNumber: 111,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"ml-1 font-mono\",\n                        children: amount\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                        lineNumber: 112,\n                        columnNumber: 21\n                    }, undefined)\n                ]\n            }, resource, true, {\n                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                lineNumber: 110,\n                columnNumber: 17\n            }, undefined);\n        })\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n        lineNumber: 104,\n        columnNumber: 5\n    }, undefined);\n};\n_c1 = CostDisplay;\nconst BuildingManagementPanel = (props)=>{\n    var _buildingInfo_name, _activeVillagerTask_payload, _activeTrainTask_payload;\n    _s1();\n    const { isOpen, onClose, panelState, buildings, buildingList, onUpdateBuilding, onDemolishBuilding, onTrainUnits, onTrainVillagers, resources, population, unitList, onAdvanceAge, activeTasks, anchorRect } = props;\n    const [isClosing, setIsClosing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentData, setCurrentData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        panelState,\n        buildings,\n        anchorRect\n    });\n    const [trainCount, setTrainCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isOpen) return;\n        const popSpace = population.capacity - population.current;\n        const currentCount = trainCount;\n        if (currentCount > popSpace) {\n            setTrainCount(Math.max(0, popSpace));\n        } else if (currentCount === 0 && popSpace > 0) {\n            setTrainCount(1);\n        } else if (popSpace === 0) {\n            setTrainCount(0);\n        }\n    }, [\n        isOpen,\n        panelState.type,\n        population.capacity,\n        population.current,\n        trainCount\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen || isClosing) {\n            setCurrentData({\n                panelState,\n                buildings,\n                anchorRect\n            });\n        }\n    }, [\n        panelState,\n        buildings,\n        anchorRect,\n        isOpen,\n        isClosing\n    ]);\n    const handleClose = ()=>{\n        setIsClosing(true);\n        setTimeout(()=>{\n            onClose();\n            setIsClosing(false);\n        }, 300);\n    };\n    if (!isOpen && !isClosing) return null;\n    const { panelState: currentPanelState, buildings: currentBuildings, anchorRect: currentAnchor } = currentData;\n    const { type } = currentPanelState;\n    if (!type || !currentAnchor) return null;\n    const buildingInfo = buildingList.find((b)=>b.id === type);\n    const buildingInstances = currentBuildings[type];\n    const unitToTrain = unitList.find((u)=>u.requiredBuilding === type);\n    const activeTrainTask = unitToTrain ? activeTasks.find((t)=>{\n        var _t_payload;\n        return t.type === \"train_military\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.unitType) === (unitToTrain === null || unitToTrain === void 0 ? void 0 : unitToTrain.id);\n    }) : undefined;\n    const activeVillagerTask = activeTasks.find((t)=>t.type === \"train_villager\");\n    const activeAgeTask = activeTasks.find((t)=>t.type === \"advance_age\");\n    const popSpace = population.capacity - population.current;\n    const hasPopCapacity = popSpace >= trainCount;\n    const totalUnitCost = unitToTrain ? Object.entries(unitToTrain.cost).reduce((acc, param)=>{\n        let [res, val] = param;\n        return {\n            ...acc,\n            [res]: (val || 0) * trainCount\n        };\n    }, {}) : {};\n    const canAffordUnit = unitToTrain ? Object.entries(totalUnitCost).every((param)=>{\n        let [res, cost] = param;\n        return resources[res] >= cost;\n    }) : false;\n    const canTrainUnit = unitToTrain && canAffordUnit && hasPopCapacity && !activeTrainTask;\n    const totalVillagerCost = {\n        food: 50 * trainCount\n    };\n    const canAffordVillagers = resources.food >= totalVillagerCost.food;\n    const canTrainVillagers = canAffordVillagers && hasPopCapacity && !activeVillagerTask;\n    const panelStyle = {\n        top: \"\".concat(currentAnchor.bottom + 8, \"px\"),\n        left: \"\".concat(currentAnchor.left, \"px\"),\n        transformOrigin: \"top left\"\n    };\n    // --- Tooltip Text Generation ---\n    const getTrainUnitTooltip = ()=>{\n        if (!unitToTrain) return \"\";\n        if (activeTrainTask) return \"Training in progress...\";\n        if (!hasPopCapacity) return \"Need \".concat(trainCount - popSpace, \" more housing.\");\n        if (!canAffordUnit) return \"Insufficient Resources.\";\n        return \"Train \".concat(trainCount, \" \").concat(unitToTrain.name, \"(s)\");\n    };\n    const getTrainVillagerTooltip = ()=>{\n        if (activeVillagerTask) return \"Training in progress...\";\n        if (!hasPopCapacity) return \"Need \".concat(trainCount - popSpace, \" more housing.\");\n        if (!canAffordVillagers) return \"Insufficient Food.\";\n        return \"Train \".concat(trainCount, \" Villager(s)\");\n    };\n    const getAdvanceAgeTooltip = ()=>{\n        if (activeAgeTask) return \"Advancement in progress.\";\n        if (resources.food < 500 || resources.gold < 200) return \"Insufficient resources to advance.\";\n        return \"Advance to the next age (60s)\";\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: panelStyle,\n        className: \"fixed z-40 w-96 transform transition-all duration-300 ease-in-out \".concat(isOpen && !isClosing ? \"opacity-100 scale-100\" : \"opacity-0 scale-95\"),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"sci-fi-panel-popup sci-fi-grid p-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-serif\",\n                            children: [\n                                buildingInfo === null || buildingInfo === void 0 ? void 0 : buildingInfo.name,\n                                !(buildingInfo === null || buildingInfo === void 0 ? void 0 : buildingInfo.isUnique) ? \"s\" : \"\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                            lineNumber: 208,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleClose,\n                            className: \"text-3xl font-bold sci-fi-close-button\",\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                            lineNumber: 209,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                    lineNumber: 207,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-2 max-h-48 overflow-y-auto pr-2\",\n                    children: buildingInstances.length > 0 ? buildingInstances.map((instance)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BuildingRow, {\n                            building: instance,\n                            type: type,\n                            onUpdate: onUpdateBuilding,\n                            onDemolish: onDemolishBuilding\n                        }, instance.id, false, {\n                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                            lineNumber: 215,\n                            columnNumber: 29\n                        }, undefined)) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-center text-parchment-dark py-4\",\n                        children: [\n                            \"You have no \",\n                            buildingInfo === null || buildingInfo === void 0 ? void 0 : (_buildingInfo_name = buildingInfo.name) === null || _buildingInfo_name === void 0 ? void 0 : _buildingInfo_name.toLowerCase(),\n                            \"s.\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                        lineNumber: 217,\n                        columnNumber: 27\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                    lineNumber: 212,\n                    columnNumber: 17\n                }, undefined),\n                (type === \"townCenter\" || unitToTrain) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                    className: \"border-stone-light/20 my-3\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                    lineNumber: 220,\n                    columnNumber: 60\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-3\",\n                    children: [\n                        type === \"townCenter\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                activeVillagerTask ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-14 flex flex-col justify-center items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-parchment-dark mb-2\",\n                                            children: [\n                                                \"Training \",\n                                                (_activeVillagerTask_payload = activeVillagerTask.payload) === null || _activeVillagerTask_payload === void 0 ? void 0 : _activeVillagerTask_payload.count,\n                                                \" Villager(s)...\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 226,\n                                            columnNumber: 97\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ProgressBar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                            startTime: activeVillagerTask.startTime,\n                                            duration: activeVillagerTask.duration,\n                                            className: \"w-full h-2\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 226,\n                                            columnNumber: 208\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                    lineNumber: 226,\n                                    columnNumber: 33\n                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"sci-fi-unit-row !p-2 flex items-center gap-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-8 h-8 p-1 bg-black/30 rounded-md text-brand-blue\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.VillagerIcon, {}, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                lineNumber: 229,\n                                                columnNumber: 105\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 229,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-grow\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CostDisplay, {\n                                                cost: totalVillagerCost,\n                                                resources: resources\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                lineNumber: 230,\n                                                columnNumber: 64\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 230,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"range\",\n                                            min: \"1\",\n                                            max: Math.max(1, popSpace),\n                                            value: trainCount,\n                                            onChange: (e)=>setTrainCount(Math.min(Number(e.target.value), popSpace)),\n                                            className: \"sci-fi-slider w-24\",\n                                            disabled: popSpace <= 0\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 231,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"font-bold text-base w-8 text-center bg-black/20 p-1 rounded-md\",\n                                            children: popSpace > 0 ? trainCount : 0\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 232,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative group\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>onTrainVillagers(trainCount),\n                                                    disabled: !canTrainVillagers,\n                                                    className: \"sci-fi-action-button\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-6 h-6\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.VillagerIcon, {}, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                            lineNumber: 234,\n                                                            columnNumber: 182\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                        lineNumber: 234,\n                                                        columnNumber: 157\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                    lineNumber: 234,\n                                                    columnNumber: 41\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                    children: getTrainVillagerTooltip()\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                    lineNumber: 235,\n                                                    columnNumber: 41\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 233,\n                                            columnNumber: 37\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                    lineNumber: 228,\n                                    columnNumber: 33\n                                }, undefined),\n                                activeAgeTask ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-12 mt-2 flex flex-col justify-center items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-parchment-dark mb-2\",\n                                            children: \"Advancing to the next age...\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 240,\n                                            columnNumber: 102\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ProgressBar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                            startTime: activeAgeTask.startTime,\n                                            duration: activeAgeTask.duration,\n                                            className: \"w-full h-2\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 240,\n                                            columnNumber: 182\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                    lineNumber: 240,\n                                    columnNumber: 33\n                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"sci-fi-unit-row !p-2 flex items-center gap-3 mt-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-8 h-8 p-1 bg-black/30 rounded-md text-brand-gold\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.AgeIcon, {}, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                lineNumber: 243,\n                                                columnNumber: 105\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 243,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-grow\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CostDisplay, {\n                                                cost: {\n                                                    food: 500,\n                                                    gold: 200\n                                                },\n                                                resources: resources\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                lineNumber: 244,\n                                                columnNumber: 64\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 244,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative group\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: onAdvanceAge,\n                                                    disabled: !!activeAgeTask || resources.food < 500 || resources.gold < 200,\n                                                    className: \"sci-fi-action-button\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-6 h-6\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.AgeIcon, {}, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                            lineNumber: 246,\n                                                            columnNumber: 205\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                        lineNumber: 246,\n                                                        columnNumber: 180\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                    lineNumber: 246,\n                                                    columnNumber: 41\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                    children: getAdvanceAgeTooltip()\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                    lineNumber: 247,\n                                                    columnNumber: 41\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 245,\n                                            columnNumber: 38\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                    lineNumber: 242,\n                                    columnNumber: 33\n                                }, undefined)\n                            ]\n                        }, void 0, true),\n                        unitToTrain && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: activeTrainTask ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"h-16 flex flex-col justify-center items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-parchment-dark mb-2\",\n                                        children: [\n                                            \"Training \",\n                                            (_activeTrainTask_payload = activeTrainTask.payload) === null || _activeTrainTask_payload === void 0 ? void 0 : _activeTrainTask_payload.count,\n                                            \" \",\n                                            unitToTrain.name,\n                                            \"(s)...\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                        lineNumber: 256,\n                                        columnNumber: 97\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ProgressBar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                        startTime: activeTrainTask.startTime,\n                                        duration: activeTrainTask.duration,\n                                        className: \"w-full h-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                        lineNumber: 256,\n                                        columnNumber: 215\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                lineNumber: 256,\n                                columnNumber: 33\n                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"sci-fi-unit-row !p-2 flex items-center gap-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-8 h-8 p-1 bg-black/30 rounded-md text-brand-red\",\n                                        children: _GameUI__WEBPACK_IMPORTED_MODULE_4__.iconMap[unitToTrain.id]\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                        lineNumber: 259,\n                                        columnNumber: 37\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-grow\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CostDisplay, {\n                                            cost: totalUnitCost,\n                                            resources: resources\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 260,\n                                            columnNumber: 65\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                        lineNumber: 260,\n                                        columnNumber: 38\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        min: \"1\",\n                                        max: Math.max(1, popSpace),\n                                        value: trainCount,\n                                        onChange: (e)=>setTrainCount(Math.min(Number(e.target.value), popSpace)),\n                                        className: \"sci-fi-slider w-24\",\n                                        disabled: popSpace <= 0\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                        lineNumber: 261,\n                                        columnNumber: 38\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"font-bold text-base w-8 text-center bg-black/20 p-1 rounded-md\",\n                                        children: popSpace > 0 ? trainCount : 0\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                        lineNumber: 262,\n                                        columnNumber: 38\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative group\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>onTrainUnits(unitToTrain.id, trainCount),\n                                                disabled: !canTrainUnit,\n                                                className: \"sci-fi-action-button\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-6 h-6\",\n                                                    children: _GameUI__WEBPACK_IMPORTED_MODULE_4__.iconMap[unitToTrain.id]\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                    lineNumber: 264,\n                                                    columnNumber: 165\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                lineNumber: 264,\n                                                columnNumber: 42\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                children: getTrainUnitTooltip()\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                lineNumber: 265,\n                                                columnNumber: 42\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                        lineNumber: 263,\n                                        columnNumber: 38\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                lineNumber: 258,\n                                columnNumber: 34\n                            }, undefined)\n                        }, void 0, false)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                    lineNumber: 222,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n            lineNumber: 206,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n        lineNumber: 205,\n        columnNumber: 9\n    }, undefined);\n};\n_s1(BuildingManagementPanel, \"oP+IBHzZ9Zmf/uZKPJlyyyl14AA=\");\n_c2 = BuildingManagementPanel;\n/* harmony default export */ __webpack_exports__[\"default\"] = (BuildingManagementPanel);\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"BuildingRow\");\n$RefreshReg$(_c1, \"CostDisplay\");\n$RefreshReg$(_c2, \"BuildingManagementPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvQnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBMkQ7QUFFNEM7QUFDL0Q7QUFDTDtBQUNHO0FBd0J0QyxNQUFNYSxjQUtEO1FBQUMsRUFBRUMsUUFBUSxFQUFFQyxJQUFJLEVBQUVDLFFBQVEsRUFBRUMsVUFBVSxFQUFFOztJQUMxQyxNQUFNLENBQUNDLFdBQVdDLGFBQWEsR0FBR2xCLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ21CLE1BQU1DLFFBQVEsR0FBR3BCLCtDQUFRQSxDQUFDYSxTQUFTTSxJQUFJO0lBQzlDLE1BQU1FLFdBQVduQiw2Q0FBTUEsQ0FBbUI7SUFFMUNELGdEQUFTQSxDQUFDO1FBQ04sSUFBSWdCLFdBQVc7Z0JBQ1hJLG1CQUNBQTthQURBQSxvQkFBQUEsU0FBU0MsT0FBTyxjQUFoQkQsd0NBQUFBLGtCQUFrQkUsS0FBSzthQUN2QkYscUJBQUFBLFNBQVNDLE9BQU8sY0FBaEJELHlDQUFBQSxtQkFBa0JHLE1BQU07UUFDNUI7SUFDSixHQUFHO1FBQUNQO0tBQVU7SUFFZCxNQUFNUSxhQUFhO1FBQ2YsSUFBSU4sS0FBS08sSUFBSSxNQUFNUCxLQUFLTyxJQUFJLE9BQU9iLFNBQVNNLElBQUksRUFBRTtZQUM5Q0osU0FBU0QsTUFBTUQsU0FBU2MsRUFBRSxFQUFFUixLQUFLTyxJQUFJO1FBQ3pDO1FBQ0FSLGFBQWE7SUFDakI7SUFFQSxNQUFNVSxnQkFBZ0IsQ0FBQ0M7UUFDbkIsSUFBSUEsRUFBRUMsR0FBRyxLQUFLLFNBQVM7WUFDbkJMO1FBQ0osT0FBTyxJQUFJSSxFQUFFQyxHQUFHLEtBQUssVUFBVTtZQUMzQlYsUUFBUVAsU0FBU00sSUFBSTtZQUNyQkQsYUFBYTtRQUNqQjtJQUNKO0lBRUEscUJBQ0ksOERBQUNhO1FBQUlDLFdBQVU7a0JBQ1ZmLDBCQUNHLDhEQUFDZ0I7WUFDR0MsS0FBS2I7WUFDTFAsTUFBSztZQUNMcUIs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Q0FBRUMsVUFBVXZFLGdCQUFnQnVFLFFBQVE7d0NBQUV4RyxXQUFVOzs7Ozs7Ozs7OzswREFFdFIsOERBQUNEO2dDQUFJQyxXQUFVOztrREFDWiw4REFBQ0Q7d0NBQUlDLFdBQVU7a0RBQXFEdEIsNENBQU8sQ0FBQ3lGLFlBQVl4RSxFQUFFLENBQUM7Ozs7OztrREFDMUYsOERBQUNJO3dDQUFJQyxXQUFVO2tEQUFZLDRFQUFDYzs0Q0FBWUMsTUFBTTZEOzRDQUFlNUQsV0FBV0E7Ozs7Ozs7Ozs7O2tEQUN4RSw4REFBQ2Y7d0NBQU1uQixNQUFLO3dDQUFRMkgsS0FBSTt3Q0FBSS9DLEtBQUtELEtBQUtDLEdBQUcsQ0FBQyxHQUFHSjt3Q0FBV25ELE9BQU9pRDt3Q0FBWWhELFVBQVUsQ0FBQ1AsSUFBTXdELGNBQWNJLEtBQUtnRCxHQUFHLENBQUNDLE9BQU83RyxFQUFFUSxNQUFNLENBQUNGLEtBQUssR0FBR21EO3dDQUFZdEQsV0FBVTt3Q0FBcUIyRyxVQUFVckQsWUFBWTs7Ozs7O2tEQUM1TSw4REFBQzFCO3dDQUFLNUIsV0FBVTtrREFBa0VzRCxXQUFXLElBQUlGLGFBQWE7Ozs7OztrREFDOUcsOERBQUNyRDt3Q0FBSUMsV0FBVTs7MERBQ1gsOERBQUNXO2dEQUFPQyxTQUFTLElBQU02QixhQUFhMEIsWUFBWXhFLEVBQUUsRUFBRXlEO2dEQUFhdUQsVUFBVSxDQUFDeEI7Z0RBQWNuRixXQUFVOzBEQUF1Qiw0RUFBQ0Q7b0RBQUlDLFdBQVU7OERBQVd0Qiw0Q0FBTyxDQUFDeUYsWUFBWXhFLEVBQUUsQ0FBQzs7Ozs7Ozs7Ozs7MERBQzVLLDhEQUFDSTtnREFBSUMsV0FBVTswREFBNEs0Rjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBVXBPO0lBM0pNL0Q7TUFBQUE7QUE2Sk4sK0RBQWVBLHVCQUF1QkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL0J1aWxkaW5nTWFuYWdlbWVudFBhbmVsLnRzeD9jMWE1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdHlwZSB7IEJ1aWxkaW5ncywgQnVpbGRpbmdJbnN0YW5jZSwgQnVpbGRpbmdUeXBlLCBCdWlsZGluZ0luZm8sIFJlc291cmNlcywgVW5pdEluZm8sIE1pbGl0YXJ5VW5pdFR5cGUsIEdhbWVUYXNrIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgRm9vZEljb24sIEdvbGRJY29uLCBTdG9uZUljb24sIFdvb2RJY29uLCBBZ2VJY29uLCBWaWxsYWdlckljb24gfSBmcm9tICcuL2ljb25zL1Jlc291cmNlSWNvbnMnO1xuaW1wb3J0IFByb2dyZXNzQmFyIGZyb20gJy4vUHJvZ3Jlc3NCYXInO1xuaW1wb3J0IHsgaWNvbk1hcCB9IGZyb20gJy4vR2FtZVVJJztcbmltcG9ydCB7IFRyYXNoMiB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5cbmludGVyZmFjZSBCdWlsZGluZ01hbmFnZW1lbnRQYW5lbFByb3BzIHtcbiAgICBpc09wZW46IGJvb2xlYW47XG4gICAgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgICBwYW5lbFN0YXRlOiB7XG4gICAgICAgIHR5cGU6IEJ1aWxkaW5nVHlwZSB8IG51bGw7XG4gICAgICAgIGluc3RhbmNlSWQ/OiBzdHJpbmc7XG4gICAgfTtcbiAgICBidWlsZGluZ3M6IEJ1aWxkaW5ncztcbiAgICBidWlsZGluZ0xpc3Q6IEJ1aWxkaW5nSW5mb1tdO1xuICAgIG9uVXBkYXRlQnVpbGRpbmc6ICh0eXBlOiBCdWlsZGluZ1R5cGUsIGlkOiBzdHJpbmcsIG5hbWU6IHN0cmluZykgPT4gdm9pZDtcbiAgICBvbkRlbW9saXNoQnVpbGRpbmc6ICh0eXBlOiBCdWlsZGluZ1R5cGUsIGlkOiBzdHJpbmcpID0+IHZvaWQ7XG4gICAgb25UcmFpblVuaXRzOiAodW5pdFR5cGU6IE1pbGl0YXJ5VW5pdFR5cGUsIGNvdW50OiBudW1iZXIpID0+IHZvaWQ7XG4gICAgb25UcmFpblZpbGxhZ2VyczogKGNvdW50OiBudW1iZXIpID0+IHZvaWQ7XG4gICAgcmVzb3VyY2VzOiBSZXNvdXJjZXM7XG4gICAgcG9wdWxhdGlvbjogeyBjdXJyZW50OiBudW1iZXI7IGNhcGFjaXR5OiBudW1iZXIgfTtcbiAgICB1bml0TGlzdDogVW5pdEluZm9bXTtcbiAgICBvbkFkdmFuY2VBZ2U6ICgpID0+IHZvaWQ7XG4gICAgYWN0aXZlVGFza3M6IEdhbWVUYXNrW107XG4gICAgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7XG59XG5cblxuY29uc3QgQnVpbGRpbmdSb3c6IFJlYWN0LkZDPHtcbiAgICBidWlsZGluZzogQnVpbGRpbmdJbnN0YW5jZTtcbiAgICB0eXBlOiBCdWlsZGluZ1R5cGU7XG4gICAgb25VcGRhdGU6ICh0eXBlOiBCdWlsZGluZ1R5cGUsIGlkOiBzdHJpbmcsIG5hbWU6IHN0cmluZykgPT4gdm9pZDtcbiAgICBvbkRlbW9saXNoOiAodHlwZTogQnVpbGRpbmdUeXBlLCBpZDogc3RyaW5nKSA9PiB2b2lkO1xufT4gPSAoeyBidWlsZGluZywgdHlwZSwgb25VcGRhdGUsIG9uRGVtb2xpc2ggfSkgPT4ge1xuICAgIGNvbnN0IFtpc0VkaXRpbmcsIHNldElzRWRpdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW25hbWUsIHNldE5hbWVdID0gdXNlU3RhdGUoYnVpbGRpbmcubmFtZSk7XG4gICAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNFZGl0aW5nKSB7XG4gICAgICAgICAgICBpbnB1dFJlZi5jdXJyZW50Py5mb2N1cygpO1xuICAgICAgICAgICAgaW5wdXRSZWYuY3VycmVudD8uc2VsZWN0KCk7XG4gICAgICAgIH1cbiAgICB9LCBbaXNFZGl0aW5nXSk7XG5cbiAgICBjb25zdCBoYW5kbGVTYXZlID0gKCkgPT4ge1xuICAgICAgICBpZiAobmFtZS50cmltKCkgJiYgbmFtZS50cmltKCkgIT09IGJ1aWxkaW5nLm5hbWUpIHtcbiAgICAgICAgICAgIG9uVXBkYXRlKHR5cGUsIGJ1aWxkaW5nLmlkLCBuYW1lLnRyaW0oKSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0SXNFZGl0aW5nKGZhbHNlKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgICAgaGFuZGxlU2F2ZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICAgICAgc2V0TmFtZShidWlsZGluZy5uYW1lKTtcbiAgICAgICAgICAgIHNldElzRWRpdGluZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzY2ktZmktdW5pdC1yb3cgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcC0yIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAge2lzRWRpdGluZyA/IChcbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgcmVmPXtpbnB1dFJlZn1cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bmFtZX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROYW1lKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgb25CbHVyPXtoYW5kbGVTYXZlfVxuICAgICAgICAgICAgICAgICAgICBvbktleURvd249e2hhbmRsZUtleURvd259XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNjaS1maS1pbnB1dCB3LWZ1bGwgIXRleHQtYmFzZVwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtZ3JvdyBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkRvdWJsZUNsaWNrPXsoKSA9PiBzZXRJc0VkaXRpbmcodHJ1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkRvdWJsZS1jbGljayB0byByZW5hbWVcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWJhc2UgZm9udC1ib2xkXCI+e2J1aWxkaW5nLm5hbWV9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBncm91cCBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25EZW1vbGlzaCh0eXBlLCBidWlsZGluZy5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0xLjUgdGV4dC1wYXJjaG1lbnQtZGFyay82MCBob3Zlcjp0ZXh0LWJyYW5kLXJlZCByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1jb2xvcnMgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMSBmb2N1czpyaW5nLWJyYW5kLXJlZC81MFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkRlbW9saXNoXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHJhc2gyIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIHJpZ2h0LTEvMiB0cmFuc2xhdGUteC0xLzIgbWItMSB3LW1heCBweC0yIHB5LTEgYmctc3RvbmUtZGFyayB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IHBvaW50ZXItZXZlbnRzLW5vbmUgei0xMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlbW9saXNoXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuXG5jb25zdCBDb3N0RGlzcGxheTogUmVhY3QuRkM8eyBjb3N0OiB7IFtrZXkgaW4ga2V5b2YgUmVzb3VyY2VzXT86IG51bWJlciB9LCByZXNvdXJjZXM6IFJlc291cmNlcyB9PiA9ICh7IGNvc3QsIHJlc291cmNlcyB9KSA9PiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBnYXAteC0zIGdhcC15LTEgdGV4dC14c1wiPlxuICAgICAgICB7KE9iamVjdC5lbnRyaWVzKGNvc3QpIGFzIFtrZXlvZiBSZXNvdXJjZXMsIG51bWJlcl1bXSkubWFwKChbcmVzb3VyY2UsIGFtb3VudF0pID0+IHtcbiAgICAgICAgICAgIGlmICghYW1vdW50KSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IGhhc0Vub3VnaCA9IHJlc291cmNlc1tyZXNvdXJjZV0gPj0gYW1vdW50O1xuICAgICAgICAgICAgY29uc3QgSWNvbiA9IHsgZm9vZDogRm9vZEljb24sIHdvb2Q6IFdvb2RJY29uLCBnb2xkOiBHb2xkSWNvbiwgc3RvbmU6IFN0b25lSWNvbiB9W3Jlc291cmNlXTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPHNwYW4ga2V5PXtyZXNvdXJjZX0gY2xhc3NOYW1lPXtgZmxleCBpdGVtcy1jZW50ZXIgJHtoYXNFbm91Z2ggPyAnJyA6ICd0ZXh0LWJyYW5kLXJlZCd9YH0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy00IGgtNFwiPjxJY29uIC8+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTEgZm9udC1tb25vXCI+e2Ftb3VudH08L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSl9XG4gICAgPC9kaXY+XG4pO1xuXG5cbmNvbnN0IEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsOiBSZWFjdC5GQzxCdWlsZGluZ01hbmFnZW1lbnRQYW5lbFByb3BzPiA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgaXNPcGVuLCBvbkNsb3NlLCBwYW5lbFN0YXRlLCBidWlsZGluZ3MsIGJ1aWxkaW5nTGlzdCwgb25VcGRhdGVCdWlsZGluZywgb25EZW1vbGlzaEJ1aWxkaW5nLCBvblRyYWluVW5pdHMsIG9uVHJhaW5WaWxsYWdlcnMsIHJlc291cmNlcywgcG9wdWxhdGlvbiwgdW5pdExpc3QsIG9uQWR2YW5jZUFnZSwgYWN0aXZlVGFza3MsIGFuY2hvclJlY3QgfSA9IHByb3BzO1xuICAgIFxuICAgIGNvbnN0IFtpc0Nsb3NpbmcsIHNldElzQ2xvc2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2N1cnJlbnREYXRhLCBzZXRDdXJyZW50RGF0YV0gPSB1c2VTdGF0ZSh7IHBhbmVsU3RhdGUsIGJ1aWxkaW5ncywgYW5jaG9yUmVjdCB9KTtcbiAgICBjb25zdCBbdHJhaW5Db3VudCwgc2V0VHJhaW5Db3VudF0gPSB1c2VTdGF0ZSgxKTtcblxuICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWlzT3BlbikgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHBvcFNwYWNlID0gcG9wdWxhdGlvbi5jYXBhY2l0eSAtIHBvcHVsYXRpb24uY3VycmVudDtcbiAgICAgICAgY29uc3QgY3VycmVudENvdW50ID0gdHJhaW5Db3VudDtcblxuICAgICAgICBpZiAoY3VycmVudENvdW50ID4gcG9wU3BhY2UpIHtcbiAgICAgICAgICAgICBzZXRUcmFpbkNvdW50KE1hdGgubWF4KDAsIHBvcFNwYWNlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudENvdW50ID09PSAwICYmIHBvcFNwYWNlID4gMCkge1xuICAgICAgICAgICAgIHNldFRyYWluQ291bnQoMSk7XG4gICAgICAgIH0gZWxzZSBpZiAocG9wU3BhY2UgPT09IDApIHtcbiAgICAgICAgICAgIHNldFRyYWluQ291bnQoMCk7XG4gICAgICAgIH1cblxuICAgIH0sIFtpc09wZW4sIHBhbmVsU3RhdGUudHlwZSwgcG9wdWxhdGlvbi5jYXBhY2l0eSwgcG9wdWxhdGlvbi5jdXJyZW50LCB0cmFpbkNvdW50XSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNPcGVuIHx8IGlzQ2xvc2luZykge1xuICAgICAgICAgICAgc2V0Q3VycmVudERhdGEoeyBwYW5lbFN0YXRlLCBidWlsZGluZ3MsIGFuY2hvclJlY3QgfSk7XG4gICAgICAgIH1cbiAgICB9LCBbcGFuZWxTdGF0ZSwgYnVpbGRpbmdzLCBhbmNob3JSZWN0LCBpc09wZW4sIGlzQ2xvc2luZ10pO1xuXG4gICAgY29uc3QgaGFuZGxlQ2xvc2UgPSAoKSA9PiB7XG4gICAgICAgIHNldElzQ2xvc2luZyh0cnVlKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IG9uQ2xvc2UoKTsgc2V0SXNDbG9zaW5nKGZhbHNlKTsgfSwgMzAwKTtcbiAgICB9O1xuXG4gICAgaWYgKCFpc09wZW4gJiYgIWlzQ2xvc2luZykgcmV0dXJuIG51bGw7XG5cbiAgICBjb25zdCB7IHBhbmVsU3RhdGU6IGN1cnJlbnRQYW5lbFN0YXRlLCBidWlsZGluZ3M6IGN1cnJlbnRCdWlsZGluZ3MsIGFuY2hvclJlY3Q6IGN1cnJlbnRBbmNob3IgfSA9IGN1cnJlbnREYXRhO1xuICAgIGNvbnN0IHsgdHlwZSB9ID0gY3VycmVudFBhbmVsU3RhdGU7XG5cbiAgICBpZiAoIXR5cGUgfHwgIWN1cnJlbnRBbmNob3IpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgYnVpbGRpbmdJbmZvID0gYnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSB0eXBlKTtcbiAgICBjb25zdCBidWlsZGluZ0luc3RhbmNlcyA9IGN1cnJlbnRCdWlsZGluZ3NbdHlwZV07XG4gICAgY29uc3QgdW5pdFRvVHJhaW4gPSB1bml0TGlzdC5maW5kKHUgPT4gdS5yZXF1aXJlZEJ1aWxkaW5nID09PSB0eXBlKTtcbiAgICBcbiAgICBjb25zdCBhY3RpdmVUcmFpblRhc2sgPSB1bml0VG9UcmFpbiA/IGFjdGl2ZVRhc2tzLmZpbmQodCA9PiB0LnR5cGUgPT09ICd0cmFpbl9taWxpdGFyeScgJiYgdC5wYXlsb2FkPy51bml0VHlwZSA9PT0gdW5pdFRvVHJhaW4/LmlkKSA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBhY3RpdmVWaWxsYWdlclRhc2sgPSBhY3RpdmVUYXNrcy5maW5kKHQgPT4gdC50eXBlID09PSAndHJhaW5fdmlsbGFnZXInKTtcbiAgICBjb25zdCBhY3RpdmVBZ2VUYXNrID0gYWN0aXZlVGFza3MuZmluZCh0ID0+IHQudHlwZSA9PT0gJ2FkdmFuY2VfYWdlJyk7XG5cbiAgICBjb25zdCBwb3BTcGFjZSA9IHBvcHVsYXRpb24uY2FwYWNpdHkgLSBwb3B1bGF0aW9uLmN1cnJlbnQ7XG4gICAgY29uc3QgaGFzUG9wQ2FwYWNpdHkgPSBwb3BTcGFjZSA+PSB0cmFpbkNvdW50O1xuXG4gICAgY29uc3QgdG90YWxVbml0Q29zdCA9IHVuaXRUb1RyYWluID8gT2JqZWN0LmVudHJpZXModW5pdFRvVHJhaW4uY29zdCkucmVkdWNlKChhY2MsIFtyZXMsIHZhbF0pID0+ICh7IC4uLmFjYywgW3Jlc106ICh2YWwgfHwgMCkgKiB0cmFpbkNvdW50IH0pLCB7fSBhcyBhbnkpIDoge307XG4gICAgY29uc3QgY2FuQWZmb3JkVW5pdCA9IHVuaXRUb1RyYWluID8gT2JqZWN0LmVudHJpZXModG90YWxVbml0Q29zdCkuZXZlcnkoKFtyZXMsIGNvc3RdKSA9PiByZXNvdXJjZXNbcmVzIGFzIGtleW9mIFJlc291cmNlc10gPj0gKGNvc3QgYXMgbnVtYmVyKSkgOiBmYWxzZTtcbiAgICBjb25zdCBjYW5UcmFpblVuaXQgPSB1bml0VG9UcmFpbiAmJiBjYW5BZmZvcmRVbml0ICYmIGhhc1BvcENhcGFjaXR5ICYmICFhY3RpdmVUcmFpblRhc2s7XG5cbiAgICBjb25zdCB0b3RhbFZpbGxhZ2VyQ29zdCA9IHsgZm9vZDogNTAgKiB0cmFpbkNvdW50IH07XG4gICAgY29uc3QgY2FuQWZmb3JkVmlsbGFnZXJzID0gcmVzb3VyY2VzLmZvb2QgPj0gdG90YWxWaWxsYWdlckNvc3QuZm9vZDtcbiAgICBjb25zdCBjYW5UcmFpblZpbGxhZ2VycyA9IGNhbkFmZm9yZFZpbGxhZ2VycyAmJiBoYXNQb3BDYXBhY2l0eSAmJiAhYWN0aXZlVmlsbGFnZXJUYXNrO1xuXG4gICAgY29uc3QgcGFuZWxTdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHsgdG9wOiBgJHtjdXJyZW50QW5jaG9yLmJvdHRvbSArIDh9cHhgLCBsZWZ0OiBgJHtjdXJyZW50QW5jaG9yLmxlZnR9cHhgLCB0cmFuc2Zvcm1PcmlnaW46ICd0b3AgbGVmdCcgfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzO1xuXG4gICAgLy8gLS0tIFRvb2x0aXAgVGV4dCBHZW5lcmF0aW9uIC0tLVxuICAgIGNvbnN0IGdldFRyYWluVW5pdFRvb2x0aXAgPSAoKSA9PiB7XG4gICAgICAgIGlmICghdW5pdFRvVHJhaW4pIHJldHVybiAnJztcbiAgICAgICAgaWYgKGFjdGl2ZVRyYWluVGFzaykgcmV0dXJuICdUcmFpbmluZyBpbiBwcm9ncmVzcy4uLic7XG4gICAgICAgIGlmICghaGFzUG9wQ2FwYWNpdHkpIHJldHVybiBgTmVlZCAke3RyYWluQ291bnQgLSBwb3BTcGFjZX0gbW9yZSBob3VzaW5nLmA7XG4gICAgICAgIGlmICghY2FuQWZmb3JkVW5pdCkgcmV0dXJuICdJbnN1ZmZpY2llbnQgUmVzb3VyY2VzLic7XG4gICAgICAgIHJldHVybiBgVHJhaW4gJHt0cmFpbkNvdW50fSAke3VuaXRUb1RyYWluLm5hbWV9KHMpYDtcbiAgICB9O1xuXG4gICAgY29uc3QgZ2V0VHJhaW5WaWxsYWdlclRvb2x0aXAgPSAoKSA9PiB7XG4gICAgICAgIGlmIChhY3RpdmVWaWxsYWdlclRhc2spIHJldHVybiAnVHJhaW5pbmcgaW4gcHJvZ3Jlc3MuLi4nO1xuICAgICAgICBpZiAoIWhhc1BvcENhcGFjaXR5KSByZXR1cm4gYE5lZWQgJHt0cmFpbkNvdW50IC0gcG9wU3BhY2V9IG1vcmUgaG91c2luZy5gO1xuICAgICAgICBpZiAoIWNhbkFmZm9yZFZpbGxhZ2VycykgcmV0dXJuICdJbnN1ZmZpY2llbnQgRm9vZC4nO1xuICAgICAgICByZXR1cm4gYFRyYWluICR7dHJhaW5Db3VudH0gVmlsbGFnZXIocylgO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgZ2V0QWR2YW5jZUFnZVRvb2x0aXAgPSAoKSA9PiB7XG4gICAgICAgIGlmIChhY3RpdmVBZ2VUYXNrKSByZXR1cm4gJ0FkdmFuY2VtZW50IGluIHByb2dyZXNzLic7XG4gICAgICAgIGlmIChyZXNvdXJjZXMuZm9vZCA8IDUwMCB8fCByZXNvdXJjZXMuZ29sZCA8IDIwMCkgcmV0dXJuICdJbnN1ZmZpY2llbnQgcmVzb3VyY2VzIHRvIGFkdmFuY2UuJztcbiAgICAgICAgcmV0dXJuICdBZHZhbmNlIHRvIHRoZSBuZXh0IGFnZSAoNjBzKSc7XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgc3R5bGU9e3BhbmVsU3R5bGV9IGNsYXNzTmFtZT17YGZpeGVkIHotNDAgdy05NiB0cmFuc2Zvcm0gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGVhc2UtaW4tb3V0ICR7aXNPcGVuICYmICFpc0Nsb3NpbmcgPyAnb3BhY2l0eS0xMDAgc2NhbGUtMTAwJyA6ICdvcGFjaXR5LTAgc2NhbGUtOTUnfWB9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzY2ktZmktcGFuZWwtcG9wdXAgc2NpLWZpLWdyaWQgcC00XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItNFwiPlxuICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1zZXJpZlwiPntidWlsZGluZ0luZm8/Lm5hbWV9eyFidWlsZGluZ0luZm8/LmlzVW5pcXVlID8gJ3MnIDogJyd9PC9oMj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVDbG9zZX0gY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHNjaS1maS1jbG9zZS1idXR0b25cIj4mdGltZXM7PC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMiBtYXgtaC00OCBvdmVyZmxvdy15LWF1dG8gcHItMlwiPlxuICAgICAgICAgICAgICAgICAgICB7YnVpbGRpbmdJbnN0YW5jZXMubGVuZ3RoID4gMCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nSW5zdGFuY2VzLm1hcChpbnN0YW5jZSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1aWxkaW5nUm93IGtleT17aW5zdGFuY2UuaWR9IGJ1aWxkaW5nPXtpbnN0YW5jZX0gdHlwZT17dHlwZX0gb25VcGRhdGU9e29uVXBkYXRlQnVpbGRpbmd9IG9uRGVtb2xpc2g9e29uRGVtb2xpc2hCdWlsZGluZ30gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgICkgOiAoIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtcGFyY2htZW50LWRhcmsgcHktNFwiPllvdSBoYXZlIG5vIHtidWlsZGluZ0luZm8/Lm5hbWU/LnRvTG93ZXJDYXNlKCl9cy48L3A+ICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7KHR5cGUgPT09ICd0b3duQ2VudGVyJyB8fCB1bml0VG9UcmFpbikgJiYgPGhyIGNsYXNzTmFtZT1cImJvcmRlci1zdG9uZS1saWdodC8yMCBteS0zXCIgLz59XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAge3R5cGUgPT09ICd0b3duQ2VudGVyJyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YWN0aXZlVmlsbGFnZXJUYXNrID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtMTQgZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXJcIj48cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcGFyY2htZW50LWRhcmsgbWItMlwiPlRyYWluaW5nIHthY3RpdmVWaWxsYWdlclRhc2sucGF5bG9hZD8uY291bnR9IFZpbGxhZ2VyKHMpLi4uPC9wPjxQcm9ncmVzc0JhciBzdGFydFRpbWU9e2FjdGl2ZVZpbGxhZ2VyVGFzay5zdGFydFRpbWV9IGR1cmF0aW9uPXthY3RpdmVWaWxsYWdlclRhc2suZHVyYXRpb259IGNsYXNzTmFtZT1cInctZnVsbCBoLTJcIi8+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzY2ktZmktdW5pdC1yb3cgIXAtMiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC04IHAtMSBiZy1ibGFjay8zMCByb3VuZGVkLW1kIHRleHQtYnJhbmQtYmx1ZVwiPjxWaWxsYWdlckljb24vPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LWdyb3dcIj48Q29zdERpc3BsYXkgY29zdD17dG90YWxWaWxsYWdlckNvc3R9IHJlc291cmNlcz17cmVzb3VyY2VzfSAvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYW5nZVwiIG1pbj1cIjFcIiBtYXg9e01hdGgubWF4KDEsIHBvcFNwYWNlKX0gdmFsdWU9e3RyYWluQ291bnR9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0VHJhaW5Db3VudChNYXRoLm1pbihOdW1iZXIoZS50YXJnZXQudmFsdWUpLCBwb3BTcGFjZSkpfSBjbGFzc05hbWU9XCJzY2ktZmktc2xpZGVyIHctMjRcIiBkaXNhYmxlZD17cG9wU3BhY2UgPD0gMH0vPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtYmFzZSB3LTggdGV4dC1jZW50ZXIgYmctYmxhY2svMjAgcC0xIHJvdW5kZWQtbWRcIj57cG9wU3BhY2UgPiAwID8gdHJhaW5Db3VudCA6IDB9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gb25UcmFpblZpbGxhZ2Vycyh0cmFpbkNvdW50KX0gZGlzYWJsZWQ9eyFjYW5UcmFpblZpbGxhZ2Vyc30gY2xhc3NOYW1lPVwic2NpLWZpLWFjdGlvbi1idXR0b25cIj48ZGl2IGNsYXNzTmFtZT1cInctNiBoLTZcIj48VmlsbGFnZXJJY29uLz48L2Rpdj48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIHJpZ2h0LTAgbWItMiB3LW1heCBweC0yIHB5LTEgYmctc3RvbmUtZGFyayB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IHBvaW50ZXItZXZlbnRzLW5vbmUgei0xMFwiPntnZXRUcmFpblZpbGxhZ2VyVG9vbHRpcCgpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHthY3RpdmVBZ2VUYXNrID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtMTIgbXQtMiBmbGV4IGZsZXgtY29sIGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlclwiPjxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1wYXJjaG1lbnQtZGFyayBtYi0yXCI+QWR2YW5jaW5nIHRvIHRoZSBuZXh0IGFnZS4uLjwvcD48UHJvZ3Jlc3NCYXIgc3RhcnRUaW1lPXthY3RpdmVBZ2VUYXNrLnN0YXJ0VGltZX0gZHVyYXRpb249e2FjdGl2ZUFnZVRhc2suZHVyYXRpb259IGNsYXNzTmFtZT1cInctZnVsbCBoLTJcIi8+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzY2ktZmktdW5pdC1yb3cgIXAtMiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBtdC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOCBoLTggcC0xIGJnLWJsYWNrLzMwIHJvdW5kZWQtbWQgdGV4dC1icmFuZC1nb2xkXCI+PEFnZUljb24vPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LWdyb3dcIj48Q29zdERpc3BsYXkgY29zdD17eyBmb29kOiA1MDAsIGdvbGQ6IDIwMCB9fSByZXNvdXJjZXM9e3Jlc291cmNlc30gLz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvbkFkdmFuY2VBZ2V9IGRpc2FibGVkPXshIWFjdGl2ZUFnZVRhc2sgfHwgcmVzb3VyY2VzLmZvb2QgPCA1MDAgfHwgcmVzb3VyY2VzLmdvbGQgPCAyMDB9IGNsYXNzTmFtZT1cInNjaS1maS1hY3Rpb24tYnV0dG9uXCI+PGRpdiBjbGFzc05hbWU9XCJ3LTYgaC02XCI+PEFnZUljb24gLz48L2Rpdj48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIHJpZ2h0LTAgbWItMiB3LW1heCBweC0yIHB5LTEgYmctc3RvbmUtZGFyayB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IHBvaW50ZXItZXZlbnRzLW5vbmUgei0xMFwiPntnZXRBZHZhbmNlQWdlVG9vbHRpcCgpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAge3VuaXRUb1RyYWluICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2FjdGl2ZVRyYWluVGFzayA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTE2IGZsZXggZmxleC1jb2wganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyXCI+PHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXBhcmNobWVudC1kYXJrIG1iLTJcIj5UcmFpbmluZyB7YWN0aXZlVHJhaW5UYXNrLnBheWxvYWQ/LmNvdW50fSB7dW5pdFRvVHJhaW4ubmFtZX0ocykuLi48L3A+PFByb2dyZXNzQmFyIHN0YXJ0VGltZT17YWN0aXZlVHJhaW5UYXNrLnN0YXJ0VGltZX0gZHVyYXRpb249e2FjdGl2ZVRyYWluVGFzay5kdXJhdGlvbn0gY2xhc3NOYW1lPVwidy1mdWxsIGgtMlwiLz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzY2ktZmktdW5pdC1yb3cgIXAtMiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC04IHAtMSBiZy1ibGFjay8zMCByb3VuZGVkLW1kIHRleHQtYnJhbmQtcmVkXCI+e2ljb25NYXBbdW5pdFRvVHJhaW4uaWRdfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1ncm93XCI+PENvc3REaXNwbGF5IGNvc3Q9e3RvdGFsVW5pdENvc3R9IHJlc291cmNlcz17cmVzb3VyY2VzfSAvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBtaW49XCIxXCIgbWF4PXtNYXRoLm1heCgxLCBwb3BTcGFjZSl9IHZhbHVlPXt0cmFpbkNvdW50fSBvbkNoYW5nZT17KGUpID0+IHNldFRyYWluQ291bnQoTWF0aC5taW4oTnVtYmVyKGUudGFyZ2V0LnZhbHVlKSwgcG9wU3BhY2UpKX0gY2xhc3NOYW1lPVwic2NpLWZpLXNsaWRlciB3LTI0XCIgZGlzYWJsZWQ9e3BvcFNwYWNlIDw9IDB9Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1iYXNlIHctOCB0ZXh0LWNlbnRlciBiZy1ibGFjay8yMCBwLTEgcm91bmRlZC1tZFwiPntwb3BTcGFjZSA+IDAgPyB0cmFpbkNvdW50IDogMH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IG9uVHJhaW5Vbml0cyh1bml0VG9UcmFpbi5pZCwgdHJhaW5Db3VudCl9IGRpc2FibGVkPXshY2FuVHJhaW5Vbml0fSBjbGFzc05hbWU9XCJzY2ktZmktYWN0aW9uLWJ1dHRvblwiPjxkaXYgY2xhc3NOYW1lPVwidy02IGgtNlwiPntpY29uTWFwW3VuaXRUb1RyYWluLmlkXX08L2Rpdj48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tZnVsbCByaWdodC0wIG1iLTIgdy1tYXggcHgtMiBweS0xIGJnLXN0b25lLWRhcmsgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBwb2ludGVyLWV2ZW50cy1ub25lIHotMTBcIj57Z2V0VHJhaW5Vbml0VG9vbHRpcCgpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJGb29kSWNvbiIsIkdvbGRJY29uIiwiU3RvbmVJY29uIiwiV29vZEljb24iLCJBZ2VJY29uIiwiVmlsbGFnZXJJY29uIiwiUHJvZ3Jlc3NCYXIiLCJpY29uTWFwIiwiVHJhc2gyIiwiQnVpbGRpbmdSb3ciLCJidWlsZGluZyIsInR5cGUiLCJvblVwZGF0ZSIsIm9uRGVtb2xpc2giLCJpc0VkaXRpbmciLCJzZXRJc0VkaXRpbmciLCJuYW1lIiwic2V0TmFtZSIsImlucHV0UmVmIiwiY3VycmVudCIsImZvY3VzIiwic2VsZWN0IiwiaGFuZGxlU2F2ZSIsInRyaW0iLCJpZCIsImhhbmRsZUtleURvd24iLCJlIiwia2V5IiwiZGl2IiwiY2xhc3NOYW1lIiwiaW5wdXQiLCJyZWYiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwidGFyZ2V0Iiwib25CbHVyIiwib25LZXlEb3duIiwib25Eb3VibGVDbGljayIsInRpdGxlIiwicCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJhcmlhLWxhYmVsIiwiQ29zdERpc3BsYXkiLCJjb3N0IiwicmVzb3VyY2VzIiwiT2JqZWN0IiwiZW50cmllcyIsIm1hcCIsInJlc291cmNlIiwiYW1vdW50IiwiaGFzRW5vdWdoIiwiSWNvbiIsImZvb2QiLCJ3b29kIiwiZ29sZCIsInN0b25lIiwic3BhbiIsIkJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsIiwicHJvcHMiLCJidWlsZGluZ0luZm8iLCJhY3RpdmVWaWxsYWdlclRhc2siLCJhY3RpdmVUcmFpblRhc2siLCJpc09wZW4iLCJvbkNsb3NlIiwicGFuZWxTdGF0ZSIsImJ1aWxkaW5ncyIsImJ1aWxkaW5nTGlzdCIsIm9uVXBkYXRlQnVpbGRpbmciLCJvbkRlbW9saXNoQnVpbGRpbmciLCJvblRyYWluVW5pdHMiLCJvblRyYWluVmlsbGFnZXJzIiwicG9wdWxhdGlvbiIsInVuaXRMaXN0Iiwib25BZHZhbmNlQWdlIiwiYWN0aXZlVGFza3MiLCJhbmNob3JSZWN0IiwiaXNDbG9zaW5nIiwic2V0SXNDbG9zaW5nIiwiY3VycmVudERhdGEiLCJzZXRDdXJyZW50RGF0YSIsInRyYWluQ291bnQiLCJzZXRUcmFpbkNvdW50IiwicG9wU3BhY2UiLCJjYXBhY2l0eSIsImN1cnJlbnRDb3VudCIsIk1hdGgiLCJtYXgiLCJoYW5kbGVDbG9zZSIsInNldFRpbWVvdXQiLCJjdXJyZW50UGFuZWxTdGF0ZSIsImN1cnJlbnRCdWlsZGluZ3MiLCJjdXJyZW50QW5jaG9yIiwiZmluZCIsImIiLCJidWlsZGluZ0luc3RhbmNlcyIsInVuaXRUb1RyYWluIiwidSIsInJlcXVpcmVkQnVpbGRpbmciLCJ0IiwicGF5bG9hZCIsInVuaXRUeXBlIiwidW5kZWZpbmVkIiwiYWN0aXZlQWdlVGFzayIsImhhc1BvcENhcGFjaXR5IiwidG90YWxVbml0Q29zdCIsInJlZHVjZSIsImFjYyIsInJlcyIsInZhbCIsImNhbkFmZm9yZFVuaXQiLCJldmVyeSIsImNhblRyYWluVW5pdCIsInRvdGFsVmlsbGFnZXJDb3N0IiwiY2FuQWZmb3JkVmlsbGFnZXJzIiwiY2FuVHJhaW5WaWxsYWdlcnMiLCJwYW5lbFN0eWxlIiwidG9wIiwiYm90dG9tIiwibGVmdCIsInRyYW5zZm9ybU9yaWdpbiIsImdldFRyYWluVW5pdFRvb2x0aXAiLCJnZXRUcmFpblZpbGxhZ2VyVG9vbHRpcCIsImdldEFkdmFuY2VBZ2VUb29sdGlwIiwic3R5bGUiLCJoMiIsImlzVW5pcXVlIiwibGVuZ3RoIiwiaW5zdGFuY2UiLCJ0b0xvd2VyQ2FzZSIsImhyIiwiY291bnQiLCJzdGFydFRpbWUiLCJkdXJhdGlvbiIsIm1pbiIsIk51bWJlciIsImRpc2FibGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/BuildingManagementPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/CivilizationPanel.tsx":
/*!******************************************!*\
  !*** ./components/CivilizationPanel.tsx ***!
  \******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\nvar _s = $RefreshSig$();\n\nconst CivilizationPanel = (param)=>{\n    let { isOpen, onClose, civilization, anchorRect } = param;\n    _s();\n    const [isClosing, setIsClosing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentData, setCurrentData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        civilization,\n        anchorRect\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen || isClosing) {\n            setCurrentData({\n                civilization,\n                anchorRect\n            });\n        }\n    }, [\n        civilization,\n        anchorRect,\n        isOpen,\n        isClosing\n    ]);\n    const handleClose = ()=>{\n        setIsClosing(true);\n        setTimeout(()=>{\n            onClose();\n            setIsClosing(false);\n        }, 300);\n    };\n    if (!isOpen && !isClosing || !currentData.civilization || !currentData.anchorRect) return null;\n    const { civilization: currentCiv, anchorRect: currentAnchor } = currentData;\n    const panelStyle = {\n        top: \"\".concat(currentAnchor.bottom + 8, \"px\"),\n        left: \"\".concat(currentAnchor.left, \"px\"),\n        transformOrigin: \"top left\"\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: panelStyle,\n        className: \"fixed z-40 w-96 transform transition-all duration-300 ease-in-out \".concat(isOpen && !isClosing ? \"opacity-100 scale-100\" : \"opacity-0 scale-95\"),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"sci-fi-panel-popup sci-fi-grid p-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-serif\",\n                            children: currentCiv.name\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                            lineNumber: 46,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleClose,\n                            className: \"text-3xl font-bold sci-fi-close-button\",\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                            lineNumber: 47,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                    lineNumber: 45,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex gap-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-1/3 flex-shrink-0\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: currentCiv.bannerUrl,\n                                alt: \"\".concat(currentCiv.name, \" banner\"),\n                                className: \"w-full h-auto rounded-md object-cover border-2 border-brand-gold shadow-lg\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                                lineNumber: 52,\n                                columnNumber: 25\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                            lineNumber: 51,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-2/3 text-sm text-parchment-dark space-y-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: currentCiv.lore\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                                    lineNumber: 55,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                                    className: \"border-stone-light/20\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                                    lineNumber: 56,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                            children: \"Bonus:\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                                            lineNumber: 57,\n                                            columnNumber: 28\n                                        }, undefined),\n                                        \" \",\n                                        currentCiv.bonus\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                                    lineNumber: 57,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                            children: \"Unique Unit:\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                                            lineNumber: 58,\n                                            columnNumber: 28\n                                        }, undefined),\n                                        \" \",\n                                        currentCiv.uniqueUnit.name,\n                                        \" - \",\n                                        currentCiv.uniqueUnit.description\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                                    lineNumber: 58,\n                                    columnNumber: 25\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                            lineNumber: 54,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                    lineNumber: 50,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n            lineNumber: 44,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n        lineNumber: 40,\n        columnNumber: 9\n    }, undefined);\n};\n_s(CivilizationPanel, \"ExDy3lGS2vrGcYFVraivYnyc+IQ=\");\n_c = CivilizationPanel;\n/* harmony default export */ __webpack_exports__[\"default\"] = (CivilizationPanel);\nvar _c;\n$RefreshReg$(_c, \"CivilizationPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvQ2l2aWxpemF0aW9uUGFuZWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7OztBQUFtRDtBQVVuRCxNQUFNRyxvQkFBc0Q7UUFBQyxFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsWUFBWSxFQUFFQyxVQUFVLEVBQUU7O0lBQ3RHLE1BQU0sQ0FBQ0MsV0FBV0MsYUFBYSxHQUFHUiwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNTLGFBQWFDLGVBQWUsR0FBR1YsK0NBQVFBLENBQUM7UUFBRUs7UUFBY0M7SUFBVztJQUUxRUwsZ0RBQVNBLENBQUM7UUFDTixJQUFJRSxVQUFVSSxXQUFXO1lBQ3JCRyxlQUFlO2dCQUFFTDtnQkFBY0M7WUFBVztRQUM5QztJQUNKLEdBQUc7UUFBQ0Q7UUFBY0M7UUFBWUg7UUFBUUk7S0FBVTtJQUVoRCxNQUFNSSxjQUFjO1FBQ2hCSCxhQUFhO1FBQ2JJLFdBQVc7WUFDUFI7WUFDQUksYUFBYTtRQUNqQixHQUFHO0lBQ1A7SUFFQSxJQUFJLENBQUVMLFVBQVUsQ0FBQ0ksYUFBYyxDQUFDRSxZQUFZSixZQUFZLElBQUksQ0FBQ0ksWUFBWUgsVUFBVSxFQUFFLE9BQU87SUFFNUYsTUFBTSxFQUFFRCxjQUFjUSxVQUFVLEVBQUVQLFlBQVlRLGFBQWEsRUFBRSxHQUFHTDtJQUVoRSxNQUFNTSxhQUFrQztRQUNwQ0MsS0FBSyxHQUE0QixPQUF6QkYsY0FBY0csTUFBTSxHQUFHLEdBQUU7UUFDakNDLE1BQU0sR0FBc0IsT0FBbkJKLGNBQWNJLElBQUksRUFBQztRQUM1QkMsaUJBQWlCO0lBQ3JCO0lBRUEscUJBQ0ksOERBQUNDO1FBQ0dDLE9BQU9OO1FBQ1BPLFdBQVcscUVBQTJJLE9BQXRFbkIsVUFBVSxDQUFDSSxZQUFZLDBCQUEwQjtrQkFFakksNEVBQUNhO1lBQUlFLFdBQVU7OzhCQUNYLDhEQUFDRjtvQkFBSUUsV0FBVTs7c0NBQ1gsOERBQUNDOzRCQUFHRCxXQUFVO3NDQUF1QlQsV0FBV1csSUFBSTs7Ozs7O3NDQUNwRCw4REFBQ0M7NEJBQU9DLFNBQVNmOzRCQUFhVyxXQUFVO3NDQUF5Qzs7Ozs7Ozs7Ozs7OzhCQUdyRiw4REFBQ0Y7b0JBQUlFLFdBQVU7O3NDQUNYLDhEQUFDRjs0QkFBSUUsV0FBVTtzQ0FDWCw0RUFBQ0s7Z0NBQUlDLEtBQUtmLFdBQVdnQixTQUFTO2dDQUFFQyxLQUFLLEdBQW1CLE9BQWhCakIsV0FBV1csSUFBSSxFQUFDO2dDQUFVRixXQUFVOzs7Ozs7Ozs7OztzQ0FFaEYsOERBQUNGOzRCQUFJRSxXQUFVOzs4Q0FDWCw4REFBQ1M7OENBQUdsQixXQUFXbUIsSUFBSTs7Ozs7OzhDQUNuQiw4REFBQ0M7b0NBQUdYLFdBQVU7Ozs7Ozs4Q0FDZCw4REFBQ1M7O3NEQUFFLDhEQUFDRztzREFBTzs7Ozs7O3dDQUFlO3dDQUFFckIsV0FBV3NCLEtBQUs7Ozs7Ozs7OENBQzVDLDhEQUFDSjs7c0RBQUUsOERBQUNHO3NEQUFPOzs7Ozs7d0NBQXFCO3dDQUFFckIsV0FBV3VCLFVBQVUsQ0FBQ1osSUFBSTt3Q0FBQzt3Q0FBSVgsV0FBV3VCLFVBQVUsQ0FBQ0MsV0FBVzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTTFIO0dBckRNbkM7S0FBQUE7QUF1RE4sK0RBQWVBLGlCQUFpQkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL0NpdmlsaXphdGlvblBhbmVsLnRzeD9hZGIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHR5cGUgeyBDaXZpbGl6YXRpb24gfSBmcm9tICcuLi90eXBlcyc7XG5cbmludGVyZmFjZSBDaXZpbGl6YXRpb25QYW5lbFByb3BzIHtcbiAgICBpc09wZW46IGJvb2xlYW47XG4gICAgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgICBjaXZpbGl6YXRpb246IENpdmlsaXphdGlvbiB8IG51bGw7XG4gICAgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7XG59XG5cbmNvbnN0IENpdmlsaXphdGlvblBhbmVsOiBSZWFjdC5GQzxDaXZpbGl6YXRpb25QYW5lbFByb3BzPiA9ICh7IGlzT3Blbiwgb25DbG9zZSwgY2l2aWxpemF0aW9uLCBhbmNob3JSZWN0IH0pID0+IHtcbiAgICBjb25zdCBbaXNDbG9zaW5nLCBzZXRJc0Nsb3NpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtjdXJyZW50RGF0YSwgc2V0Q3VycmVudERhdGFdID0gdXNlU3RhdGUoeyBjaXZpbGl6YXRpb24sIGFuY2hvclJlY3QgfSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNPcGVuIHx8IGlzQ2xvc2luZykge1xuICAgICAgICAgICAgc2V0Q3VycmVudERhdGEoeyBjaXZpbGl6YXRpb24sIGFuY2hvclJlY3QgfSk7XG4gICAgICAgIH1cbiAgICB9LCBbY2l2aWxpemF0aW9uLCBhbmNob3JSZWN0LCBpc09wZW4sIGlzQ2xvc2luZ10pO1xuXG4gICAgY29uc3QgaGFuZGxlQ2xvc2UgPSAoKSA9PiB7XG4gICAgICAgIHNldElzQ2xvc2luZyh0cnVlKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgICAgICBzZXRJc0Nsb3NpbmcoZmFsc2UpO1xuICAgICAgICB9LCAzMDApO1xuICAgIH07XG5cbiAgICBpZiAoKCFpc09wZW4gJiYgIWlzQ2xvc2luZykgfHwgIWN1cnJlbnREYXRhLmNpdmlsaXphdGlvbiB8fCAhY3VycmVudERhdGEuYW5jaG9yUmVjdCkgcmV0dXJuIG51bGw7XG5cbiAgICBjb25zdCB7IGNpdmlsaXphdGlvbjogY3VycmVudENpdiwgYW5jaG9yUmVjdDogY3VycmVudEFuY2hvciB9ID0gY3VycmVudERhdGE7XG4gICAgXG4gICAgY29uc3QgcGFuZWxTdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHtcbiAgICAgICAgdG9wOiBgJHtjdXJyZW50QW5jaG9yLmJvdHRvbSArIDh9cHhgLFxuICAgICAgICBsZWZ0OiBgJHtjdXJyZW50QW5jaG9yLmxlZnR9cHhgLFxuICAgICAgICB0cmFuc2Zvcm1PcmlnaW46ICd0b3AgbGVmdCcsXG4gICAgfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBcbiAgICAgICAgICAgIHN0eWxlPXtwYW5lbFN0eWxlfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgZml4ZWQgei00MCB3LTk2IHRyYW5zZm9ybSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgZWFzZS1pbi1vdXQgJHtpc09wZW4gJiYgIWlzQ2xvc2luZyA/ICdvcGFjaXR5LTEwMCBzY2FsZS0xMDAnIDogJ29wYWNpdHktMCBzY2FsZS05NSd9YH1cbiAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzY2ktZmktcGFuZWwtcG9wdXAgc2NpLWZpLWdyaWQgcC00XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItNFwiPlxuICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1zZXJpZlwiPntjdXJyZW50Q2l2Lm5hbWV9PC9oMj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVDbG9zZX0gY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHNjaS1maS1jbG9zZS1idXR0b25cIj4mdGltZXM7PC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEvMyBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17Y3VycmVudENpdi5iYW5uZXJVcmx9IGFsdD17YCR7Y3VycmVudENpdi5uYW1lfSBiYW5uZXJgfSBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1hdXRvIHJvdW5kZWQtbWQgb2JqZWN0LWNvdmVyIGJvcmRlci0yIGJvcmRlci1icmFuZC1nb2xkIHNoYWRvdy1sZ1wiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMi8zIHRleHQtc20gdGV4dC1wYXJjaG1lbnQtZGFyayBzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPntjdXJyZW50Q2l2LmxvcmV9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGhyIGNsYXNzTmFtZT1cImJvcmRlci1zdG9uZS1saWdodC8yMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPkJvbnVzOjwvc3Ryb25nPiB7Y3VycmVudENpdi5ib251c308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPlVuaXF1ZSBVbml0Ojwvc3Ryb25nPiB7Y3VycmVudENpdi51bmlxdWVVbml0Lm5hbWV9IC0ge2N1cnJlbnRDaXYudW5pcXVlVW5pdC5kZXNjcmlwdGlvbn08L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDaXZpbGl6YXRpb25QYW5lbDtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiQ2l2aWxpemF0aW9uUGFuZWwiLCJpc09wZW4iLCJvbkNsb3NlIiwiY2l2aWxpemF0aW9uIiwiYW5jaG9yUmVjdCIsImlzQ2xvc2luZyIsInNldElzQ2xvc2luZyIsImN1cnJlbnREYXRhIiwic2V0Q3VycmVudERhdGEiLCJoYW5kbGVDbG9zZSIsInNldFRpbWVvdXQiLCJjdXJyZW50Q2l2IiwiY3VycmVudEFuY2hvciIsInBhbmVsU3R5bGUiLCJ0b3AiLCJib3R0b20iLCJsZWZ0IiwidHJhbnNmb3JtT3JpZ2luIiwiZGl2Iiwic3R5bGUiLCJjbGFzc05hbWUiLCJoMiIsIm5hbWUiLCJidXR0b24iLCJvbkNsaWNrIiwiaW1nIiwic3JjIiwiYmFubmVyVXJsIiwiYWx0IiwicCIsImxvcmUiLCJociIsInN0cm9uZyIsImJvbnVzIiwidW5pcXVlVW5pdCIsImRlc2NyaXB0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/CivilizationPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/GameUI.tsx":
/*!*******************************!*\
  !*** ./components/GameUI.tsx ***!
  \*******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   iconMap: function() { return /* binding */ iconMap; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./icons/ResourceIcons */ \"(app-pages-browser)/./components/icons/ResourceIcons.tsx\");\n/* harmony import */ var _GameMap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GameMap */ \"(app-pages-browser)/./components/GameMap.tsx\");\n/* harmony import */ var _barrel_optimize_names_ScrollText_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=ScrollText!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/scroll-text.js\");\n\n\n\n\n\nconst ResourceChange = (param)=>{\n    let { change } = param;\n    const isPositive = change > 0;\n    const color = isPositive ? \"text-brand-green\" : \"text-brand-red\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n        className: \"absolute -top-1 right-0 text-lg font-bold opacity-0 animate-fade-up-out \".concat(color),\n        children: [\n            isPositive ? \"+\" : \"\",\n            change\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 44,\n        columnNumber: 9\n    }, undefined);\n};\n_c = ResourceChange;\nconst HeaderStat = (param)=>{\n    let { icon, value, delta, tooltip, colorClass } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative group flex items-center space-x-2 bg-stone-dark/70 px-3 py-1 rounded-md border border-stone-light/30\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-5 h-5 \".concat(colorClass),\n                children: icon\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                lineNumber: 52,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"font-bold text-md text-parchment-light\",\n                children: value\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                lineNumber: 53,\n                columnNumber: 9\n            }, undefined),\n            delta != null && delta !== 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ResourceChange, {\n                change: delta\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                lineNumber: 54,\n                columnNumber: 42\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute bottom-full mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                children: tooltip\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                lineNumber: 55,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 51,\n        columnNumber: 5\n    }, undefined);\n};\n_c1 = HeaderStat;\nconst iconMap = {\n    food: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.FoodIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 62,\n        columnNumber: 11\n    }, undefined),\n    wood: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.WoodIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 62,\n        columnNumber: 31\n    }, undefined),\n    gold: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GoldIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 62,\n        columnNumber: 51\n    }, undefined),\n    stone: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.StoneIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 62,\n        columnNumber: 72\n    }, undefined),\n    villager: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.VillagerIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 63,\n        columnNumber: 15\n    }, undefined),\n    swordsman: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.SwordIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 64,\n        columnNumber: 16\n    }, undefined),\n    archer: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BowIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 65,\n        columnNumber: 13\n    }, undefined),\n    knight: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.KnightIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 66,\n        columnNumber: 13\n    }, undefined),\n    catapult: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.CatapultIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 67,\n        columnNumber: 15\n    }, undefined),\n    houses: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.HouseIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 68,\n        columnNumber: 13\n    }, undefined),\n    barracks: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BarracksIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 68,\n        columnNumber: 38\n    }, undefined),\n    archeryRange: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.ArcheryRangeIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 69,\n        columnNumber: 19\n    }, undefined),\n    stable: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.StableIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 69,\n        columnNumber: 49\n    }, undefined),\n    siegeWorkshop: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.SiegeWorkshopIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 70,\n        columnNumber: 20\n    }, undefined),\n    blacksmith: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BlacksmithIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 70,\n        columnNumber: 55\n    }, undefined),\n    watchTower: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.WatchTowerIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 71,\n        columnNumber: 17\n    }, undefined),\n    townCenter: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.TownCenterIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 71,\n        columnNumber: 48\n    }, undefined),\n    age: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.AgeIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 72,\n        columnNumber: 10\n    }, undefined),\n    event: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.EventIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 72,\n        columnNumber: 30\n    }, undefined),\n    system: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.SystemIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 72,\n        columnNumber: 53\n    }, undefined)\n};\nconst LogIcon = (param)=>{\n    let { icon } = param;\n    const foundIcon = iconMap[icon];\n    if (!foundIcon) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"w-4 h-4 mr-2 mt-0.5 flex-shrink-0\",\n        children: foundIcon\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 78,\n        columnNumber: 12\n    }, undefined);\n};\n_c2 = LogIcon;\nconst GameUI = (props)=>{\n    const { civilization, resources, units, buildings, population, currentAge, gameLog, currentEvent, onEventChoice, resourceDeltas, activityStatus, unitList, buildingList, onOpenUnitPanel, onOpenBuildingPanel, onOpenAllBuildingsPanel, playerAction, onConfirmPlacement, onCancelPlayerAction, onBuildingClick, mapDimensions, constructingBuildings, activeTasks, onExitGame, onOpenCivPanel, resourceNodes, onOpenAssignmentPanel, onOpenConstructionPanel, gatherInfo } = props;\n    const buildingCounts = Object.keys(buildings).reduce((acc, key)=>{\n        const buildingType = key;\n        acc[buildingType] = buildings[buildingType].length;\n        return acc;\n    }, {});\n    const militaryUnitCounts = units.military.reduce((acc, unit)=>{\n        acc[unit.unitType] = (acc[unit.unitType] || 0) + 1;\n        return acc;\n    }, {});\n    const busyVillagerCount = new Set(activeTasks.flatMap((t)=>{\n        var _t_payload;\n        return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.villagerIds) || [];\n    })).size;\n    const totalBuildingsCount = Object.values(buildingCounts).reduce((a, b)=>a + b, 0);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"w-full h-full bg-stone-dark p-4 rounded-lg shadow-2xl border-2 border-stone-light flex flex-col space-y-4\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"flex justify-between items-center bg-black/20 p-2 rounded-lg\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2 text-brand-gold\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative group\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: (e)=>onOpenCivPanel(e.currentTarget.getBoundingClientRect()),\n                                className: \"flex items-center gap-2 text-brand-gold hover:text-yellow-400 transition-colors\",\n                                \"aria-label\": \"View Civilization Details\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-8 h-8\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.AgeIcon, {}, void 0, false, {\n                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                            lineNumber: 111,\n                                            columnNumber: 54\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                        lineNumber: 111,\n                                        columnNumber: 29\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"text-2xl font-serif text-parchment-light\",\n                                        children: currentAge\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                        lineNumber: 112,\n                                        columnNumber: 29\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-5 h-5 text-parchment-dark/70 ml-1\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ScrollText_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                            lineNumber: 113,\n                                            columnNumber: 82\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                        lineNumber: 113,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                lineNumber: 106,\n                                columnNumber: 26\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                            lineNumber: 105,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                        lineNumber: 104,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(HeaderStat, {\n                        icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.PopulationIcon, {}, void 0, false, {\n                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                            lineNumber: 118,\n                            columnNumber: 35\n                        }, void 0),\n                        value: \"\".concat(population.current, \"/\").concat(population.capacity),\n                        tooltip: \"Population / Capacity\",\n                        colorClass: \"text-brand-blue\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                        lineNumber: 118,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(HeaderStat, {\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.FoodIcon, {}, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 121,\n                                    columnNumber: 39\n                                }, void 0),\n                                value: Math.floor(resources.food),\n                                delta: resourceDeltas.food,\n                                tooltip: \"Food\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                lineNumber: 121,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(HeaderStat, {\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.WoodIcon, {}, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 122,\n                                    columnNumber: 39\n                                }, void 0),\n                                value: Math.floor(resources.wood),\n                                delta: resourceDeltas.wood,\n                                tooltip: \"Wood\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                lineNumber: 122,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(HeaderStat, {\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GoldIcon, {}, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 123,\n                                    columnNumber: 39\n                                }, void 0),\n                                value: Math.floor(resources.gold),\n                                delta: resourceDeltas.gold,\n                                tooltip: \"Gold\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                lineNumber: 123,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(HeaderStat, {\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.StoneIcon, {}, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 124,\n                                    columnNumber: 39\n                                }, void 0),\n                                value: Math.floor(resources.stone),\n                                delta: resourceDeltas.stone,\n                                tooltip: \"Stone\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                lineNumber: 124,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative group pl-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: onExitGame,\n                                        className: \"w-8 h-8 p-1 text-parchment-dark hover:text-brand-red transition-colors duration-200\",\n                                        \"aria-label\": \"Exit to Main Menu\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.ExitIcon, {}, void 0, false, {\n                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                            lineNumber: 132,\n                                            columnNumber: 29\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                        lineNumber: 127,\n                                        columnNumber: 26\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                        children: \"Exit to Menu\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                        lineNumber: 134,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                lineNumber: 126,\n                                columnNumber: 21\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                        lineNumber: 120,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                lineNumber: 103,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-grow grid grid-cols-1 gap-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-stone-dark/30 p-4 rounded-lg border border-stone-light/30 flex flex-col gap-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_GameMap__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                    buildings: buildings,\n                                    constructingBuildings: constructingBuildings,\n                                    activeTasks: activeTasks,\n                                    playerAction: playerAction,\n                                    onConfirmPlacement: onConfirmPlacement,\n                                    onCancelPlayerAction: onCancelPlayerAction,\n                                    onBuildingClick: onBuildingClick,\n                                    mapDimensions: mapDimensions,\n                                    buildingList: buildingList,\n                                    resourceNodes: resourceNodes,\n                                    onOpenAssignmentPanel: onOpenAssignmentPanel,\n                                    onOpenConstructionPanel: onOpenConstructionPanel,\n                                    gatherInfo: gatherInfo\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 146,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute bottom-2 left-1/2 -translate-x-1/2 flex items-center gap-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative group\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: (e)=>onOpenUnitPanel(\"villagers\", e.currentTarget.getBoundingClientRect()),\n                                                    className: \"sci-fi-button flex items-center gap-3 px-4 py-2 !rounded-lg\",\n                                                    \"aria-label\": \"Manage Villagers (\".concat(units.villagers.length, \")\"),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-7 h-7 text-brand-blue\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.VillagerIcon, {}, void 0, false, {\n                                                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                                lineNumber: 169,\n                                                                columnNumber: 78\n                                                            }, undefined)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 169,\n                                                            columnNumber: 37\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-xl font-bold\",\n                                                            children: units.villagers.length\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 170,\n                                                            columnNumber: 37\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 164,\n                                                    columnNumber: 33\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-full mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"font-bold\",\n                                                            children: \"Villagers\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 173,\n                                                            columnNumber: 37\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            children: [\n                                                                \"Idle: \",\n                                                                units.villagers.length - busyVillagerCount\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 174,\n                                                            columnNumber: 37\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            children: [\n                                                                \"Busy: \",\n                                                                busyVillagerCount\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 175,\n                                                            columnNumber: 37\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 172,\n                                                    columnNumber: 33\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                            lineNumber: 163,\n                                            columnNumber: 29\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative group\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: (e)=>onOpenUnitPanel(\"military\", e.currentTarget.getBoundingClientRect()),\n                                                    className: \"sci-fi-button flex items-center gap-3 px-4 py-2 !rounded-lg\",\n                                                    \"aria-label\": \"Manage Military (\".concat(units.military.length, \")\"),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-7 h-7 text-brand-red\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.SwordIcon, {}, void 0, false, {\n                                                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                                lineNumber: 186,\n                                                                columnNumber: 77\n                                                            }, undefined)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 186,\n                                                            columnNumber: 37\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-xl font-bold\",\n                                                            children: units.military.length\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 187,\n                                                            columnNumber: 37\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 181,\n                                                    columnNumber: 33\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-full mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"font-bold\",\n                                                            children: \"Military Forces\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 190,\n                                                            columnNumber: 37\n                                                        }, undefined),\n                                                        Object.keys(militaryUnitCounts).length > 0 ? Object.entries(militaryUnitCounts).map((param)=>{\n                                                            let [type, count] = param;\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"capitalize text-parchment-dark\",\n                                                                children: [\n                                                                    type,\n                                                                    \": \",\n                                                                    count\n                                                                ]\n                                                            }, type, true, {\n                                                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                                lineNumber: 193,\n                                                                columnNumber: 45\n                                                            }, undefined);\n                                                        }) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            children: \"No forces trained.\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 195,\n                                                            columnNumber: 41\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 189,\n                                                    columnNumber: 33\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                            lineNumber: 180,\n                                            columnNumber: 29\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative group\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: (e)=>onOpenAllBuildingsPanel(e.currentTarget.getBoundingClientRect()),\n                                                    className: \"sci-fi-button flex items-center gap-3 px-4 py-2 !rounded-lg\",\n                                                    \"aria-label\": \"View All Buildings (\".concat(totalBuildingsCount, \")\"),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-7 h-7 text-parchment-dark\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.WatchTowerIcon, {}, void 0, false, {\n                                                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                                lineNumber: 206,\n                                                                columnNumber: 82\n                                                            }, undefined)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 206,\n                                                            columnNumber: 37\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-xl font-bold\",\n                                                            children: totalBuildingsCount\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 207,\n                                                            columnNumber: 37\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 201,\n                                                    columnNumber: 33\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-full mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                    children: \"View All Structures\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 209,\n                                                    columnNumber: 33\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                            lineNumber: 200,\n                                            columnNumber: 29\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 161,\n                                    columnNumber: 26\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                            lineNumber: 145,\n                            columnNumber: 22\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-col flex-grow\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-2xl font-serif text-center mb-1\",\n                                    children: \"Chronicles\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 217,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-center text-parchment-dark text-sm italic mb-3 h-5\",\n                                    children: activityStatus\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 218,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-parchment-dark text-stone-dark p-4 rounded-lg shadow-inner min-h-[150px] mb-4 flex flex-col justify-center\",\n                                    children: currentEvent ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"mb-4\",\n                                                children: currentEvent.message\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                lineNumber: 223,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex flex-col sm:flex-row gap-2 justify-center\",\n                                                children: currentEvent.choices.map((choice)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>onEventChoice(choice),\n                                                        className: \"bg-stone-light hover:bg-stone-dark text-parchment-light font-bold py-2 px-4 rounded-md transition duration-200\",\n                                                        children: choice.text\n                                                    }, choice.text, false, {\n                                                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                        lineNumber: 226,\n                                                        columnNumber: 45\n                                                    }, undefined))\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                lineNumber: 224,\n                                                columnNumber: 37\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                        lineNumber: 222,\n                                        columnNumber: 33\n                                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-center text-stone-light\",\n                                        children: \"The air is calm. Your people await your command.\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                        lineNumber: 233,\n                                        columnNumber: 33\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 220,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-grow bg-black/30 p-3 rounded-lg overflow-y-auto h-48\",\n                                    children: gameLog.map((log, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-start text-sm mb-1 \".concat(index === 0 ? \"text-parchment-light\" : \"text-parchment-dark\"),\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(LogIcon, {\n                                                    icon: log.icon\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 240,\n                                                    columnNumber: 37\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: log.message\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 241,\n                                                    columnNumber: 37\n                                                }, undefined)\n                                            ]\n                                        }, log.id, true, {\n                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                            lineNumber: 239,\n                                            columnNumber: 33\n                                        }, undefined))\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 237,\n                                    columnNumber: 25\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                            lineNumber: 216,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                    lineNumber: 144,\n                    columnNumber: 17\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                lineNumber: 142,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 101,\n        columnNumber: 9\n    }, undefined);\n};\n_c3 = GameUI;\n/* harmony default export */ __webpack_exports__[\"default\"] = (GameUI);\nvar _c, _c1, _c2, _c3;\n$RefreshReg$(_c, \"ResourceChange\");\n$RefreshReg$(_c1, \"HeaderStat\");\n$RefreshReg$(_c2, \"LogIcon\");\n$RefreshReg$(_c3, \"GameUI\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvR2FtZVVJLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUMwQjtBQUVzUztBQUNoUztBQUNVO0FBa0MxQyxNQUFNeUIsaUJBQStDO1FBQUMsRUFBRUMsTUFBTSxFQUFFO0lBQzVELE1BQU1DLGFBQWFELFNBQVM7SUFDNUIsTUFBTUUsUUFBUUQsYUFBYSxxQkFBcUI7SUFDaEQscUJBQ0ksOERBQUNFO1FBQUtDLFdBQVcsMkVBQWlGLE9BQU5GOztZQUN2RkQsYUFBYSxNQUFNO1lBQUlEOzs7Ozs7O0FBR3BDO0tBUk1EO0FBVU4sTUFBTU0sYUFBaUk7UUFBQyxFQUFFQyxJQUFJLEVBQUVDLEtBQUssRUFBRUMsS0FBSyxFQUFFQyxPQUFPLEVBQUVDLFVBQVUsRUFBRTt5QkFDL0ssOERBQUNDO1FBQUlQLFdBQVU7OzBCQUNYLDhEQUFDTztnQkFBSVAsV0FBVyxXQUFzQixPQUFYTTswQkFBZUo7Ozs7OzswQkFDMUMsOERBQUNIO2dCQUFLQyxXQUFVOzBCQUEwQ0c7Ozs7OztZQUN6REMsU0FBUyxRQUFRQSxVQUFVLG1CQUFLLDhEQUFDVDtnQkFBZUMsUUFBUVE7Ozs7OzswQkFDekQsOERBQUNHO2dCQUFJUCxXQUFVOzBCQUNWSzs7Ozs7Ozs7Ozs7OztNQU5QSjtBQVdDLE1BQU1PLFVBQWdEO0lBQ3pEQyxvQkFBTSw4REFBQ3RDLDBEQUFRQTs7Ozs7SUFBS3VDLG9CQUFNLDhEQUFDdEMsMERBQVFBOzs7OztJQUFLdUMsb0JBQU0sOERBQUN0QywwREFBUUE7Ozs7O0lBQUt1QyxxQkFBTyw4REFBQ3RDLDJEQUFTQTs7Ozs7SUFDN0V1Qyx3QkFBVSw4REFBQ25DLDhEQUFZQTs7Ozs7SUFDdkJvQyx5QkFBVyw4REFBQ25DLDJEQUFTQTs7Ozs7SUFDckJvQyxzQkFBUSw4REFBQ25DLHlEQUFPQTs7Ozs7SUFDaEJvQyxzQkFBUSw4REFBQ25DLDREQUFVQTs7Ozs7SUFDbkJvQyx3QkFBVSw4REFBQ25DLDhEQUFZQTs7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Q2tHO29DQUFFbEcsV0FBVTs4Q0FBMkQyQzs7Ozs7OzhDQUV4RSw4REFBQ3BDO29DQUFJUCxXQUFVOzhDQUNWd0MsNkJBQ0csOERBQUNqQzs7MERBQ0csOERBQUMyRjtnREFBRWxHLFdBQVU7MERBQVF3QyxhQUFhK0QsT0FBTzs7Ozs7OzBEQUN6Qyw4REFBQ2hHO2dEQUFJUCxXQUFVOzBEQUNWd0MsYUFBYWdFLE9BQU8sQ0FBQ0osR0FBRyxDQUFDSyxDQUFBQSx1QkFDdEIsOERBQUNuQjt3REFBeUJDLFNBQVMsSUFBTTlDLGNBQWNnRTt3REFBU3pHLFdBQVU7a0VBQ3JFeUcsT0FBT0MsSUFBSTt1REFESEQsT0FBT0MsSUFBSTs7Ozs7Ozs7Ozs7Ozs7O2tFQU9wQyw4REFBQ1I7d0NBQUVsRyxXQUFVO2tEQUErQjs7Ozs7Ozs7Ozs7OENBSXBELDhEQUFDTztvQ0FBSVAsV0FBVTs4Q0FDVnVDLFFBQVE2RCxHQUFHLENBQUMsQ0FBQ08sS0FBS0Msc0JBQ2YsOERBQUNyRzs0Q0FBaUJQLFdBQVcsaUNBQThGLE9BQTdENEcsVUFBVSxJQUFJLHlCQUF5Qjs7OERBQ2pHLDhEQUFDL0U7b0RBQVEzQixNQUFNeUcsSUFBSXpHLElBQUk7Ozs7Ozs4REFDdkIsOERBQUNIOzhEQUFNNEcsSUFBSUosT0FBTzs7Ozs7OzsyQ0FGWkksSUFBSUUsRUFBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBV2hEO01BektNOUU7QUEyS04sK0RBQWVBLE1BQU1BLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9HYW1lVUkudHN4PzBmMjUiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHR5cGUgeyBDaXZpbGl6YXRpb24sIFJlc291cmNlcywgVW5pdHMsIEJ1aWxkaW5ncywgR2FtZUV2ZW50LCBHYW1lTG9nRW50cnksIExvZ0ljb25UeXBlLCBSZXNvdXJjZURlbHRhcywgQnVpbGRpbmdUeXBlLCBCdWlsZGluZ0luZm8sIFVuaXRJbmZvLCBNaWxpdGFyeVVuaXRUeXBlLCBCdWlsZGluZ0luc3RhbmNlLCBDb25zdHJ1Y3RpbmdCdWlsZGluZywgR2FtZVRhc2ssIFBsYXllckFjdGlvblN0YXRlLCBSZXNvdXJjZU5vZGUsIFJlc291cmNlTm9kZVR5cGUgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBGb29kSWNvbiwgV29vZEljb24sIEdvbGRJY29uLCBTdG9uZUljb24sIFBvcHVsYXRpb25JY29uLCBCYXJyYWNrc0ljb24sIEhvdXNlSWNvbiwgVmlsbGFnZXJJY29uLCBTd29yZEljb24sIEJvd0ljb24sIEtuaWdodEljb24sIENhdGFwdWx0SWNvbiwgRXZlbnRJY29uLCBTeXN0ZW1JY29uLCBBZ2VJY29uLCBBcmNoZXJ5UmFuZ2VJY29uLCBTdGFibGVJY29uLCBTaWVnZVdvcmtzaG9wSWNvbiwgQmxhY2tzbWl0aEljb24sIFdhdGNoVG93ZXJJY29uLCBFeGl0SWNvbiwgVG93bkNlbnRlckljb24gfSBmcm9tICcuL2ljb25zL1Jlc291cmNlSWNvbnMnO1xuaW1wb3J0IEdhbWVNYXAgZnJvbSAnLi9HYW1lTWFwJztcbmltcG9ydCB7IFNjcm9sbFRleHQgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuXG5pbnRlcmZhY2UgR2FtZVVJUHJvcHMge1xuICAgIGNpdmlsaXphdGlvbjogQ2l2aWxpemF0aW9uO1xuICAgIHJlc291cmNlczogUmVzb3VyY2VzO1xuICAgIHVuaXRzOiBVbml0cztcbiAgICBidWlsZGluZ3M6IEJ1aWxkaW5ncztcbiAgICBwb3B1bGF0aW9uOiB7IGN1cnJlbnQ6IG51bWJlcjsgY2FwYWNpdHk6IG51bWJlciB9O1xuICAgIGN1cnJlbnRBZ2U6IHN0cmluZztcbiAgICBnYW1lTG9nOiBHYW1lTG9nRW50cnlbXTtcbiAgICBjdXJyZW50RXZlbnQ6IEdhbWVFdmVudCB8IG51bGw7XG4gICAgb25FdmVudENob2ljZTogKGNob2ljZTogR2FtZUV2ZW50WydjaG9pY2VzJ11bMF0pID0+IHZvaWQ7XG4gICAgcmVzb3VyY2VEZWx0YXM6IFJlc291cmNlRGVsdGFzO1xuICAgIGFjdGl2aXR5U3RhdHVzOiBzdHJpbmc7XG4gICAgdW5pdExpc3Q6IFVuaXRJbmZvW107XG4gICAgYnVpbGRpbmdMaXN0OiBCdWlsZGluZ0luZm9bXTtcbiAgICBvbk9wZW5Vbml0UGFuZWw6ICh0eXBlOiAndmlsbGFnZXJzJyB8ICdtaWxpdGFyeScsIHJlY3Q6IERPTVJlY3QpID0+IHZvaWQ7XG4gICAgb25PcGVuQnVpbGRpbmdQYW5lbDogKHR5cGU6IEJ1aWxkaW5nVHlwZSwgaW5zdGFuY2VJZDogc3RyaW5nLCByZWN0OiBET01SZWN0KSA9PiB2b2lkO1xuICAgIG9uT3BlbkFsbEJ1aWxkaW5nc1BhbmVsOiAocmVjdDogRE9NUmVjdCkgPT4gdm9pZDtcbiAgICBwbGF5ZXJBY3Rpb246IFBsYXllckFjdGlvblN0YXRlO1xuICAgIG9uQ29uZmlybVBsYWNlbWVudDogKHBvc2l0aW9uOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0pID0+IHZvaWQ7XG4gICAgb25DYW5jZWxQbGF5ZXJBY3Rpb246ICgpID0+IHZvaWQ7XG4gICAgb25CdWlsZGluZ0NsaWNrOiAoYnVpbGRpbmc6IEJ1aWxkaW5nSW5zdGFuY2UsIHJlY3Q6IERPTVJlY3QpID0+IHZvaWQ7XG4gICAgbWFwRGltZW5zaW9uczogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlcjsgfTtcbiAgICBjb25zdHJ1Y3RpbmdCdWlsZGluZ3M6IENvbnN0cnVjdGluZ0J1aWxkaW5nW107XG4gICAgYWN0aXZlVGFza3M6IEdhbWVUYXNrW107XG4gICAgb25FeGl0R2FtZTogKCkgPT4gdm9pZDtcbiAgICBvbk9wZW5DaXZQYW5lbDogKHJlY3Q6IERPTVJlY3QpID0+IHZvaWQ7XG4gICAgcmVzb3VyY2VOb2RlczogUmVzb3VyY2VOb2RlW107XG4gICAgb25PcGVuQXNzaWdubWVudFBhbmVsOiAobm9kZUlkOiBzdHJpbmcsIHJlY3Q6IERPTVJlY3QpID0+IHZvaWQ7XG4gICAgb25PcGVuQ29uc3RydWN0aW9uUGFuZWw6IChjb25zdHJ1Y3Rpb25JZDogc3RyaW5nLCByZWN0OiBET01SZWN0KSA9PiB2b2lkO1xuICAgIGdhdGhlckluZm86IFJlY29yZDxSZXNvdXJjZU5vZGVUeXBlLCB7IHJhdGU6IG51bWJlciB9Pjtcbn1cblxuY29uc3QgUmVzb3VyY2VDaGFuZ2U6IFJlYWN0LkZDPHsgY2hhbmdlOiBudW1iZXIgfT4gPSAoeyBjaGFuZ2UgfSkgPT4ge1xuICAgIGNvbnN0IGlzUG9zaXRpdmUgPSBjaGFuZ2UgPiAwO1xuICAgIGNvbnN0IGNvbG9yID0gaXNQb3NpdGl2ZSA/ICd0ZXh0LWJyYW5kLWdyZWVuJyA6ICd0ZXh0LWJyYW5kLXJlZCc7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgYWJzb2x1dGUgLXRvcC0xIHJpZ2h0LTAgdGV4dC1sZyBmb250LWJvbGQgb3BhY2l0eS0wIGFuaW1hdGUtZmFkZS11cC1vdXQgJHtjb2xvcn1gfT5cbiAgICAgICAgICAgIHtpc1Bvc2l0aXZlID8gJysnIDogJyd9e2NoYW5nZX1cbiAgICAgICAgPC9zcGFuPlxuICAgICk7XG59O1xuXG5jb25zdCBIZWFkZXJTdGF0OiBSZWFjdC5GQzx7IGljb246IFJlYWN0LlJlYWN0Tm9kZTsgdmFsdWU6IHN0cmluZyB8IG51bWJlcjsgZGVsdGE/OiBudW1iZXI7IHRvb2x0aXA6IHN0cmluZzsgY29sb3JDbGFzcz86IHN0cmluZzsgfT4gPSAoeyBpY29uLCB2YWx1ZSwgZGVsdGEsIHRvb2x0aXAsIGNvbG9yQ2xhc3MgfSkgPT4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXAgZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIGJnLXN0b25lLWRhcmsvNzAgcHgtMyBweS0xIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1zdG9uZS1saWdodC8zMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHctNSBoLTUgJHtjb2xvckNsYXNzfWB9PntpY29ufTwvZGl2PlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1tZCB0ZXh0LXBhcmNobWVudC1saWdodFwiPnt2YWx1ZX08L3NwYW4+XG4gICAgICAgIHtkZWx0YSAhPSBudWxsICYmIGRlbHRhICE9PSAwICYmIDxSZXNvdXJjZUNoYW5nZSBjaGFuZ2U9e2RlbHRhfSAvPn1cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tZnVsbCBtYi0yIHctbWF4IHB4LTIgcHktMSBiZy1zdG9uZS1kYXJrIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkIG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLW9wYWNpdHkgcG9pbnRlci1ldmVudHMtbm9uZSB6LTEwXCI+XG4gICAgICAgICAgICB7dG9vbHRpcH1cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4pO1xuXG5leHBvcnQgY29uc3QgaWNvbk1hcDogUmVjb3JkPExvZ0ljb25UeXBlLCBSZWFjdC5SZWFjdE5vZGU+ID0ge1xuICAgIGZvb2Q6IDxGb29kSWNvbiAvPiwgd29vZDogPFdvb2RJY29uIC8+LCBnb2xkOiA8R29sZEljb24gLz4sIHN0b25lOiA8U3RvbmVJY29uIC8+LFxuICAgIHZpbGxhZ2VyOiA8VmlsbGFnZXJJY29uIC8+LCBcbiAgICBzd29yZHNtYW46IDxTd29yZEljb24gLz4sXG4gICAgYXJjaGVyOiA8Qm93SWNvbiAvPixcbiAgICBrbmlnaHQ6IDxLbmlnaHRJY29uIC8+LFxuICAgIGNhdGFwdWx0OiA8Q2F0YXB1bHRJY29uIC8+LFxuICAgIGhvdXNlczogPEhvdXNlSWNvbiAvPiwgYmFycmFja3M6IDxCYXJyYWNrc0ljb24gLz4sIFxuICAgIGFyY2hlcnlSYW5nZTogPEFyY2hlcnlSYW5nZUljb24gLz4sIHN0YWJsZTogPFN0YWJsZUljb24gLz4sXG4gICAgc2llZ2VXb3Jrc2hvcDogPFNpZWdlV29ya3Nob3BJY29uIC8+LCBibGFja3NtaXRoOiA8QmxhY2tzbWl0aEljb24gLz4sXG4gICAgd2F0Y2hUb3dlcjogPFdhdGNoVG93ZXJJY29uLz4sIHRvd25DZW50ZXI6IDxUb3duQ2VudGVySWNvbiAvPixcbiAgICBhZ2U6IDxBZ2VJY29uIC8+LCBldmVudDogPEV2ZW50SWNvbiAvPiwgc3lzdGVtOiA8U3lzdGVtSWNvbiAvPixcbn07XG5cbmNvbnN0IExvZ0ljb246IFJlYWN0LkZDPHtpY29uOiBMb2dJY29uVHlwZX0+ID0gKHtpY29ufSkgPT4ge1xuICAgIGNvbnN0IGZvdW5kSWNvbiA9IGljb25NYXBbaWNvbl07XG4gICAgaWYgKCFmb3VuZEljb24pIHJldHVybiBudWxsO1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInctNCBoLTQgbXItMiBtdC0wLjUgZmxleC1zaHJpbmstMFwiPntmb3VuZEljb259PC9kaXY+O1xufVxuXG5jb25zdCBHYW1lVUk6IFJlYWN0LkZDPEdhbWVVSVByb3BzPiA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgICAgY2l2aWxpemF0aW9uLCByZXNvdXJjZXMsIHVuaXRzLCBidWlsZGluZ3MsIHBvcHVsYXRpb24sIGN1cnJlbnRBZ2UsIGdhbWVMb2csIGN1cnJlbnRFdmVudCwgb25FdmVudENob2ljZSwgcmVzb3VyY2VEZWx0YXMsIGFjdGl2aXR5U3RhdHVzLCB1bml0TGlzdCwgYnVpbGRpbmdMaXN0LCBvbk9wZW5Vbml0UGFuZWwsIG9uT3BlbkJ1aWxkaW5nUGFuZWwsIG9uT3BlbkFsbEJ1aWxkaW5nc1BhbmVsLCBwbGF5ZXJBY3Rpb24sIG9uQ29uZmlybVBsYWNlbWVudCwgb25DYW5jZWxQbGF5ZXJBY3Rpb24sIG9uQnVpbGRpbmdDbGljaywgbWFwRGltZW5zaW9ucywgY29uc3RydWN0aW5nQnVpbGRpbmdzLCBhY3RpdmVUYXNrcywgb25FeGl0R2FtZSwgb25PcGVuQ2l2UGFuZWwsIHJlc291cmNlTm9kZXMsIG9uT3BlbkFzc2lnbm1lbnRQYW5lbCwgb25PcGVuQ29uc3RydWN0aW9uUGFuZWwsIGdhdGhlckluZm9cbiAgICB9ID0gcHJvcHM7XG4gICAgXG4gICAgY29uc3QgYnVpbGRpbmdDb3VudHMgPSBPYmplY3Qua2V5cyhidWlsZGluZ3MpLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcbiAgICAgICAgY29uc3QgYnVpbGRpbmdUeXBlID0ga2V5IGFzIEJ1aWxkaW5nVHlwZTtcbiAgICAgICAgYWNjW2J1aWxkaW5nVHlwZV0gPSBidWlsZGluZ3NbYnVpbGRpbmdUeXBlXS5sZW5ndGg7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30gYXMgUmVjb3JkPEJ1aWxkaW5nVHlwZSwgbnVtYmVyPik7XG4gICAgXG4gICAgY29uc3QgbWlsaXRhcnlVbml0Q291bnRzID0gdW5pdHMubWlsaXRhcnkucmVkdWNlKChhY2MsIHVuaXQpID0+IHtcbiAgICAgICAgYWNjW3VuaXQudW5pdFR5cGVdID0gKGFjY1t1bml0LnVuaXRUeXBlXSB8fCAwKSArIDE7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30gYXMgUmVjb3JkPE1pbGl0YXJ5VW5pdFR5cGUsIG51bWJlcj4pO1xuICAgIFxuICAgIGNvbnN0IGJ1c3lWaWxsYWdlckNvdW50ID0gbmV3IFNldChhY3RpdmVUYXNrcy5mbGF0TWFwKHQgPT4gdC5wYXlsb2FkPy52aWxsYWdlcklkcyB8fCBbXSkpLnNpemU7XG4gICAgY29uc3QgdG90YWxCdWlsZGluZ3NDb3VudCA9IE9iamVjdC52YWx1ZXMoYnVpbGRpbmdDb3VudHMpLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIGJnLXN0b25lLWRhcmsgcC00IHJvdW5kZWQtbGcgc2hhZG93LTJ4bCBib3JkZXItMiBib3JkZXItc3RvbmUtbGlnaHQgZmxleCBmbGV4LWNvbCBzcGFjZS15LTRcIj5cbiAgICAgICAgICAgIHsvKiBUb3AgSGVhZGVyICovfVxuICAgICAgICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgYmctYmxhY2svMjAgcC0yIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiB0ZXh0LWJyYW5kLWdvbGRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IG9uT3BlbkNpdlBhbmVsKGUuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSl9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtYnJhbmQtZ29sZCBob3Zlcjp0ZXh0LXllbGxvdy00MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJWaWV3IENpdmlsaXphdGlvbiBEZXRhaWxzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOCBoLThcIj48QWdlSWNvbi8+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtc2VyaWYgdGV4dC1wYXJjaG1lbnQtbGlnaHRcIj57Y3VycmVudEFnZX08L2gyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LXBhcmNobWVudC1kYXJrLzcwIG1sLTFcIj48U2Nyb2xsVGV4dCAvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxIZWFkZXJTdGF0IGljb249ezxQb3B1bGF0aW9uSWNvbi8+fSB2YWx1ZT17YCR7cG9wdWxhdGlvbi5jdXJyZW50fS8ke3BvcHVsYXRpb24uY2FwYWNpdHl9YH0gdG9vbHRpcD1cIlBvcHVsYXRpb24gLyBDYXBhY2l0eVwiIGNvbG9yQ2xhc3M9XCJ0ZXh0LWJyYW5kLWJsdWVcIiAvPlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPEhlYWRlclN0YXQgaWNvbj17PEZvb2RJY29uLz59IHZhbHVlPXtNYXRoLmZsb29yKHJlc291cmNlcy5mb29kKX0gZGVsdGE9e3Jlc291cmNlRGVsdGFzLmZvb2R9IHRvb2x0aXA9XCJGb29kXCIvPlxuICAgICAgICAgICAgICAgICAgICA8SGVhZGVyU3RhdCBpY29uPXs8V29vZEljb24vPn0gdmFsdWU9e01hdGguZmxvb3IocmVzb3VyY2VzLndvb2QpfSBkZWx0YT17cmVzb3VyY2VEZWx0YXMud29vZH0gdG9vbHRpcD1cIldvb2RcIi8+XG4gICAgICAgICAgICAgICAgICAgIDxIZWFkZXJTdGF0IGljb249ezxHb2xkSWNvbi8+fSB2YWx1ZT17TWF0aC5mbG9vcihyZXNvdXJjZXMuZ29sZCl9IGRlbHRhPXtyZXNvdXJjZURlbHRhcy5nb2xkfSB0b29sdGlwPVwiR29sZFwiLz5cbiAgICAgICAgICAgICAgICAgICAgPEhlYWRlclN0YXQgaWNvbj17PFN0b25lSWNvbi8+fSB2YWx1ZT17TWF0aC5mbG9vcihyZXNvdXJjZXMuc3RvbmUpfSBkZWx0YT17cmVzb3VyY2VEZWx0YXMuc3RvbmV9IHRvb2x0aXA9XCJTdG9uZVwiLz5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXAgcGwtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17b25FeGl0R2FtZX0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy04IGgtOCBwLTEgdGV4dC1wYXJjaG1lbnQtZGFyayBob3Zlcjp0ZXh0LWJyYW5kLXJlZCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJFeGl0IHRvIE1haW4gTWVudVwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEV4aXRJY29uIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLWZ1bGwgcmlnaHQtMCBtYi0yIHctbWF4IHB4LTIgcHktMSBiZy1zdG9uZS1kYXJrIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkIG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLW9wYWNpdHkgcG9pbnRlci1ldmVudHMtbm9uZSB6LTEwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRXhpdCB0byBNZW51XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2hlYWRlcj5cblxuICAgICAgICAgICAgey8qIE1haW4gQ29udGVudCBHcmlkICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LWdyb3cgZ3JpZCBncmlkLWNvbHMtMSBnYXAtNFwiPlxuICAgICAgICAgICAgICAgIHsvKiBDZW50ZXIgUGFuZWw6IE1hcCwgVW5pdHMsIEV2ZW50cyAmIExvZyAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXN0b25lLWRhcmsvMzAgcC00IHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zdG9uZS1saWdodC8zMCBmbGV4IGZsZXgtY29sIGdhcC00XCI+XG4gICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8R2FtZU1hcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5ncz17YnVpbGRpbmdzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cnVjdGluZ0J1aWxkaW5ncz17Y29uc3RydWN0aW5nQnVpbGRpbmdzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVRhc2tzPXthY3RpdmVUYXNrc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJBY3Rpb249e3BsYXllckFjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm1QbGFjZW1lbnQ9e29uQ29uZmlybVBsYWNlbWVudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbFBsYXllckFjdGlvbj17b25DYW5jZWxQbGF5ZXJBY3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25CdWlsZGluZ0NsaWNrPXtvbkJ1aWxkaW5nQ2xpY2t9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwRGltZW5zaW9ucz17bWFwRGltZW5zaW9uc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZGluZ0xpc3Q9e2J1aWxkaW5nTGlzdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZU5vZGVzPXtyZXNvdXJjZU5vZGVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkFzc2lnbm1lbnRQYW5lbD17b25PcGVuQXNzaWdubWVudFBhbmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkNvbnN0cnVjdGlvblBhbmVsPXtvbk9wZW5Db25zdHJ1Y3Rpb25QYW5lbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXRoZXJJbmZvPXtnYXRoZXJJbmZvfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS0yIGxlZnQtMS8yIC10cmFuc2xhdGUteC0xLzIgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogVmlsbGFnZXJzIEJ1dHRvbiAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBvbk9wZW5Vbml0UGFuZWwoJ3ZpbGxhZ2VycycsIGUuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzY2ktZmktYnV0dG9uIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB4LTQgcHktMiAhcm91bmRlZC1sZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtgTWFuYWdlIFZpbGxhZ2VycyAoJHt1bml0cy52aWxsYWdlcnMubGVuZ3RofSlgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBoLTcgdGV4dC1icmFuZC1ibHVlXCI+PFZpbGxhZ2VySWNvbiAvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGRcIj57dW5pdHMudmlsbGFnZXJzLmxlbmd0aH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIG1iLTIgdy1tYXggcHgtMiBweS0xIGJnLXN0b25lLWRhcmsgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBwb2ludGVyLWV2ZW50cy1ub25lIHotMTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtYm9sZFwiPlZpbGxhZ2VyczwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPklkbGU6IHt1bml0cy52aWxsYWdlcnMubGVuZ3RoIC0gYnVzeVZpbGxhZ2VyQ291bnR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+QnVzeToge2J1c3lWaWxsYWdlckNvdW50fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogTWlsaXRhcnkgQnV0dG9uICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IG9uT3BlblVuaXRQYW5lbCgnbWlsaXRhcnknLCBlLmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2NpLWZpLWJ1dHRvbiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBweC00IHB5LTIgIXJvdW5kZWQtbGdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17YE1hbmFnZSBNaWxpdGFyeSAoJHt1bml0cy5taWxpdGFyeS5sZW5ndGh9KWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGgtNyB0ZXh0LWJyYW5kLXJlZFwiPjxTd29yZEljb24gLz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkXCI+e3VuaXRzLm1pbGl0YXJ5Lmxlbmd0aH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIG1iLTIgdy1tYXggcHgtMiBweS0xIGJnLXN0b25lLWRhcmsgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBwb2ludGVyLWV2ZW50cy1ub25lIHotMTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtYm9sZFwiPk1pbGl0YXJ5IEZvcmNlczwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtPYmplY3Qua2V5cyhtaWxpdGFyeVVuaXRDb3VudHMpLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMobWlsaXRhcnlVbml0Q291bnRzKS5tYXAoKFt0eXBlLCBjb3VudF0pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAga2V5PXt0eXBlfSBjbGFzc05hbWU9XCJjYXBpdGFsaXplIHRleHQtcGFyY2htZW50LWRhcmtcIj57dHlwZX06IHtjb3VudH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiA8cD5ObyBmb3JjZXMgdHJhaW5lZC48L3A+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBCdWlsZGluZ3MgQnV0dG9uICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IG9uT3BlbkFsbEJ1aWxkaW5nc1BhbmVsKGUuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzY2ktZmktYnV0dG9uIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB4LTQgcHktMiAhcm91bmRlZC1sZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtgVmlldyBBbGwgQnVpbGRpbmdzICgke3RvdGFsQnVpbGRpbmdzQ291bnR9KWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGgtNyB0ZXh0LXBhcmNobWVudC1kYXJrXCI+PFdhdGNoVG93ZXJJY29uIC8+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZFwiPnt0b3RhbEJ1aWxkaW5nc0NvdW50fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLWZ1bGwgbWItMiB3LW1heCBweC0yIHB5LTEgYmctc3RvbmUtZGFyayB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IHBvaW50ZXItZXZlbnRzLW5vbmUgei0xMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVmlldyBBbGwgU3RydWN0dXJlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZmxleC1ncm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1zZXJpZiB0ZXh0LWNlbnRlciBtYi0xXCI+Q2hyb25pY2xlczwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LXBhcmNobWVudC1kYXJrIHRleHQtc20gaXRhbGljIG1iLTMgaC01XCI+e2FjdGl2aXR5U3RhdHVzfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1wYXJjaG1lbnQtZGFyayB0ZXh0LXN0b25lLWRhcmsgcC00IHJvdW5kZWQtbGcgc2hhZG93LWlubmVyIG1pbi1oLVsxNTBweF0gbWItNCBmbGV4IGZsZXgtY29sIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRFdmVudCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTRcIj57Y3VycmVudEV2ZW50Lm1lc3NhZ2V9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHNtOmZsZXgtcm93IGdhcC0yIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRFdmVudC5jaG9pY2VzLm1hcChjaG9pY2UgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGtleT17Y2hvaWNlLnRleHR9IG9uQ2xpY2s9eygpID0+IG9uRXZlbnRDaG9pY2UoY2hvaWNlKX0gY2xhc3NOYW1lPVwiYmctc3RvbmUtbGlnaHQgaG92ZXI6Ymctc3RvbmUtZGFyayB0ZXh0LXBhcmNobWVudC1saWdodCBmb250LWJvbGQgcHktMiBweC00IHJvdW5kZWQtbWQgdHJhbnNpdGlvbiBkdXJhdGlvbi0yMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjaG9pY2UudGV4dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC1zdG9uZS1saWdodFwiPlRoZSBhaXIgaXMgY2FsbS4gWW91ciBwZW9wbGUgYXdhaXQgeW91ciBjb21tYW5kLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1ncm93IGJnLWJsYWNrLzMwIHAtMyByb3VuZGVkLWxnIG92ZXJmbG93LXktYXV0byBoLTQ4XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2dhbWVMb2cubWFwKChsb2csIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtsb2cuaWR9IGNsYXNzTmFtZT17YGZsZXggaXRlbXMtc3RhcnQgdGV4dC1zbSBtYi0xICR7aW5kZXggPT09IDAgPyAndGV4dC1wYXJjaG1lbnQtbGlnaHQnIDogJ3RleHQtcGFyY2htZW50LWRhcmsnfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExvZ0ljb24gaWNvbj17bG9nLmljb259IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57bG9nLm1lc3NhZ2V9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgR2FtZVVJO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwiRm9vZEljb24iLCJXb29kSWNvbiIsIkdvbGRJY29uIiwiU3RvbmVJY29uIiwiUG9wdWxhdGlvbkljb24iLCJCYXJyYWNrc0ljb24iLCJIb3VzZUljb24iLCJWaWxsYWdlckljb24iLCJTd29yZEljb24iLCJCb3dJY29uIiwiS25pZ2h0SWNvbiIsIkNhdGFwdWx0SWNvbiIsIkV2ZW50SWNvbiIsIlN5c3RlbUljb24iLCJBZ2VJY29uIiwiQXJjaGVyeVJhbmdlSWNvbiIsIlN0YWJsZUljb24iLCJTaWVnZVdvcmtzaG9wSWNvbiIsIkJsYWNrc21pdGhJY29uIiwiV2F0Y2hUb3dlckljb24iLCJFeGl0SWNvbiIsIlRvd25DZW50ZXJJY29uIiwiR2FtZU1hcCIsIlNjcm9sbFRleHQiLCJSZXNvdXJjZUNoYW5nZSIsImNoYW5nZSIsImlzUG9zaXRpdmUiLCJjb2xvciIsInNwYW4iLCJjbGFzc05hbWUiLCJIZWFkZXJTdGF0IiwiaWNvbiIsInZhbHVlIiwiZGVsdGEiLCJ0b29sdGlwIiwiY29sb3JDbGFzcyIsImRpdiIsImljb25NYXAiLCJmb29kIiwid29vZCIsImdvbGQiLCJzdG9uZSIsInZpbGxhZ2VyIiwic3dvcmRzbWFuIiwiYXJjaGVyIiwia25pZ2h0IiwiY2F0YXB1bHQiLCJob3VzZXMiLCJiYXJyYWNrcyIsImFyY2hlcnlSYW5nZSIsInN0YWJsZSIsInNpZWdlV29ya3Nob3AiLCJibGFja3NtaXRoIiwid2F0Y2hUb3dlciIsInRvd25DZW50ZXIiLCJhZ2UiLCJldmVudCIsInN5c3RlbSIsIkxvZ0ljb24iLCJmb3VuZEljb24iLCJHYW1lVUkiLCJwcm9wcyIsImNpdmlsaXphdGlvbiIsInJlc291cmNlcyIsInVuaXRzIiwiYnVpbGRpbmdzIiwicG9wdWxhdGlvbiIsImN1cnJlbnRBZ2UiLCJnYW1lTG9nIiwiY3VycmVudEV2ZW50Iiwib25FdmVudENob2ljZSIsInJlc291cmNlRGVsdGFzIiwiYWN0aXZpdHlTdGF0dXMiLCJ1bml0TGlzdCIsImJ1aWxkaW5nTGlzdCIsIm9uT3BlblVuaXRQYW5lbCIsIm9uT3BlbkJ1aWxkaW5nUGFuZWwiLCJvbk9wZW5BbGxCdWlsZGluZ3NQYW5lbCIsInBsYXllckFjdGlvbiIsIm9uQ29uZmlybVBsYWNlbWVudCIsIm9uQ2FuY2VsUGxheWVyQWN0aW9uIiwib25CdWlsZGluZ0NsaWNrIiwibWFwRGltZW5zaW9ucyIsImNvbnN0cnVjdGluZ0J1aWxkaW5ncyIsImFjdGl2ZVRhc2tzIiwib25FeGl0R2FtZSIsIm9uT3BlbkNpdlBhbmVsIiwicmVzb3VyY2VOb2RlcyIsIm9uT3BlbkFzc2lnbm1lbnRQYW5lbCIsIm9uT3BlbkNvbnN0cnVjdGlvblBhbmVsIiwiZ2F0aGVySW5mbyIsImJ1aWxkaW5nQ291bnRzIiwiT2JqZWN0Iiwia2V5cyIsInJlZHVjZSIsImFjYyIsImtleSIsImJ1aWxkaW5nVHlwZSIsImxlbmd0aCIsIm1pbGl0YXJ5VW5pdENvdW50cyIsIm1pbGl0YXJ5IiwidW5pdCIsInVuaXRUeXBlIiwiYnVzeVZpbGxhZ2VyQ291bnQiLCJTZXQiLCJmbGF0TWFwIiwidCIsInBheWxvYWQiLCJ2aWxsYWdlcklkcyIsInNpemUiLCJ0b3RhbEJ1aWxkaW5nc0NvdW50IiwidmFsdWVzIiwiYSIsImIiLCJoZWFkZXIiLCJidXR0b24iLCJvbkNsaWNrIiwiZSIsImN1cnJlbnRUYXJnZXQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJhcmlhLWxhYmVsIiwiaDIiLCJjdXJyZW50IiwiY2FwYWNpdHkiLCJNYXRoIiwiZmxvb3IiLCJ2aWxsYWdlcnMiLCJwIiwiZW50cmllcyIsIm1hcCIsInR5cGUiLCJjb3VudCIsIm1lc3NhZ2UiLCJjaG9pY2VzIiwiY2hvaWNlIiwidGV4dCIsImxvZyIsImluZGV4IiwiaWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/GameUI.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/ResourceAssignmentPanel.tsx":
/*!************************************************!*\
  !*** ./components/ResourceAssignmentPanel.tsx ***!
  \************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./icons/ResourceIcons */ \"(app-pages-browser)/./components/icons/ResourceIcons.tsx\");\n/* harmony import */ var _GameUI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GameUI */ \"(app-pages-browser)/./components/GameUI.tsx\");\n/* harmony import */ var _barrel_optimize_names_Undo2_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Undo2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/undo-2.js\");\n\nvar _s = $RefreshSig$();\n\n\n\n\nconst InfoIcon = (param)=>{\n    let { icon, value, tooltip } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative group flex items-center gap-1.5 text-parchment-dark\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-5 h-5\",\n                children: icon\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                lineNumber: 22,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"font-bold text-sm\",\n                children: value\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                lineNumber: 23,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute bottom-full mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 pointer-events-none z-10\",\n                children: tooltip\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                lineNumber: 24,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n        lineNumber: 21,\n        columnNumber: 5\n    }, undefined);\n};\n_c = InfoIcon;\nconst ResourceAssignmentPanel = (props)=>{\n    _s();\n    const { isOpen, onClose, assignmentTarget, idleVillagerCount, onAssignVillagers, onRecallVillagers, gatherInfo, buildingList, anchorRect } = props;\n    const [assignCount, setAssignCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [recallCount, setRecallCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [isClosing, setIsClosing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentData, setCurrentData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        assignmentTarget,\n        anchorRect\n    });\n    const isConstruction = assignmentTarget ? \"villagerIds\" in assignmentTarget : false;\n    const isResource = assignmentTarget ? \"amount\" in assignmentTarget : false;\n    const assignedCount = isResource ? (assignmentTarget.assignedVillagers || []).length : isConstruction ? assignmentTarget.villagerIds.length : 0;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen) {\n            setAssignCount(idleVillagerCount > 0 ? 1 : 0);\n            setRecallCount(assignedCount > 0 ? 1 : 0);\n        }\n    }, [\n        isOpen,\n        idleVillagerCount,\n        assignedCount\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen || isClosing) {\n            setCurrentData({\n                assignmentTarget,\n                anchorRect\n            });\n        }\n    }, [\n        assignmentTarget,\n        anchorRect,\n        isOpen,\n        isClosing\n    ]);\n    const handleClose = ()=>{\n        setIsClosing(true);\n        setTimeout(()=>{\n            onClose();\n            setIsClosing(false);\n        }, 300);\n    };\n    const handleAssign = ()=>{\n        if (currentData.assignmentTarget && assignCount > 0) {\n            onAssignVillagers(currentData.assignmentTarget.id, assignCount);\n        }\n    };\n    const handleRecall = ()=>{\n        if (currentData.assignmentTarget && recallCount > 0) {\n            onRecallVillagers(currentData.assignmentTarget.id, recallCount, isResource ? \"resource\" : \"construction\");\n        }\n    };\n    if (!isOpen && !isClosing) return null;\n    const { assignmentTarget: currentTarget, anchorRect: currentAnchor } = currentData;\n    if (!currentTarget) return null;\n    let title = \"Manage Workforce\";\n    let MainIcon = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GatherIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n        lineNumber: 86,\n        columnNumber: 37\n    }, undefined);\n    let InfoIcons = null;\n    let AssignIcon = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GatherIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n        lineNumber: 88,\n        columnNumber: 39\n    }, undefined);\n    if (isResource) {\n        const node = currentTarget;\n        const assignedVillagers = node.assignedVillagers || [];\n        title = \"Gather \".concat(node.type);\n        const IconComponent = {\n            food: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.FoodIcon,\n            wood: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.WoodIcon,\n            gold: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GoldIcon,\n            stone: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.StoneIcon\n        }[node.type];\n        MainIcon = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IconComponent, {}, void 0, false, {\n            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n            lineNumber: 95,\n            columnNumber: 20\n        }, undefined);\n        const currentRate = assignedVillagers.length * (gatherInfo[node.type].rate / 10);\n        InfoIcons = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InfoIcon, {\n                    icon: MainIcon,\n                    value: Math.floor(node.amount),\n                    tooltip: \"Remaining Amount\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 99,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InfoIcon, {\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.VillagerIcon, {}, void 0, false, {\n                        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                        lineNumber: 100,\n                        columnNumber: 33\n                    }, void 0),\n                    value: \"\".concat(assignedVillagers.length),\n                    tooltip: \"Assigned Workers\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 100,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InfoIcon, {\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.ClockIcon, {}, void 0, false, {\n                        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                        lineNumber: 101,\n                        columnNumber: 33\n                    }, void 0),\n                    value: \"\".concat(currentRate.toFixed(1), \"/s\"),\n                    tooltip: \"Current Gather Rate\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 101,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true);\n    }\n    if (isConstruction) {\n        const construction = currentTarget;\n        const buildingInfo = buildingList.find((b)=>b.id === construction.type);\n        title = \"Construct \".concat((buildingInfo === null || buildingInfo === void 0 ? void 0 : buildingInfo.name) || \"Building\");\n        MainIcon = _GameUI__WEBPACK_IMPORTED_MODULE_3__.iconMap[construction.type];\n        AssignIcon = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BuildIcon, {}, void 0, false, {\n            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n            lineNumber: 111,\n            columnNumber: 22\n        }, undefined);\n        InfoIcons = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InfoIcon, {\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BuildIcon, {}, void 0, false, {\n                        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                        lineNumber: 114,\n                        columnNumber: 33\n                    }, void 0),\n                    value: construction.villagerIds.length,\n                    tooltip: \"Current Builders\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 114,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InfoIcon, {\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.VillagerIcon, {}, void 0, false, {\n                        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                        lineNumber: 115,\n                        columnNumber: 33\n                    }, void 0),\n                    value: idleVillagerCount,\n                    tooltip: \"Idle Villagers Available\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 115,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true);\n    }\n    const maxAssignable = idleVillagerCount;\n    const panelStyle = {\n        top: \"\".concat(currentAnchor.bottom + 8, \"px\"),\n        left: \"max(8px, \".concat(currentAnchor.left - 144, \"px)\"),\n        transformOrigin: \"top center\"\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: panelStyle,\n        className: \"fixed z-40 w-80 transform transition-all duration-300 ease-in-out \".concat(isOpen && !isClosing ? \"opacity-100 scale-100\" : \"opacity-0 scale-95\"),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"sci-fi-panel-popup sci-fi-grid p-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center mb-3\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-8 h-8\",\n                                    children: MainIcon\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 129,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-2xl font-serif capitalize\",\n                                    children: title\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 130,\n                                    columnNumber: 25\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                            lineNumber: 128,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleClose,\n                            className: \"text-3xl font-bold sci-fi-close-button\",\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                            lineNumber: 132,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 127,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-3\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex justify-around items-center bg-black/20 p-2 rounded-md\",\n                            children: InfoIcons\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                            lineNumber: 136,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                            className: \"border-stone-light/20 my-2\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                            lineNumber: 140,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    htmlFor: \"villager-assign-slider\",\n                                    className: \"block text-sm font-serif text-brand-gold mb-1\",\n                                    children: [\n                                        \"Assign Idle Villagers (\",\n                                        idleVillagerCount,\n                                        \" available)\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 143,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            id: \"villager-assign-slider\",\n                                            type: \"range\",\n                                            min: \"0\",\n                                            max: maxAssignable,\n                                            value: assignCount,\n                                            onChange: (e)=>setAssignCount(Number(e.target.value)),\n                                            className: \"sci-fi-slider flex-grow\",\n                                            disabled: maxAssignable === 0,\n                                            \"aria-label\": \"Assign Villagers\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                            lineNumber: 145,\n                                            columnNumber: 30\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"font-bold text-lg w-12 text-center bg-black/20 p-1 rounded-md\",\n                                            children: assignCount\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                            lineNumber: 156,\n                                            columnNumber: 29\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative group\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: handleAssign,\n                                                    disabled: assignCount === 0 || maxAssignable === 0,\n                                                    className: \"sci-fi-action-button\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-6 h-6\",\n                                                        children: AssignIcon\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                        lineNumber: 163,\n                                                        columnNumber: 37\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                    lineNumber: 158,\n                                                    columnNumber: 33\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                    children: maxAssignable === 0 ? \"No Idle Villagers\" : \"Assign \".concat(assignCount, \" Villager(s)\")\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                    lineNumber: 165,\n                                                    columnNumber: 34\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                            lineNumber: 157,\n                                            columnNumber: 29\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 144,\n                                    columnNumber: 25\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                            lineNumber: 142,\n                            columnNumber: 21\n                        }, undefined),\n                        assignedCount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                                    className: \"border-stone-light/20 my-3\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 174,\n                                    columnNumber: 30\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    htmlFor: \"villager-recall-slider\",\n                                    className: \"block text-sm font-serif text-brand-red mb-1\",\n                                    children: [\n                                        \"Recall Assigned Villagers (\",\n                                        assignedCount,\n                                        \" assigned)\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 175,\n                                    columnNumber: 30\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            id: \"villager-recall-slider\",\n                                            type: \"range\",\n                                            min: \"1\",\n                                            max: assignedCount,\n                                            value: recallCount,\n                                            onChange: (e)=>setRecallCount(Number(e.target.value)),\n                                            className: \"sci-fi-slider flex-grow\",\n                                            \"aria-label\": \"Recall Villagers\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                            lineNumber: 177,\n                                            columnNumber: 34\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"font-bold text-lg w-12 text-center bg-black/20 p-1 rounded-md\",\n                                            children: recallCount\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                            lineNumber: 187,\n                                            columnNumber: 33\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative group\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: handleRecall,\n                                                    className: \"sci-fi-action-button\",\n                                                    \"aria-label\": \"Recall \".concat(recallCount, \" Villager(s)\"),\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-6 h-6 text-brand-red\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Undo2_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                            lineNumber: 194,\n                                                            columnNumber: 81\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                        lineNumber: 194,\n                                                        columnNumber: 41\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                    lineNumber: 189,\n                                                    columnNumber: 37\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                    children: \"Recall \".concat(recallCount, \" Villager(s)\")\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                    lineNumber: 196,\n                                                    columnNumber: 38\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                            lineNumber: 188,\n                                            columnNumber: 33\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 176,\n                                    columnNumber: 30\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                            lineNumber: 173,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 135,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n            lineNumber: 126,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n        lineNumber: 125,\n        columnNumber: 9\n    }, undefined);\n};\n_s(ResourceAssignmentPanel, \"ZoVUHh4d6Z84DDHDkgiLHxk58k0=\");\n_c1 = ResourceAssignmentPanel;\n/* harmony default export */ __webpack_exports__[\"default\"] = (ResourceAssignmentPanel);\nvar _c, _c1;\n$RefreshReg$(_c, \"InfoIcon\");\n$RefreshReg$(_c1, \"ResourceAssignmentPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvUmVzb3VyY2VBc3NpZ25tZW50UGFuZWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUNtRDtBQUU2RTtBQUM3RjtBQUNFO0FBY3JDLE1BQU1hLFdBQXlGO1FBQUMsRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sRUFBRTt5QkFDcEgsOERBQUNDO1FBQUlDLFdBQVU7OzBCQUNYLDhEQUFDRDtnQkFBSUMsV0FBVTswQkFBV0o7Ozs7OzswQkFDMUIsOERBQUNLO2dCQUFLRCxXQUFVOzBCQUFxQkg7Ozs7OzswQkFDckMsOERBQUNFO2dCQUFJQyxXQUFVOzBCQUNWRjs7Ozs7Ozs7Ozs7OztLQUxQSDtBQVdOLE1BQU1PLDBCQUFrRSxDQUFDQzs7SUFDckUsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsZ0JBQWdCLEVBQUVDLGlCQUFpQixFQUFFQyxpQkFBaUIsRUFBRUMsaUJBQWlCLEVBQUVDLFVBQVUsRUFBRUMsWUFBWSxFQUFFQyxVQUFVLEVBQUUsR0FBR1Q7SUFFN0ksTUFBTSxDQUFDVSxhQUFhQyxlQUFlLEdBQUcvQiwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUNnQyxhQUFhQyxlQUFlLEdBQUdqQywrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUNrQyxXQUFXQyxhQUFhLEdBQUduQywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNvQyxhQUFhQyxlQUFlLEdBQUdyQywrQ0FBUUEsQ0FBQztRQUFFdUI7UUFBa0JNO0lBQVc7SUFFOUUsTUFBTVMsaUJBQWlCZixtQkFBbUIsaUJBQWlCQSxtQkFBbUI7SUFDOUUsTUFBTWdCLGFBQWFoQixtQkFBbUIsWUFBWUEsbUJBQW1CO0lBQ3JFLE1BQU1pQixnQkFBZ0JELGFBQ2hCLENBQUMsaUJBQW1DRSxpQkFBaUIsSUFBSSxFQUFFLEVBQUVDLE1BQU0sR0FDbkVKLGlCQUNBLGlCQUEyQ0ssV0FBVyxDQUFDRCxNQUFNLEdBQzdEO0lB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RUFBeUIsNEVBQUNOLGlGQUFLQTs7Ozs7Ozs7Ozs7Ozs7OzhEQUVqRCw4REFBQ0s7b0RBQUlDLFdBQVU7OERBQ1gsVUFBc0IsT0FBWmUsYUFBWTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFVL0Q7R0FoTE1iO01BQUFBO0FBa0xOLCtEQUFlQSx1QkFBdUJBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9SZXNvdXJjZUFzc2lnbm1lbnRQYW5lbC50c3g/Mjg4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHR5cGUgeyBSZXNvdXJjZU5vZGUsIFJlc291cmNlTm9kZVR5cGUsIENvbnN0cnVjdGluZ0J1aWxkaW5nLCBCdWlsZGluZ0luZm8gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBGb29kSWNvbiwgV29vZEljb24sIEdvbGRJY29uLCBTdG9uZUljb24sIFZpbGxhZ2VySWNvbiwgQ2xvY2tJY29uLCBHYXRoZXJJY29uLCBCdWlsZEljb24gfSBmcm9tICcuL2ljb25zL1Jlc291cmNlSWNvbnMnO1xuaW1wb3J0IHsgaWNvbk1hcCB9IGZyb20gJy4vR2FtZVVJJztcbmltcG9ydCB7IFVuZG8yIH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcblxuaW50ZXJmYWNlIFJlc291cmNlQXNzaWdubWVudFBhbmVsUHJvcHMge1xuICAgIGlzT3BlbjogYm9vbGVhbjtcbiAgICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xuICAgIGFzc2lnbm1lbnRUYXJnZXQ6IChSZXNvdXJjZU5vZGUgfCBDb25zdHJ1Y3RpbmdCdWlsZGluZykgfCBudWxsO1xuICAgIGlkbGVWaWxsYWdlckNvdW50OiBudW1iZXI7XG4gICAgb25Bc3NpZ25WaWxsYWdlcnM6ICh0YXJnZXRJZDogc3RyaW5nLCBjb3VudDogbnVtYmVyKSA9PiB2b2lkO1xuICAgIG9uUmVjYWxsVmlsbGFnZXJzOiAodGFyZ2V0SWQ6IHN0cmluZywgY291bnQ6IG51bWJlciwgdHlwZTogJ3Jlc291cmNlJyB8ICdjb25zdHJ1Y3Rpb24nKSA9PiB2b2lkO1xuICAgIGdhdGhlckluZm86IFJlY29yZDxSZXNvdXJjZU5vZGVUeXBlLCB7IHJhdGU6IG51bWJlciB9PjtcbiAgICBidWlsZGluZ0xpc3Q6IEJ1aWxkaW5nSW5mb1tdO1xuICAgIGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsO1xufVxuXG5jb25zdCBJbmZvSWNvbjogUmVhY3QuRkM8eyBpY29uOiBSZWFjdC5SZWFjdE5vZGU7IHZhbHVlOiBzdHJpbmcgfCBudW1iZXI7IHRvb2x0aXA6IHN0cmluZyB9PiA9ICh7IGljb24sIHZhbHVlLCB0b29sdGlwIH0pID0+IChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGdyb3VwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjUgdGV4dC1wYXJjaG1lbnQtZGFya1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNSBoLTVcIj57aWNvbn08L2Rpdj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtc21cIj57dmFsdWV9PC9zcGFuPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIG1iLTIgdy1tYXggcHgtMiBweS0xIGJnLXN0b25lLWRhcmsgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHBvaW50ZXItZXZlbnRzLW5vbmUgei0xMFwiPlxuICAgICAgICAgICAge3Rvb2x0aXB9XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuKTtcblxuXG5jb25zdCBSZXNvdXJjZUFzc2lnbm1lbnRQYW5lbDogUmVhY3QuRkM8UmVzb3VyY2VBc3NpZ25tZW50UGFuZWxQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGlzT3Blbiwgb25DbG9zZSwgYXNzaWdubWVudFRhcmdldCwgaWRsZVZpbGxhZ2VyQ291bnQsIG9uQXNzaWduVmlsbGFnZXJzLCBvblJlY2FsbFZpbGxhZ2VycywgZ2F0aGVySW5mbywgYnVpbGRpbmdMaXN0LCBhbmNob3JSZWN0IH0gPSBwcm9wcztcbiAgICBcbiAgICBjb25zdCBbYXNzaWduQ291bnQsIHNldEFzc2lnbkNvdW50XSA9IHVzZVN0YXRlKDEpO1xuICAgIGNvbnN0IFtyZWNhbGxDb3VudCwgc2V0UmVjYWxsQ291bnRdID0gdXNlU3RhdGUoMSk7XG4gICAgY29uc3QgW2lzQ2xvc2luZywgc2V0SXNDbG9zaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbY3VycmVudERhdGEsIHNldEN1cnJlbnREYXRhXSA9IHVzZVN0YXRlKHsgYXNzaWdubWVudFRhcmdldCwgYW5jaG9yUmVjdCB9KTtcbiAgICBcbiAgICBjb25zdCBpc0NvbnN0cnVjdGlvbiA9IGFzc2lnbm1lbnRUYXJnZXQgPyAndmlsbGFnZXJJZHMnIGluIGFzc2lnbm1lbnRUYXJnZXQgOiBmYWxzZTtcbiAgICBjb25zdCBpc1Jlc291cmNlID0gYXNzaWdubWVudFRhcmdldCA/ICdhbW91bnQnIGluIGFzc2lnbm1lbnRUYXJnZXQgOiBmYWxzZTtcbiAgICBjb25zdCBhc3NpZ25lZENvdW50ID0gaXNSZXNvdXJjZSBcbiAgICAgICAgPyAoKGFzc2lnbm1lbnRUYXJnZXQgYXMgUmVzb3VyY2VOb2RlKS5hc3NpZ25lZFZpbGxhZ2VycyB8fCBbXSkubGVuZ3RoIFxuICAgICAgICA6IGlzQ29uc3RydWN0aW9uIFxuICAgICAgICA/IChhc3NpZ25tZW50VGFyZ2V0IGFzIENvbnN0cnVjdGluZ0J1aWxkaW5nKS52aWxsYWdlcklkcy5sZW5ndGggXG4gICAgICAgIDogMDtcbiAgICBcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNPcGVuKSB7XG4gICAgICAgICAgICBzZXRBc3NpZ25Db3VudChpZGxlVmlsbGFnZXJDb3VudCA+IDAgPyAxIDogMCk7XG4gICAgICAgICAgICBzZXRSZWNhbGxDb3VudChhc3NpZ25lZENvdW50ID4gMCA/IDEgOiAwKTtcbiAgICAgICAgfVxuICAgIH0sIFtpc09wZW4sIGlkbGVWaWxsYWdlckNvdW50LCBhc3NpZ25lZENvdW50XSk7XG4gICAgXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGlzT3BlbiB8fCBpc0Nsb3NpbmcpIHtcbiAgICAgICAgICAgIHNldEN1cnJlbnREYXRhKHsgYXNzaWdubWVudFRhcmdldCwgYW5jaG9yUmVjdCB9KTtcbiAgICAgICAgfVxuICAgIH0sIFthc3NpZ25tZW50VGFyZ2V0LCBhbmNob3JSZWN0LCBpc09wZW4sIGlzQ2xvc2luZ10pO1xuICAgIFxuICAgIGNvbnN0IGhhbmRsZUNsb3NlID0gKCkgPT4ge1xuICAgICAgICBzZXRJc0Nsb3NpbmcodHJ1ZSk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgb25DbG9zZSgpO1xuICAgICAgICAgICAgc2V0SXNDbG9zaW5nKGZhbHNlKTtcbiAgICAgICAgfSwgMzAwKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQXNzaWduID0gKCkgPT4ge1xuICAgICAgICBpZiAoY3VycmVudERhdGEuYXNzaWdubWVudFRhcmdldCAmJiBhc3NpZ25Db3VudCA+IDApIHtcbiAgICAgICAgICAgIG9uQXNzaWduVmlsbGFnZXJzKGN1cnJlbnREYXRhLmFzc2lnbm1lbnRUYXJnZXQuaWQsIGFzc2lnbkNvdW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgY29uc3QgaGFuZGxlUmVjYWxsID0gKCkgPT4ge1xuICAgICAgICBpZiAoY3VycmVudERhdGEuYXNzaWdubWVudFRhcmdldCAmJiByZWNhbGxDb3VudCA+IDApIHtcbiAgICAgICAgICAgIG9uUmVjYWxsVmlsbGFnZXJzKGN1cnJlbnREYXRhLmFzc2lnbm1lbnRUYXJnZXQuaWQsIHJlY2FsbENvdW50LCBpc1Jlc291cmNlID8gJ3Jlc291cmNlJyA6ICdjb25zdHJ1Y3Rpb24nKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoIWlzT3BlbiAmJiAhaXNDbG9zaW5nKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IHsgYXNzaWdubWVudFRhcmdldDogY3VycmVudFRhcmdldCwgYW5jaG9yUmVjdDogY3VycmVudEFuY2hvciB9ID0gY3VycmVudERhdGE7XG4gICAgaWYgKCFjdXJyZW50VGFyZ2V0KSByZXR1cm4gbnVsbDtcblxuICAgIGxldCB0aXRsZSA9IFwiTWFuYWdlIFdvcmtmb3JjZVwiO1xuICAgIGxldCBNYWluSWNvbjogUmVhY3QuUmVhY3ROb2RlID0gPEdhdGhlckljb24gLz47XG4gICAgbGV0IEluZm9JY29uczogUmVhY3QuUmVhY3ROb2RlID0gbnVsbDtcbiAgICBsZXQgQXNzaWduSWNvbjogUmVhY3QuUmVhY3ROb2RlID0gPEdhdGhlckljb24gLz47XG4gICAgXG4gICAgaWYgKGlzUmVzb3VyY2UpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IGN1cnJlbnRUYXJnZXQgYXMgUmVzb3VyY2VOb2RlO1xuICAgICAgICBjb25zdCBhc3NpZ25lZFZpbGxhZ2VycyA9IG5vZGUuYXNzaWduZWRWaWxsYWdlcnMgfHwgW107XG4gICAgICAgIHRpdGxlID0gYEdhdGhlciAke25vZGUudHlwZX1gO1xuICAgICAgICBjb25zdCBJY29uQ29tcG9uZW50ID0geyBmb29kOiBGb29kSWNvbiwgd29vZDogV29vZEljb24sIGdvbGQ6IEdvbGRJY29uLCBzdG9uZTogU3RvbmVJY29uIH1bbm9kZS50eXBlXTtcbiAgICAgICAgTWFpbkljb24gPSA8SWNvbkNvbXBvbmVudCAvPjtcbiAgICAgICAgY29uc3QgY3VycmVudFJhdGUgPSBhc3NpZ25lZFZpbGxhZ2Vycy5sZW5ndGggKiAoZ2F0aGVySW5mb1tub2RlLnR5cGVdLnJhdGUgLyAxMCk7XG4gICAgICAgIEluZm9JY29ucyA9IChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPEluZm9JY29uIGljb249e01haW5JY29ufSB2YWx1ZT17TWF0aC5mbG9vcihub2RlLmFtb3VudCl9IHRvb2x0aXA9XCJSZW1haW5pbmcgQW1vdW50XCIgLz5cbiAgICAgICAgICAgICAgICA8SW5mb0ljb24gaWNvbj17PFZpbGxhZ2VySWNvbiAvPn0gdmFsdWU9e2Ake2Fzc2lnbmVkVmlsbGFnZXJzLmxlbmd0aH1gfSB0b29sdGlwPVwiQXNzaWduZWQgV29ya2Vyc1wiIC8+XG4gICAgICAgICAgICAgICAgPEluZm9JY29uIGljb249ezxDbG9ja0ljb24gLz59IHZhbHVlPXtgJHtjdXJyZW50UmF0ZS50b0ZpeGVkKDEpfS9zYH0gdG9vbHRpcD1cIkN1cnJlbnQgR2F0aGVyIFJhdGVcIiAvPlxuICAgICAgICAgICAgPC8+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGlzQ29uc3RydWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IGNvbnN0cnVjdGlvbiA9IGN1cnJlbnRUYXJnZXQgYXMgQ29uc3RydWN0aW5nQnVpbGRpbmc7XG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gY29uc3RydWN0aW9uLnR5cGUpO1xuICAgICAgICB0aXRsZSA9IGBDb25zdHJ1Y3QgJHtidWlsZGluZ0luZm8/Lm5hbWUgfHwgJ0J1aWxkaW5nJ31gO1xuICAgICAgICBNYWluSWNvbiA9IGljb25NYXBbY29uc3RydWN0aW9uLnR5cGVdO1xuICAgICAgICBBc3NpZ25JY29uID0gPEJ1aWxkSWNvbiAvPjtcbiAgICAgICAgSW5mb0ljb25zID0gKFxuICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPEluZm9JY29uIGljb249ezxCdWlsZEljb24gLz59IHZhbHVlPXtjb25zdHJ1Y3Rpb24udmlsbGFnZXJJZHMubGVuZ3RofSB0b29sdGlwPVwiQ3VycmVudCBCdWlsZGVyc1wiIC8+XG4gICAgICAgICAgICAgICAgPEluZm9JY29uIGljb249ezxWaWxsYWdlckljb24gLz59IHZhbHVlPXtpZGxlVmlsbGFnZXJDb3VudH0gdG9vbHRpcD1cIklkbGUgVmlsbGFnZXJzIEF2YWlsYWJsZVwiIC8+XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgKVxuICAgIH1cblxuICAgIGNvbnN0IG1heEFzc2lnbmFibGUgPSBpZGxlVmlsbGFnZXJDb3VudDtcbiAgICBcbiAgICBjb25zdCBwYW5lbFN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzID0geyB0b3A6IGAke2N1cnJlbnRBbmNob3IuYm90dG9tICsgOH1weGAsIGxlZnQ6IGBtYXgoOHB4LCAke2N1cnJlbnRBbmNob3IubGVmdCAtIDE0NH1weClgLCB0cmFuc2Zvcm1PcmlnaW46ICd0b3AgY2VudGVyJyB9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXM7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IHN0eWxlPXtwYW5lbFN0eWxlfSBjbGFzc05hbWU9e2BmaXhlZCB6LTQwIHctODAgdHJhbnNmb3JtIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCBlYXNlLWluLW91dCAke2lzT3BlbiAmJiAhaXNDbG9zaW5nID8gJ29wYWNpdHktMTAwIHNjYWxlLTEwMCcgOiAnb3BhY2l0eS0wIHNjYWxlLTk1J31gfT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2NpLWZpLXBhbmVsLXBvcHVwIHNjaS1maS1ncmlkIHAtNFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC04XCI+e01haW5JY29ufTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtc2VyaWYgY2FwaXRhbGl6ZVwiPnt0aXRsZX08L2gyPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVDbG9zZX0gY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHNjaS1maS1jbG9zZS1idXR0b25cIj4mdGltZXM7PC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYXJvdW5kIGl0ZW1zLWNlbnRlciBiZy1ibGFjay8yMCBwLTIgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICB7SW5mb0ljb25zfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIDxociBjbGFzc05hbWU9XCJib3JkZXItc3RvbmUtbGlnaHQvMjAgbXktMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJ2aWxsYWdlci1hc3NpZ24tc2xpZGVyXCIgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LXNlcmlmIHRleHQtYnJhbmQtZ29sZCBtYi0xXCI+QXNzaWduIElkbGUgVmlsbGFnZXJzICh7aWRsZVZpbGxhZ2VyQ291bnR9IGF2YWlsYWJsZSk8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJ2aWxsYWdlci1hc3NpZ24tc2xpZGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heD17bWF4QXNzaWduYWJsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2Fzc2lnbkNvdW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEFzc2lnbkNvdW50KE51bWJlcihlLnRhcmdldC52YWx1ZSkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzY2ktZmktc2xpZGVyIGZsZXgtZ3Jvd1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXttYXhBc3NpZ25hYmxlID09PSAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQXNzaWduIFZpbGxhZ2Vyc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1sZyB3LTEyIHRleHQtY2VudGVyIGJnLWJsYWNrLzIwIHAtMSByb3VuZGVkLW1kXCI+e2Fzc2lnbkNvdW50fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFzc2lnbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXthc3NpZ25Db3VudCA9PT0gMCB8fCBtYXhBc3NpZ25hYmxlID09PSAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2NpLWZpLWFjdGlvbi1idXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNiBoLTZcIj57QXNzaWduSWNvbn08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIHJpZ2h0LTAgbWItMiB3LW1heCBweC0yIHB5LTEgYmctc3RvbmUtZGFyayB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IHBvaW50ZXItZXZlbnRzLW5vbmUgei0xMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge21heEFzc2lnbmFibGUgPT09IDAgPyAnTm8gSWRsZSBWaWxsYWdlcnMnIDogYEFzc2lnbiAke2Fzc2lnbkNvdW50fSBWaWxsYWdlcihzKWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAge2Fzc2lnbmVkQ291bnQgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxociBjbGFzc05hbWU9XCJib3JkZXItc3RvbmUtbGlnaHQvMjAgbXktM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwidmlsbGFnZXItcmVjYWxsLXNsaWRlclwiIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1zZXJpZiB0ZXh0LWJyYW5kLXJlZCBtYi0xXCI+UmVjYWxsIEFzc2lnbmVkIFZpbGxhZ2VycyAoe2Fzc2lnbmVkQ291bnR9IGFzc2lnbmVkKTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJ2aWxsYWdlci1yZWNhbGwtc2xpZGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW49XCIxXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heD17YXNzaWduZWRDb3VudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtyZWNhbGxDb3VudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UmVjYWxsQ291bnQoTnVtYmVyKGUudGFyZ2V0LnZhbHVlKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzY2ktZmktc2xpZGVyIGZsZXgtZ3Jvd1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiUmVjYWxsIFZpbGxhZ2Vyc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWxnIHctMTIgdGV4dC1jZW50ZXIgYmctYmxhY2svMjAgcC0xIHJvdW5kZWQtbWRcIj57cmVjYWxsQ291bnR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUmVjYWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNjaS1maS1hY3Rpb24tYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtgUmVjYWxsICR7cmVjYWxsQ291bnR9IFZpbGxhZ2VyKHMpYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNiBoLTYgdGV4dC1icmFuZC1yZWRcIj48VW5kbzIvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tZnVsbCByaWdodC0wIG1iLTIgdy1tYXggcHgtMiBweS0xIGJnLXN0b25lLWRhcmsgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBwb2ludGVyLWV2ZW50cy1ub25lIHotMTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YFJlY2FsbCAke3JlY2FsbENvdW50fSBWaWxsYWdlcihzKWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJlc291cmNlQXNzaWdubWVudFBhbmVsO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJGb29kSWNvbiIsIldvb2RJY29uIiwiR29sZEljb24iLCJTdG9uZUljb24iLCJWaWxsYWdlckljb24iLCJDbG9ja0ljb24iLCJHYXRoZXJJY29uIiwiQnVpbGRJY29uIiwiaWNvbk1hcCIsIlVuZG8yIiwiSW5mb0ljb24iLCJpY29uIiwidmFsdWUiLCJ0b29sdGlwIiwiZGl2IiwiY2xhc3NOYW1lIiwic3BhbiIsIlJlc291cmNlQXNzaWdubWVudFBhbmVsIiwicHJvcHMiLCJpc09wZW4iLCJvbkNsb3NlIiwiYXNzaWdubWVudFRhcmdldCIsImlkbGVWaWxsYWdlckNvdW50Iiwib25Bc3NpZ25WaWxsYWdlcnMiLCJvblJlY2FsbFZpbGxhZ2VycyIsImdhdGhlckluZm8iLCJidWlsZGluZ0xpc3QiLCJhbmNob3JSZWN0IiwiYXNzaWduQ291bnQiLCJzZXRBc3NpZ25Db3VudCIsInJlY2FsbENvdW50Iiwic2V0UmVjYWxsQ291bnQiLCJpc0Nsb3NpbmciLCJzZXRJc0Nsb3NpbmciLCJjdXJyZW50RGF0YSIsInNldEN1cnJlbnREYXRhIiwiaXNDb25zdHJ1Y3Rpb24iLCJpc1Jlc291cmNlIiwiYXNzaWduZWRDb3VudCIsImFzc2lnbmVkVmlsbGFnZXJzIiwibGVuZ3RoIiwidmlsbGFnZXJJZHMiLCJoYW5kbGVDbG9zZSIsInNldFRpbWVvdXQiLCJoYW5kbGVBc3NpZ24iLCJpZCIsImhhbmRsZVJlY2FsbCIsImN1cnJlbnRUYXJnZXQiLCJjdXJyZW50QW5jaG9yIiwidGl0bGUiLCJNYWluSWNvbiIsIkluZm9JY29ucyIsIkFzc2lnbkljb24iLCJub2RlIiwidHlwZSIsIkljb25Db21wb25lbnQiLCJmb29kIiwid29vZCIsImdvbGQiLCJzdG9uZSIsImN1cnJlbnRSYXRlIiwicmF0ZSIsIk1hdGgiLCJmbG9vciIsImFtb3VudCIsInRvRml4ZWQiLCJjb25zdHJ1Y3Rpb24iLCJidWlsZGluZ0luZm8iLCJmaW5kIiwiYiIsIm5hbWUiLCJtYXhBc3NpZ25hYmxlIiwicGFuZWxTdHlsZSIsInRvcCIsImJvdHRvbSIsImxlZnQiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJzdHlsZSIsImgyIiwiYnV0dG9uIiwib25DbGljayIsImhyIiwibGFiZWwiLCJodG1sRm9yIiwiaW5wdXQiLCJtaW4iLCJtYXgiLCJvbkNoYW5nZSIsImUiLCJOdW1iZXIiLCJ0YXJnZXQiLCJkaXNhYmxlZCIsImFyaWEtbGFiZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ResourceAssignmentPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/UnitManagementPanel.tsx":
/*!********************************************!*\
  !*** ./components/UnitManagementPanel.tsx ***!
  \********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./icons/ResourceIcons */ \"(app-pages-browser)/./components/icons/ResourceIcons.tsx\");\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\nconst ActionButton = (param)=>{\n    let { onClick, disabled, title, children } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative group\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: onClick,\n                disabled: disabled,\n                className: \"sci-fi-action-button\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-5 h-5\",\n                    children: children\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                    lineNumber: 31,\n                    columnNumber: 13\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                lineNumber: 26,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 pointer-events-none z-10\",\n                children: title\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                lineNumber: 33,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n        lineNumber: 25,\n        columnNumber: 5\n    }, undefined);\n};\n_c = ActionButton;\nconst UnitRow = (param)=>{\n    let { unit, type, onUpdate, onDismiss, onBuild, canDismiss, taskDetails } = param;\n    _s();\n    const [isEditing, setIsEditing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [name, setName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(unit.name);\n    const [title, setTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"title\" in unit ? unit.title : \"\");\n    const isBusy = taskDetails !== \"Idle\";\n    const handleSave = ()=>{\n        if (name.trim()) {\n            onUpdate(unit.id, name.trim(), title.trim());\n            setIsEditing(false);\n        }\n    };\n    const handleCancel = ()=>{\n        setName(unit.name);\n        setTitle(\"title\" in unit ? unit.title : \"\");\n        setIsEditing(false);\n    };\n    if (isEditing) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"sci-fi-unit-row editing flex flex-col sm:flex-row items-center gap-2\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-grow w-full\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"text\",\n                            value: name,\n                            onChange: (e)=>setName(e.target.value),\n                            className: \"sci-fi-input w-full\",\n                            placeholder: \"Name\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                            lineNumber: 71,\n                            columnNumber: 21\n                        }, undefined),\n                        type === \"military\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"text\",\n                            value: title,\n                            onChange: (e)=>setTitle(e.target.value),\n                            className: \"sci-fi-input w-full mt-1\",\n                            placeholder: \"Title (e.g., 'The Brave')\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                            lineNumber: 79,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                    lineNumber: 70,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex gap-1 self-end sm:self-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleSave,\n                            title: \"Save\",\n                            className: \"bg-brand-green/80 hover:bg-brand-green text-white px-2 py-0.5 text-xs rounded-md\",\n                            children: \"✓\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                            lineNumber: 89,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleCancel,\n                            title: \"Cancel\",\n                            className: \"bg-stone-light/80 hover:bg-stone-light text-white px-2 py-0.5 text-xs rounded-md\",\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                            lineNumber: 90,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                    lineNumber: 88,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n            lineNumber: 69,\n            columnNumber: 13\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"sci-fi-unit-row flex items-center gap-4 \".concat(isBusy ? \"busy\" : \"\"),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-grow\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"font-bold\",\n                        children: unit.name\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                        lineNumber: 99,\n                        columnNumber: 17\n                    }, undefined),\n                    type === \"military\" && \"title\" in unit && unit.title && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-brand-gold italic\",\n                        children: [\n                            '\"',\n                            unit.title,\n                            '\"'\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                        lineNumber: 101,\n                        columnNumber: 21\n                    }, undefined),\n                    type === \"military\" && \"unitType\" in unit && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-brand-blue capitalize\",\n                        children: unit.unitType\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                        lineNumber: 104,\n                        columnNumber: 21\n                    }, undefined),\n                    isBusy && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-brand-gold italic\",\n                        children: taskDetails\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                        lineNumber: 106,\n                        columnNumber: 28\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                lineNumber: 98,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center gap-1\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                        onClick: ()=>setIsEditing(true),\n                        title: isBusy ? taskDetails : \"Edit Name/Title\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.EditIcon, {}, void 0, false, {\n                            fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                            lineNumber: 110,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                        lineNumber: 109,\n                        columnNumber: 17\n                    }, undefined),\n                    type === \"villagers\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                        onClick: (e)=>onBuild(unit.id, e.currentTarget.getBoundingClientRect()),\n                        title: isBusy ? taskDetails : \"Construct Building\",\n                        disabled: isBusy,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BuildIcon, {}, void 0, false, {\n                            fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                            lineNumber: 114,\n                            columnNumber: 25\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                        lineNumber: 113,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                        onClick: ()=>onDismiss(unit.id),\n                        disabled: !canDismiss || isBusy,\n                        title: isBusy ? taskDetails : canDismiss ? \"Dismiss\" : \"Cannot dismiss\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.DismissIcon, {}, void 0, false, {\n                            fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                            lineNumber: 122,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                        lineNumber: 117,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                lineNumber: 108,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n        lineNumber: 97,\n        columnNumber: 9\n    }, undefined);\n};\n_s(UnitRow, \"e+JJDCPc02/IVwsi7KlJ7HPEJjw=\");\n_c1 = UnitRow;\nconst UnitManagementPanel = (param)=>{\n    let { isOpen, onClose, units, type, onUpdateUnit, onDismissUnit, onInitiateBuild, getVillagerTaskDetails, anchorRect } = param;\n    _s1();\n    const [isClosing, setIsClosing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentData, setCurrentData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        type,\n        units,\n        anchorRect\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen || isClosing) {\n            setCurrentData({\n                type,\n                units,\n                anchorRect\n            });\n        }\n    }, [\n        type,\n        units,\n        anchorRect,\n        isOpen,\n        isClosing\n    ]);\n    const handleClose = ()=>{\n        setIsClosing(true);\n        setTimeout(()=>{\n            onClose();\n            setIsClosing(false);\n        }, 300);\n    };\n    if (!isOpen && !isClosing) return null;\n    const { type: currentType, units: currentUnits, anchorRect: currentAnchor } = currentData;\n    if (!currentType || !currentAnchor) return null;\n    const unitList = currentType === \"villagers\" ? currentUnits.villagers : currentUnits.military;\n    const titleText = currentType === \"villagers\" ? \"Your Villagers\" : \"Your Military Forces\";\n    const panelStyle = {\n        top: \"\".concat(currentAnchor.bottom + 8, \"px\"),\n        left: \"\".concat(currentAnchor.left, \"px\"),\n        transformOrigin: \"top left\",\n        maxHeight: \"calc(100vh - \".concat(currentAnchor.bottom + 24, \"px)\")\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: panelStyle,\n        className: \"fixed z-40 w-80 transform transition-all duration-300 ease-in-out \".concat(isOpen && !isClosing ? \"opacity-100 scale-100\" : \"opacity-0 scale-95\"),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"sci-fi-panel-popup sci-fi-grid p-4 h-full flex flex-col\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center mb-4 flex-shrink-0\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-serif\",\n                            children: titleText\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                            lineNumber: 171,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleClose,\n                            className: \"text-3xl font-bold sci-fi-close-button\",\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                            lineNumber: 172,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                    lineNumber: 170,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-2 flex-grow overflow-y-auto pr-2\",\n                    children: unitList.length > 0 ? unitList.map((unit)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(UnitRow, {\n                            unit: unit,\n                            type: currentType,\n                            onUpdate: (id, name, title)=>onUpdateUnit(currentType, id, name, title),\n                            onDismiss: (id)=>onDismissUnit(currentType, id),\n                            onBuild: onInitiateBuild,\n                            canDismiss: currentType !== \"villagers\" || currentUnits.villagers.length > 1,\n                            taskDetails: currentType === \"villagers\" ? getVillagerTaskDetails(unit.id) : \"Idle\"\n                        }, unit.id, false, {\n                            fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                            lineNumber: 178,\n                            columnNumber: 29\n                        }, undefined)) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-center text-parchment-dark py-8\",\n                        children: [\n                            \"You have no \",\n                            currentType,\n                            \".\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                        lineNumber: 190,\n                        columnNumber: 25\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                    lineNumber: 175,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n            lineNumber: 169,\n            columnNumber: 14\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n        lineNumber: 165,\n        columnNumber: 9\n    }, undefined);\n};\n_s1(UnitManagementPanel, \"EevUlky033bJu99HNUmRdR/KR1U=\");\n_c2 = UnitManagementPanel;\n/* harmony default export */ __webpack_exports__[\"default\"] = (UnitManagementPanel);\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"ActionButton\");\n$RefreshReg$(_c1, \"UnitRow\");\n$RefreshReg$(_c2, \"UnitManagementPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvVW5pdE1hbmFnZW1lbnRQYW5lbC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFtRDtBQUVzQjtBQWdCekUsTUFBTU0sZUFLRDtRQUFDLEVBQUVDLE9BQU8sRUFBRUMsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLFFBQVEsRUFBRTt5QkFDeEMsOERBQUNDO1FBQUlDLFdBQVU7OzBCQUNYLDhEQUFDQztnQkFDR04sU0FBU0E7Z0JBQ1RDLFVBQVVBO2dCQUNWSSxXQUFVOzBCQUVWLDRFQUFDRDtvQkFBSUMsV0FBVTs4QkFBV0Y7Ozs7Ozs7Ozs7OzBCQUU5Qiw4REFBQ0M7Z0JBQUlDLFdBQVU7MEJBQ1ZIOzs7Ozs7Ozs7Ozs7O0tBZlBIO0FBb0JOLE1BQU1RLFVBUUQ7UUFBQyxFQUFFQyxJQUFJLEVBQUVDLElBQUksRUFBRUMsUUFBUSxFQUFFQyxTQUFTLEVBQUVDLE9BQU8sRUFBRUMsVUFBVSxFQUFFQyxXQUFXLEVBQUU7O0lBQ3ZFLE1BQU0sQ0FBQ0MsV0FBV0MsYUFBYSxHQUFHdEIsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDdUIsTUFBTUMsUUFBUSxHQUFHeEIsK0NBQVFBLENBQUNjLEtBQUtTLElBQUk7SUFDMUMsTUFBTSxDQUFDZixPQUFPaUIsU0FBUyxHQUFHekIsK0NBQVFBLENBQUMsV0FBV2MsT0FBT0EsS0FBS04sS0FBSyxHQUFHO0lBRWxFLE1BQU1rQixTQUFTTixnQkFBZ0I7SUFFL0IsTUFBTU8sYUFBYTtRQUNmLElBQUlKLEtBQUtLLElBQUksSUFBSTtZQUNiWixTQUFTRixLQUFLZSxFQUFFLEVBQUVOLEtBQUtLLElBQUksSUFBSXBCLE1BQU1vQixJQUFJO1lBQ3pDTixhQUFhO1FBQ2pCO0lBQ0o7SUFFQSxNQUFNUSxlQUFlO1FBQ2pCTixRQUFRVixLQUFLUyxJQUFJO1FBQ2pCRSxTQUFTLFdBQVdYLE9BQU9BLEtBQUtOLEtBQUssR0FBRztRQUN4Q2MsYUFBYTtJQUNqQjtJQUVBLElBQUlELFdBQVc7UUFDWCxxQkFDSSw4REFBQ1g7WUFBSUMsV0FBVTs7OEJBQ1gsOERBQUNEO29CQUFJQyxXQUFVOztzQ0FDWCw4REFBQ29COzRCQUNHaEIsTUFBSzs0QkFDTGlCLE9BQU9UOzRCQUNQVSxVQUFVLENBQUNDLElBQU1WLFFBQVFVLEVBQUVDLE1BQU0sQ0FBQ0gsS0FBSzs0QkFDdkNyQixXQUFVOzRCQUNWeUIsYUFBWTs7Ozs7O3dCQUVmckIsU0FBUyw0QkFDTiw4REFBQ2dCOzRCQUNHaEIsTUFBSzs0QkFDTGlCLE9BQU94Qjs0QkFDUHlCLFVBQVUsQ0FBQ0MsSUFBTVQsU0FBU1MsRUFBRUMsTUFBTSxDQUFDSCxLQUFLOzRCQUN4Q3JCLFdBQVU7NEJBQ1Z5QixhQUFZOzs7Ozs7Ozs7Ozs7OEJBSXhCLDhEQUFDMUI7b0JBQUlDLFdBQVU7O3NDQUNYLDhEQUFDQzs0QkFBT04sU0FBU3FCOzRCQUFZbkIsT0FBTTs0QkFBT0csV0FBVTtzQ0FBbUY7Ozs7OztzQ0FDdkksOERBQUNDOzRCQUFPTixTQUFTd0I7NEJBQWN0QixPQUFNOzRCQUFTRyxXQUFVO3NDQUFtRjs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBSTNKO0lBRUEscUJBQ0ksOERBQUNEO1FBQUlDLFdBQVcsMkNBQWdFLE9BQXJCZSxTQUFTLFNBQVM7OzBCQUN6RSw4REFBQ2hCO2dCQUFJQyxXQUFVOztrQ0FDWCw4REFBQzBCO3dCQUFFMUIsV0FBVTtrQ0FBYUcsS0FBS1MsSUFBSTs7Ozs7O29CQUNsQ1IsU0FBUyxjQUFjLFdBQVdELFFBQVFBLEtBQUtOLEtBQUssa0JBQ2pELDhEQUFDNkI7d0JBQUUxQixXQUFVOzs0QkFBaUM7NEJBQUVHLEtBQUtOLEtBQUs7NEJBQUM7Ozs7Ozs7b0JBRTdETyxTQUFTLGNBQWMsY0FBY0Qsc0JBQ25DLDhEQUFDdUI7d0JBQUUxQixXQUFVO2tDQUFzQ0csS0FBS3dCLFFBQVE7Ozs7OztvQkFFbkVaLHdCQUFVLDhEQUFDVzt3QkFBRTFCLFdBQVU7a0NBQWtDUzs7Ozs7Ozs7Ozs7OzBCQUU5RCw4REFBQ1Y7Z0JBQUlDLFdBQVU7O2tDQUNYLDhEQUFDTjt3QkFBYUMsU0FBUyxJQUFNZ0IsYUFBYTt3QkFBT2QsT0FBT2tCLFNBQVNOLGNBQWM7a0NBQzNFLDRFQUFDakIsMERBQVFBOzs7Ozs7Ozs7O29CQUVaWSxTQUFTLDZCQUNOLDhEQUFDVjt3QkFBYUMsU0FBUyxDQUFDNEIsSUFBTWhCLFFBQVFKLEtBQUtlLEVBQUUsRUFBRUssRUFBRUssYUFBYSxDQUFDQyxxQkFBcUI7d0JBQUtoQyxPQUFPa0IsU0FBU04sY0FBYzt3QkFBc0JiLFVBQVVtQjtrQ0FDbkosNEVBQUN0QiwyREFBU0E7Ozs7Ozs7Ozs7a0NBR2xCLDhEQUFDQzt3QkFDR0MsU0FBUyxJQUFNVyxVQUFVSCxLQUFLZSxFQUFFO3dCQUNoQ3RCLFVBQVUsQ0FBQ1ksY0FBY087d0JBQ3pCbEIsT0FBT2tCLFNBQVNOLGNBQWVELGFBQWEsWUFBWTtrQ0FFeEQsNEVBQUNqQiw2REFBV0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLaEM7R0F4Rk1XO01BQUFBO0FBMkZOLE1BQU00QixzQkFBMEQ7UUFBQyxFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsS0FBSyxFQUFFN0IsSUFBSSxFQUFFOEIsWUFBWSxFQUFFQyxhQUFhLEVBQUVDLGVBQWUsRUFBRUMsc0JBQXNCLEVBQUVDLFVBQVUsRUFBRTs7SUFFL0ssTUFBTSxDQUFDQyxXQUFXQyxhQUFhLEdBQUduRCwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNvRCxhQUFhQyxlQUFlLEdBQUdyRCwrQ0FBUUEsQ0FBQztRQUFFZTtRQUFNNkI7UUFBT0s7SUFBVztJQUV6RWhELGdEQUFTQSxDQUFDO1FBQ04sSUFBSXlDLFVBQVVRLFdBQVc7WUFDckJHLGVBQWU7Z0JBQUV0QztnQkFBTTZCO2dCQUFPSztZQUFXO1FBQzdDO0lBQ0osR0FBRztRQUFDbEM7UUFBTTZCO1FBQU9LO1FBQVlQO1FBQVFRO0tBQVU7SUFFL0MsTUFBTUksY0FBYztRQUNoQkgsYUFBYTtRQUNiSSxXQUFXO1lBQ1BaO1lBQ0FRLGFBQWE7UUFDakIsR0FBRztJQUNQO0lBRUEsSUFBSSxDQUFDVCxVQUFVLENBQUNRLFdBQVcsT0FBTztJQUVsQyxNQUFNLEVBQUVuQyxNQUFNeUMsV0FBVyxFQUFFWixPQUFPYSxZQUFZLEVBQUVSLFlBQVlTLGFBQWEsRUFBRSxHQUFHTjtJQUM5RSxJQUFJLENBQUNJLGVBQWUsQ0FBQ0UsZUFBZSxPQUFPO0lBRTNDLE1BQU1DLFdBQVdILGdCQUFnQixjQUFjQyxhQUFhRyxTQUFTLEdBQUdILGFBQWFJLFFBQVE7SUFDN0YsTUFBTUMsWUFBWU4sZ0JBQWdCLGNBQWMsbUJBQW1CO0lBRW5FLE1BQU1PLGFBQWtDO1FBQ3BDQyxLQUFLLEdBQTRCLE9BQXpCTixjQUFjTyxNQUFNLEdBQUcsR0FBRTtRQUNqQ0MsTUFBTSxHQUFzQixPQUFuQlIsY0FBY1EsSUFBSSxFQUFDO1FBQzVCQyxpQkFBaUI7UUFDakJDLFdBQVcsZ0JBQTBDLE9BQTFCVixjQUFjTyxNQUFNLEdBQUcsSUFBRztJQUN6RDtJQUVBLHFCQUNJLDhEQUFDdkQ7UUFDRzJELE9BQU9OO1FBQ1BwRCxXQUFXLHFFQUEySSxPQUF0RStCLFVBQVUsQ0FBQ1EsWUFBWSwwQkFBMEI7a0JBRWhJLDRFQUFDeEM7WUFBSUMsV0FBVTs7OEJBQ1osOERBQUNEO29CQUFJQyxXQUFVOztzQ0FDWCw4REFBQzJEOzRCQUFHM0QsV0FBVTtzQ0FBdUJtRDs7Ozs7O3NDQUNyQyw4REFBQ2xEOzRCQUFPTixTQUFTZ0Q7NEJBQWEzQyxXQUFVO3NDQUF5Qzs7Ozs7Ozs7Ozs7OzhCQUdyRiw4REFBQ0Q7b0JBQUlDLFdBQVU7OEJBQ1ZnRCxTQUFTWSxNQUFNLEdBQUcsSUFDZlosU0FBU2EsR0FBRyxDQUFDMUQsQ0FBQUEscUJBQ1QsOERBQUNEOzRCQUVHQyxNQUFNQTs0QkFDTkMsTUFBTXlDOzRCQUNOeEMsVUFBVSxDQUFDYSxJQUFJTixNQUFNZixRQUFVcUMsYUFBYVcsYUFBYTNCLElBQUlOLE1BQU1mOzRCQUNuRVMsV0FBVyxDQUFDWSxLQUFPaUIsY0FBY1UsYUFBYTNCOzRCQUM5Q1gsU0FBUzZCOzRCQUNUNUIsWUFBWXFDLGdCQUFnQixlQUFlQyxhQUFhRyxTQUFTLENBQUNXLE1BQU0sR0FBRzs0QkFDM0VuRCxhQUFhb0MsZ0JBQWdCLGNBQWNSLHVCQUF1QmxDLEtBQUtlLEVBQUUsSUFBSTsyQkFQeEVmLEtBQUtlLEVBQUU7Ozs7dURBV3BCLDhEQUFDUTt3QkFBRTFCLFdBQVU7OzRCQUF1Qzs0QkFBYTZDOzRCQUFZOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1yRztJQWxFTWY7TUFBQUE7QUFvRU4sK0RBQWVBLG1CQUFtQkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL1VuaXRNYW5hZ2VtZW50UGFuZWwudHN4P2IyMWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdHlwZSB7IFVuaXRzLCBWaWxsYWdlciwgTWlsaXRhcnlVbml0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgRGlzbWlzc0ljb24sIEVkaXRJY29uLCBCdWlsZEljb24gfSBmcm9tICcuL2ljb25zL1Jlc291cmNlSWNvbnMnO1xuXG50eXBlIFVuaXRUeXBlID0gJ3ZpbGxhZ2VycycgfCAnbWlsaXRhcnknO1xuXG5pbnRlcmZhY2UgVW5pdE1hbmFnZW1lbnRQYW5lbFByb3BzIHtcbiAgICBpc09wZW46IGJvb2xlYW47XG4gICAgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgICB1bml0czogVW5pdHM7XG4gICAgdHlwZTogVW5pdFR5cGUgfCBudWxsO1xuICAgIG9uVXBkYXRlVW5pdDogKHR5cGU6IFVuaXRUeXBlLCBpZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIHRpdGxlPzogc3RyaW5nKSA9PiB2b2lkO1xuICAgIG9uRGlzbWlzc1VuaXQ6ICh0eXBlOiBVbml0VHlwZSwgaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgICBvbkluaXRpYXRlQnVpbGQ6ICh2aWxsYWdlcklkOiBzdHJpbmcsIHJlY3Q6IERPTVJlY3QpID0+IHZvaWQ7XG4gICAgZ2V0VmlsbGFnZXJUYXNrRGV0YWlsczogKHZpbGxhZ2VySWQ6IHN0cmluZykgPT4gc3RyaW5nO1xuICAgIGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsO1xufVxuXG5jb25zdCBBY3Rpb25CdXR0b246IFJlYWN0LkZDPHtcbiAgICBvbkNsaWNrOiAoZXZlbnQ6IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTEJ1dHRvbkVsZW1lbnQ+KSA9PiB2b2lkO1xuICAgIGRpc2FibGVkPzogYm9vbGVhbjtcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7XG59PiA9ICh7IG9uQ2xpY2ssIGRpc2FibGVkLCB0aXRsZSwgY2hpbGRyZW4gfSkgPT4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXBcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17b25DbGlja31cbiAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInNjaS1maS1hY3Rpb24tYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTUgaC01XCI+e2NoaWxkcmVufTwvZGl2PlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tZnVsbCByaWdodC0wIG1iLTIgdy1tYXggcHgtMiBweS0xIGJnLXN0b25lLWRhcmsgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHBvaW50ZXItZXZlbnRzLW5vbmUgei0xMFwiPlxuICAgICAgICAgICAge3RpdGxlfVxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbik7XG5cbmNvbnN0IFVuaXRSb3c6IFJlYWN0LkZDPHtcbiAgICB1bml0OiBWaWxsYWdlciB8IE1pbGl0YXJ5VW5pdDtcbiAgICB0eXBlOiBVbml0VHlwZTtcbiAgICBvblVwZGF0ZTogKGlkOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgdGl0bGU/OiBzdHJpbmcpID0+IHZvaWQ7XG4gICAgb25EaXNtaXNzOiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgICBvbkJ1aWxkOiAoaWQ6IHN0cmluZywgcmVjdDogRE9NUmVjdCkgPT4gdm9pZDtcbiAgICBjYW5EaXNtaXNzOiBib29sZWFuO1xuICAgIHRhc2tEZXRhaWxzOiBzdHJpbmc7XG59PiA9ICh7IHVuaXQsIHR5cGUsIG9uVXBkYXRlLCBvbkRpc21pc3MsIG9uQnVpbGQsIGNhbkRpc21pc3MsIHRhc2tEZXRhaWxzIH0pID0+IHtcbiAgICBjb25zdCBbaXNFZGl0aW5nLCBzZXRJc0VkaXRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtuYW1lLCBzZXROYW1lXSA9IHVzZVN0YXRlKHVuaXQubmFtZSk7XG4gICAgY29uc3QgW3RpdGxlLCBzZXRUaXRsZV0gPSB1c2VTdGF0ZSgndGl0bGUnIGluIHVuaXQgPyB1bml0LnRpdGxlIDogJycpO1xuXG4gICAgY29uc3QgaXNCdXN5ID0gdGFza0RldGFpbHMgIT09ICdJZGxlJztcblxuICAgIGNvbnN0IGhhbmRsZVNhdmUgPSAoKSA9PiB7XG4gICAgICAgIGlmIChuYW1lLnRyaW0oKSkge1xuICAgICAgICAgICAgb25VcGRhdGUodW5pdC5pZCwgbmFtZS50cmltKCksIHRpdGxlLnRyaW0oKSk7XG4gICAgICAgICAgICBzZXRJc0VkaXRpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUNhbmNlbCA9ICgpID0+IHtcbiAgICAgICAgc2V0TmFtZSh1bml0Lm5hbWUpO1xuICAgICAgICBzZXRUaXRsZSgndGl0bGUnIGluIHVuaXQgPyB1bml0LnRpdGxlIDogJycpO1xuICAgICAgICBzZXRJc0VkaXRpbmcoZmFsc2UpO1xuICAgIH07XG5cbiAgICBpZiAoaXNFZGl0aW5nKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNjaS1maS11bml0LXJvdyBlZGl0aW5nIGZsZXggZmxleC1jb2wgc206ZmxleC1yb3cgaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LWdyb3cgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e25hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE5hbWUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2NpLWZpLWlucHV0IHctZnVsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICB7dHlwZSA9PT0gJ21pbGl0YXJ5JyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGl0bGUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNjaS1maS1pbnB1dCB3LWZ1bGwgbXQtMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUaXRsZSAoZS5nLiwgJ1RoZSBCcmF2ZScpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0xIHNlbGYtZW5kIHNtOnNlbGYtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlU2F2ZX0gdGl0bGU9XCJTYXZlXCIgY2xhc3NOYW1lPVwiYmctYnJhbmQtZ3JlZW4vODAgaG92ZXI6YmctYnJhbmQtZ3JlZW4gdGV4dC13aGl0ZSBweC0yIHB5LTAuNSB0ZXh0LXhzIHJvdW5kZWQtbWRcIj7inJM8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVDYW5jZWx9IHRpdGxlPVwiQ2FuY2VsXCIgY2xhc3NOYW1lPVwiYmctc3RvbmUtbGlnaHQvODAgaG92ZXI6Ymctc3RvbmUtbGlnaHQgdGV4dC13aGl0ZSBweC0yIHB5LTAuNSB0ZXh0LXhzIHJvdW5kZWQtbWRcIj7DlzwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BzY2ktZmktdW5pdC1yb3cgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTQgJHtpc0J1c3kgPyAnYnVzeScgOiAnJ31gfT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1ncm93XCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1ib2xkXCI+e3VuaXQubmFtZX08L3A+XG4gICAgICAgICAgICAgICAge3R5cGUgPT09ICdtaWxpdGFyeScgJiYgJ3RpdGxlJyBpbiB1bml0ICYmIHVuaXQudGl0bGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtYnJhbmQtZ29sZCBpdGFsaWNcIj5cInt1bml0LnRpdGxlfVwiPC9wPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgIHt0eXBlID09PSAnbWlsaXRhcnknICYmICd1bml0VHlwZScgaW4gdW5pdCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1icmFuZC1ibHVlIGNhcGl0YWxpemVcIj57dW5pdC51bml0VHlwZX08L3A+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7aXNCdXN5ICYmIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1icmFuZC1nb2xkIGl0YWxpY1wiPnt0YXNrRGV0YWlsc308L3A+fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgPEFjdGlvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRJc0VkaXRpbmcodHJ1ZSl9IHRpdGxlPXtpc0J1c3kgPyB0YXNrRGV0YWlscyA6ICdFZGl0IE5hbWUvVGl0bGUnfT5cbiAgICAgICAgICAgICAgICAgICAgPEVkaXRJY29uIC8+XG4gICAgICAgICAgICAgICAgPC9BY3Rpb25CdXR0b24+XG4gICAgICAgICAgICAgICAge3R5cGUgPT09ICd2aWxsYWdlcnMnICYmIChcbiAgICAgICAgICAgICAgICAgICAgPEFjdGlvbkJ1dHRvbiBvbkNsaWNrPXsoZSkgPT4gb25CdWlsZCh1bml0LmlkLCBlLmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpfSB0aXRsZT17aXNCdXN5ID8gdGFza0RldGFpbHMgOiAnQ29uc3RydWN0IEJ1aWxkaW5nJ30gZGlzYWJsZWQ9e2lzQnVzeX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnVpbGRJY29uIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvQWN0aW9uQnV0dG9uPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPEFjdGlvbkJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25EaXNtaXNzKHVuaXQuaWQpfSBcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFjYW5EaXNtaXNzIHx8IGlzQnVzeX0gXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXtpc0J1c3kgPyB0YXNrRGV0YWlscyA6IChjYW5EaXNtaXNzID8gXCJEaXNtaXNzXCIgOiBcIkNhbm5vdCBkaXNtaXNzXCIpfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPERpc21pc3NJY29uIC8+XG4gICAgICAgICAgICAgICAgPC9BY3Rpb25CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cblxuY29uc3QgVW5pdE1hbmFnZW1lbnRQYW5lbDogUmVhY3QuRkM8VW5pdE1hbmFnZW1lbnRQYW5lbFByb3BzPiA9ICh7IGlzT3Blbiwgb25DbG9zZSwgdW5pdHMsIHR5cGUsIG9uVXBkYXRlVW5pdCwgb25EaXNtaXNzVW5pdCwgb25Jbml0aWF0ZUJ1aWxkLCBnZXRWaWxsYWdlclRhc2tEZXRhaWxzLCBhbmNob3JSZWN0IH0pID0+IHtcbiAgICBcbiAgICBjb25zdCBbaXNDbG9zaW5nLCBzZXRJc0Nsb3NpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtjdXJyZW50RGF0YSwgc2V0Q3VycmVudERhdGFdID0gdXNlU3RhdGUoeyB0eXBlLCB1bml0cywgYW5jaG9yUmVjdCB9KTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpc09wZW4gfHwgaXNDbG9zaW5nKSB7XG4gICAgICAgICAgICBzZXRDdXJyZW50RGF0YSh7IHR5cGUsIHVuaXRzLCBhbmNob3JSZWN0IH0pO1xuICAgICAgICB9XG4gICAgfSwgW3R5cGUsIHVuaXRzLCBhbmNob3JSZWN0LCBpc09wZW4sIGlzQ2xvc2luZ10pO1xuXG4gICAgY29uc3QgaGFuZGxlQ2xvc2UgPSAoKSA9PiB7XG4gICAgICAgIHNldElzQ2xvc2luZyh0cnVlKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgICAgICBzZXRJc0Nsb3NpbmcoZmFsc2UpOyBcbiAgICAgICAgfSwgMzAwKTsgXG4gICAgfTtcblxuICAgIGlmICghaXNPcGVuICYmICFpc0Nsb3NpbmcpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgeyB0eXBlOiBjdXJyZW50VHlwZSwgdW5pdHM6IGN1cnJlbnRVbml0cywgYW5jaG9yUmVjdDogY3VycmVudEFuY2hvciB9ID0gY3VycmVudERhdGE7XG4gICAgaWYgKCFjdXJyZW50VHlwZSB8fCAhY3VycmVudEFuY2hvcikgcmV0dXJuIG51bGw7XG5cbiAgICBjb25zdCB1bml0TGlzdCA9IGN1cnJlbnRUeXBlID09PSAndmlsbGFnZXJzJyA/IGN1cnJlbnRVbml0cy52aWxsYWdlcnMgOiBjdXJyZW50VW5pdHMubWlsaXRhcnk7XG4gICAgY29uc3QgdGl0bGVUZXh0ID0gY3VycmVudFR5cGUgPT09ICd2aWxsYWdlcnMnID8gJ1lvdXIgVmlsbGFnZXJzJyA6ICdZb3VyIE1pbGl0YXJ5IEZvcmNlcyc7XG5cbiAgICBjb25zdCBwYW5lbFN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzID0ge1xuICAgICAgICB0b3A6IGAke2N1cnJlbnRBbmNob3IuYm90dG9tICsgOH1weGAsXG4gICAgICAgIGxlZnQ6IGAke2N1cnJlbnRBbmNob3IubGVmdH1weGAsXG4gICAgICAgIHRyYW5zZm9ybU9yaWdpbjogJ3RvcCBsZWZ0JyxcbiAgICAgICAgbWF4SGVpZ2h0OiBgY2FsYygxMDB2aCAtICR7Y3VycmVudEFuY2hvci5ib3R0b20gKyAyNH1weClgLFxuICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllcztcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXtwYW5lbFN0eWxlfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgZml4ZWQgei00MCB3LTgwIHRyYW5zZm9ybSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgZWFzZS1pbi1vdXQgJHtpc09wZW4gJiYgIWlzQ2xvc2luZyA/ICdvcGFjaXR5LTEwMCBzY2FsZS0xMDAnIDogJ29wYWNpdHktMCBzY2FsZS05NSd9YH1cbiAgICAgICAgPlxuICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2NpLWZpLXBhbmVsLXBvcHVwIHNjaS1maS1ncmlkIHAtNCBoLWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTQgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1zZXJpZlwiPnt0aXRsZVRleHR9PC9oMj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVDbG9zZX0gY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHNjaS1maS1jbG9zZS1idXR0b25cIj4mdGltZXM7PC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMiBmbGV4LWdyb3cgb3ZlcmZsb3cteS1hdXRvIHByLTJcIj5cbiAgICAgICAgICAgICAgICAgICAge3VuaXRMaXN0Lmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICB1bml0TGlzdC5tYXAodW5pdCA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFVuaXRSb3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXt1bml0LmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bml0PXt1bml0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPXtjdXJyZW50VHlwZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25VcGRhdGU9eyhpZCwgbmFtZSwgdGl0bGUpID0+IG9uVXBkYXRlVW5pdChjdXJyZW50VHlwZSwgaWQsIG5hbWUsIHRpdGxlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EaXNtaXNzPXsoaWQpID0+IG9uRGlzbWlzc1VuaXQoY3VycmVudFR5cGUsIGlkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25CdWlsZD17b25Jbml0aWF0ZUJ1aWxkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5EaXNtaXNzPXtjdXJyZW50VHlwZSAhPT0gJ3ZpbGxhZ2VycycgfHwgY3VycmVudFVuaXRzLnZpbGxhZ2Vycy5sZW5ndGggPiAxfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrRGV0YWlscz17Y3VycmVudFR5cGUgPT09ICd2aWxsYWdlcnMnID8gZ2V0VmlsbGFnZXJUYXNrRGV0YWlscyh1bml0LmlkKSA6ICdJZGxlJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtcGFyY2htZW50LWRhcmsgcHktOFwiPllvdSBoYXZlIG5vIHtjdXJyZW50VHlwZX0uPC9wPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBVbml0TWFuYWdlbWVudFBhbmVsO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJEaXNtaXNzSWNvbiIsIkVkaXRJY29uIiwiQnVpbGRJY29uIiwiQWN0aW9uQnV0dG9uIiwib25DbGljayIsImRpc2FibGVkIiwidGl0bGUiLCJjaGlsZHJlbiIsImRpdiIsImNsYXNzTmFtZSIsImJ1dHRvbiIsIlVuaXRSb3ciLCJ1bml0IiwidHlwZSIsIm9uVXBkYXRlIiwib25EaXNtaXNzIiwib25CdWlsZCIsImNhbkRpc21pc3MiLCJ0YXNrRGV0YWlscyIsImlzRWRpdGluZyIsInNldElzRWRpdGluZyIsIm5hbWUiLCJzZXROYW1lIiwic2V0VGl0bGUiLCJpc0J1c3kiLCJoYW5kbGVTYXZlIiwidHJpbSIsImlkIiwiaGFuZGxlQ2FuY2VsIiwiaW5wdXQiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsInBsYWNlaG9sZGVyIiwicCIsInVuaXRUeXBlIiwiY3VycmVudFRhcmdldCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIlVuaXRNYW5hZ2VtZW50UGFuZWwiLCJpc09wZW4iLCJvbkNsb3NlIiwidW5pdHMiLCJvblVwZGF0ZVVuaXQiLCJvbkRpc21pc3NVbml0Iiwib25Jbml0aWF0ZUJ1aWxkIiwiZ2V0VmlsbGFnZXJUYXNrRGV0YWlscyIsImFuY2hvclJlY3QiLCJpc0Nsb3NpbmciLCJzZXRJc0Nsb3NpbmciLCJjdXJyZW50RGF0YSIsInNldEN1cnJlbnREYXRhIiwiaGFuZGxlQ2xvc2UiLCJzZXRUaW1lb3V0IiwiY3VycmVudFR5cGUiLCJjdXJyZW50VW5pdHMiLCJjdXJyZW50QW5jaG9yIiwidW5pdExpc3QiLCJ2aWxsYWdlcnMiLCJtaWxpdGFyeSIsInRpdGxlVGV4dCIsInBhbmVsU3R5bGUiLCJ0b3AiLCJib3R0b20iLCJsZWZ0IiwidHJhbnNmb3JtT3JpZ2luIiwibWF4SGVpZ2h0Iiwic3R5bGUiLCJoMiIsImxlbmd0aCIsIm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/UnitManagementPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/types */ \"(app-pages-browser)/./types.ts\");\n/* harmony import */ var _services_geminiService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/services/geminiService */ \"(app-pages-browser)/./services/geminiService.ts\");\n/* harmony import */ var _services_dbService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/services/dbService */ \"(app-pages-browser)/./services/dbService.ts\");\n/* harmony import */ var _services_nameService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/services/nameService */ \"(app-pages-browser)/./services/nameService.ts\");\n/* harmony import */ var _components_GameUI__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/GameUI */ \"(app-pages-browser)/./components/GameUI.tsx\");\n/* harmony import */ var _components_StartScreen__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/StartScreen */ \"(app-pages-browser)/./components/StartScreen.tsx\");\n/* harmony import */ var _components_LoadingScreen__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/LoadingScreen */ \"(app-pages-browser)/./components/LoadingScreen.tsx\");\n/* harmony import */ var _components_BuildPanel__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/BuildPanel */ \"(app-pages-browser)/./components/BuildPanel.tsx\");\n/* harmony import */ var _components_NotificationManager__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/NotificationManager */ \"(app-pages-browser)/./components/NotificationManager.tsx\");\n/* harmony import */ var _components_UnitManagementPanel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/UnitManagementPanel */ \"(app-pages-browser)/./components/UnitManagementPanel.tsx\");\n/* harmony import */ var _components_BuildingManagementPanel__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/components/BuildingManagementPanel */ \"(app-pages-browser)/./components/BuildingManagementPanel.tsx\");\n/* harmony import */ var _components_ResourceAssignmentPanel__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/components/ResourceAssignmentPanel */ \"(app-pages-browser)/./components/ResourceAssignmentPanel.tsx\");\n/* harmony import */ var _components_CivilizationPanel__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/components/CivilizationPanel */ \"(app-pages-browser)/./components/CivilizationPanel.tsx\");\n/* harmony import */ var _components_AllBuildingsPanel__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/components/AllBuildingsPanel */ \"(app-pages-browser)/./components/AllBuildingsPanel.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst BUILDINGS_INFO = [\n    {\n        id: \"houses\",\n        name: \"House\",\n        description: \"Increases population capacity by 5.\",\n        cost: {\n            wood: 50\n        },\n        isUnique: false,\n        buildTime: 15\n    },\n    {\n        id: \"barracks\",\n        name: \"Barracks\",\n        description: \"Allows training of Swordsmen.\",\n        cost: {\n            wood: 150,\n            stone: 50\n        },\n        isUnique: true,\n        buildTime: 60\n    },\n    {\n        id: \"archeryRange\",\n        name: \"Archery Range\",\n        description: \"Allows training of Archers.\",\n        cost: {\n            wood: 175\n        },\n        isUnique: true,\n        buildTime: 60\n    },\n    {\n        id: \"stable\",\n        name: \"Stables\",\n        description: \"Allows training of Knights.\",\n        cost: {\n            wood: 175,\n            gold: 75\n        },\n        isUnique: true,\n        buildTime: 75\n    },\n    {\n        id: \"siegeWorkshop\",\n        name: \"Siege Workshop\",\n        description: \"Constructs powerful Catapults.\",\n        cost: {\n            wood: 200,\n            gold: 150\n        },\n        isUnique: true,\n        buildTime: 90\n    },\n    {\n        id: \"blacksmith\",\n        name: \"Blacksmith\",\n        description: \"Researches infantry and cavalry upgrades.\",\n        cost: {\n            wood: 100,\n            gold: 100\n        },\n        isUnique: true,\n        buildTime: 45\n    },\n    {\n        id: \"watchTower\",\n        name: \"Watch Tower\",\n        description: \"Provides defense against raids.\",\n        cost: {\n            stone: 125\n        },\n        isUnique: true,\n        buildTime: 45\n    },\n    {\n        id: \"townCenter\",\n        name: \"Town Center\",\n        description: \"The heart of your settlement.\",\n        cost: {},\n        isUnique: true,\n        buildTime: 0\n    }\n];\nconst UNIT_INFO = [\n    {\n        id: \"swordsman\",\n        name: \"Swordsman\",\n        description: \"Basic melee infantry.\",\n        cost: {\n            food: 60,\n            gold: 20\n        },\n        requiredBuilding: \"barracks\",\n        trainTime: 22\n    },\n    {\n        id: \"archer\",\n        name: \"Archer\",\n        description: \"Ranged unit effective against infantry.\",\n        cost: {\n            food: 30,\n            wood: 40\n        },\n        requiredBuilding: \"archeryRange\",\n        trainTime: 25\n    },\n    {\n        id: \"knight\",\n        name: \"Knight\",\n        description: \"Fast and powerful cavalry.\",\n        cost: {\n            food: 60,\n            gold: 75\n        },\n        requiredBuilding: \"stable\",\n        trainTime: 30\n    },\n    {\n        id: \"catapult\",\n        name: \"Catapult\",\n        description: \"Siege engine devastating to buildings.\",\n        cost: {\n            wood: 150,\n            gold: 150\n        },\n        requiredBuilding: \"siegeWorkshop\",\n        trainTime: 45\n    }\n];\nconst GATHER_INFO = {\n    food: {\n        rate: 100\n    },\n    wood: {\n        rate: 80\n    },\n    gold: {\n        rate: 50\n    },\n    stone: {\n        rate: 60\n    }\n};\nconst initialBuildingsState = {\n    houses: [],\n    barracks: [],\n    archeryRange: [],\n    stable: [],\n    siegeWorkshop: [],\n    blacksmith: [],\n    watchTower: [],\n    townCenter: []\n};\nconst MAP_DIMENSIONS = {\n    width: 25,\n    height: 18\n};\nconst GamePage = ()=>{\n    var _buildings_townCenter;\n    _s();\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU);\n    const [civilization, setCivilization] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [resources, setResources] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        food: 200,\n        wood: 150,\n        gold: 50,\n        stone: 100\n    });\n    const [units, setUnits] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        villagers: [],\n        military: []\n    });\n    const [buildings, setBuildings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialBuildingsState);\n    const [currentAge, setCurrentAge] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Nomadic Age\");\n    const [gameLog, setGameLog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentEvent, setCurrentEvent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [resourceDeltas, setResourceDeltas] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [activityStatus, setActivityStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Your story begins...\");\n    const [notifications, setNotifications] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [unlimitedResources, setUnlimitedResources] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [allSaves, setAllSaves] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentSaveName, setCurrentSaveName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [playerAction, setPlayerAction] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [activeTasks, setActiveTasks] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [constructingBuildings, setConstructingBuildings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [resourceNodes, setResourceNodes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // Panel States\n    const [buildPanelState, setBuildPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        villagerId: null,\n        anchorRect: null\n    });\n    const [unitManagementPanel, setUnitManagementPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        type: null,\n        anchorRect: null\n    });\n    const [buildingManagementPanel, setBuildingManagementPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        type: null,\n        anchorRect: null\n    });\n    const [allBuildingsPanel, setAllBuildingsPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const [assignmentPanelState, setAssignmentPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        targetId: null,\n        targetType: null,\n        anchorRect: null\n    });\n    const [civPanelState, setCivPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const deltaTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    const eventTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const population = {\n        current: units.villagers.length + units.military.length,\n        capacity: (((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter.length) > 0 ? 20 : 0) + buildings.houses.length * 5\n    };\n    const fetchSaves = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        const names = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllSaveNames)();\n        setAllSaves(names);\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        fetchSaves();\n    }, [\n        fetchSaves\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && civilization && currentSaveName) {\n            const fullState = {\n                civilization,\n                resources,\n                units,\n                buildings,\n                currentAge,\n                gameLog,\n                activeTasks,\n                constructingBuildings,\n                resourceNodes\n            };\n            (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.saveGameState)(currentSaveName, fullState);\n        }\n    }, [\n        civilization,\n        resources,\n        units,\n        buildings,\n        currentAge,\n        gameLog,\n        gameState,\n        currentSaveName,\n        activeTasks,\n        constructingBuildings,\n        resourceNodes\n    ]);\n    const addNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message)=>{\n        const id = \"\".concat(Date.now(), \"-\").concat(Math.random());\n        setNotifications((prev)=>[\n                ...prev,\n                {\n                    id,\n                    message\n                }\n            ]);\n    }, []);\n    const removeNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id)=>{\n        setNotifications((prev)=>prev.filter((n)=>n.id !== id));\n    }, []);\n    const addToLog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message, icon)=>{\n        setGameLog((prev)=>[\n                {\n                    id: \"\".concat(Date.now(), \"-\").concat(Math.random()),\n                    message,\n                    icon\n                },\n                ...prev.slice(0, 19)\n            ]);\n    }, []);\n    const updateResources = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((deltas)=>{\n        setResources((prev)=>{\n            const newResources = {\n                ...prev\n            };\n            for(const key in deltas){\n                const resourceKey = key;\n                var _deltas_resourceKey;\n                newResources[resourceKey] = Math.max(0, newResources[resourceKey] + ((_deltas_resourceKey = deltas[resourceKey]) !== null && _deltas_resourceKey !== void 0 ? _deltas_resourceKey : 0));\n            }\n            return newResources;\n        });\n        setResourceDeltas((prev)=>({\n                ...prev,\n                ...deltas\n            }));\n        for(const key in deltas){\n            const resourceKey = key;\n            if (deltaTimeoutRef.current[resourceKey]) {\n                window.clearTimeout(deltaTimeoutRef.current[resourceKey]);\n            }\n            deltaTimeoutRef.current[resourceKey] = window.setTimeout(()=>{\n                setResourceDeltas((prev)=>{\n                    const newDeltas = {\n                        ...prev\n                    };\n                    delete newDeltas[resourceKey];\n                    return newDeltas;\n                });\n            }, 1500);\n        }\n    }, []);\n    const handleTaskCompletion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((task)=>{\n        switch(task.type){\n            case \"build\":\n                {\n                    const { buildingType, villagerIds, position } = task.payload;\n                    const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === buildingType);\n                    const [name] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n                    const newBuilding = {\n                        id: task.id,\n                        name,\n                        position: position\n                    };\n                    setConstructingBuildings((prev)=>prev.filter((b)=>b.id !== task.id));\n                    setBuildings((p)=>({\n                            ...p,\n                            [buildingType]: [\n                                ...p[buildingType],\n                                newBuilding\n                            ]\n                        }));\n                    if (villagerIds && villagerIds.length > 0) {\n                        addToLog(\"\".concat(villagerIds.length, \" builder(s) have constructed \").concat(name, \", a new \").concat(buildingInfo.name, \".\"), buildingType);\n                        setActivityStatus(\"Construction of \".concat(name, \" is complete.\"));\n                    }\n                    break;\n                }\n            case \"gather\":\n                {\n                    break;\n                }\n            case \"train_villager\":\n                {\n                    const { count } = task.payload;\n                    const newVillagerNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", count);\n                    const newVillagers = newVillagerNames.map((name)=>({\n                            id: \"\".concat(Date.now(), \"-\").concat(name),\n                            name\n                        }));\n                    setUnits((p)=>({\n                            ...p,\n                            villagers: [\n                                ...p.villagers,\n                                ...newVillagers\n                            ]\n                        }));\n                    addToLog(\"\".concat(count, \" new villager(s) have joined your settlement.\"), \"villager\");\n                    setActivityStatus(\"\".concat(count, \" new villager(s) are ready to work.\"));\n                    break;\n                }\n            case \"train_military\":\n                {\n                    const { unitType, count } = task.payload;\n                    const unitInfo = UNIT_INFO.find((u)=>u.id === unitType);\n                    const newUnitNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"soldier\", count);\n                    const newUnits = newUnitNames.map((name)=>({\n                            id: \"\".concat(Date.now(), \"-\").concat(unitType, \"-\").concat(name),\n                            name,\n                            title: \"\",\n                            unitType: unitType\n                        }));\n                    setUnits((p)=>({\n                            ...p,\n                            military: [\n                                ...p.military,\n                                ...newUnits\n                            ]\n                        }));\n                    addToLog(\"\".concat(count, \" \").concat(unitInfo.name, \"(s) have been trained.\"), unitType);\n                    setActivityStatus(\"\".concat(count, \" new \").concat(unitInfo.name, \"(s) are ready for battle.\"));\n                    break;\n                }\n            case \"advance_age\":\n                {\n                    const ageResult = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedAge)(currentAge);\n                    setCurrentAge(ageResult.nextAgeName);\n                    addToLog(\"You have advanced to the \".concat(ageResult.nextAgeName, \"!\"), \"age\");\n                    addToLog(ageResult.description, \"age\");\n                    setActivityStatus(\"Welcome to the \".concat(ageResult.nextAgeName, \"!\"));\n                    break;\n                }\n        }\n    }, [\n        currentAge,\n        updateResources,\n        addToLog\n    ]);\n    // Game Loop\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const gameLoop = setInterval(()=>{\n            const now = Date.now();\n            let completedTasks = [];\n            let resourceDeltasThisTick = {};\n            const stillActiveTasks = activeTasks.map((task)=>{\n                if (now >= task.startTime + task.duration) {\n                    completedTasks.push(task);\n                    return null;\n                }\n                if (task.type === \"gather\") {\n                    var _task_payload_villagerIds, _task_payload;\n                    const node = resourceNodes.find((n)=>{\n                        var _task_payload;\n                        return n.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.resourceNodeId);\n                    });\n                    const villagerCount = ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 0;\n                    if (!node || villagerCount === 0) {\n                        return null; // Orphaned task, mark for removal\n                    }\n                    const gatherRatePerVillagerPerSecond = GATHER_INFO[node.type].rate / 10;\n                    const amountGatheredThisTick = gatherRatePerVillagerPerSecond * villagerCount;\n                    resourceDeltasThisTick[node.type] = (resourceDeltasThisTick[node.type] || 0) + amountGatheredThisTick;\n                }\n                return task;\n            }).filter(Boolean);\n            // Update resource nodes separately to avoid race conditions with state\n            if (Object.keys(resourceDeltasThisTick).length > 0) {\n                setResources((prevRes)=>{\n                    const newResources = {\n                        ...prevRes\n                    };\n                    for(const key in resourceDeltasThisTick){\n                        const resKey = key;\n                        newResources[resKey] += resourceDeltasThisTick[resKey];\n                    }\n                    return newResources;\n                });\n                setResourceNodes((prevNodes)=>{\n                    let nodesWereDepleted = false;\n                    const newNodes = prevNodes.map((node)=>{\n                        const amountToDecrement = resourceDeltasThisTick[node.type];\n                        if (amountToDecrement) {\n                            const newAmount = node.amount - amountToDecrement;\n                            if (newAmount <= 0) {\n                                addToLog(\"\".concat(node.assignedVillagers.length, \" villager(s) depleted a \").concat(node.type, \" source, gaining \").concat(Math.floor(node.amount), \" \").concat(node.type, \".\"), node.type);\n                                setActivityStatus(\"A \".concat(node.type, \" source has been fully depleted.\"));\n                                nodesWereDepleted = true;\n                                const gatherTask = stillActiveTasks.find((t)=>{\n                                    var _t_payload;\n                                    return t.type === \"gather\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.resourceNodeId) === node.id;\n                                });\n                                if (gatherTask) completedTasks.push(gatherTask);\n                                return null;\n                            }\n                            return {\n                                ...node,\n                                amount: newAmount\n                            };\n                        }\n                        return node;\n                    }).filter(Boolean);\n                    if (nodesWereDepleted) {\n                    // This will filter out the completed gather tasks in the next step\n                    }\n                    return newNodes;\n                });\n            }\n            const finalActiveTasks = stillActiveTasks.filter((t)=>!completedTasks.some((ct)=>ct.id === t.id));\n            setActiveTasks(finalActiveTasks);\n            if (completedTasks.length > 0) {\n                completedTasks.forEach(handleTaskCompletion);\n            }\n        }, 1000);\n        return ()=>clearInterval(gameLoop);\n    }, [\n        activeTasks,\n        resourceNodes,\n        handleTaskCompletion,\n        addToLog\n    ]);\n    const handleNewEvent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const nonGatheringTasks = activeTasks.filter((t)=>t.type !== \"gather\");\n        if (!civilization || currentEvent || nonGatheringTasks.length > 0) return;\n        addToLog(\"A new chapter unfolds...\", \"event\");\n        const event = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedGameEvent)();\n        setCurrentEvent(event);\n        setActivityStatus(\"A new event requires your attention!\");\n    }, [\n        civilization,\n        currentEvent,\n        activeTasks,\n        addToLog\n    ]);\n    const scheduleNextEvent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (eventTimerRef.current) {\n            clearTimeout(eventTimerRef.current);\n        }\n        const nextEventTime = (45 + Math.random() * 45) * 1000; // 45-90 seconds\n        eventTimerRef.current = setTimeout(()=>handleNewEvent(), nextEventTime);\n    }, [\n        handleNewEvent\n    ]);\n    const generateResourceNodes = (existingPositions)=>{\n        const nodes = [];\n        const types = [\n            \"food\",\n            \"wood\",\n            \"gold\",\n            \"stone\"\n        ];\n        const numNodes = 20 + Math.floor(Math.random() * 10);\n        for(let i = 0; i < numNodes; i++){\n            let pos;\n            do {\n                pos = {\n                    x: Math.floor(Math.random() * MAP_DIMENSIONS.width),\n                    y: Math.floor(Math.random() * MAP_DIMENSIONS.height)\n                };\n            }while (existingPositions.has(\"\".concat(pos.x, \",\").concat(pos.y)));\n            existingPositions.add(\"\".concat(pos.x, \",\").concat(pos.y));\n            const type = types[Math.floor(Math.random() * types.length)];\n            const amount = Math.floor(Math.random() * (2500 - 500 + 1)) + 500;\n            nodes.push({\n                id: \"\".concat(Date.now(), \"-node-\").concat(i),\n                type,\n                position: pos,\n                amount,\n                assignedVillagers: []\n            });\n        }\n        return nodes;\n    };\n    const handleStartNewGame = (saveName)=>{\n        if (allSaves.includes(saveName)) {\n            addNotification('A saga named \"'.concat(saveName, '\" already exists.'));\n            return;\n        }\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n        setCurrentSaveName(saveName);\n        const civ = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedCivilization)();\n        setCivilization(civ);\n        setResources({\n            food: 200,\n            wood: 150,\n            gold: 50,\n            stone: 100\n        });\n        const initialVillagerNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", 3);\n        const initialVillagers = initialVillagerNames.map((name)=>({\n                id: \"\".concat(Date.now(), \"-\").concat(name),\n                name\n            }));\n        setUnits({\n            villagers: initialVillagers,\n            military: []\n        });\n        const [initialTCName] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n        const tcPosition = {\n            x: Math.floor(MAP_DIMENSIONS.width / 2),\n            y: Math.floor(MAP_DIMENSIONS.height / 2)\n        };\n        const initialTC = {\n            id: \"\".concat(Date.now(), \"-tc\"),\n            name: initialTCName,\n            position: tcPosition\n        };\n        setBuildings({\n            ...initialBuildingsState,\n            townCenter: [\n                initialTC\n            ]\n        });\n        setResourceNodes(generateResourceNodes(new Set([\n            \"\".concat(tcPosition.x, \",\").concat(tcPosition.y)\n        ])));\n        setCurrentAge(\"Nomadic Age\");\n        setGameLog([]);\n        setCurrentEvent(null);\n        setUnlimitedResources(false);\n        setActiveTasks([]);\n        setConstructingBuildings([]);\n        addToLog(\"\".concat(civ.name, \" has been founded!\"), \"system\");\n        addToLog(\"Your story begins...\", \"system\");\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING);\n        setActivityStatus(\"Your settlement awaits your command.\");\n        fetchSaves();\n    };\n    const getVillagerTaskDetails = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((villagerId)=>{\n        const task = activeTasks.find((t)=>{\n            var _t_payload_villagerIds, _t_payload;\n            return (_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : (_t_payload_villagerIds = _t_payload.villagerIds) === null || _t_payload_villagerIds === void 0 ? void 0 : _t_payload_villagerIds.includes(villagerId);\n        });\n        if (task) {\n            if (task.type === \"build\") {\n                const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === task.payload.buildingType);\n                return \"Busy: Constructing \".concat((buildingInfo === null || buildingInfo === void 0 ? void 0 : buildingInfo.name) || \"a building\");\n            }\n            if (task.type === \"gather\") {\n                const node = resourceNodes.find((n)=>n.id === task.payload.resourceNodeId);\n                return \"Busy: Gathering \".concat((node === null || node === void 0 ? void 0 : node.type) || \"resources\");\n            }\n        }\n        return \"Idle\";\n    }, [\n        activeTasks,\n        resourceNodes\n    ]);\n    const isVillagerBusy = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((villagerId)=>{\n        return getVillagerTaskDetails(villagerId) !== \"Idle\";\n    }, [\n        getVillagerTaskDetails\n    ]);\n    const handleResumeGame = async (saveName)=>{\n        const savedState = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.loadGameState)(saveName);\n        if (savedState) {\n            var _savedState_units;\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n            setCurrentSaveName(saveName);\n            setCivilization(savedState.civilization);\n            setResources(savedState.resources);\n            if ((_savedState_units = savedState.units) === null || _savedState_units === void 0 ? void 0 : _savedState_units.soldiers) {\n                const migratedMilitary = savedState.units.soldiers.map((s)=>({\n                        ...s,\n                        unitType: \"swordsman\"\n                    }));\n                setUnits({\n                    villagers: savedState.units.villagers || [],\n                    military: migratedMilitary\n                });\n            } else {\n                setUnits(savedState.units || {\n                    villagers: [],\n                    military: []\n                });\n            }\n            let finalBuildings = {\n                ...initialBuildingsState,\n                ...savedState.buildings || {}\n            };\n            const occupiedCells = new Set(Object.values(finalBuildings).flat().map((b)=>\"\".concat(b.position.x, \",\").concat(b.position.y)));\n            if (!finalBuildings.townCenter || finalBuildings.townCenter.length === 0) {\n                let tcPos = {\n                    x: 10,\n                    y: 5\n                };\n                while(occupiedCells.has(\"\".concat(tcPos.x, \",\").concat(tcPos.y))){\n                    tcPos.x++;\n                }\n                const [tcName] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n                finalBuildings.townCenter = [\n                    {\n                        id: \"\".concat(Date.now(), \"-tc\"),\n                        name: tcName,\n                        position: tcPos\n                    }\n                ];\n                occupiedCells.add(\"\".concat(tcPos.x, \",\").concat(tcPos.y));\n            }\n            const firstBuilding = Object.values(finalBuildings).flat()[0];\n            if (firstBuilding && typeof firstBuilding === \"object\" && !(\"position\" in firstBuilding)) {\n                const migrated = {\n                    ...initialBuildingsState\n                };\n                let y = 3;\n                Object.entries(finalBuildings).forEach((param)=>{\n                    let [type, instances] = param;\n                    let x = 5;\n                    instances.forEach((inst)=>{\n                        while(occupiedCells.has(\"\".concat(x, \",\").concat(y))){\n                            x++;\n                        }\n                        migrated[type].push({\n                            ...inst,\n                            position: {\n                                x,\n                                y\n                            }\n                        });\n                        occupiedCells.add(\"\".concat(x, \",\").concat(y));\n                        x++;\n                    });\n                });\n                finalBuildings = migrated;\n            }\n            setBuildings(finalBuildings);\n            const nodesToSet = (savedState.resourceNodes || []).map((n)=>({\n                    ...n,\n                    assignedVillagers: n.assignedVillagers || []\n                }));\n            if (nodesToSet.length === 0) {\n                setResourceNodes(generateResourceNodes(occupiedCells));\n            } else {\n                setResourceNodes(nodesToSet);\n            }\n            setCurrentAge(savedState.currentAge);\n            setGameLog(savedState.gameLog);\n            setActiveTasks((savedState.activeTasks || []).map((t)=>{\n                var _t_payload;\n                // Migration for old save format\n                if (t.type === \"build\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.villagerId)) {\n                    return {\n                        ...t,\n                        payload: {\n                            ...t.payload,\n                            villagerIds: [\n                                t.payload.villagerId\n                            ],\n                            villagerId: undefined\n                        }\n                    };\n                }\n                return t;\n            }));\n            setConstructingBuildings((savedState.constructingBuildings || []).map((c)=>{\n                // Migration for old save format\n                if (c.villagerId) {\n                    return {\n                        ...c,\n                        villagerIds: [\n                            c.villagerId\n                        ],\n                        villagerId: undefined\n                    };\n                }\n                return c;\n            }));\n            setCurrentEvent(null);\n            setActivityStatus(\"Welcome back to your saga.\");\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING);\n        } else {\n            addNotification('Could not find a saved game named \"'.concat(saveName, '\".'));\n        }\n    };\n    // Event Trigger Timer\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Events should not trigger if a major task (build, train, advance age) is in progress.\n        // Gathering resources is a background task and should not block events.\n        const majorTaskInProgress = activeTasks.some((t)=>t.type !== \"gather\");\n        if (gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && !currentEvent && !playerAction && !majorTaskInProgress) {\n            scheduleNextEvent();\n        } else if (eventTimerRef.current) {\n            clearTimeout(eventTimerRef.current);\n        }\n        return ()=>{\n            if (eventTimerRef.current) {\n                clearTimeout(eventTimerRef.current);\n            }\n        };\n    }, [\n        gameState,\n        currentEvent,\n        playerAction,\n        activeTasks,\n        scheduleNextEvent\n    ]);\n    const handleEventChoice = (choice)=>{\n        addToLog('Decision: \"'.concat(choice.text, '\"'), \"event\");\n        // 1. Check and apply cost\n        if (choice.cost) {\n            const missingRes = [];\n            for(const key in choice.cost){\n                const resKey = key;\n                if (resources[resKey] < (choice.cost[resKey] || 0)) {\n                    missingRes.push(resKey);\n                }\n            }\n            if (missingRes.length > 0) {\n                addNotification(\"You lack the required resources: \".concat(missingRes.join(\", \"), \".\"));\n                return;\n            }\n            const negativeCost = {};\n            for(const key in choice.cost){\n                const resKey = key;\n                negativeCost[resKey] = -(choice.cost[resKey] || 0);\n            }\n            updateResources(negativeCost);\n        }\n        // 2. Determine success\n        const isSuccess = choice.successChance === undefined || Math.random() < choice.successChance;\n        const effects = isSuccess ? choice.successEffects : choice.failureEffects;\n        if (!effects) {\n            setCurrentEvent(null);\n            scheduleNextEvent();\n            return;\n        }\n        // 3. Calculate resource change\n        let amount = 0;\n        if (Array.isArray(effects.amount)) {\n            const [min, max] = effects.amount;\n            amount = Math.floor(Math.random() * (max - min + 1)) + min;\n        } else {\n            amount = effects.amount;\n        }\n        // 4. Apply effects\n        if (effects.resource !== \"none\" && amount !== 0) {\n            updateResources({\n                [effects.resource]: amount\n            });\n        }\n        // 5. Log and update UI\n        addToLog(effects.log, effects.resource !== \"none\" ? effects.resource : \"system\");\n        setActivityStatus(effects.log);\n        setCurrentEvent(null);\n        scheduleNextEvent();\n    };\n    const handleInitiateBuild = (villagerId, rect)=>{\n        if (isVillagerBusy(villagerId)) {\n            addNotification(\"This villager is already busy.\");\n            return;\n        }\n        setBuildPanelState({\n            isOpen: true,\n            villagerId,\n            anchorRect: rect\n        });\n        setUnitManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleStartPlacement = (buildingId)=>{\n        const villagerId = buildPanelState.villagerId;\n        if (!villagerId) return;\n        const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === buildingId);\n        if (!buildingInfo) return;\n        if (buildingInfo.isUnique && (buildings[buildingInfo.id].length > 0 || constructingBuildings.some((b)=>b.type === buildingInfo.id))) {\n            addNotification(\"You can only build one \".concat(buildingInfo.name, \".\"));\n            return;\n        }\n        const cost = buildingInfo.cost;\n        if (!unlimitedResources) {\n            const missing = [];\n            for(const res in cost){\n                const resourceKey = res;\n                var _cost_resourceKey;\n                if (resources[resourceKey] < ((_cost_resourceKey = cost[resourceKey]) !== null && _cost_resourceKey !== void 0 ? _cost_resourceKey : 0)) {\n                    var _cost_resourceKey1;\n                    missing.push(\"\".concat(((_cost_resourceKey1 = cost[resourceKey]) !== null && _cost_resourceKey1 !== void 0 ? _cost_resourceKey1 : 0) - resources[resourceKey], \" \").concat(resourceKey));\n                }\n            }\n            if (missing.length > 0) {\n                addNotification(\"Need \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n        }\n        setPlayerAction({\n            mode: \"build\",\n            buildingType: buildingId,\n            villagerId\n        });\n        setBuildPanelState({\n            isOpen: false,\n            villagerId: null,\n            anchorRect: null\n        });\n        setActivityStatus(\"Select a location to build a \".concat(buildingInfo.name, \". Right-click to cancel.\"));\n    };\n    const handleConfirmPlacement = (position)=>{\n        if ((playerAction === null || playerAction === void 0 ? void 0 : playerAction.mode) !== \"build\") return;\n        const { buildingType, villagerId } = playerAction;\n        const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === buildingType);\n        const builder = units.villagers.find((v)=>v.id === villagerId);\n        if (!buildingInfo || !builder) return;\n        if (!unlimitedResources) {\n            const cost = buildingInfo.cost;\n            const negativeCost = {};\n            for(const resource in cost){\n                negativeCost[resource] = -(cost[resource] || 0);\n            }\n            updateResources(negativeCost);\n        }\n        const buildTime = buildingInfo.buildTime * 1000;\n        const taskPayload = {\n            buildingType,\n            villagerIds: [\n                villagerId\n            ],\n            position\n        };\n        if (unlimitedResources) {\n            const taskId = \"\".concat(Date.now(), \"-instant-build\");\n            handleTaskCompletion({\n                id: taskId,\n                type: \"build\",\n                startTime: 0,\n                duration: 0,\n                payload: {\n                    ...taskPayload,\n                    position\n                }\n            });\n        } else {\n            const taskId = \"\".concat(Date.now(), \"-build-\").concat(buildingType);\n            const newConstruction = {\n                id: taskId,\n                type: buildingType,\n                position,\n                villagerIds: [\n                    villagerId\n                ]\n            };\n            setConstructingBuildings((prev)=>[\n                    ...prev,\n                    newConstruction\n                ]);\n            const newTask = {\n                id: taskId,\n                type: \"build\",\n                startTime: Date.now(),\n                duration: buildTime,\n                payload: taskPayload\n            };\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    newTask\n                ]);\n            setActivityStatus(\"\".concat(builder.name, \" has started constructing a \").concat(buildingInfo.name, \".\"));\n            addToLog(\"\".concat(builder.name, \" began construction of a new \").concat(buildingInfo.name, \".\"), buildingType);\n        }\n        setPlayerAction(null);\n    };\n    const handleCancelPlayerAction = ()=>{\n        setPlayerAction(null);\n        setActivityStatus(\"Command cancelled.\");\n    };\n    const handleDemolishBuilding = (type, id)=>{\n        var _buildings_townCenter;\n        if (activeTasks.some((t)=>{\n            var _t_payload;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.buildingId) === id;\n        })) {\n            addNotification(\"Cannot demolish a building with an active task.\");\n            return;\n        }\n        const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === type);\n        const buildingInstance = buildings[type].find((b)=>b.id === id);\n        if (!buildingInfo || !buildingInstance) return;\n        if (type === \"houses\" && population.current > (((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter.length) > 0 ? 20 : 0) + (buildings.houses.length - 1) * 5) {\n            addNotification(\"Cannot demolish this house, your people would be homeless.\");\n            return;\n        }\n        const refund = {};\n        let refundMessageParts = [];\n        for(const res in buildingInfo.cost){\n            const resourceKey = res;\n            const cost = buildingInfo.cost[resourceKey] || 0;\n            const amount = Math.floor(cost * 0.5);\n            if (amount > 0) {\n                refund[resourceKey] = amount;\n                refundMessageParts.push(\"\".concat(amount, \" \").concat(resourceKey));\n            }\n        }\n        updateResources(refund);\n        setBuildings((prev)=>({\n                ...prev,\n                [type]: prev[type].filter((b)=>b.id !== id)\n            }));\n        addToLog(\"\".concat(buildingInstance.name, \" (\").concat(buildingInfo.name, \") was demolished.\"), type);\n        if (refundMessageParts.length > 0) {\n            addNotification(\"Salvaged \".concat(refundMessageParts.join(\", \"), \".\"));\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleUpdateBuilding = (type, id, name)=>{\n        setBuildings((prev)=>({\n                ...prev,\n                [type]: prev[type].map((b)=>b.id === id ? {\n                        ...b,\n                        name\n                    } : b)\n            }));\n        addNotification(\"Building renamed.\");\n    };\n    const handleTrainVillagers = (count)=>{\n        var _buildings_townCenter;\n        if (activeTasks.some((t)=>t.type === \"train_villager\") || count <= 0) return;\n        const villagerCost = 50;\n        const totalCost = villagerCost * count;\n        if (population.current + count > population.capacity) {\n            addNotification(\"Need space for \".concat(count, \" more villagers.\"));\n            return;\n        }\n        const townCenter = (_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter[0];\n        if (!townCenter) {\n            addNotification(\"No Town Center to train villagers.\");\n            return;\n        }\n        if (!unlimitedResources) {\n            if (resources.food < totalCost) {\n                addNotification(\"Need \".concat(totalCost - resources.food, \" more Food.\"));\n                return;\n            }\n            updateResources({\n                food: -totalCost\n            });\n        }\n        const trainTime = 10000 * count; // 10s per villager\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: \"instant\",\n                type: \"train_villager\",\n                startTime: 0,\n                duration: 0,\n                payload: {\n                    count\n                }\n            });\n        } else {\n            const taskId = \"\".concat(Date.now(), \"-train-villager\");\n            const newTask = {\n                id: taskId,\n                type: \"train_villager\",\n                startTime: Date.now(),\n                duration: trainTime,\n                payload: {\n                    count,\n                    buildingId: townCenter.id\n                }\n            };\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    newTask\n                ]);\n            setActivityStatus(\"Training \".concat(count, \" villager(s)...\"));\n            addToLog(\"Began training \".concat(count, \" new villager(s).\"), \"villager\");\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleTrainUnits = (unitType, count)=>{\n        var _buildings_unitInfo_requiredBuilding;\n        const unitInfo = UNIT_INFO.find((u)=>u.id === unitType);\n        if (!unitInfo || activeTasks.some((t)=>{\n            var _t_payload;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.unitType) === unitType;\n        }) || count <= 0) return;\n        if (population.current + count > population.capacity) {\n            addNotification(\"Need space for \".concat(count, \" more units.\"));\n            return;\n        }\n        const trainingBuilding = (_buildings_unitInfo_requiredBuilding = buildings[unitInfo.requiredBuilding]) === null || _buildings_unitInfo_requiredBuilding === void 0 ? void 0 : _buildings_unitInfo_requiredBuilding[0];\n        if (!trainingBuilding) {\n            addNotification(\"No \".concat(unitInfo.requiredBuilding, \" to train units.\"));\n            return;\n        }\n        if (!unlimitedResources) {\n            const totalCost = {};\n            const missing = [];\n            for(const res in unitInfo.cost){\n                const resourceKey = res;\n                const cost = (unitInfo.cost[resourceKey] || 0) * count;\n                totalCost[resourceKey] = -cost;\n                if (resources[resourceKey] < cost) missing.push(\"\".concat(cost - resources[resourceKey], \" \").concat(resourceKey));\n            }\n            if (missing.length > 0) {\n                addNotification(\"Need \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n            updateResources(totalCost);\n        }\n        const trainTime = unitInfo.trainTime * 1000 * count;\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: \"instant\",\n                type: \"train_military\",\n                startTime: 0,\n                duration: 0,\n                payload: {\n                    unitType,\n                    count\n                }\n            });\n        } else {\n            const taskId = \"\".concat(Date.now(), \"-train-\").concat(unitType);\n            const newTask = {\n                id: taskId,\n                type: \"train_military\",\n                startTime: Date.now(),\n                duration: trainTime,\n                payload: {\n                    unitType,\n                    count,\n                    buildingId: trainingBuilding.id\n                }\n            };\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    newTask\n                ]);\n            setActivityStatus(\"Training \".concat(count, \" \").concat(unitInfo.name, \"(s)...\"));\n            addToLog(\"Began training \".concat(count, \" new \").concat(unitInfo.name, \"(s).\"), unitType);\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleDismissSpecificUnit = (type, id)=>{\n        if (type === \"villagers\" && isVillagerBusy(id)) {\n            addNotification(\"Cannot dismiss a busy villager.\");\n            return;\n        }\n        const unit = units[type].find((u)=>u.id === id);\n        if (!unit) return;\n        if (type === \"villagers\" && units.villagers.length <= 1) {\n            addNotification(\"Cannot dismiss your last villager.\");\n            return;\n        }\n        setUnits((prev)=>({\n                ...prev,\n                [type]: prev[type].filter((u)=>u.id !== id)\n            }));\n        const unitTypeName = type === \"villagers\" ? \"villager\" : unit.unitType;\n        addToLog(\"\".concat(unit.name, \" the \").concat(unitTypeName, \" has been dismissed.\"), type === \"villagers\" ? \"villager\" : unit.unitType);\n        addNotification(\"\".concat(unit.name, \" was dismissed.\"));\n    };\n    const handleUpdateUnit = (type, id, name, title)=>{\n        setUnits((prev)=>({\n                ...prev,\n                [type]: prev[type].map((u)=>{\n                    if (u.id === id) {\n                        const updatedUnit = {\n                            ...u,\n                            name\n                        };\n                        if (type === \"military\" && title !== undefined) {\n                            updatedUnit.title = title;\n                        }\n                        return updatedUnit;\n                    }\n                    return u;\n                })\n            }));\n        addNotification(\"Unit updated.\");\n    };\n    const handleAssignVillagersToNode = (nodeId, count)=>{\n        const idleVillagers = units.villagers.filter((v)=>!isVillagerBusy(v.id));\n        if (count <= 0) return;\n        let cappedCount = Math.min(count, idleVillagers.length);\n        if (cappedCount === 0) {\n            addNotification(\"No idle villagers available.\");\n            return;\n        }\n        const villagersToAssign = idleVillagers.slice(0, cappedCount);\n        const villagerIdsToAssign = villagersToAssign.map((v)=>v.id);\n        const targetNode = resourceNodes.find((n)=>n.id === nodeId);\n        if (!targetNode) return;\n        setResourceNodes((prevNodes)=>prevNodes.map((n)=>n.id === nodeId ? {\n                    ...n,\n                    assignedVillagers: [\n                        ...new Set([\n                            ...n.assignedVillagers,\n                            ...villagerIdsToAssign\n                        ])\n                    ]\n                } : n));\n        if (unlimitedResources) {\n            updateResources({\n                [targetNode.type]: targetNode.amount\n            });\n            addToLog(\"\".concat(cappedCount, \" villager(s) instantly gathered \").concat(Math.floor(targetNode.amount), \" \").concat(targetNode.type, \".\"), targetNode.type);\n            setResourceNodes((prev)=>prev.filter((n)=>n.id !== nodeId));\n        } else {\n            const existingTask = activeTasks.find((t)=>{\n                var _t_payload;\n                return t.type === \"gather\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.resourceNodeId) === nodeId;\n            });\n            if (existingTask) {\n                setActiveTasks((prev)=>prev.map((t)=>t.id === existingTask.id ? {\n                            ...t,\n                            payload: {\n                                ...t.payload,\n                                villagerIds: [\n                                    ...new Set([\n                                        ...t.payload.villagerIds,\n                                        ...villagerIdsToAssign\n                                    ])\n                                ]\n                            }\n                        } : t));\n            } else {\n                const newTask = {\n                    id: \"gather-\".concat(nodeId),\n                    type: \"gather\",\n                    startTime: Date.now(),\n                    duration: 86400000,\n                    payload: {\n                        resourceNodeId: nodeId,\n                        villagerIds: villagerIdsToAssign\n                    }\n                }; // Duration is arbitrary, loop handles completion\n                setActiveTasks((prev)=>[\n                        ...prev,\n                        newTask\n                    ]);\n            }\n        }\n        addToLog(\"\".concat(cappedCount, \" villager(s) assigned to gather \").concat(targetNode.type, \".\"), targetNode.type);\n        setActivityStatus(\"\".concat(cappedCount, \" villager(s) are now gathering \").concat(targetNode.type, \".\"));\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleRecallVillagers = (targetId, count, type)=>{\n        if (type === \"resource\") {\n            const node = resourceNodes.find((n)=>n.id === targetId);\n            if (!node || node.assignedVillagers.length < count) return;\n            const villagersToRecall = node.assignedVillagers.slice(node.assignedVillagers.length - count);\n            setResourceNodes((prev)=>prev.map((n)=>n.id === targetId ? {\n                        ...n,\n                        assignedVillagers: n.assignedVillagers.filter((id)=>!villagersToRecall.includes(id))\n                    } : n));\n            setActiveTasks((prev)=>{\n                const taskIndex = prev.findIndex((t)=>{\n                    var _t_payload;\n                    return t.type === \"gather\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.resourceNodeId) === targetId;\n                });\n                if (taskIndex === -1) return prev;\n                const task = prev[taskIndex];\n                const remainingVillagers = task.payload.villagerIds.filter((id)=>!villagersToRecall.includes(id));\n                if (remainingVillagers.length === 0) {\n                    return prev.filter((_, i)=>i !== taskIndex);\n                } else {\n                    return prev.map((t, i)=>i === taskIndex ? {\n                            ...t,\n                            payload: {\n                                ...t.payload,\n                                villagerIds: remainingVillagers\n                            }\n                        } : t);\n                }\n            });\n            addToLog(\"\".concat(count, \" villager(s) recalled from gathering \").concat(node.type, \".\"), \"villager\");\n        } else {\n            const construction = constructingBuildings.find((c)=>c.id === targetId);\n            const task = activeTasks.find((t)=>t.id === targetId);\n            if (!construction || !task || construction.villagerIds.length < count) return;\n            const villagersToRecall = construction.villagerIds.slice(construction.villagerIds.length - count);\n            const remainingVillagers = construction.villagerIds.filter((id)=>!villagersToRecall.includes(id));\n            if (remainingVillagers.length === 0) {\n                addNotification(\"Cannot recall the last builder. This would cancel the project.\");\n                return;\n            }\n            const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === construction.type);\n            const totalWork = buildingInfo.buildTime * 1000;\n            const oldWorkerCount = construction.villagerIds.length;\n            const timeElapsed = Date.now() - task.startTime;\n            const workDone = timeElapsed * oldWorkerCount;\n            const workRemaining = Math.max(0, totalWork - workDone);\n            const newWorkerCount = remainingVillagers.length;\n            const newRemainingDuration = workRemaining / newWorkerCount;\n            setConstructingBuildings((prev)=>prev.map((c)=>c.id === targetId ? {\n                        ...c,\n                        villagerIds: remainingVillagers\n                    } : c));\n            setActiveTasks((prev)=>prev.map((t)=>t.id === targetId ? {\n                        ...t,\n                        startTime: Date.now(),\n                        duration: newRemainingDuration,\n                        payload: {\n                            ...t.payload,\n                            villagerIds: remainingVillagers\n                        }\n                    } : t));\n            addToLog(\"\".concat(count, \" villager(s) recalled from construction. Work will now proceed slower.\"), \"villager\");\n        }\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleAssignVillagersToConstruction = (constructionId, count)=>{\n        var _task_payload_villagerIds, _task_payload;\n        const idleVillagers = units.villagers.filter((v)=>!isVillagerBusy(v.id));\n        if (count <= 0) return;\n        let cappedCount = Math.min(count, idleVillagers.length);\n        if (cappedCount === 0) {\n            addNotification(\"No idle villagers available to assist.\");\n            return;\n        }\n        const villagersToAssign = idleVillagers.slice(0, cappedCount).map((v)=>v.id);\n        const task = activeTasks.find((t)=>t.id === constructionId);\n        const construction = constructingBuildings.find((c)=>c.id === constructionId);\n        if (!task || !construction) return;\n        const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === construction.type);\n        if (!buildingInfo) return;\n        const baseDuration = buildingInfo.buildTime * 1000;\n        const oldWorkerCount = ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 1;\n        const timeElapsed = Date.now() - task.startTime;\n        const workDone = timeElapsed * oldWorkerCount;\n        const totalWork = baseDuration;\n        const workRemaining = Math.max(0, totalWork - workDone);\n        const newWorkerCount = oldWorkerCount + cappedCount;\n        const newRemainingDuration = workRemaining / newWorkerCount;\n        const updatedVillagerIds = [\n            ...task.payload.villagerIds,\n            ...villagersToAssign\n        ];\n        setActiveTasks((prev)=>prev.map((t)=>t.id === constructionId ? {\n                    ...t,\n                    startTime: Date.now(),\n                    duration: newRemainingDuration,\n                    payload: {\n                        ...t.payload,\n                        villagerIds: updatedVillagerIds\n                    }\n                } : t));\n        setConstructingBuildings((prev)=>prev.map((c)=>c.id === constructionId ? {\n                    ...c,\n                    villagerIds: updatedVillagerIds\n                } : c));\n        addToLog(\"\".concat(cappedCount, \" villager(s) are now assisting with the \").concat(buildingInfo.name, \".\"), buildingInfo.id);\n        setActivityStatus(\"Construction of the \".concat(buildingInfo.name, \" is now faster.\"));\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleAssignVillagers = (targetId, count)=>{\n        if (assignmentPanelState.targetType === \"resource\") {\n            handleAssignVillagersToNode(targetId, count);\n        } else if (assignmentPanelState.targetType === \"construction\") {\n            handleAssignVillagersToConstruction(targetId, count);\n        }\n    };\n    const handleAdvanceAge = async ()=>{\n        if (activeTasks.some((t)=>t.type === \"advance_age\")) {\n            addNotification(\"Advancement already in progress.\");\n            return;\n        }\n        if (!unlimitedResources) {\n            if (resources.food < 500 || resources.gold < 200) {\n                const missing = [];\n                if (resources.food < 500) missing.push(\"\".concat(500 - resources.food, \" Food\"));\n                if (resources.gold < 200) missing.push(\"\".concat(200 - resources.gold, \" Gold\"));\n                addNotification(\"To advance, you need \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n            updateResources({\n                food: -500,\n                gold: -200\n            });\n        }\n        const duration = 60000;\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: \"instant\",\n                type: \"advance_age\",\n                startTime: 0,\n                duration: 0\n            });\n        } else {\n            const taskId = \"\".concat(Date.now(), \"-advance_age\");\n            const newTask = {\n                id: taskId,\n                type: \"advance_age\",\n                startTime: Date.now(),\n                duration\n            };\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    newTask\n                ]);\n            setActivityStatus(\"Your people begin the long journey to a new age.\");\n            setBuildingManagementPanel({\n                isOpen: false,\n                type: null,\n                anchorRect: null\n            });\n        }\n    };\n    const handleExitGame = async ()=>{\n        setCurrentSaveName(null);\n        await fetchSaves();\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU);\n    };\n    const handleDeleteGame = async (saveName)=>{\n        await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.deleteGameState)(saveName);\n        await fetchSaves();\n        addNotification('Deleted saga: \"'.concat(saveName, '\"'));\n    };\n    const handleToggleUnlimitedResources = ()=>{\n        const newMode = !unlimitedResources;\n        setUnlimitedResources(newMode);\n        if (newMode) {\n            setResources({\n                food: 99999,\n                wood: 99999,\n                gold: 99999,\n                stone: 99999\n            });\n            addNotification(\"Test Mode: ON\");\n        } else {\n            addNotification(\"Test Mode: OFF\");\n        }\n    };\n    const buildingCounts = Object.keys(buildings).reduce((acc, key)=>{\n        const buildingType = key;\n        acc[buildingType] = buildings[buildingType].length;\n        return acc;\n    }, {});\n    const idleVillagerCount = units.villagers.filter((v)=>!isVillagerBusy(v.id)).length;\n    const assignmentTarget = assignmentPanelState.targetType === \"resource\" ? resourceNodes.find((n)=>n.id === assignmentPanelState.targetId) : constructingBuildings.find((c)=>c.id === assignmentPanelState.targetId);\n    const closeAllPanels = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setUnitManagementPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                type: null,\n                anchorRect: null\n            } : p);\n        setBuildingManagementPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                type: null,\n                instanceId: undefined,\n                anchorRect: null\n            } : p);\n        setBuildPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                villagerId: null,\n                anchorRect: null\n            } : p);\n        setAssignmentPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                targetId: null,\n                targetType: null,\n                anchorRect: null\n            } : p);\n        setCivPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n        setAllBuildingsPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n    }, []);\n    const handleOpenBuildingPanel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((type, instanceId, rect)=>{\n        closeAllPanels();\n        setBuildingManagementPanel({\n            isOpen: true,\n            type,\n            instanceId,\n            anchorRect: rect\n        });\n    }, [\n        closeAllPanels\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClickOutside = (event)=>{\n            const isAnyPanelOpen = unitManagementPanel.isOpen || buildingManagementPanel.isOpen || buildPanelState.isOpen || assignmentPanelState.isOpen || civPanelState.isOpen || allBuildingsPanel.isOpen;\n            if (!isAnyPanelOpen) {\n                return;\n            }\n            const target = event.target;\n            if (target.closest(\".sci-fi-panel-popup\")) {\n                return;\n            }\n            closeAllPanels();\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>{\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n    }, [\n        unitManagementPanel.isOpen,\n        buildingManagementPanel.isOpen,\n        buildPanelState.isOpen,\n        assignmentPanelState.isOpen,\n        civPanelState.isOpen,\n        allBuildingsPanel.isOpen,\n        closeAllPanels\n    ]);\n    const renderContent = ()=>{\n        switch(gameState){\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StartScreen__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                    onNewGame: handleStartNewGame,\n                    onResumeGame: handleResumeGame,\n                    savedGames: allSaves,\n                    onDeleteGame: handleDeleteGame\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 993,\n                    columnNumber: 24\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 995,\n                    columnNumber: 24\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING:\n                if (!civilization) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 997,\n                    columnNumber: 43\n                }, undefined);\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_GameUI__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                            civilization: civilization,\n                            resources: resources,\n                            units: units,\n                            buildings: buildings,\n                            population: population,\n                            currentAge: currentAge,\n                            gameLog: gameLog,\n                            currentEvent: currentEvent,\n                            onEventChoice: handleEventChoice,\n                            resourceDeltas: resourceDeltas,\n                            activityStatus: activityStatus,\n                            unitList: UNIT_INFO,\n                            buildingList: BUILDINGS_INFO,\n                            onOpenUnitPanel: (type, rect)=>{\n                                closeAllPanels();\n                                setUnitManagementPanel({\n                                    isOpen: true,\n                                    type,\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenBuildingPanel: handleOpenBuildingPanel,\n                            onOpenAllBuildingsPanel: (rect)=>{\n                                closeAllPanels();\n                                setAllBuildingsPanel({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            playerAction: playerAction,\n                            onConfirmPlacement: handleConfirmPlacement,\n                            onCancelPlayerAction: handleCancelPlayerAction,\n                            onBuildingClick: (building, rect)=>{\n                                closeAllPanels();\n                                const type = Object.keys(buildings).find((key)=>buildings[key].some((b)=>b.id === building.id));\n                                if (type) setBuildingManagementPanel({\n                                    isOpen: true,\n                                    type,\n                                    instanceId: building.id,\n                                    anchorRect: rect\n                                });\n                            },\n                            mapDimensions: MAP_DIMENSIONS,\n                            constructingBuildings: constructingBuildings,\n                            activeTasks: activeTasks,\n                            onExitGame: handleExitGame,\n                            onOpenCivPanel: (rect)=>{\n                                closeAllPanels();\n                                setCivPanelState({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            resourceNodes: resourceNodes,\n                            onOpenAssignmentPanel: (nodeId, rect)=>{\n                                closeAllPanels();\n                                setAssignmentPanelState({\n                                    isOpen: true,\n                                    targetId: nodeId,\n                                    targetType: \"resource\",\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenConstructionPanel: (constructionId, rect)=>{\n                                closeAllPanels();\n                                setAssignmentPanelState({\n                                    isOpen: true,\n                                    targetId: constructionId,\n                                    targetType: \"construction\",\n                                    anchorRect: rect\n                                });\n                            },\n                            gatherInfo: GATHER_INFO\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1000,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BuildPanel__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                            isOpen: buildPanelState.isOpen,\n                            onClose: ()=>setBuildPanelState({\n                                    isOpen: false,\n                                    villagerId: null,\n                                    anchorRect: null\n                                }),\n                            onStartPlacement: handleStartPlacement,\n                            resources: resources,\n                            buildingCounts: buildingCounts,\n                            buildingList: BUILDINGS_INFO,\n                            anchorRect: buildPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1035,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_UnitManagementPanel__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                            isOpen: unitManagementPanel.isOpen,\n                            onClose: ()=>setUnitManagementPanel({\n                                    isOpen: false,\n                                    type: null,\n                                    anchorRect: null\n                                }),\n                            type: unitManagementPanel.type,\n                            units: units,\n                            onUpdateUnit: handleUpdateUnit,\n                            onDismissUnit: handleDismissSpecificUnit,\n                            onInitiateBuild: (villagerId, rect)=>{\n                                closeAllPanels();\n                                handleInitiateBuild(villagerId, rect);\n                            },\n                            getVillagerTaskDetails: getVillagerTaskDetails,\n                            anchorRect: unitManagementPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1044,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BuildingManagementPanel__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                            isOpen: buildingManagementPanel.isOpen,\n                            onClose: ()=>setBuildingManagementPanel({\n                                    isOpen: false,\n                                    type: null,\n                                    anchorRect: null\n                                }),\n                            panelState: buildingManagementPanel,\n                            buildings: buildings,\n                            buildingList: BUILDINGS_INFO,\n                            onUpdateBuilding: handleUpdateBuilding,\n                            onDemolishBuilding: handleDemolishBuilding,\n                            onTrainUnits: handleTrainUnits,\n                            onTrainVillagers: handleTrainVillagers,\n                            resources: resources,\n                            population: population,\n                            unitList: UNIT_INFO,\n                            onAdvanceAge: handleAdvanceAge,\n                            activeTasks: activeTasks,\n                            anchorRect: buildingManagementPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1055,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ResourceAssignmentPanel__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                            isOpen: assignmentPanelState.isOpen,\n                            onClose: ()=>setAssignmentPanelState({\n                                    isOpen: false,\n                                    targetId: null,\n                                    targetType: null,\n                                    anchorRect: null\n                                }),\n                            assignmentTarget: assignmentTarget || null,\n                            idleVillagerCount: idleVillagerCount,\n                            onAssignVillagers: handleAssignVillagers,\n                            onRecallVillagers: handleRecallVillagers,\n                            gatherInfo: GATHER_INFO,\n                            buildingList: BUILDINGS_INFO,\n                            anchorRect: assignmentPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1072,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CivilizationPanel__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                            isOpen: civPanelState.isOpen,\n                            onClose: ()=>setCivPanelState({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            civilization: civilization,\n                            anchorRect: civPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1083,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AllBuildingsPanel__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                            isOpen: allBuildingsPanel.isOpen,\n                            onClose: ()=>setAllBuildingsPanel({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            buildingList: BUILDINGS_INFO,\n                            buildingCounts: buildingCounts,\n                            constructingBuildings: constructingBuildings,\n                            onOpenBuildingPanel: handleOpenBuildingPanel,\n                            anchorRect: allBuildingsPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1089,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true);\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StartScreen__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                    onNewGame: handleStartNewGame,\n                    onResumeGame: handleResumeGame,\n                    savedGames: allSaves,\n                    onDeleteGame: handleDeleteGame\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 1101,\n                    columnNumber: 24\n                }, undefined);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-stone-dark flex items-center justify-center p-4\",\n        children: [\n            gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handleToggleUnlimitedResources,\n                className: \"fixed bottom-4 left-4 z-[101] bg-brand-gold text-stone-dark font-bold py-1 px-3 rounded-full text-xs shadow-lg hover:scale-105 transition-transform\",\n                \"aria-label\": \"Toggle unlimited resources test mode\",\n                children: [\n                    \"Test Mode: \",\n                    unlimitedResources ? \"ON\" : \"OFF\"\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 1108,\n                columnNumber: 18\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_NotificationManager__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                notifications: notifications,\n                onRemoveNotification: removeNotification\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 1116,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"w-full max-w-7xl mx-auto\",\n                children: renderContent()\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 1117,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/src/app/page.tsx\",\n        lineNumber: 1106,\n        columnNumber: 9\n    }, undefined);\n};\n_s(GamePage, \"YHCgDBb6Txj5tO1N6qwiQEzsgWg=\");\n_c = GamePage;\n/* harmony default export */ __webpack_exports__[\"default\"] = (GamePage);\nvar _c;\n$RefreshReg$(_c, \"GamePage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFlBQVlRLHFCQUFxQlIsVUFBVTs7Ozs7O3NDQUUvQyw4REFBQzFFLHNFQUFpQkE7NEJBQ2R3RSxRQUFRYyxjQUFjZCxNQUFNOzRCQUM1QjRRLFNBQVMsSUFBTTdQLGlCQUFpQjtvQ0FBRWYsUUFBUTtvQ0FBT0UsWUFBWTtnQ0FBSzs0QkFDbEV2QyxjQUFjQTs0QkFDZHVDLFlBQVlZLGNBQWNaLFVBQVU7Ozs7OztzQ0FFeEMsOERBQUN6RSxzRUFBaUJBOzRCQUNkdUUsUUFBUVEsa0JBQWtCUixNQUFNOzRCQUNoQzRRLFNBQVMsSUFBTW5RLHFCQUFxQjtvQ0FBRVQsUUFBUTtvQ0FBT0UsWUFBWTtnQ0FBSzs0QkFDdEU0UCxjQUFjcFU7NEJBQ2Q4UyxnQkFBZ0JBOzRCQUNoQjlPLHVCQUF1QkE7NEJBQ3ZCc1EscUJBQXFCakI7NEJBQ3JCN08sWUFBWU0sa0JBQWtCTixVQUFVOzs7Ozs7OztZQUl4RDtnQkFDSSxxQkFBTyw4REFBQ2pGLCtEQUFXQTtvQkFBQ3VVLFdBQVcvSDtvQkFBb0JnSSxjQUFjbkg7b0JBQWtCb0gsWUFBWXhRO29CQUFVeVEsY0FBY3RCOzs7Ozs7UUFDL0g7SUFDSjtJQUVBLHFCQUNJLDhEQUFDb0Q7UUFBSUMsV0FBVTs7WUFDVmxVLGNBQWNqRCw4Q0FBVUEsQ0FBQ2lILE9BQU8sa0JBQzVCLDhEQUFDbVE7Z0JBQ0VDLFNBQVN0RDtnQkFDVG9ELFdBQVU7Z0JBQ1ZHLGNBQVc7O29CQUNkO29CQUNlN1MscUJBQXFCLE9BQU87Ozs7Ozs7MEJBR2hELDhEQUFDNUQsd0VBQW1CQTtnQkFBQzBELGVBQWVBO2dCQUFlZ1Qsc0JBQXNCN1A7Ozs7OzswQkFDekUsOERBQUM4UDtnQkFBS0wsV0FBVTswQkFDWG5DOzs7Ozs7Ozs7Ozs7QUFJakI7R0EvaUNNalM7S0FBQUE7QUFpakNOLCtEQUFlQSxRQUFRQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcHAvcGFnZS50c3g/ZjY4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbid1c2UgY2xpZW50JztcblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBHYW1lU3RhdHVzLCB0eXBlIENpdmlsaXphdGlvbiwgdHlwZSBSZXNvdXJjZXMsIHR5cGUgVW5pdHMsIHR5cGUgQnVpbGRpbmdzLCB0eXBlIEdhbWVFdmVudCwgdHlwZSBHYW1lTG9nRW50cnksIHR5cGUgTG9nSWNvblR5cGUsIHR5cGUgUmVzb3VyY2VEZWx0YXMsIEJ1aWxkaW5nVHlwZSwgQnVpbGRpbmdJbmZvLCBVSU5vdGlmaWNhdGlvbiwgRnVsbEdhbWVTdGF0ZSwgVmlsbGFnZXIsIE1pbGl0YXJ5VW5pdCwgVW5pdEluZm8sIE1pbGl0YXJ5VW5pdFR5cGUsIEdhbWVUYXNrLCBDb25zdHJ1Y3RpbmdCdWlsZGluZywgVGFza1R5cGUsIFJlc291cmNlTm9kZSwgUmVzb3VyY2VOb2RlVHlwZSwgUGxheWVyQWN0aW9uU3RhdGUsIEdhbWVFdmVudENob2ljZSB9IGZyb20gJ0AvdHlwZXMnO1xuaW1wb3J0IHsgZ2V0UHJlZGVmaW5lZENpdmlsaXphdGlvbiwgZ2V0UHJlZGVmaW5lZEdhbWVFdmVudCwgZ2V0UHJlZGVmaW5lZEFnZSB9IGZyb20gJ0Avc2VydmljZXMvZ2VtaW5pU2VydmljZSc7XG5pbXBvcnQgeyBzYXZlR2FtZVN0YXRlLCBsb2FkR2FtZVN0YXRlLCBnZXRBbGxTYXZlTmFtZXMsIGRlbGV0ZUdhbWVTdGF0ZSB9IGZyb20gJ0Avc2VydmljZXMvZGJTZXJ2aWNlJztcbmltcG9ydCB7IGdldFJhbmRvbU5hbWVzIH0gZnJvbSAnQC9zZXJ2aWNlcy9uYW1lU2VydmljZSc7XG5pbXBvcnQgR2FtZVVJIGZyb20gJ0AvY29tcG9uZW50cy9HYW1lVUknO1xuaW1wb3J0IFN0YXJ0U2NyZWVuIGZyb20gJ0AvY29tcG9uZW50cy9TdGFydFNjcmVlbic7XG5pbXBvcnQgTG9hZGluZ1NjcmVlbiBmcm9tICdAL2NvbXBvbmVudHMvTG9hZGluZ1NjcmVlbic7XG5pbXBvcnQgQnVpbGRQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvQnVpbGRQYW5lbCc7XG5pbXBvcnQgTm90aWZpY2F0aW9uTWFuYWdlciBmcm9tICdAL2NvbXBvbmVudHMvTm90aWZpY2F0aW9uTWFuYWdlcic7XG5pbXBvcnQgVW5pdE1hbmFnZW1lbnRQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvVW5pdE1hbmFnZW1lbnRQYW5lbCc7XG5pbXBvcnQgQnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL0J1aWxkaW5nTWFuYWdlbWVudFBhbmVsJztcbmltcG9ydCBSZXNvdXJjZUFzc2lnbm1lbnRQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvUmVzb3VyY2VBc3NpZ25tZW50UGFuZWwnO1xuaW1wb3J0IENpdmlsaXphdGlvblBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9DaXZpbGl6YXRpb25QYW5lbCc7XG5pbXBvcnQgQWxsQnVpbGRpbmdzUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL0FsbEJ1aWxkaW5nc1BhbmVsJztcblxuY29uc3QgQlVJTERJTkdTX0lORk86IEJ1aWxkaW5nSW5mb1tdID0gW1xuICAgIHsgaWQ6ICdob3VzZXMnLCBuYW1lOiAnSG91c2UnLCBkZXNjcmlwdGlvbjogJ0luY3JlYXNlcyBwb3B1bGF0aW9uIGNhcGFjaXR5IGJ5IDUuJywgY29zdDogeyB3b29kOiA1MCB9LCBpc1VuaXF1ZTogZmFsc2UsIGJ1aWxkVGltZTogMTUgfSxcbiAgICB7IGlkOiAnYmFycmFja3MnLCBuYW1lOiAnQmFycmFja3MnLCBkZXNjcmlwdGlvbjogJ0FsbG93cyB0cmFpbmluZyBvZiBTd29yZHNtZW4uJywgY29zdDogeyB3b29kOiAxNTAsIHN0b25lOiA1MCB9LCBpc1VuaXF1ZTogdHJ1ZSwgYnVpbGRUaW1lOiA2MCB9LFxuICAgIHsgaWQ6ICdhcmNoZXJ5UmFuZ2UnLCBuYW1lOiAnQXJjaGVyeSBSYW5nZScsIGRlc2NyaXB0aW9uOiAnQWxsb3dzIHRyYWluaW5nIG9mIEFyY2hlcnMuJywgY29zdDogeyB3b29kOiAxNzUgfSwgaXNVbmlxdWU6IHRydWUsIGJ1aWxkVGltZTogNjAgfSxcbiAgICB7IGlkOiAnc3RhYmxlJywgbmFtZTogJ1N0YWJsZXMnLCBkZXNjcmlwdGlvbjogJ0FsbG93cyB0cmFpbmluZyBvZiBLbmlnaHRzLicsIGNvc3Q6IHsgd29vZDogMTc1LCBnb2xkOiA3NSB9LCBpc1VuaXF1ZTogdHJ1ZSwgYnVpbGRUaW1lOiA3NSB9LFxuICAgIHsgaWQ6ICdzaWVnZVdvcmtzaG9wJywgbmFtZTogJ1NpZWdlIFdvcmtzaG9wJywgZGVzY3JpcHRpb246ICdDb25zdHJ1Y3RzIHBvd2VyZnVsIENhdGFwdWx0cy4nLCBjb3N0OiB7IHdvb2Q6IDIwMCwgZ29sZDogMTUwIH0sIGlzVW5pcXVlOiB0cnVlLCBidWlsZFRpbWU6IDkwIH0sXG4gICAgeyBpZDogJ2JsYWNrc21pdGgnLCBuYW1lOiAnQmxhY2tzbWl0aCcsIGRlc2NyaXB0aW9uOiAnUmVzZWFyY2hlcyBpbmZhbnRyeSBhbmQgY2F2YWxyeSB1cGdyYWRlcy4nLCBjb3N0OiB7IHdvb2Q6IDEwMCwgZ29sZDogMTAwIH0sIGlzVW5pcXVlOiB0cnVlLCBidWlsZFRpbWU6IDQ1IH0sXG4gICAgeyBpZDogJ3dhdGNoVG93ZXInLCBuYW1lOiAnV2F0Y2ggVG93ZXInLCBkZXNjcmlwdGlvbjogJ1Byb3ZpZGVzIGRlZmVuc2UgYWdhaW5zdCByYWlkcy4nLCBjb3N0OiB7IHN0b25lOiAxMjUgfSwgaXNVbmlxdWU6IHRydWUsIGJ1aWxkVGltZTogNDUgfSxcbiAgICB7IGlkOiAndG93bkNlbnRlcicsIG5hbWU6ICdUb3duIENlbnRlcicsIGRlc2NyaXB0aW9uOiAnVGhlIGhlYXJ0IG9mIHlvdXIgc2V0dGxlbWVudC4nLCBjb3N0OiB7fSwgaXNVbmlxdWU6IHRydWUsIGJ1aWxkVGltZTogMCB9XG5dO1xuXG5jb25zdCBVTklUX0lORk86IFVuaXRJbmZvW10gPSBbXG4gICAgeyBpZDogJ3N3b3Jkc21hbicsIG5hbWU6ICdTd29yZHNtYW4nLCBkZXNjcmlwdGlvbjogJ0Jhc2ljIG1lbGVlIGluZmFudHJ5LicsIGNvc3Q6IHsgZm9vZDogNjAsIGdvbGQ6IDIwIH0sIHJlcXVpcmVkQnVpbGRpbmc6ICdiYXJyYWNrcycsIHRyYWluVGltZTogMjIgfSxcbiAgICB7IGlkOiAnYXJjaGVyJywgbmFtZTogJ0FyY2hlcicsIGRlc2NyaXB0aW9uOiAnUmFuZ2VkIHVuaXQgZWZmZWN0aXZlIGFnYWluc3QgaW5mYW50cnkuJywgY29zdDogeyBmb29kOiAzMCwgd29vZDogNDAgfSwgcmVxdWlyZWRCdWlsZGluZzogJ2FyY2hlcnlSYW5nZScsIHRyYWluVGltZTogMjUgfSxcbiAgICB7IGlkOiAna25pZ2h0JywgbmFtZTogJ0tuaWdodCcsIGRlc2NyaXB0aW9uOiAnRmFzdCBhbmQgcG93ZXJmdWwgY2F2YWxyeS4nLCBjb3N0OiB7IGZvb2Q6IDYwLCBnb2xkOiA3NSB9LCByZXF1aXJlZEJ1aWxkaW5nOiAnc3RhYmxlJywgdHJhaW5UaW1lOiAzMCB9LFxuICAgIHsgaWQ6ICdjYXRhcHVsdCcsIG5hbWU6ICdDYXRhcHVsdCcsIGRlc2NyaXB0aW9uOiAnU2llZ2UgZW5naW5lIGRldmFzdGF0aW5nIHRvIGJ1aWxkaW5ncy4nLCBjb3N0OiB7IHdvb2Q6IDE1MCwgZ29sZDogMTUwIH0sIHJlcXVpcmVkQnVpbGRpbmc6ICdzaWVnZVdvcmtzaG9wJywgdHJhaW5UaW1lOiA0NSB9LFxuXTtcblxuY29uc3QgR0FUSEVSX0lORk86IFJlY29yZDxSZXNvdXJjZU5vZGVUeXBlLCB7IHJhdGU6IG51bWJlciB9PiA9IHtcbiAgICBmb29kOiB7IHJhdGU6IDEwMCB9LCAvLyBSYXRlcyBhcmUgbm93IHBlciAxMCBzZWNvbmRzIGZvciBtb3JlIGludHVpdGl2ZSBudW1iZXJzXG4gICAgd29vZDogeyByYXRlOiA4MCB9LFxuICAgIGdvbGQ6IHsgcmF0ZTogNTAgfSxcbiAgICBzdG9uZTogeyByYXRlOiA2MCB9LFxufVxuXG5jb25zdCBpbml0aWFsQnVpbGRpbmdzU3RhdGU6IEJ1aWxkaW5ncyA9IHtcbiAgICBob3VzZXM6IFtdLCBiYXJyYWNrczogW10sIGFyY2hlcnlSYW5nZTogW10sIHN0YWJsZTogW10sIHNpZWdlV29ya3Nob3A6IFtdLCBibGFja3NtaXRoOiBbXSwgd2F0Y2hUb3dlcjogW10sIHRvd25DZW50ZXI6IFtdXG59O1xuXG5jb25zdCBNQVBfRElNRU5TSU9OUyA9IHsgd2lkdGg6IDI1LCBoZWlnaHQ6IDE4IH07XG5cbmNvbnN0IEdhbWVQYWdlOiBSZWFjdC5GQyA9ICgpID0+IHtcbiAgICBjb25zdCBbZ2FtZVN0YXRlLCBzZXRHYW1lU3RhdGVdID0gdXNlU3RhdGU8R2FtZVN0YXR1cz4oR2FtZVN0YXR1cy5NRU5VKTtcbiAgICBjb25zdCBbY2l2aWxpemF0aW9uLCBzZXRDaXZpbGl6YXRpb25dID0gdXNlU3RhdGU8Q2l2aWxpemF0aW9uIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW3Jlc291cmNlcywgc2V0UmVzb3VyY2VzXSA9IHVzZVN0YXRlPFJlc291cmNlcz4oeyBmb29kOiAyMDAsIHdvb2Q6IDE1MCwgZ29sZDogNTAsIHN0b25lOiAxMDAgfSk7XG4gICAgY29uc3QgW3VuaXRzLCBzZXRVbml0c10gPSB1c2VTdGF0ZTxVbml0cz4oeyB2aWxsYWdlcnM6IFtdLCBtaWxpdGFyeTogW10gfSk7XG4gICAgY29uc3QgW2J1aWxkaW5ncywgc2V0QnVpbGRpbmdzXSA9IHVzZVN0YXRlPEJ1aWxkaW5ncz4oaW5pdGlhbEJ1aWxkaW5nc1N0YXRlKTtcbiAgICBjb25zdCBbY3VycmVudEFnZSwgc2V0Q3VycmVudEFnZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCdOb21hZGljIEFnZScpO1xuICAgIGNvbnN0IFtnYW1lTG9nLCBzZXRHYW1lTG9nXSA9IHVzZVN0YXRlPEdhbWVMb2dFbnRyeVtdPihbXSk7XG4gICAgY29uc3QgW2N1cnJlbnRFdmVudCwgc2V0Q3VycmVudEV2ZW50XSA9IHVzZVN0YXRlPEdhbWVFdmVudCB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFtyZXNvdXJjZURlbHRhcywgc2V0UmVzb3VyY2VEZWx0YXNdID0gdXNlU3RhdGU8UmVzb3VyY2VEZWx0YXM+KHt9KTtcbiAgICBjb25zdCBbYWN0aXZpdHlTdGF0dXMsIHNldEFjdGl2aXR5U3RhdHVzXSA9IHVzZVN0YXRlPHN0cmluZz4oJ1lvdXIgc3RvcnkgYmVnaW5zLi4uJyk7XG4gICAgY29uc3QgW25vdGlmaWNhdGlvbnMsIHNldE5vdGlmaWNhdGlvbnNdID0gdXNlU3RhdGU8VUlOb3RpZmljYXRpb25bXT4oW10pO1xuICAgIGNvbnN0IFt1bmxpbWl0ZWRSZXNvdXJjZXMsIHNldFVubGltaXRlZFJlc291cmNlc10gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gICAgY29uc3QgW2FsbFNhdmVzLCBzZXRBbGxTYXZlc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICAgIGNvbnN0IFtjdXJyZW50U2F2ZU5hbWUsIHNldEN1cnJlbnRTYXZlTmFtZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbcGxheWVyQWN0aW9uLCBzZXRQbGF5ZXJBY3Rpb25dID0gdXNlU3RhdGU8UGxheWVyQWN0aW9uU3RhdGU+KG51bGwpO1xuICAgIGNvbnN0IFthY3RpdmVUYXNrcywgc2V0QWN0aXZlVGFza3NdID0gdXNlU3RhdGU8R2FtZVRhc2tbXT4oW10pO1xuICAgIGNvbnN0IFtjb25zdHJ1Y3RpbmdCdWlsZGluZ3MsIHNldENvbnN0cnVjdGluZ0J1aWxkaW5nc10gPSB1c2VTdGF0ZTxDb25zdHJ1Y3RpbmdCdWlsZGluZ1tdPihbXSk7XG4gICAgY29uc3QgW3Jlc291cmNlTm9kZXMsIHNldFJlc291cmNlTm9kZXNdID0gdXNlU3RhdGU8UmVzb3VyY2VOb2RlW10+KFtdKTtcbiAgICBcbiAgICAvLyBQYW5lbCBTdGF0ZXNcbiAgICBjb25zdCBbYnVpbGRQYW5lbFN0YXRlLCBzZXRCdWlsZFBhbmVsU3RhdGVdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IHZpbGxhZ2VySWQ6IHN0cmluZyB8IG51bGw7IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsIH0+KHsgaXNPcGVuOiBmYWxzZSwgdmlsbGFnZXJJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICBjb25zdCBbdW5pdE1hbmFnZW1lbnRQYW5lbCwgc2V0VW5pdE1hbmFnZW1lbnRQYW5lbF0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgdHlwZTogJ3ZpbGxhZ2VycycgfCAnbWlsaXRhcnknIHwgbnVsbDsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7IH0+KHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICBjb25zdCBbYnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwsIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsXSA9IHVzZVN0YXRlPHsgaXNPcGVuOiBib29sZWFuOyB0eXBlOiBCdWlsZGluZ1R5cGUgfCBudWxsOyBpbnN0YW5jZUlkPzogc3RyaW5nOyBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbDsgfT4oeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIGNvbnN0IFthbGxCdWlsZGluZ3NQYW5lbCwgc2V0QWxsQnVpbGRpbmdzUGFuZWxdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsOyB9Pih7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgY29uc3QgW2Fzc2lnbm1lbnRQYW5lbFN0YXRlLCBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZV0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgdGFyZ2V0SWQ6IHN0cmluZyB8IG51bGw7IHRhcmdldFR5cGU6ICdyZXNvdXJjZScgfCAnY29uc3RydWN0aW9uJyB8IG51bGw7IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsOyB9Pih7IGlzT3BlbjogZmFsc2UsIHRhcmdldElkOiBudWxsLCB0YXJnZXRUeXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIGNvbnN0IFtjaXZQYW5lbFN0YXRlLCBzZXRDaXZQYW5lbFN0YXRlXSA9IHVzZVN0YXRlPHsgaXNPcGVuOiBib29sZWFuOyBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbDsgfT4oeyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuXG4gICAgY29uc3QgZGVsdGFUaW1lb3V0UmVmID0gdXNlUmVmPHsgW2tleSBpbiBrZXlvZiBSZXNvdXJjZXNdPzogbnVtYmVyIH0+KHt9KTtcbiAgICBjb25zdCBldmVudFRpbWVyUmVmID0gdXNlUmVmPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7XG5cbiAgICBjb25zdCBwb3B1bGF0aW9uID0ge1xuICAgICAgICBjdXJyZW50OiB1bml0cy52aWxsYWdlcnMubGVuZ3RoICsgdW5pdHMubWlsaXRhcnkubGVuZ3RoLFxuICAgICAgICBjYXBhY2l0eTogKGJ1aWxkaW5ncy50b3duQ2VudGVyPy5sZW5ndGggPiAwID8gMjAgOiAwKSArIGJ1aWxkaW5ncy5ob3VzZXMubGVuZ3RoICogNSxcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGZldGNoU2F2ZXMgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5hbWVzID0gYXdhaXQgZ2V0QWxsU2F2ZU5hbWVzKCk7XG4gICAgICAgIHNldEFsbFNhdmVzKG5hbWVzKTtcbiAgICB9LCBbXSk7XG4gICAgXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgZmV0Y2hTYXZlcygpO1xuICAgIH0sIFtmZXRjaFNhdmVzXSk7XG4gICAgXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGdhbWVTdGF0ZSA9PT0gR2FtZVN0YXR1cy5QTEFZSU5HICYmIGNpdmlsaXphdGlvbiAmJiBjdXJyZW50U2F2ZU5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGZ1bGxTdGF0ZTogRnVsbEdhbWVTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICBjaXZpbGl6YXRpb24sXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VzLFxuICAgICAgICAgICAgICAgIHVuaXRzLFxuICAgICAgICAgICAgICAgIGJ1aWxkaW5ncyxcbiAgICAgICAgICAgICAgICBjdXJyZW50QWdlLFxuICAgICAgICAgICAgICAgIGdhbWVMb2csXG4gICAgICAgICAgICAgICAgYWN0aXZlVGFza3MsXG4gICAgICAgICAgICAgICAgY29uc3RydWN0aW5nQnVpbGRpbmdzLFxuICAgICAgICAgICAgICAgIHJlc291cmNlTm9kZXMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2F2ZUdhbWVTdGF0ZShjdXJyZW50U2F2ZU5hbWUsIGZ1bGxTdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9LCBbY2l2aWxpemF0aW9uLCByZXNvdXJjZXMsIHVuaXRzLCBidWlsZGluZ3MsIGN1cnJlbnRBZ2UsIGdhbWVMb2csIGdhbWVTdGF0ZSwgY3VycmVudFNhdmVOYW1lLCBhY3RpdmVUYXNrcywgY29uc3RydWN0aW5nQnVpbGRpbmdzLCByZXNvdXJjZU5vZGVzXSk7XG5cbiAgICBjb25zdCBhZGROb3RpZmljYXRpb24gPSB1c2VDYWxsYmFjaygobWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkID0gYCR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpfWA7XG4gICAgICAgIHNldE5vdGlmaWNhdGlvbnMocHJldiA9PiBbLi4ucHJldiwgeyBpZCwgbWVzc2FnZSB9XSk7XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgcmVtb3ZlTm90aWZpY2F0aW9uID0gdXNlQ2FsbGJhY2soKGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgc2V0Tm90aWZpY2F0aW9ucyhwcmV2ID0+IHByZXYuZmlsdGVyKG4gPT4gbi5pZCAhPT0gaWQpKTtcbiAgICB9LCBbXSk7XG4gICAgXG4gICAgY29uc3QgYWRkVG9Mb2cgPSB1c2VDYWxsYmFjaygobWVzc2FnZTogc3RyaW5nLCBpY29uOiBMb2dJY29uVHlwZSkgPT4ge1xuICAgICAgICBzZXRHYW1lTG9nKHByZXYgPT4gW3sgaWQ6IGAke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKX1gLCBtZXNzYWdlLCBpY29uIH0sIC4uLnByZXYuc2xpY2UoMCwgMTkpXSk7XG4gICAgfSwgW10pO1xuICAgIFxuICAgIGNvbnN0IHVwZGF0ZVJlc291cmNlcyA9IHVzZUNhbGxiYWNrKChkZWx0YXM6IFJlc291cmNlRGVsdGFzKSA9PiB7XG4gICAgICAgIHNldFJlc291cmNlcyhwcmV2ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Jlc291cmNlcyA9IHsgLi4ucHJldiB9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGVsdGFzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzb3VyY2VLZXkgPSBrZXkgYXMga2V5b2YgUmVzb3VyY2VzO1xuICAgICAgICAgICAgICAgIG5ld1Jlc291cmNlc1tyZXNvdXJjZUtleV0gPSBNYXRoLm1heCgwLCBuZXdSZXNvdXJjZXNbcmVzb3VyY2VLZXldICsgKGRlbHRhc1tyZXNvdXJjZUtleV0gPz8gMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ld1Jlc291cmNlcztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2V0UmVzb3VyY2VEZWx0YXMocHJldiA9PiAoey4uLnByZXYsIC4uLmRlbHRhc30pKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkZWx0YXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc291cmNlS2V5ID0ga2V5IGFzIGtleW9mIFJlc291cmNlcztcbiAgICAgICAgICAgIGlmIChkZWx0YVRpbWVvdXRSZWYuY3VycmVudFtyZXNvdXJjZUtleV0pIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGRlbHRhVGltZW91dFJlZi5jdXJyZW50W3Jlc291cmNlS2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWx0YVRpbWVvdXRSZWYuY3VycmVudFtyZXNvdXJjZUtleV0gPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0UmVzb3VyY2VEZWx0YXMocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0RlbHRhcyA9IHsuLi5wcmV2fTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG5ld0RlbHRhc1tyZXNvdXJjZUtleV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdEZWx0YXM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCAxNTAwKTtcbiAgICAgICAgfVxuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IGhhbmRsZVRhc2tDb21wbGV0aW9uID0gdXNlQ2FsbGJhY2soKHRhc2s6IEdhbWVUYXNrKSA9PiB7XG4gICAgICAgIHN3aXRjaCAodGFzay50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdidWlsZCc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGJ1aWxkaW5nVHlwZSwgdmlsbGFnZXJJZHMsIHBvc2l0aW9uIH0gPSB0YXNrLnBheWxvYWQhO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IEJVSUxESU5HU19JTkZPLmZpbmQoYiA9PiBiLmlkID09PSBidWlsZGluZ1R5cGUpITtcbiAgICAgICAgICAgICAgICBjb25zdCBbbmFtZV0gPSBnZXRSYW5kb21OYW1lcygnYnVpbGRpbmcnLCAxKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdCdWlsZGluZzogQnVpbGRpbmdJbnN0YW5jZSA9IHsgaWQ6IHRhc2suaWQsIG5hbWUsIHBvc2l0aW9uOiBwb3NpdGlvbiEgfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzZXRDb25zdHJ1Y3RpbmdCdWlsZGluZ3MocHJldiA9PiBwcmV2LmZpbHRlcihiID0+IGIuaWQgIT09IHRhc2suaWQpKTtcbiAgICAgICAgICAgICAgICBzZXRCdWlsZGluZ3MocCA9PiAoeyAuLi5wLCBbYnVpbGRpbmdUeXBlIV06IFsuLi5wW2J1aWxkaW5nVHlwZSFdLCBuZXdCdWlsZGluZ10gfSkpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICh2aWxsYWdlcklkcyAmJiB2aWxsYWdlcklkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFRvTG9nKGAke3ZpbGxhZ2VySWRzLmxlbmd0aH0gYnVpbGRlcihzKSBoYXZlIGNvbnN0cnVjdGVkICR7bmFtZX0sIGEgbmV3ICR7YnVpbGRpbmdJbmZvLm5hbWV9LmAsIGJ1aWxkaW5nVHlwZSEpO1xuICAgICAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgQ29uc3RydWN0aW9uIG9mICR7bmFtZX0gaXMgY29tcGxldGUuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnZ2F0aGVyJzoge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgbm93IGhhbmRsZWQgYnkgdGhlIGdhbWUgbG9vcCBkZXBsZXRpbmcgdGhlIG5vZGUuXG4gICAgICAgICAgICAgICAgLy8gaGFuZGxlVGFza0NvbXBsZXRpb24gZm9yIGdhdGhlciBpcyBvbmx5IGNhbGxlZCB3aGVuIHRoZSBub2RlIGlzIGdvbmUuXG4gICAgICAgICAgICAgICAgLy8gVGhlIHZpbGxhZ2VycyBhc3NpZ25lZCBhcmUgbm93IGlkbGUuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICd0cmFpbl92aWxsYWdlcic6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNvdW50IH0gPSB0YXNrLnBheWxvYWQhO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZpbGxhZ2VyTmFtZXMgPSBnZXRSYW5kb21OYW1lcygndmlsbGFnZXInLCBjb3VudCEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZpbGxhZ2VyczogVmlsbGFnZXJbXSA9IG5ld1ZpbGxhZ2VyTmFtZXMubWFwKG5hbWUgPT4gKHsgaWQ6IGAke0RhdGUubm93KCl9LSR7bmFtZX1gLCBuYW1lIH0pKTtcbiAgICAgICAgICAgICAgICBzZXRVbml0cyhwID0+ICh7IC4uLnAsIHZpbGxhZ2VyczogWy4uLnAudmlsbGFnZXJzLCAuLi5uZXdWaWxsYWdlcnNdIH0pKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhgJHtjb3VudH0gbmV3IHZpbGxhZ2VyKHMpIGhhdmUgam9pbmVkIHlvdXIgc2V0dGxlbWVudC5gLCAndmlsbGFnZXInKTtcbiAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgJHtjb3VudH0gbmV3IHZpbGxhZ2VyKHMpIGFyZSByZWFkeSB0byB3b3JrLmApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAndHJhaW5fbWlsaXRhcnknOiB7XG4gICAgICAgICAgICAgICAgIGNvbnN0IHsgdW5pdFR5cGUsIGNvdW50IH0gPSB0YXNrLnBheWxvYWQhO1xuICAgICAgICAgICAgICAgICBjb25zdCB1bml0SW5mbyA9IFVOSVRfSU5GTy5maW5kKHUgPT4gdS5pZCA9PT0gdW5pdFR5cGUpITtcbiAgICAgICAgICAgICAgICAgY29uc3QgbmV3VW5pdE5hbWVzID0gZ2V0UmFuZG9tTmFtZXMoJ3NvbGRpZXInLCBjb3VudCEpO1xuICAgICAgICAgICAgICAgICBjb25zdCBuZXdVbml0czogTWlsaXRhcnlVbml0W10gPSBuZXdVbml0TmFtZXMubWFwKG5hbWUgPT4gKHsgaWQ6IGAke0RhdGUubm93KCl9LSR7dW5pdFR5cGV9LSR7bmFtZX1gLCBuYW1lLCB0aXRsZTogJycsIHVuaXRUeXBlOiB1bml0VHlwZSEgfSkpO1xuICAgICAgICAgICAgICAgICBzZXRVbml0cyhwID0+ICh7IC4uLnAsIG1pbGl0YXJ5OiBbLi4ucC5taWxpdGFyeSwgLi4ubmV3VW5pdHNdIH0pKTtcbiAgICAgICAgICAgICAgICAgYWRkVG9Mb2coYCR7Y291bnR9ICR7dW5pdEluZm8ubmFtZX0ocykgaGF2ZSBiZWVuIHRyYWluZWQuYCwgdW5pdFR5cGUhKTtcbiAgICAgICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYCR7Y291bnR9IG5ldyAke3VuaXRJbmZvLm5hbWV9KHMpIGFyZSByZWFkeSBmb3IgYmF0dGxlLmApO1xuICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2FkdmFuY2VfYWdlJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFnZVJlc3VsdCA9IGdldFByZWRlZmluZWRBZ2UoY3VycmVudEFnZSk7XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudEFnZShhZ2VSZXN1bHQubmV4dEFnZU5hbWUpO1xuICAgICAgICAgICAgICAgIGFkZFRvTG9nKGBZb3UgaGF2ZSBhZHZhbmNlZCB0byB0aGUgJHthZ2VSZXN1bHQubmV4dEFnZU5hbWV9IWAsICdhZ2UnKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhhZ2VSZXN1bHQuZGVzY3JpcHRpb24sICdhZ2UnKTtcbiAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgV2VsY29tZSB0byB0aGUgJHthZ2VSZXN1bHQubmV4dEFnZU5hbWV9IWApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgW2N1cnJlbnRBZ2UsIHVwZGF0ZVJlc291cmNlcywgYWRkVG9Mb2ddKTtcbiAgICBcbiAgICAvLyBHYW1lIExvb3BcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBnYW1lTG9vcCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBsZXQgY29tcGxldGVkVGFza3M6IEdhbWVUYXNrW10gPSBbXTtcbiAgICAgICAgICAgIGxldCByZXNvdXJjZURlbHRhc1RoaXNUaWNrOiBSZXNvdXJjZURlbHRhcyA9IHt9O1xuXG4gICAgICAgICAgICBjb25zdCBzdGlsbEFjdGl2ZVRhc2tzID0gYWN0aXZlVGFza3MubWFwKHRhc2sgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gdGFzay5zdGFydFRpbWUgKyB0YXNrLmR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZFRhc2tzLnB1c2godGFzayk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAodGFzay50eXBlID09PSAnZ2F0aGVyJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gcmVzb3VyY2VOb2Rlcy5maW5kKG4gPT4gbi5pZCA9PT0gdGFzay5wYXlsb2FkPy5yZXNvdXJjZU5vZGVJZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZpbGxhZ2VyQ291bnQgPSB0YXNrLnBheWxvYWQ/LnZpbGxhZ2VySWRzPy5sZW5ndGggfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmICghbm9kZSB8fCB2aWxsYWdlckNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsgLy8gT3JwaGFuZWQgdGFzaywgbWFyayBmb3IgcmVtb3ZhbFxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2F0aGVyUmF0ZVBlclZpbGxhZ2VyUGVyU2Vjb25kID0gR0FUSEVSX0lORk9bbm9kZS50eXBlXS5yYXRlIC8gMTA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudEdhdGhlcmVkVGhpc1RpY2sgPSBnYXRoZXJSYXRlUGVyVmlsbGFnZXJQZXJTZWNvbmQgKiB2aWxsYWdlckNvdW50O1xuXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlRGVsdGFzVGhpc1RpY2tbbm9kZS50eXBlXSA9IChyZXNvdXJjZURlbHRhc1RoaXNUaWNrW25vZGUudHlwZV0gfHwgMCkgKyBhbW91bnRHYXRoZXJlZFRoaXNUaWNrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0YXNrO1xuXG4gICAgICAgICAgICB9KS5maWx0ZXIoQm9vbGVhbikgYXMgR2FtZVRhc2tbXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIHJlc291cmNlIG5vZGVzIHNlcGFyYXRlbHkgdG8gYXZvaWQgcmFjZSBjb25kaXRpb25zIHdpdGggc3RhdGVcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhyZXNvdXJjZURlbHRhc1RoaXNUaWNrKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgc2V0UmVzb3VyY2VzKHByZXZSZXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdSZXNvdXJjZXMgPSB7IC4uLnByZXZSZXMgfTtcbiAgICAgICAgICAgICAgICAgICAgZm9yKGNvbnN0IGtleSBpbiByZXNvdXJjZURlbHRhc1RoaXNUaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNLZXkgPSBrZXkgYXMga2V5b2YgUmVzb3VyY2VzO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UmVzb3VyY2VzW3Jlc0tleV0gKz0gcmVzb3VyY2VEZWx0YXNUaGlzVGlja1tyZXNLZXldITtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3UmVzb3VyY2VzO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgc2V0UmVzb3VyY2VOb2RlcyhwcmV2Tm9kZXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbm9kZXNXZXJlRGVwbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Tm9kZXMgPSBwcmV2Tm9kZXMubWFwKG5vZGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYW1vdW50VG9EZWNyZW1lbnQgPSByZXNvdXJjZURlbHRhc1RoaXNUaWNrW25vZGUudHlwZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW1vdW50VG9EZWNyZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdBbW91bnQgPSBub2RlLmFtb3VudCAtIGFtb3VudFRvRGVjcmVtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdBbW91bnQgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRUb0xvZyhgJHtub2RlLmFzc2lnbmVkVmlsbGFnZXJzLmxlbmd0aH0gdmlsbGFnZXIocykgZGVwbGV0ZWQgYSAke25vZGUudHlwZX0gc291cmNlLCBnYWluaW5nICR7TWF0aC5mbG9vcihub2RlLmFtb3VudCl9ICR7bm9kZS50eXBlfS5gLCBub2RlLnR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgQSAke25vZGUudHlwZX0gc291cmNlIGhhcyBiZWVuIGZ1bGx5IGRlcGxldGVkLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2Rlc1dlcmVEZXBsZXRlZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2F0aGVyVGFzayA9IHN0aWxsQWN0aXZlVGFza3MuZmluZCh0ID0+IHQudHlwZSA9PT0gJ2dhdGhlcicgJiYgdC5wYXlsb2FkPy5yZXNvdXJjZU5vZGVJZCA9PT0gbm9kZS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGdhdGhlclRhc2spIGNvbXBsZXRlZFRhc2tzLnB1c2goZ2F0aGVyVGFzayk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLm5vZGUsIGFtb3VudDogbmV3QW1vdW50IH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgfSkuZmlsdGVyKEJvb2xlYW4pIGFzIFJlc291cmNlTm9kZVtdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChub2Rlc1dlcmVEZXBsZXRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyB3aWxsIGZpbHRlciBvdXQgdGhlIGNvbXBsZXRlZCBnYXRoZXIgdGFza3MgaW4gdGhlIG5leHQgc3RlcFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdOb2RlcztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZmluYWxBY3RpdmVUYXNrcyA9IHN0aWxsQWN0aXZlVGFza3MuZmlsdGVyKHQgPT4gIWNvbXBsZXRlZFRhc2tzLnNvbWUoY3QgPT4gY3QuaWQgPT09IHQuaWQpKTtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKGZpbmFsQWN0aXZlVGFza3MpO1xuXG4gICAgICAgICAgICBpZiAoY29tcGxldGVkVGFza3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlZFRhc2tzLmZvckVhY2goaGFuZGxlVGFza0NvbXBsZXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAxMDAwKTtcblxuICAgICAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChnYW1lTG9vcCk7XG4gICAgfSwgW2FjdGl2ZVRhc2tzLCByZXNvdXJjZU5vZGVzLCBoYW5kbGVUYXNrQ29tcGxldGlvbiwgYWRkVG9Mb2ddKTtcblxuXG4gICAgY29uc3QgaGFuZGxlTmV3RXZlbnQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5vbkdhdGhlcmluZ1Rhc2tzID0gYWN0aXZlVGFza3MuZmlsdGVyKHQgPT4gdC50eXBlICE9PSAnZ2F0aGVyJyk7XG4gICAgICAgIGlmICghY2l2aWxpemF0aW9uIHx8IGN1cnJlbnRFdmVudCB8fCBub25HYXRoZXJpbmdUYXNrcy5sZW5ndGggPiAwKSByZXR1cm47XG4gICAgICAgIFxuICAgICAgICBhZGRUb0xvZygnQSBuZXcgY2hhcHRlciB1bmZvbGRzLi4uJywgJ2V2ZW50Jyk7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gZ2V0UHJlZGVmaW5lZEdhbWVFdmVudCgpO1xuICAgICAgICBzZXRDdXJyZW50RXZlbnQoZXZlbnQpO1xuICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cygnQSBuZXcgZXZlbnQgcmVxdWlyZXMgeW91ciBhdHRlbnRpb24hJyk7XG4gICAgfSwgW2NpdmlsaXphdGlvbiwgY3VycmVudEV2ZW50LCBhY3RpdmVUYXNrcywgYWRkVG9Mb2ddKTtcbiAgICBcbiAgICBjb25zdCBzY2hlZHVsZU5leHRFdmVudCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50VGltZXJSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGV2ZW50VGltZXJSZWYuY3VycmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV4dEV2ZW50VGltZSA9ICg0NSArIE1hdGgucmFuZG9tKCkgKiA0NSkgKiAxMDAwOyAvLyA0NS05MCBzZWNvbmRzXG4gICAgICAgIGV2ZW50VGltZXJSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4gaGFuZGxlTmV3RXZlbnQoKSwgbmV4dEV2ZW50VGltZSk7XG4gICAgfSwgW2hhbmRsZU5ld0V2ZW50XSk7XG5cbiAgICBjb25zdCBnZW5lcmF0ZVJlc291cmNlTm9kZXMgPSAoZXhpc3RpbmdQb3NpdGlvbnM6IFNldDxzdHJpbmc+KTogUmVzb3VyY2VOb2RlW10gPT4ge1xuICAgICAgICBjb25zdCBub2RlczogUmVzb3VyY2VOb2RlW10gPSBbXTtcbiAgICAgICAgY29uc3QgdHlwZXM6IFJlc291cmNlTm9kZVR5cGVbXSA9IFsnZm9vZCcsICd3b29kJywgJ2dvbGQnLCAnc3RvbmUnXTtcbiAgICAgICAgY29uc3QgbnVtTm9kZXMgPSAyMCArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcbiAgICAgICAgXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtTm9kZXM7IGkrKykge1xuICAgICAgICAgICAgbGV0IHBvczoge3g6IG51bWJlciwgeTogbnVtYmVyfTtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBwb3MgPSB7XG4gICAgICAgICAgICAgICAgICAgIHg6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE1BUF9ESU1FTlNJT05TLndpZHRoKSxcbiAgICAgICAgICAgICAgICAgICAgeTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTUFQX0RJTUVOU0lPTlMuaGVpZ2h0KSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlIChleGlzdGluZ1Bvc2l0aW9ucy5oYXMoYCR7cG9zLnh9LCR7cG9zLnl9YCkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleGlzdGluZ1Bvc2l0aW9ucy5hZGQoYCR7cG9zLnh9LCR7cG9zLnl9YCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSB0eXBlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0eXBlcy5sZW5ndGgpXTtcbiAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgyNTAwIC0gNTAwICsgMSkpICsgNTAwO1xuXG4gICAgICAgICAgICBub2Rlcy5wdXNoKHsgaWQ6IGAke0RhdGUubm93KCl9LW5vZGUtJHtpfWAsIHR5cGUsIHBvc2l0aW9uOiBwb3MsIGFtb3VudCwgYXNzaWduZWRWaWxsYWdlcnM6IFtdIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlcztcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlU3RhcnROZXdHYW1lID0gKHNhdmVOYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgaWYgKGFsbFNhdmVzLmluY2x1ZGVzKHNhdmVOYW1lKSkge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKGBBIHNhZ2EgbmFtZWQgXCIke3NhdmVOYW1lfVwiIGFscmVhZHkgZXhpc3RzLmApOyByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0R2FtZVN0YXRlKEdhbWVTdGF0dXMuTE9BRElORyk7XG4gICAgICAgIHNldEN1cnJlbnRTYXZlTmFtZShzYXZlTmFtZSk7XG5cbiAgICAgICAgY29uc3QgY2l2ID0gZ2V0UHJlZGVmaW5lZENpdmlsaXphdGlvbigpO1xuICAgICAgICBzZXRDaXZpbGl6YXRpb24oY2l2KTtcbiAgICAgICAgc2V0UmVzb3VyY2VzKHsgZm9vZDogMjAwLCB3b29kOiAxNTAsIGdvbGQ6IDUwLCBzdG9uZTogMTAwIH0pO1xuICAgICAgICBjb25zdCBpbml0aWFsVmlsbGFnZXJOYW1lcyA9IGdldFJhbmRvbU5hbWVzKCd2aWxsYWdlcicsIDMpO1xuICAgICAgICBjb25zdCBpbml0aWFsVmlsbGFnZXJzOiBWaWxsYWdlcltdID0gaW5pdGlhbFZpbGxhZ2VyTmFtZXMubWFwKG5hbWUgPT4gKHsgaWQ6IGAke0RhdGUubm93KCl9LSR7bmFtZX1gLCBuYW1lIH0pKTtcbiAgICAgICAgc2V0VW5pdHMoeyB2aWxsYWdlcnM6IGluaXRpYWxWaWxsYWdlcnMsIG1pbGl0YXJ5OiBbXSB9KTtcbiAgICAgICAgY29uc3QgW2luaXRpYWxUQ05hbWVdID0gZ2V0UmFuZG9tTmFtZXMoJ2J1aWxkaW5nJywgMSk7XG4gICAgICAgIGNvbnN0IHRjUG9zaXRpb24gPSB7IHg6IE1hdGguZmxvb3IoTUFQX0RJTUVOU0lPTlMud2lkdGggLyAyKSwgeTogTWF0aC5mbG9vcihNQVBfRElNRU5TSU9OUy5oZWlnaHQgLyAyKSB9O1xuICAgICAgICBjb25zdCBpbml0aWFsVEM6IEJ1aWxkaW5nSW5zdGFuY2UgPSB7IGlkOiBgJHtEYXRlLm5vdygpfS10Y2AsIG5hbWU6IGluaXRpYWxUQ05hbWUsIHBvc2l0aW9uOiB0Y1Bvc2l0aW9uIH07XG4gICAgICAgIHNldEJ1aWxkaW5ncyh7Li4uaW5pdGlhbEJ1aWxkaW5nc1N0YXRlLCB0b3duQ2VudGVyOiBbaW5pdGlhbFRDXX0pO1xuICAgICAgICBzZXRSZXNvdXJjZU5vZGVzKGdlbmVyYXRlUmVzb3VyY2VOb2RlcyhuZXcgU2V0KFtgJHt0Y1Bvc2l0aW9uLnh9LCR7dGNQb3NpdGlvbi55fWBdKSkpO1xuICAgICAgICBzZXRDdXJyZW50QWdlKCdOb21hZGljIEFnZScpO1xuICAgICAgICBzZXRHYW1lTG9nKFtdKTtcbiAgICAgICAgc2V0Q3VycmVudEV2ZW50KG51bGwpO1xuICAgICAgICBzZXRVbmxpbWl0ZWRSZXNvdXJjZXMoZmFsc2UpO1xuICAgICAgICBzZXRBY3RpdmVUYXNrcyhbXSk7XG4gICAgICAgIHNldENvbnN0cnVjdGluZ0J1aWxkaW5ncyhbXSk7XG4gICAgICAgIGFkZFRvTG9nKGAke2Npdi5uYW1lfSBoYXMgYmVlbiBmb3VuZGVkIWAsICdzeXN0ZW0nKTtcbiAgICAgICAgYWRkVG9Mb2coJ1lvdXIgc3RvcnkgYmVnaW5zLi4uJywgJ3N5c3RlbScpO1xuICAgICAgICBzZXRHYW1lU3RhdGUoR2FtZVN0YXR1cy5QTEFZSU5HKTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoJ1lvdXIgc2V0dGxlbWVudCBhd2FpdHMgeW91ciBjb21tYW5kLicpO1xuICAgICAgICBmZXRjaFNhdmVzKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGdldFZpbGxhZ2VyVGFza0RldGFpbHMgPSB1c2VDYWxsYmFjaygodmlsbGFnZXJJZDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICAgICAgY29uc3QgdGFzayA9IGFjdGl2ZVRhc2tzLmZpbmQodCA9PiB0LnBheWxvYWQ/LnZpbGxhZ2VySWRzPy5pbmNsdWRlcyh2aWxsYWdlcklkKSk7XG5cbiAgICAgICAgaWYgKHRhc2spIHtcbiAgICAgICAgICAgIGlmICh0YXNrLnR5cGUgPT09ICdidWlsZCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBCVUlMRElOR1NfSU5GTy5maW5kKGIgPT4gYi5pZCA9PT0gdGFzay5wYXlsb2FkIS5idWlsZGluZ1R5cGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBgQnVzeTogQ29uc3RydWN0aW5nICR7YnVpbGRpbmdJbmZvPy5uYW1lIHx8ICdhIGJ1aWxkaW5nJ31gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRhc2sudHlwZSA9PT0gJ2dhdGhlcicpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gcmVzb3VyY2VOb2Rlcy5maW5kKG4gPT4gbi5pZCA9PT0gdGFzay5wYXlsb2FkIS5yZXNvdXJjZU5vZGVJZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBCdXN5OiBHYXRoZXJpbmcgJHtub2RlPy50eXBlIHx8ICdyZXNvdXJjZXMnfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiAnSWRsZSc7XG4gICAgfSwgW2FjdGl2ZVRhc2tzLCByZXNvdXJjZU5vZGVzXSk7XG5cbiAgICBjb25zdCBpc1ZpbGxhZ2VyQnVzeSA9IHVzZUNhbGxiYWNrKCh2aWxsYWdlcklkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgcmV0dXJuIGdldFZpbGxhZ2VyVGFza0RldGFpbHModmlsbGFnZXJJZCkgIT09ICdJZGxlJztcbiAgICB9LCBbZ2V0VmlsbGFnZXJUYXNrRGV0YWlsc10pO1xuXG4gICAgY29uc3QgaGFuZGxlUmVzdW1lR2FtZSA9IGFzeW5jIChzYXZlTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IHNhdmVkU3RhdGUgPSBhd2FpdCBsb2FkR2FtZVN0YXRlKHNhdmVOYW1lKSBhcyBGdWxsR2FtZVN0YXRlO1xuICAgICAgICBpZiAoc2F2ZWRTdGF0ZSkge1xuICAgICAgICAgICAgc2V0R2FtZVN0YXRlKEdhbWVTdGF0dXMuTE9BRElORyk7XG4gICAgICAgICAgICBzZXRDdXJyZW50U2F2ZU5hbWUoc2F2ZU5hbWUpO1xuICAgICAgICAgICAgc2V0Q2l2aWxpemF0aW9uKHNhdmVkU3RhdGUuY2l2aWxpemF0aW9uKTtcbiAgICAgICAgICAgIHNldFJlc291cmNlcyhzYXZlZFN0YXRlLnJlc291cmNlcyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICgoc2F2ZWRTdGF0ZS51bml0cyBhcyBhbnkpPy5zb2xkaWVycykge1xuICAgICAgICAgICAgICAgICBjb25zdCBtaWdyYXRlZE1pbGl0YXJ5OiBNaWxpdGFyeVVuaXRbXSA9IChzYXZlZFN0YXRlLnVuaXRzIGFzIGFueSkuc29sZGllcnMubWFwKChzOiBhbnkpID0+ICh7IC4uLnMsIHVuaXRUeXBlOiAnc3dvcmRzbWFuJyB9KSk7XG4gICAgICAgICAgICAgICAgIHNldFVuaXRzKHsgdmlsbGFnZXJzOiBzYXZlZFN0YXRlLnVuaXRzLnZpbGxhZ2VycyB8fCBbXSwgbWlsaXRhcnk6IG1pZ3JhdGVkTWlsaXRhcnkgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICBzZXRVbml0cyhzYXZlZFN0YXRlLnVuaXRzIHx8IHsgdmlsbGFnZXJzOiBbXSwgbWlsaXRhcnk6IFtdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgZmluYWxCdWlsZGluZ3MgPSB7IC4uLmluaXRpYWxCdWlsZGluZ3NTdGF0ZSwgLi4uKHNhdmVkU3RhdGUuYnVpbGRpbmdzIHx8IHt9KSB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBvY2N1cGllZENlbGxzID0gbmV3IFNldChPYmplY3QudmFsdWVzKGZpbmFsQnVpbGRpbmdzKS5mbGF0KCkubWFwKChiOiBhbnkpID0+IGAke2IucG9zaXRpb24ueH0sJHtiLnBvc2l0aW9uLnl9YCkpO1xuXG4gICAgICAgICAgICBpZiAoIWZpbmFsQnVpbGRpbmdzLnRvd25DZW50ZXIgfHwgZmluYWxCdWlsZGluZ3MudG93bkNlbnRlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgdGNQb3MgPSB7IHg6IDEwLCB5OiA1IH07XG4gICAgICAgICAgICAgICAgd2hpbGUgKG9jY3VwaWVkQ2VsbHMuaGFzKGAke3RjUG9zLnh9LCR7dGNQb3MueX1gKSkgeyB0Y1Bvcy54Kys7IH1cbiAgICAgICAgICAgICAgICBjb25zdCBbdGNOYW1lXSA9IGdldFJhbmRvbU5hbWVzKCdidWlsZGluZycsIDEpO1xuICAgICAgICAgICAgICAgIGZpbmFsQnVpbGRpbmdzLnRvd25DZW50ZXIgPSBbeyBpZDogYCR7RGF0ZS5ub3coKX0tdGNgLCBuYW1lOiB0Y05hbWUsIHBvc2l0aW9uOiB0Y1BvcyB9XTtcbiAgICAgICAgICAgICAgICBvY2N1cGllZENlbGxzLmFkZChgJHt0Y1Bvcy54fSwke3RjUG9zLnl9YCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGZpcnN0QnVpbGRpbmcgPSBPYmplY3QudmFsdWVzKGZpbmFsQnVpbGRpbmdzKS5mbGF0KClbMF07XG4gICAgICAgICAgICBpZiAoZmlyc3RCdWlsZGluZyAmJiB0eXBlb2YgZmlyc3RCdWlsZGluZyA9PT0gJ29iamVjdCcgJiYgISgncG9zaXRpb24nIGluIGZpcnN0QnVpbGRpbmcpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWlncmF0ZWQgPSB7IC4uLmluaXRpYWxCdWlsZGluZ3NTdGF0ZSB9O1xuICAgICAgICAgICAgICAgIGxldCB5ID0gMztcbiAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyhmaW5hbEJ1aWxkaW5ncykuZm9yRWFjaCgoW3R5cGUsIGluc3RhbmNlc10pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHggPSA1O1xuICAgICAgICAgICAgICAgICAgICAoaW5zdGFuY2VzIGFzIEJ1aWxkaW5nSW5zdGFuY2VbXSkuZm9yRWFjaChpbnN0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChvY2N1cGllZENlbGxzLmhhcyhgJHt4fSwke3l9YCkpIHsgeCsrOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAobWlncmF0ZWRbdHlwZSBhcyBCdWlsZGluZ1R5cGVdIGFzIEJ1aWxkaW5nSW5zdGFuY2VbXSkucHVzaCh7IC4uLmluc3QsIHBvc2l0aW9uOiB7IHgsIHkgfSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9jY3VwaWVkQ2VsbHMuYWRkKGAke3h9LCR7eX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHgrKztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZmluYWxCdWlsZGluZ3MgPSBtaWdyYXRlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc2V0QnVpbGRpbmdzKGZpbmFsQnVpbGRpbmdzKTtcblxuICAgICAgICAgICAgY29uc3Qgbm9kZXNUb1NldCA9IChzYXZlZFN0YXRlLnJlc291cmNlTm9kZXMgfHwgW10pLm1hcChuID0+ICh7Li4ubiwgYXNzaWduZWRWaWxsYWdlcnM6IG4uYXNzaWduZWRWaWxsYWdlcnMgfHwgW119KSk7XG4gICAgICAgICAgICBpZiAobm9kZXNUb1NldC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgc2V0UmVzb3VyY2VOb2RlcyhnZW5lcmF0ZVJlc291cmNlTm9kZXMob2NjdXBpZWRDZWxscykpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgc2V0UmVzb3VyY2VOb2Rlcyhub2Rlc1RvU2V0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0Q3VycmVudEFnZShzYXZlZFN0YXRlLmN1cnJlbnRBZ2UpO1xuICAgICAgICAgICAgc2V0R2FtZUxvZyhzYXZlZFN0YXRlLmdhbWVMb2cpO1xuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MoKHNhdmVkU3RhdGUuYWN0aXZlVGFza3MgfHwgW10pLm1hcCh0ID0+IHtcbiAgICAgICAgICAgICAgICAvLyBNaWdyYXRpb24gZm9yIG9sZCBzYXZlIGZvcm1hdFxuICAgICAgICAgICAgICAgIGlmICh0LnR5cGUgPT09ICdidWlsZCcgJiYgdC5wYXlsb2FkPy52aWxsYWdlcklkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnQsIHBheWxvYWQ6IHsgLi4udC5wYXlsb2FkLCB2aWxsYWdlcklkczogW3QucGF5bG9hZC52aWxsYWdlcklkXSwgdmlsbGFnZXJJZDogdW5kZWZpbmVkIH0gfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBzZXRDb25zdHJ1Y3RpbmdCdWlsZGluZ3MoKHNhdmVkU3RhdGUuY29uc3RydWN0aW5nQnVpbGRpbmdzIHx8IFtdKS5tYXAoYyA9PiB7XG4gICAgICAgICAgICAgICAgIC8vIE1pZ3JhdGlvbiBmb3Igb2xkIHNhdmUgZm9ybWF0XG4gICAgICAgICAgICAgICAgaWYgKChjIGFzIGFueSkudmlsbGFnZXJJZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5jLCB2aWxsYWdlcklkczogWyhjIGFzIGFueSkudmlsbGFnZXJJZF0sIHZpbGxhZ2VySWQ6IHVuZGVmaW5lZCB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc2V0Q3VycmVudEV2ZW50KG51bGwpO1xuICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoJ1dlbGNvbWUgYmFjayB0byB5b3VyIHNhZ2EuJyk7XG4gICAgICAgICAgICBzZXRHYW1lU3RhdGUoR2FtZVN0YXR1cy5QTEFZSU5HKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihgQ291bGQgbm90IGZpbmQgYSBzYXZlZCBnYW1lIG5hbWVkIFwiJHtzYXZlTmFtZX1cIi5gKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBFdmVudCBUcmlnZ2VyIFRpbWVyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgLy8gRXZlbnRzIHNob3VsZCBub3QgdHJpZ2dlciBpZiBhIG1ham9yIHRhc2sgKGJ1aWxkLCB0cmFpbiwgYWR2YW5jZSBhZ2UpIGlzIGluIHByb2dyZXNzLlxuICAgICAgICAvLyBHYXRoZXJpbmcgcmVzb3VyY2VzIGlzIGEgYmFja2dyb3VuZCB0YXNrIGFuZCBzaG91bGQgbm90IGJsb2NrIGV2ZW50cy5cbiAgICAgICAgY29uc3QgbWFqb3JUYXNrSW5Qcm9ncmVzcyA9IGFjdGl2ZVRhc2tzLnNvbWUodCA9PiB0LnR5cGUgIT09ICdnYXRoZXInKTtcblxuICAgICAgICBpZiAoZ2FtZVN0YXRlID09PSBHYW1lU3RhdHVzLlBMQVlJTkcgJiYgIWN1cnJlbnRFdmVudCAmJiAhcGxheWVyQWN0aW9uICYmICFtYWpvclRhc2tJblByb2dyZXNzKSB7XG4gICAgICAgICAgICBzY2hlZHVsZU5leHRFdmVudCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50VGltZXJSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGV2ZW50VGltZXJSZWYuY3VycmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50VGltZXJSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChldmVudFRpbWVyUmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0sIFtnYW1lU3RhdGUsIGN1cnJlbnRFdmVudCwgcGxheWVyQWN0aW9uLCBhY3RpdmVUYXNrcywgc2NoZWR1bGVOZXh0RXZlbnRdKTtcblxuICAgIGNvbnN0IGhhbmRsZUV2ZW50Q2hvaWNlID0gKGNob2ljZTogR2FtZUV2ZW50Q2hvaWNlKSA9PiB7XG4gICAgICAgIGFkZFRvTG9nKGBEZWNpc2lvbjogXCIke2Nob2ljZS50ZXh0fVwiYCwgJ2V2ZW50Jyk7XG5cbiAgICAgICAgLy8gMS4gQ2hlY2sgYW5kIGFwcGx5IGNvc3RcbiAgICAgICAgaWYgKGNob2ljZS5jb3N0KSB7XG4gICAgICAgICAgICBjb25zdCBtaXNzaW5nUmVzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY2hvaWNlLmNvc3QpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNLZXkgPSBrZXkgYXMga2V5b2YgUmVzb3VyY2VzO1xuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbcmVzS2V5XSA8IChjaG9pY2UuY29zdFtyZXNLZXldIHx8IDApKSB7XG4gICAgICAgICAgICAgICAgICAgIG1pc3NpbmdSZXMucHVzaChyZXNLZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtaXNzaW5nUmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBhZGROb3RpZmljYXRpb24oYFlvdSBsYWNrIHRoZSByZXF1aXJlZCByZXNvdXJjZXM6ICR7bWlzc2luZ1Jlcy5qb2luKCcsICcpfS5gKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuZWdhdGl2ZUNvc3Q6IFJlc291cmNlRGVsdGFzID0ge307XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBjaG9pY2UuY29zdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc0tleSA9IGtleSBhcyBrZXlvZiBSZXNvdXJjZXM7XG4gICAgICAgICAgICAgICAgbmVnYXRpdmVDb3N0W3Jlc0tleV0gPSAtKGNob2ljZS5jb3N0W3Jlc0tleV0gfHwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXMobmVnYXRpdmVDb3N0KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gMi4gRGV0ZXJtaW5lIHN1Y2Nlc3NcbiAgICAgICAgY29uc3QgaXNTdWNjZXNzID0gY2hvaWNlLnN1Y2Nlc3NDaGFuY2UgPT09IHVuZGVmaW5lZCB8fCBNYXRoLnJhbmRvbSgpIDwgY2hvaWNlLnN1Y2Nlc3NDaGFuY2U7XG4gICAgICAgIGNvbnN0IGVmZmVjdHMgPSBpc1N1Y2Nlc3MgPyBjaG9pY2Uuc3VjY2Vzc0VmZmVjdHMgOiBjaG9pY2UuZmFpbHVyZUVmZmVjdHM7XG5cbiAgICAgICAgaWYgKCFlZmZlY3RzKSB7IC8vIEhhbmRsZSBjYXNlcyB3aXRoIG5vIGZhaWx1cmUgZWZmZWN0IGRlZmluZWRcbiAgICAgICAgICAgIHNldEN1cnJlbnRFdmVudChudWxsKTtcbiAgICAgICAgICAgIHNjaGVkdWxlTmV4dEV2ZW50KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyAzLiBDYWxjdWxhdGUgcmVzb3VyY2UgY2hhbmdlXG4gICAgICAgIGxldCBhbW91bnQgPSAwO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShlZmZlY3RzLmFtb3VudCkpIHtcbiAgICAgICAgICAgIGNvbnN0IFttaW4sIG1heF0gPSBlZmZlY3RzLmFtb3VudDtcbiAgICAgICAgICAgIGFtb3VudCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhbW91bnQgPSBlZmZlY3RzLmFtb3VudDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gNC4gQXBwbHkgZWZmZWN0c1xuICAgICAgICBpZiAoZWZmZWN0cy5yZXNvdXJjZSAhPT0gJ25vbmUnICYmIGFtb3VudCAhPT0gMCkge1xuICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKHsgW2VmZmVjdHMucmVzb3VyY2VdOiBhbW91bnQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIDUuIExvZyBhbmQgdXBkYXRlIFVJXG4gICAgICAgIGFkZFRvTG9nKGVmZmVjdHMubG9nLCBlZmZlY3RzLnJlc291cmNlICE9PSAnbm9uZScgPyBlZmZlY3RzLnJlc291cmNlIDogJ3N5c3RlbScpO1xuICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhlZmZlY3RzLmxvZyk7XG4gICAgICAgIHNldEN1cnJlbnRFdmVudChudWxsKTtcbiAgICAgICAgc2NoZWR1bGVOZXh0RXZlbnQoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlSW5pdGlhdGVCdWlsZCA9ICh2aWxsYWdlcklkOiBzdHJpbmcsIHJlY3Q6IERPTVJlY3QpID0+IHtcbiAgICAgICAgaWYgKGlzVmlsbGFnZXJCdXN5KHZpbGxhZ2VySWQpKSB7XG4gICAgICAgICAgICBhZGROb3RpZmljYXRpb24oXCJUaGlzIHZpbGxhZ2VyIGlzIGFscmVhZHkgYnVzeS5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0QnVpbGRQYW5lbFN0YXRlKHsgaXNPcGVuOiB0cnVlLCB2aWxsYWdlcklkLCBhbmNob3JSZWN0OiByZWN0IH0pO1xuICAgICAgICBzZXRVbml0TWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGhhbmRsZVN0YXJ0UGxhY2VtZW50ID0gKGJ1aWxkaW5nSWQ6IEJ1aWxkaW5nVHlwZSkgPT4ge1xuICAgICAgICBjb25zdCB2aWxsYWdlcklkID0gYnVpbGRQYW5lbFN0YXRlLnZpbGxhZ2VySWQ7XG4gICAgICAgIGlmICghdmlsbGFnZXJJZCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IEJVSUxESU5HU19JTkZPLmZpbmQoYiA9PiBiLmlkID09PSBidWlsZGluZ0lkKTtcbiAgICAgICAgaWYgKCFidWlsZGluZ0luZm8pIHJldHVybjtcblxuICAgICAgICBpZiAoYnVpbGRpbmdJbmZvLmlzVW5pcXVlICYmIChidWlsZGluZ3NbYnVpbGRpbmdJbmZvLmlkXS5sZW5ndGggPiAwIHx8IGNvbnN0cnVjdGluZ0J1aWxkaW5ncy5zb21lKGIgPT4gYi50eXBlID09PSBidWlsZGluZ0luZm8uaWQpKSkge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKGBZb3UgY2FuIG9ubHkgYnVpbGQgb25lICR7YnVpbGRpbmdJbmZvLm5hbWV9LmApOyByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGNvc3QgPSBidWlsZGluZ0luZm8uY29zdDtcbiAgICAgICAgaWYgKCF1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pc3Npbmc6IHN0cmluZ1tdID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlcyBpbiBjb3N0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzb3VyY2VLZXkgPSByZXMgYXMga2V5b2YgUmVzb3VyY2VzO1xuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbcmVzb3VyY2VLZXldIDwgKGNvc3RbcmVzb3VyY2VLZXldID8/IDApKSB7XG4gICAgICAgICAgICAgICAgICAgICBtaXNzaW5nLnB1c2goYCR7KGNvc3RbcmVzb3VyY2VLZXldID8/IDApIC0gcmVzb3VyY2VzW3Jlc291cmNlS2V5XX0gJHtyZXNvdXJjZUtleX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAgaWYgKG1pc3NpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihgTmVlZCAke21pc3Npbmcuam9pbignIGFuZCAnKX0uYCk7IHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXRQbGF5ZXJBY3Rpb24oeyBtb2RlOiAnYnVpbGQnLCBidWlsZGluZ1R5cGU6IGJ1aWxkaW5nSWQsIHZpbGxhZ2VySWQgfSk7XG4gICAgICAgIHNldEJ1aWxkUGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIHZpbGxhZ2VySWQ6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBTZWxlY3QgYSBsb2NhdGlvbiB0byBidWlsZCBhICR7YnVpbGRpbmdJbmZvLm5hbWV9LiBSaWdodC1jbGljayB0byBjYW5jZWwuYCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUNvbmZpcm1QbGFjZW1lbnQgPSAocG9zaXRpb246IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSkgPT4ge1xuICAgICAgICBpZiAocGxheWVyQWN0aW9uPy5tb2RlICE9PSAnYnVpbGQnKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgYnVpbGRpbmdUeXBlLCB2aWxsYWdlcklkIH0gPSBwbGF5ZXJBY3Rpb247XG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IEJVSUxESU5HU19JTkZPLmZpbmQoYiA9PiBiLmlkID09PSBidWlsZGluZ1R5cGUpO1xuICAgICAgICBjb25zdCBidWlsZGVyID0gdW5pdHMudmlsbGFnZXJzLmZpbmQodiA9PiB2LmlkID09PSB2aWxsYWdlcklkKTtcbiAgICAgICAgaWYgKCFidWlsZGluZ0luZm8gfHwgIWJ1aWxkZXIpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIGlmICghdW5saW1pdGVkUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICBjb25zdCBjb3N0ID0gYnVpbGRpbmdJbmZvLmNvc3Q7XG4gICAgICAgICAgICBjb25zdCBuZWdhdGl2ZUNvc3Q6IFJlc291cmNlRGVsdGFzID0ge307XG4gICAgICAgICAgICBmb3IoY29uc3QgcmVzb3VyY2UgaW4gY29zdCkge1xuICAgICAgICAgICAgICAgIG5lZ2F0aXZlQ29zdFtyZXNvdXJjZSBhcyBrZXlvZiBSZXNvdXJjZXNdID0gLShjb3N0W3Jlc291cmNlIGFzIGtleW9mIFJlc291cmNlc10gfHwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXMobmVnYXRpdmVDb3N0KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgYnVpbGRUaW1lID0gYnVpbGRpbmdJbmZvLmJ1aWxkVGltZSAqIDEwMDA7XG4gICAgICAgIGNvbnN0IHRhc2tQYXlsb2FkID0geyBidWlsZGluZ1R5cGUsIHZpbGxhZ2VySWRzOiBbdmlsbGFnZXJJZF0sIHBvc2l0aW9uIH07XG5cbiAgICAgICAgaWYgKHVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgIGNvbnN0IHRhc2tJZCA9IGAke0RhdGUubm93KCl9LWluc3RhbnQtYnVpbGRgO1xuICAgICAgICAgICAgIGhhbmRsZVRhc2tDb21wbGV0aW9uKHsgaWQ6IHRhc2tJZCwgdHlwZTogJ2J1aWxkJywgc3RhcnRUaW1lOiAwLCBkdXJhdGlvbjogMCwgcGF5bG9hZDogeyAuLi50YXNrUGF5bG9hZCwgcG9zaXRpb24gfSB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tJZCA9IGAke0RhdGUubm93KCl9LWJ1aWxkLSR7YnVpbGRpbmdUeXBlfWA7XG4gICAgICAgICAgICBjb25zdCBuZXdDb25zdHJ1Y3Rpb246IENvbnN0cnVjdGluZ0J1aWxkaW5nID0geyBpZDogdGFza0lkLCB0eXBlOiBidWlsZGluZ1R5cGUsIHBvc2l0aW9uLCB2aWxsYWdlcklkczogW3ZpbGxhZ2VySWRdIH07XG4gICAgICAgICAgICBzZXRDb25zdHJ1Y3RpbmdCdWlsZGluZ3MocHJldiA9PiBbLi4ucHJldiwgbmV3Q29uc3RydWN0aW9uXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IG5ld1Rhc2s6IEdhbWVUYXNrID0ge1xuICAgICAgICAgICAgICAgIGlkOiB0YXNrSWQsIHR5cGU6ICdidWlsZCcsIHN0YXJ0VGltZTogRGF0ZS5ub3coKSwgZHVyYXRpb246IGJ1aWxkVGltZSwgcGF5bG9hZDogdGFza1BheWxvYWRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IFsuLi5wcmV2LCBuZXdUYXNrXSk7XG4gICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgJHtidWlsZGVyLm5hbWV9IGhhcyBzdGFydGVkIGNvbnN0cnVjdGluZyBhICR7YnVpbGRpbmdJbmZvLm5hbWV9LmApO1xuICAgICAgICAgICAgYWRkVG9Mb2coYCR7YnVpbGRlci5uYW1lfSBiZWdhbiBjb25zdHJ1Y3Rpb24gb2YgYSBuZXcgJHtidWlsZGluZ0luZm8ubmFtZX0uYCwgYnVpbGRpbmdUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc2V0UGxheWVyQWN0aW9uKG51bGwpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVDYW5jZWxQbGF5ZXJBY3Rpb24gPSAoKSA9PiB7XG4gICAgICAgIHNldFBsYXllckFjdGlvbihudWxsKTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoJ0NvbW1hbmQgY2FuY2VsbGVkLicpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVEZW1vbGlzaEJ1aWxkaW5nID0gKHR5cGU6IEJ1aWxkaW5nVHlwZSwgaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBpZihhY3RpdmVUYXNrcy5zb21lKHQgPT4gdC5wYXlsb2FkPy5idWlsZGluZ0lkID09PSBpZCkpIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihcIkNhbm5vdCBkZW1vbGlzaCBhIGJ1aWxkaW5nIHdpdGggYW4gYWN0aXZlIHRhc2suXCIpOyByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYnVpbGRpbmdJbmZvID0gQlVJTERJTkdTX0lORk8uZmluZChiID0+IGIuaWQgPT09IHR5cGUpO1xuICAgICAgICBjb25zdCBidWlsZGluZ0luc3RhbmNlID0gYnVpbGRpbmdzW3R5cGVdLmZpbmQoYiA9PiBiLmlkID09PSBpZCk7XG4gICAgICAgIGlmICghYnVpbGRpbmdJbmZvIHx8ICFidWlsZGluZ0luc3RhbmNlKSByZXR1cm47XG4gICAgICAgIGlmICh0eXBlID09PSAnaG91c2VzJyAmJiBwb3B1bGF0aW9uLmN1cnJlbnQgPiAoYnVpbGRpbmdzLnRvd25DZW50ZXI/Lmxlbmd0aCA+IDAgPyAyMCA6IDApICsgKGJ1aWxkaW5ncy5ob3VzZXMubGVuZ3RoIC0gMSkgKiA1KSB7XG4gICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiQ2Fubm90IGRlbW9saXNoIHRoaXMgaG91c2UsIHlvdXIgcGVvcGxlIHdvdWxkIGJlIGhvbWVsZXNzLlwiKTsgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlZnVuZDogUmVzb3VyY2VEZWx0YXMgPSB7fTtcbiAgICAgICAgbGV0IHJlZnVuZE1lc3NhZ2VQYXJ0czogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCByZXMgaW4gYnVpbGRpbmdJbmZvLmNvc3QpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc291cmNlS2V5ID0gcmVzIGFzIGtleW9mIFJlc291cmNlcztcbiAgICAgICAgICAgIGNvbnN0IGNvc3QgPSBidWlsZGluZ0luZm8uY29zdFtyZXNvdXJjZUtleV0gfHwgMDtcbiAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IE1hdGguZmxvb3IoY29zdCAqIDAuNSk7XG4gICAgICAgICAgICBpZiAoYW1vdW50ID4gMCkge1xuICAgICAgICAgICAgICAgIHJlZnVuZFtyZXNvdXJjZUtleV0gPSBhbW91bnQ7XG4gICAgICAgICAgICAgICAgcmVmdW5kTWVzc2FnZVBhcnRzLnB1c2goYCR7YW1vdW50fSAke3Jlc291cmNlS2V5fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZVJlc291cmNlcyhyZWZ1bmQpO1xuICAgICAgICBzZXRCdWlsZGluZ3MocHJldiA9PiAoeyAuLi5wcmV2LCBbdHlwZV06IHByZXZbdHlwZV0uZmlsdGVyKGIgPT4gYi5pZCAhPT0gaWQpIH0pKTtcbiAgICAgICAgYWRkVG9Mb2coYCR7YnVpbGRpbmdJbnN0YW5jZS5uYW1lfSAoJHtidWlsZGluZ0luZm8ubmFtZX0pIHdhcyBkZW1vbGlzaGVkLmAsIHR5cGUpO1xuICAgICAgICBpZiAocmVmdW5kTWVzc2FnZVBhcnRzLmxlbmd0aCA+IDApIHsgYWRkTm90aWZpY2F0aW9uKGBTYWx2YWdlZCAke3JlZnVuZE1lc3NhZ2VQYXJ0cy5qb2luKCcsICcpfS5gKTsgfVxuICAgICAgICBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7aXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlVXBkYXRlQnVpbGRpbmcgPSAodHlwZTogQnVpbGRpbmdUeXBlLCBpZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgc2V0QnVpbGRpbmdzKHByZXYgPT4gKHsgLi4ucHJldiwgW3R5cGVdOiBwcmV2W3R5cGVdLm1hcChiID0+IGIuaWQgPT09IGlkID8geyAuLi5iLCBuYW1lIH0gOiBiKSB9KSk7XG4gICAgICAgIGFkZE5vdGlmaWNhdGlvbihcIkJ1aWxkaW5nIHJlbmFtZWQuXCIpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVUcmFpblZpbGxhZ2VycyA9IChjb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGlmIChhY3RpdmVUYXNrcy5zb21lKHQgPT4gdC50eXBlID09PSAndHJhaW5fdmlsbGFnZXInKSB8fCBjb3VudCA8PSAwKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHZpbGxhZ2VyQ29zdCA9IDUwO1xuICAgICAgICBjb25zdCB0b3RhbENvc3QgPSB2aWxsYWdlckNvc3QgKiBjb3VudDtcbiAgICAgICAgaWYgKHBvcHVsYXRpb24uY3VycmVudCArIGNvdW50ID4gcG9wdWxhdGlvbi5jYXBhY2l0eSkgeyBhZGROb3RpZmljYXRpb24oYE5lZWQgc3BhY2UgZm9yICR7Y291bnR9IG1vcmUgdmlsbGFnZXJzLmApOyByZXR1cm47IH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRvd25DZW50ZXIgPSBidWlsZGluZ3MudG93bkNlbnRlcj8uWzBdO1xuICAgICAgICBpZiAoIXRvd25DZW50ZXIpIHsgYWRkTm90aWZpY2F0aW9uKGBObyBUb3duIENlbnRlciB0byB0cmFpbiB2aWxsYWdlcnMuYCk7IHJldHVybjsgfVxuXG4gICAgICAgIGlmICghdW5saW1pdGVkUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICBpZiAocmVzb3VyY2VzLmZvb2QgPCB0b3RhbENvc3QpIHsgYWRkTm90aWZpY2F0aW9uKGBOZWVkICR7dG90YWxDb3N0IC0gcmVzb3VyY2VzLmZvb2R9IG1vcmUgRm9vZC5gKTsgcmV0dXJuOyB9XG4gICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXMoeyBmb29kOiAtdG90YWxDb3N0IH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRyYWluVGltZSA9IDEwMDAwICogY291bnQ7IC8vIDEwcyBwZXIgdmlsbGFnZXJcbiAgICAgICAgaWYodW5saW1pdGVkUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICBoYW5kbGVUYXNrQ29tcGxldGlvbih7IGlkOiAnaW5zdGFudCcsIHR5cGU6ICd0cmFpbl92aWxsYWdlcicsIHN0YXJ0VGltZTogMCwgZHVyYXRpb246IDAsIHBheWxvYWQ6IHsgY291bnQgfSB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tJZCA9IGAke0RhdGUubm93KCl9LXRyYWluLXZpbGxhZ2VyYDtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Rhc2s6IEdhbWVUYXNrID0geyBpZDogdGFza0lkLCB0eXBlOiAndHJhaW5fdmlsbGFnZXInLCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiB0cmFpblRpbWUsIHBheWxvYWQ6IHsgY291bnQsIGJ1aWxkaW5nSWQ6IHRvd25DZW50ZXIuaWQgfSB9O1xuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBbLi4ucHJldiwgbmV3VGFza10pO1xuICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYFRyYWluaW5nICR7Y291bnR9IHZpbGxhZ2VyKHMpLi4uYCk7XG4gICAgICAgICAgICBhZGRUb0xvZyhgQmVnYW4gdHJhaW5pbmcgJHtjb3VudH0gbmV3IHZpbGxhZ2VyKHMpLmAsICd2aWxsYWdlcicpO1xuICAgICAgICB9XG4gICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGhhbmRsZVRyYWluVW5pdHMgPSAodW5pdFR5cGU6IE1pbGl0YXJ5VW5pdFR5cGUsIGNvdW50OiBudW1iZXIpID0+IHtcbiAgICAgICAgY29uc3QgdW5pdEluZm8gPSBVTklUX0lORk8uZmluZCh1ID0+IHUuaWQgPT09IHVuaXRUeXBlKTtcbiAgICAgICAgaWYgKCF1bml0SW5mbyB8fCBhY3RpdmVUYXNrcy5zb21lKHQgPT4gdC5wYXlsb2FkPy51bml0VHlwZSA9PT0gdW5pdFR5cGUpIHx8IGNvdW50IDw9IDApIHJldHVybjtcbiAgICAgICAgaWYgKHBvcHVsYXRpb24uY3VycmVudCArIGNvdW50ID4gcG9wdWxhdGlvbi5jYXBhY2l0eSkgeyBhZGROb3RpZmljYXRpb24oYE5lZWQgc3BhY2UgZm9yICR7Y291bnR9IG1vcmUgdW5pdHMuYCk7IHJldHVybjsgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgdHJhaW5pbmdCdWlsZGluZyA9IGJ1aWxkaW5nc1t1bml0SW5mby5yZXF1aXJlZEJ1aWxkaW5nXT8uWzBdO1xuICAgICAgICBpZiAoIXRyYWluaW5nQnVpbGRpbmcpIHsgYWRkTm90aWZpY2F0aW9uKGBObyAke3VuaXRJbmZvLnJlcXVpcmVkQnVpbGRpbmd9IHRvIHRyYWluIHVuaXRzLmApOyByZXR1cm47IH1cblxuICAgICAgICBpZiAoIXVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgY29uc3QgdG90YWxDb3N0OiBSZXNvdXJjZURlbHRhcyA9IHt9OyBjb25zdCBtaXNzaW5nOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCByZXMgaW4gdW5pdEluZm8uY29zdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc291cmNlS2V5ID0gcmVzIGFzIGtleW9mIFJlc291cmNlcztcbiAgICAgICAgICAgICAgICBjb25zdCBjb3N0ID0gKHVuaXRJbmZvLmNvc3RbcmVzb3VyY2VLZXldIHx8IDApICogY291bnQ7XG4gICAgICAgICAgICAgICAgdG90YWxDb3N0W3Jlc291cmNlS2V5XSA9IC1jb3N0O1xuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbcmVzb3VyY2VLZXldIDwgY29zdCkgbWlzc2luZy5wdXNoKGAke2Nvc3QgLSByZXNvdXJjZXNbcmVzb3VyY2VLZXldfSAke3Jlc291cmNlS2V5fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1pc3NpbmcubGVuZ3RoID4gMCkgeyBhZGROb3RpZmljYXRpb24oYE5lZWQgJHttaXNzaW5nLmpvaW4oJyBhbmQgJyl9LmApOyByZXR1cm47IH1cbiAgICAgICAgICAgIHVwZGF0ZVJlc291cmNlcyh0b3RhbENvc3QpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRyYWluVGltZSA9IHVuaXRJbmZvLnRyYWluVGltZSAqIDEwMDAgKiBjb3VudDtcbiAgICAgICAgaWYodW5saW1pdGVkUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICBoYW5kbGVUYXNrQ29tcGxldGlvbih7IGlkOiAnaW5zdGFudCcsIHR5cGU6ICd0cmFpbl9taWxpdGFyeScsIHN0YXJ0VGltZTogMCwgZHVyYXRpb246IDAsIHBheWxvYWQ6IHsgdW5pdFR5cGUsIGNvdW50IH0gfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrSWQgPSBgJHtEYXRlLm5vdygpfS10cmFpbi0ke3VuaXRUeXBlfWA7XG4gICAgICAgICAgICBjb25zdCBuZXdUYXNrOiBHYW1lVGFzayA9IHsgaWQ6IHRhc2tJZCwgdHlwZTogJ3RyYWluX21pbGl0YXJ5Jywgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBkdXJhdGlvbjogdHJhaW5UaW1lLCBwYXlsb2FkOiB7IHVuaXRUeXBlLCBjb3VudCwgYnVpbGRpbmdJZDogdHJhaW5pbmdCdWlsZGluZy5pZCB9IH07XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IFsuLi5wcmV2LCBuZXdUYXNrXSk7XG4gICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgVHJhaW5pbmcgJHtjb3VudH0gJHt1bml0SW5mby5uYW1lfShzKS4uLmApO1xuICAgICAgICAgICAgYWRkVG9Mb2coYEJlZ2FuIHRyYWluaW5nICR7Y291bnR9IG5ldyAke3VuaXRJbmZvLm5hbWV9KHMpLmAsIHVuaXRUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZURpc21pc3NTcGVjaWZpY1VuaXQgPSAodHlwZTogJ3ZpbGxhZ2VycycgfCAnbWlsaXRhcnknLCBpZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmICh0eXBlID09PSAndmlsbGFnZXJzJyAmJiBpc1ZpbGxhZ2VyQnVzeShpZCkpIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihcIkNhbm5vdCBkaXNtaXNzIGEgYnVzeSB2aWxsYWdlci5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdW5pdCA9IHVuaXRzW3R5cGVdLmZpbmQodSA9PiB1LmlkID09PSBpZCk7XG4gICAgICAgIGlmICghdW5pdCkgcmV0dXJuO1xuICAgICAgICBpZiAodHlwZSA9PT0gJ3ZpbGxhZ2VycycgJiYgdW5pdHMudmlsbGFnZXJzLmxlbmd0aCA8PSAxKSB7IGFkZE5vdGlmaWNhdGlvbihcIkNhbm5vdCBkaXNtaXNzIHlvdXIgbGFzdCB2aWxsYWdlci5cIik7IHJldHVybjsgfVxuICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7IC4uLnByZXYsIFt0eXBlXTogcHJldlt0eXBlXS5maWx0ZXIodSA9PiB1LmlkICE9PSBpZCkgfSkpO1xuICAgICAgICBjb25zdCB1bml0VHlwZU5hbWUgPSB0eXBlID09PSAndmlsbGFnZXJzJyA/ICd2aWxsYWdlcicgOiAodW5pdCBhcyBNaWxpdGFyeVVuaXQpLnVuaXRUeXBlO1xuICAgICAgICBhZGRUb0xvZyhgJHt1bml0Lm5hbWV9IHRoZSAke3VuaXRUeXBlTmFtZX0gaGFzIGJlZW4gZGlzbWlzc2VkLmAsIHR5cGUgPT09ICd2aWxsYWdlcnMnID8gJ3ZpbGxhZ2VyJyA6ICh1bml0IGFzIE1pbGl0YXJ5VW5pdCkudW5pdFR5cGUpO1xuICAgICAgICBhZGROb3RpZmljYXRpb24oYCR7dW5pdC5uYW1lfSB3YXMgZGlzbWlzc2VkLmApO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVVcGRhdGVVbml0ID0gKHR5cGU6ICd2aWxsYWdlcnMnIHwgJ21pbGl0YXJ5JywgaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCB0aXRsZT86IHN0cmluZykgPT4ge1xuICAgICAgICAgc2V0VW5pdHMocHJldiA9PiAoeyAuLi5wcmV2LCBbdHlwZV06IHByZXZbdHlwZV0ubWFwKHUgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh1LmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkVW5pdCA9IHsgLi4udSwgbmFtZSB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ21pbGl0YXJ5JyAmJiB0aXRsZSAhPT0gdW5kZWZpbmVkKSB7ICh1cGRhdGVkVW5pdCBhcyBNaWxpdGFyeVVuaXQpLnRpdGxlID0gdGl0bGU7IH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWRVbml0O1xuICAgICAgICAgICAgICAgIH0gcmV0dXJuIHU7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KSk7XG4gICAgICAgIGFkZE5vdGlmaWNhdGlvbihcIlVuaXQgdXBkYXRlZC5cIik7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUFzc2lnblZpbGxhZ2Vyc1RvTm9kZSA9IChub2RlSWQ6IHN0cmluZywgY291bnQ6IG51bWJlcikgPT4ge1xuICAgICAgICBjb25zdCBpZGxlVmlsbGFnZXJzID0gdW5pdHMudmlsbGFnZXJzLmZpbHRlcih2ID0+ICFpc1ZpbGxhZ2VyQnVzeSh2LmlkKSk7XG4gICAgICAgIGlmIChjb3VudCA8PSAwKSByZXR1cm47XG4gICAgICAgIGxldCBjYXBwZWRDb3VudCA9IE1hdGgubWluKGNvdW50LCBpZGxlVmlsbGFnZXJzLmxlbmd0aCk7XG4gICAgICAgIGlmIChjYXBwZWRDb3VudCA9PT0gMCkgeyBhZGROb3RpZmljYXRpb24oXCJObyBpZGxlIHZpbGxhZ2VycyBhdmFpbGFibGUuXCIpOyByZXR1cm47IH1cbiAgICBcbiAgICAgICAgY29uc3QgdmlsbGFnZXJzVG9Bc3NpZ24gPSBpZGxlVmlsbGFnZXJzLnNsaWNlKDAsIGNhcHBlZENvdW50KTtcbiAgICAgICAgY29uc3QgdmlsbGFnZXJJZHNUb0Fzc2lnbiA9IHZpbGxhZ2Vyc1RvQXNzaWduLm1hcCh2ID0+IHYuaWQpO1xuICAgIFxuICAgICAgICBjb25zdCB0YXJnZXROb2RlID0gcmVzb3VyY2VOb2Rlcy5maW5kKG4gPT4gbi5pZCA9PT0gbm9kZUlkKTtcbiAgICAgICAgaWYgKCF0YXJnZXROb2RlKSByZXR1cm47XG4gICAgXG4gICAgICAgIHNldFJlc291cmNlTm9kZXMocHJldk5vZGVzID0+IFxuICAgICAgICAgICAgcHJldk5vZGVzLm1hcChuID0+IG4uaWQgPT09IG5vZGVJZCA/IHsuLi5uLCBhc3NpZ25lZFZpbGxhZ2VyczogWy4uLm5ldyBTZXQoWy4uLm4uYXNzaWduZWRWaWxsYWdlcnMsIC4uLnZpbGxhZ2VySWRzVG9Bc3NpZ25dKV19IDogbilcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIGlmICh1bmxpbWl0ZWRSZXNvdXJjZXMpIHsgLy8gSW5zdGFudCBnYXRoZXIgZm9yIHRlc3QgbW9kZVxuICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKHsgW3RhcmdldE5vZGUudHlwZV06IHRhcmdldE5vZGUuYW1vdW50IH0pO1xuICAgICAgICAgICAgYWRkVG9Mb2coYCR7Y2FwcGVkQ291bnR9IHZpbGxhZ2VyKHMpIGluc3RhbnRseSBnYXRoZXJlZCAke01hdGguZmxvb3IodGFyZ2V0Tm9kZS5hbW91bnQpfSAke3RhcmdldE5vZGUudHlwZX0uYCwgdGFyZ2V0Tm9kZS50eXBlKTtcbiAgICAgICAgICAgIHNldFJlc291cmNlTm9kZXMocHJldiA9PiBwcmV2LmZpbHRlcihuID0+IG4uaWQgIT09IG5vZGVJZCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdUYXNrID0gYWN0aXZlVGFza3MuZmluZCh0ID0+IHQudHlwZSA9PT0gJ2dhdGhlcicgJiYgdC5wYXlsb2FkPy5yZXNvdXJjZU5vZGVJZCA9PT0gbm9kZUlkKTtcbiAgICAgICAgICAgIGlmIChleGlzdGluZ1Rhc2spIHtcbiAgICAgICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IHByZXYubWFwKHQgPT4gdC5pZCA9PT0gZXhpc3RpbmdUYXNrLmlkID8ge1xuICAgICAgICAgICAgICAgICAgICAuLi50LFxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7IC4uLnQucGF5bG9hZCwgdmlsbGFnZXJJZHM6IFsuLi5uZXcgU2V0KFsuLi50LnBheWxvYWQhLnZpbGxhZ2VySWRzISwgLi4udmlsbGFnZXJJZHNUb0Fzc2lnbl0pXSB9XG4gICAgICAgICAgICAgICAgfSA6IHQpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Rhc2s6IEdhbWVUYXNrID0geyBpZDogYGdhdGhlci0ke25vZGVJZH1gLCB0eXBlOiAnZ2F0aGVyJywgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBkdXJhdGlvbjogODY0MDAwMDAsIHBheWxvYWQ6IHsgcmVzb3VyY2VOb2RlSWQ6IG5vZGVJZCwgdmlsbGFnZXJJZHM6IHZpbGxhZ2VySWRzVG9Bc3NpZ24gfX07IC8vIER1cmF0aW9uIGlzIGFyYml0cmFyeSwgbG9vcCBoYW5kbGVzIGNvbXBsZXRpb25cbiAgICAgICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBbLi4ucHJldiwgbmV3VGFza10pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgICAgIGFkZFRvTG9nKGAke2NhcHBlZENvdW50fSB2aWxsYWdlcihzKSBhc3NpZ25lZCB0byBnYXRoZXIgJHt0YXJnZXROb2RlLnR5cGV9LmAsIHRhcmdldE5vZGUudHlwZSk7XG4gICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGAke2NhcHBlZENvdW50fSB2aWxsYWdlcihzKSBhcmUgbm93IGdhdGhlcmluZyAke3RhcmdldE5vZGUudHlwZX0uYCk7XG4gICAgICAgIHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdGFyZ2V0SWQ6IG51bGwsIHRhcmdldFR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVJlY2FsbFZpbGxhZ2VycyA9ICh0YXJnZXRJZDogc3RyaW5nLCBjb3VudDogbnVtYmVyLCB0eXBlOiAncmVzb3VyY2UnIHwgJ2NvbnN0cnVjdGlvbicpID0+IHtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdyZXNvdXJjZScpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSByZXNvdXJjZU5vZGVzLmZpbmQobiA9PiBuLmlkID09PSB0YXJnZXRJZCk7XG4gICAgICAgICAgICBpZiAoIW5vZGUgfHwgbm9kZS5hc3NpZ25lZFZpbGxhZ2Vycy5sZW5ndGggPCBjb3VudCkgcmV0dXJuO1xuICAgIFxuICAgICAgICAgICAgY29uc3QgdmlsbGFnZXJzVG9SZWNhbGwgPSBub2RlLmFzc2lnbmVkVmlsbGFnZXJzLnNsaWNlKG5vZGUuYXNzaWduZWRWaWxsYWdlcnMubGVuZ3RoIC0gY291bnQpO1xuICAgICAgICAgICAgc2V0UmVzb3VyY2VOb2RlcyhwcmV2ID0+IHByZXYubWFwKG4gPT4gbi5pZCA9PT0gdGFyZ2V0SWQgPyB7IC4uLm4sIGFzc2lnbmVkVmlsbGFnZXJzOiBuLmFzc2lnbmVkVmlsbGFnZXJzLmZpbHRlcihpZCA9PiAhdmlsbGFnZXJzVG9SZWNhbGwuaW5jbHVkZXMoaWQpKSB9IDogbikpO1xuICAgIFxuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFza0luZGV4ID0gcHJldi5maW5kSW5kZXgodCA9PiB0LnR5cGUgPT09ICdnYXRoZXInICYmIHQucGF5bG9hZD8ucmVzb3VyY2VOb2RlSWQgPT09IHRhcmdldElkKTtcbiAgICAgICAgICAgICAgICBpZiAodGFza0luZGV4ID09PSAtMSkgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgdGFzayA9IHByZXZbdGFza0luZGV4XTtcbiAgICAgICAgICAgICAgICBjb25zdCByZW1haW5pbmdWaWxsYWdlcnMgPSB0YXNrLnBheWxvYWQhLnZpbGxhZ2VySWRzIS5maWx0ZXIoaWQgPT4gIXZpbGxhZ2Vyc1RvUmVjYWxsLmluY2x1ZGVzKGlkKSk7XG4gICAgXG4gICAgICAgICAgICAgICAgaWYgKHJlbWFpbmluZ1ZpbGxhZ2Vycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXYuZmlsdGVyKChfLCBpKSA9PiBpICE9PSB0YXNrSW5kZXgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2Lm1hcCgodCwgaSkgPT4gaSA9PT0gdGFza0luZGV4ID8geyAuLi50LCBwYXlsb2FkOiB7IC4uLnQucGF5bG9hZCwgdmlsbGFnZXJJZHM6IHJlbWFpbmluZ1ZpbGxhZ2VycyB9IH0gOiB0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGFkZFRvTG9nKGAke2NvdW50fSB2aWxsYWdlcihzKSByZWNhbGxlZCBmcm9tIGdhdGhlcmluZyAke25vZGUudHlwZX0uYCwgJ3ZpbGxhZ2VyJyk7XG4gICAgICAgIH0gZWxzZSB7IC8vIGNvbnN0cnVjdGlvblxuICAgICAgICAgICAgY29uc3QgY29uc3RydWN0aW9uID0gY29uc3RydWN0aW5nQnVpbGRpbmdzLmZpbmQoYyA9PiBjLmlkID09PSB0YXJnZXRJZCk7XG4gICAgICAgICAgICBjb25zdCB0YXNrID0gYWN0aXZlVGFza3MuZmluZCh0ID0+IHQuaWQgPT09IHRhcmdldElkKTtcbiAgICAgICAgICAgIGlmICghY29uc3RydWN0aW9uIHx8ICF0YXNrIHx8IGNvbnN0cnVjdGlvbi52aWxsYWdlcklkcy5sZW5ndGggPCBjb3VudCkgcmV0dXJuO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCB2aWxsYWdlcnNUb1JlY2FsbCA9IGNvbnN0cnVjdGlvbi52aWxsYWdlcklkcy5zbGljZShjb25zdHJ1Y3Rpb24udmlsbGFnZXJJZHMubGVuZ3RoIC0gY291bnQpO1xuICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nVmlsbGFnZXJzID0gY29uc3RydWN0aW9uLnZpbGxhZ2VySWRzLmZpbHRlcihpZCA9PiAhdmlsbGFnZXJzVG9SZWNhbGwuaW5jbHVkZXMoaWQpKTtcbiAgICBcbiAgICAgICAgICAgIGlmIChyZW1haW5pbmdWaWxsYWdlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiQ2Fubm90IHJlY2FsbCB0aGUgbGFzdCBidWlsZGVyLiBUaGlzIHdvdWxkIGNhbmNlbCB0aGUgcHJvamVjdC5cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgY29uc3QgYnVpbGRpbmdJbmZvID0gQlVJTERJTkdTX0lORk8uZmluZChiID0+IGIuaWQgPT09IGNvbnN0cnVjdGlvbi50eXBlKSE7XG4gICAgICAgICAgICBjb25zdCB0b3RhbFdvcmsgPSBidWlsZGluZ0luZm8uYnVpbGRUaW1lICogMTAwMDtcbiAgICAgICAgICAgIGNvbnN0IG9sZFdvcmtlckNvdW50ID0gY29uc3RydWN0aW9uLnZpbGxhZ2VySWRzLmxlbmd0aDtcbiAgICBcbiAgICAgICAgICAgIGNvbnN0IHRpbWVFbGFwc2VkID0gRGF0ZS5ub3coKSAtIHRhc2suc3RhcnRUaW1lO1xuICAgICAgICAgICAgY29uc3Qgd29ya0RvbmUgPSB0aW1lRWxhcHNlZCAqIG9sZFdvcmtlckNvdW50O1xuICAgICAgICAgICAgY29uc3Qgd29ya1JlbWFpbmluZyA9IE1hdGgubWF4KDAsIHRvdGFsV29yayAtIHdvcmtEb25lKTtcbiAgICBcbiAgICAgICAgICAgIGNvbnN0IG5ld1dvcmtlckNvdW50ID0gcmVtYWluaW5nVmlsbGFnZXJzLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IG5ld1JlbWFpbmluZ0R1cmF0aW9uID0gd29ya1JlbWFpbmluZyAvIG5ld1dvcmtlckNvdW50O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZXRDb25zdHJ1Y3RpbmdCdWlsZGluZ3MocHJldiA9PiBwcmV2Lm1hcChjID0+IGMuaWQgPT09IHRhcmdldElkID8geyAuLi5jLCB2aWxsYWdlcklkczogcmVtYWluaW5nVmlsbGFnZXJzIH0gOiBjKSk7XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IHByZXYubWFwKHQgPT4gdC5pZCA9PT0gdGFyZ2V0SWQgPyB7XG4gICAgICAgICAgICAgICAgLi4udCxcbiAgICAgICAgICAgICAgICBzdGFydFRpbWU6IERhdGUubm93KCksXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IG5ld1JlbWFpbmluZ0R1cmF0aW9uLFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsgLi4udC5wYXlsb2FkLCB2aWxsYWdlcklkczogcmVtYWluaW5nVmlsbGFnZXJzIH1cbiAgICAgICAgICAgIH0gOiB0KSk7XG4gICAgICAgICAgICBhZGRUb0xvZyhgJHtjb3VudH0gdmlsbGFnZXIocykgcmVjYWxsZWQgZnJvbSBjb25zdHJ1Y3Rpb24uIFdvcmsgd2lsbCBub3cgcHJvY2VlZCBzbG93ZXIuYCwgJ3ZpbGxhZ2VyJyk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgc2V0QXNzaWdubWVudFBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQXNzaWduVmlsbGFnZXJzVG9Db25zdHJ1Y3Rpb24gPSAoY29uc3RydWN0aW9uSWQ6IHN0cmluZywgY291bnQ6IG51bWJlcikgPT4ge1xuICAgICAgICBjb25zdCBpZGxlVmlsbGFnZXJzID0gdW5pdHMudmlsbGFnZXJzLmZpbHRlcih2ID0+ICFpc1ZpbGxhZ2VyQnVzeSh2LmlkKSk7XG4gICAgICAgIGlmIChjb3VudCA8PSAwKSByZXR1cm47XG4gICAgICAgIGxldCBjYXBwZWRDb3VudCA9IE1hdGgubWluKGNvdW50LCBpZGxlVmlsbGFnZXJzLmxlbmd0aCk7XG4gICAgICAgIGlmIChjYXBwZWRDb3VudCA9PT0gMCkgeyBhZGROb3RpZmljYXRpb24oXCJObyBpZGxlIHZpbGxhZ2VycyBhdmFpbGFibGUgdG8gYXNzaXN0LlwiKTsgcmV0dXJuOyB9XG5cbiAgICAgICAgY29uc3QgdmlsbGFnZXJzVG9Bc3NpZ24gPSBpZGxlVmlsbGFnZXJzLnNsaWNlKDAsIGNhcHBlZENvdW50KS5tYXAodiA9PiB2LmlkKTtcbiAgICAgICAgY29uc3QgdGFzayA9IGFjdGl2ZVRhc2tzLmZpbmQodCA9PiB0LmlkID09PSBjb25zdHJ1Y3Rpb25JZCk7XG4gICAgICAgIGNvbnN0IGNvbnN0cnVjdGlvbiA9IGNvbnN0cnVjdGluZ0J1aWxkaW5ncy5maW5kKGMgPT4gYy5pZCA9PT0gY29uc3RydWN0aW9uSWQpO1xuXG4gICAgICAgIGlmICghdGFzayB8fCAhY29uc3RydWN0aW9uKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgYnVpbGRpbmdJbmZvID0gQlVJTERJTkdTX0lORk8uZmluZChiID0+IGIuaWQgPT09IGNvbnN0cnVjdGlvbi50eXBlKTtcbiAgICAgICAgaWYgKCFidWlsZGluZ0luZm8pIHJldHVybjtcblxuICAgICAgICBjb25zdCBiYXNlRHVyYXRpb24gPSBidWlsZGluZ0luZm8uYnVpbGRUaW1lICogMTAwMDtcbiAgICAgICAgY29uc3Qgb2xkV29ya2VyQ291bnQgPSB0YXNrLnBheWxvYWQ/LnZpbGxhZ2VySWRzPy5sZW5ndGggfHwgMTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRpbWVFbGFwc2VkID0gRGF0ZS5ub3coKSAtIHRhc2suc3RhcnRUaW1lO1xuICAgICAgICBjb25zdCB3b3JrRG9uZSA9IHRpbWVFbGFwc2VkICogb2xkV29ya2VyQ291bnQ7XG4gICAgICAgIGNvbnN0IHRvdGFsV29yayA9IGJhc2VEdXJhdGlvbjtcbiAgICAgICAgY29uc3Qgd29ya1JlbWFpbmluZyA9IE1hdGgubWF4KDAsIHRvdGFsV29yayAtIHdvcmtEb25lKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IG5ld1dvcmtlckNvdW50ID0gb2xkV29ya2VyQ291bnQgKyBjYXBwZWRDb3VudDtcbiAgICAgICAgY29uc3QgbmV3UmVtYWluaW5nRHVyYXRpb24gPSB3b3JrUmVtYWluaW5nIC8gbmV3V29ya2VyQ291bnQ7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB1cGRhdGVkVmlsbGFnZXJJZHMgPSBbLi4udGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEsIC4uLnZpbGxhZ2Vyc1RvQXNzaWduXTtcblxuICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IHByZXYubWFwKHQgPT4gdC5pZCA9PT0gY29uc3RydWN0aW9uSWQgPyB7XG4gICAgICAgICAgICAuLi50LFxuICAgICAgICAgICAgc3RhcnRUaW1lOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgZHVyYXRpb246IG5ld1JlbWFpbmluZ0R1cmF0aW9uLFxuICAgICAgICAgICAgcGF5bG9hZDogeyAuLi50LnBheWxvYWQsIHZpbGxhZ2VySWRzOiB1cGRhdGVkVmlsbGFnZXJJZHMgfVxuICAgICAgICB9IDogdCkpO1xuXG4gICAgICAgIHNldENvbnN0cnVjdGluZ0J1aWxkaW5ncyhwcmV2ID0+IHByZXYubWFwKGMgPT4gYy5pZCA9PT0gY29uc3RydWN0aW9uSWQgPyB7XG4gICAgICAgICAgICAuLi5jLFxuICAgICAgICAgICAgdmlsbGFnZXJJZHM6IHVwZGF0ZWRWaWxsYWdlcklkc1xuICAgICAgICB9IDogYykpO1xuXG4gICAgICAgIGFkZFRvTG9nKGAke2NhcHBlZENvdW50fSB2aWxsYWdlcihzKSBhcmUgbm93IGFzc2lzdGluZyB3aXRoIHRoZSAke2J1aWxkaW5nSW5mby5uYW1lfS5gLCBidWlsZGluZ0luZm8uaWQpO1xuICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgQ29uc3RydWN0aW9uIG9mIHRoZSAke2J1aWxkaW5nSW5mby5uYW1lfSBpcyBub3cgZmFzdGVyLmApO1xuICAgICAgICBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIHRhcmdldElkOiBudWxsLCB0YXJnZXRUeXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVBc3NpZ25WaWxsYWdlcnMgPSAodGFyZ2V0SWQ6IHN0cmluZywgY291bnQ6IG51bWJlcikgPT4ge1xuICAgICAgICBpZiAoYXNzaWdubWVudFBhbmVsU3RhdGUudGFyZ2V0VHlwZSA9PT0gJ3Jlc291cmNlJykge1xuICAgICAgICAgICAgaGFuZGxlQXNzaWduVmlsbGFnZXJzVG9Ob2RlKHRhcmdldElkLCBjb3VudCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYXNzaWdubWVudFBhbmVsU3RhdGUudGFyZ2V0VHlwZSA9PT0gJ2NvbnN0cnVjdGlvbicpIHtcbiAgICAgICAgICAgIGhhbmRsZUFzc2lnblZpbGxhZ2Vyc1RvQ29uc3RydWN0aW9uKHRhcmdldElkLCBjb3VudCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQWR2YW5jZUFnZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZVRhc2tzLnNvbWUodCA9PiB0LnR5cGUgPT09ICdhZHZhbmNlX2FnZScpKSB7IGFkZE5vdGlmaWNhdGlvbihcIkFkdmFuY2VtZW50IGFscmVhZHkgaW4gcHJvZ3Jlc3MuXCIpOyByZXR1cm47IH1cbiAgICAgICAgaWYgKCF1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZXMuZm9vZCA8IDUwMCB8fCByZXNvdXJjZXMuZ29sZCA8IDIwMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pc3Npbmc6IHN0cmluZ1tdID0gW107XG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlcy5mb29kIDwgNTAwKSBtaXNzaW5nLnB1c2goYCR7NTAwIC0gcmVzb3VyY2VzLmZvb2R9IEZvb2RgKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzb3VyY2VzLmdvbGQgPCAyMDApIG1pc3NpbmcucHVzaChgJHsyMDAgLSByZXNvdXJjZXMuZ29sZH0gR29sZGApO1xuICAgICAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihgVG8gYWR2YW5jZSwgeW91IG5lZWQgJHttaXNzaW5nLmpvaW4oJyBhbmQgJyl9LmApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZVJlc291cmNlcyh7IGZvb2Q6IC01MDAsIGdvbGQ6IC0yMDAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSA2MDAwMDtcbiAgICAgICAgaWYodW5saW1pdGVkUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICBoYW5kbGVUYXNrQ29tcGxldGlvbih7IGlkOiAnaW5zdGFudCcsIHR5cGU6ICdhZHZhbmNlX2FnZScsIHN0YXJ0VGltZTogMCwgZHVyYXRpb246IDAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrSWQgPSBgJHtEYXRlLm5vdygpfS1hZHZhbmNlX2FnZWA7XG4gICAgICAgICAgICBjb25zdCBuZXdUYXNrOiBHYW1lVGFzayA9IHsgaWQ6IHRhc2tJZCwgdHlwZTogJ2FkdmFuY2VfYWdlJywgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBkdXJhdGlvbiB9O1xuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBbLi4ucHJldiwgbmV3VGFza10pO1xuICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYFlvdXIgcGVvcGxlIGJlZ2luIHRoZSBsb25nIGpvdXJuZXkgdG8gYSBuZXcgYWdlLmApO1xuICAgICAgICAgICAgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBoYW5kbGVFeGl0R2FtZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgc2V0Q3VycmVudFNhdmVOYW1lKG51bGwpO1xuICAgICAgICBhd2FpdCBmZXRjaFNhdmVzKCk7XG4gICAgICAgIHNldEdhbWVTdGF0ZShHYW1lU3RhdHVzLk1FTlUpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVEZWxldGVHYW1lID0gYXN5bmMgKHNhdmVOYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgYXdhaXQgZGVsZXRlR2FtZVN0YXRlKHNhdmVOYW1lKTtcbiAgICAgICAgYXdhaXQgZmV0Y2hTYXZlcygpO1xuICAgICAgICBhZGROb3RpZmljYXRpb24oYERlbGV0ZWQgc2FnYTogXCIke3NhdmVOYW1lfVwiYCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVRvZ2dsZVVubGltaXRlZFJlc291cmNlcyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgbmV3TW9kZSA9ICF1bmxpbWl0ZWRSZXNvdXJjZXM7XG4gICAgICAgIHNldFVubGltaXRlZFJlc291cmNlcyhuZXdNb2RlKTtcbiAgICAgICAgaWYgKG5ld01vZGUpIHtcbiAgICAgICAgICAgIHNldFJlc291cmNlcyh7IGZvb2Q6IDk5OTk5LCB3b29kOiA5OTk5OSwgZ29sZDogOTk5OTksIHN0b25lOiA5OTk5OSB9KTtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihcIlRlc3QgTW9kZTogT05cIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhZGROb3RpZmljYXRpb24oXCJUZXN0IE1vZGU6IE9GRlwiKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBidWlsZGluZ0NvdW50cyA9IE9iamVjdC5rZXlzKGJ1aWxkaW5ncykucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgICAgICBjb25zdCBidWlsZGluZ1R5cGUgPSBrZXkgYXMgQnVpbGRpbmdUeXBlO1xuICAgICAgICBhY2NbYnVpbGRpbmdUeXBlXSA9IGJ1aWxkaW5nc1tidWlsZGluZ1R5cGVdLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSBhcyBSZWNvcmQ8QnVpbGRpbmdUeXBlLCBudW1iZXI+KTtcbiAgICBcbiAgICBjb25zdCBpZGxlVmlsbGFnZXJDb3VudCA9IHVuaXRzLnZpbGxhZ2Vycy5maWx0ZXIodiA9PiAhaXNWaWxsYWdlckJ1c3kodi5pZCkpLmxlbmd0aDtcbiAgICBcbiAgICBjb25zdCBhc3NpZ25tZW50VGFyZ2V0ID0gYXNzaWdubWVudFBhbmVsU3RhdGUudGFyZ2V0VHlwZSA9PT0gJ3Jlc291cmNlJ1xuICAgICAgICA/IHJlc291cmNlTm9kZXMuZmluZChuID0+IG4uaWQgPT09IGFzc2lnbm1lbnRQYW5lbFN0YXRlLnRhcmdldElkKVxuICAgICAgICA6IGNvbnN0cnVjdGluZ0J1aWxkaW5ncy5maW5kKGMgPT4gYy5pZCA9PT0gYXNzaWdubWVudFBhbmVsU3RhdGUudGFyZ2V0SWQpO1xuXG4gICAgY29uc3QgY2xvc2VBbGxQYW5lbHMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIHNldFVuaXRNYW5hZ2VtZW50UGFuZWwocCA9PiBwLmlzT3BlbiA/IHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGluc3RhbmNlSWQ6IHVuZGVmaW5lZCwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgICAgIHNldEJ1aWxkUGFuZWxTdGF0ZShwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCB2aWxsYWdlcklkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICAgICAgc2V0QXNzaWdubWVudFBhbmVsU3RhdGUocCA9PiBwLmlzT3BlbiA/IHsgaXNPcGVuOiBmYWxzZSwgdGFyZ2V0SWQ6IG51bGwsIHRhcmdldFR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgICAgICBzZXRDaXZQYW5lbFN0YXRlKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgICAgICBzZXRBbGxCdWlsZGluZ3NQYW5lbChwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICB9LCBbXSk7XG5cbiAgICBjb25zdCBoYW5kbGVPcGVuQnVpbGRpbmdQYW5lbCA9IHVzZUNhbGxiYWNrKCh0eXBlOiBCdWlsZGluZ1R5cGUsIGluc3RhbmNlSWQ6IHN0cmluZywgcmVjdDogRE9NUmVjdCkgPT4ge1xuICAgICAgICBjbG9zZUFsbFBhbmVscygpO1xuICAgICAgICBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogdHJ1ZSwgdHlwZSwgaW5zdGFuY2VJZCwgYW5jaG9yUmVjdDogcmVjdCB9KTtcbiAgICB9LCBbY2xvc2VBbGxQYW5lbHNdKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGhhbmRsZUNsaWNrT3V0c2lkZSA9IChldmVudDogTW91c2VFdmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXNBbnlQYW5lbE9wZW4gPSB1bml0TWFuYWdlbWVudFBhbmVsLmlzT3BlbiB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwuaXNPcGVuIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZFBhbmVsU3RhdGUuaXNPcGVuIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NpZ25tZW50UGFuZWxTdGF0ZS5pc09wZW4gfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpdlBhbmVsU3RhdGUuaXNPcGVuIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbEJ1aWxkaW5nc1BhbmVsLmlzT3BlbjtcblxuICAgICAgICAgICAgaWYgKCFpc0FueVBhbmVsT3Blbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEVsZW1lbnQ7XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLnNjaS1maS1wYW5lbC1wb3B1cCcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjbG9zZUFsbFBhbmVscygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpO1xuICAgICAgICB9O1xuICAgIH0sIFtcbiAgICAgICAgdW5pdE1hbmFnZW1lbnRQYW5lbC5pc09wZW4sIFxuICAgICAgICBidWlsZGluZ01hbmFnZW1lbnRQYW5lbC5pc09wZW4sXG4gICAgICAgIGJ1aWxkUGFuZWxTdGF0ZS5pc09wZW4sXG4gICAgICAgIGFzc2lnbm1lbnRQYW5lbFN0YXRlLmlzT3BlbixcbiAgICAgICAgY2l2UGFuZWxTdGF0ZS5pc09wZW4sXG4gICAgICAgIGFsbEJ1aWxkaW5nc1BhbmVsLmlzT3BlbixcbiAgICAgICAgY2xvc2VBbGxQYW5lbHNcbiAgICBdKTtcblxuICAgIGNvbnN0IHJlbmRlckNvbnRlbnQgPSAoKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoZ2FtZVN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVTdGF0dXMuTUVOVTpcbiAgICAgICAgICAgICAgICByZXR1cm4gPFN0YXJ0U2NyZWVuIG9uTmV3R2FtZT17aGFuZGxlU3RhcnROZXdHYW1lfSBvblJlc3VtZUdhbWU9e2hhbmRsZVJlc3VtZUdhbWV9IHNhdmVkR2FtZXM9e2FsbFNhdmVzfSBvbkRlbGV0ZUdhbWU9e2hhbmRsZURlbGV0ZUdhbWV9IC8+O1xuICAgICAgICAgICAgY2FzZSBHYW1lU3RhdHVzLkxPQURJTkc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDxMb2FkaW5nU2NyZWVuIC8+O1xuICAgICAgICAgICAgY2FzZSBHYW1lU3RhdHVzLlBMQVlJTkc6XG4gICAgICAgICAgICAgICAgaWYgKCFjaXZpbGl6YXRpb24pIHJldHVybiA8TG9hZGluZ1NjcmVlbiAvPjtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEdhbWVVSVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpdmlsaXphdGlvbj17Y2l2aWxpemF0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlcz17cmVzb3VyY2VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXRzPXt1bml0c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZGluZ3M9e2J1aWxkaW5nc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1bGF0aW9uPXtwb3B1bGF0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRBZ2U9e2N1cnJlbnRBZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZUxvZz17Z2FtZUxvZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RXZlbnQ9e2N1cnJlbnRFdmVudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkV2ZW50Q2hvaWNlPXtoYW5kbGVFdmVudENob2ljZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZURlbHRhcz17cmVzb3VyY2VEZWx0YXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZpdHlTdGF0dXM9e2FjdGl2aXR5U3RhdHVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXRMaXN0PXtVTklUX0lORk99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdMaXN0PXtCVUlMRElOR1NfSU5GT31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5Vbml0UGFuZWw9eyh0eXBlLCByZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IHNldFVuaXRNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IHRydWUsIHR5cGUsIGFuY2hvclJlY3Q6IHJlY3QgfSk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuQnVpbGRpbmdQYW5lbD17aGFuZGxlT3BlbkJ1aWxkaW5nUGFuZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuQWxsQnVpbGRpbmdzUGFuZWw9eyhyZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IHNldEFsbEJ1aWxkaW5nc1BhbmVsKHsgaXNPcGVuOiB0cnVlLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllckFjdGlvbj17cGxheWVyQWN0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybVBsYWNlbWVudD17aGFuZGxlQ29uZmlybVBsYWNlbWVudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbFBsYXllckFjdGlvbj17aGFuZGxlQ2FuY2VsUGxheWVyQWN0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQnVpbGRpbmdDbGljaz17KGJ1aWxkaW5nLCByZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlQWxsUGFuZWxzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBPYmplY3Qua2V5cyhidWlsZGluZ3MpLmZpbmQoa2V5ID0+IGJ1aWxkaW5nc1trZXkgYXMgQnVpbGRpbmdUeXBlXS5zb21lKGIgPT4gYi5pZCA9PT0gYnVpbGRpbmcuaWQpKSBhcyBCdWlsZGluZ1R5cGUgfCB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHR5cGUpIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiB0cnVlLCB0eXBlLCBpbnN0YW5jZUlkOiBidWlsZGluZy5pZCwgYW5jaG9yUmVjdDogcmVjdCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcERpbWVuc2lvbnM9e01BUF9ESU1FTlNJT05TfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cnVjdGluZ0J1aWxkaW5ncz17Y29uc3RydWN0aW5nQnVpbGRpbmdzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVRhc2tzPXthY3RpdmVUYXNrc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkV4aXRHYW1lPXtoYW5kbGVFeGl0R2FtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5DaXZQYW5lbD17KHJlY3QpID0+IHsgY2xvc2VBbGxQYW5lbHMoKTsgc2V0Q2l2UGFuZWxTdGF0ZSh7IGlzT3BlbjogdHJ1ZSwgYW5jaG9yUmVjdDogcmVjdCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZU5vZGVzPXtyZXNvdXJjZU5vZGVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkFzc2lnbm1lbnRQYW5lbD17KG5vZGVJZCwgcmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZSh7IGlzT3BlbjogdHJ1ZSwgdGFyZ2V0SWQ6IG5vZGVJZCwgdGFyZ2V0VHlwZTogJ3Jlc291cmNlJywgYW5jaG9yUmVjdDogcmVjdCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5Db25zdHJ1Y3Rpb25QYW5lbD17KGNvbnN0cnVjdGlvbklkLCByZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiB0cnVlLCB0YXJnZXRJZDogY29uc3RydWN0aW9uSWQsIHRhcmdldFR5cGU6ICdjb25zdHJ1Y3Rpb24nLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhdGhlckluZm89e0dBVEhFUl9JTkZPfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdWlsZFBhbmVsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT3Blbj17YnVpbGRQYW5lbFN0YXRlLmlzT3Blbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRCdWlsZFBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCB2aWxsYWdlcklkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU3RhcnRQbGFjZW1lbnQ9e2hhbmRsZVN0YXJ0UGxhY2VtZW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlcz17cmVzb3VyY2VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nQ291bnRzPXtidWlsZGluZ0NvdW50c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZGluZ0xpc3Q9e0JVSUxESU5HU19JTkZPfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclJlY3Q9e2J1aWxkUGFuZWxTdGF0ZS5hbmNob3JSZWN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxVbml0TWFuYWdlbWVudFBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPcGVuPXt1bml0TWFuYWdlbWVudFBhbmVsLmlzT3Blbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRVbml0TWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPXt1bml0TWFuYWdlbWVudFBhbmVsLnR5cGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pdHM9e3VuaXRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlVW5pdD17aGFuZGxlVXBkYXRlVW5pdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRpc21pc3NVbml0PXtoYW5kbGVEaXNtaXNzU3BlY2lmaWNVbml0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uSW5pdGlhdGVCdWlsZD17KHZpbGxhZ2VySWQsIHJlY3QpID0+IHsgY2xvc2VBbGxQYW5lbHMoKTsgaGFuZGxlSW5pdGlhdGVCdWlsZCh2aWxsYWdlcklkLCByZWN0KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRWaWxsYWdlclRhc2tEZXRhaWxzPXtnZXRWaWxsYWdlclRhc2tEZXRhaWxzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclJlY3Q9e3VuaXRNYW5hZ2VtZW50UGFuZWwuYW5jaG9yUmVjdH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW49e2J1aWxkaW5nTWFuYWdlbWVudFBhbmVsLmlzT3Blbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFuZWxTdGF0ZT17YnVpbGRpbmdNYW5hZ2VtZW50UGFuZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdzPXtidWlsZGluZ3N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdMaXN0PXtCVUlMRElOR1NfSU5GT31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZUJ1aWxkaW5nPXtoYW5kbGVVcGRhdGVCdWlsZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRlbW9saXNoQnVpbGRpbmc9e2hhbmRsZURlbW9saXNoQnVpbGRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25UcmFpblVuaXRzPXtoYW5kbGVUcmFpblVuaXRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uVHJhaW5WaWxsYWdlcnM9e2hhbmRsZVRyYWluVmlsbGFnZXJzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlcz17cmVzb3VyY2VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVsYXRpb249e3BvcHVsYXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pdExpc3Q9e1VOSVRfSU5GT31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkFkdmFuY2VBZ2U9e2hhbmRsZUFkdmFuY2VBZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlVGFza3M9e2FjdGl2ZVRhc2tzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclJlY3Q9e2J1aWxkaW5nTWFuYWdlbWVudFBhbmVsLmFuY2hvclJlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFJlc291cmNlQXNzaWdubWVudFBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPcGVuPXthc3NpZ25tZW50UGFuZWxTdGF0ZS5pc09wZW59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0QXNzaWdubWVudFBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NpZ25tZW50VGFyZ2V0PXthc3NpZ25tZW50VGFyZ2V0IHx8IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRsZVZpbGxhZ2VyQ291bnQ9e2lkbGVWaWxsYWdlckNvdW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQXNzaWduVmlsbGFnZXJzPXtoYW5kbGVBc3NpZ25WaWxsYWdlcnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25SZWNhbGxWaWxsYWdlcnM9e2hhbmRsZVJlY2FsbFZpbGxhZ2Vyc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXRoZXJJbmZvPXtHQVRIRVJfSU5GT31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZGluZ0xpc3Q9e0JVSUxESU5HU19JTkZPfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclJlY3Q9e2Fzc2lnbm1lbnRQYW5lbFN0YXRlLmFuY2hvclJlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPENpdmlsaXphdGlvblBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPcGVuPXtjaXZQYW5lbFN0YXRlLmlzT3Blbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRDaXZQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXZpbGl6YXRpb249e2NpdmlsaXphdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3JSZWN0PXtjaXZQYW5lbFN0YXRlLmFuY2hvclJlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEFsbEJ1aWxkaW5nc1BhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPcGVuPXthbGxCdWlsZGluZ3NQYW5lbC5pc09wZW59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0QWxsQnVpbGRpbmdzUGFuZWwoeyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nTGlzdD17QlVJTERJTkdTX0lORk99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdDb3VudHM9e2J1aWxkaW5nQ291bnRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cnVjdGluZ0J1aWxkaW5ncz17Y29uc3RydWN0aW5nQnVpbGRpbmdzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkJ1aWxkaW5nUGFuZWw9e2hhbmRsZU9wZW5CdWlsZGluZ1BhbmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclJlY3Q9e2FsbEJ1aWxkaW5nc1BhbmVsLmFuY2hvclJlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gPFN0YXJ0U2NyZWVuIG9uTmV3R2FtZT17aGFuZGxlU3RhcnROZXdHYW1lfSBvblJlc3VtZUdhbWU9e2hhbmRsZVJlc3VtZUdhbWV9IHNhdmVkR2FtZXM9e2FsbFNhdmVzfSBvbkRlbGV0ZUdhbWU9e2hhbmRsZURlbGV0ZUdhbWV9IC8+O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLXN0b25lLWRhcmsgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC00XCI+XG4gICAgICAgICAgICB7Z2FtZVN0YXRlID09PSBHYW1lU3RhdHVzLlBMQVlJTkcgJiYgKFxuICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZVVubGltaXRlZFJlc291cmNlc31cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgYm90dG9tLTQgbGVmdC00IHotWzEwMV0gYmctYnJhbmQtZ29sZCB0ZXh0LXN0b25lLWRhcmsgZm9udC1ib2xkIHB5LTEgcHgtMyByb3VuZGVkLWZ1bGwgdGV4dC14cyBzaGFkb3ctbGcgaG92ZXI6c2NhbGUtMTA1IHRyYW5zaXRpb24tdHJhbnNmb3JtXCJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlRvZ2dsZSB1bmxpbWl0ZWQgcmVzb3VyY2VzIHRlc3QgbW9kZVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBUZXN0IE1vZGU6IHt1bmxpbWl0ZWRSZXNvdXJjZXMgPyAnT04nIDogJ09GRid9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPE5vdGlmaWNhdGlvbk1hbmFnZXIgbm90aWZpY2F0aW9ucz17bm90aWZpY2F0aW9uc30gb25SZW1vdmVOb3RpZmljYXRpb249e3JlbW92ZU5vdGlmaWNhdGlvbn0gLz5cbiAgICAgICAgICAgIDxtYWluIGNsYXNzTmFtZT1cInctZnVsbCBtYXgtdy03eGwgbXgtYXV0b1wiPlxuICAgICAgICAgICAgICAgIHtyZW5kZXJDb250ZW50KCl9XG4gICAgICAgICAgICA8L21haW4+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBHYW1lUGFnZTtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJHYW1lU3RhdHVzIiwiZ2V0UHJlZGVmaW5lZENpdmlsaXphdGlvbiIsImdldFByZWRlZmluZWRHYW1lRXZlbnQiLCJnZXRQcmVkZWZpbmVkQWdlIiwic2F2ZUdhbWVTdGF0ZSIsImxvYWRHYW1lU3RhdGUiLCJnZXRBbGxTYXZlTmFtZXMiLCJkZWxldGVHYW1lU3RhdGUiLCJnZXRSYW5kb21OYW1lcyIsIkdhbWVVSSIsIlN0YXJ0U2NyZWVuIiwiTG9hZGluZ1NjcmVlbiIsIkJ1aWxkUGFuZWwiLCJOb3RpZmljYXRpb25NYW5hZ2VyIiwiVW5pdE1hbmFnZW1lbnRQYW5lbCIsIkJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsIiwiUmVzb3VyY2VBc3NpZ25tZW50UGFuZWwiLCJDaXZpbGl6YXRpb25QYW5lbCIsIkFsbEJ1aWxkaW5nc1BhbmVsIiwiQlVJTERJTkdTX0lORk8iLCJpZCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsImNvc3QiLCJ3b29kIiwiaXNVbmlxdWUiLCJidWlsZFRpbWUiLCJzdG9uZSIsImdvbGQiLCJVTklUX0lORk8iLCJmb29kIiwicmVxdWlyZWRCdWlsZGluZyIsInRyYWluVGltZSIsIkdBVEhFUl9JTkZPIiwicmF0ZSIsImluaXRpYWxCdWlsZGluZ3NTdGF0ZSIsImhvdXNlcyIsImJhcnJhY2tzIiwiYXJjaGVyeVJhbmdlIiwic3RhYmxlIiwic2llZ2VXb3Jrc2hvcCIsImJsYWNrc21pdGgiLCJ3YXRjaFRvd2VyIiwidG93bkNlbnRlciIsIk1BUF9ESU1FTlNJT05TIiwid2lkdGgiLCJoZWlnaHQiLCJHYW1lUGFnZSIsImJ1aWxkaW5ncyIsImdhbWVTdGF0ZSIsInNldEdhbWVTdGF0ZSIsIk1FTlUiLCJjaXZpbGl6YXRpb24iLCJzZXRDaXZpbGl6YXRpb24iLCJyZXNvdXJjZXMiLCJzZXRSZXNvdXJjZXMiLCJ1bml0cyIsInNldFVuaXRzIiwidmlsbGFnZXJzIiwibWlsaXRhcnkiLCJzZXRCdWlsZGluZ3MiLCJjdXJyZW50QWdlIiwic2V0Q3VycmVudEFnZSIsImdhbWVMb2ciLCJzZXRHYW1lTG9nIiwiY3VycmVudEV2ZW50Iiwic2V0Q3VycmVudEV2ZW50IiwicmVzb3VyY2VEZWx0YXMiLCJzZXRSZXNvdXJjZURlbHRhcyIsImFjdGl2aXR5U3RhdHVzIiwic2V0QWN0aXZpdHlTdGF0dXMiLCJub3RpZmljYXRpb25zIiwic2V0Tm90aWZpY2F0aW9ucyIsInVubGltaXRlZFJlc291cmNlcyIsInNldFVubGltaXRlZFJlc291cmNlcyIsImFsbFNhdmVzIiwic2V0QWxsU2F2ZXMiLCJjdXJyZW50U2F2ZU5hbWUiLCJzZXRDdXJyZW50U2F2ZU5hbWUiLCJwbGF5ZXJBY3Rpb24iLCJzZXRQbGF5ZXJBY3Rpb24iLCJhY3RpdmVUYXNrcyIsInNldEFjdGl2ZVRhc2tzIiwiY29uc3RydWN0aW5nQnVpbGRpbmdzIiwic2V0Q29uc3RydWN0aW5nQnVpbGRpbmdzIiwicmVzb3VyY2VOb2RlcyIsInNldFJlc291cmNlTm9kZXMiLCJidWlsZFBhbmVsU3RhdGUiLCJzZXRCdWlsZFBhbmVsU3RhdGUiLCJpc09wZW4iLCJ2aWxsYWdlcklkIiwiYW5jaG9yUmVjdCIsInVuaXRNYW5hZ2VtZW50UGFuZWwiLCJzZXRVbml0TWFuYWdlbWVudFBhbmVsIiwidHlwZSIsImJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsIiwic2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwiLCJhbGxCdWlsZGluZ3NQYW5lbCIsInNldEFsbEJ1aWxkaW5nc1BhbmVsIiwiYXNzaWdubWVudFBhbmVsU3RhdGUiLCJzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZSIsInRhcmdldElkIiwidGFyZ2V0VHlwZSIsImNpdlBhbmVsU3RhdGUiLCJzZXRDaXZQYW5lbFN0YXRlIiwiZGVsdGFUaW1lb3V0UmVmIiwiZXZlbnRUaW1lclJlZiIsInBvcHVsYXRpb24iLCJjdXJyZW50IiwibGVuZ3RoIiwiY2FwYWNpdHkiLCJmZXRjaFNhdmVzIiwibmFtZXMiLCJQTEFZSU5HIiwiZnVsbFN0YXRlIiwiYWRkTm90aWZpY2F0aW9uIiwibWVzc2FnZSIsIk1hdGgiLCJEYXRlIiwibm93IiwicmFuZG9tIiwicHJldiIsInJlbW92ZU5vdGlmaWNhdGlvbiIsImZpbHRlciIsIm4iLCJhZGRUb0xvZyIsImljb24iLCJzbGljZSIsInVwZGF0ZVJlc291cmNlcyIsImRlbHRhcyIsIm5ld1Jlc291cmNlcyIsImtleSIsInJlc291cmNlS2V5IiwibWF4Iiwid2luZG93IiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsIm5ld0RlbHRhcyIsImhhbmRsZVRhc2tDb21wbGV0aW9uIiwidGFzayIsImJ1aWxkaW5nVHlwZSIsInZpbGxhZ2VySWRzIiwicG9zaXRpb24iLCJwYXlsb2FkIiwiYnVpbGRpbmdJbmZvIiwiZmluZCIsImIiLCJuZXdCdWlsZGluZyIsInAiLCJjb3VudCIsIm5ld1ZpbGxhZ2VyTmFtZXMiLCJuZXdWaWxsYWdlcnMiLCJtYXAiLCJ1bml0VHlwZSIsInVuaXRJbmZvIiwidSIsIm5ld1VuaXROYW1lcyIsIm5ld1VuaXRzIiwidGl0bGUiLCJhZ2VSZXN1bHQiLCJuZXh0QWdlTmFtZSIsImdhbWVMb29wIiwic2V0SW50ZXJ2YWwiLCJjb21wbGV0ZWRUYXNrcyIsInJlc291cmNlRGVsdGFzVGhpc1RpY2siLCJzdGlsbEFjdGl2ZVRhc2tzIiwic3RhcnRUaW1lIiwiZHVyYXRpb24iLCJwdXNoIiwibm9kZSIsInJlc291cmNlTm9kZUlkIiwidmlsbGFnZXJDb3VudCIsImdhdGhlclJhdGVQZXJWaWxsYWdlclBlclNlY29uZCIsImFtb3VudEdhdGhlcmVkVGhpc1RpY2siLCJCb29sZWFuIiwiT2JqZWN0Iiwia2V5cyIsInByZXZSZXMiLCJyZXNLZXkiLCJwcmV2Tm9kZXMiLCJub2Rlc1dlcmVEZXBsZXRlZCIsIm5ld05vZGVzIiwiYW1vdW50VG9EZWNyZW1lbnQiLCJuZXdBbW91bnQiLCJhbW91bnQiLCJhc3NpZ25lZFZpbGxhZ2VycyIsImZsb29yIiwiZ2F0aGVyVGFzayIsInQiLCJmaW5hbEFjdGl2ZVRhc2tzIiwic29tZSIsImN0IiwiZm9yRWFjaCIsImNsZWFySW50ZXJ2YWwiLCJoYW5kbGVOZXdFdmVudCIsIm5vbkdhdGhlcmluZ1Rhc2tzIiwiZXZlbnQiLCJzY2hlZHVsZU5leHRFdmVudCIsIm5leHRFdmVudFRpbWUiLCJnZW5lcmF0ZVJlc291cmNlTm9kZXMiLCJleGlzdGluZ1Bvc2l0aW9ucyIsIm5vZGVzIiwidHlwZXMiLCJudW1Ob2RlcyIsImkiLCJwb3MiLCJ4IiwieSIsImhhcyIsImFkZCIsImhhbmRsZVN0YXJ0TmV3R2FtZSIsInNhdmVOYW1lIiwiaW5jbHVkZXMiLCJMT0FESU5HIiwiY2l2IiwiaW5pdGlhbFZpbGxhZ2VyTmFtZXMiLCJpbml0aWFsVmlsbGFnZXJzIiwiaW5pdGlhbFRDTmFtZSIsInRjUG9zaXRpb24iLCJpbml0aWFsVEMiLCJTZXQiLCJnZXRWaWxsYWdlclRhc2tEZXRhaWxzIiwiaXNWaWxsYWdlckJ1c3kiLCJoYW5kbGVSZXN1bWVHYW1lIiwic2F2ZWRTdGF0ZSIsInNvbGRpZXJzIiwibWlncmF0ZWRNaWxpdGFyeSIsInMiLCJmaW5hbEJ1aWxkaW5ncyIsIm9jY3VwaWVkQ2VsbHMiLCJ2YWx1ZXMiLCJmbGF0IiwidGNQb3MiLCJ0Y05hbWUiLCJmaXJzdEJ1aWxkaW5nIiwibWlncmF0ZWQiLCJlbnRyaWVzIiwiaW5zdGFuY2VzIiwiaW5zdCIsIm5vZGVzVG9TZXQiLCJ1bmRlZmluZWQiLCJjIiwibWFqb3JUYXNrSW5Qcm9ncmVzcyIsImhhbmRsZUV2ZW50Q2hvaWNlIiwiY2hvaWNlIiwidGV4dCIsIm1pc3NpbmdSZXMiLCJqb2luIiwibmVnYXRpdmVDb3N0IiwiaXNTdWNjZXNzIiwic3VjY2Vzc0NoYW5jZSIsImVmZmVjdHMiLCJzdWNjZXNzRWZmZWN0cyIsImZhaWx1cmVFZmZlY3RzIiwiQXJyYXkiLCJpc0FycmF5IiwibWluIiwicmVzb3VyY2UiLCJsb2ciLCJoYW5kbGVJbml0aWF0ZUJ1aWxkIiwicmVjdCIsImhhbmRsZVN0YXJ0UGxhY2VtZW50IiwiYnVpbGRpbmdJZCIsIm1pc3NpbmciLCJyZXMiLCJtb2RlIiwiaGFuZGxlQ29uZmlybVBsYWNlbWVudCIsImJ1aWxkZXIiLCJ2IiwidGFza1BheWxvYWQiLCJ0YXNrSWQiLCJuZXdDb25zdHJ1Y3Rpb24iLCJuZXdUYXNrIiwiaGFuZGxlQ2FuY2VsUGxheWVyQWN0aW9uIiwiaGFuZGxlRGVtb2xpc2hCdWlsZGluZyIsImJ1aWxkaW5nSW5zdGFuY2UiLCJyZWZ1bmQiLCJyZWZ1bmRNZXNzYWdlUGFydHMiLCJoYW5kbGVVcGRhdGVCdWlsZGluZyIsImhhbmRsZVRyYWluVmlsbGFnZXJzIiwidmlsbGFnZXJDb3N0IiwidG90YWxDb3N0IiwiaGFuZGxlVHJhaW5Vbml0cyIsInRyYWluaW5nQnVpbGRpbmciLCJoYW5kbGVEaXNtaXNzU3BlY2lmaWNVbml0IiwidW5pdCIsInVuaXRUeXBlTmFtZSIsImhhbmRsZVVwZGF0ZVVuaXQiLCJ1cGRhdGVkVW5pdCIsImhhbmRsZUFzc2lnblZpbGxhZ2Vyc1RvTm9kZSIsIm5vZGVJZCIsImlkbGVWaWxsYWdlcnMiLCJjYXBwZWRDb3VudCIsInZpbGxhZ2Vyc1RvQXNzaWduIiwidmlsbGFnZXJJZHNUb0Fzc2lnbiIsInRhcmdldE5vZGUiLCJleGlzdGluZ1Rhc2siLCJoYW5kbGVSZWNhbGxWaWxsYWdlcnMiLCJ2aWxsYWdlcnNUb1JlY2FsbCIsInRhc2tJbmRleCIsImZpbmRJbmRleCIsInJlbWFpbmluZ1ZpbGxhZ2VycyIsIl8iLCJjb25zdHJ1Y3Rpb24iLCJ0b3RhbFdvcmsiLCJvbGRXb3JrZXJDb3VudCIsInRpbWVFbGFwc2VkIiwid29ya0RvbmUiLCJ3b3JrUmVtYWluaW5nIiwibmV3V29ya2VyQ291bnQiLCJuZXdSZW1haW5pbmdEdXJhdGlvbiIsImhhbmRsZUFzc2lnblZpbGxhZ2Vyc1RvQ29uc3RydWN0aW9uIiwiY29uc3RydWN0aW9uSWQiLCJiYXNlRHVyYXRpb24iLCJ1cGRhdGVkVmlsbGFnZXJJZHMiLCJoYW5kbGVBc3NpZ25WaWxsYWdlcnMiLCJoYW5kbGVBZHZhbmNlQWdlIiwiaGFuZGxlRXhpdEdhbWUiLCJoYW5kbGVEZWxldGVHYW1lIiwiaGFuZGxlVG9nZ2xlVW5saW1pdGVkUmVzb3VyY2VzIiwibmV3TW9kZSIsImJ1aWxkaW5nQ291bnRzIiwicmVkdWNlIiwiYWNjIiwiaWRsZVZpbGxhZ2VyQ291bnQiLCJhc3NpZ25tZW50VGFyZ2V0IiwiY2xvc2VBbGxQYW5lbHMiLCJpbnN0YW5jZUlkIiwiaGFuZGxlT3BlbkJ1aWxkaW5nUGFuZWwiLCJoYW5kbGVDbGlja091dHNpZGUiLCJpc0FueVBhbmVsT3BlbiIsInRhcmdldCIsImNsb3Nlc3QiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVuZGVyQ29udGVudCIsIm9uTmV3R2FtZSIsIm9uUmVzdW1lR2FtZSIsInNhdmVkR2FtZXMiLCJvbkRlbGV0ZUdhbWUiLCJvbkV2ZW50Q2hvaWNlIiwidW5pdExpc3QiLCJidWlsZGluZ0xpc3QiLCJvbk9wZW5Vbml0UGFuZWwiLCJvbk9wZW5CdWlsZGluZ1BhbmVsIiwib25PcGVuQWxsQnVpbGRpbmdzUGFuZWwiLCJvbkNvbmZpcm1QbGFjZW1lbnQiLCJvbkNhbmNlbFBsYXllckFjdGlvbiIsIm9uQnVpbGRpbmdDbGljayIsImJ1aWxkaW5nIiwibWFwRGltZW5zaW9ucyIsIm9uRXhpdEdhbWUiLCJvbk9wZW5DaXZQYW5lbCIsIm9uT3BlbkFzc2lnbm1lbnRQYW5lbCIsIm9uT3BlbkNvbnN0cnVjdGlvblBhbmVsIiwiZ2F0aGVySW5mbyIsIm9uQ2xvc2UiLCJvblN0YXJ0UGxhY2VtZW50Iiwib25VcGRhdGVVbml0Iiwib25EaXNtaXNzVW5pdCIsIm9uSW5pdGlhdGVCdWlsZCIsInBhbmVsU3RhdGUiLCJvblVwZGF0ZUJ1aWxkaW5nIiwib25EZW1vbGlzaEJ1aWxkaW5nIiwib25UcmFpblVuaXRzIiwib25UcmFpblZpbGxhZ2VycyIsIm9uQWR2YW5jZUFnZSIsIm9uQXNzaWduVmlsbGFnZXJzIiwib25SZWNhbGxWaWxsYWdlcnMiLCJkaXYiLCJjbGFzc05hbWUiLCJidXR0b24iLCJvbkNsaWNrIiwiYXJpYS1sYWJlbCIsIm9uUmVtb3ZlTm90aWZpY2F0aW9uIiwibWFpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/page.tsx\n"));

/***/ })

});