"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./data/itemContent.ts":
/*!*****************************!*\
  !*** ./data/itemContent.ts ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GAME_ITEMS: function() { return /* binding */ GAME_ITEMS; }\n/* harmony export */ });\nconst GAME_ITEMS = {\n    \"scroll_of_haste\": {\n        name: \"Scroll of Haste\",\n        rarity: \"Common\",\n        description: \"Instantly finishes 15 seconds of work on any construction project.\"\n    },\n    \"hearty_meal\": {\n        name: \"Hearty Meal\",\n        rarity: \"Common\",\n        description: \"Instantly provides 75 Food.\"\n    },\n    \"builders_charm\": {\n        name: \"Builder's Charm\",\n        rarity: \"Common\",\n        description: \"The next building you construct will have its build time reduced by 10%.\"\n    },\n    \"blueprint_of_the_master\": {\n        name: \"Blueprint of the Master\",\n        rarity: \"Epic\",\n        description: \"Instantly finishes 1 minute of work on any construction project.\"\n    },\n    \"drillmasters_whistle\": {\n        name: \"Drillmaster's Whistle\",\n        rarity: \"Epic\",\n        description: \"The next 5 military units are trained 25% faster.\"\n    },\n    \"golden_harvest\": {\n        name: \"Golden Harvest\",\n        rarity: \"Epic\",\n        description: \"For the next 60 seconds, all Food gathering is boosted by 50%.\"\n    },\n    \"shard_of_the_ancients\": {\n        name: \"Shard of the Ancients\",\n        rarity: \"Legendary\",\n        description: \"Instantly completes the construction project with the most time remaining.\"\n    },\n    \"heart_of_the_mountain\": {\n        name: \"Heart of the Mountain\",\n        rarity: \"Legendary\",\n        description: \"Doubles all Gold and Stone gathering for the next 2 minutes.\"\n    },\n    \"banner_of_command\": {\n        name: \"Banner of Command\",\n        rarity: \"Legendary\",\n        description: \"Grants a permanent +5% damage bonus to all of your current and future military units.\"\n    },\n    \"whisper_of_the_creator\": {\n        name: \"Whisper of the Creator\",\n        rarity: \"Spiritual\",\n        description: \"Instantly completes every single active task (building, training, and age advancement).\"\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2RhdGEvaXRlbUNvbnRlbnQudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUVPLE1BQU1BLGFBQXlEO0lBQ2xFLG1CQUFtQjtRQUNmQyxNQUFNO1FBQ05DLFFBQVE7UUFDUkMsYUFBYTtJQUNqQjtJQUNBLGVBQWU7UUFDWEYsTUFBTTtRQUNOQyxRQUFRO1FBQ1JDLGFBQWE7SUFDakI7SUFDQSxrQkFBa0I7UUFDZEYsTUFBTTtRQUNOQyxRQUFRO1FBQ1JDLGFBQWE7SUFDakI7SUFDQSwyQkFBMkI7UUFDdkJGLE1BQU07UUFDTkMsUUFBUTtRQUNSQyxhQUFhO0lBQ2pCO0lBQ0Esd0JBQXdCO1FBQ3BCRixNQUFNO1FBQ05DLFFBQVE7UUFDUkMsYUFBYTtJQUNqQjtJQUNBLGtCQUFrQjtRQUNkRixNQUFNO1FBQ05DLFFBQVE7UUFDUkMsYUFBYTtJQUNqQjtJQUNBLHlCQUF5QjtRQUNyQkYsTUFBTTtRQUNOQyxRQUFRO1FBQ1JDLGFBQWE7SUFDakI7SUFDQSx5QkFBeUI7UUFDckJGLE1BQU07UUFDTkMsUUFBUTtRQUNSQyxhQUFhO0lBQ2pCO0lBQ0EscUJBQXFCO1FBQ2pCRixNQUFNO1FBQ05DLFFBQVE7UUFDUkMsYUFBYTtJQUNqQjtJQUNBLDBCQUEwQjtRQUN0QkYsTUFBTTtRQUNOQyxRQUFRO1FBQ1JDLGFBQWE7SUFDakI7QUFDSixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2RhdGEvaXRlbUNvbnRlbnQudHM/MDY4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEdhbWVJdGVtIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgR0FNRV9JVEVNUzogeyBbaXRlbUlkOiBzdHJpbmddOiBPbWl0PEdhbWVJdGVtLCAnaWQnPiB9ID0ge1xuICAgICdzY3JvbGxfb2ZfaGFzdGUnOiB7XG4gICAgICAgIG5hbWU6ICdTY3JvbGwgb2YgSGFzdGUnLFxuICAgICAgICByYXJpdHk6ICdDb21tb24nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0luc3RhbnRseSBmaW5pc2hlcyAxNSBzZWNvbmRzIG9mIHdvcmsgb24gYW55IGNvbnN0cnVjdGlvbiBwcm9qZWN0LicsXG4gICAgfSxcbiAgICAnaGVhcnR5X21lYWwnOiB7XG4gICAgICAgIG5hbWU6ICdIZWFydHkgTWVhbCcsXG4gICAgICAgIHJhcml0eTogJ0NvbW1vbicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnSW5zdGFudGx5IHByb3ZpZGVzIDc1IEZvb2QuJyxcbiAgICB9LFxuICAgICdidWlsZGVyc19jaGFybSc6IHtcbiAgICAgICAgbmFtZTogJ0J1aWxkZXJcXCdzIENoYXJtJyxcbiAgICAgICAgcmFyaXR5OiAnQ29tbW9uJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgbmV4dCBidWlsZGluZyB5b3UgY29uc3RydWN0IHdpbGwgaGF2ZSBpdHMgYnVpbGQgdGltZSByZWR1Y2VkIGJ5IDEwJS4nLFxuICAgIH0sXG4gICAgJ2JsdWVwcmludF9vZl90aGVfbWFzdGVyJzoge1xuICAgICAgICBuYW1lOiAnQmx1ZXByaW50IG9mIHRoZSBNYXN0ZXInLFxuICAgICAgICByYXJpdHk6ICdFcGljJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdJbnN0YW50bHkgZmluaXNoZXMgMSBtaW51dGUgb2Ygd29yayBvbiBhbnkgY29uc3RydWN0aW9uIHByb2plY3QuJyxcbiAgICB9LFxuICAgICdkcmlsbG1hc3RlcnNfd2hpc3RsZSc6IHtcbiAgICAgICAgbmFtZTogJ0RyaWxsbWFzdGVyXFwncyBXaGlzdGxlJyxcbiAgICAgICAgcmFyaXR5OiAnRXBpYycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIG5leHQgNSBtaWxpdGFyeSB1bml0cyBhcmUgdHJhaW5lZCAyNSUgZmFzdGVyLicsXG4gICAgfSxcbiAgICAnZ29sZGVuX2hhcnZlc3QnOiB7XG4gICAgICAgIG5hbWU6ICdHb2xkZW4gSGFydmVzdCcsXG4gICAgICAgIHJhcml0eTogJ0VwaWMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ZvciB0aGUgbmV4dCA2MCBzZWNvbmRzLCBhbGwgRm9vZCBnYXRoZXJpbmcgaXMgYm9vc3RlZCBieSA1MCUuJyxcbiAgICB9LFxuICAgICdzaGFyZF9vZl90aGVfYW5jaWVudHMnOiB7XG4gICAgICAgIG5hbWU6ICdTaGFyZCBvZiB0aGUgQW5jaWVudHMnLFxuICAgICAgICByYXJpdHk6ICdMZWdlbmRhcnknLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0luc3RhbnRseSBjb21wbGV0ZXMgdGhlIGNvbnN0cnVjdGlvbiBwcm9qZWN0IHdpdGggdGhlIG1vc3QgdGltZSByZW1haW5pbmcuJyxcbiAgICB9LFxuICAgICdoZWFydF9vZl90aGVfbW91bnRhaW4nOiB7XG4gICAgICAgIG5hbWU6ICdIZWFydCBvZiB0aGUgTW91bnRhaW4nLFxuICAgICAgICByYXJpdHk6ICdMZWdlbmRhcnknLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0RvdWJsZXMgYWxsIEdvbGQgYW5kIFN0b25lIGdhdGhlcmluZyBmb3IgdGhlIG5leHQgMiBtaW51dGVzLicsXG4gICAgfSxcbiAgICAnYmFubmVyX29mX2NvbW1hbmQnOiB7XG4gICAgICAgIG5hbWU6ICdCYW5uZXIgb2YgQ29tbWFuZCcsXG4gICAgICAgIHJhcml0eTogJ0xlZ2VuZGFyeScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnR3JhbnRzIGEgcGVybWFuZW50ICs1JSBkYW1hZ2UgYm9udXMgdG8gYWxsIG9mIHlvdXIgY3VycmVudCBhbmQgZnV0dXJlIG1pbGl0YXJ5IHVuaXRzLicsXG4gICAgfSxcbiAgICAnd2hpc3Blcl9vZl90aGVfY3JlYXRvcic6IHtcbiAgICAgICAgbmFtZTogJ1doaXNwZXIgb2YgdGhlIENyZWF0b3InLFxuICAgICAgICByYXJpdHk6ICdTcGlyaXR1YWwnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0luc3RhbnRseSBjb21wbGV0ZXMgZXZlcnkgc2luZ2xlIGFjdGl2ZSB0YXNrIChidWlsZGluZywgdHJhaW5pbmcsIGFuZCBhZ2UgYWR2YW5jZW1lbnQpLicsXG4gICAgfVxufTtcbiJdLCJuYW1lcyI6WyJHQU1FX0lURU1TIiwibmFtZSIsInJhcml0eSIsImRlc2NyaXB0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./data/itemContent.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./data/predefinedContent.ts":
/*!***********************************!*\
  !*** ./data/predefinedContent.ts ***!
  \***********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AGE_PROGRESSION: function() { return /* binding */ AGE_PROGRESSION; },\n/* harmony export */   PREDEFINED_BANNER_URLS: function() { return /* binding */ PREDEFINED_BANNER_URLS; },\n/* harmony export */   PREDEFINED_CIVILIZATIONS: function() { return /* binding */ PREDEFINED_CIVILIZATIONS; },\n/* harmony export */   PREDEFINED_EVENTS: function() { return /* binding */ PREDEFINED_EVENTS; }\n/* harmony export */ });\n// In a real project, these images would be located in an `/assets` folder.\n// Using a placeholder service with specific seeds to simulate having unique, static images for each civilization.\nconst PREDEFINED_CIVILIZATIONS = [\n    {\n        name: \"The Sunstone Clan\",\n        lore: \"Masters of stonework, their cities are carved directly into mountainsides.\",\n        bonus: \"Stone gathering is 20% faster.\",\n        uniqueUnit: {\n            name: \"Granite Guard\",\n            description: \"Heavily armored infantry that excels at defense.\"\n        }\n    },\n    {\n        name: \"The River Nomads\",\n        lore: \"A fluid society that follows the great rivers, their culture as rich as the fertile plains.\",\n        bonus: \"Farms produce food 15% faster.\",\n        uniqueUnit: {\n            name: \"River-Watch Rider\",\n            description: \"Fast cavalry adept at scouting and harassing enemy lines.\"\n        }\n    },\n    {\n        name: \"The Ironwood Sentinels\",\n        lore: \"Living in deep forests, they have mastered the art of woodwork and archery.\",\n        bonus: \"Woodcutting is 25% faster.\",\n        uniqueUnit: {\n            name: \"Ironwood Archer\",\n            description: \"A long-ranged archer with superior damage against other archers.\"\n        }\n    },\n    {\n        name: \"The Gilded Syndicate\",\n        lore: \"A civilization built on trade and wealth, their markets are the envy of the world.\",\n        bonus: \"Gold mining generates 10% more resources.\",\n        uniqueUnit: {\n            name: \"Gilded Companion\",\n            description: \"A mercenary unit that costs only gold and is quick to train.\"\n        }\n    }\n];\n// Banner URLs corresponding to the civilizations above.\nconst PREDEFINED_BANNER_URLS = [\n    \"https://picsum.photos/seed/sunstone/512/512\",\n    \"https://picsum.photos/seed/riverfolk/512/512\",\n    \"https://picsum.photos/seed/ironwood/512/512\",\n    \"https://picsum.photos/seed/gilded/512/512\"\n];\nconst PREDEFINED_EVENTS = [\n    {\n        message: \"A traveling merchant has arrived, offering a bulk discount on wood.\",\n        choices: [\n            {\n                text: \"Buy 100 Wood\",\n                cost: {\n                    gold: 40\n                },\n                successEffects: {\n                    rewards: [\n                        {\n                            type: \"resource\",\n                            resource: \"wood\",\n                            amount: 100\n                        }\n                    ],\n                    log: \"The deal is made. The wood is added to your stockpile.\"\n                }\n            },\n            {\n                text: \"Politely decline\",\n                successEffects: {\n                    rewards: [],\n                    log: \"You send the merchant on their way.\"\n                }\n            }\n        ]\n    },\n    {\n        message: \"Your scouts have found an ancient, treasure-filled ruin. It seems risky to explore.\",\n        choices: [\n            {\n                text: \"Send an expedition (70% success)\",\n                cost: {\n                    food: 50\n                },\n                successChance: 0.7,\n                successEffects: {\n                    rewards: [\n                        {\n                            type: \"resource\",\n                            resource: \"gold\",\n                            amount: [\n                                150,\n                                250\n                            ]\n                        }\n                    ],\n                    log: \"Success! Your explorers return with a hoard of ancient gold.\"\n                },\n                failureEffects: {\n                    rewards: [],\n                    log: \"The expedition fails, and some supplies are lost, but everyone returns safely.\"\n                }\n            },\n            {\n                text: \"Leave it be\",\n                successEffects: {\n                    rewards: [],\n                    log: \"You decide the potential treasure is not worth the risk.\"\n                }\n            }\n        ]\n    },\n    {\n        message: \"A grateful farmer, whose family you protected, offers you a gift.\",\n        choices: [\n            {\n                text: \"Accept their Hearty Meal\",\n                successEffects: {\n                    rewards: [\n                        {\n                            type: \"item\",\n                            itemId: \"hearty_meal\",\n                            amount: 1\n                        }\n                    ],\n                    log: \"You accept the meal. The food is a great boon to your people.\"\n                }\n            }\n        ]\n    },\n    {\n        message: \"A fire breaks out in one of your storage huts!\",\n        choices: [\n            {\n                text: \"Organize a bucket brigade (80% success)\",\n                successChance: 0.8,\n                successEffects: {\n                    rewards: [\n                        {\n                            type: \"resource\",\n                            resource: \"wood\",\n                            amount: -25\n                        }\n                    ],\n                    log: \"The fire is quickly put out, with only minor losses.\"\n                },\n                failureEffects: {\n                    rewards: [\n                        {\n                            type: \"resource\",\n                            resource: \"wood\",\n                            amount: [\n                                -100,\n                                -150\n                            ]\n                        }\n                    ],\n                    log: \"The fire rages out of control before being contained, destroying a large amount of wood.\"\n                }\n            },\n            {\n                text: \"Prioritize saving villagers\",\n                successEffects: {\n                    rewards: [\n                        {\n                            type: \"resource\",\n                            resource: \"wood\",\n                            amount: [\n                                -80,\n                                -120\n                            ]\n                        }\n                    ],\n                    log: \"Everyone is safe, but the storage hut and its contents are mostly lost.\"\n                }\n            }\n        ]\n    },\n    {\n        message: \"A neighboring clan sends an envoy with a gift to foster good relations.\",\n        choices: [\n            {\n                text: \"Accept the gift of stone\",\n                successEffects: {\n                    rewards: [\n                        {\n                            type: \"resource\",\n                            resource: \"stone\",\n                            amount: 75\n                        }\n                    ],\n                    log: \"You accept the gift, strengthening ties with your neighbors.\"\n                }\n            },\n            {\n                text: \"Accept the gift of food\",\n                successEffects: {\n                    rewards: [\n                        {\n                            type: \"resource\",\n                            resource: \"food\",\n                            amount: 100\n                        }\n                    ],\n                    log: \"You accept the gift, a welcome addition to your stores.\"\n                }\n            }\n        ]\n    },\n    {\n        message: \"A wandering mystic reads the stars and offers you a cryptic blessing.\",\n        choices: [\n            {\n                text: \"Heed their words\",\n                successEffects: {\n                    rewards: [\n                        {\n                            type: \"item\",\n                            itemId: \"builders_charm\",\n                            amount: 1\n                        }\n                    ],\n                    log: \"The mystic nods and hands you a strange-looking compass. 'May it guide your hand,' they say.\"\n                }\n            }\n        ]\n    }\n];\nconst AGE_PROGRESSION = {\n    \"Nomadic Age\": {\n        nextAgeName: \"Feudal Age\",\n        description: \"Society organizes under lords and vassals, unlocking new military and economic structures.\"\n    },\n    \"Feudal Age\": {\n        nextAgeName: \"Castle Age\",\n        description: \"Powerful fortifications and advanced siege weaponry mark this new era of warfare and defense.\"\n    },\n    \"Castle Age\": {\n        nextAgeName: \"Imperial Age\",\n        description: \"Your civilization becomes a true empire, with unparalleled economic and military might.\"\n    },\n    \"Imperial Age\": {\n        nextAgeName: \"Post-Imperial Age\",\n        description: \"The pinnacle of technology and culture. All paths are now open to you.\"\n    },\n    \"default\": {\n        nextAgeName: \"Age of Legends\",\n        description: \"Your civilization transcends history and becomes a legend.\"\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2RhdGEvcHJlZGVmaW5lZENvbnRlbnQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUdBLDJFQUEyRTtBQUMzRSxrSEFBa0g7QUFDM0csTUFBTUEsMkJBQThEO0lBQ3ZFO1FBQ0lDLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxPQUFPO1FBQ1BDLFlBQVk7WUFBRUgsTUFBTTtZQUFpQkksYUFBYTtRQUFtRDtJQUN6RztJQUNBO1FBQ0lKLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxPQUFPO1FBQ1BDLFlBQVk7WUFBRUgsTUFBTTtZQUFxQkksYUFBYTtRQUE0RDtJQUN0SDtJQUNBO1FBQ0lKLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxPQUFPO1FBQ1BDLFlBQVk7WUFBRUgsTUFBTTtZQUFtQkksYUFBYTtRQUFtRTtJQUMzSDtJQUNBO1FBQ0lKLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxPQUFPO1FBQ1BDLFlBQVk7WUFBRUgsTUFBTTtZQUFvQkksYUFBYTtRQUErRDtJQUN4SDtDQUNILENBQUM7QUFFRix3REFBd0Q7QUFDakQsTUFBTUMseUJBQW1DO0lBQzVDO0lBQ0E7SUFDQTtJQUNBO0NBQ0gsQ0FBQztBQUVLLE1BQU1DLG9CQUFpQztJQUMxQztRQUNJQyxTQUFTO1FBQ1RDLFNBQVM7WUFDTDtnQkFDSUMsTUFBTTtnQkFDTkMsTUFBTTtvQkFBRUMsTUFBTTtnQkFBRztnQkFDakJDLGdCQUFnQjtvQkFBRUMsU0FBUzt3QkFBQzs0QkFBRUMsTUFBTTs0QkFBWUMsVUFBVTs0QkFBUUMsUUFBUTt3QkFBSTtxQkFBRTtvQkFBRUMsS0FBSztnQkFBeUQ7WUFDcEo7WUFDQTtnQkFDSVIsTUFBTTtnQkFDTkcsZ0JBQWdCO29CQUFFQyxTQUFTLEVBQUU7b0JBQUVJLEtBQUs7Z0JBQXNDO1lBQzlFO1NBQ0g7SUFDTDtJQUNBO1FBQ0lWLFNBQVM7UUFDVEMsU0FBUztZQUNMO2dCQUNJQyxNQUFNO2dCQUNOQyxNQUFNO29CQUFFUSxNQUFNO2dCQUFHO2dCQUNqQkMsZUFBZTtnQkFDZlAsZ0JBQWdCO29CQUFFQyxTQUFTO3dCQUFDOzRCQUFFQyxNQUFNOzRCQUFZQyxVQUFVOzRCQUFRQyxRQUFRO2dDQUFDO2dDQUFLOzZCQUFJO3dCQUFDO3FCQUFFO29CQUFFQyxLQUFLO2dCQUErRDtnQkFDN0pHLGdCQUFnQjtvQkFBRVAsU0FBUyxFQUFFO29CQUFFSSxLQUFLO2dCQUFpRjtZQUN6SDtZQUNBO2dCQUNJUixNQUFNO2dCQUNORyxnQkFBZ0I7b0JBQUVDLFNBQVMsRUFBRTtvQkFBRUksS0FBSztnQkFBMkQ7WUFDbkc7U0FDSDtJQUNMO0lBQ0E7UUFDSVYsU0FBUztRQUNUQyxTQUFTO1lBQ0w7Z0JBQ0lDLE1BQU07Z0JBQ05HLGdCQUFnQjtvQkFDWkMsU0FBUzt3QkFBQzs0QkFBRUMsTUFBTTs0QkFBUU8sUUFBUTs0QkFBZUwsUUFBUTt3QkFBRTtxQkFBRTtvQkFDN0RDLEtBQUs7Z0JBQ1Q7WUFDSjtTQUNIO0lBQ0w7SUFDQTtRQUNJVixTQUFTO1FBQ1RDLFNBQVM7WUFDTDtnQkFDSUMsTUFBTTtnQkFDTlUsZUFBZTtnQkFDZlAsZ0JBQWdCO29CQUFFQyxTQUFTO3dCQUFDOzRCQUFFQyxNQUFNOzRCQUFZQyxVQUFVOzRCQUFRQyxRQUFRLENBQUM7d0JBQUc7cUJBQUU7b0JBQUVDLEtBQUs7Z0JBQXVEO2dCQUM5SUcsZ0JBQWdCO29CQUFFUCxTQUFTO3dCQUFDOzRCQUFFQyxNQUFNOzRCQUFZQyxVQUFVOzRCQUFRQyxRQUFRO2dDQUFDLENBQUM7Z0NBQUssQ0FBQzs2QkFBSTt3QkFBQztxQkFBRTtvQkFBRUMsS0FBSztnQkFBMkY7WUFDL0w7WUFDQTtnQkFDSVIsTUFBTTtnQkFDTkcsZ0JBQWdCO29CQUFFQyxTQUFTO3dCQUFDOzRCQUFFQyxNQUFNOzRCQUFZQyxVQUFVOzRCQUFRQyxRQUFRO2dDQUFDLENBQUM7Z0NBQUksQ0FBQzs2QkFBSTt3QkFBQztxQkFBRTtvQkFBRUMsS0FBSztnQkFBMEU7WUFDN0s7U0FDSDtJQUNMO0lBQ0E7UUFDSVYsU0FBUztRQUNUQyxTQUFTO1lBQ0w7Z0JBQ0lDLE1BQU07Z0JBQ05HLGdCQUFnQjtvQkFBRUMsU0FBUzt3QkFBQzs0QkFBRUMsTUFBTTs0QkFBWUMsVUFBVTs0QkFBU0MsUUFBUTt3QkFBRztxQkFBRTtvQkFBRUMsS0FBSztnQkFBK0Q7WUFDMUo7WUFDQztnQkFDR1IsTUFBTTtnQkFDTkcsZ0JBQWdCO29CQUFFQyxTQUFTO3dCQUFDOzRCQUFFQyxNQUFNOzRCQUFZQyxVQUFVOzRCQUFRQyxRQUFRO3dCQUFJO3FCQUFFO29CQUFFQyxLQUFLO2dCQUEwRDtZQUNySjtTQUNIO0lBQ0w7SUFDQTtRQUNJVixTQUFTO1FBQ1RDLFNBQVM7WUFDTDtnQkFDSUMsTUFBTTtnQkFDTkcsZ0JBQWdCO29CQUNaQyxTQUFTO3dCQUFDOzRCQUFFQyxNQUFNOzRCQUFRTyxRQUFROzRCQUFrQkwsUUFBUTt3QkFBRTtxQkFBRTtvQkFDaEVDLEtBQUs7Z0JBQ1Q7WUFDSjtTQUNIO0lBQ0w7Q0FDSCxDQUFDO0FBRUssTUFBTUssa0JBQTBGO0lBQ25HLGVBQWU7UUFDWEMsYUFBYTtRQUNibkIsYUFBYTtJQUNqQjtJQUNBLGNBQWM7UUFDVm1CLGFBQWE7UUFDYm5CLGFBQWE7SUFDakI7SUFDQSxjQUFjO1FBQ1ZtQixhQUFhO1FBQ2JuQixhQUFhO0lBQ2pCO0lBQ0EsZ0JBQWdCO1FBQ1ptQixhQUFhO1FBQ2JuQixhQUFhO0lBQ2pCO0lBQ0EsV0FBVztRQUNQbUIsYUFBYTtRQUNibkIsYUFBYTtJQUNqQjtBQUNKLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vZGF0YS9wcmVkZWZpbmVkQ29udGVudC50cz9lYTM5Il0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHR5cGUgeyBDaXZpbGl6YXRpb24sIEdhbWVFdmVudCB9IGZyb20gJy4uL3R5cGVzJztcblxuLy8gSW4gYSByZWFsIHByb2plY3QsIHRoZXNlIGltYWdlcyB3b3VsZCBiZSBsb2NhdGVkIGluIGFuIGAvYXNzZXRzYCBmb2xkZXIuXG4vLyBVc2luZyBhIHBsYWNlaG9sZGVyIHNlcnZpY2Ugd2l0aCBzcGVjaWZpYyBzZWVkcyB0byBzaW11bGF0ZSBoYXZpbmcgdW5pcXVlLCBzdGF0aWMgaW1hZ2VzIGZvciBlYWNoIGNpdmlsaXphdGlvbi5cbmV4cG9ydCBjb25zdCBQUkVERUZJTkVEX0NJVklMSVpBVElPTlM6IE9taXQ8Q2l2aWxpemF0aW9uLCAnYmFubmVyVXJsJz5bXSA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6IFwiVGhlIFN1bnN0b25lIENsYW5cIixcbiAgICAgICAgbG9yZTogXCJNYXN0ZXJzIG9mIHN0b25ld29yaywgdGhlaXIgY2l0aWVzIGFyZSBjYXJ2ZWQgZGlyZWN0bHkgaW50byBtb3VudGFpbnNpZGVzLlwiLFxuICAgICAgICBib251czogXCJTdG9uZSBnYXRoZXJpbmcgaXMgMjAlIGZhc3Rlci5cIixcbiAgICAgICAgdW5pcXVlVW5pdDogeyBuYW1lOiBcIkdyYW5pdGUgR3VhcmRcIiwgZGVzY3JpcHRpb246IFwiSGVhdmlseSBhcm1vcmVkIGluZmFudHJ5IHRoYXQgZXhjZWxzIGF0IGRlZmVuc2UuXCIgfVxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiBcIlRoZSBSaXZlciBOb21hZHNcIixcbiAgICAgICAgbG9yZTogXCJBIGZsdWlkIHNvY2lldHkgdGhhdCBmb2xsb3dzIHRoZSBncmVhdCByaXZlcnMsIHRoZWlyIGN1bHR1cmUgYXMgcmljaCBhcyB0aGUgZmVydGlsZSBwbGFpbnMuXCIsXG4gICAgICAgIGJvbnVzOiBcIkZhcm1zIHByb2R1Y2UgZm9vZCAxNSUgZmFzdGVyLlwiLFxuICAgICAgICB1bmlxdWVVbml0OiB7IG5hbWU6IFwiUml2ZXItV2F0Y2ggUmlkZXJcIiwgZGVzY3JpcHRpb246IFwiRmFzdCBjYXZhbHJ5IGFkZXB0IGF0IHNjb3V0aW5nIGFuZCBoYXJhc3NpbmcgZW5lbXkgbGluZXMuXCIgfVxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiBcIlRoZSBJcm9ud29vZCBTZW50aW5lbHNcIixcbiAgICAgICAgbG9yZTogXCJMaXZpbmcgaW4gZGVlcCBmb3Jlc3RzLCB0aGV5IGhhdmUgbWFzdGVyZWQgdGhlIGFydCBvZiB3b29kd29yayBhbmQgYXJjaGVyeS5cIixcbiAgICAgICAgYm9udXM6IFwiV29vZGN1dHRpbmcgaXMgMjUlIGZhc3Rlci5cIixcbiAgICAgICAgdW5pcXVlVW5pdDogeyBuYW1lOiBcIklyb253b29kIEFyY2hlclwiLCBkZXNjcmlwdGlvbjogXCJBIGxvbmctcmFuZ2VkIGFyY2hlciB3aXRoIHN1cGVyaW9yIGRhbWFnZSBhZ2FpbnN0IG90aGVyIGFyY2hlcnMuXCIgfVxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiBcIlRoZSBHaWxkZWQgU3luZGljYXRlXCIsXG4gICAgICAgIGxvcmU6IFwiQSBjaXZpbGl6YXRpb24gYnVpbHQgb24gdHJhZGUgYW5kIHdlYWx0aCwgdGhlaXIgbWFya2V0cyBhcmUgdGhlIGVudnkgb2YgdGhlIHdvcmxkLlwiLFxuICAgICAgICBib251czogXCJHb2xkIG1pbmluZyBnZW5lcmF0ZXMgMTAlIG1vcmUgcmVzb3VyY2VzLlwiLFxuICAgICAgICB1bmlxdWVVbml0OiB7IG5hbWU6IFwiR2lsZGVkIENvbXBhbmlvblwiLCBkZXNjcmlwdGlvbjogXCJBIG1lcmNlbmFyeSB1bml0IHRoYXQgY29zdHMgb25seSBnb2xkIGFuZCBpcyBxdWljayB0byB0cmFpbi5cIiB9XG4gICAgfSxcbl07XG5cbi8vIEJhbm5lciBVUkxzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGNpdmlsaXphdGlvbnMgYWJvdmUuXG5leHBvcnQgY29uc3QgUFJFREVGSU5FRF9CQU5ORVJfVVJMUzogc3RyaW5nW10gPSBbXG4gICAgXCJodHRwczovL3BpY3N1bS5waG90b3Mvc2VlZC9zdW5zdG9uZS81MTIvNTEyXCIsXG4gICAgXCJodHRwczovL3BpY3N1bS5waG90b3Mvc2VlZC9yaXZlcmZvbGsvNTEyLzUxMlwiLFxuICAgIFwiaHR0cHM6Ly9waWNzdW0ucGhvdG9zL3NlZWQvaXJvbndvb2QvNTEyLzUxMlwiLFxuICAgIFwiaHR0cHM6Ly9waWNzdW0ucGhvdG9zL3NlZWQvZ2lsZGVkLzUxMi81MTJcIixcbl07XG5cbmV4cG9ydCBjb25zdCBQUkVERUZJTkVEX0VWRU5UUzogR2FtZUV2ZW50W10gPSBbXG4gICAge1xuICAgICAgICBtZXNzYWdlOiBcIkEgdHJhdmVsaW5nIG1lcmNoYW50IGhhcyBhcnJpdmVkLCBvZmZlcmluZyBhIGJ1bGsgZGlzY291bnQgb24gd29vZC5cIixcbiAgICAgICAgY2hvaWNlczogW1xuICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIkJ1eSAxMDAgV29vZFwiLCBcbiAgICAgICAgICAgICAgICBjb3N0OiB7IGdvbGQ6IDQwIH0sXG4gICAgICAgICAgICAgICAgc3VjY2Vzc0VmZmVjdHM6IHsgcmV3YXJkczogW3sgdHlwZTogJ3Jlc291cmNlJywgcmVzb3VyY2U6ICd3b29kJywgYW1vdW50OiAxMDAgfV0sIGxvZzogXCJUaGUgZGVhbCBpcyBtYWRlLiBUaGUgd29vZCBpcyBhZGRlZCB0byB5b3VyIHN0b2NrcGlsZS5cIiB9IFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHsgXG4gICAgICAgICAgICAgICAgdGV4dDogXCJQb2xpdGVseSBkZWNsaW5lXCIsIFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3NFZmZlY3RzOiB7IHJld2FyZHM6IFtdLCBsb2c6IFwiWW91IHNlbmQgdGhlIG1lcmNoYW50IG9uIHRoZWlyIHdheS5cIiB9IFxuICAgICAgICAgICAgfVxuICAgICAgICBdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG1lc3NhZ2U6IFwiWW91ciBzY291dHMgaGF2ZSBmb3VuZCBhbiBhbmNpZW50LCB0cmVhc3VyZS1maWxsZWQgcnVpbi4gSXQgc2VlbXMgcmlza3kgdG8gZXhwbG9yZS5cIixcbiAgICAgICAgY2hvaWNlczogW1xuICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIlNlbmQgYW4gZXhwZWRpdGlvbiAoNzAlIHN1Y2Nlc3MpXCIsXG4gICAgICAgICAgICAgICAgY29zdDogeyBmb29kOiA1MCB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3NDaGFuY2U6IDAuNyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzRWZmZWN0czogeyByZXdhcmRzOiBbeyB0eXBlOiAncmVzb3VyY2UnLCByZXNvdXJjZTogJ2dvbGQnLCBhbW91bnQ6IFsxNTAsIDI1MF0gfV0sIGxvZzogXCJTdWNjZXNzISBZb3VyIGV4cGxvcmVycyByZXR1cm4gd2l0aCBhIGhvYXJkIG9mIGFuY2llbnQgZ29sZC5cIiB9LFxuICAgICAgICAgICAgICAgIGZhaWx1cmVFZmZlY3RzOiB7IHJld2FyZHM6IFtdLCBsb2c6IFwiVGhlIGV4cGVkaXRpb24gZmFpbHMsIGFuZCBzb21lIHN1cHBsaWVzIGFyZSBsb3N0LCBidXQgZXZlcnlvbmUgcmV0dXJucyBzYWZlbHkuXCIgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHsgXG4gICAgICAgICAgICAgICAgdGV4dDogXCJMZWF2ZSBpdCBiZVwiLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3NFZmZlY3RzOiB7IHJld2FyZHM6IFtdLCBsb2c6IFwiWW91IGRlY2lkZSB0aGUgcG90ZW50aWFsIHRyZWFzdXJlIGlzIG5vdCB3b3J0aCB0aGUgcmlzay5cIiB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgbWVzc2FnZTogXCJBIGdyYXRlZnVsIGZhcm1lciwgd2hvc2UgZmFtaWx5IHlvdSBwcm90ZWN0ZWQsIG9mZmVycyB5b3UgYSBnaWZ0LlwiLFxuICAgICAgICBjaG9pY2VzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGV4dDogXCJBY2NlcHQgdGhlaXIgSGVhcnR5IE1lYWxcIixcbiAgICAgICAgICAgICAgICBzdWNjZXNzRWZmZWN0czoge1xuICAgICAgICAgICAgICAgICAgICByZXdhcmRzOiBbeyB0eXBlOiAnaXRlbScsIGl0ZW1JZDogJ2hlYXJ0eV9tZWFsJywgYW1vdW50OiAxIH1dLFxuICAgICAgICAgICAgICAgICAgICBsb2c6IFwiWW91IGFjY2VwdCB0aGUgbWVhbC4gVGhlIGZvb2QgaXMgYSBncmVhdCBib29uIHRvIHlvdXIgcGVvcGxlLlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG1lc3NhZ2U6IFwiQSBmaXJlIGJyZWFrcyBvdXQgaW4gb25lIG9mIHlvdXIgc3RvcmFnZSBodXRzIVwiLFxuICAgICAgICBjaG9pY2VzOiBbXG4gICAgICAgICAgICB7IFxuICAgICAgICAgICAgICAgIHRleHQ6IFwiT3JnYW5pemUgYSBidWNrZXQgYnJpZ2FkZSAoODAlIHN1Y2Nlc3MpXCIsXG4gICAgICAgICAgICAgICAgc3VjY2Vzc0NoYW5jZTogMC44LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3NFZmZlY3RzOiB7IHJld2FyZHM6IFt7IHR5cGU6ICdyZXNvdXJjZScsIHJlc291cmNlOiAnd29vZCcsIGFtb3VudDogLTI1IH1dLCBsb2c6IFwiVGhlIGZpcmUgaXMgcXVpY2tseSBwdXQgb3V0LCB3aXRoIG9ubHkgbWlub3IgbG9zc2VzLlwiIH0sXG4gICAgICAgICAgICAgICAgZmFpbHVyZUVmZmVjdHM6IHsgcmV3YXJkczogW3sgdHlwZTogJ3Jlc291cmNlJywgcmVzb3VyY2U6ICd3b29kJywgYW1vdW50OiBbLTEwMCwgLTE1MF0gfV0sIGxvZzogXCJUaGUgZmlyZSByYWdlcyBvdXQgb2YgY29udHJvbCBiZWZvcmUgYmVpbmcgY29udGFpbmVkLCBkZXN0cm95aW5nIGEgbGFyZ2UgYW1vdW50IG9mIHdvb2QuXCIgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIlByaW9yaXRpemUgc2F2aW5nIHZpbGxhZ2Vyc1wiLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3NFZmZlY3RzOiB7IHJld2FyZHM6IFt7IHR5cGU6ICdyZXNvdXJjZScsIHJlc291cmNlOiAnd29vZCcsIGFtb3VudDogWy04MCwgLTEyMF0gfV0sIGxvZzogXCJFdmVyeW9uZSBpcyBzYWZlLCBidXQgdGhlIHN0b3JhZ2UgaHV0IGFuZCBpdHMgY29udGVudHMgYXJlIG1vc3RseSBsb3N0LlwiIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgIH0sXG4gICAge1xuICAgICAgICBtZXNzYWdlOiBcIkEgbmVpZ2hib3JpbmcgY2xhbiBzZW5kcyBhbiBlbnZveSB3aXRoIGEgZ2lmdCB0byBmb3N0ZXIgZ29vZCByZWxhdGlvbnMuXCIsXG4gICAgICAgIGNob2ljZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIkFjY2VwdCB0aGUgZ2lmdCBvZiBzdG9uZVwiLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3NFZmZlY3RzOiB7IHJld2FyZHM6IFt7IHR5cGU6ICdyZXNvdXJjZScsIHJlc291cmNlOiAnc3RvbmUnLCBhbW91bnQ6IDc1IH1dLCBsb2c6IFwiWW91IGFjY2VwdCB0aGUgZ2lmdCwgc3RyZW5ndGhlbmluZyB0aWVzIHdpdGggeW91ciBuZWlnaGJvcnMuXCIgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGV4dDogXCJBY2NlcHQgdGhlIGdpZnQgb2YgZm9vZFwiLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3NFZmZlY3RzOiB7IHJld2FyZHM6IFt7IHR5cGU6ICdyZXNvdXJjZScsIHJlc291cmNlOiAnZm9vZCcsIGFtb3VudDogMTAwIH1dLCBsb2c6IFwiWW91IGFjY2VwdCB0aGUgZ2lmdCwgYSB3ZWxjb21lIGFkZGl0aW9uIHRvIHlvdXIgc3RvcmVzLlwiIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgIH0sXG4gICAge1xuICAgICAgICBtZXNzYWdlOiBcIkEgd2FuZGVyaW5nIG15c3RpYyByZWFkcyB0aGUgc3RhcnMgYW5kIG9mZmVycyB5b3UgYSBjcnlwdGljIGJsZXNzaW5nLlwiLFxuICAgICAgICBjaG9pY2VzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGV4dDogXCJIZWVkIHRoZWlyIHdvcmRzXCIsXG4gICAgICAgICAgICAgICAgc3VjY2Vzc0VmZmVjdHM6IHtcbiAgICAgICAgICAgICAgICAgICAgcmV3YXJkczogW3sgdHlwZTogJ2l0ZW0nLCBpdGVtSWQ6ICdidWlsZGVyc19jaGFybScsIGFtb3VudDogMSB9XSxcbiAgICAgICAgICAgICAgICAgICAgbG9nOiBcIlRoZSBteXN0aWMgbm9kcyBhbmQgaGFuZHMgeW91IGEgc3RyYW5nZS1sb29raW5nIGNvbXBhc3MuICdNYXkgaXQgZ3VpZGUgeW91ciBoYW5kLCcgdGhleSBzYXkuXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9XG5dO1xuXG5leHBvcnQgY29uc3QgQUdFX1BST0dSRVNTSU9OOiB7IFtjdXJyZW50QWdlOiBzdHJpbmddOiB7IG5leHRBZ2VOYW1lOiBzdHJpbmc7IGRlc2NyaXB0aW9uOiBzdHJpbmcgfSB9ID0ge1xuICAgICdOb21hZGljIEFnZSc6IHtcbiAgICAgICAgbmV4dEFnZU5hbWU6ICdGZXVkYWwgQWdlJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdTb2NpZXR5IG9yZ2FuaXplcyB1bmRlciBsb3JkcyBhbmQgdmFzc2FscywgdW5sb2NraW5nIG5ldyBtaWxpdGFyeSBhbmQgZWNvbm9taWMgc3RydWN0dXJlcy4nXG4gICAgfSxcbiAgICAnRmV1ZGFsIEFnZSc6IHtcbiAgICAgICAgbmV4dEFnZU5hbWU6ICdDYXN0bGUgQWdlJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdQb3dlcmZ1bCBmb3J0aWZpY2F0aW9ucyBhbmQgYWR2YW5jZWQgc2llZ2Ugd2VhcG9ucnkgbWFyayB0aGlzIG5ldyBlcmEgb2Ygd2FyZmFyZSBhbmQgZGVmZW5zZS4nXG4gICAgfSxcbiAgICAnQ2FzdGxlIEFnZSc6IHtcbiAgICAgICAgbmV4dEFnZU5hbWU6ICdJbXBlcmlhbCBBZ2UnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1lvdXIgY2l2aWxpemF0aW9uIGJlY29tZXMgYSB0cnVlIGVtcGlyZSwgd2l0aCB1bnBhcmFsbGVsZWQgZWNvbm9taWMgYW5kIG1pbGl0YXJ5IG1pZ2h0LidcbiAgICB9LFxuICAgICdJbXBlcmlhbCBBZ2UnOiB7XG4gICAgICAgIG5leHRBZ2VOYW1lOiAnUG9zdC1JbXBlcmlhbCBBZ2UnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBwaW5uYWNsZSBvZiB0ZWNobm9sb2d5IGFuZCBjdWx0dXJlLiBBbGwgcGF0aHMgYXJlIG5vdyBvcGVuIHRvIHlvdS4nXG4gICAgfSxcbiAgICAnZGVmYXVsdCc6IHtcbiAgICAgICAgbmV4dEFnZU5hbWU6ICdBZ2Ugb2YgTGVnZW5kcycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnWW91ciBjaXZpbGl6YXRpb24gdHJhbnNjZW5kcyBoaXN0b3J5IGFuZCBiZWNvbWVzIGEgbGVnZW5kLidcbiAgICB9XG59O1xuIl0sIm5hbWVzIjpbIlBSRURFRklORURfQ0lWSUxJWkFUSU9OUyIsIm5hbWUiLCJsb3JlIiwiYm9udXMiLCJ1bmlxdWVVbml0IiwiZGVzY3JpcHRpb24iLCJQUkVERUZJTkVEX0JBTk5FUl9VUkxTIiwiUFJFREVGSU5FRF9FVkVOVFMiLCJtZXNzYWdlIiwiY2hvaWNlcyIsInRleHQiLCJjb3N0IiwiZ29sZCIsInN1Y2Nlc3NFZmZlY3RzIiwicmV3YXJkcyIsInR5cGUiLCJyZXNvdXJjZSIsImFtb3VudCIsImxvZyIsImZvb2QiLCJzdWNjZXNzQ2hhbmNlIiwiZmFpbHVyZUVmZmVjdHMiLCJpdGVtSWQiLCJBR0VfUFJPR1JFU1NJT04iLCJuZXh0QWdlTmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./data/predefinedContent.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/types */ \"(app-pages-browser)/./types.ts\");\n/* harmony import */ var _services_geminiService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/services/geminiService */ \"(app-pages-browser)/./services/geminiService.ts\");\n/* harmony import */ var _services_dbService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/services/dbService */ \"(app-pages-browser)/./services/dbService.ts\");\n/* harmony import */ var _services_nameService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/services/nameService */ \"(app-pages-browser)/./services/nameService.ts\");\n/* harmony import */ var _data_itemContent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/data/itemContent */ \"(app-pages-browser)/./data/itemContent.ts\");\n/* harmony import */ var _components_GameUI__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/GameUI */ \"(app-pages-browser)/./components/GameUI.tsx\");\n/* harmony import */ var _components_StartScreen__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/StartScreen */ \"(app-pages-browser)/./components/StartScreen.tsx\");\n/* harmony import */ var _components_LoadingScreen__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/LoadingScreen */ \"(app-pages-browser)/./components/LoadingScreen.tsx\");\n/* harmony import */ var _components_BuildPanel__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/BuildPanel */ \"(app-pages-browser)/./components/BuildPanel.tsx\");\n/* harmony import */ var _components_NotificationManager__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/NotificationManager */ \"(app-pages-browser)/./components/NotificationManager.tsx\");\n/* harmony import */ var _components_UnitManagementPanel__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/components/UnitManagementPanel */ \"(app-pages-browser)/./components/UnitManagementPanel.tsx\");\n/* harmony import */ var _components_BuildingManagementPanel__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/components/BuildingManagementPanel */ \"(app-pages-browser)/./components/BuildingManagementPanel.tsx\");\n/* harmony import */ var _components_ResourceAssignmentPanel__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/components/ResourceAssignmentPanel */ \"(app-pages-browser)/./components/ResourceAssignmentPanel.tsx\");\n/* harmony import */ var _components_CivilizationPanel__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/components/CivilizationPanel */ \"(app-pages-browser)/./components/CivilizationPanel.tsx\");\n/* harmony import */ var _components_AllBuildingsPanel__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/components/AllBuildingsPanel */ \"(app-pages-browser)/./components/AllBuildingsPanel.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst BUILDINGS_INFO = [\n    {\n        id: \"houses\",\n        name: \"House\",\n        description: \"Increases population capacity by 5.\",\n        cost: {\n            wood: 50\n        },\n        isUnique: false,\n        buildTime: 15\n    },\n    {\n        id: \"barracks\",\n        name: \"Barracks\",\n        description: \"Allows training of Swordsmen.\",\n        cost: {\n            wood: 150,\n            stone: 50\n        },\n        isUnique: true,\n        buildTime: 60\n    },\n    {\n        id: \"archeryRange\",\n        name: \"Archery Range\",\n        description: \"Allows training of Archers.\",\n        cost: {\n            wood: 175\n        },\n        isUnique: true,\n        buildTime: 60\n    },\n    {\n        id: \"stable\",\n        name: \"Stables\",\n        description: \"Allows training of Knights.\",\n        cost: {\n            wood: 175,\n            gold: 75\n        },\n        isUnique: true,\n        buildTime: 75\n    },\n    {\n        id: \"siegeWorkshop\",\n        name: \"Siege Workshop\",\n        description: \"Constructs powerful Catapults.\",\n        cost: {\n            wood: 200,\n            gold: 150\n        },\n        isUnique: true,\n        buildTime: 90\n    },\n    {\n        id: \"blacksmith\",\n        name: \"Blacksmith\",\n        description: \"Researches infantry and cavalry upgrades.\",\n        cost: {\n            wood: 100,\n            gold: 100\n        },\n        isUnique: true,\n        buildTime: 45\n    },\n    {\n        id: \"watchTower\",\n        name: \"Watch Tower\",\n        description: \"Provides defense against raids.\",\n        cost: {\n            stone: 125\n        },\n        isUnique: true,\n        buildTime: 45\n    },\n    {\n        id: \"townCenter\",\n        name: \"Town Center\",\n        description: \"The heart of your settlement.\",\n        cost: {},\n        isUnique: true,\n        buildTime: 0\n    }\n];\nconst UNIT_INFO = [\n    {\n        id: \"swordsman\",\n        name: \"Swordsman\",\n        description: \"Basic melee infantry.\",\n        cost: {\n            food: 60,\n            gold: 20\n        },\n        requiredBuilding: \"barracks\",\n        trainTime: 22\n    },\n    {\n        id: \"archer\",\n        name: \"Archer\",\n        description: \"Ranged unit effective against infantry.\",\n        cost: {\n            food: 30,\n            wood: 40\n        },\n        requiredBuilding: \"archeryRange\",\n        trainTime: 25\n    },\n    {\n        id: \"knight\",\n        name: \"Knight\",\n        description: \"Fast and powerful cavalry.\",\n        cost: {\n            food: 60,\n            gold: 75\n        },\n        requiredBuilding: \"stable\",\n        trainTime: 30\n    },\n    {\n        id: \"catapult\",\n        name: \"Catapult\",\n        description: \"Siege engine devastating to buildings.\",\n        cost: {\n            wood: 150,\n            gold: 150\n        },\n        requiredBuilding: \"siegeWorkshop\",\n        trainTime: 45\n    }\n];\nconst GATHER_INFO = {\n    food: {\n        rate: 10\n    },\n    wood: {\n        rate: 8\n    },\n    gold: {\n        rate: 5\n    },\n    stone: {\n        rate: 6\n    }\n};\nconst initialBuildingsState = {\n    houses: [],\n    barracks: [],\n    archeryRange: [],\n    stable: [],\n    siegeWorkshop: [],\n    blacksmith: [],\n    watchTower: [],\n    townCenter: []\n};\nconst MAP_DIMENSIONS = {\n    width: 25,\n    height: 18\n};\nconst GamePage = ()=>{\n    var _buildings_townCenter;\n    _s();\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU);\n    const [civilization, setCivilization] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [resources, setResources] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        food: 200,\n        wood: 150,\n        gold: 50,\n        stone: 100\n    });\n    const [units, setUnits] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        villagers: [],\n        military: []\n    });\n    const [buildings, setBuildings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialBuildingsState);\n    const [currentAge, setCurrentAge] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Nomadic Age\");\n    const [gameLog, setGameLog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentEvent, setCurrentEvent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [resourceDeltas, setResourceDeltas] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [activityStatus, setActivityStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Your story begins...\");\n    const [notifications, setNotifications] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [unlimitedResources, setUnlimitedResources] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [allSaves, setAllSaves] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentSaveName, setCurrentSaveName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [playerAction, setPlayerAction] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [activeTasks, setActiveTasks] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [resourceNodes, setResourceNodes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [inventory, setInventory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // Panel States\n    const [buildPanelState, setBuildPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        villagerId: null,\n        anchorRect: null\n    });\n    const [unitManagementPanel, setUnitManagementPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        type: null,\n        anchorRect: null\n    });\n    const [buildingManagementPanel, setBuildingManagementPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        type: null,\n        anchorRect: null\n    });\n    const [allBuildingsPanel, setAllBuildingsPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const [assignmentPanelState, setAssignmentPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        targetId: null,\n        targetType: null,\n        anchorRect: null\n    });\n    const [civPanelState, setCivPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const deltaTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    const eventTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const lastTickRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(Date.now());\n    const animationFrameRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const population = {\n        current: units.villagers.length + units.military.length,\n        capacity: (((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter.length) > 0 ? 20 : 0) + buildings.houses.length * 5\n    };\n    const fetchSaves = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        const names = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllSaveNames)();\n        setAllSaves(names);\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        fetchSaves();\n    }, [\n        fetchSaves\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && civilization && currentSaveName) {\n            const fullState = {\n                civilization,\n                resources,\n                units,\n                buildings,\n                currentAge,\n                gameLog,\n                activeTasks,\n                resourceNodes,\n                inventory\n            };\n            (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.saveGameState)(currentSaveName, fullState);\n        }\n    }, [\n        civilization,\n        resources,\n        units,\n        buildings,\n        currentAge,\n        gameLog,\n        gameState,\n        currentSaveName,\n        activeTasks,\n        resourceNodes,\n        inventory\n    ]);\n    const addNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message)=>{\n        const id = \"\".concat(Date.now(), \"-\").concat(Math.random());\n        setNotifications((prev)=>[\n                {\n                    id,\n                    message\n                }\n            ]);\n    }, []);\n    const removeNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id)=>{\n        setNotifications((prev)=>prev.filter((n)=>n.id !== id));\n    }, []);\n    const addToLog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message, icon)=>{\n        setGameLog((prev)=>[\n                {\n                    id: \"\".concat(Date.now(), \"-\").concat(Math.random()),\n                    message,\n                    icon\n                },\n                ...prev.slice(0, 19)\n            ]);\n    }, []);\n    const updateResources = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((deltas)=>{\n        setResources((prev)=>{\n            const newResources = {\n                ...prev\n            };\n            for(const key in deltas){\n                const resourceKey = key;\n                var _deltas_resourceKey;\n                newResources[resourceKey] = Math.max(0, newResources[resourceKey] + ((_deltas_resourceKey = deltas[resourceKey]) !== null && _deltas_resourceKey !== void 0 ? _deltas_resourceKey : 0));\n            }\n            return newResources;\n        });\n        setResourceDeltas((prev)=>({\n                ...prev,\n                ...deltas\n            }));\n        for(const key in deltas){\n            const resourceKey = key;\n            if (deltaTimeoutRef.current[resourceKey]) {\n                window.clearTimeout(deltaTimeoutRef.current[resourceKey]);\n            }\n            deltaTimeoutRef.current[resourceKey] = window.setTimeout(()=>{\n                setResourceDeltas((prev)=>{\n                    const newDeltas = {\n                        ...prev\n                    };\n                    delete newDeltas[resourceKey];\n                    return newDeltas;\n                });\n            }, 1500);\n        }\n    }, []);\n    const handleTaskCompletion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((task)=>{\n        var _task_payload;\n        // Free up any villagers that were assigned to this task\n        if (((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.villagerIds) && task.payload.villagerIds.length > 0) {\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>task.payload.villagerIds.includes(v.id) ? {\n                            ...v,\n                            currentTask: null\n                        } : v)\n                }));\n        }\n        switch(task.type){\n            case \"build\":\n                {\n                    const { buildingType, villagerIds, position } = task.payload;\n                    const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === buildingType);\n                    const [name] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n                    const newBuilding = {\n                        id: task.id,\n                        name,\n                        position: position\n                    };\n                    setBuildings((p)=>({\n                            ...p,\n                            [buildingType]: [\n                                ...p[buildingType],\n                                newBuilding\n                            ]\n                        }));\n                    if (villagerIds && villagerIds.length > 0) {\n                        addToLog(\"\".concat(villagerIds.length, \" builder(s) have constructed \").concat(name, \", a new \").concat(buildingInfo.name, \".\"), buildingType);\n                        setActivityStatus(\"Construction of \".concat(name, \" is complete.\"));\n                    }\n                    break;\n                }\n            case \"gather\":\n                {\n                    break;\n                }\n            case \"train_villager\":\n                {\n                    const { count } = task.payload;\n                    const newVillagerNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", count);\n                    const newVillagers = newVillagerNames.map((name)=>({\n                            id: \"\".concat(Date.now(), \"-\").concat(name),\n                            name,\n                            currentTask: null\n                        }));\n                    setUnits((p)=>({\n                            ...p,\n                            villagers: [\n                                ...p.villagers,\n                                ...newVillagers\n                            ]\n                        }));\n                    addToLog(\"\".concat(count, \" new villager(s) have joined your settlement.\"), \"villager\");\n                    setActivityStatus(\"\".concat(count, \" new villager(s) are ready to work.\"));\n                    break;\n                }\n            case \"train_military\":\n                {\n                    const { unitType, count } = task.payload;\n                    const unitInfo = UNIT_INFO.find((u)=>u.id === unitType);\n                    const newUnitNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"soldier\", count);\n                    const newUnits = newUnitNames.map((name)=>({\n                            id: \"\".concat(Date.now(), \"-\").concat(unitType, \"-\").concat(name),\n                            name,\n                            title: \"\",\n                            unitType: unitType\n                        }));\n                    setUnits((p)=>({\n                            ...p,\n                            military: [\n                                ...p.military,\n                                ...newUnits\n                            ]\n                        }));\n                    addToLog(\"\".concat(count, \" \").concat(unitInfo.name, \"(s) have been trained.\"), unitType);\n                    setActivityStatus(\"\".concat(count, \" new \").concat(unitInfo.name, \"(s) are ready for battle.\"));\n                    break;\n                }\n            case \"advance_age\":\n                {\n                    const ageResult = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedAge)(currentAge);\n                    setCurrentAge(ageResult.nextAgeName);\n                    addToLog(\"You have advanced to the \".concat(ageResult.nextAgeName, \"!\"), \"age\");\n                    addToLog(ageResult.description, \"age\");\n                    setActivityStatus(\"Welcome to the \".concat(ageResult.nextAgeName, \"!\"));\n                    break;\n                }\n        }\n    }, [\n        currentAge,\n        addToLog\n    ]);\n    // Game Loop\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState !== _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING) {\n            if (animationFrameRef.current) cancelAnimationFrame(animationFrameRef.current);\n            return;\n        }\n        const gameLoop = ()=>{\n            const now = Date.now();\n            const deltaTime = now - lastTickRef.current;\n            lastTickRef.current = now;\n            let completedTasks = [];\n            let resourceDeltasThisTick = {};\n            const tasksInProgress = activeTasks.map((task)=>{\n                if (now >= task.startTime + task.duration) {\n                    completedTasks.push(task);\n                    return null;\n                }\n                if (task.type === \"gather\") {\n                    const node = resourceNodes.find((n)=>{\n                        var _task_payload;\n                        return n.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.resourceNodeId);\n                    });\n                    const assignedVillagers = units.villagers.filter((v)=>v.currentTask === task.id);\n                    const villagerCount = assignedVillagers.length;\n                    if (!node || villagerCount === 0) {\n                        completedTasks.push(task); // Orphaned or empty gather task\n                        return null;\n                    }\n                    const baseRatePerSecond = GATHER_INFO[node.type].rate;\n                    let bonusMultiplier = 1;\n                    if (civilization) {\n                        const bonusString = civilization.bonus.toLowerCase();\n                        const resourceString = node.type.toLowerCase();\n                        if (bonusString.includes(resourceString)) {\n                            const match = bonusString.match(/(\\d+)%/);\n                            if (match && match[1]) {\n                                bonusMultiplier = 1 + parseInt(match[1], 10) / 100;\n                            }\n                        }\n                    }\n                    const finalRatePerSecond = baseRatePerSecond * bonusMultiplier;\n                    const amountGatheredThisTick = finalRatePerSecond / 1000 * deltaTime * villagerCount;\n                    resourceDeltasThisTick[node.type] = (resourceDeltasThisTick[node.type] || 0) + amountGatheredThisTick;\n                }\n                return task;\n            }).filter(Boolean);\n            if (Object.keys(resourceDeltasThisTick).length > 0) {\n                updateResources(resourceDeltasThisTick);\n                setResourceNodes((prevNodes)=>{\n                    const newNodes = prevNodes.map((node)=>{\n                        const amountToDecrement = resourceDeltasThisTick[node.type];\n                        if (amountToDecrement) {\n                            const newAmount = node.amount - amountToDecrement;\n                            if (newAmount <= 0) {\n                                const taskId = \"gather-\".concat(node.id);\n                                const assigned = units.villagers.filter((v)=>v.currentTask === taskId);\n                                addToLog(\"\".concat(assigned.length, \" villager(s) depleted a \").concat(node.type, \" source, gaining \").concat(Math.floor(node.amount), \" \").concat(node.type, \".\"), node.type);\n                                setActivityStatus(\"A \".concat(node.type, \" source has been fully depleted.\"));\n                                const gatherTask = tasksInProgress.find((t)=>t.id === taskId);\n                                if (gatherTask) completedTasks.push(gatherTask);\n                                return null;\n                            }\n                            return {\n                                ...node,\n                                amount: newAmount\n                            };\n                        }\n                        return node;\n                    }).filter(Boolean);\n                    return newNodes;\n                });\n            }\n            const finalActiveTasks = tasksInProgress.filter((t)=>!completedTasks.some((ct)=>ct.id === t.id));\n            setActiveTasks(finalActiveTasks);\n            if (completedTasks.length > 0) {\n                completedTasks.forEach(handleTaskCompletion);\n            }\n            animationFrameRef.current = requestAnimationFrame(gameLoop);\n        };\n        animationFrameRef.current = requestAnimationFrame(gameLoop);\n        return ()=>{\n            if (animationFrameRef.current) cancelAnimationFrame(animationFrameRef.current);\n        };\n    }, [\n        gameState,\n        activeTasks,\n        resourceNodes,\n        handleTaskCompletion,\n        addToLog,\n        updateResources,\n        units.villagers,\n        civilization\n    ]);\n    const handleNewEvent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!civilization || currentEvent) return;\n        const event = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedGameEvent)();\n        setCurrentEvent(event);\n        setActivityStatus(\"A new event requires your attention!\");\n    }, [\n        civilization,\n        currentEvent\n    ]);\n    const scheduleNextEvent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (eventTimerRef.current) {\n            clearTimeout(eventTimerRef.current);\n        }\n        // Events should trigger every 10 to 25 seconds\n        const nextEventTime = (10 + Math.random() * 15) * 1000;\n        eventTimerRef.current = setTimeout(()=>handleNewEvent(), nextEventTime);\n    }, [\n        handleNewEvent\n    ]);\n    const generateResourceNodes = (existingPositions)=>{\n        const nodes = [];\n        const types = [\n            \"food\",\n            \"wood\",\n            \"gold\",\n            \"stone\"\n        ];\n        const numNodes = 20 + Math.floor(Math.random() * 10);\n        for(let i = 0; i < numNodes; i++){\n            let pos;\n            do {\n                pos = {\n                    x: Math.floor(Math.random() * MAP_DIMENSIONS.width),\n                    y: Math.floor(Math.random() * MAP_DIMENSIONS.height)\n                };\n            }while (existingPositions.has(\"\".concat(pos.x, \",\").concat(pos.y)));\n            existingPositions.add(\"\".concat(pos.x, \",\").concat(pos.y));\n            const type = types[Math.floor(Math.random() * types.length)];\n            const amount = Math.floor(Math.random() * (2500 - 500 + 1)) + 500;\n            nodes.push({\n                id: \"\".concat(Date.now(), \"-node-\").concat(i),\n                type,\n                position: pos,\n                amount\n            });\n        }\n        return nodes;\n    };\n    const handleStartNewGame = (saveName)=>{\n        if (allSaves.includes(saveName)) {\n            addNotification('A saga named \"'.concat(saveName, '\" already exists.'));\n            return;\n        }\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n        setCurrentSaveName(saveName);\n        const civ = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedCivilization)();\n        setCivilization(civ);\n        setResources({\n            food: 200,\n            wood: 150,\n            gold: 50,\n            stone: 100\n        });\n        const initialVillagerNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", 3);\n        const initialVillagers = initialVillagerNames.map((name)=>({\n                id: \"\".concat(Date.now(), \"-\").concat(name),\n                name,\n                currentTask: null\n            }));\n        setUnits({\n            villagers: initialVillagers,\n            military: []\n        });\n        const [initialTCName] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n        const tcPosition = {\n            x: Math.floor(MAP_DIMENSIONS.width / 2),\n            y: Math.floor(MAP_DIMENSIONS.height / 2)\n        };\n        const initialTC = {\n            id: \"\".concat(Date.now(), \"-tc\"),\n            name: initialTCName,\n            position: tcPosition\n        };\n        setBuildings({\n            ...initialBuildingsState,\n            townCenter: [\n                initialTC\n            ]\n        });\n        setResourceNodes(generateResourceNodes(new Set([\n            \"\".concat(tcPosition.x, \",\").concat(tcPosition.y)\n        ])));\n        setCurrentAge(\"Nomadic Age\");\n        setGameLog([]);\n        setCurrentEvent(null);\n        setUnlimitedResources(false);\n        setActiveTasks([]);\n        setInventory([]);\n        addToLog(\"\".concat(civ.name, \" has been founded!\"), \"system\");\n        addToLog(\"Your story begins...\", \"system\");\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING);\n        setActivityStatus(\"Your settlement awaits your command.\");\n        fetchSaves();\n    };\n    const isVillagerBusy = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((villagerId)=>{\n        const villager = units.villagers.find((v)=>v.id === villagerId);\n        return !!(villager === null || villager === void 0 ? void 0 : villager.currentTask);\n    }, [\n        units.villagers\n    ]);\n    const getVillagerTaskDetails = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((villagerId)=>{\n        const villager = units.villagers.find((v)=>v.id === villagerId);\n        if (!villager || !villager.currentTask) {\n            return \"Idle\";\n        }\n        const task = activeTasks.find((t)=>t.id === villager.currentTask);\n        if (!task) {\n            // This case can happen briefly if a task completes but state hasn't fully updated.\n            // Or it can indicate a bug if it persists.\n            return \"Idle (Finalizing Task)\";\n        }\n        if (task.type === \"build\") {\n            const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === task.payload.buildingType);\n            return \"Busy: Constructing \".concat((buildingInfo === null || buildingInfo === void 0 ? void 0 : buildingInfo.name) || \"a building\");\n        }\n        if (task.type === \"gather\") {\n            const node = resourceNodes.find((n)=>n.id === task.payload.resourceNodeId);\n            return \"Busy: Gathering \".concat((node === null || node === void 0 ? void 0 : node.type) || \"resources\");\n        }\n        return \"Idle\";\n    }, [\n        activeTasks,\n        resourceNodes,\n        units.villagers\n    ]);\n    const handleResumeGame = async (saveName)=>{\n        const savedState = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.loadGameState)(saveName);\n        if (savedState) {\n            var _savedState_units;\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n            setCurrentSaveName(saveName);\n            setCivilization(savedState.civilization);\n            setResources(savedState.resources);\n            // Migrate units data structure if necessary\n            let savedUnits = savedState.units || {\n                villagers: [],\n                military: []\n            };\n            if ((_savedState_units = savedState.units) === null || _savedState_units === void 0 ? void 0 : _savedState_units.soldiers) {\n                const migratedMilitary = savedState.units.soldiers.map((s)=>({\n                        ...s,\n                        unitType: \"swordsman\"\n                    }));\n                savedUnits = {\n                    villagers: savedUnits.villagers || [],\n                    military: migratedMilitary\n                };\n            }\n            // Migrate villagers to include currentTask\n            const migratedVillagers = savedUnits.villagers.map((v)=>({\n                    ...v,\n                    currentTask: v.currentTask !== undefined ? v.currentTask : null\n                }));\n            const migratedTasks = (savedState.activeTasks || []).map((t)=>{\n                var _t_payload;\n                if (t.type === \"build\" && !((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.villagerIds)) {\n                    return {\n                        ...t,\n                        payload: {\n                            ...t.payload,\n                            villagerIds: []\n                        }\n                    };\n                }\n                return t;\n            });\n            // Back-fill currentTask for older saves\n            migratedTasks.forEach((task)=>{\n                var _task_payload;\n                if ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.villagerIds) {\n                    task.payload.villagerIds.forEach((vid)=>{\n                        const villager = migratedVillagers.find((v)=>v.id === vid);\n                        if (villager) villager.currentTask = task.id;\n                    });\n                }\n            });\n            setUnits({\n                ...savedUnits,\n                villagers: migratedVillagers\n            });\n            let finalBuildings = {\n                ...initialBuildingsState,\n                ...savedState.buildings || {}\n            };\n            const constructionTasks = migratedTasks.filter((t)=>t.type === \"build\");\n            const occupiedCells = new Set([\n                ...Object.values(finalBuildings).flat().map((b)=>\"\".concat(b.position.x, \",\").concat(b.position.y)),\n                ...constructionTasks.map((t)=>\"\".concat(t.payload.position.x, \",\").concat(t.payload.position.y))\n            ]);\n            if (!finalBuildings.townCenter || finalBuildings.townCenter.length === 0) {\n                let tcPos = {\n                    x: 10,\n                    y: 5\n                };\n                while(occupiedCells.has(\"\".concat(tcPos.x, \",\").concat(tcPos.y))){\n                    tcPos.x++;\n                }\n                const [tcName] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n                finalBuildings.townCenter = [\n                    {\n                        id: \"\".concat(Date.now(), \"-tc\"),\n                        name: tcName,\n                        position: tcPos\n                    }\n                ];\n                occupiedCells.add(\"\".concat(tcPos.x, \",\").concat(tcPos.y));\n            }\n            const firstBuilding = Object.values(finalBuildings).flat()[0];\n            if (firstBuilding && typeof firstBuilding === \"object\" && !(\"position\" in firstBuilding)) {\n                const migrated = {\n                    ...initialBuildingsState\n                };\n                let y = 3;\n                Object.entries(finalBuildings).forEach((param)=>{\n                    let [type, instances] = param;\n                    let x = 5;\n                    instances.forEach((inst)=>{\n                        while(occupiedCells.has(\"\".concat(x, \",\").concat(y))){\n                            x++;\n                        }\n                        migrated[type].push({\n                            ...inst,\n                            position: {\n                                x,\n                                y\n                            }\n                        });\n                        occupiedCells.add(\"\".concat(x, \",\").concat(y));\n                        x++;\n                    });\n                });\n                finalBuildings = migrated;\n            }\n            setBuildings(finalBuildings);\n            const nodesToSet = (savedState.resourceNodes || []).map((n)=>({\n                    ...n,\n                    assignedVillagers: n.assignedVillagers || []\n                }));\n            if (nodesToSet.length === 0) {\n                setResourceNodes(generateResourceNodes(occupiedCells));\n            } else {\n                setResourceNodes(nodesToSet);\n            }\n            setCurrentAge(savedState.currentAge);\n            setGameLog(savedState.gameLog);\n            setActiveTasks(migratedTasks);\n            setInventory(savedState.inventory || []);\n            setCurrentEvent(null);\n            setActivityStatus(\"Welcome back to your saga.\");\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING);\n        } else {\n            addNotification('Could not find a saved game named \"'.concat(saveName, '\".'));\n        }\n    };\n    // Event Trigger Timer\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState !== _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING) return;\n        // This timer is now independent of other tasks.\n        if (!currentEvent) {\n            scheduleNextEvent();\n        } else if (eventTimerRef.current) {\n            // If an event is showing, we stop the timer until it's resolved.\n            clearTimeout(eventTimerRef.current);\n        }\n        return ()=>{\n            if (eventTimerRef.current) {\n                clearTimeout(eventTimerRef.current);\n            }\n        };\n    }, [\n        gameState,\n        currentEvent,\n        scheduleNextEvent\n    ]);\n    const handleEventChoice = (choice)=>{\n        // 1. Check and apply cost\n        if (choice.cost) {\n            const missingRes = [];\n            for(const key in choice.cost){\n                const resKey = key;\n                if (resources[resKey] < (choice.cost[resKey] || 0)) {\n                    missingRes.push(resKey);\n                }\n            }\n            if (missingRes.length > 0) {\n                addNotification(\"You lack the required resources: \".concat(missingRes.join(\", \"), \".\"));\n                return;\n            }\n            const negativeCost = {};\n            for(const key in choice.cost){\n                const resKey = key;\n                negativeCost[resKey] = -(choice.cost[resKey] || 0);\n            }\n            updateResources(negativeCost);\n        }\n        // 2. Determine success\n        const isSuccess = choice.successChance === undefined || Math.random() < choice.successChance;\n        const effects = isSuccess ? choice.successEffects : choice.failureEffects;\n        if (!effects) {\n            setCurrentEvent(null);\n            scheduleNextEvent();\n            return;\n        }\n        // 3. Construct detailed log message\n        let logMessage = 'Decision: \"'.concat(choice.text, '\".');\n        if (choice.successChance !== undefined) {\n            logMessage += \" The outcome was a \".concat(isSuccess ? \"success\" : \"failure\", \".\");\n        }\n        logMessage += \" \".concat(effects.log);\n        // 4. Apply rewards and update log\n        effects.rewards.forEach((reward)=>{\n            if (reward.type === \"resource\") {\n                let amount = 0;\n                if (Array.isArray(reward.amount)) {\n                    const [min, max] = reward.amount;\n                    amount = Math.floor(Math.random() * (max - min + 1)) + min;\n                } else {\n                    amount = reward.amount;\n                }\n                if (amount !== 0) {\n                    updateResources({\n                        [reward.resource]: amount\n                    });\n                    logMessage += \" You \".concat(amount > 0 ? \"gained\" : \"lost\", \" \").concat(Math.abs(amount), \" \").concat(reward.resource, \".\");\n                }\n            } else if (reward.type === \"item\") {\n                const itemInfo = _data_itemContent__WEBPACK_IMPORTED_MODULE_6__.GAME_ITEMS[reward.itemId];\n                if (itemInfo) {\n                    const newItems = [];\n                    for(let i = 0; i < reward.amount; i++){\n                        // Create a unique ID for each item instance\n                        newItems.push({\n                            ...itemInfo,\n                            id: \"\".concat(reward.itemId, \"-\").concat(Date.now(), \"-\").concat(i)\n                        });\n                    }\n                    setInventory((prev)=>[\n                            ...prev,\n                            ...newItems\n                        ]);\n                    logMessage += \" You received \".concat(reward.amount, \"x \").concat(itemInfo.name, \"!\");\n                }\n            }\n        });\n        // 5. Log and update UI\n        addToLog(logMessage, \"event\");\n        setActivityStatus(effects.log);\n        setCurrentEvent(null);\n        scheduleNextEvent();\n    };\n    const handleInitiateBuild = (villagerId, rect)=>{\n        if (isVillagerBusy(villagerId)) {\n            addNotification(\"This villager is already busy.\");\n            return;\n        }\n        setBuildPanelState({\n            isOpen: true,\n            villagerId,\n            anchorRect: rect\n        });\n        setUnitManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleStartPlacement = (buildingId)=>{\n        const villagerId = buildPanelState.villagerId;\n        if (!villagerId) return;\n        const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === buildingId);\n        if (!buildingInfo) return;\n        const isAlreadyConstructing = activeTasks.some((t)=>{\n            var _t_payload;\n            return t.type === \"build\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.buildingType) === buildingInfo.id;\n        });\n        if (buildingInfo.isUnique && (buildings[buildingInfo.id].length > 0 || isAlreadyConstructing)) {\n            addNotification(\"You can only build one \".concat(buildingInfo.name, \".\"));\n            return;\n        }\n        const cost = buildingInfo.cost;\n        if (!unlimitedResources) {\n            const missing = [];\n            for(const res in cost){\n                const resourceKey = res;\n                var _cost_resourceKey;\n                if (resources[resourceKey] < ((_cost_resourceKey = cost[resourceKey]) !== null && _cost_resourceKey !== void 0 ? _cost_resourceKey : 0)) {\n                    var _cost_resourceKey1;\n                    missing.push(\"\".concat(((_cost_resourceKey1 = cost[resourceKey]) !== null && _cost_resourceKey1 !== void 0 ? _cost_resourceKey1 : 0) - resources[resourceKey], \" \").concat(resourceKey));\n                }\n            }\n            if (missing.length > 0) {\n                addNotification(\"Need \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n        }\n        setPlayerAction({\n            mode: \"build\",\n            buildingType: buildingId,\n            villagerId\n        });\n        setBuildPanelState({\n            isOpen: false,\n            villagerId: null,\n            anchorRect: null\n        });\n        setActivityStatus(\"Select a location to build a \".concat(buildingInfo.name, \". Right-click to cancel.\"));\n    };\n    const handleConfirmPlacement = (position)=>{\n        if ((playerAction === null || playerAction === void 0 ? void 0 : playerAction.mode) !== \"build\") return;\n        const { buildingType, villagerId } = playerAction;\n        const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === buildingType);\n        const builder = units.villagers.find((v)=>v.id === villagerId);\n        if (!buildingInfo || !builder) return;\n        if (!unlimitedResources) {\n            const cost = buildingInfo.cost;\n            const negativeCost = {};\n            for(const resource in cost){\n                negativeCost[resource] = -(cost[resource] || 0);\n            }\n            updateResources(negativeCost);\n        }\n        const buildTime = buildingInfo.buildTime * 1000;\n        const taskId = \"\".concat(Date.now(), \"-build-\").concat(buildingType);\n        const taskPayload = {\n            buildingType,\n            villagerIds: [\n                villagerId\n            ],\n            position\n        };\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: taskId,\n                type: \"build\",\n                startTime: 0,\n                duration: 0,\n                payload: {\n                    ...taskPayload,\n                    position\n                }\n            });\n        } else {\n            const newTask = {\n                id: taskId,\n                type: \"build\",\n                startTime: Date.now(),\n                duration: buildTime,\n                payload: taskPayload\n            };\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    newTask\n                ]);\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>v.id === villagerId ? {\n                            ...v,\n                            currentTask: taskId\n                        } : v)\n                }));\n            setActivityStatus(\"\".concat(builder.name, \" has started constructing a \").concat(buildingInfo.name, \".\"));\n            addToLog(\"\".concat(builder.name, \" began construction of a new \").concat(buildingInfo.name, \".\"), buildingType);\n        }\n        setPlayerAction(null);\n    };\n    const handleCancelPlayerAction = ()=>{\n        setPlayerAction(null);\n        setActivityStatus(\"Command cancelled.\");\n    };\n    const handleDemolishBuilding = (type, id)=>{\n        var _buildings_townCenter;\n        if (activeTasks.some((t)=>{\n            var _t_payload;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.buildingId) === id;\n        })) {\n            addNotification(\"Cannot demolish a building with an active task.\");\n            return;\n        }\n        const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === type);\n        const buildingInstance = buildings[type].find((b)=>b.id === id);\n        if (!buildingInfo || !buildingInstance) return;\n        if (type === \"houses\" && population.current > (((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter.length) > 0 ? 20 : 0) + (buildings.houses.length - 1) * 5) {\n            addNotification(\"Cannot demolish this house, your people would be homeless.\");\n            return;\n        }\n        const refund = {};\n        let refundMessageParts = [];\n        for(const res in buildingInfo.cost){\n            const resourceKey = res;\n            const cost = buildingInfo.cost[resourceKey] || 0;\n            const amount = Math.floor(cost * 0.5);\n            if (amount > 0) {\n                refund[resourceKey] = amount;\n                refundMessageParts.push(\"\".concat(amount, \" \").concat(resourceKey));\n            }\n        }\n        updateResources(refund);\n        setBuildings((prev)=>({\n                ...prev,\n                [type]: prev[type].filter((b)=>b.id !== id)\n            }));\n        addToLog(\"\".concat(buildingInstance.name, \" (\").concat(buildingInfo.name, \") was demolished.\"), type);\n        if (refundMessageParts.length > 0) {\n            addNotification(\"Salvaged \".concat(refundMessageParts.join(\", \"), \".\"));\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleUpdateBuilding = (type, id, name)=>{\n        setBuildings((prev)=>({\n                ...prev,\n                [type]: prev[type].map((b)=>b.id === id ? {\n                        ...b,\n                        name\n                    } : b)\n            }));\n        addNotification(\"Building renamed.\");\n    };\n    const handleTrainVillagers = (count)=>{\n        var _buildings_townCenter;\n        if (activeTasks.some((t)=>t.type === \"train_villager\") || count <= 0) return;\n        const villagerCost = 50;\n        const totalCost = villagerCost * count;\n        if (population.current + count > population.capacity) {\n            addNotification(\"Need space for \".concat(count, \" more villagers.\"));\n            return;\n        }\n        const townCenter = (_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter[0];\n        if (!townCenter) {\n            addNotification(\"No Town Center to train villagers.\");\n            return;\n        }\n        if (!unlimitedResources) {\n            if (resources.food < totalCost) {\n                addNotification(\"Need \".concat(totalCost - resources.food, \" more Food.\"));\n                return;\n            }\n            updateResources({\n                food: -totalCost\n            });\n        }\n        const trainTime = 10000 * count; // 10s per villager\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: \"instant\",\n                type: \"train_villager\",\n                startTime: 0,\n                duration: 0,\n                payload: {\n                    count\n                }\n            });\n        } else {\n            const taskId = \"\".concat(Date.now(), \"-train-villager\");\n            const newTask = {\n                id: taskId,\n                type: \"train_villager\",\n                startTime: Date.now(),\n                duration: trainTime,\n                payload: {\n                    count,\n                    buildingId: townCenter.id\n                }\n            };\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    newTask\n                ]);\n            setActivityStatus(\"Training \".concat(count, \" villager(s)...\"));\n            addToLog(\"Began training \".concat(count, \" new villager(s).\"), \"villager\");\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleTrainUnits = (unitType, count)=>{\n        var _buildings_unitInfo_requiredBuilding;\n        const unitInfo = UNIT_INFO.find((u)=>u.id === unitType);\n        if (!unitInfo || activeTasks.some((t)=>{\n            var _t_payload;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.unitType) === unitType;\n        }) || count <= 0) return;\n        if (population.current + count > population.capacity) {\n            addNotification(\"Need space for \".concat(count, \" more units.\"));\n            return;\n        }\n        const trainingBuilding = (_buildings_unitInfo_requiredBuilding = buildings[unitInfo.requiredBuilding]) === null || _buildings_unitInfo_requiredBuilding === void 0 ? void 0 : _buildings_unitInfo_requiredBuilding[0];\n        if (!trainingBuilding) {\n            addNotification(\"No \".concat(unitInfo.requiredBuilding, \" to train units.\"));\n            return;\n        }\n        if (!unlimitedResources) {\n            const totalCost = {};\n            const missing = [];\n            for(const res in unitInfo.cost){\n                const resourceKey = res;\n                const cost = (unitInfo.cost[resourceKey] || 0) * count;\n                totalCost[resourceKey] = -cost;\n                if (resources[resourceKey] < cost) missing.push(\"\".concat(cost - resources[resourceKey], \" \").concat(resourceKey));\n            }\n            if (missing.length > 0) {\n                addNotification(\"Need \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n            updateResources(totalCost);\n        }\n        const trainTime = unitInfo.trainTime * 1000 * count;\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: \"instant\",\n                type: \"train_military\",\n                startTime: 0,\n                duration: 0,\n                payload: {\n                    unitType,\n                    count\n                }\n            });\n        } else {\n            const taskId = \"\".concat(Date.now(), \"-train-\").concat(unitType);\n            const newTask = {\n                id: taskId,\n                type: \"train_military\",\n                startTime: Date.now(),\n                duration: trainTime,\n                payload: {\n                    unitType,\n                    count,\n                    buildingId: trainingBuilding.id\n                }\n            };\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    newTask\n                ]);\n            setActivityStatus(\"Training \".concat(count, \" \").concat(unitInfo.name, \"(s)...\"));\n            addToLog(\"Began training \".concat(count, \" new \").concat(unitInfo.name, \"(s).\"), unitType);\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleDismissSpecificUnit = (type, id)=>{\n        if (type === \"villagers\" && isVillagerBusy(id)) {\n            addNotification(\"Cannot dismiss a busy villager.\");\n            return;\n        }\n        const unit = units[type].find((u)=>u.id === id);\n        if (!unit) return;\n        if (type === \"villagers\" && units.villagers.length <= 1) {\n            addNotification(\"Cannot dismiss your last villager.\");\n            return;\n        }\n        setUnits((prev)=>({\n                ...prev,\n                [type]: prev[type].filter((u)=>u.id !== id)\n            }));\n        const unitTypeName = type === \"villagers\" ? \"villager\" : unit.unitType;\n        addToLog(\"\".concat(unit.name, \" the \").concat(unitTypeName, \" has been dismissed.\"), type === \"villagers\" ? \"villager\" : unit.unitType);\n        addNotification(\"\".concat(unit.name, \" was dismissed.\"));\n    };\n    const handleUpdateUnit = (type, id, name, title)=>{\n        setUnits((prev)=>({\n                ...prev,\n                [type]: prev[type].map((u)=>{\n                    if (u.id === id) {\n                        const updatedUnit = {\n                            ...u,\n                            name\n                        };\n                        if (type === \"military\" && title !== undefined) {\n                            updatedUnit.title = title;\n                        }\n                        return updatedUnit;\n                    }\n                    return u;\n                })\n            }));\n        addNotification(\"Unit updated.\");\n    };\n    const handleAssignVillagersToNode = (nodeId, count)=>{\n        const idleVillagers = units.villagers.filter((v)=>!v.currentTask);\n        if (count <= 0) return;\n        let cappedCount = Math.min(count, idleVillagers.length);\n        if (cappedCount === 0) {\n            addNotification(\"No idle villagers available.\");\n            return;\n        }\n        const villagersToAssign = idleVillagers.slice(0, cappedCount);\n        const villagerIdsToAssign = villagersToAssign.map((v)=>v.id);\n        const targetNode = resourceNodes.find((n)=>n.id === nodeId);\n        if (!targetNode) return;\n        const taskId = \"gather-\".concat(nodeId);\n        const existingTask = activeTasks.find((t)=>t.id === taskId);\n        if (unlimitedResources) {\n            updateResources({\n                [targetNode.type]: targetNode.amount\n            });\n            addToLog(\"\".concat(cappedCount, \" villager(s) instantly gathered \").concat(Math.floor(targetNode.amount), \" \").concat(targetNode.type, \".\"), targetNode.type);\n            setResourceNodes((prev)=>prev.filter((n)=>n.id !== nodeId));\n        } else {\n            if (existingTask) {\n                setActiveTasks((prev)=>prev.map((t)=>t.id === taskId ? {\n                            ...t,\n                            payload: {\n                                ...t.payload,\n                                villagerIds: [\n                                    ...new Set([\n                                        ...t.payload.villagerIds,\n                                        ...villagerIdsToAssign\n                                    ])\n                                ]\n                            }\n                        } : t));\n            } else {\n                const newTask = {\n                    id: taskId,\n                    type: \"gather\",\n                    startTime: Date.now(),\n                    duration: 999999999,\n                    payload: {\n                        resourceNodeId: nodeId,\n                        villagerIds: villagerIdsToAssign\n                    }\n                }; // Duration is arbitrary\n                setActiveTasks((prev)=>[\n                        ...prev,\n                        newTask\n                    ]);\n            }\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>villagerIdsToAssign.includes(v.id) ? {\n                            ...v,\n                            currentTask: taskId\n                        } : v)\n                }));\n        }\n        addToLog(\"\".concat(cappedCount, \" villager(s) assigned to gather \").concat(targetNode.type, \".\"), targetNode.type);\n        setActivityStatus(\"\".concat(cappedCount, \" villager(s) are now gathering \").concat(targetNode.type, \".\"));\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleRecallVillagers = (targetId, count, type)=>{\n        if (type === \"resource\") {\n            const taskId = \"gather-\".concat(targetId);\n            const node = resourceNodes.find((n)=>n.id === targetId);\n            const assignedVillagers = units.villagers.filter((v)=>v.currentTask === taskId);\n            if (!node || assignedVillagers.length < count) return;\n            const villagersToRecall = assignedVillagers.slice(assignedVillagers.length - count).map((v)=>v.id);\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>villagersToRecall.includes(v.id) ? {\n                            ...v,\n                            currentTask: null\n                        } : v)\n                }));\n            setActiveTasks((prev)=>{\n                const taskIndex = prev.findIndex((t)=>t.id === taskId);\n                if (taskIndex === -1) return prev;\n                const task = prev[taskIndex];\n                const remainingVillagers = task.payload.villagerIds.filter((id)=>!villagersToRecall.includes(id));\n                if (remainingVillagers.length === 0) {\n                    return prev.filter((_, i)=>i !== taskIndex);\n                } else {\n                    return prev.map((t, i)=>i === taskIndex ? {\n                            ...t,\n                            payload: {\n                                ...t.payload,\n                                villagerIds: remainingVillagers\n                            }\n                        } : t);\n                }\n            });\n            addToLog(\"\".concat(count, \" villager(s) recalled from gathering \").concat(node.type, \".\"), \"villager\");\n        } else {\n            var _task_payload_villagerIds, _task_payload;\n            const task = activeTasks.find((t)=>t.id === targetId);\n            var _task_payload_villagerIds_length;\n            if (!task || task.type !== \"build\" || ((_task_payload_villagerIds_length = (_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) !== null && _task_payload_villagerIds_length !== void 0 ? _task_payload_villagerIds_length : 0) < count) return;\n            const villagersToRecall = task.payload.villagerIds.slice(task.payload.villagerIds.length - count);\n            const remainingVillagers = task.payload.villagerIds.filter((id)=>!villagersToRecall.includes(id));\n            if (remainingVillagers.length === 0) {\n                addNotification(\"Cannot recall the last builder. This would cancel the project.\");\n                return;\n            }\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>villagersToRecall.includes(v.id) ? {\n                            ...v,\n                            currentTask: null\n                        } : v)\n                }));\n            const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === task.payload.buildingType);\n            const totalWork = buildingInfo.buildTime * 1000;\n            const oldWorkerCount = task.payload.villagerIds.length;\n            const timeElapsed = Date.now() - task.startTime;\n            const workDone = timeElapsed * oldWorkerCount;\n            const workRemaining = Math.max(0, totalWork - workDone);\n            const newWorkerCount = remainingVillagers.length;\n            const newRemainingDuration = workRemaining / newWorkerCount;\n            setActiveTasks((prev)=>prev.map((t)=>t.id === targetId ? {\n                        ...t,\n                        startTime: Date.now(),\n                        duration: newRemainingDuration,\n                        payload: {\n                            ...t.payload,\n                            villagerIds: remainingVillagers\n                        }\n                    } : t));\n            addToLog(\"\".concat(count, \" villager(s) recalled from construction. Work will now proceed slower.\"), \"villager\");\n        }\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleAssignVillagersToConstruction = (constructionId, count)=>{\n        var _task_payload_villagerIds, _task_payload;\n        const idleVillagers = units.villagers.filter((v)=>!v.currentTask);\n        if (count <= 0) return;\n        let cappedCount = Math.min(count, idleVillagers.length);\n        if (cappedCount === 0) {\n            addNotification(\"No idle villagers available to assist.\");\n            return;\n        }\n        const villagersToAssign = idleVillagers.slice(0, cappedCount);\n        const villagerIdsToAssign = villagersToAssign.map((v)=>v.id);\n        const task = activeTasks.find((t)=>t.id === constructionId);\n        if (!task || task.type !== \"build\") return;\n        const buildingInfo = BUILDINGS_INFO.find((b)=>{\n            var _task_payload;\n            return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n        });\n        if (!buildingInfo) return;\n        const baseDuration = buildingInfo.buildTime * 1000;\n        const oldWorkerCount = ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 1;\n        const timeElapsed = Date.now() - task.startTime;\n        const workDone = timeElapsed * oldWorkerCount;\n        const totalWork = baseDuration;\n        const workRemaining = Math.max(0, totalWork - workDone);\n        const newWorkerCount = oldWorkerCount + cappedCount;\n        const newRemainingDuration = workRemaining / newWorkerCount;\n        const updatedVillagerIds = [\n            ...task.payload.villagerIds,\n            ...villagerIdsToAssign\n        ];\n        setUnits((prev)=>({\n                ...prev,\n                villagers: prev.villagers.map((v)=>villagerIdsToAssign.includes(v.id) ? {\n                        ...v,\n                        currentTask: constructionId\n                    } : v)\n            }));\n        setActiveTasks((prev)=>prev.map((t)=>t.id === constructionId ? {\n                    ...t,\n                    startTime: Date.now(),\n                    duration: newRemainingDuration,\n                    payload: {\n                        ...t.payload,\n                        villagerIds: updatedVillagerIds\n                    }\n                } : t));\n        addToLog(\"\".concat(cappedCount, \" villager(s) are now assisting with the \").concat(buildingInfo.name, \".\"), buildingInfo.id);\n        setActivityStatus(\"Construction of the \".concat(buildingInfo.name, \" is now faster.\"));\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleAssignVillagers = (targetId, count)=>{\n        if (assignmentPanelState.targetType === \"resource\") {\n            handleAssignVillagersToNode(targetId, count);\n        } else if (assignmentPanelState.targetType === \"construction\") {\n            handleAssignVillagersToConstruction(targetId, count);\n        }\n    };\n    const handleAdvanceAge = async ()=>{\n        if (activeTasks.some((t)=>t.type === \"advance_age\")) {\n            addNotification(\"Advancement already in progress.\");\n            return;\n        }\n        if (!unlimitedResources) {\n            if (resources.food < 500 || resources.gold < 200) {\n                const missing = [];\n                if (resources.food < 500) missing.push(\"\".concat(500 - resources.food, \" Food\"));\n                if (resources.gold < 200) missing.push(\"\".concat(200 - resources.gold, \" Gold\"));\n                addNotification(\"To advance, you need \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n            updateResources({\n                food: -500,\n                gold: -200\n            });\n        }\n        const duration = 60000;\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: \"instant\",\n                type: \"advance_age\",\n                startTime: 0,\n                duration: 0,\n                payload: {}\n            });\n        } else {\n            const taskId = \"\".concat(Date.now(), \"-advance_age\");\n            const newTask = {\n                id: taskId,\n                type: \"advance_age\",\n                startTime: Date.now(),\n                duration\n            };\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    newTask\n                ]);\n            setActivityStatus(\"Your people begin the long journey to a new age.\");\n            setBuildingManagementPanel({\n                isOpen: false,\n                type: null,\n                anchorRect: null\n            });\n        }\n    };\n    const handleExitGame = async ()=>{\n        setCurrentSaveName(null);\n        await fetchSaves();\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU);\n    };\n    const handleDeleteGame = async (saveName)=>{\n        await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.deleteGameState)(saveName);\n        await fetchSaves();\n        addNotification('Deleted saga: \"'.concat(saveName, '\"'));\n    };\n    const handleToggleUnlimitedResources = ()=>{\n        const newMode = !unlimitedResources;\n        setUnlimitedResources(newMode);\n        if (newMode) {\n            // Test mode is being turned ON\n            setResources({\n                food: 99999,\n                wood: 99999,\n                gold: 99999,\n                stone: 99999\n            });\n            addNotification(\"Test Mode: ON - All active tasks completed.\");\n            const depletedNodeIds = new Set();\n            const tasksToComplete = [\n                ...activeTasks\n            ];\n            // Clear the task queue immediately\n            setActiveTasks([]);\n            // Process and complete all previously active tasks\n            tasksToComplete.forEach((task)=>{\n                if (task.type === \"gather\") {\n                    var _task_payload;\n                    if ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.resourceNodeId) {\n                        depletedNodeIds.add(task.payload.resourceNodeId);\n                        const node = resourceNodes.find((n)=>n.id === task.payload.resourceNodeId);\n                        if (node) {\n                            addToLog(\"Instantly gathered all \".concat(node.type, \" from a depleted source.\"), node.type);\n                        }\n                    }\n                }\n                // Complete all tasks, which also handles freeing villagers\n                handleTaskCompletion(task);\n            });\n            // Remove depleted resource nodes\n            if (depletedNodeIds.size > 0) {\n                setResourceNodes((prev)=>prev.filter((n)=>!depletedNodeIds.has(n.id)));\n            }\n        } else {\n            // Test mode is being turned OFF\n            addNotification(\"Test Mode: OFF\");\n        }\n    };\n    const buildingCounts = Object.keys(buildings).reduce((acc, key)=>{\n        const buildingType = key;\n        acc[buildingType] = buildings[buildingType].length;\n        return acc;\n    }, {});\n    const idleVillagerCount = units.villagers.filter((v)=>!v.currentTask).length;\n    const assignmentTarget = assignmentPanelState.targetType === \"resource\" ? resourceNodes.find((n)=>n.id === assignmentPanelState.targetId) : activeTasks.find((t)=>t.type === \"build\" && t.id === assignmentPanelState.targetId);\n    const closeAllPanels = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setUnitManagementPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                type: null,\n                anchorRect: null\n            } : p);\n        setBuildingManagementPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                type: null,\n                instanceId: undefined,\n                anchorRect: null\n            } : p);\n        setBuildPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                villagerId: null,\n                anchorRect: null\n            } : p);\n        setAssignmentPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                targetId: null,\n                targetType: null,\n                anchorRect: null\n            } : p);\n        setCivPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n        setAllBuildingsPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n    }, []);\n    const handleOpenBuildingPanel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((type, instanceId, rect)=>{\n        closeAllPanels();\n        setBuildingManagementPanel({\n            isOpen: true,\n            type,\n            instanceId,\n            anchorRect: rect\n        });\n    }, [\n        closeAllPanels\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClickOutside = (event)=>{\n            if (currentEvent) return; // Don't close panels if event modal is open\n            const isAnyPanelOpen = unitManagementPanel.isOpen || buildingManagementPanel.isOpen || buildPanelState.isOpen || assignmentPanelState.isOpen || civPanelState.isOpen || allBuildingsPanel.isOpen;\n            if (!isAnyPanelOpen) {\n                return;\n            }\n            const target = event.target;\n            if (target.closest(\".sci-fi-panel-popup\")) {\n                return;\n            }\n            closeAllPanels();\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>{\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n    }, [\n        unitManagementPanel.isOpen,\n        buildingManagementPanel.isOpen,\n        buildPanelState.isOpen,\n        assignmentPanelState.isOpen,\n        civPanelState.isOpen,\n        allBuildingsPanel.isOpen,\n        closeAllPanels,\n        currentEvent\n    ]);\n    const renderContent = ()=>{\n        switch(gameState){\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StartScreen__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                    onNewGame: handleStartNewGame,\n                    onResumeGame: handleResumeGame,\n                    savedGames: allSaves,\n                    onDeleteGame: handleDeleteGame\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 1092,\n                    columnNumber: 24\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 1094,\n                    columnNumber: 24\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING:\n                if (!civilization) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 1096,\n                    columnNumber: 43\n                }, undefined);\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_GameUI__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                            civilization: civilization,\n                            resources: resources,\n                            units: units,\n                            buildings: buildings,\n                            population: population,\n                            currentAge: currentAge,\n                            gameLog: gameLog,\n                            resourceDeltas: resourceDeltas,\n                            activityStatus: activityStatus,\n                            unitList: UNIT_INFO,\n                            buildingList: BUILDINGS_INFO,\n                            onOpenUnitPanel: (type, rect)=>{\n                                closeAllPanels();\n                                setUnitManagementPanel({\n                                    isOpen: true,\n                                    type,\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenBuildingPanel: handleOpenBuildingPanel,\n                            onOpenAllBuildingsPanel: (rect)=>{\n                                closeAllPanels();\n                                setAllBuildingsPanel({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            playerAction: playerAction,\n                            onConfirmPlacement: handleConfirmPlacement,\n                            onCancelPlayerAction: handleCancelPlayerAction,\n                            onBuildingClick: (building, rect)=>{\n                                closeAllPanels();\n                                const type = Object.keys(buildings).find((key)=>buildings[key].some((b)=>b.id === building.id));\n                                if (type) setBuildingManagementPanel({\n                                    isOpen: true,\n                                    type,\n                                    instanceId: building.id,\n                                    anchorRect: rect\n                                });\n                            },\n                            mapDimensions: MAP_DIMENSIONS,\n                            activeTasks: activeTasks,\n                            onExitGame: handleExitGame,\n                            onOpenCivPanel: (rect)=>{\n                                closeAllPanels();\n                                setCivPanelState({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            resourceNodes: resourceNodes,\n                            onOpenAssignmentPanel: (nodeId, rect)=>{\n                                closeAllPanels();\n                                setAssignmentPanelState({\n                                    isOpen: true,\n                                    targetId: nodeId,\n                                    targetType: \"resource\",\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenConstructionPanel: (constructionId, rect)=>{\n                                closeAllPanels();\n                                setAssignmentPanelState({\n                                    isOpen: true,\n                                    targetId: constructionId,\n                                    targetType: \"construction\",\n                                    anchorRect: rect\n                                });\n                            },\n                            gatherInfo: GATHER_INFO,\n                            currentEvent: currentEvent,\n                            onEventChoice: handleEventChoice\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1099,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BuildPanel__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                            isOpen: buildPanelState.isOpen,\n                            onClose: ()=>setBuildPanelState({\n                                    isOpen: false,\n                                    villagerId: null,\n                                    anchorRect: null\n                                }),\n                            onStartPlacement: handleStartPlacement,\n                            resources: resources,\n                            buildingCounts: buildingCounts,\n                            buildingList: BUILDINGS_INFO,\n                            anchorRect: buildPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1133,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_UnitManagementPanel__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                            isOpen: unitManagementPanel.isOpen,\n                            onClose: ()=>setUnitManagementPanel({\n                                    isOpen: false,\n                                    type: null,\n                                    anchorRect: null\n                                }),\n                            type: unitManagementPanel.type,\n                            units: units,\n                            onUpdateUnit: handleUpdateUnit,\n                            onDismissUnit: handleDismissSpecificUnit,\n                            onInitiateBuild: (villagerId, rect)=>{\n                                closeAllPanels();\n                                handleInitiateBuild(villagerId, rect);\n                            },\n                            getVillagerTaskDetails: getVillagerTaskDetails,\n                            anchorRect: unitManagementPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1142,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BuildingManagementPanel__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                            isOpen: buildingManagementPanel.isOpen,\n                            onClose: ()=>setBuildingManagementPanel({\n                                    isOpen: false,\n                                    type: null,\n                                    anchorRect: null\n                                }),\n                            panelState: buildingManagementPanel,\n                            buildings: buildings,\n                            buildingList: BUILDINGS_INFO,\n                            onUpdateBuilding: handleUpdateBuilding,\n                            onDemolishBuilding: handleDemolishBuilding,\n                            onTrainUnits: handleTrainUnits,\n                            onTrainVillagers: handleTrainVillagers,\n                            resources: resources,\n                            population: population,\n                            unitList: UNIT_INFO,\n                            onAdvanceAge: handleAdvanceAge,\n                            activeTasks: activeTasks,\n                            anchorRect: buildingManagementPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1153,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ResourceAssignmentPanel__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                            isOpen: assignmentPanelState.isOpen,\n                            onClose: ()=>setAssignmentPanelState({\n                                    isOpen: false,\n                                    targetId: null,\n                                    targetType: null,\n                                    anchorRect: null\n                                }),\n                            assignmentTarget: assignmentTarget || null,\n                            idleVillagerCount: idleVillagerCount,\n                            onAssignVillagers: handleAssignVillagers,\n                            onRecallVillagers: handleRecallVillagers,\n                            gatherInfo: GATHER_INFO,\n                            buildingList: BUILDINGS_INFO,\n                            units: units,\n                            anchorRect: assignmentPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1170,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CivilizationPanel__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                            isOpen: civPanelState.isOpen,\n                            onClose: ()=>setCivPanelState({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            civilization: civilization,\n                            anchorRect: civPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1182,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AllBuildingsPanel__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                            isOpen: allBuildingsPanel.isOpen,\n                            onClose: ()=>setAllBuildingsPanel({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            buildingList: BUILDINGS_INFO,\n                            buildingCounts: buildingCounts,\n                            activeTasks: activeTasks,\n                            onOpenBuildingPanel: handleOpenBuildingPanel,\n                            anchorRect: allBuildingsPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1188,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true);\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StartScreen__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                    onNewGame: handleStartNewGame,\n                    onResumeGame: handleResumeGame,\n                    savedGames: allSaves,\n                    onDeleteGame: handleDeleteGame\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 1200,\n                    columnNumber: 24\n                }, undefined);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-stone-dark flex items-center justify-center p-4\",\n        children: [\n            gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handleToggleUnlimitedResources,\n                className: \"fixed bottom-4 left-4 z-[101] bg-brand-gold text-stone-dark font-bold py-1 px-3 rounded-full text-xs shadow-lg hover:scale-105 transition-transform\",\n                \"aria-label\": \"Toggle unlimited resources test mode\",\n                children: [\n                    \"Test Mode: \",\n                    unlimitedResources ? \"ON\" : \"OFF\"\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 1207,\n                columnNumber: 18\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_NotificationManager__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                notifications: notifications,\n                onRemoveNotification: removeNotification\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 1215,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"w-full max-w-7xl mx-auto\",\n                children: renderContent()\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 1216,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/src/app/page.tsx\",\n        lineNumber: 1205,\n        columnNumber: 9\n    }, undefined);\n};\n_s(GamePage, \"0F51dcV4wgJqluPfz+/ObhC5gXg=\");\n_c = GamePage;\n/* harmony default export */ __webpack_exports__[\"default\"] = (GamePage);\nvar _c;\n$RefreshReg$(_c, \"GamePage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0JBQ0VDLFNBQVN6RDtnQkFDVHVELFdBQVU7Z0JBQ1ZHLGNBQVc7O29CQUNkO29CQUNlcFUscUJBQXFCLE9BQU87Ozs7Ozs7MEJBR2hELDhEQUFDNUQsd0VBQW1CQTtnQkFBQzBELGVBQWVBO2dCQUFldVUsc0JBQXNCbFI7Ozs7OzswQkFDekUsOERBQUNtUjtnQkFBS0wsV0FBVTswQkFDWG5DOzs7Ozs7Ozs7Ozs7QUFJakI7R0FqcENNeFQ7S0FBQUE7QUFtcENOLCtEQUFlQSxRQUFRQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcHAvcGFnZS50c3g/ZjY4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbid1c2UgY2xpZW50JztcblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBHYW1lU3RhdHVzLCB0eXBlIENpdmlsaXphdGlvbiwgdHlwZSBSZXNvdXJjZXMsIHR5cGUgVW5pdHMsIHR5cGUgQnVpbGRpbmdzLCB0eXBlIEdhbWVFdmVudCwgdHlwZSBHYW1lTG9nRW50cnksIHR5cGUgTG9nSWNvblR5cGUsIHR5cGUgUmVzb3VyY2VEZWx0YXMsIEJ1aWxkaW5nVHlwZSwgQnVpbGRpbmdJbmZvLCBVSU5vdGlmaWNhdGlvbiwgRnVsbEdhbWVTdGF0ZSwgVmlsbGFnZXIsIE1pbGl0YXJ5VW5pdCwgVW5pdEluZm8sIE1pbGl0YXJ5VW5pdFR5cGUsIEdhbWVUYXNrLCBUYXNrVHlwZSwgUmVzb3VyY2VOb2RlLCBSZXNvdXJjZU5vZGVUeXBlLCBQbGF5ZXJBY3Rpb25TdGF0ZSwgR2FtZUV2ZW50Q2hvaWNlLCBHYW1lSXRlbSwgUmV3YXJkIH0gZnJvbSAnQC90eXBlcyc7XG5pbXBvcnQgeyBnZXRQcmVkZWZpbmVkQ2l2aWxpemF0aW9uLCBnZXRQcmVkZWZpbmVkR2FtZUV2ZW50LCBnZXRQcmVkZWZpbmVkQWdlIH0gZnJvbSAnQC9zZXJ2aWNlcy9nZW1pbmlTZXJ2aWNlJztcbmltcG9ydCB7IHNhdmVHYW1lU3RhdGUsIGxvYWRHYW1lU3RhdGUsIGdldEFsbFNhdmVOYW1lcywgZGVsZXRlR2FtZVN0YXRlIH0gZnJvbSAnQC9zZXJ2aWNlcy9kYlNlcnZpY2UnO1xuaW1wb3J0IHsgZ2V0UmFuZG9tTmFtZXMgfSBmcm9tICdAL3NlcnZpY2VzL25hbWVTZXJ2aWNlJztcbmltcG9ydCB7IEdBTUVfSVRFTVMgfSBmcm9tICdAL2RhdGEvaXRlbUNvbnRlbnQnO1xuaW1wb3J0IEdhbWVVSSBmcm9tICdAL2NvbXBvbmVudHMvR2FtZVVJJztcbmltcG9ydCBTdGFydFNjcmVlbiBmcm9tICdAL2NvbXBvbmVudHMvU3RhcnRTY3JlZW4nO1xuaW1wb3J0IExvYWRpbmdTY3JlZW4gZnJvbSAnQC9jb21wb25lbnRzL0xvYWRpbmdTY3JlZW4nO1xuaW1wb3J0IEJ1aWxkUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL0J1aWxkUGFuZWwnO1xuaW1wb3J0IE5vdGlmaWNhdGlvbk1hbmFnZXIgZnJvbSAnQC9jb21wb25lbnRzL05vdGlmaWNhdGlvbk1hbmFnZXInO1xuaW1wb3J0IFVuaXRNYW5hZ2VtZW50UGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL1VuaXRNYW5hZ2VtZW50UGFuZWwnO1xuaW1wb3J0IEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9CdWlsZGluZ01hbmFnZW1lbnRQYW5lbCc7XG5pbXBvcnQgUmVzb3VyY2VBc3NpZ25tZW50UGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL1Jlc291cmNlQXNzaWdubWVudFBhbmVsJztcbmltcG9ydCBDaXZpbGl6YXRpb25QYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvQ2l2aWxpemF0aW9uUGFuZWwnO1xuaW1wb3J0IEFsbEJ1aWxkaW5nc1BhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9BbGxCdWlsZGluZ3NQYW5lbCc7XG5cbmNvbnN0IEJVSUxESU5HU19JTkZPOiBCdWlsZGluZ0luZm9bXSA9IFtcbiAgICB7IGlkOiAnaG91c2VzJywgbmFtZTogJ0hvdXNlJywgZGVzY3JpcHRpb246ICdJbmNyZWFzZXMgcG9wdWxhdGlvbiBjYXBhY2l0eSBieSA1LicsIGNvc3Q6IHsgd29vZDogNTAgfSwgaXNVbmlxdWU6IGZhbHNlLCBidWlsZFRpbWU6IDE1IH0sXG4gICAgeyBpZDogJ2JhcnJhY2tzJywgbmFtZTogJ0JhcnJhY2tzJywgZGVzY3JpcHRpb246ICdBbGxvd3MgdHJhaW5pbmcgb2YgU3dvcmRzbWVuLicsIGNvc3Q6IHsgd29vZDogMTUwLCBzdG9uZTogNTAgfSwgaXNVbmlxdWU6IHRydWUsIGJ1aWxkVGltZTogNjAgfSxcbiAgICB7IGlkOiAnYXJjaGVyeVJhbmdlJywgbmFtZTogJ0FyY2hlcnkgUmFuZ2UnLCBkZXNjcmlwdGlvbjogJ0FsbG93cyB0cmFpbmluZyBvZiBBcmNoZXJzLicsIGNvc3Q6IHsgd29vZDogMTc1IH0sIGlzVW5pcXVlOiB0cnVlLCBidWlsZFRpbWU6IDYwIH0sXG4gICAgeyBpZDogJ3N0YWJsZScsIG5hbWU6ICdTdGFibGVzJywgZGVzY3JpcHRpb246ICdBbGxvd3MgdHJhaW5pbmcgb2YgS25pZ2h0cy4nLCBjb3N0OiB7IHdvb2Q6IDE3NSwgZ29sZDogNzUgfSwgaXNVbmlxdWU6IHRydWUsIGJ1aWxkVGltZTogNzUgfSxcbiAgICB7IGlkOiAnc2llZ2VXb3Jrc2hvcCcsIG5hbWU6ICdTaWVnZSBXb3Jrc2hvcCcsIGRlc2NyaXB0aW9uOiAnQ29uc3RydWN0cyBwb3dlcmZ1bCBDYXRhcHVsdHMuJywgY29zdDogeyB3b29kOiAyMDAsIGdvbGQ6IDE1MCB9LCBpc1VuaXF1ZTogdHJ1ZSwgYnVpbGRUaW1lOiA5MCB9LFxuICAgIHsgaWQ6ICdibGFja3NtaXRoJywgbmFtZTogJ0JsYWNrc21pdGgnLCBkZXNjcmlwdGlvbjogJ1Jlc2VhcmNoZXMgaW5mYW50cnkgYW5kIGNhdmFscnkgdXBncmFkZXMuJywgY29zdDogeyB3b29kOiAxMDAsIGdvbGQ6IDEwMCB9LCBpc1VuaXF1ZTogdHJ1ZSwgYnVpbGRUaW1lOiA0NSB9LFxuICAgIHsgaWQ6ICd3YXRjaFRvd2VyJywgbmFtZTogJ1dhdGNoIFRvd2VyJywgZGVzY3JpcHRpb246ICdQcm92aWRlcyBkZWZlbnNlIGFnYWluc3QgcmFpZHMuJywgY29zdDogeyBzdG9uZTogMTI1IH0sIGlzVW5pcXVlOiB0cnVlLCBidWlsZFRpbWU6IDQ1IH0sXG4gICAgeyBpZDogJ3Rvd25DZW50ZXInLCBuYW1lOiAnVG93biBDZW50ZXInLCBkZXNjcmlwdGlvbjogJ1RoZSBoZWFydCBvZiB5b3VyIHNldHRsZW1lbnQuJywgY29zdDoge30sIGlzVW5pcXVlOiB0cnVlLCBidWlsZFRpbWU6IDAgfVxuXTtcblxuY29uc3QgVU5JVF9JTkZPOiBVbml0SW5mb1tdID0gW1xuICAgIHsgaWQ6ICdzd29yZHNtYW4nLCBuYW1lOiAnU3dvcmRzbWFuJywgZGVzY3JpcHRpb246ICdCYXNpYyBtZWxlZSBpbmZhbnRyeS4nLCBjb3N0OiB7IGZvb2Q6IDYwLCBnb2xkOiAyMCB9LCByZXF1aXJlZEJ1aWxkaW5nOiAnYmFycmFja3MnLCB0cmFpblRpbWU6IDIyIH0sXG4gICAgeyBpZDogJ2FyY2hlcicsIG5hbWU6ICdBcmNoZXInLCBkZXNjcmlwdGlvbjogJ1JhbmdlZCB1bml0IGVmZmVjdGl2ZSBhZ2FpbnN0IGluZmFudHJ5LicsIGNvc3Q6IHsgZm9vZDogMzAsIHdvb2Q6IDQwIH0sIHJlcXVpcmVkQnVpbGRpbmc6ICdhcmNoZXJ5UmFuZ2UnLCB0cmFpblRpbWU6IDI1IH0sXG4gICAgeyBpZDogJ2tuaWdodCcsIG5hbWU6ICdLbmlnaHQnLCBkZXNjcmlwdGlvbjogJ0Zhc3QgYW5kIHBvd2VyZnVsIGNhdmFscnkuJywgY29zdDogeyBmb29kOiA2MCwgZ29sZDogNzUgfSwgcmVxdWlyZWRCdWlsZGluZzogJ3N0YWJsZScsIHRyYWluVGltZTogMzAgfSxcbiAgICB7IGlkOiAnY2F0YXB1bHQnLCBuYW1lOiAnQ2F0YXB1bHQnLCBkZXNjcmlwdGlvbjogJ1NpZWdlIGVuZ2luZSBkZXZhc3RhdGluZyB0byBidWlsZGluZ3MuJywgY29zdDogeyB3b29kOiAxNTAsIGdvbGQ6IDE1MCB9LCByZXF1aXJlZEJ1aWxkaW5nOiAnc2llZ2VXb3Jrc2hvcCcsIHRyYWluVGltZTogNDUgfSxcbl07XG5cbmNvbnN0IEdBVEhFUl9JTkZPOiBSZWNvcmQ8UmVzb3VyY2VOb2RlVHlwZSwgeyByYXRlOiBudW1iZXIgfT4gPSB7XG4gICAgZm9vZDogeyByYXRlOiAxMCB9LFxuICAgIHdvb2Q6IHsgcmF0ZTogOCB9LFxuICAgIGdvbGQ6IHsgcmF0ZTogNSB9LFxuICAgIHN0b25lOiB7IHJhdGU6IDYgfSxcbn1cblxuY29uc3QgaW5pdGlhbEJ1aWxkaW5nc1N0YXRlOiBCdWlsZGluZ3MgPSB7XG4gICAgaG91c2VzOiBbXSwgYmFycmFja3M6IFtdLCBhcmNoZXJ5UmFuZ2U6IFtdLCBzdGFibGU6IFtdLCBzaWVnZVdvcmtzaG9wOiBbXSwgYmxhY2tzbWl0aDogW10sIHdhdGNoVG93ZXI6IFtdLCB0b3duQ2VudGVyOiBbXVxufTtcblxuY29uc3QgTUFQX0RJTUVOU0lPTlMgPSB7IHdpZHRoOiAyNSwgaGVpZ2h0OiAxOCB9O1xuXG5jb25zdCBHYW1lUGFnZTogUmVhY3QuRkMgPSAoKSA9PiB7XG4gICAgY29uc3QgW2dhbWVTdGF0ZSwgc2V0R2FtZVN0YXRlXSA9IHVzZVN0YXRlPEdhbWVTdGF0dXM+KEdhbWVTdGF0dXMuTUVOVSk7XG4gICAgY29uc3QgW2NpdmlsaXphdGlvbiwgc2V0Q2l2aWxpemF0aW9uXSA9IHVzZVN0YXRlPENpdmlsaXphdGlvbiB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFtyZXNvdXJjZXMsIHNldFJlc291cmNlc10gPSB1c2VTdGF0ZTxSZXNvdXJjZXM+KHsgZm9vZDogMjAwLCB3b29kOiAxNTAsIGdvbGQ6IDUwLCBzdG9uZTogMTAwIH0pO1xuICAgIGNvbnN0IFt1bml0cywgc2V0VW5pdHNdID0gdXNlU3RhdGU8VW5pdHM+KHsgdmlsbGFnZXJzOiBbXSwgbWlsaXRhcnk6IFtdIH0pO1xuICAgIGNvbnN0IFtidWlsZGluZ3MsIHNldEJ1aWxkaW5nc10gPSB1c2VTdGF0ZTxCdWlsZGluZ3M+KGluaXRpYWxCdWlsZGluZ3NTdGF0ZSk7XG4gICAgY29uc3QgW2N1cnJlbnRBZ2UsIHNldEN1cnJlbnRBZ2VdID0gdXNlU3RhdGU8c3RyaW5nPignTm9tYWRpYyBBZ2UnKTtcbiAgICBjb25zdCBbZ2FtZUxvZywgc2V0R2FtZUxvZ10gPSB1c2VTdGF0ZTxHYW1lTG9nRW50cnlbXT4oW10pO1xuICAgIGNvbnN0IFtjdXJyZW50RXZlbnQsIHNldEN1cnJlbnRFdmVudF0gPSB1c2VTdGF0ZTxHYW1lRXZlbnQgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbcmVzb3VyY2VEZWx0YXMsIHNldFJlc291cmNlRGVsdGFzXSA9IHVzZVN0YXRlPFJlc291cmNlRGVsdGFzPih7fSk7XG4gICAgY29uc3QgW2FjdGl2aXR5U3RhdHVzLCBzZXRBY3Rpdml0eVN0YXR1c10gPSB1c2VTdGF0ZTxzdHJpbmc+KCdZb3VyIHN0b3J5IGJlZ2lucy4uLicpO1xuICAgIGNvbnN0IFtub3RpZmljYXRpb25zLCBzZXROb3RpZmljYXRpb25zXSA9IHVzZVN0YXRlPFVJTm90aWZpY2F0aW9uW10+KFtdKTtcbiAgICBjb25zdCBbdW5saW1pdGVkUmVzb3VyY2VzLCBzZXRVbmxpbWl0ZWRSZXNvdXJjZXNdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICAgIGNvbnN0IFthbGxTYXZlcywgc2V0QWxsU2F2ZXNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgICBjb25zdCBbY3VycmVudFNhdmVOYW1lLCBzZXRDdXJyZW50U2F2ZU5hbWVdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW3BsYXllckFjdGlvbiwgc2V0UGxheWVyQWN0aW9uXSA9IHVzZVN0YXRlPFBsYXllckFjdGlvblN0YXRlPihudWxsKTtcbiAgICBjb25zdCBbYWN0aXZlVGFza3MsIHNldEFjdGl2ZVRhc2tzXSA9IHVzZVN0YXRlPEdhbWVUYXNrW10+KFtdKTtcbiAgICBjb25zdCBbcmVzb3VyY2VOb2Rlcywgc2V0UmVzb3VyY2VOb2Rlc10gPSB1c2VTdGF0ZTxSZXNvdXJjZU5vZGVbXT4oW10pO1xuICAgIGNvbnN0IFtpbnZlbnRvcnksIHNldEludmVudG9yeV0gPSB1c2VTdGF0ZTxHYW1lSXRlbVtdPihbXSk7XG4gICAgXG4gICAgLy8gUGFuZWwgU3RhdGVzXG4gICAgY29uc3QgW2J1aWxkUGFuZWxTdGF0ZSwgc2V0QnVpbGRQYW5lbFN0YXRlXSA9IHVzZVN0YXRlPHsgaXNPcGVuOiBib29sZWFuOyB2aWxsYWdlcklkOiBzdHJpbmcgfCBudWxsOyBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbCB9Pih7IGlzT3BlbjogZmFsc2UsIHZpbGxhZ2VySWQ6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgY29uc3QgW3VuaXRNYW5hZ2VtZW50UGFuZWwsIHNldFVuaXRNYW5hZ2VtZW50UGFuZWxdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IHR5cGU6ICd2aWxsYWdlcnMnIHwgJ21pbGl0YXJ5JyB8IG51bGw7IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsOyB9Pih7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgY29uc3QgW2J1aWxkaW5nTWFuYWdlbWVudFBhbmVsLCBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbF0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgdHlwZTogQnVpbGRpbmdUeXBlIHwgbnVsbDsgaW5zdGFuY2VJZD86IHN0cmluZzsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7IH0+KHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICBjb25zdCBbYWxsQnVpbGRpbmdzUGFuZWwsIHNldEFsbEJ1aWxkaW5nc1BhbmVsXSA9IHVzZVN0YXRlPHsgaXNPcGVuOiBib29sZWFuOyBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbDsgfT4oeyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIGNvbnN0IFthc3NpZ25tZW50UGFuZWxTdGF0ZSwgc2V0QXNzaWdubWVudFBhbmVsU3RhdGVdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IHRhcmdldElkOiBzdHJpbmcgfCBudWxsOyB0YXJnZXRUeXBlOiAncmVzb3VyY2UnIHwgJ2NvbnN0cnVjdGlvbicgfCBudWxsOyBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbDsgfT4oeyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICBjb25zdCBbY2l2UGFuZWxTdGF0ZSwgc2V0Q2l2UGFuZWxTdGF0ZV0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7IH0+KHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9KTtcblxuICAgIGNvbnN0IGRlbHRhVGltZW91dFJlZiA9IHVzZVJlZjx7IFtrZXkgaW4ga2V5b2YgUmVzb3VyY2VzXT86IG51bWJlciB9Pih7fSk7XG4gICAgY29uc3QgZXZlbnRUaW1lclJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IGxhc3RUaWNrUmVmID0gdXNlUmVmPG51bWJlcj4oRGF0ZS5ub3coKSk7XG4gICAgY29uc3QgYW5pbWF0aW9uRnJhbWVSZWYgPSB1c2VSZWY8bnVtYmVyPigpO1xuXG4gICAgY29uc3QgcG9wdWxhdGlvbiA9IHtcbiAgICAgICAgY3VycmVudDogdW5pdHMudmlsbGFnZXJzLmxlbmd0aCArIHVuaXRzLm1pbGl0YXJ5Lmxlbmd0aCxcbiAgICAgICAgY2FwYWNpdHk6IChidWlsZGluZ3MudG93bkNlbnRlcj8ubGVuZ3RoID4gMCA/IDIwIDogMCkgKyBidWlsZGluZ3MuaG91c2VzLmxlbmd0aCAqIDUsXG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBmZXRjaFNhdmVzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBuYW1lcyA9IGF3YWl0IGdldEFsbFNhdmVOYW1lcygpO1xuICAgICAgICBzZXRBbGxTYXZlcyhuYW1lcyk7XG4gICAgfSwgW10pO1xuICAgIFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGZldGNoU2F2ZXMoKTtcbiAgICB9LCBbZmV0Y2hTYXZlc10pO1xuICAgIFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChnYW1lU3RhdGUgPT09IEdhbWVTdGF0dXMuUExBWUlORyAmJiBjaXZpbGl6YXRpb24gJiYgY3VycmVudFNhdmVOYW1lKSB7XG4gICAgICAgICAgICBjb25zdCBmdWxsU3RhdGU6IEZ1bGxHYW1lU3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgY2l2aWxpemF0aW9uLFxuICAgICAgICAgICAgICAgIHJlc291cmNlcyxcbiAgICAgICAgICAgICAgICB1bml0cyxcbiAgICAgICAgICAgICAgICBidWlsZGluZ3MsXG4gICAgICAgICAgICAgICAgY3VycmVudEFnZSxcbiAgICAgICAgICAgICAgICBnYW1lTG9nLFxuICAgICAgICAgICAgICAgIGFjdGl2ZVRhc2tzLFxuICAgICAgICAgICAgICAgIHJlc291cmNlTm9kZXMsXG4gICAgICAgICAgICAgICAgaW52ZW50b3J5LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNhdmVHYW1lU3RhdGUoY3VycmVudFNhdmVOYW1lLCBmdWxsU3RhdGUpO1xuICAgICAgICB9XG4gICAgfSwgW2NpdmlsaXphdGlvbiwgcmVzb3VyY2VzLCB1bml0cywgYnVpbGRpbmdzLCBjdXJyZW50QWdlLCBnYW1lTG9nLCBnYW1lU3RhdGUsIGN1cnJlbnRTYXZlTmFtZSwgYWN0aXZlVGFza3MsIHJlc291cmNlTm9kZXMsIGludmVudG9yeV0pO1xuXG4gICAgY29uc3QgYWRkTm90aWZpY2F0aW9uID0gdXNlQ2FsbGJhY2soKG1lc3NhZ2U6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBpZCA9IGAke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKX1gO1xuICAgICAgICBzZXROb3RpZmljYXRpb25zKHByZXYgPT4gW3sgaWQsIG1lc3NhZ2UgfV0pO1xuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IHJlbW92ZU5vdGlmaWNhdGlvbiA9IHVzZUNhbGxiYWNrKChpZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIHNldE5vdGlmaWNhdGlvbnMocHJldiA9PiBwcmV2LmZpbHRlcihuID0+IG4uaWQgIT09IGlkKSk7XG4gICAgfSwgW10pO1xuICAgIFxuICAgIGNvbnN0IGFkZFRvTG9nID0gdXNlQ2FsbGJhY2soKG1lc3NhZ2U6IHN0cmluZywgaWNvbjogTG9nSWNvblR5cGUpID0+IHtcbiAgICAgICAgc2V0R2FtZUxvZyhwcmV2ID0+IFt7IGlkOiBgJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCl9YCwgbWVzc2FnZSwgaWNvbiB9LCAuLi5wcmV2LnNsaWNlKDAsIDE5KV0pO1xuICAgIH0sIFtdKTtcbiAgICBcbiAgICBjb25zdCB1cGRhdGVSZXNvdXJjZXMgPSB1c2VDYWxsYmFjaygoZGVsdGFzOiBSZXNvdXJjZURlbHRhcykgPT4ge1xuICAgICAgICBzZXRSZXNvdXJjZXMocHJldiA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXdSZXNvdXJjZXMgPSB7IC4uLnByZXYgfTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRlbHRhcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc291cmNlS2V5ID0ga2V5IGFzIGtleW9mIFJlc291cmNlcztcbiAgICAgICAgICAgICAgICBuZXdSZXNvdXJjZXNbcmVzb3VyY2VLZXldID0gTWF0aC5tYXgoMCwgbmV3UmVzb3VyY2VzW3Jlc291cmNlS2V5XSArIChkZWx0YXNbcmVzb3VyY2VLZXldID8/IDApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXdSZXNvdXJjZXM7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNldFJlc291cmNlRGVsdGFzKHByZXYgPT4gKHsuLi5wcmV2LCAuLi5kZWx0YXN9KSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGVsdGFzKSB7XG4gICAgICAgICAgICBjb25zdCByZXNvdXJjZUtleSA9IGtleSBhcyBrZXlvZiBSZXNvdXJjZXM7XG4gICAgICAgICAgICBpZiAoZGVsdGFUaW1lb3V0UmVmLmN1cnJlbnRbcmVzb3VyY2VLZXldKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChkZWx0YVRpbWVvdXRSZWYuY3VycmVudFtyZXNvdXJjZUtleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsdGFUaW1lb3V0UmVmLmN1cnJlbnRbcmVzb3VyY2VLZXldID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFJlc291cmNlRGVsdGFzKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdEZWx0YXMgPSB7Li4ucHJldn07XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBuZXdEZWx0YXNbcmVzb3VyY2VLZXldO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3RGVsdGFzO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgMTUwMCk7XG4gICAgICAgIH1cbiAgICB9LCBbXSk7XG5cbiAgICBjb25zdCBoYW5kbGVUYXNrQ29tcGxldGlvbiA9IHVzZUNhbGxiYWNrKCh0YXNrOiBHYW1lVGFzaykgPT4ge1xuICAgICAgICAvLyBGcmVlIHVwIGFueSB2aWxsYWdlcnMgdGhhdCB3ZXJlIGFzc2lnbmVkIHRvIHRoaXMgdGFza1xuICAgICAgICBpZiAodGFzay5wYXlsb2FkPy52aWxsYWdlcklkcyAmJiB0YXNrLnBheWxvYWQudmlsbGFnZXJJZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc2V0VW5pdHMocHJldiA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgdmlsbGFnZXJzOiBwcmV2LnZpbGxhZ2Vycy5tYXAodiA9PiBcbiAgICAgICAgICAgICAgICAgICAgdGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEuaW5jbHVkZXModi5pZCkgPyB7IC4uLnYsIGN1cnJlbnRUYXNrOiBudWxsIH0gOiB2XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoICh0YXNrLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2J1aWxkJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgYnVpbGRpbmdUeXBlLCB2aWxsYWdlcklkcywgcG9zaXRpb24gfSA9IHRhc2sucGF5bG9hZCE7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVpbGRpbmdJbmZvID0gQlVJTERJTkdTX0lORk8uZmluZChiID0+IGIuaWQgPT09IGJ1aWxkaW5nVHlwZSkhO1xuICAgICAgICAgICAgICAgIGNvbnN0IFtuYW1lXSA9IGdldFJhbmRvbU5hbWVzKCdidWlsZGluZycsIDEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0J1aWxkaW5nOiBCdWlsZGluZ0luc3RhbmNlID0geyBpZDogdGFzay5pZCwgbmFtZSwgcG9zaXRpb246IHBvc2l0aW9uISB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHNldEJ1aWxkaW5ncyhwID0+ICh7IC4uLnAsIFtidWlsZGluZ1R5cGUhXTogWy4uLnBbYnVpbGRpbmdUeXBlIV0sIG5ld0J1aWxkaW5nXSB9KSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKHZpbGxhZ2VySWRzICYmIHZpbGxhZ2VySWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkVG9Mb2coYCR7dmlsbGFnZXJJZHMubGVuZ3RofSBidWlsZGVyKHMpIGhhdmUgY29uc3RydWN0ZWQgJHtuYW1lfSwgYSBuZXcgJHtidWlsZGluZ0luZm8ubmFtZX0uYCwgYnVpbGRpbmdUeXBlISk7XG4gICAgICAgICAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBDb25zdHJ1Y3Rpb24gb2YgJHtuYW1lfSBpcyBjb21wbGV0ZS5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdnYXRoZXInOiB7XG4gICAgICAgICAgICAgICAgLy8gVmlsbGFnZXJzIGFyZSBmcmVlZCBhYm92ZS4gTm90aGluZyBlbHNlIHRvIGRvIGhlcmUgYXMgdGhlIHJlc291cmNlIG5vZGUgZGVwbGV0aW9uIGlzIGhhbmRsZWQgaW4gdGhlIGdhbWUgbG9vcC5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ3RyYWluX3ZpbGxhZ2VyJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgY291bnQgfSA9IHRhc2sucGF5bG9hZCE7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VmlsbGFnZXJOYW1lcyA9IGdldFJhbmRvbU5hbWVzKCd2aWxsYWdlcicsIGNvdW50ISk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VmlsbGFnZXJzOiBWaWxsYWdlcltdID0gbmV3VmlsbGFnZXJOYW1lcy5tYXAobmFtZSA9PiAoeyBpZDogYCR7RGF0ZS5ub3coKX0tJHtuYW1lfWAsIG5hbWUsIGN1cnJlbnRUYXNrOiBudWxsIH0pKTtcbiAgICAgICAgICAgICAgICBzZXRVbml0cyhwID0+ICh7IC4uLnAsIHZpbGxhZ2VyczogWy4uLnAudmlsbGFnZXJzLCAuLi5uZXdWaWxsYWdlcnNdIH0pKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhgJHtjb3VudH0gbmV3IHZpbGxhZ2VyKHMpIGhhdmUgam9pbmVkIHlvdXIgc2V0dGxlbWVudC5gLCAndmlsbGFnZXInKTtcbiAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgJHtjb3VudH0gbmV3IHZpbGxhZ2VyKHMpIGFyZSByZWFkeSB0byB3b3JrLmApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAndHJhaW5fbWlsaXRhcnknOiB7XG4gICAgICAgICAgICAgICAgIGNvbnN0IHsgdW5pdFR5cGUsIGNvdW50IH0gPSB0YXNrLnBheWxvYWQhO1xuICAgICAgICAgICAgICAgICBjb25zdCB1bml0SW5mbyA9IFVOSVRfSU5GTy5maW5kKHUgPT4gdS5pZCA9PT0gdW5pdFR5cGUpITtcbiAgICAgICAgICAgICAgICAgY29uc3QgbmV3VW5pdE5hbWVzID0gZ2V0UmFuZG9tTmFtZXMoJ3NvbGRpZXInLCBjb3VudCEpO1xuICAgICAgICAgICAgICAgICBjb25zdCBuZXdVbml0czogTWlsaXRhcnlVbml0W10gPSBuZXdVbml0TmFtZXMubWFwKG5hbWUgPT4gKHsgaWQ6IGAke0RhdGUubm93KCl9LSR7dW5pdFR5cGV9LSR7bmFtZX1gLCBuYW1lLCB0aXRsZTogJycsIHVuaXRUeXBlOiB1bml0VHlwZSEgfSkpO1xuICAgICAgICAgICAgICAgICBzZXRVbml0cyhwID0+ICh7IC4uLnAsIG1pbGl0YXJ5OiBbLi4ucC5taWxpdGFyeSwgLi4ubmV3VW5pdHNdIH0pKTtcbiAgICAgICAgICAgICAgICAgYWRkVG9Mb2coYCR7Y291bnR9ICR7dW5pdEluZm8ubmFtZX0ocykgaGF2ZSBiZWVuIHRyYWluZWQuYCwgdW5pdFR5cGUhKTtcbiAgICAgICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYCR7Y291bnR9IG5ldyAke3VuaXRJbmZvLm5hbWV9KHMpIGFyZSByZWFkeSBmb3IgYmF0dGxlLmApO1xuICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2FkdmFuY2VfYWdlJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFnZVJlc3VsdCA9IGdldFByZWRlZmluZWRBZ2UoY3VycmVudEFnZSk7XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudEFnZShhZ2VSZXN1bHQubmV4dEFnZU5hbWUpO1xuICAgICAgICAgICAgICAgIGFkZFRvTG9nKGBZb3UgaGF2ZSBhZHZhbmNlZCB0byB0aGUgJHthZ2VSZXN1bHQubmV4dEFnZU5hbWV9IWAsICdhZ2UnKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhhZ2VSZXN1bHQuZGVzY3JpcHRpb24sICdhZ2UnKTtcbiAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgV2VsY29tZSB0byB0aGUgJHthZ2VSZXN1bHQubmV4dEFnZU5hbWV9IWApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgW2N1cnJlbnRBZ2UsIGFkZFRvTG9nXSk7XG4gICAgXG4gICAgLy8gR2FtZSBMb29wXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGdhbWVTdGF0ZSAhPT0gR2FtZVN0YXR1cy5QTEFZSU5HKSB7XG4gICAgICAgICAgICBpZiAoYW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCkgY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBnYW1lTG9vcCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBjb25zdCBkZWx0YVRpbWUgPSBub3cgLSBsYXN0VGlja1JlZi5jdXJyZW50O1xuICAgICAgICAgICAgbGFzdFRpY2tSZWYuY3VycmVudCA9IG5vdztcblxuICAgICAgICAgICAgbGV0IGNvbXBsZXRlZFRhc2tzOiBHYW1lVGFza1tdID0gW107XG4gICAgICAgICAgICBsZXQgcmVzb3VyY2VEZWx0YXNUaGlzVGljazogUmVzb3VyY2VEZWx0YXMgPSB7fTtcblxuICAgICAgICAgICAgY29uc3QgdGFza3NJblByb2dyZXNzID0gYWN0aXZlVGFza3MubWFwKHRhc2sgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gdGFzay5zdGFydFRpbWUgKyB0YXNrLmR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZFRhc2tzLnB1c2godGFzayk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAodGFzay50eXBlID09PSAnZ2F0aGVyJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gcmVzb3VyY2VOb2Rlcy5maW5kKG4gPT4gbi5pZCA9PT0gdGFzay5wYXlsb2FkPy5yZXNvdXJjZU5vZGVJZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFzc2lnbmVkVmlsbGFnZXJzID0gdW5pdHMudmlsbGFnZXJzLmZpbHRlcih2ID0+IHYuY3VycmVudFRhc2sgPT09IHRhc2suaWQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWxsYWdlckNvdW50ID0gYXNzaWduZWRWaWxsYWdlcnMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFub2RlIHx8IHZpbGxhZ2VyQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZFRhc2tzLnB1c2godGFzayk7IC8vIE9ycGhhbmVkIG9yIGVtcHR5IGdhdGhlciB0YXNrXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsgXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXNlUmF0ZVBlclNlY29uZCA9IEdBVEhFUl9JTkZPW25vZGUudHlwZV0ucmF0ZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJvbnVzTXVsdGlwbGllciA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaXZpbGl6YXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvbnVzU3RyaW5nID0gY2l2aWxpemF0aW9uLmJvbnVzLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNvdXJjZVN0cmluZyA9IG5vZGUudHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvbnVzU3RyaW5nLmluY2x1ZGVzKHJlc291cmNlU3RyaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gYm9udXNTdHJpbmcubWF0Y2goLyhcXGQrKSUvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9udXNNdWx0aXBsaWVyID0gMSArIChwYXJzZUludChtYXRjaFsxXSwgMTApIC8gMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsUmF0ZVBlclNlY29uZCA9IGJhc2VSYXRlUGVyU2Vjb25kICogYm9udXNNdWx0aXBsaWVyO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbW91bnRHYXRoZXJlZFRoaXNUaWNrID0gKGZpbmFsUmF0ZVBlclNlY29uZCAvIDEwMDApICogZGVsdGFUaW1lICogdmlsbGFnZXJDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlRGVsdGFzVGhpc1RpY2tbbm9kZS50eXBlXSA9IChyZXNvdXJjZURlbHRhc1RoaXNUaWNrW25vZGUudHlwZV0gfHwgMCkgKyBhbW91bnRHYXRoZXJlZFRoaXNUaWNrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0YXNrO1xuXG4gICAgICAgICAgICB9KS5maWx0ZXIoQm9vbGVhbikgYXMgR2FtZVRhc2tbXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHJlc291cmNlRGVsdGFzVGhpc1RpY2spLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXMocmVzb3VyY2VEZWx0YXNUaGlzVGljayk7XG5cbiAgICAgICAgICAgICAgICBzZXRSZXNvdXJjZU5vZGVzKHByZXZOb2RlcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld05vZGVzID0gcHJldk5vZGVzLm1hcChub2RlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudFRvRGVjcmVtZW50ID0gcmVzb3VyY2VEZWx0YXNUaGlzVGlja1tub2RlLnR5cGVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFtb3VudFRvRGVjcmVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3QW1vdW50ID0gbm9kZS5hbW91bnQgLSBhbW91bnRUb0RlY3JlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3QW1vdW50IDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFza0lkID0gYGdhdGhlci0ke25vZGUuaWR9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXNzaWduZWQgPSB1bml0cy52aWxsYWdlcnMuZmlsdGVyKHYgPT4gdi5jdXJyZW50VGFzayA9PT0gdGFza0lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9Mb2coYCR7YXNzaWduZWQubGVuZ3RofSB2aWxsYWdlcihzKSBkZXBsZXRlZCBhICR7bm9kZS50eXBlfSBzb3VyY2UsIGdhaW5pbmcgJHtNYXRoLmZsb29yKG5vZGUuYW1vdW50KX0gJHtub2RlLnR5cGV9LmAsIG5vZGUudHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBBICR7bm9kZS50eXBlfSBzb3VyY2UgaGFzIGJlZW4gZnVsbHkgZGVwbGV0ZWQuYCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2F0aGVyVGFzayA9IHRhc2tzSW5Qcm9ncmVzcy5maW5kKHQgPT4gdC5pZCA9PT0gdGFza0lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZ2F0aGVyVGFzaykgY29tcGxldGVkVGFza3MucHVzaChnYXRoZXJUYXNrKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4ubm9kZSwgYW1vdW50OiBuZXdBbW91bnQgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgICAgICAgICB9KS5maWx0ZXIoQm9vbGVhbikgYXMgUmVzb3VyY2VOb2RlW107XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld05vZGVzO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBmaW5hbEFjdGl2ZVRhc2tzID0gdGFza3NJblByb2dyZXNzLmZpbHRlcih0ID0+ICFjb21wbGV0ZWRUYXNrcy5zb21lKGN0ID0+IGN0LmlkID09PSB0LmlkKSk7XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhmaW5hbEFjdGl2ZVRhc2tzKTtcblxuICAgICAgICAgICAgaWYgKGNvbXBsZXRlZFRhc2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWRUYXNrcy5mb3JFYWNoKGhhbmRsZVRhc2tDb21wbGV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgYW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lTG9vcCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgYW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lTG9vcCk7XG5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlmIChhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50KSBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50KTtcbiAgICAgICAgfTtcbiAgICB9LCBbZ2FtZVN0YXRlLCBhY3RpdmVUYXNrcywgcmVzb3VyY2VOb2RlcywgaGFuZGxlVGFza0NvbXBsZXRpb24sIGFkZFRvTG9nLCB1cGRhdGVSZXNvdXJjZXMsIHVuaXRzLnZpbGxhZ2VycywgY2l2aWxpemF0aW9uXSk7XG5cblxuICAgIGNvbnN0IGhhbmRsZU5ld0V2ZW50ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoIWNpdmlsaXphdGlvbiB8fCBjdXJyZW50RXZlbnQpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGV2ZW50ID0gZ2V0UHJlZGVmaW5lZEdhbWVFdmVudCgpO1xuICAgICAgICBzZXRDdXJyZW50RXZlbnQoZXZlbnQpO1xuICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cygnQSBuZXcgZXZlbnQgcmVxdWlyZXMgeW91ciBhdHRlbnRpb24hJyk7XG4gICAgfSwgW2NpdmlsaXphdGlvbiwgY3VycmVudEV2ZW50XSk7XG4gICAgXG4gICAgY29uc3Qgc2NoZWR1bGVOZXh0RXZlbnQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmIChldmVudFRpbWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChldmVudFRpbWVyUmVmLmN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEV2ZW50cyBzaG91bGQgdHJpZ2dlciBldmVyeSAxMCB0byAyNSBzZWNvbmRzXG4gICAgICAgIGNvbnN0IG5leHRFdmVudFRpbWUgPSAoMTAgKyBNYXRoLnJhbmRvbSgpICogMTUpICogMTAwMDtcbiAgICAgICAgZXZlbnRUaW1lclJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiBoYW5kbGVOZXdFdmVudCgpLCBuZXh0RXZlbnRUaW1lKTtcbiAgICB9LCBbaGFuZGxlTmV3RXZlbnRdKTtcblxuICAgIGNvbnN0IGdlbmVyYXRlUmVzb3VyY2VOb2RlcyA9IChleGlzdGluZ1Bvc2l0aW9uczogU2V0PHN0cmluZz4pOiBSZXNvdXJjZU5vZGVbXSA9PiB7XG4gICAgICAgIGNvbnN0IG5vZGVzOiBSZXNvdXJjZU5vZGVbXSA9IFtdO1xuICAgICAgICBjb25zdCB0eXBlczogUmVzb3VyY2VOb2RlVHlwZVtdID0gWydmb29kJywgJ3dvb2QnLCAnZ29sZCcsICdzdG9uZSddO1xuICAgICAgICBjb25zdCBudW1Ob2RlcyA9IDIwICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xuICAgICAgICBcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1Ob2RlczsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcG9zOiB7eDogbnVtYmVyLCB5OiBudW1iZXJ9O1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIHBvcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgeDogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTUFQX0RJTUVOU0lPTlMud2lkdGgpLFxuICAgICAgICAgICAgICAgICAgICB5OiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNQVBfRElNRU5TSU9OUy5oZWlnaHQpLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUgKGV4aXN0aW5nUG9zaXRpb25zLmhhcyhgJHtwb3MueH0sJHtwb3MueX1gKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4aXN0aW5nUG9zaXRpb25zLmFkZChgJHtwb3MueH0sJHtwb3MueX1gKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgdHlwZSA9IHR5cGVzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHR5cGVzLmxlbmd0aCldO1xuICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDI1MDAgLSA1MDAgKyAxKSkgKyA1MDA7XG5cbiAgICAgICAgICAgIG5vZGVzLnB1c2goeyBpZDogYCR7RGF0ZS5ub3coKX0tbm9kZS0ke2l9YCwgdHlwZSwgcG9zaXRpb246IHBvcywgYW1vdW50IH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlcztcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlU3RhcnROZXdHYW1lID0gKHNhdmVOYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgaWYgKGFsbFNhdmVzLmluY2x1ZGVzKHNhdmVOYW1lKSkge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKGBBIHNhZ2EgbmFtZWQgXCIke3NhdmVOYW1lfVwiIGFscmVhZHkgZXhpc3RzLmApOyByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0R2FtZVN0YXRlKEdhbWVTdGF0dXMuTE9BRElORyk7XG4gICAgICAgIHNldEN1cnJlbnRTYXZlTmFtZShzYXZlTmFtZSk7XG5cbiAgICAgICAgY29uc3QgY2l2ID0gZ2V0UHJlZGVmaW5lZENpdmlsaXphdGlvbigpO1xuICAgICAgICBzZXRDaXZpbGl6YXRpb24oY2l2KTtcbiAgICAgICAgc2V0UmVzb3VyY2VzKHsgZm9vZDogMjAwLCB3b29kOiAxNTAsIGdvbGQ6IDUwLCBzdG9uZTogMTAwIH0pO1xuICAgICAgICBjb25zdCBpbml0aWFsVmlsbGFnZXJOYW1lcyA9IGdldFJhbmRvbU5hbWVzKCd2aWxsYWdlcicsIDMpO1xuICAgICAgICBjb25zdCBpbml0aWFsVmlsbGFnZXJzOiBWaWxsYWdlcltdID0gaW5pdGlhbFZpbGxhZ2VyTmFtZXMubWFwKG5hbWUgPT4gKHsgaWQ6IGAke0RhdGUubm93KCl9LSR7bmFtZX1gLCBuYW1lLCBjdXJyZW50VGFzazogbnVsbCB9KSk7XG4gICAgICAgIHNldFVuaXRzKHsgdmlsbGFnZXJzOiBpbml0aWFsVmlsbGFnZXJzLCBtaWxpdGFyeTogW10gfSk7XG4gICAgICAgIGNvbnN0IFtpbml0aWFsVENOYW1lXSA9IGdldFJhbmRvbU5hbWVzKCdidWlsZGluZycsIDEpO1xuICAgICAgICBjb25zdCB0Y1Bvc2l0aW9uID0geyB4OiBNYXRoLmZsb29yKE1BUF9ESU1FTlNJT05TLndpZHRoIC8gMiksIHk6IE1hdGguZmxvb3IoTUFQX0RJTUVOU0lPTlMuaGVpZ2h0IC8gMikgfTtcbiAgICAgICAgY29uc3QgaW5pdGlhbFRDOiBCdWlsZGluZ0luc3RhbmNlID0geyBpZDogYCR7RGF0ZS5ub3coKX0tdGNgLCBuYW1lOiBpbml0aWFsVENOYW1lLCBwb3NpdGlvbjogdGNQb3NpdGlvbiB9O1xuICAgICAgICBzZXRCdWlsZGluZ3Moey4uLmluaXRpYWxCdWlsZGluZ3NTdGF0ZSwgdG93bkNlbnRlcjogW2luaXRpYWxUQ119KTtcbiAgICAgICAgc2V0UmVzb3VyY2VOb2RlcyhnZW5lcmF0ZVJlc291cmNlTm9kZXMobmV3IFNldChbYCR7dGNQb3NpdGlvbi54fSwke3RjUG9zaXRpb24ueX1gXSkpKTtcbiAgICAgICAgc2V0Q3VycmVudEFnZSgnTm9tYWRpYyBBZ2UnKTtcbiAgICAgICAgc2V0R2FtZUxvZyhbXSk7XG4gICAgICAgIHNldEN1cnJlbnRFdmVudChudWxsKTtcbiAgICAgICAgc2V0VW5saW1pdGVkUmVzb3VyY2VzKGZhbHNlKTtcbiAgICAgICAgc2V0QWN0aXZlVGFza3MoW10pO1xuICAgICAgICBzZXRJbnZlbnRvcnkoW10pO1xuICAgICAgICBhZGRUb0xvZyhgJHtjaXYubmFtZX0gaGFzIGJlZW4gZm91bmRlZCFgLCAnc3lzdGVtJyk7XG4gICAgICAgIGFkZFRvTG9nKCdZb3VyIHN0b3J5IGJlZ2lucy4uLicsICdzeXN0ZW0nKTtcbiAgICAgICAgc2V0R2FtZVN0YXRlKEdhbWVTdGF0dXMuUExBWUlORyk7XG4gICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKCdZb3VyIHNldHRsZW1lbnQgYXdhaXRzIHlvdXIgY29tbWFuZC4nKTtcbiAgICAgICAgZmV0Y2hTYXZlcygpO1xuICAgIH07XG5cbiAgICBjb25zdCBpc1ZpbGxhZ2VyQnVzeSA9IHVzZUNhbGxiYWNrKCh2aWxsYWdlcklkOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICAgICAgY29uc3QgdmlsbGFnZXIgPSB1bml0cy52aWxsYWdlcnMuZmluZCh2ID0+IHYuaWQgPT09IHZpbGxhZ2VySWQpO1xuICAgICAgICByZXR1cm4gISF2aWxsYWdlcj8uY3VycmVudFRhc2s7XG4gICAgfSwgW3VuaXRzLnZpbGxhZ2Vyc10pO1xuXG4gICAgY29uc3QgZ2V0VmlsbGFnZXJUYXNrRGV0YWlscyA9IHVzZUNhbGxiYWNrKCh2aWxsYWdlcklkOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgICAgICBjb25zdCB2aWxsYWdlciA9IHVuaXRzLnZpbGxhZ2Vycy5maW5kKHYgPT4gdi5pZCA9PT0gdmlsbGFnZXJJZCk7XG4gICAgICAgIGlmICghdmlsbGFnZXIgfHwgIXZpbGxhZ2VyLmN1cnJlbnRUYXNrKSB7XG4gICAgICAgICAgICByZXR1cm4gJ0lkbGUnO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0YXNrID0gYWN0aXZlVGFza3MuZmluZCh0ID0+IHQuaWQgPT09IHZpbGxhZ2VyLmN1cnJlbnRUYXNrKTtcbiAgICAgICAgaWYgKCF0YXNrKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGNhc2UgY2FuIGhhcHBlbiBicmllZmx5IGlmIGEgdGFzayBjb21wbGV0ZXMgYnV0IHN0YXRlIGhhc24ndCBmdWxseSB1cGRhdGVkLlxuICAgICAgICAgICAgLy8gT3IgaXQgY2FuIGluZGljYXRlIGEgYnVnIGlmIGl0IHBlcnNpc3RzLlxuICAgICAgICAgICAgcmV0dXJuICdJZGxlIChGaW5hbGl6aW5nIFRhc2spJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YXNrLnR5cGUgPT09ICdidWlsZCcpIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IEJVSUxESU5HU19JTkZPLmZpbmQoYiA9PiBiLmlkID09PSB0YXNrLnBheWxvYWQhLmJ1aWxkaW5nVHlwZSk7XG4gICAgICAgICAgICByZXR1cm4gYEJ1c3k6IENvbnN0cnVjdGluZyAke2J1aWxkaW5nSW5mbz8ubmFtZSB8fCAnYSBidWlsZGluZyd9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFzay50eXBlID09PSAnZ2F0aGVyJykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHJlc291cmNlTm9kZXMuZmluZChuID0+IG4uaWQgPT09IHRhc2sucGF5bG9hZCEucmVzb3VyY2VOb2RlSWQpO1xuICAgICAgICAgICAgcmV0dXJuIGBCdXN5OiBHYXRoZXJpbmcgJHtub2RlPy50eXBlIHx8ICdyZXNvdXJjZXMnfWA7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiAnSWRsZSc7XG4gICAgfSwgW2FjdGl2ZVRhc2tzLCByZXNvdXJjZU5vZGVzLCB1bml0cy52aWxsYWdlcnNdKTtcblxuICAgIGNvbnN0IGhhbmRsZVJlc3VtZUdhbWUgPSBhc3luYyAoc2F2ZU5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBzYXZlZFN0YXRlID0gYXdhaXQgbG9hZEdhbWVTdGF0ZShzYXZlTmFtZSkgYXMgRnVsbEdhbWVTdGF0ZTtcbiAgICAgICAgaWYgKHNhdmVkU3RhdGUpIHtcbiAgICAgICAgICAgIHNldEdhbWVTdGF0ZShHYW1lU3RhdHVzLkxPQURJTkcpO1xuICAgICAgICAgICAgc2V0Q3VycmVudFNhdmVOYW1lKHNhdmVOYW1lKTtcbiAgICAgICAgICAgIHNldENpdmlsaXphdGlvbihzYXZlZFN0YXRlLmNpdmlsaXphdGlvbik7XG4gICAgICAgICAgICBzZXRSZXNvdXJjZXMoc2F2ZWRTdGF0ZS5yZXNvdXJjZXMpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBNaWdyYXRlIHVuaXRzIGRhdGEgc3RydWN0dXJlIGlmIG5lY2Vzc2FyeVxuICAgICAgICAgICAgbGV0IHNhdmVkVW5pdHMgPSBzYXZlZFN0YXRlLnVuaXRzIHx8IHsgdmlsbGFnZXJzOiBbXSwgbWlsaXRhcnk6IFtdIH07XG4gICAgICAgICAgICBpZiAoKHNhdmVkU3RhdGUudW5pdHMgYXMgYW55KT8uc29sZGllcnMpIHtcbiAgICAgICAgICAgICAgICAgY29uc3QgbWlncmF0ZWRNaWxpdGFyeTogTWlsaXRhcnlVbml0W10gPSAoc2F2ZWRTdGF0ZS51bml0cyBhcyBhbnkpLnNvbGRpZXJzLm1hcCgoczogYW55KSA9PiAoeyAuLi5zLCB1bml0VHlwZTogJ3N3b3Jkc21hbicgfSkpO1xuICAgICAgICAgICAgICAgICBzYXZlZFVuaXRzID0geyB2aWxsYWdlcnM6IHNhdmVkVW5pdHMudmlsbGFnZXJzIHx8IFtdLCBtaWxpdGFyeTogbWlncmF0ZWRNaWxpdGFyeSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWlncmF0ZSB2aWxsYWdlcnMgdG8gaW5jbHVkZSBjdXJyZW50VGFza1xuICAgICAgICAgICAgY29uc3QgbWlncmF0ZWRWaWxsYWdlcnMgPSBzYXZlZFVuaXRzLnZpbGxhZ2Vycy5tYXAodiA9PiAoey4uLnYsIGN1cnJlbnRUYXNrOiB2LmN1cnJlbnRUYXNrICE9PSB1bmRlZmluZWQgPyB2LmN1cnJlbnRUYXNrIDogbnVsbH0pKTtcbiAgICAgICAgICAgIGNvbnN0IG1pZ3JhdGVkVGFza3MgPSAoc2F2ZWRTdGF0ZS5hY3RpdmVUYXNrcyB8fCBbXSkubWFwKHQgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0LnR5cGUgPT09ICdidWlsZCcgJiYgIXQucGF5bG9hZD8udmlsbGFnZXJJZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4udCwgcGF5bG9hZDogeyAuLi50LnBheWxvYWQsIHZpbGxhZ2VySWRzOiBbXSB9IH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgLy8gQmFjay1maWxsIGN1cnJlbnRUYXNrIGZvciBvbGRlciBzYXZlc1xuICAgICAgICAgICAgbWlncmF0ZWRUYXNrcy5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICAgICAgICAgIGlmKHRhc2sucGF5bG9hZD8udmlsbGFnZXJJZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFzay5wYXlsb2FkLnZpbGxhZ2VySWRzLmZvckVhY2godmlkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZpbGxhZ2VyID0gbWlncmF0ZWRWaWxsYWdlcnMuZmluZCh2ID0+IHYuaWQgPT09IHZpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZih2aWxsYWdlcikgdmlsbGFnZXIuY3VycmVudFRhc2sgPSB0YXNrLmlkO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldFVuaXRzKHsgLi4uc2F2ZWRVbml0cywgdmlsbGFnZXJzOiBtaWdyYXRlZFZpbGxhZ2VycyB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IGZpbmFsQnVpbGRpbmdzID0geyAuLi5pbml0aWFsQnVpbGRpbmdzU3RhdGUsIC4uLihzYXZlZFN0YXRlLmJ1aWxkaW5ncyB8fCB7fSkgfTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnN0cnVjdGlvblRhc2tzID0gKG1pZ3JhdGVkVGFza3MpLmZpbHRlcih0ID0+IHQudHlwZSA9PT0gJ2J1aWxkJyk7XG4gICAgICAgICAgICBjb25zdCBvY2N1cGllZENlbGxzID0gbmV3IFNldChbXG4gICAgICAgICAgICAgICAgLi4uT2JqZWN0LnZhbHVlcyhmaW5hbEJ1aWxkaW5ncykuZmxhdCgpLm1hcCgoYjogYW55KSA9PiBgJHtiLnBvc2l0aW9uLnh9LCR7Yi5wb3NpdGlvbi55fWApLFxuICAgICAgICAgICAgICAgIC4uLmNvbnN0cnVjdGlvblRhc2tzLm1hcCh0ID0+IGAke3QucGF5bG9hZCEucG9zaXRpb24hLnh9LCR7dC5wYXlsb2FkIS5wb3NpdGlvbiEueX1gKVxuICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgIGlmICghZmluYWxCdWlsZGluZ3MudG93bkNlbnRlciB8fCBmaW5hbEJ1aWxkaW5ncy50b3duQ2VudGVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGxldCB0Y1BvcyA9IHsgeDogMTAsIHk6IDUgfTtcbiAgICAgICAgICAgICAgICB3aGlsZSAob2NjdXBpZWRDZWxscy5oYXMoYCR7dGNQb3MueH0sJHt0Y1Bvcy55fWApKSB7IHRjUG9zLngrKzsgfVxuICAgICAgICAgICAgICAgIGNvbnN0IFt0Y05hbWVdID0gZ2V0UmFuZG9tTmFtZXMoJ2J1aWxkaW5nJywgMSk7XG4gICAgICAgICAgICAgICAgZmluYWxCdWlsZGluZ3MudG93bkNlbnRlciA9IFt7IGlkOiBgJHtEYXRlLm5vdygpfS10Y2AsIG5hbWU6IHRjTmFtZSwgcG9zaXRpb246IHRjUG9zIH1dO1xuICAgICAgICAgICAgICAgIG9jY3VwaWVkQ2VsbHMuYWRkKGAke3RjUG9zLnh9LCR7dGNQb3MueX1gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZmlyc3RCdWlsZGluZyA9IE9iamVjdC52YWx1ZXMoZmluYWxCdWlsZGluZ3MpLmZsYXQoKVswXTtcbiAgICAgICAgICAgIGlmIChmaXJzdEJ1aWxkaW5nICYmIHR5cGVvZiBmaXJzdEJ1aWxkaW5nID09PSAnb2JqZWN0JyAmJiAhKCdwb3NpdGlvbicgaW4gZmlyc3RCdWlsZGluZykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtaWdyYXRlZCA9IHsgLi4uaW5pdGlhbEJ1aWxkaW5nc1N0YXRlIH07XG4gICAgICAgICAgICAgICAgbGV0IHkgPSAzO1xuICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGZpbmFsQnVpbGRpbmdzKS5mb3JFYWNoKChbdHlwZSwgaW5zdGFuY2VzXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgeCA9IDU7XG4gICAgICAgICAgICAgICAgICAgIChpbnN0YW5jZXMgYXMgQnVpbGRpbmdJbnN0YW5jZVtdKS5mb3JFYWNoKGluc3QgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG9jY3VwaWVkQ2VsbHMuaGFzKGAke3h9LCR7eX1gKSkgeyB4Kys7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIChtaWdyYXRlZFt0eXBlIGFzIEJ1aWxkaW5nVHlwZV0gYXMgQnVpbGRpbmdJbnN0YW5jZVtdKS5wdXNoKHsgLi4uaW5zdCwgcG9zaXRpb246IHsgeCwgeSB9IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2NjdXBpZWRDZWxscy5hZGQoYCR7eH0sJHt5fWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgeCsrO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmaW5hbEJ1aWxkaW5ncyA9IG1pZ3JhdGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZXRCdWlsZGluZ3MoZmluYWxCdWlsZGluZ3MpO1xuXG4gICAgICAgICAgICBjb25zdCBub2Rlc1RvU2V0ID0gKHNhdmVkU3RhdGUucmVzb3VyY2VOb2RlcyB8fCBbXSkubWFwKG4gPT4gKHsuLi5uLCBhc3NpZ25lZFZpbGxhZ2Vyczogbi5hc3NpZ25lZFZpbGxhZ2VycyB8fCBbXX0pKTtcbiAgICAgICAgICAgIGlmIChub2Rlc1RvU2V0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICBzZXRSZXNvdXJjZU5vZGVzKGdlbmVyYXRlUmVzb3VyY2VOb2RlcyhvY2N1cGllZENlbGxzKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICBzZXRSZXNvdXJjZU5vZGVzKG5vZGVzVG9TZXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZXRDdXJyZW50QWdlKHNhdmVkU3RhdGUuY3VycmVudEFnZSk7XG4gICAgICAgICAgICBzZXRHYW1lTG9nKHNhdmVkU3RhdGUuZ2FtZUxvZyk7XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhtaWdyYXRlZFRhc2tzKTtcbiAgICAgICAgICAgIHNldEludmVudG9yeShzYXZlZFN0YXRlLmludmVudG9yeSB8fCBbXSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNldEN1cnJlbnRFdmVudChudWxsKTtcbiAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKCdXZWxjb21lIGJhY2sgdG8geW91ciBzYWdhLicpO1xuICAgICAgICAgICAgc2V0R2FtZVN0YXRlKEdhbWVTdGF0dXMuUExBWUlORyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhZGROb3RpZmljYXRpb24oYENvdWxkIG5vdCBmaW5kIGEgc2F2ZWQgZ2FtZSBuYW1lZCBcIiR7c2F2ZU5hbWV9XCIuYCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRXZlbnQgVHJpZ2dlciBUaW1lclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChnYW1lU3RhdGUgIT09IEdhbWVTdGF0dXMuUExBWUlORykgcmV0dXJuO1xuXG4gICAgICAgIC8vIFRoaXMgdGltZXIgaXMgbm93IGluZGVwZW5kZW50IG9mIG90aGVyIHRhc2tzLlxuICAgICAgICBpZiAoIWN1cnJlbnRFdmVudCkge1xuICAgICAgICAgICAgc2NoZWR1bGVOZXh0RXZlbnQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudFRpbWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIC8vIElmIGFuIGV2ZW50IGlzIHNob3dpbmcsIHdlIHN0b3AgdGhlIHRpbWVyIHVudGlsIGl0J3MgcmVzb2x2ZWQuXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoZXZlbnRUaW1lclJlZi5jdXJyZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnRUaW1lclJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGV2ZW50VGltZXJSZWYuY3VycmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSwgW2dhbWVTdGF0ZSwgY3VycmVudEV2ZW50LCBzY2hlZHVsZU5leHRFdmVudF0pO1xuXG4gICAgY29uc3QgaGFuZGxlRXZlbnRDaG9pY2UgPSAoY2hvaWNlOiBHYW1lRXZlbnRDaG9pY2UpID0+IHtcbiAgICAgICAgLy8gMS4gQ2hlY2sgYW5kIGFwcGx5IGNvc3RcbiAgICAgICAgaWYgKGNob2ljZS5jb3N0KSB7XG4gICAgICAgICAgICBjb25zdCBtaXNzaW5nUmVzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY2hvaWNlLmNvc3QpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNLZXkgPSBrZXkgYXMga2V5b2YgUmVzb3VyY2VzO1xuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbcmVzS2V5XSA8IChjaG9pY2UuY29zdFtyZXNLZXldIHx8IDApKSB7XG4gICAgICAgICAgICAgICAgICAgIG1pc3NpbmdSZXMucHVzaChyZXNLZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtaXNzaW5nUmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBhZGROb3RpZmljYXRpb24oYFlvdSBsYWNrIHRoZSByZXF1aXJlZCByZXNvdXJjZXM6ICR7bWlzc2luZ1Jlcy5qb2luKCcsICcpfS5gKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuZWdhdGl2ZUNvc3Q6IFJlc291cmNlRGVsdGFzID0ge307XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBjaG9pY2UuY29zdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc0tleSA9IGtleSBhcyBrZXlvZiBSZXNvdXJjZXM7XG4gICAgICAgICAgICAgICAgbmVnYXRpdmVDb3N0W3Jlc0tleV0gPSAtKGNob2ljZS5jb3N0W3Jlc0tleV0gfHwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXMobmVnYXRpdmVDb3N0KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gMi4gRGV0ZXJtaW5lIHN1Y2Nlc3NcbiAgICAgICAgY29uc3QgaXNTdWNjZXNzID0gY2hvaWNlLnN1Y2Nlc3NDaGFuY2UgPT09IHVuZGVmaW5lZCB8fCBNYXRoLnJhbmRvbSgpIDwgY2hvaWNlLnN1Y2Nlc3NDaGFuY2U7XG4gICAgICAgIGNvbnN0IGVmZmVjdHMgPSBpc1N1Y2Nlc3MgPyBjaG9pY2Uuc3VjY2Vzc0VmZmVjdHMgOiBjaG9pY2UuZmFpbHVyZUVmZmVjdHM7XG5cbiAgICAgICAgaWYgKCFlZmZlY3RzKSB7IC8vIEhhbmRsZSBjYXNlcyB3aXRoIG5vIGZhaWx1cmUgZWZmZWN0IGRlZmluZWRcbiAgICAgICAgICAgIHNldEN1cnJlbnRFdmVudChudWxsKTtcbiAgICAgICAgICAgIHNjaGVkdWxlTmV4dEV2ZW50KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyAzLiBDb25zdHJ1Y3QgZGV0YWlsZWQgbG9nIG1lc3NhZ2VcbiAgICAgICAgbGV0IGxvZ01lc3NhZ2UgPSBgRGVjaXNpb246IFwiJHtjaG9pY2UudGV4dH1cIi5gO1xuICAgICAgICBpZiAoY2hvaWNlLnN1Y2Nlc3NDaGFuY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbG9nTWVzc2FnZSArPSBgIFRoZSBvdXRjb21lIHdhcyBhICR7aXNTdWNjZXNzID8gJ3N1Y2Nlc3MnIDogJ2ZhaWx1cmUnfS5gO1xuICAgICAgICB9XG4gICAgICAgIGxvZ01lc3NhZ2UgKz0gYCAke2VmZmVjdHMubG9nfWA7XG5cbiAgICAgICAgLy8gNC4gQXBwbHkgcmV3YXJkcyBhbmQgdXBkYXRlIGxvZ1xuICAgICAgICBlZmZlY3RzLnJld2FyZHMuZm9yRWFjaCgocmV3YXJkOiBSZXdhcmQpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXdhcmQudHlwZSA9PT0gJ3Jlc291cmNlJykge1xuICAgICAgICAgICAgICAgIGxldCBhbW91bnQgPSAwO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHJld2FyZC5hbW91bnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFttaW4sIG1heF0gPSByZXdhcmQuYW1vdW50O1xuICAgICAgICAgICAgICAgICAgICBhbW91bnQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFtb3VudCA9IHJld2FyZC5hbW91bnQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGFtb3VudCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXMoeyBbcmV3YXJkLnJlc291cmNlXTogYW1vdW50IH0pO1xuICAgICAgICAgICAgICAgICAgICBsb2dNZXNzYWdlICs9IGAgWW91ICR7YW1vdW50ID4gMCA/ICdnYWluZWQnIDogJ2xvc3QnfSAke01hdGguYWJzKGFtb3VudCl9ICR7cmV3YXJkLnJlc291cmNlfS5gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmV3YXJkLnR5cGUgPT09ICdpdGVtJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1JbmZvID0gR0FNRV9JVEVNU1tyZXdhcmQuaXRlbUlkXTtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbUluZm8pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3SXRlbXM6IEdhbWVJdGVtW10gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHJld2FyZC5hbW91bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgdW5pcXVlIElEIGZvciBlYWNoIGl0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0l0ZW1zLnB1c2goeyAuLi5pdGVtSW5mbywgaWQ6IGAke3Jld2FyZC5pdGVtSWR9LSR7RGF0ZS5ub3coKX0tJHtpfWAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0SW52ZW50b3J5KHByZXYgPT4gWy4uLnByZXYsIC4uLm5ld0l0ZW1zXSk7XG4gICAgICAgICAgICAgICAgICAgIGxvZ01lc3NhZ2UgKz0gYCBZb3UgcmVjZWl2ZWQgJHtyZXdhcmQuYW1vdW50fXggJHtpdGVtSW5mby5uYW1lfSFgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyA1LiBMb2cgYW5kIHVwZGF0ZSBVSVxuICAgICAgICBhZGRUb0xvZyhsb2dNZXNzYWdlLCAnZXZlbnQnKTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoZWZmZWN0cy5sb2cpO1xuICAgICAgICBzZXRDdXJyZW50RXZlbnQobnVsbCk7XG4gICAgICAgIHNjaGVkdWxlTmV4dEV2ZW50KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUluaXRpYXRlQnVpbGQgPSAodmlsbGFnZXJJZDogc3RyaW5nLCByZWN0OiBET01SZWN0KSA9PiB7XG4gICAgICAgIGlmIChpc1ZpbGxhZ2VyQnVzeSh2aWxsYWdlcklkKSkge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiVGhpcyB2aWxsYWdlciBpcyBhbHJlYWR5IGJ1c3kuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldEJ1aWxkUGFuZWxTdGF0ZSh7IGlzT3BlbjogdHJ1ZSwgdmlsbGFnZXJJZCwgYW5jaG9yUmVjdDogcmVjdCB9KTtcbiAgICAgICAgc2V0VW5pdE1hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBoYW5kbGVTdGFydFBsYWNlbWVudCA9IChidWlsZGluZ0lkOiBCdWlsZGluZ1R5cGUpID0+IHtcbiAgICAgICAgY29uc3QgdmlsbGFnZXJJZCA9IGJ1aWxkUGFuZWxTdGF0ZS52aWxsYWdlcklkO1xuICAgICAgICBpZiAoIXZpbGxhZ2VySWQpIHJldHVybjtcblxuICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBCVUlMRElOR1NfSU5GTy5maW5kKGIgPT4gYi5pZCA9PT0gYnVpbGRpbmdJZCk7XG4gICAgICAgIGlmICghYnVpbGRpbmdJbmZvKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgaXNBbHJlYWR5Q29uc3RydWN0aW5nID0gYWN0aXZlVGFza3Muc29tZSh0ID0+IHQudHlwZSA9PT0gJ2J1aWxkJyAmJiB0LnBheWxvYWQ/LmJ1aWxkaW5nVHlwZSA9PT0gYnVpbGRpbmdJbmZvLmlkKTtcbiAgICAgICAgaWYgKGJ1aWxkaW5nSW5mby5pc1VuaXF1ZSAmJiAoYnVpbGRpbmdzW2J1aWxkaW5nSW5mby5pZF0ubGVuZ3RoID4gMCB8fCBpc0FscmVhZHlDb25zdHJ1Y3RpbmcpKSB7XG4gICAgICAgICAgICBhZGROb3RpZmljYXRpb24oYFlvdSBjYW4gb25seSBidWlsZCBvbmUgJHtidWlsZGluZ0luZm8ubmFtZX0uYCk7IHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgY29zdCA9IGJ1aWxkaW5nSW5mby5jb3N0O1xuICAgICAgICBpZiAoIXVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgY29uc3QgbWlzc2luZzogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVzIGluIGNvc3QpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNvdXJjZUtleSA9IHJlcyBhcyBrZXlvZiBSZXNvdXJjZXM7XG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlc1tyZXNvdXJjZUtleV0gPCAoY29zdFtyZXNvdXJjZUtleV0gPz8gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgIG1pc3NpbmcucHVzaChgJHsoY29zdFtyZXNvdXJjZUtleV0gPz8gMCkgLSByZXNvdXJjZXNbcmVzb3VyY2VLZXldfSAke3Jlc291cmNlS2V5fWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICBpZiAobWlzc2luZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKGBOZWVkICR7bWlzc2luZy5qb2luKCcgYW5kICcpfS5gKTsgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNldFBsYXllckFjdGlvbih7IG1vZGU6ICdidWlsZCcsIGJ1aWxkaW5nVHlwZTogYnVpbGRpbmdJZCwgdmlsbGFnZXJJZCB9KTtcbiAgICAgICAgc2V0QnVpbGRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdmlsbGFnZXJJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYFNlbGVjdCBhIGxvY2F0aW9uIHRvIGJ1aWxkIGEgJHtidWlsZGluZ0luZm8ubmFtZX0uIFJpZ2h0LWNsaWNrIHRvIGNhbmNlbC5gKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQ29uZmlybVBsYWNlbWVudCA9IChwb3NpdGlvbjogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9KSA9PiB7XG4gICAgICAgIGlmIChwbGF5ZXJBY3Rpb24/Lm1vZGUgIT09ICdidWlsZCcpIHJldHVybjtcbiAgICAgICAgY29uc3QgeyBidWlsZGluZ1R5cGUsIHZpbGxhZ2VySWQgfSA9IHBsYXllckFjdGlvbjtcbiAgICAgICAgY29uc3QgYnVpbGRpbmdJbmZvID0gQlVJTERJTkdTX0lORk8uZmluZChiID0+IGIuaWQgPT09IGJ1aWxkaW5nVHlwZSk7XG4gICAgICAgIGNvbnN0IGJ1aWxkZXIgPSB1bml0cy52aWxsYWdlcnMuZmluZCh2ID0+IHYuaWQgPT09IHZpbGxhZ2VySWQpO1xuICAgICAgICBpZiAoIWJ1aWxkaW5nSW5mbyB8fCAhYnVpbGRlcikgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgaWYgKCF1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvc3QgPSBidWlsZGluZ0luZm8uY29zdDtcbiAgICAgICAgICAgIGNvbnN0IG5lZ2F0aXZlQ29zdDogUmVzb3VyY2VEZWx0YXMgPSB7fTtcbiAgICAgICAgICAgIGZvcihjb25zdCByZXNvdXJjZSBpbiBjb3N0KSB7XG4gICAgICAgICAgICAgICAgbmVnYXRpdmVDb3N0W3Jlc291cmNlIGFzIGtleW9mIFJlc291cmNlc10gPSAtKGNvc3RbcmVzb3VyY2UgYXMga2V5b2YgUmVzb3VyY2VzXSB8fCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZVJlc291cmNlcyhuZWdhdGl2ZUNvc3QpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBidWlsZFRpbWUgPSBidWlsZGluZ0luZm8uYnVpbGRUaW1lICogMTAwMDtcbiAgICAgICAgY29uc3QgdGFza0lkID0gYCR7RGF0ZS5ub3coKX0tYnVpbGQtJHtidWlsZGluZ1R5cGV9YDtcbiAgICAgICAgY29uc3QgdGFza1BheWxvYWQgPSB7IGJ1aWxkaW5nVHlwZSwgdmlsbGFnZXJJZHM6IFt2aWxsYWdlcklkXSwgcG9zaXRpb24gfTtcblxuICAgICAgICBpZiAodW5saW1pdGVkUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICAgaGFuZGxlVGFza0NvbXBsZXRpb24oeyBpZDogdGFza0lkLCB0eXBlOiAnYnVpbGQnLCBzdGFydFRpbWU6IDAsIGR1cmF0aW9uOiAwLCBwYXlsb2FkOiB7IC4uLnRhc2tQYXlsb2FkLCBwb3NpdGlvbiB9IH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbmV3VGFzazogR2FtZVRhc2sgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHRhc2tJZCwgXG4gICAgICAgICAgICAgICAgdHlwZTogJ2J1aWxkJywgXG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogYnVpbGRUaW1lLCBcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB0YXNrUGF5bG9hZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gWy4uLnByZXYsIG5ld1Rhc2tdKTtcbiAgICAgICAgICAgIHNldFVuaXRzKHByZXYgPT4gKHsuLi5wcmV2LCB2aWxsYWdlcnM6IHByZXYudmlsbGFnZXJzLm1hcCh2ID0+IHYuaWQgPT09IHZpbGxhZ2VySWQgPyB7Li4udiwgY3VycmVudFRhc2s6IHRhc2tJZH0gOiB2KX0pKTtcbiAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGAke2J1aWxkZXIubmFtZX0gaGFzIHN0YXJ0ZWQgY29uc3RydWN0aW5nIGEgJHtidWlsZGluZ0luZm8ubmFtZX0uYCk7XG4gICAgICAgICAgICBhZGRUb0xvZyhgJHtidWlsZGVyLm5hbWV9IGJlZ2FuIGNvbnN0cnVjdGlvbiBvZiBhIG5ldyAke2J1aWxkaW5nSW5mby5uYW1lfS5gLCBidWlsZGluZ1R5cGUpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzZXRQbGF5ZXJBY3Rpb24obnVsbCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUNhbmNlbFBsYXllckFjdGlvbiA9ICgpID0+IHtcbiAgICAgICAgc2V0UGxheWVyQWN0aW9uKG51bGwpO1xuICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cygnQ29tbWFuZCBjYW5jZWxsZWQuJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZURlbW9saXNoQnVpbGRpbmcgPSAodHlwZTogQnVpbGRpbmdUeXBlLCBpZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmKGFjdGl2ZVRhc2tzLnNvbWUodCA9PiB0LnBheWxvYWQ/LmJ1aWxkaW5nSWQgPT09IGlkKSkge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiQ2Fubm90IGRlbW9saXNoIGEgYnVpbGRpbmcgd2l0aCBhbiBhY3RpdmUgdGFzay5cIik7IHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBCVUlMRElOR1NfSU5GTy5maW5kKGIgPT4gYi5pZCA9PT0gdHlwZSk7XG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5zdGFuY2UgPSBidWlsZGluZ3NbdHlwZV0uZmluZChiID0+IGIuaWQgPT09IGlkKTtcbiAgICAgICAgaWYgKCFidWlsZGluZ0luZm8gfHwgIWJ1aWxkaW5nSW5zdGFuY2UpIHJldHVybjtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdob3VzZXMnICYmIHBvcHVsYXRpb24uY3VycmVudCA+IChidWlsZGluZ3MudG93bkNlbnRlcj8ubGVuZ3RoID4gMCA/IDIwIDogMCkgKyAoYnVpbGRpbmdzLmhvdXNlcy5sZW5ndGggLSAxKSAqIDUpIHtcbiAgICAgICAgICAgICBhZGROb3RpZmljYXRpb24oXCJDYW5ub3QgZGVtb2xpc2ggdGhpcyBob3VzZSwgeW91ciBwZW9wbGUgd291bGQgYmUgaG9tZWxlc3MuXCIpOyByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVmdW5kOiBSZXNvdXJjZURlbHRhcyA9IHt9O1xuICAgICAgICBsZXQgcmVmdW5kTWVzc2FnZVBhcnRzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHJlcyBpbiBidWlsZGluZ0luZm8uY29zdCkge1xuICAgICAgICAgICAgY29uc3QgcmVzb3VyY2VLZXkgPSByZXMgYXMga2V5b2YgUmVzb3VyY2VzO1xuICAgICAgICAgICAgY29uc3QgY29zdCA9IGJ1aWxkaW5nSW5mby5jb3N0W3Jlc291cmNlS2V5XSB8fCAwO1xuICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gTWF0aC5mbG9vcihjb3N0ICogMC41KTtcbiAgICAgICAgICAgIGlmIChhbW91bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgcmVmdW5kW3Jlc291cmNlS2V5XSA9IGFtb3VudDtcbiAgICAgICAgICAgICAgICByZWZ1bmRNZXNzYWdlUGFydHMucHVzaChgJHthbW91bnR9ICR7cmVzb3VyY2VLZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlUmVzb3VyY2VzKHJlZnVuZCk7XG4gICAgICAgIHNldEJ1aWxkaW5ncyhwcmV2ID0+ICh7IC4uLnByZXYsIFt0eXBlXTogcHJldlt0eXBlXS5maWx0ZXIoYiA9PiBiLmlkICE9PSBpZCkgfSkpO1xuICAgICAgICBhZGRUb0xvZyhgJHtidWlsZGluZ0luc3RhbmNlLm5hbWV9ICgke2J1aWxkaW5nSW5mby5uYW1lfSkgd2FzIGRlbW9saXNoZWQuYCwgdHlwZSk7XG4gICAgICAgIGlmIChyZWZ1bmRNZXNzYWdlUGFydHMubGVuZ3RoID4gMCkgeyBhZGROb3RpZmljYXRpb24oYFNhbHZhZ2VkICR7cmVmdW5kTWVzc2FnZVBhcnRzLmpvaW4oJywgJyl9LmApOyB9XG4gICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHtpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVVcGRhdGVCdWlsZGluZyA9ICh0eXBlOiBCdWlsZGluZ1R5cGUsIGlkOiBzdHJpbmcsIG5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICBzZXRCdWlsZGluZ3MocHJldiA9PiAoeyAuLi5wcmV2LCBbdHlwZV06IHByZXZbdHlwZV0ubWFwKGIgPT4gYi5pZCA9PT0gaWQgPyB7IC4uLmIsIG5hbWUgfSA6IGIpIH0pKTtcbiAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiQnVpbGRpbmcgcmVuYW1lZC5cIik7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVRyYWluVmlsbGFnZXJzID0gKGNvdW50OiBudW1iZXIpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZVRhc2tzLnNvbWUodCA9PiB0LnR5cGUgPT09ICd0cmFpbl92aWxsYWdlcicpIHx8IGNvdW50IDw9IDApIHJldHVybjtcbiAgICAgICAgY29uc3QgdmlsbGFnZXJDb3N0ID0gNTA7XG4gICAgICAgIGNvbnN0IHRvdGFsQ29zdCA9IHZpbGxhZ2VyQ29zdCAqIGNvdW50O1xuICAgICAgICBpZiAocG9wdWxhdGlvbi5jdXJyZW50ICsgY291bnQgPiBwb3B1bGF0aW9uLmNhcGFjaXR5KSB7IGFkZE5vdGlmaWNhdGlvbihgTmVlZCBzcGFjZSBmb3IgJHtjb3VudH0gbW9yZSB2aWxsYWdlcnMuYCk7IHJldHVybjsgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgdG93bkNlbnRlciA9IGJ1aWxkaW5ncy50b3duQ2VudGVyPy5bMF07XG4gICAgICAgIGlmICghdG93bkNlbnRlcikgeyBhZGROb3RpZmljYXRpb24oYE5vIFRvd24gQ2VudGVyIHRvIHRyYWluIHZpbGxhZ2Vycy5gKTsgcmV0dXJuOyB9XG5cbiAgICAgICAgaWYgKCF1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZXMuZm9vZCA8IHRvdGFsQ29zdCkgeyBhZGROb3RpZmljYXRpb24oYE5lZWQgJHt0b3RhbENvc3QgLSByZXNvdXJjZXMuZm9vZH0gbW9yZSBGb29kLmApOyByZXR1cm47IH1cbiAgICAgICAgICAgIHVwZGF0ZVJlc291cmNlcyh7IGZvb2Q6IC10b3RhbENvc3QgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHJhaW5UaW1lID0gMTAwMDAgKiBjb3VudDsgLy8gMTBzIHBlciB2aWxsYWdlclxuICAgICAgICBpZih1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGhhbmRsZVRhc2tDb21wbGV0aW9uKHsgaWQ6ICdpbnN0YW50JywgdHlwZTogJ3RyYWluX3ZpbGxhZ2VyJywgc3RhcnRUaW1lOiAwLCBkdXJhdGlvbjogMCwgcGF5bG9hZDogeyBjb3VudCB9IH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdGFza0lkID0gYCR7RGF0ZS5ub3coKX0tdHJhaW4tdmlsbGFnZXJgO1xuICAgICAgICAgICAgY29uc3QgbmV3VGFzazogR2FtZVRhc2sgPSB7IGlkOiB0YXNrSWQsIHR5cGU6ICd0cmFpbl92aWxsYWdlcicsIHN0YXJ0VGltZTogRGF0ZS5ub3coKSwgZHVyYXRpb246IHRyYWluVGltZSwgcGF5bG9hZDogeyBjb3VudCwgYnVpbGRpbmdJZDogdG93bkNlbnRlci5pZCB9IH07XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IFsuLi5wcmV2LCBuZXdUYXNrXSk7XG4gICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgVHJhaW5pbmcgJHtjb3VudH0gdmlsbGFnZXIocykuLi5gKTtcbiAgICAgICAgICAgIGFkZFRvTG9nKGBCZWdhbiB0cmFpbmluZyAke2NvdW50fSBuZXcgdmlsbGFnZXIocykuYCwgJ3ZpbGxhZ2VyJyk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgaGFuZGxlVHJhaW5Vbml0cyA9ICh1bml0VHlwZTogTWlsaXRhcnlVbml0VHlwZSwgY291bnQ6IG51bWJlcikgPT4ge1xuICAgICAgICBjb25zdCB1bml0SW5mbyA9IFVOSVRfSU5GTy5maW5kKHUgPT4gdS5pZCA9PT0gdW5pdFR5cGUpO1xuICAgICAgICBpZiAoIXVuaXRJbmZvIHx8IGFjdGl2ZVRhc2tzLnNvbWUodCA9PiB0LnBheWxvYWQ/LnVuaXRUeXBlID09PSB1bml0VHlwZSkgfHwgY291bnQgPD0gMCkgcmV0dXJuO1xuICAgICAgICBpZiAocG9wdWxhdGlvbi5jdXJyZW50ICsgY291bnQgPiBwb3B1bGF0aW9uLmNhcGFjaXR5KSB7IGFkZE5vdGlmaWNhdGlvbihgTmVlZCBzcGFjZSBmb3IgJHtjb3VudH0gbW9yZSB1bml0cy5gKTsgcmV0dXJuOyB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0cmFpbmluZ0J1aWxkaW5nID0gYnVpbGRpbmdzW3VuaXRJbmZvLnJlcXVpcmVkQnVpbGRpbmddPy5bMF07XG4gICAgICAgIGlmICghdHJhaW5pbmdCdWlsZGluZykgeyBhZGROb3RpZmljYXRpb24oYE5vICR7dW5pdEluZm8ucmVxdWlyZWRCdWlsZGluZ30gdG8gdHJhaW4gdW5pdHMuYCk7IHJldHVybjsgfVxuXG4gICAgICAgIGlmICghdW5saW1pdGVkUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICBjb25zdCB0b3RhbENvc3Q6IFJlc291cmNlRGVsdGFzID0ge307IGNvbnN0IG1pc3Npbmc6IHN0cmluZ1tdID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlcyBpbiB1bml0SW5mby5jb3N0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzb3VyY2VLZXkgPSByZXMgYXMga2V5b2YgUmVzb3VyY2VzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvc3QgPSAodW5pdEluZm8uY29zdFtyZXNvdXJjZUtleV0gfHwgMCkgKiBjb3VudDtcbiAgICAgICAgICAgICAgICB0b3RhbENvc3RbcmVzb3VyY2VLZXldID0gLWNvc3Q7XG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlc1tyZXNvdXJjZUtleV0gPCBjb3N0KSBtaXNzaW5nLnB1c2goYCR7Y29zdCAtIHJlc291cmNlc1tyZXNvdXJjZUtleV19ICR7cmVzb3VyY2VLZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWlzc2luZy5sZW5ndGggPiAwKSB7IGFkZE5vdGlmaWNhdGlvbihgTmVlZCAke21pc3Npbmcuam9pbignIGFuZCAnKX0uYCk7IHJldHVybjsgfVxuICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKHRvdGFsQ29zdCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHJhaW5UaW1lID0gdW5pdEluZm8udHJhaW5UaW1lICogMTAwMCAqIGNvdW50O1xuICAgICAgICBpZih1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGhhbmRsZVRhc2tDb21wbGV0aW9uKHsgaWQ6ICdpbnN0YW50JywgdHlwZTogJ3RyYWluX21pbGl0YXJ5Jywgc3RhcnRUaW1lOiAwLCBkdXJhdGlvbjogMCwgcGF5bG9hZDogeyB1bml0VHlwZSwgY291bnQgfSB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tJZCA9IGAke0RhdGUubm93KCl9LXRyYWluLSR7dW5pdFR5cGV9YDtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Rhc2s6IEdhbWVUYXNrID0geyBpZDogdGFza0lkLCB0eXBlOiAndHJhaW5fbWlsaXRhcnknLCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiB0cmFpblRpbWUsIHBheWxvYWQ6IHsgdW5pdFR5cGUsIGNvdW50LCBidWlsZGluZ0lkOiB0cmFpbmluZ0J1aWxkaW5nLmlkIH0gfTtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gWy4uLnByZXYsIG5ld1Rhc2tdKTtcbiAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBUcmFpbmluZyAke2NvdW50fSAke3VuaXRJbmZvLm5hbWV9KHMpLi4uYCk7XG4gICAgICAgICAgICBhZGRUb0xvZyhgQmVnYW4gdHJhaW5pbmcgJHtjb3VudH0gbmV3ICR7dW5pdEluZm8ubmFtZX0ocykuYCwgdW5pdFR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlRGlzbWlzc1NwZWNpZmljVW5pdCA9ICh0eXBlOiAndmlsbGFnZXJzJyB8ICdtaWxpdGFyeScsIGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgaWYgKHR5cGUgPT09ICd2aWxsYWdlcnMnICYmIGlzVmlsbGFnZXJCdXN5KGlkKSkge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiQ2Fubm90IGRpc21pc3MgYSBidXN5IHZpbGxhZ2VyLlwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1bml0ID0gdW5pdHNbdHlwZV0uZmluZCh1ID0+IHUuaWQgPT09IGlkKTtcbiAgICAgICAgaWYgKCF1bml0KSByZXR1cm47XG4gICAgICAgIGlmICh0eXBlID09PSAndmlsbGFnZXJzJyAmJiB1bml0cy52aWxsYWdlcnMubGVuZ3RoIDw9IDEpIHsgYWRkTm90aWZpY2F0aW9uKFwiQ2Fubm90IGRpc21pc3MgeW91ciBsYXN0IHZpbGxhZ2VyLlwiKTsgcmV0dXJuOyB9XG4gICAgICAgIHNldFVuaXRzKHByZXYgPT4gKHsgLi4ucHJldiwgW3R5cGVdOiBwcmV2W3R5cGVdLmZpbHRlcih1ID0+IHUuaWQgIT09IGlkKSB9KSk7XG4gICAgICAgIGNvbnN0IHVuaXRUeXBlTmFtZSA9IHR5cGUgPT09ICd2aWxsYWdlcnMnID8gJ3ZpbGxhZ2VyJyA6ICh1bml0IGFzIE1pbGl0YXJ5VW5pdCkudW5pdFR5cGU7XG4gICAgICAgIGFkZFRvTG9nKGAke3VuaXQubmFtZX0gdGhlICR7dW5pdFR5cGVOYW1lfSBoYXMgYmVlbiBkaXNtaXNzZWQuYCwgdHlwZSA9PT0gJ3ZpbGxhZ2VycycgPyAndmlsbGFnZXInIDogKHVuaXQgYXMgTWlsaXRhcnlVbml0KS51bml0VHlwZSk7XG4gICAgICAgIGFkZE5vdGlmaWNhdGlvbihgJHt1bml0Lm5hbWV9IHdhcyBkaXNtaXNzZWQuYCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVVwZGF0ZVVuaXQgPSAodHlwZTogJ3ZpbGxhZ2VycycgfCAnbWlsaXRhcnknLCBpZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIHRpdGxlPzogc3RyaW5nKSA9PiB7XG4gICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7IC4uLnByZXYsIFt0eXBlXTogcHJldlt0eXBlXS5tYXAodSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHUuaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRVbml0ID0geyAuLi51LCBuYW1lIH07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnbWlsaXRhcnknICYmIHRpdGxlICE9PSB1bmRlZmluZWQpIHsgKHVwZGF0ZWRVbml0IGFzIE1pbGl0YXJ5VW5pdCkudGl0bGUgPSB0aXRsZTsgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZFVuaXQ7XG4gICAgICAgICAgICAgICAgfSByZXR1cm4gdTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pKTtcbiAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiVW5pdCB1cGRhdGVkLlwiKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQXNzaWduVmlsbGFnZXJzVG9Ob2RlID0gKG5vZGVJZDogc3RyaW5nLCBjb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkbGVWaWxsYWdlcnMgPSB1bml0cy52aWxsYWdlcnMuZmlsdGVyKHYgPT4gIXYuY3VycmVudFRhc2spO1xuICAgICAgICBpZiAoY291bnQgPD0gMCkgcmV0dXJuO1xuICAgICAgICBsZXQgY2FwcGVkQ291bnQgPSBNYXRoLm1pbihjb3VudCwgaWRsZVZpbGxhZ2Vycy5sZW5ndGgpO1xuICAgICAgICBpZiAoY2FwcGVkQ291bnQgPT09IDApIHsgYWRkTm90aWZpY2F0aW9uKFwiTm8gaWRsZSB2aWxsYWdlcnMgYXZhaWxhYmxlLlwiKTsgcmV0dXJuOyB9XG4gICAgXG4gICAgICAgIGNvbnN0IHZpbGxhZ2Vyc1RvQXNzaWduID0gaWRsZVZpbGxhZ2Vycy5zbGljZSgwLCBjYXBwZWRDb3VudCk7XG4gICAgICAgIGNvbnN0IHZpbGxhZ2VySWRzVG9Bc3NpZ24gPSB2aWxsYWdlcnNUb0Fzc2lnbi5tYXAodiA9PiB2LmlkKTtcbiAgICBcbiAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHJlc291cmNlTm9kZXMuZmluZChuID0+IG4uaWQgPT09IG5vZGVJZCk7XG4gICAgICAgIGlmICghdGFyZ2V0Tm9kZSkgcmV0dXJuO1xuICAgIFxuICAgICAgICBjb25zdCB0YXNrSWQgPSBgZ2F0aGVyLSR7bm9kZUlkfWA7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nVGFzayA9IGFjdGl2ZVRhc2tzLmZpbmQodCA9PiB0LmlkID09PSB0YXNrSWQpO1xuICAgIFxuICAgICAgICBpZiAodW5saW1pdGVkUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXMoeyBbdGFyZ2V0Tm9kZS50eXBlXTogdGFyZ2V0Tm9kZS5hbW91bnQgfSk7XG4gICAgICAgICAgICBhZGRUb0xvZyhgJHtjYXBwZWRDb3VudH0gdmlsbGFnZXIocykgaW5zdGFudGx5IGdhdGhlcmVkICR7TWF0aC5mbG9vcih0YXJnZXROb2RlLmFtb3VudCl9ICR7dGFyZ2V0Tm9kZS50eXBlfS5gLCB0YXJnZXROb2RlLnR5cGUpO1xuICAgICAgICAgICAgc2V0UmVzb3VyY2VOb2RlcyhwcmV2ID0+IHByZXYuZmlsdGVyKG4gPT4gbi5pZCAhPT0gbm9kZUlkKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdUYXNrKSB7XG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBwcmV2Lm1hcCh0ID0+IHQuaWQgPT09IHRhc2tJZCA/IHtcbiAgICAgICAgICAgICAgICAgICAgLi4udCxcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogeyAuLi50LnBheWxvYWQsIHZpbGxhZ2VySWRzOiBbLi4ubmV3IFNldChbLi4udC5wYXlsb2FkIS52aWxsYWdlcklkcyEsIC4uLnZpbGxhZ2VySWRzVG9Bc3NpZ25dKV0gfVxuICAgICAgICAgICAgICAgIH0gOiB0KSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICBjb25zdCBuZXdUYXNrOiBHYW1lVGFzayA9IHsgaWQ6IHRhc2tJZCwgdHlwZTogJ2dhdGhlcicsIHN0YXJ0VGltZTogRGF0ZS5ub3coKSwgZHVyYXRpb246IDk5OTk5OTk5OSwgcGF5bG9hZDogeyByZXNvdXJjZU5vZGVJZDogbm9kZUlkLCB2aWxsYWdlcklkczogdmlsbGFnZXJJZHNUb0Fzc2lnbiB9fTsgLy8gRHVyYXRpb24gaXMgYXJiaXRyYXJ5XG4gICAgICAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gWy4uLnByZXYsIG5ld1Rhc2tdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFVuaXRzKHByZXYgPT4gKHsuLi5wcmV2LCB2aWxsYWdlcnM6IHByZXYudmlsbGFnZXJzLm1hcCh2ID0+IHZpbGxhZ2VySWRzVG9Bc3NpZ24uaW5jbHVkZXModi5pZCkgPyB7Li4udiwgY3VycmVudFRhc2s6IHRhc2tJZH0gOiB2KX0pKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBhZGRUb0xvZyhgJHtjYXBwZWRDb3VudH0gdmlsbGFnZXIocykgYXNzaWduZWQgdG8gZ2F0aGVyICR7dGFyZ2V0Tm9kZS50eXBlfS5gLCB0YXJnZXROb2RlLnR5cGUpO1xuICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgJHtjYXBwZWRDb3VudH0gdmlsbGFnZXIocykgYXJlIG5vdyBnYXRoZXJpbmcgJHt0YXJnZXROb2RlLnR5cGV9LmApO1xuICAgICAgICBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIHRhcmdldElkOiBudWxsLCB0YXJnZXRUeXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVSZWNhbGxWaWxsYWdlcnMgPSAodGFyZ2V0SWQ6IHN0cmluZywgY291bnQ6IG51bWJlciwgdHlwZTogJ3Jlc291cmNlJyB8ICdjb25zdHJ1Y3Rpb24nKSA9PiB7XG4gICAgICAgIGlmICh0eXBlID09PSAncmVzb3VyY2UnKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrSWQgPSBgZ2F0aGVyLSR7dGFyZ2V0SWR9YDtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSByZXNvdXJjZU5vZGVzLmZpbmQobiA9PiBuLmlkID09PSB0YXJnZXRJZCk7XG4gICAgICAgICAgICBjb25zdCBhc3NpZ25lZFZpbGxhZ2VycyA9IHVuaXRzLnZpbGxhZ2Vycy5maWx0ZXIodiA9PiB2LmN1cnJlbnRUYXNrID09PSB0YXNrSWQpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIW5vZGUgfHwgYXNzaWduZWRWaWxsYWdlcnMubGVuZ3RoIDwgY291bnQpIHJldHVybjtcbiAgICBcbiAgICAgICAgICAgIGNvbnN0IHZpbGxhZ2Vyc1RvUmVjYWxsID0gYXNzaWduZWRWaWxsYWdlcnMuc2xpY2UoYXNzaWduZWRWaWxsYWdlcnMubGVuZ3RoIC0gY291bnQpLm1hcCh2ID0+IHYuaWQpO1xuICAgICAgICAgICAgc2V0VW5pdHMocHJldiA9PiAoey4uLnByZXYsIHZpbGxhZ2VyczogcHJldi52aWxsYWdlcnMubWFwKHYgPT4gdmlsbGFnZXJzVG9SZWNhbGwuaW5jbHVkZXModi5pZCkgPyB7Li4udiwgY3VycmVudFRhc2s6IG51bGx9IDogdil9KSk7XG4gICAgXG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBwcmV2LmZpbmRJbmRleCh0ID0+IHQuaWQgPT09IHRhc2tJZCk7XG4gICAgICAgICAgICAgICAgaWYgKHRhc2tJbmRleCA9PT0gLTEpIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2sgPSBwcmV2W3Rhc2tJbmRleF07XG4gICAgICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nVmlsbGFnZXJzID0gdGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEuZmlsdGVyKGlkID0+ICF2aWxsYWdlcnNUb1JlY2FsbC5pbmNsdWRlcyhpZCkpO1xuICAgIFxuICAgICAgICAgICAgICAgIGlmIChyZW1haW5pbmdWaWxsYWdlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2LmZpbHRlcigoXywgaSkgPT4gaSAhPT0gdGFza0luZGV4KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldi5tYXAoKHQsIGkpID0+IGkgPT09IHRhc2tJbmRleCA/IHsgLi4udCwgcGF5bG9hZDogeyAuLi50LnBheWxvYWQsIHZpbGxhZ2VySWRzOiByZW1haW5pbmdWaWxsYWdlcnMgfSB9IDogdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhZGRUb0xvZyhgJHtjb3VudH0gdmlsbGFnZXIocykgcmVjYWxsZWQgZnJvbSBnYXRoZXJpbmcgJHtub2RlLnR5cGV9LmAsICd2aWxsYWdlcicpO1xuICAgICAgICB9IGVsc2UgeyAvLyBjb25zdHJ1Y3Rpb25cbiAgICAgICAgICAgIGNvbnN0IHRhc2sgPSBhY3RpdmVUYXNrcy5maW5kKHQgPT4gdC5pZCA9PT0gdGFyZ2V0SWQpO1xuICAgICAgICAgICAgaWYgKCF0YXNrIHx8IHRhc2sudHlwZSAhPT0gJ2J1aWxkJyB8fCAodGFzay5wYXlsb2FkPy52aWxsYWdlcklkcz8ubGVuZ3RoID8/IDApIDwgY291bnQpIHJldHVybjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgdmlsbGFnZXJzVG9SZWNhbGwgPSB0YXNrLnBheWxvYWQhLnZpbGxhZ2VySWRzIS5zbGljZSh0YXNrLnBheWxvYWQhLnZpbGxhZ2VySWRzIS5sZW5ndGggLSBjb3VudCk7XG4gICAgICAgICAgICBjb25zdCByZW1haW5pbmdWaWxsYWdlcnMgPSB0YXNrLnBheWxvYWQhLnZpbGxhZ2VySWRzIS5maWx0ZXIoaWQgPT4gIXZpbGxhZ2Vyc1RvUmVjYWxsLmluY2x1ZGVzKGlkKSk7XG4gICAgXG4gICAgICAgICAgICBpZiAocmVtYWluaW5nVmlsbGFnZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihcIkNhbm5vdCByZWNhbGwgdGhlIGxhc3QgYnVpbGRlci4gVGhpcyB3b3VsZCBjYW5jZWwgdGhlIHByb2plY3QuXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0VW5pdHMocHJldiA9PiAoey4uLnByZXYsIHZpbGxhZ2VyczogcHJldi52aWxsYWdlcnMubWFwKHYgPT4gdmlsbGFnZXJzVG9SZWNhbGwuaW5jbHVkZXModi5pZCkgPyB7Li4udiwgY3VycmVudFRhc2s6IG51bGx9IDogdil9KSk7XG4gICAgXG4gICAgICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBCVUlMRElOR1NfSU5GTy5maW5kKGIgPT4gYi5pZCA9PT0gdGFzay5wYXlsb2FkIS5idWlsZGluZ1R5cGUpITtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsV29yayA9IGJ1aWxkaW5nSW5mby5idWlsZFRpbWUgKiAxMDAwO1xuICAgICAgICAgICAgY29uc3Qgb2xkV29ya2VyQ291bnQgPSB0YXNrLnBheWxvYWQhLnZpbGxhZ2VySWRzIS5sZW5ndGg7XG4gICAgXG4gICAgICAgICAgICBjb25zdCB0aW1lRWxhcHNlZCA9IERhdGUubm93KCkgLSB0YXNrLnN0YXJ0VGltZTtcbiAgICAgICAgICAgIGNvbnN0IHdvcmtEb25lID0gdGltZUVsYXBzZWQgKiBvbGRXb3JrZXJDb3VudDtcbiAgICAgICAgICAgIGNvbnN0IHdvcmtSZW1haW5pbmcgPSBNYXRoLm1heCgwLCB0b3RhbFdvcmsgLSB3b3JrRG9uZSk7XG4gICAgXG4gICAgICAgICAgICBjb25zdCBuZXdXb3JrZXJDb3VudCA9IHJlbWFpbmluZ1ZpbGxhZ2Vycy5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBuZXdSZW1haW5pbmdEdXJhdGlvbiA9IHdvcmtSZW1haW5pbmcgLyBuZXdXb3JrZXJDb3VudDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBwcmV2Lm1hcCh0ID0+IHQuaWQgPT09IHRhcmdldElkID8ge1xuICAgICAgICAgICAgICAgIC4uLnQsXG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBuZXdSZW1haW5pbmdEdXJhdGlvbixcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7IC4uLnQucGF5bG9hZCwgdmlsbGFnZXJJZHM6IHJlbWFpbmluZ1ZpbGxhZ2VycyB9XG4gICAgICAgICAgICB9IDogdCkpO1xuICAgICAgICAgICAgYWRkVG9Mb2coYCR7Y291bnR9IHZpbGxhZ2VyKHMpIHJlY2FsbGVkIGZyb20gY29uc3RydWN0aW9uLiBXb3JrIHdpbGwgbm93IHByb2NlZWQgc2xvd2VyLmAsICd2aWxsYWdlcicpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdGFyZ2V0SWQ6IG51bGwsIHRhcmdldFR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUFzc2lnblZpbGxhZ2Vyc1RvQ29uc3RydWN0aW9uID0gKGNvbnN0cnVjdGlvbklkOiBzdHJpbmcsIGNvdW50OiBudW1iZXIpID0+IHtcbiAgICAgICAgY29uc3QgaWRsZVZpbGxhZ2VycyA9IHVuaXRzLnZpbGxhZ2Vycy5maWx0ZXIodiA9PiAhdi5jdXJyZW50VGFzayk7XG4gICAgICAgIGlmIChjb3VudCA8PSAwKSByZXR1cm47XG4gICAgICAgIGxldCBjYXBwZWRDb3VudCA9IE1hdGgubWluKGNvdW50LCBpZGxlVmlsbGFnZXJzLmxlbmd0aCk7XG4gICAgICAgIGlmIChjYXBwZWRDb3VudCA9PT0gMCkgeyBhZGROb3RpZmljYXRpb24oXCJObyBpZGxlIHZpbGxhZ2VycyBhdmFpbGFibGUgdG8gYXNzaXN0LlwiKTsgcmV0dXJuOyB9XG5cbiAgICAgICAgY29uc3QgdmlsbGFnZXJzVG9Bc3NpZ24gPSBpZGxlVmlsbGFnZXJzLnNsaWNlKDAsIGNhcHBlZENvdW50KTtcbiAgICAgICAgY29uc3QgdmlsbGFnZXJJZHNUb0Fzc2lnbiA9IHZpbGxhZ2Vyc1RvQXNzaWduLm1hcCh2ID0+IHYuaWQpO1xuICAgICAgICBjb25zdCB0YXNrID0gYWN0aXZlVGFza3MuZmluZCh0ID0+IHQuaWQgPT09IGNvbnN0cnVjdGlvbklkKTtcblxuICAgICAgICBpZiAoIXRhc2sgfHwgdGFzay50eXBlICE9PSAnYnVpbGQnKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgYnVpbGRpbmdJbmZvID0gQlVJTERJTkdTX0lORk8uZmluZChiID0+IGIuaWQgPT09IHRhc2sucGF5bG9hZD8uYnVpbGRpbmdUeXBlKTtcbiAgICAgICAgaWYgKCFidWlsZGluZ0luZm8pIHJldHVybjtcblxuICAgICAgICBjb25zdCBiYXNlRHVyYXRpb24gPSBidWlsZGluZ0luZm8uYnVpbGRUaW1lICogMTAwMDtcbiAgICAgICAgY29uc3Qgb2xkV29ya2VyQ291bnQgPSB0YXNrLnBheWxvYWQ/LnZpbGxhZ2VySWRzPy5sZW5ndGggfHwgMTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRpbWVFbGFwc2VkID0gRGF0ZS5ub3coKSAtIHRhc2suc3RhcnRUaW1lO1xuICAgICAgICBjb25zdCB3b3JrRG9uZSA9IHRpbWVFbGFwc2VkICogb2xkV29ya2VyQ291bnQ7XG4gICAgICAgIGNvbnN0IHRvdGFsV29yayA9IGJhc2VEdXJhdGlvbjtcbiAgICAgICAgY29uc3Qgd29ya1JlbWFpbmluZyA9IE1hdGgubWF4KDAsIHRvdGFsV29yayAtIHdvcmtEb25lKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IG5ld1dvcmtlckNvdW50ID0gb2xkV29ya2VyQ291bnQgKyBjYXBwZWRDb3VudDtcbiAgICAgICAgY29uc3QgbmV3UmVtYWluaW5nRHVyYXRpb24gPSB3b3JrUmVtYWluaW5nIC8gbmV3V29ya2VyQ291bnQ7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB1cGRhdGVkVmlsbGFnZXJJZHMgPSBbLi4udGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEsIC4uLnZpbGxhZ2VySWRzVG9Bc3NpZ25dO1xuXG4gICAgICAgIHNldFVuaXRzKHByZXYgPT4gKHsuLi5wcmV2LCB2aWxsYWdlcnM6IHByZXYudmlsbGFnZXJzLm1hcCh2ID0+IHZpbGxhZ2VySWRzVG9Bc3NpZ24uaW5jbHVkZXModi5pZCkgPyB7Li4udiwgY3VycmVudFRhc2s6IGNvbnN0cnVjdGlvbklkfSA6IHYpfSkpO1xuXG4gICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gcHJldi5tYXAodCA9PiB0LmlkID09PSBjb25zdHJ1Y3Rpb25JZCA/IHtcbiAgICAgICAgICAgIC4uLnQsXG4gICAgICAgICAgICBzdGFydFRpbWU6IERhdGUubm93KCksXG4gICAgICAgICAgICBkdXJhdGlvbjogbmV3UmVtYWluaW5nRHVyYXRpb24sXG4gICAgICAgICAgICBwYXlsb2FkOiB7IC4uLnQucGF5bG9hZCwgdmlsbGFnZXJJZHM6IHVwZGF0ZWRWaWxsYWdlcklkcyB9XG4gICAgICAgIH0gOiB0KSk7XG5cbiAgICAgICAgYWRkVG9Mb2coYCR7Y2FwcGVkQ291bnR9IHZpbGxhZ2VyKHMpIGFyZSBub3cgYXNzaXN0aW5nIHdpdGggdGhlICR7YnVpbGRpbmdJbmZvLm5hbWV9LmAsIGJ1aWxkaW5nSW5mby5pZCk7XG4gICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBDb25zdHJ1Y3Rpb24gb2YgdGhlICR7YnVpbGRpbmdJbmZvLm5hbWV9IGlzIG5vdyBmYXN0ZXIuYCk7XG4gICAgICAgIHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdGFyZ2V0SWQ6IG51bGwsIHRhcmdldFR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUFzc2lnblZpbGxhZ2VycyA9ICh0YXJnZXRJZDogc3RyaW5nLCBjb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGlmIChhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRUeXBlID09PSAncmVzb3VyY2UnKSB7XG4gICAgICAgICAgICBoYW5kbGVBc3NpZ25WaWxsYWdlcnNUb05vZGUodGFyZ2V0SWQsIGNvdW50KTtcbiAgICAgICAgfSBlbHNlIGlmIChhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRUeXBlID09PSAnY29uc3RydWN0aW9uJykge1xuICAgICAgICAgICAgaGFuZGxlQXNzaWduVmlsbGFnZXJzVG9Db25zdHJ1Y3Rpb24odGFyZ2V0SWQsIGNvdW50KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVBZHZhbmNlQWdlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoYWN0aXZlVGFza3Muc29tZSh0ID0+IHQudHlwZSA9PT0gJ2FkdmFuY2VfYWdlJykpIHsgYWRkTm90aWZpY2F0aW9uKFwiQWR2YW5jZW1lbnQgYWxyZWFkeSBpbiBwcm9ncmVzcy5cIik7IHJldHVybjsgfVxuICAgICAgICBpZiAoIXVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgaWYgKHJlc291cmNlcy5mb29kIDwgNTAwIHx8IHJlc291cmNlcy5nb2xkIDwgMjAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWlzc2luZzogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgICAgICBpZiAocmVzb3VyY2VzLmZvb2QgPCA1MDApIG1pc3NpbmcucHVzaChgJHs1MDAgLSByZXNvdXJjZXMuZm9vZH0gRm9vZGApO1xuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZXMuZ29sZCA8IDIwMCkgbWlzc2luZy5wdXNoKGAkezIwMCAtIHJlc291cmNlcy5nb2xkfSBHb2xkYCk7XG4gICAgICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKGBUbyBhZHZhbmNlLCB5b3UgbmVlZCAke21pc3Npbmcuam9pbignIGFuZCAnKX0uYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKHsgZm9vZDogLTUwMCwgZ29sZDogLTIwMCB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IDYwMDAwO1xuICAgICAgICBpZih1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGhhbmRsZVRhc2tDb21wbGV0aW9uKHsgaWQ6ICdpbnN0YW50JywgdHlwZTogJ2FkdmFuY2VfYWdlJywgc3RhcnRUaW1lOiAwLCBkdXJhdGlvbjogMCwgcGF5bG9hZDoge30gfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrSWQgPSBgJHtEYXRlLm5vdygpfS1hZHZhbmNlX2FnZWA7XG4gICAgICAgICAgICBjb25zdCBuZXdUYXNrOiBHYW1lVGFzayA9IHsgaWQ6IHRhc2tJZCwgdHlwZTogJ2FkdmFuY2VfYWdlJywgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBkdXJhdGlvbiB9O1xuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBbLi4ucHJldiwgbmV3VGFza10pO1xuICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYFlvdXIgcGVvcGxlIGJlZ2luIHRoZSBsb25nIGpvdXJuZXkgdG8gYSBuZXcgYWdlLmApO1xuICAgICAgICAgICAgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBoYW5kbGVFeGl0R2FtZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgc2V0Q3VycmVudFNhdmVOYW1lKG51bGwpO1xuICAgICAgICBhd2FpdCBmZXRjaFNhdmVzKCk7XG4gICAgICAgIHNldEdhbWVTdGF0ZShHYW1lU3RhdHVzLk1FTlUpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVEZWxldGVHYW1lID0gYXN5bmMgKHNhdmVOYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgYXdhaXQgZGVsZXRlR2FtZVN0YXRlKHNhdmVOYW1lKTtcbiAgICAgICAgYXdhaXQgZmV0Y2hTYXZlcygpO1xuICAgICAgICBhZGROb3RpZmljYXRpb24oYERlbGV0ZWQgc2FnYTogXCIke3NhdmVOYW1lfVwiYCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVRvZ2dsZVVubGltaXRlZFJlc291cmNlcyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgbmV3TW9kZSA9ICF1bmxpbWl0ZWRSZXNvdXJjZXM7XG4gICAgICAgIHNldFVubGltaXRlZFJlc291cmNlcyhuZXdNb2RlKTtcblxuICAgICAgICBpZiAobmV3TW9kZSkge1xuICAgICAgICAgICAgLy8gVGVzdCBtb2RlIGlzIGJlaW5nIHR1cm5lZCBPTlxuICAgICAgICAgICAgc2V0UmVzb3VyY2VzKHsgZm9vZDogOTk5OTksIHdvb2Q6IDk5OTk5LCBnb2xkOiA5OTk5OSwgc3RvbmU6IDk5OTk5IH0pO1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiVGVzdCBNb2RlOiBPTiAtIEFsbCBhY3RpdmUgdGFza3MgY29tcGxldGVkLlwiKTtcblxuICAgICAgICAgICAgY29uc3QgZGVwbGV0ZWROb2RlSWRzID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgICAgICAgICBjb25zdCB0YXNrc1RvQ29tcGxldGUgPSBbLi4uYWN0aXZlVGFza3NdO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDbGVhciB0aGUgdGFzayBxdWV1ZSBpbW1lZGlhdGVseVxuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MoW10pO1xuXG4gICAgICAgICAgICAvLyBQcm9jZXNzIGFuZCBjb21wbGV0ZSBhbGwgcHJldmlvdXNseSBhY3RpdmUgdGFza3NcbiAgICAgICAgICAgIHRhc2tzVG9Db21wbGV0ZS5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0YXNrLnR5cGUgPT09ICdnYXRoZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXNrLnBheWxvYWQ/LnJlc291cmNlTm9kZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXBsZXRlZE5vZGVJZHMuYWRkKHRhc2sucGF5bG9hZC5yZXNvdXJjZU5vZGVJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gcmVzb3VyY2VOb2Rlcy5maW5kKG4gPT4gbi5pZCA9PT0gdGFzay5wYXlsb2FkLnJlc291cmNlTm9kZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9Mb2coYEluc3RhbnRseSBnYXRoZXJlZCBhbGwgJHtub2RlLnR5cGV9IGZyb20gYSBkZXBsZXRlZCBzb3VyY2UuYCwgbm9kZS50eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBDb21wbGV0ZSBhbGwgdGFza3MsIHdoaWNoIGFsc28gaGFuZGxlcyBmcmVlaW5nIHZpbGxhZ2Vyc1xuICAgICAgICAgICAgICAgIGhhbmRsZVRhc2tDb21wbGV0aW9uKHRhc2spO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSBkZXBsZXRlZCByZXNvdXJjZSBub2Rlc1xuICAgICAgICAgICAgaWYgKGRlcGxldGVkTm9kZUlkcy5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgIHNldFJlc291cmNlTm9kZXMocHJldiA9PiBwcmV2LmZpbHRlcihuID0+ICFkZXBsZXRlZE5vZGVJZHMuaGFzKG4uaWQpKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRlc3QgbW9kZSBpcyBiZWluZyB0dXJuZWQgT0ZGXG4gICAgICAgICAgICBhZGROb3RpZmljYXRpb24oXCJUZXN0IE1vZGU6IE9GRlwiKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBidWlsZGluZ0NvdW50cyA9IE9iamVjdC5rZXlzKGJ1aWxkaW5ncykucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgICAgICBjb25zdCBidWlsZGluZ1R5cGUgPSBrZXkgYXMgQnVpbGRpbmdUeXBlO1xuICAgICAgICBhY2NbYnVpbGRpbmdUeXBlXSA9IGJ1aWxkaW5nc1tidWlsZGluZ1R5cGVdLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSBhcyBSZWNvcmQ8QnVpbGRpbmdUeXBlLCBudW1iZXI+KTtcbiAgICBcbiAgICBjb25zdCBpZGxlVmlsbGFnZXJDb3VudCA9IHVuaXRzLnZpbGxhZ2Vycy5maWx0ZXIodiA9PiAhdi5jdXJyZW50VGFzaykubGVuZ3RoO1xuICAgIFxuICAgIGNvbnN0IGFzc2lnbm1lbnRUYXJnZXQgPSBhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRUeXBlID09PSAncmVzb3VyY2UnXG4gICAgICAgID8gcmVzb3VyY2VOb2Rlcy5maW5kKG4gPT4gbi5pZCA9PT0gYXNzaWdubWVudFBhbmVsU3RhdGUudGFyZ2V0SWQpXG4gICAgICAgIDogYWN0aXZlVGFza3MuZmluZCh0ID0+IHQudHlwZSA9PT0gJ2J1aWxkJyAmJiB0LmlkID09PSBhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRJZCk7XG5cbiAgICBjb25zdCBjbG9zZUFsbFBhbmVscyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgc2V0VW5pdE1hbmFnZW1lbnRQYW5lbChwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICAgICAgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwocCA9PiBwLmlzT3BlbiA/IHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgaW5zdGFuY2VJZDogdW5kZWZpbmVkLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICAgICAgc2V0QnVpbGRQYW5lbFN0YXRlKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIHZpbGxhZ2VySWQ6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgICAgICBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZShwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgICAgIHNldENpdlBhbmVsU3RhdGUocCA9PiBwLmlzT3BlbiA/IHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgICAgIHNldEFsbEJ1aWxkaW5nc1BhbmVsKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IGhhbmRsZU9wZW5CdWlsZGluZ1BhbmVsID0gdXNlQ2FsbGJhY2soKHR5cGU6IEJ1aWxkaW5nVHlwZSwgaW5zdGFuY2VJZDogc3RyaW5nLCByZWN0OiBET01SZWN0KSA9PiB7XG4gICAgICAgIGNsb3NlQWxsUGFuZWxzKCk7XG4gICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiB0cnVlLCB0eXBlLCBpbnN0YW5jZUlkLCBhbmNob3JSZWN0OiByZWN0IH0pO1xuICAgIH0sIFtjbG9zZUFsbFBhbmVsc10pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgaGFuZGxlQ2xpY2tPdXRzaWRlID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoY3VycmVudEV2ZW50KSByZXR1cm47IC8vIERvbid0IGNsb3NlIHBhbmVscyBpZiBldmVudCBtb2RhbCBpcyBvcGVuXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGlzQW55UGFuZWxPcGVuID0gdW5pdE1hbmFnZW1lbnRQYW5lbC5pc09wZW4gfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsLmlzT3BlbiB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRQYW5lbFN0YXRlLmlzT3BlbiB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWdubWVudFBhbmVsU3RhdGUuaXNPcGVuIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXZQYW5lbFN0YXRlLmlzT3BlbiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxCdWlsZGluZ3NQYW5lbC5pc09wZW47XG5cbiAgICAgICAgICAgIGlmICghaXNBbnlQYW5lbE9wZW4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBFbGVtZW50O1xuXG4gICAgICAgICAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5zY2ktZmktcGFuZWwtcG9wdXAnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2xvc2VBbGxQYW5lbHMoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXG4gICAgICAgIHVuaXRNYW5hZ2VtZW50UGFuZWwuaXNPcGVuLCBcbiAgICAgICAgYnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwuaXNPcGVuLFxuICAgICAgICBidWlsZFBhbmVsU3RhdGUuaXNPcGVuLFxuICAgICAgICBhc3NpZ25tZW50UGFuZWxTdGF0ZS5pc09wZW4sXG4gICAgICAgIGNpdlBhbmVsU3RhdGUuaXNPcGVuLFxuICAgICAgICBhbGxCdWlsZGluZ3NQYW5lbC5pc09wZW4sXG4gICAgICAgIGNsb3NlQWxsUGFuZWxzLFxuICAgICAgICBjdXJyZW50RXZlbnQsXG4gICAgXSk7XG5cbiAgICBjb25zdCByZW5kZXJDb250ZW50ID0gKCkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGdhbWVTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lU3RhdHVzLk1FTlU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDxTdGFydFNjcmVlbiBvbk5ld0dhbWU9e2hhbmRsZVN0YXJ0TmV3R2FtZX0gb25SZXN1bWVHYW1lPXtoYW5kbGVSZXN1bWVHYW1lfSBzYXZlZEdhbWVzPXthbGxTYXZlc30gb25EZWxldGVHYW1lPXtoYW5kbGVEZWxldGVHYW1lfSAvPjtcbiAgICAgICAgICAgIGNhc2UgR2FtZVN0YXR1cy5MT0FESU5HOlxuICAgICAgICAgICAgICAgIHJldHVybiA8TG9hZGluZ1NjcmVlbiAvPjtcbiAgICAgICAgICAgIGNhc2UgR2FtZVN0YXR1cy5QTEFZSU5HOlxuICAgICAgICAgICAgICAgIGlmICghY2l2aWxpemF0aW9uKSByZXR1cm4gPExvYWRpbmdTY3JlZW4gLz47XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxHYW1lVUlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXZpbGl6YXRpb249e2NpdmlsaXphdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZXM9e3Jlc291cmNlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bml0cz17dW5pdHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdzPXtidWlsZGluZ3N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGlvbj17cG9wdWxhdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50QWdlPXtjdXJyZW50QWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVMb2c9e2dhbWVMb2d9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VEZWx0YXM9e3Jlc291cmNlRGVsdGFzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5U3RhdHVzPXthY3Rpdml0eVN0YXR1c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bml0TGlzdD17VU5JVF9JTkZPfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nTGlzdD17QlVJTERJTkdTX0lORk99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuVW5pdFBhbmVsPXsodHlwZSwgcmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRVbml0TWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiB0cnVlLCB0eXBlLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkJ1aWxkaW5nUGFuZWw9e2hhbmRsZU9wZW5CdWlsZGluZ1BhbmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkFsbEJ1aWxkaW5nc1BhbmVsPXsocmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRBbGxCdWlsZGluZ3NQYW5lbCh7IGlzT3BlbjogdHJ1ZSwgYW5jaG9yUmVjdDogcmVjdCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJBY3Rpb249e3BsYXllckFjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm1QbGFjZW1lbnQ9e2hhbmRsZUNvbmZpcm1QbGFjZW1lbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DYW5jZWxQbGF5ZXJBY3Rpb249e2hhbmRsZUNhbmNlbFBsYXllckFjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkJ1aWxkaW5nQ2xpY2s9eyhidWlsZGluZywgcmVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZUFsbFBhbmVscygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gT2JqZWN0LmtleXMoYnVpbGRpbmdzKS5maW5kKGtleSA9PiBidWlsZGluZ3Nba2V5IGFzIEJ1aWxkaW5nVHlwZV0uc29tZShiID0+IGIuaWQgPT09IGJ1aWxkaW5nLmlkKSkgYXMgQnVpbGRpbmdUeXBlIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0eXBlKSBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogdHJ1ZSwgdHlwZSwgaW5zdGFuY2VJZDogYnVpbGRpbmcuaWQsIGFuY2hvclJlY3Q6IHJlY3QgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBEaW1lbnNpb25zPXtNQVBfRElNRU5TSU9OU31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVUYXNrcz17YWN0aXZlVGFza3N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25FeGl0R2FtZT17aGFuZGxlRXhpdEdhbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuQ2l2UGFuZWw9eyhyZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IHNldENpdlBhbmVsU3RhdGUoeyBpc09wZW46IHRydWUsIGFuY2hvclJlY3Q6IHJlY3QgfSk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VOb2Rlcz17cmVzb3VyY2VOb2Rlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5Bc3NpZ25tZW50UGFuZWw9eyhub2RlSWQsIHJlY3QpID0+IHsgY2xvc2VBbGxQYW5lbHMoKTsgc2V0QXNzaWdubWVudFBhbmVsU3RhdGUoeyBpc09wZW46IHRydWUsIHRhcmdldElkOiBub2RlSWQsIHRhcmdldFR5cGU6ICdyZXNvdXJjZScsIGFuY2hvclJlY3Q6IHJlY3QgfSk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuQ29uc3RydWN0aW9uUGFuZWw9eyhjb25zdHJ1Y3Rpb25JZCwgcmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZSh7IGlzT3BlbjogdHJ1ZSwgdGFyZ2V0SWQ6IGNvbnN0cnVjdGlvbklkLCB0YXJnZXRUeXBlOiAnY29uc3RydWN0aW9uJywgYW5jaG9yUmVjdDogcmVjdCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXRoZXJJbmZvPXtHQVRIRVJfSU5GT31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RXZlbnQ9e2N1cnJlbnRFdmVudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkV2ZW50Q2hvaWNlPXtoYW5kbGVFdmVudENob2ljZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnVpbGRQYW5lbCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW49e2J1aWxkUGFuZWxTdGF0ZS5pc09wZW59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0QnVpbGRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdmlsbGFnZXJJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblN0YXJ0UGxhY2VtZW50PXtoYW5kbGVTdGFydFBsYWNlbWVudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZXM9e3Jlc291cmNlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZGluZ0NvdW50cz17YnVpbGRpbmdDb3VudHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdMaXN0PXtCVUlMRElOR1NfSU5GT31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3JSZWN0PXtidWlsZFBhbmVsU3RhdGUuYW5jaG9yUmVjdH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VW5pdE1hbmFnZW1lbnRQYW5lbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT3Blbj17dW5pdE1hbmFnZW1lbnRQYW5lbC5pc09wZW59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0VW5pdE1hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT17dW5pdE1hbmFnZW1lbnRQYW5lbC50eXBlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXRzPXt1bml0c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZVVuaXQ9e2hhbmRsZVVwZGF0ZVVuaXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EaXNtaXNzVW5pdD17aGFuZGxlRGlzbWlzc1NwZWNpZmljVW5pdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkluaXRpYXRlQnVpbGQ9eyh2aWxsYWdlcklkLCByZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IGhhbmRsZUluaXRpYXRlQnVpbGQodmlsbGFnZXJJZCwgcmVjdCk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0VmlsbGFnZXJUYXNrRGV0YWlscz17Z2V0VmlsbGFnZXJUYXNrRGV0YWlsc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3JSZWN0PXt1bml0TWFuYWdlbWVudFBhbmVsLmFuY2hvclJlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPcGVuPXtidWlsZGluZ01hbmFnZW1lbnRQYW5lbC5pc09wZW59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhbmVsU3RhdGU9e2J1aWxkaW5nTWFuYWdlbWVudFBhbmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5ncz17YnVpbGRpbmdzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nTGlzdD17QlVJTERJTkdTX0lORk99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25VcGRhdGVCdWlsZGluZz17aGFuZGxlVXBkYXRlQnVpbGRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EZW1vbGlzaEJ1aWxkaW5nPXtoYW5kbGVEZW1vbGlzaEJ1aWxkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uVHJhaW5Vbml0cz17aGFuZGxlVHJhaW5Vbml0c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblRyYWluVmlsbGFnZXJzPXtoYW5kbGVUcmFpblZpbGxhZ2Vyc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZXM9e3Jlc291cmNlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1bGF0aW9uPXtwb3B1bGF0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXRMaXN0PXtVTklUX0lORk99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25BZHZhbmNlQWdlPXtoYW5kbGVBZHZhbmNlQWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVRhc2tzPXthY3RpdmVUYXNrc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3JSZWN0PXtidWlsZGluZ01hbmFnZW1lbnRQYW5lbC5hbmNob3JSZWN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxSZXNvdXJjZUFzc2lnbm1lbnRQYW5lbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT3Blbj17YXNzaWdubWVudFBhbmVsU3RhdGUuaXNPcGVufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdGFyZ2V0SWQ6IG51bGwsIHRhcmdldFR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWdubWVudFRhcmdldD17YXNzaWdubWVudFRhcmdldCB8fCBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkbGVWaWxsYWdlckNvdW50PXtpZGxlVmlsbGFnZXJDb3VudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkFzc2lnblZpbGxhZ2Vycz17aGFuZGxlQXNzaWduVmlsbGFnZXJzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVjYWxsVmlsbGFnZXJzPXtoYW5kbGVSZWNhbGxWaWxsYWdlcnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2F0aGVySW5mbz17R0FUSEVSX0lORk99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdMaXN0PXtCVUlMRElOR1NfSU5GT31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bml0cz17dW5pdHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yUmVjdD17YXNzaWdubWVudFBhbmVsU3RhdGUuYW5jaG9yUmVjdH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2l2aWxpemF0aW9uUGFuZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW49e2NpdlBhbmVsU3RhdGUuaXNPcGVufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldENpdlBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpdmlsaXphdGlvbj17Y2l2aWxpemF0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclJlY3Q9e2NpdlBhbmVsU3RhdGUuYW5jaG9yUmVjdH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QWxsQnVpbGRpbmdzUGFuZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW49e2FsbEJ1aWxkaW5nc1BhbmVsLmlzT3Blbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRBbGxCdWlsZGluZ3NQYW5lbCh7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdMaXN0PXtCVUlMRElOR1NfSU5GT31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZGluZ0NvdW50cz17YnVpbGRpbmdDb3VudHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlVGFza3M9e2FjdGl2ZVRhc2tzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkJ1aWxkaW5nUGFuZWw9e2hhbmRsZU9wZW5CdWlsZGluZ1BhbmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclJlY3Q9e2FsbEJ1aWxkaW5nc1BhbmVsLmFuY2hvclJlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gPFN0YXJ0U2NyZWVuIG9uTmV3R2FtZT17aGFuZGxlU3RhcnROZXdHYW1lfSBvblJlc3VtZUdhbWU9e2hhbmRsZVJlc3VtZUdhbWV9IHNhdmVkR2FtZXM9e2FsbFNhdmVzfSBvbkRlbGV0ZUdhbWU9e2hhbmRsZURlbGV0ZUdhbWV9IC8+O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLXN0b25lLWRhcmsgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC00XCI+XG4gICAgICAgICAgICB7Z2FtZVN0YXRlID09PSBHYW1lU3RhdHVzLlBMQVlJTkcgJiYgKFxuICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZVVubGltaXRlZFJlc291cmNlc31cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgYm90dG9tLTQgbGVmdC00IHotWzEwMV0gYmctYnJhbmQtZ29sZCB0ZXh0LXN0b25lLWRhcmsgZm9udC1ib2xkIHB5LTEgcHgtMyByb3VuZGVkLWZ1bGwgdGV4dC14cyBzaGFkb3ctbGcgaG92ZXI6c2NhbGUtMTA1IHRyYW5zaXRpb24tdHJhbnNmb3JtXCJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlRvZ2dsZSB1bmxpbWl0ZWQgcmVzb3VyY2VzIHRlc3QgbW9kZVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBUZXN0IE1vZGU6IHt1bmxpbWl0ZWRSZXNvdXJjZXMgPyAnT04nIDogJ09GRid9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPE5vdGlmaWNhdGlvbk1hbmFnZXIgbm90aWZpY2F0aW9ucz17bm90aWZpY2F0aW9uc30gb25SZW1vdmVOb3RpZmljYXRpb249e3JlbW92ZU5vdGlmaWNhdGlvbn0gLz5cbiAgICAgICAgICAgIDxtYWluIGNsYXNzTmFtZT1cInctZnVsbCBtYXgtdy03eGwgbXgtYXV0b1wiPlxuICAgICAgICAgICAgICAgIHtyZW5kZXJDb250ZW50KCl9XG4gICAgICAgICAgICA8L21haW4+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBHYW1lUGFnZTtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJHYW1lU3RhdHVzIiwiZ2V0UHJlZGVmaW5lZENpdmlsaXphdGlvbiIsImdldFByZWRlZmluZWRHYW1lRXZlbnQiLCJnZXRQcmVkZWZpbmVkQWdlIiwic2F2ZUdhbWVTdGF0ZSIsImxvYWRHYW1lU3RhdGUiLCJnZXRBbGxTYXZlTmFtZXMiLCJkZWxldGVHYW1lU3RhdGUiLCJnZXRSYW5kb21OYW1lcyIsIkdBTUVfSVRFTVMiLCJHYW1lVUkiLCJTdGFydFNjcmVlbiIsIkxvYWRpbmdTY3JlZW4iLCJCdWlsZFBhbmVsIiwiTm90aWZpY2F0aW9uTWFuYWdlciIsIlVuaXRNYW5hZ2VtZW50UGFuZWwiLCJCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCIsIlJlc291cmNlQXNzaWdubWVudFBhbmVsIiwiQ2l2aWxpemF0aW9uUGFuZWwiLCJBbGxCdWlsZGluZ3NQYW5lbCIsIkJVSUxESU5HU19JTkZPIiwiaWQiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJjb3N0Iiwid29vZCIsImlzVW5pcXVlIiwiYnVpbGRUaW1lIiwic3RvbmUiLCJnb2xkIiwiVU5JVF9JTkZPIiwiZm9vZCIsInJlcXVpcmVkQnVpbGRpbmciLCJ0cmFpblRpbWUiLCJHQVRIRVJfSU5GTyIsInJhdGUiLCJpbml0aWFsQnVpbGRpbmdzU3RhdGUiLCJob3VzZXMiLCJiYXJyYWNrcyIsImFyY2hlcnlSYW5nZSIsInN0YWJsZSIsInNpZWdlV29ya3Nob3AiLCJibGFja3NtaXRoIiwid2F0Y2hUb3dlciIsInRvd25DZW50ZXIiLCJNQVBfRElNRU5TSU9OUyIsIndpZHRoIiwiaGVpZ2h0IiwiR2FtZVBhZ2UiLCJidWlsZGluZ3MiLCJnYW1lU3RhdGUiLCJzZXRHYW1lU3RhdGUiLCJNRU5VIiwiY2l2aWxpemF0aW9uIiwic2V0Q2l2aWxpemF0aW9uIiwicmVzb3VyY2VzIiwic2V0UmVzb3VyY2VzIiwidW5pdHMiLCJzZXRVbml0cyIsInZpbGxhZ2VycyIsIm1pbGl0YXJ5Iiwic2V0QnVpbGRpbmdzIiwiY3VycmVudEFnZSIsInNldEN1cnJlbnRBZ2UiLCJnYW1lTG9nIiwic2V0R2FtZUxvZyIsImN1cnJlbnRFdmVudCIsInNldEN1cnJlbnRFdmVudCIsInJlc291cmNlRGVsdGFzIiwic2V0UmVzb3VyY2VEZWx0YXMiLCJhY3Rpdml0eVN0YXR1cyIsInNldEFjdGl2aXR5U3RhdHVzIiwibm90aWZpY2F0aW9ucyIsInNldE5vdGlmaWNhdGlvbnMiLCJ1bmxpbWl0ZWRSZXNvdXJjZXMiLCJzZXRVbmxpbWl0ZWRSZXNvdXJjZXMiLCJhbGxTYXZlcyIsInNldEFsbFNhdmVzIiwiY3VycmVudFNhdmVOYW1lIiwic2V0Q3VycmVudFNhdmVOYW1lIiwicGxheWVyQWN0aW9uIiwic2V0UGxheWVyQWN0aW9uIiwiYWN0aXZlVGFza3MiLCJzZXRBY3RpdmVUYXNrcyIsInJlc291cmNlTm9kZXMiLCJzZXRSZXNvdXJjZU5vZGVzIiwiaW52ZW50b3J5Iiwic2V0SW52ZW50b3J5IiwiYnVpbGRQYW5lbFN0YXRlIiwic2V0QnVpbGRQYW5lbFN0YXRlIiwiaXNPcGVuIiwidmlsbGFnZXJJZCIsImFuY2hvclJlY3QiLCJ1bml0TWFuYWdlbWVudFBhbmVsIiwic2V0VW5pdE1hbmFnZW1lbnRQYW5lbCIsInR5cGUiLCJidWlsZGluZ01hbmFnZW1lbnRQYW5lbCIsInNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsIiwiYWxsQnVpbGRpbmdzUGFuZWwiLCJzZXRBbGxCdWlsZGluZ3NQYW5lbCIsImFzc2lnbm1lbnRQYW5lbFN0YXRlIiwic2V0QXNzaWdubWVudFBhbmVsU3RhdGUiLCJ0YXJnZXRJZCIsInRhcmdldFR5cGUiLCJjaXZQYW5lbFN0YXRlIiwic2V0Q2l2UGFuZWxTdGF0ZSIsImRlbHRhVGltZW91dFJlZiIsImV2ZW50VGltZXJSZWYiLCJsYXN0VGlja1JlZiIsIkRhdGUiLCJub3ciLCJhbmltYXRpb25GcmFtZVJlZiIsInBvcHVsYXRpb24iLCJjdXJyZW50IiwibGVuZ3RoIiwiY2FwYWNpdHkiLCJmZXRjaFNhdmVzIiwibmFtZXMiLCJQTEFZSU5HIiwiZnVsbFN0YXRlIiwiYWRkTm90aWZpY2F0aW9uIiwibWVzc2FnZSIsIk1hdGgiLCJyYW5kb20iLCJwcmV2IiwicmVtb3ZlTm90aWZpY2F0aW9uIiwiZmlsdGVyIiwibiIsImFkZFRvTG9nIiwiaWNvbiIsInNsaWNlIiwidXBkYXRlUmVzb3VyY2VzIiwiZGVsdGFzIiwibmV3UmVzb3VyY2VzIiwia2V5IiwicmVzb3VyY2VLZXkiLCJtYXgiLCJ3aW5kb3ciLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwibmV3RGVsdGFzIiwiaGFuZGxlVGFza0NvbXBsZXRpb24iLCJ0YXNrIiwicGF5bG9hZCIsInZpbGxhZ2VySWRzIiwibWFwIiwidiIsImluY2x1ZGVzIiwiY3VycmVudFRhc2siLCJidWlsZGluZ1R5cGUiLCJwb3NpdGlvbiIsImJ1aWxkaW5nSW5mbyIsImZpbmQiLCJiIiwibmV3QnVpbGRpbmciLCJwIiwiY291bnQiLCJuZXdWaWxsYWdlck5hbWVzIiwibmV3VmlsbGFnZXJzIiwidW5pdFR5cGUiLCJ1bml0SW5mbyIsInUiLCJuZXdVbml0TmFtZXMiLCJuZXdVbml0cyIsInRpdGxlIiwiYWdlUmVzdWx0IiwibmV4dEFnZU5hbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImdhbWVMb29wIiwiZGVsdGFUaW1lIiwiY29tcGxldGVkVGFza3MiLCJyZXNvdXJjZURlbHRhc1RoaXNUaWNrIiwidGFza3NJblByb2dyZXNzIiwic3RhcnRUaW1lIiwiZHVyYXRpb24iLCJwdXNoIiwibm9kZSIsInJlc291cmNlTm9kZUlkIiwiYXNzaWduZWRWaWxsYWdlcnMiLCJ2aWxsYWdlckNvdW50IiwiYmFzZVJhdGVQZXJTZWNvbmQiLCJib251c011bHRpcGxpZXIiLCJib251c1N0cmluZyIsImJvbnVzIiwidG9Mb3dlckNhc2UiLCJyZXNvdXJjZVN0cmluZyIsIm1hdGNoIiwicGFyc2VJbnQiLCJmaW5hbFJhdGVQZXJTZWNvbmQiLCJhbW91bnRHYXRoZXJlZFRoaXNUaWNrIiwiQm9vbGVhbiIsIk9iamVjdCIsImtleXMiLCJwcmV2Tm9kZXMiLCJuZXdOb2RlcyIsImFtb3VudFRvRGVjcmVtZW50IiwibmV3QW1vdW50IiwiYW1vdW50IiwidGFza0lkIiwiYXNzaWduZWQiLCJmbG9vciIsImdhdGhlclRhc2siLCJ0IiwiZmluYWxBY3RpdmVUYXNrcyIsInNvbWUiLCJjdCIsImZvckVhY2giLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJoYW5kbGVOZXdFdmVudCIsImV2ZW50Iiwic2NoZWR1bGVOZXh0RXZlbnQiLCJuZXh0RXZlbnRUaW1lIiwiZ2VuZXJhdGVSZXNvdXJjZU5vZGVzIiwiZXhpc3RpbmdQb3NpdGlvbnMiLCJub2RlcyIsInR5cGVzIiwibnVtTm9kZXMiLCJpIiwicG9zIiwieCIsInkiLCJoYXMiLCJhZGQiLCJoYW5kbGVTdGFydE5ld0dhbWUiLCJzYXZlTmFtZSIsIkxPQURJTkciLCJjaXYiLCJpbml0aWFsVmlsbGFnZXJOYW1lcyIsImluaXRpYWxWaWxsYWdlcnMiLCJpbml0aWFsVENOYW1lIiwidGNQb3NpdGlvbiIsImluaXRpYWxUQyIsIlNldCIsImlzVmlsbGFnZXJCdXN5IiwidmlsbGFnZXIiLCJnZXRWaWxsYWdlclRhc2tEZXRhaWxzIiwiaGFuZGxlUmVzdW1lR2FtZSIsInNhdmVkU3RhdGUiLCJzYXZlZFVuaXRzIiwic29sZGllcnMiLCJtaWdyYXRlZE1pbGl0YXJ5IiwicyIsIm1pZ3JhdGVkVmlsbGFnZXJzIiwidW5kZWZpbmVkIiwibWlncmF0ZWRUYXNrcyIsInZpZCIsImZpbmFsQnVpbGRpbmdzIiwiY29uc3RydWN0aW9uVGFza3MiLCJvY2N1cGllZENlbGxzIiwidmFsdWVzIiwiZmxhdCIsInRjUG9zIiwidGNOYW1lIiwiZmlyc3RCdWlsZGluZyIsIm1pZ3JhdGVkIiwiZW50cmllcyIsImluc3RhbmNlcyIsImluc3QiLCJub2Rlc1RvU2V0IiwiaGFuZGxlRXZlbnRDaG9pY2UiLCJjaG9pY2UiLCJtaXNzaW5nUmVzIiwicmVzS2V5Iiwiam9pbiIsIm5lZ2F0aXZlQ29zdCIsImlzU3VjY2VzcyIsInN1Y2Nlc3NDaGFuY2UiLCJlZmZlY3RzIiwic3VjY2Vzc0VmZmVjdHMiLCJmYWlsdXJlRWZmZWN0cyIsImxvZ01lc3NhZ2UiLCJ0ZXh0IiwibG9nIiwicmV3YXJkcyIsInJld2FyZCIsIkFycmF5IiwiaXNBcnJheSIsIm1pbiIsInJlc291cmNlIiwiYWJzIiwiaXRlbUluZm8iLCJpdGVtSWQiLCJuZXdJdGVtcyIsImhhbmRsZUluaXRpYXRlQnVpbGQiLCJyZWN0IiwiaGFuZGxlU3RhcnRQbGFjZW1lbnQiLCJidWlsZGluZ0lkIiwiaXNBbHJlYWR5Q29uc3RydWN0aW5nIiwibWlzc2luZyIsInJlcyIsIm1vZGUiLCJoYW5kbGVDb25maXJtUGxhY2VtZW50IiwiYnVpbGRlciIsInRhc2tQYXlsb2FkIiwibmV3VGFzayIsImhhbmRsZUNhbmNlbFBsYXllckFjdGlvbiIsImhhbmRsZURlbW9saXNoQnVpbGRpbmciLCJidWlsZGluZ0luc3RhbmNlIiwicmVmdW5kIiwicmVmdW5kTWVzc2FnZVBhcnRzIiwiaGFuZGxlVXBkYXRlQnVpbGRpbmciLCJoYW5kbGVUcmFpblZpbGxhZ2VycyIsInZpbGxhZ2VyQ29zdCIsInRvdGFsQ29zdCIsImhhbmRsZVRyYWluVW5pdHMiLCJ0cmFpbmluZ0J1aWxkaW5nIiwiaGFuZGxlRGlzbWlzc1NwZWNpZmljVW5pdCIsInVuaXQiLCJ1bml0VHlwZU5hbWUiLCJoYW5kbGVVcGRhdGVVbml0IiwidXBkYXRlZFVuaXQiLCJoYW5kbGVBc3NpZ25WaWxsYWdlcnNUb05vZGUiLCJub2RlSWQiLCJpZGxlVmlsbGFnZXJzIiwiY2FwcGVkQ291bnQiLCJ2aWxsYWdlcnNUb0Fzc2lnbiIsInZpbGxhZ2VySWRzVG9Bc3NpZ24iLCJ0YXJnZXROb2RlIiwiZXhpc3RpbmdUYXNrIiwiaGFuZGxlUmVjYWxsVmlsbGFnZXJzIiwidmlsbGFnZXJzVG9SZWNhbGwiLCJ0YXNrSW5kZXgiLCJmaW5kSW5kZXgiLCJyZW1haW5pbmdWaWxsYWdlcnMiLCJfIiwidG90YWxXb3JrIiwib2xkV29ya2VyQ291bnQiLCJ0aW1lRWxhcHNlZCIsIndvcmtEb25lIiwid29ya1JlbWFpbmluZyIsIm5ld1dvcmtlckNvdW50IiwibmV3UmVtYWluaW5nRHVyYXRpb24iLCJoYW5kbGVBc3NpZ25WaWxsYWdlcnNUb0NvbnN0cnVjdGlvbiIsImNvbnN0cnVjdGlvbklkIiwiYmFzZUR1cmF0aW9uIiwidXBkYXRlZFZpbGxhZ2VySWRzIiwiaGFuZGxlQXNzaWduVmlsbGFnZXJzIiwiaGFuZGxlQWR2YW5jZUFnZSIsImhhbmRsZUV4aXRHYW1lIiwiaGFuZGxlRGVsZXRlR2FtZSIsImhhbmRsZVRvZ2dsZVVubGltaXRlZFJlc291cmNlcyIsIm5ld01vZGUiLCJkZXBsZXRlZE5vZGVJZHMiLCJ0YXNrc1RvQ29tcGxldGUiLCJzaXplIiwiYnVpbGRpbmdDb3VudHMiLCJyZWR1Y2UiLCJhY2MiLCJpZGxlVmlsbGFnZXJDb3VudCIsImFzc2lnbm1lbnRUYXJnZXQiLCJjbG9zZUFsbFBhbmVscyIsImluc3RhbmNlSWQiLCJoYW5kbGVPcGVuQnVpbGRpbmdQYW5lbCIsImhhbmRsZUNsaWNrT3V0c2lkZSIsImlzQW55UGFuZWxPcGVuIiwidGFyZ2V0IiwiY2xvc2VzdCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZW5kZXJDb250ZW50Iiwib25OZXdHYW1lIiwib25SZXN1bWVHYW1lIiwic2F2ZWRHYW1lcyIsIm9uRGVsZXRlR2FtZSIsInVuaXRMaXN0IiwiYnVpbGRpbmdMaXN0Iiwib25PcGVuVW5pdFBhbmVsIiwib25PcGVuQnVpbGRpbmdQYW5lbCIsIm9uT3BlbkFsbEJ1aWxkaW5nc1BhbmVsIiwib25Db25maXJtUGxhY2VtZW50Iiwib25DYW5jZWxQbGF5ZXJBY3Rpb24iLCJvbkJ1aWxkaW5nQ2xpY2siLCJidWlsZGluZyIsIm1hcERpbWVuc2lvbnMiLCJvbkV4aXRHYW1lIiwib25PcGVuQ2l2UGFuZWwiLCJvbk9wZW5Bc3NpZ25tZW50UGFuZWwiLCJvbk9wZW5Db25zdHJ1Y3Rpb25QYW5lbCIsImdhdGhlckluZm8iLCJvbkV2ZW50Q2hvaWNlIiwib25DbG9zZSIsIm9uU3RhcnRQbGFjZW1lbnQiLCJvblVwZGF0ZVVuaXQiLCJvbkRpc21pc3NVbml0Iiwib25Jbml0aWF0ZUJ1aWxkIiwicGFuZWxTdGF0ZSIsIm9uVXBkYXRlQnVpbGRpbmciLCJvbkRlbW9saXNoQnVpbGRpbmciLCJvblRyYWluVW5pdHMiLCJvblRyYWluVmlsbGFnZXJzIiwib25BZHZhbmNlQWdlIiwib25Bc3NpZ25WaWxsYWdlcnMiLCJvblJlY2FsbFZpbGxhZ2VycyIsImRpdiIsImNsYXNzTmFtZSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJhcmlhLWxhYmVsIiwib25SZW1vdmVOb3RpZmljYXRpb24iLCJtYWluIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./types.ts":
/*!******************!*\
  !*** ./types.ts ***!
  \******************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GameStatus: function() { return /* binding */ GameStatus; }\n/* harmony export */ });\nvar GameStatus;\n(function(GameStatus) {\n    GameStatus[GameStatus[\"MENU\"] = 0] = \"MENU\";\n    GameStatus[GameStatus[\"LOADING\"] = 1] = \"LOADING\";\n    GameStatus[GameStatus[\"PLAYING\"] = 2] = \"PLAYING\";\n    GameStatus[GameStatus[\"GAME_OVER\"] = 3] = \"GAME_OVER\";\n})(GameStatus || (GameStatus = {}));\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3R5cGVzLnRzIiwibWFwcGluZ3MiOiI7Ozs7O1VBRVlBOzs7OztHQUFBQSxlQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi90eXBlcy50cz81NjUyIl0sInNvdXJjZXNDb250ZW50IjpbIlxuXG5leHBvcnQgZW51bSBHYW1lU3RhdHVzIHtcbiAgICBNRU5VLFxuICAgIExPQURJTkcsXG4gICAgUExBWUlORyxcbiAgICBHQU1FX09WRVIsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2l2aWxpemF0aW9uIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgbG9yZTogc3RyaW5nO1xuICAgIGJvbnVzOiBzdHJpbmc7XG4gICAgdW5pcXVlVW5pdDoge1xuICAgICAgICBuYW1lOnN0cmluZztcbiAgICAgICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgICB9O1xuICAgIGJhbm5lclVybDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlc291cmNlcyB7XG4gICAgZm9vZDogbnVtYmVyO1xuICAgIHdvb2Q6IG51bWJlcjtcbiAgICBnb2xkOiBudW1iZXI7XG4gICAgc3RvbmU6IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgUmVzb3VyY2VEZWx0YXMgPSBQYXJ0aWFsPFJlc291cmNlcz47XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmlsbGFnZXIge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGN1cnJlbnRUYXNrOiBzdHJpbmcgfCBudWxsOyAvLyBudWxsIGlmIGlkbGUsIG90aGVyd2lzZSB0aGUgSUQgb2YgdGhlIEdhbWVUYXNrXG59XG5cbmV4cG9ydCB0eXBlIE1pbGl0YXJ5VW5pdFR5cGUgPSAnc3dvcmRzbWFuJyB8ICdhcmNoZXInIHwgJ2tuaWdodCcgfCAnY2F0YXB1bHQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIE1pbGl0YXJ5VW5pdCB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgdGl0bGU6IHN0cmluZztcbiAgICB1bml0VHlwZTogTWlsaXRhcnlVbml0VHlwZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVbml0cyB7XG4gICAgdmlsbGFnZXJzOiBWaWxsYWdlcltdO1xuICAgIG1pbGl0YXJ5OiBNaWxpdGFyeVVuaXRbXTtcbn1cblxuZXhwb3J0IHR5cGUgQnVpbGRpbmdUeXBlID0gJ2hvdXNlcycgfCAnYmFycmFja3MnIHwgJ2FyY2hlcnlSYW5nZScgfCAnc3RhYmxlJyB8ICdzaWVnZVdvcmtzaG9wJyB8ICdibGFja3NtaXRoJyB8ICd3YXRjaFRvd2VyJyB8ICd0b3duQ2VudGVyJztcblxuZXhwb3J0IGludGVyZmFjZSBCdWlsZGluZ0luc3RhbmNlIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBwb3NpdGlvbjogeyB4OiBudW1iZXI7IHk6IG51bWJlcjsgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCdWlsZGluZ3Mge1xuICAgIGhvdXNlczogQnVpbGRpbmdJbnN0YW5jZVtdO1xuICAgIGJhcnJhY2tzOiBCdWlsZGluZ0luc3RhbmNlW107XG4gICAgYXJjaGVyeVJhbmdlOiBCdWlsZGluZ0luc3RhbmNlW107XG4gICAgc3RhYmxlOiBCdWlsZGluZ0luc3RhbmNlW107XG4gICAgc2llZ2VXb3Jrc2hvcDogQnVpbGRpbmdJbnN0YW5jZVtdO1xuICAgIGJsYWNrc21pdGg6IEJ1aWxkaW5nSW5zdGFuY2VbXTtcbiAgICB3YXRjaFRvd2VyOiBCdWlsZGluZ0luc3RhbmNlW107XG4gICAgdG93bkNlbnRlcjogQnVpbGRpbmdJbnN0YW5jZVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdhbWVTdGF0ZVBheWxvYWQge1xuICAgIGNpdjogQ2l2aWxpemF0aW9uO1xuICAgIGFnZTogc3RyaW5nO1xuICAgIHJlczogUmVzb3VyY2VzO1xuICAgIHVuaXRzOiB7XG4gICAgICAgIHZpbGxhZ2VyczogbnVtYmVyO1xuICAgICAgICBzd29yZHNtZW46IG51bWJlcjtcbiAgICAgICAgYXJjaGVyczogbnVtYmVyO1xuICAgICAgICBrbmlnaHRzOiBudW1iZXI7XG4gICAgICAgIGNhdGFwdWx0czogbnVtYmVyO1xuICAgIH07XG4gICAgYnVpbGRpbmdzOiB7IFtrZXkgaW4gQnVpbGRpbmdUeXBlXT86IG51bWJlciB9O1xufVxuXG5leHBvcnQgdHlwZSBCdWlsZGluZ0Nvc3RzID0geyBba2V5IGluIGtleW9mIFJlc291cmNlc10/OiBudW1iZXIgfTtcblxuZXhwb3J0IHR5cGUgSXRlbVJhcml0eSA9ICdDb21tb24nIHwgJ0VwaWMnIHwgJ0xlZ2VuZGFyeScgfCAnU3Bpcml0dWFsJztcblxuZXhwb3J0IGludGVyZmFjZSBHYW1lSXRlbSB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgICByYXJpdHk6IEl0ZW1SYXJpdHk7XG59XG5cbmV4cG9ydCB0eXBlIFJld2FyZCA9IFxuICAgIHsgdHlwZTogJ3Jlc291cmNlJywgcmVzb3VyY2U6IGtleW9mIFJlc291cmNlcywgYW1vdW50OiBudW1iZXIgfCBbbnVtYmVyLCBudW1iZXJdIH0gfFxuICAgIHsgdHlwZTogJ2l0ZW0nLCBpdGVtSWQ6IHN0cmluZywgYW1vdW50OiBudW1iZXIgfTtcblxuZXhwb3J0IGludGVyZmFjZSBHYW1lRXZlbnRDaG9pY2Uge1xuICAgIHRleHQ6IHN0cmluZztcbiAgICBjb3N0PzogQnVpbGRpbmdDb3N0cztcbiAgICBzdWNjZXNzQ2hhbmNlPzogbnVtYmVyOyAvLyAwLTEsIHVuZGVmaW5lZCBtZWFucyAxMDAlXG4gICAgc3VjY2Vzc0VmZmVjdHM6IHsgcmV3YXJkczogUmV3YXJkW10sIGxvZzogc3RyaW5nIH07XG4gICAgZmFpbHVyZUVmZmVjdHM/OiB7IHJld2FyZHM6IFJld2FyZFtdLCBsb2c6IHN0cmluZyB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdhbWVFdmVudCB7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIGNob2ljZXM6IEdhbWVFdmVudENob2ljZVtdO1xufVxuXG5leHBvcnQgdHlwZSBMb2dJY29uVHlwZSA9IGtleW9mIFJlc291cmNlcyB8ICd2aWxsYWdlcicgfCBNaWxpdGFyeVVuaXRUeXBlIHwgJ2FnZScgfCAnZXZlbnQnIHwgJ3N5c3RlbScgfCBCdWlsZGluZ1R5cGU7XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2FtZUxvZ0VudHJ5IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBpY29uOiBMb2dJY29uVHlwZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCdWlsZGluZ0luZm8ge1xuICAgIGlkOiBCdWlsZGluZ1R5cGU7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgY29zdDogQnVpbGRpbmdDb3N0cztcbiAgICBpc1VuaXF1ZTogYm9vbGVhbjtcbiAgICBidWlsZFRpbWU6IG51bWJlcjsgLy8gaW4gc2Vjb25kc1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVuaXRJbmZvIHtcbiAgICBpZDogTWlsaXRhcnlVbml0VHlwZTtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgICBjb3N0OiBCdWlsZGluZ0Nvc3RzO1xuICAgIHJlcXVpcmVkQnVpbGRpbmc6IEJ1aWxkaW5nVHlwZTtcbiAgICB0cmFpblRpbWU6IG51bWJlcjsgLy8gaW4gc2Vjb25kcyBwZXIgdW5pdFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVJTm90aWZpY2F0aW9uIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgUmVzb3VyY2VOb2RlVHlwZSA9ICdmb29kJyB8ICd3b29kJyB8ICdnb2xkJyB8ICdzdG9uZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb3VyY2VOb2RlIHtcbiAgaWQ6IHN0cmluZztcbiAgdHlwZTogUmVzb3VyY2VOb2RlVHlwZTtcbiAgcG9zaXRpb246IHsgeDogbnVtYmVyOyB5OiBudW1iZXI7IH07XG4gIGFtb3VudDogbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBUYXNrVHlwZSA9ICdnYXRoZXInIHwgJ2J1aWxkJyB8ICd0cmFpbl92aWxsYWdlcicgfCAndHJhaW5fbWlsaXRhcnknIHwgJ2FkdmFuY2VfYWdlJztcblxuZXhwb3J0IHR5cGUgUGxheWVyQWN0aW9uU3RhdGUgPSB7XG4gICAgbW9kZTogJ2J1aWxkJztcbiAgICBidWlsZGluZ1R5cGU6IEJ1aWxkaW5nVHlwZTtcbiAgICB2aWxsYWdlcklkOiBzdHJpbmc7XG59IHwgbnVsbDtcblxuXG5leHBvcnQgaW50ZXJmYWNlIEdhbWVUYXNrIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIHR5cGU6IFRhc2tUeXBlO1xuICAgIHN0YXJ0VGltZTogbnVtYmVyO1xuICAgIGR1cmF0aW9uOiBudW1iZXI7IC8vIGluIG1pbGxpc2Vjb25kc1xuICAgIHBheWxvYWQ/OiB7XG4gICAgICAgIC8vIFNoYXJlZFxuICAgICAgICBidWlsZGluZ0lkPzogc3RyaW5nOyAvLyBJRCBvZiB0aGUgYnVpbGRpbmcgcGVyZm9ybWluZyB0aGUgYWN0aW9uIChlLmcuIFRDIGZvciB0cmFpbmluZylcbiAgICAgICAgdmlsbGFnZXJJZHM/OiBzdHJpbmdbXTtcbiAgICAgICAgY291bnQ/OiBudW1iZXI7XG4gICAgICAgIFxuICAgICAgICAvLyBCdWlsZCB0YXNrXG4gICAgICAgIGJ1aWxkaW5nVHlwZT86IEJ1aWxkaW5nVHlwZTtcbiAgICAgICAgcG9zaXRpb24/OiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH07XG4gICAgICAgIFxuICAgICAgICAvLyBUcmFpbiBtaWxpdGFyeSB0YXNrXG4gICAgICAgIHVuaXRUeXBlPzogTWlsaXRhcnlVbml0VHlwZTtcbiAgICAgICAgXG4gICAgICAgIC8vIEdhdGhlciB0YXNrXG4gICAgICAgIHJlc291cmNlTm9kZUlkPzogc3RyaW5nO1xuICAgIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRnVsbEdhbWVTdGF0ZSB7XG4gICAgY2l2aWxpemF0aW9uOiBDaXZpbGl6YXRpb247XG4gICAgcmVzb3VyY2VzOiBSZXNvdXJjZXM7XG4gICAgdW5pdHM6IFVuaXRzO1xuICAgIGJ1aWxkaW5nczogQnVpbGRpbmdzO1xuICAgIGN1cnJlbnRBZ2U6IHN0cmluZztcbiAgICBnYW1lTG9nOiBHYW1lTG9nRW50cnlbXTtcbiAgICBhY3RpdmVUYXNrczogR2FtZVRhc2tbXTtcbiAgICByZXNvdXJjZU5vZGVzOiBSZXNvdXJjZU5vZGVbXTtcbiAgICBpbnZlbnRvcnk6IEdhbWVJdGVtW107XG59XG4iXSwibmFtZXMiOlsiR2FtZVN0YXR1cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./types.ts\n"));

/***/ })

});