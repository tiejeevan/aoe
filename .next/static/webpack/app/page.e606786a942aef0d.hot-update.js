"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/BuildPanel.tsx":
/*!***********************************!*\
  !*** ./components/BuildPanel.tsx ***!
  \***********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./icons/ResourceIcons */ \"(app-pages-browser)/./components/icons/ResourceIcons.tsx\");\n/* harmony import */ var _icons_iconRegistry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./icons/iconRegistry */ \"(app-pages-browser)/./components/icons/iconRegistry.ts\");\n\nvar _s = $RefreshSig$();\n\n\n\nconst CostDisplay = (param)=>{\n    let { cost, resources } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-wrap gap-x-3 gap-y-1 text-xs\",\n        children: Object.entries(cost).map((param)=>{\n            let [resource, amount] = param;\n            if (!amount) return null;\n            const hasEnough = resources[resource] >= amount;\n            const Icon = {\n                food: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.FoodIcon,\n                wood: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.WoodIcon,\n                gold: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GoldIcon,\n                stone: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.StoneIcon\n            }[resource];\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"flex items-center \".concat(hasEnough ? \"\" : \"text-brand-red\"),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-4 h-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Icon, {}, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                            lineNumber: 25,\n                            columnNumber: 50\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                        lineNumber: 25,\n                        columnNumber: 25\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"ml-1\",\n                        children: amount\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                        lineNumber: 26,\n                        columnNumber: 25\n                    }, undefined)\n                ]\n            }, resource, true, {\n                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                lineNumber: 24,\n                columnNumber: 21\n            }, undefined);\n        })\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n        lineNumber: 18,\n        columnNumber: 9\n    }, undefined);\n};\n_c = CostDisplay;\nconst BuildPanel = (param)=>{\n    let { isOpen, onClose, onStartPlacement, resources, buildingCounts, buildingList, anchorRect } = param;\n    _s();\n    const constructibleBuildings = buildingList.filter((b)=>b.id !== \"townCenter\");\n    var _constructibleBuildings_;\n    const [selectedBuilding, setSelectedBuilding] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((_constructibleBuildings_ = constructibleBuildings[0]) !== null && _constructibleBuildings_ !== void 0 ? _constructibleBuildings_ : null);\n    const [isClosing, setIsClosing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentData, setCurrentData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        anchorRect,\n        buildingList\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen && !selectedBuilding) {\n            var _constructibleBuildings_;\n            setSelectedBuilding((_constructibleBuildings_ = constructibleBuildings[0]) !== null && _constructibleBuildings_ !== void 0 ? _constructibleBuildings_ : null);\n        }\n    }, [\n        isOpen,\n        selectedBuilding,\n        constructibleBuildings\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen || isClosing) {\n            setCurrentData({\n                anchorRect,\n                buildingList\n            });\n        }\n    }, [\n        anchorRect,\n        buildingList,\n        isOpen,\n        isClosing\n    ]);\n    const handleClose = ()=>{\n        setIsClosing(true);\n        setTimeout(()=>{\n            onClose();\n            setIsClosing(false);\n        }, 300);\n    };\n    if (!isOpen && !isClosing) return null;\n    const { anchorRect: currentAnchor } = currentData;\n    if (!currentAnchor) return null;\n    const isAffordable = selectedBuilding ? Object.entries(selectedBuilding.cost).every((param)=>{\n        let [res, cost] = param;\n        return resources[res] >= (cost || 0);\n    }) : false;\n    const buildLimit = selectedBuilding ? selectedBuilding.isUnique ? 1 : selectedBuilding.buildLimit || 0 : 0;\n    const isAtLimit = selectedBuilding ? buildLimit > 0 && (buildingCounts[selectedBuilding.id] || 0) >= buildLimit : false;\n    const canBuild = isAffordable && !isAtLimit;\n    const panelWidth = 500;\n    const panelHeightEstimate = 300;\n    const panelGap = 8;\n    const panelStyle = {};\n    const spaceBelow = window.innerHeight - currentAnchor.bottom;\n    const spaceAbove = currentAnchor.top;\n    if (spaceBelow < panelHeightEstimate && spaceAbove > spaceBelow) {\n        panelStyle.bottom = \"\".concat(window.innerHeight - currentAnchor.top + panelGap, \"px\");\n        panelStyle.transformOrigin = \"bottom center\";\n    } else {\n        panelStyle.top = \"\".concat(currentAnchor.bottom + panelGap, \"px\");\n        panelStyle.transformOrigin = \"top center\";\n    }\n    let leftPos = currentAnchor.left + currentAnchor.width / 2 - panelWidth / 2;\n    if (leftPos + panelWidth > window.innerWidth - panelGap) {\n        leftPos = window.innerWidth - panelWidth - panelGap;\n    }\n    if (leftPos < panelGap) {\n        leftPos = panelGap;\n    }\n    panelStyle.left = \"\".concat(leftPos, \"px\");\n    const constructButtonTooltip = isAtLimit ? \"Build limit reached\" : !isAffordable ? \"Insufficient Resources\" : \"Construct \".concat(selectedBuilding === null || selectedBuilding === void 0 ? void 0 : selectedBuilding.name);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: panelStyle,\n        className: \"fixed z-40 w-[500px] transform transition-all duration-300 ease-in-out \".concat(isOpen && !isClosing ? \"opacity-100 scale-100\" : \"opacity-0 scale-95\"),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"sci-fi-panel-popup sci-fi-grid p-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-serif\",\n                            children: \"Construct Building\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                            lineNumber: 108,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleClose,\n                            className: \"text-3xl font-bold sci-fi-close-button\",\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                            lineNumber: 109,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                    lineNumber: 107,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex gap-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-2/5 pr-4 border-r border-stone-light/20\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"grid grid-cols-3 gap-2\",\n                                children: constructibleBuildings.map((building)=>{\n                                    const Icon = _icons_iconRegistry__WEBPACK_IMPORTED_MODULE_3__.buildingIconMap[building.iconId] || _icons_iconRegistry__WEBPACK_IMPORTED_MODULE_3__.buildingIconMap.default;\n                                    const isSelected = (selectedBuilding === null || selectedBuilding === void 0 ? void 0 : selectedBuilding.id) === building.id;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative group\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setSelectedBuilding(building),\n                                                className: \"w-full aspect-square p-1.5 bg-stone-dark/50 rounded-md border-2 transition-all duration-150\\n                                                \".concat(isSelected ? \"border-brand-gold bg-stone-light/20\" : \"border-stone-light/50 hover:border-brand-gold/70\", \"\\n                                            \"),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-full h-full \".concat(isSelected ? \"text-brand-gold\" : \"text-parchment-dark group-hover:text-c9d1d9\"),\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Icon, {}, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                        lineNumber: 128,\n                                                        columnNumber: 49\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                    lineNumber: 127,\n                                                    columnNumber: 45\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 121,\n                                                columnNumber: 42\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute bottom-full mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                children: building.name\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 131,\n                                                columnNumber: 41\n                                            }, undefined)\n                                        ]\n                                    }, building.id, true, {\n                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                        lineNumber: 120,\n                                        columnNumber: 37\n                                    }, undefined);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                lineNumber: 115,\n                                columnNumber: 26\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                            lineNumber: 114,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-3/5 flex flex-col\",\n                            children: selectedBuilding ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-grow\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                className: \"text-xl font-serif text-brand-gold\",\n                                                children: selectedBuilding.name\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 145,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-parchment-dark mt-1 mb-3 h-10\",\n                                                children: selectedBuilding.description\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 146,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                                                className: \"border-stone-light/20 my-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 148,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                        className: \"font-serif text-base\",\n                                                        children: \"Cost:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                        lineNumber: 151,\n                                                        columnNumber: 41\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CostDisplay, {\n                                                        cost: selectedBuilding.cost,\n                                                        resources: resources\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                        lineNumber: 152,\n                                                        columnNumber: 41\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 150,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-2 mt-2 text-xs\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-4 h-4 text-parchment-dark\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.ClockIcon, {}, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                            lineNumber: 155,\n                                                            columnNumber: 86\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                        lineNumber: 155,\n                                                        columnNumber: 41\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: [\n                                                            \"Build Time: \",\n                                                            selectedBuilding.buildTime,\n                                                            \"s\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                        lineNumber: 156,\n                                                        columnNumber: 41\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 154,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            buildLimit > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs mt-2 \".concat(isAtLimit ? \"text-brand-red\" : \"text-brand-blue\"),\n                                                children: [\n                                                    \"Limit: \",\n                                                    buildingCounts[selectedBuilding.id] || 0,\n                                                    \" / \",\n                                                    buildLimit,\n                                                    \" built\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 159,\n                                                columnNumber: 41\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                        lineNumber: 144,\n                                        columnNumber: 33\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative group self-end\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    if (canBuild) onStartPlacement(selectedBuilding.id);\n                                                },\n                                                disabled: !canBuild,\n                                                className: \"sci-fi-action-button\",\n                                                \"aria-label\": constructButtonTooltip,\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-8 h-8\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BuildIcon, {}, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                        lineNumber: 172,\n                                                        columnNumber: 66\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                    lineNumber: 172,\n                                                    columnNumber: 41\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 166,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                children: constructButtonTooltip\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 174,\n                                                columnNumber: 37\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                        lineNumber: 165,\n                                        columnNumber: 33\n                                    }, undefined)\n                                ]\n                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-center h-full text-parchment-dark\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: \"Select a building to construct.\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                    lineNumber: 181,\n                                    columnNumber: 33\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                lineNumber: 180,\n                                columnNumber: 29\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                            lineNumber: 141,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                    lineNumber: 112,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n            lineNumber: 106,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n        lineNumber: 102,\n        columnNumber: 9\n    }, undefined);\n};\n_s(BuildPanel, \"x0ZC5Bbt0+e3BdFqn6SCSeX6XDU=\");\n_c1 = BuildPanel;\n/* harmony default export */ __webpack_exports__[\"default\"] = (BuildPanel);\nvar _c, _c1;\n$RefreshReg$(_c, \"CostDisplay\");\n$RefreshReg$(_c1, \"BuildPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvQnVpbGRQYW5lbC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBbUQ7QUFFbUQ7QUFDL0M7QUFZdkQsTUFBTVUsY0FBdUU7UUFBQyxFQUFFQyxJQUFJLEVBQUVDLFNBQVMsRUFBRTtJQUM3RixxQkFDSSw4REFBQ0M7UUFBSUMsV0FBVTtrQkFDVixPQUFRRSxPQUFPLENBQUNMLE1BQXNDTSxHQUFHLENBQUM7Z0JBQUMsQ0FBQ0MsVUFBVUMsT0FBTztZQUMxRSxJQUFJLENBQUNBLFFBQVEsT0FBTztZQUNwQixNQUFNQyxZQUFZUixTQUFTLENBQUNNLFNBQVMsSUFBSUM7WUFDekMsTUFBTUUsT0FBTztnQkFBRUMsTUFBTW5CLDBEQUFRQTtnQkFBRW9CLE1BQU1uQiwwREFBUUE7Z0JBQUVvQixNQUFNbkIsMERBQVFBO2dCQUFFb0IsT0FBT25CLDJEQUFTQTtZQUFDLENBQUMsQ0FBQ1ksU0FBUztZQUMzRixxQkFDSSw4REFBQ1E7Z0JBQW9CWixXQUFXLHFCQUF1RCxPQUFsQ00sWUFBWSxLQUFLOztrQ0FDbEUsOERBQUNQO3dCQUFJQyxXQUFVO2tDQUFVLDRFQUFDTzs7Ozs7Ozs7OztrQ0FDMUIsOERBQUNLO3dCQUFLWixXQUFVO2tDQUFRSzs7Ozs7OztlQUZqQkQ7Ozs7O1FBS25COzs7Ozs7QUFHWjtLQWhCTVI7QUFrQk4sTUFBTWlCLGFBQXdDO1FBQUMsRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUVDLGdCQUFnQixFQUFFbEIsU0FBUyxFQUFFbUIsY0FBYyxFQUFFQyxZQUFZLEVBQUVDLFVBQVUsRUFBRTs7SUFDckksTUFBTUMseUJBQXlCRixhQUFhRyxNQUFNLENBQUNDLENBQUFBLElBQUtBLEVBQUVDLEVBQUUsS0FBSztRQUNlSDtJQUFoRixNQUFNLENBQUNJLGtCQUFrQkMsb0JBQW9CLEdBQUd0QywrQ0FBUUEsQ0FBd0JpQyxDQUFBQSwyQkFBQUEsc0JBQXNCLENBQUMsRUFBRSxjQUF6QkEsc0NBQUFB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Q3JDLDhEQUFDSjt3REFBWUMsTUFBTTJCLGlCQUFpQjNCLElBQUk7d0RBQUVDLFdBQVdBOzs7Ozs7Ozs7Ozs7MERBRXpELDhEQUFDQztnREFBSUMsV0FBVTs7a0VBQ1gsOERBQUNEO3dEQUFJQyxXQUFVO2tFQUE4Qiw0RUFBQ1AsMkRBQVNBOzs7Ozs7Ozs7O2tFQUN2RCw4REFBQ21COzs0REFBSzs0REFBYVksaUJBQWlCOEMsU0FBUzs0REFBQzs7Ozs7Ozs7Ozs7Ozs0Q0FFaERsQyxhQUFhLG1CQUNYLDhEQUFDOEI7Z0RBQUVsRSxXQUFXLGdCQUFpRSxPQUFqRHNDLFlBQVksbUJBQW1COztvREFBcUI7b0RBQ3RFckIsY0FBYyxDQUFDTyxpQkFBaUJELEVBQUUsQ0FBQyxJQUFJO29EQUFFO29EQUFJYTtvREFBVzs7Ozs7Ozs7Ozs7OztrREFLNUUsOERBQUNyQzt3Q0FBSUMsV0FBVTs7MERBQ1gsOERBQUMyRDtnREFDR0MsU0FBUztvREFBUSxJQUFHckIsVUFBVXZCLGlCQUFpQlEsaUJBQWlCRCxFQUFFO2dEQUFHO2dEQUNyRWdELFVBQVUsQ0FBQ2hDO2dEQUNYdkMsV0FBVTtnREFDVndFLGNBQVlqQjswREFFWiw0RUFBQ3hEO29EQUFJQyxXQUFVOzhEQUFVLDRFQUFDTiwyREFBU0E7Ozs7Ozs7Ozs7Ozs7OzswREFFdkMsOERBQUNLO2dEQUFJQyxXQUFVOzBEQUNWdUQ7Ozs7Ozs7Ozs7Ozs7NkRBS2IsOERBQUN4RDtnQ0FBSUMsV0FBVTswQ0FDWCw0RUFBQ2tFOzhDQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRbkM7R0EzSk1yRDtNQUFBQTtBQTZKTiwrREFBZUEsVUFBVUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL0J1aWxkUGFuZWwudHN4P2IxMzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdHlwZSB7IEJ1aWxkaW5nQ29uZmlnLCBCdWlsZGluZ1R5cGUsIFJlc291cmNlcywgQnVpbGRpbmdDb3N0cyB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IEZvb2RJY29uLCBXb29kSWNvbiwgR29sZEljb24sIFN0b25lSWNvbiwgQ2xvY2tJY29uLCBCdWlsZEljb24gfSBmcm9tICcuL2ljb25zL1Jlc291cmNlSWNvbnMnO1xuaW1wb3J0IHsgYnVpbGRpbmdJY29uTWFwIH0gZnJvbSAnLi9pY29ucy9pY29uUmVnaXN0cnknO1xuXG5pbnRlcmZhY2UgQnVpbGRQYW5lbFByb3BzIHtcbiAgICBpc09wZW46IGJvb2xlYW47XG4gICAgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgICBvblN0YXJ0UGxhY2VtZW50OiAoYnVpbGRpbmdJZDogQnVpbGRpbmdUeXBlIHwgc3RyaW5nKSA9PiB2b2lkO1xuICAgIHJlc291cmNlczogUmVzb3VyY2VzO1xuICAgIGJ1aWxkaW5nQ291bnRzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuICAgIGJ1aWxkaW5nTGlzdDogQnVpbGRpbmdDb25maWdbXTtcbiAgICBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbDtcbn1cblxuY29uc3QgQ29zdERpc3BsYXk6IFJlYWN0LkZDPHsgY29zdDogQnVpbGRpbmdDb3N0cywgcmVzb3VyY2VzOiBSZXNvdXJjZXMgfT4gPSAoeyBjb3N0LCByZXNvdXJjZXMgfSkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLXgtMyBnYXAteS0xIHRleHQteHNcIj5cbiAgICAgICAgICAgIHsoT2JqZWN0LmVudHJpZXMoY29zdCkgYXMgW2tleW9mIFJlc291cmNlcywgbnVtYmVyXVtdKS5tYXAoKFtyZXNvdXJjZSwgYW1vdW50XSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghYW1vdW50KSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNFbm91Z2ggPSByZXNvdXJjZXNbcmVzb3VyY2VdID49IGFtb3VudDtcbiAgICAgICAgICAgICAgICBjb25zdCBJY29uID0geyBmb29kOiBGb29kSWNvbiwgd29vZDogV29vZEljb24sIGdvbGQ6IEdvbGRJY29uLCBzdG9uZTogU3RvbmVJY29uIH1bcmVzb3VyY2VdO1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGtleT17cmVzb3VyY2V9IGNsYXNzTmFtZT17YGZsZXggaXRlbXMtY2VudGVyICR7aGFzRW5vdWdoID8gJycgOiAndGV4dC1icmFuZC1yZWQnfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTQgaC00XCI+PEljb24gLz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTFcIj57YW1vdW50fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbmNvbnN0IEJ1aWxkUGFuZWw6IFJlYWN0LkZDPEJ1aWxkUGFuZWxQcm9wcz4gPSAoeyBpc09wZW4sIG9uQ2xvc2UsIG9uU3RhcnRQbGFjZW1lbnQsIHJlc291cmNlcywgYnVpbGRpbmdDb3VudHMsIGJ1aWxkaW5nTGlzdCwgYW5jaG9yUmVjdCB9KSA9PiB7XG4gICAgY29uc3QgY29uc3RydWN0aWJsZUJ1aWxkaW5ncyA9IGJ1aWxkaW5nTGlzdC5maWx0ZXIoYiA9PiBiLmlkICE9PSAndG93bkNlbnRlcicpO1xuICAgIGNvbnN0IFtzZWxlY3RlZEJ1aWxkaW5nLCBzZXRTZWxlY3RlZEJ1aWxkaW5nXSA9IHVzZVN0YXRlPEJ1aWxkaW5nQ29uZmlnIHwgbnVsbD4oY29uc3RydWN0aWJsZUJ1aWxkaW5nc1swXSA/PyBudWxsKTtcbiAgICBcbiAgICBjb25zdCBbaXNDbG9zaW5nLCBzZXRJc0Nsb3NpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtjdXJyZW50RGF0YSwgc2V0Q3VycmVudERhdGFdID0gdXNlU3RhdGUoeyBhbmNob3JSZWN0LCBidWlsZGluZ0xpc3QgfSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNPcGVuICYmICFzZWxlY3RlZEJ1aWxkaW5nKSB7XG4gICAgICAgICAgICBzZXRTZWxlY3RlZEJ1aWxkaW5nKGNvbnN0cnVjdGlibGVCdWlsZGluZ3NbMF0gPz8gbnVsbCk7XG4gICAgICAgIH1cbiAgICB9LCBbaXNPcGVuLCBzZWxlY3RlZEJ1aWxkaW5nLCBjb25zdHJ1Y3RpYmxlQnVpbGRpbmdzXSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNPcGVuIHx8IGlzQ2xvc2luZykge1xuICAgICAgICAgICAgc2V0Q3VycmVudERhdGEoeyBhbmNob3JSZWN0LCBidWlsZGluZ0xpc3QgfSk7XG4gICAgICAgIH1cbiAgICB9LCBbYW5jaG9yUmVjdCwgYnVpbGRpbmdMaXN0LCBpc09wZW4sIGlzQ2xvc2luZ10pO1xuXG4gICAgY29uc3QgaGFuZGxlQ2xvc2UgPSAoKSA9PiB7XG4gICAgICAgIHNldElzQ2xvc2luZyh0cnVlKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgICAgICBzZXRJc0Nsb3NpbmcoZmFsc2UpO1xuICAgICAgICB9LCAzMDApO1xuICAgIH07XG5cbiAgICBpZiAoIWlzT3BlbiAmJiAhaXNDbG9zaW5nKSByZXR1cm4gbnVsbDtcbiAgICBcbiAgICBjb25zdCB7IGFuY2hvclJlY3Q6IGN1cnJlbnRBbmNob3IgfSA9IGN1cnJlbnREYXRhO1xuICAgIGlmICghY3VycmVudEFuY2hvcikgcmV0dXJuIG51bGw7XG5cbiAgICBjb25zdCBpc0FmZm9yZGFibGUgPSBzZWxlY3RlZEJ1aWxkaW5nID8gT2JqZWN0LmVudHJpZXMoc2VsZWN0ZWRCdWlsZGluZy5jb3N0KS5ldmVyeSgoW3JlcywgY29zdF0pID0+IHJlc291cmNlc1tyZXMgYXMga2V5b2YgUmVzb3VyY2VzXSA+PSAoY29zdCB8fCAwKSkgOiBmYWxzZTtcblxuICAgIGNvbnN0IGJ1aWxkTGltaXQgPSBzZWxlY3RlZEJ1aWxkaW5nID8gKHNlbGVjdGVkQnVpbGRpbmcuaXNVbmlxdWUgPyAxIDogc2VsZWN0ZWRCdWlsZGluZy5idWlsZExpbWl0IHx8IDApIDogMDtcbiAgICBjb25zdCBpc0F0TGltaXQgPSBzZWxlY3RlZEJ1aWxkaW5nID8gYnVpbGRMaW1pdCA+IDAgJiYgKGJ1aWxkaW5nQ291bnRzW3NlbGVjdGVkQnVpbGRpbmcuaWRdIHx8IDApID49IGJ1aWxkTGltaXQgOiBmYWxzZTtcbiAgICBcbiAgICBjb25zdCBjYW5CdWlsZCA9IGlzQWZmb3JkYWJsZSAmJiAhaXNBdExpbWl0O1xuXG4gICAgY29uc3QgcGFuZWxXaWR0aCA9IDUwMDtcbiAgICBjb25zdCBwYW5lbEhlaWdodEVzdGltYXRlID0gMzAwO1xuICAgIGNvbnN0IHBhbmVsR2FwID0gODtcblxuICAgIGNvbnN0IHBhbmVsU3R5bGU6IFJlYWN0LkNTU1Byb3BlcnRpZXMgPSB7fTtcblxuICAgIGNvbnN0IHNwYWNlQmVsb3cgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSBjdXJyZW50QW5jaG9yLmJvdHRvbTtcbiAgICBjb25zdCBzcGFjZUFib3ZlID0gY3VycmVudEFuY2hvci50b3A7XG5cbiAgICBpZiAoc3BhY2VCZWxvdyA8IHBhbmVsSGVpZ2h0RXN0aW1hdGUgJiYgc3BhY2VBYm92ZSA+IHNwYWNlQmVsb3cpIHtcbiAgICAgICAgcGFuZWxTdHlsZS5ib3R0b20gPSBgJHt3aW5kb3cuaW5uZXJIZWlnaHQgLSBjdXJyZW50QW5jaG9yLnRvcCArIHBhbmVsR2FwfXB4YDtcbiAgICAgICAgcGFuZWxTdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSAnYm90dG9tIGNlbnRlcic7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcGFuZWxTdHlsZS50b3AgPSBgJHtjdXJyZW50QW5jaG9yLmJvdHRvbSArIHBhbmVsR2FwfXB4YDtcbiAgICAgICAgcGFuZWxTdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSAndG9wIGNlbnRlcic7XG4gICAgfVxuXG4gICAgbGV0IGxlZnRQb3MgPSBjdXJyZW50QW5jaG9yLmxlZnQgKyBjdXJyZW50QW5jaG9yLndpZHRoIC8gMiAtIHBhbmVsV2lkdGggLyAyO1xuICAgIGlmIChsZWZ0UG9zICsgcGFuZWxXaWR0aCA+IHdpbmRvdy5pbm5lcldpZHRoIC0gcGFuZWxHYXApIHtcbiAgICAgICAgbGVmdFBvcyA9IHdpbmRvdy5pbm5lcldpZHRoIC0gcGFuZWxXaWR0aCAtIHBhbmVsR2FwO1xuICAgIH1cbiAgICBpZiAobGVmdFBvcyA8IHBhbmVsR2FwKSB7XG4gICAgICAgIGxlZnRQb3MgPSBwYW5lbEdhcDtcbiAgICB9XG4gICAgcGFuZWxTdHlsZS5sZWZ0ID0gYCR7bGVmdFBvc31weGA7XG4gICAgXG4gICAgY29uc3QgY29uc3RydWN0QnV0dG9uVG9vbHRpcCA9IGlzQXRMaW1pdCA/ICdCdWlsZCBsaW1pdCByZWFjaGVkJyA6ICFpc0FmZm9yZGFibGUgPyAnSW5zdWZmaWNpZW50IFJlc291cmNlcycgOiBgQ29uc3RydWN0ICR7c2VsZWN0ZWRCdWlsZGluZz8ubmFtZX1gO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBcbiAgICAgICAgICAgIHN0eWxlPXtwYW5lbFN0eWxlfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgZml4ZWQgei00MCB3LVs1MDBweF0gdHJhbnNmb3JtIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCBlYXNlLWluLW91dCAke2lzT3BlbiAmJiAhaXNDbG9zaW5nID8gJ29wYWNpdHktMTAwIHNjYWxlLTEwMCcgOiAnb3BhY2l0eS0wIHNjYWxlLTk1J31gfVxuICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNjaS1maS1wYW5lbC1wb3B1cCBzY2ktZmktZ3JpZCBwLTRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LXNlcmlmXCI+Q29uc3RydWN0IEJ1aWxkaW5nPC9oMj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVDbG9zZX0gY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHNjaS1maS1jbG9zZS1idXR0b25cIj4mdGltZXM7PC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgey8qIExlZnQ6IEJ1aWxkaW5nIEdyaWQgKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yLzUgcHItNCBib3JkZXItciBib3JkZXItc3RvbmUtbGlnaHQvMjBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTMgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29uc3RydWN0aWJsZUJ1aWxkaW5ncy5tYXAoKGJ1aWxkaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IEljb24gPSBidWlsZGluZ0ljb25NYXBbYnVpbGRpbmcuaWNvbklkXSB8fCBidWlsZGluZ0ljb25NYXAuZGVmYXVsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IHNlbGVjdGVkQnVpbGRpbmc/LmlkID09PSBidWlsZGluZy5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtidWlsZGluZy5pZH0gY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZEJ1aWxkaW5nKGJ1aWxkaW5nKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIGFzcGVjdC1zcXVhcmUgcC0xLjUgYmctc3RvbmUtZGFyay81MCByb3VuZGVkLW1kIGJvcmRlci0yIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtpc1NlbGVjdGVkID8gJ2JvcmRlci1icmFuZC1nb2xkIGJnLXN0b25lLWxpZ2h0LzIwJyA6ICdib3JkZXItc3RvbmUtbGlnaHQvNTAgaG92ZXI6Ym9yZGVyLWJyYW5kLWdvbGQvNzAnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B3LWZ1bGwgaC1mdWxsICR7aXNTZWxlY3RlZCA/ICd0ZXh0LWJyYW5kLWdvbGQnIDogJ3RleHQtcGFyY2htZW50LWRhcmsgZ3JvdXAtaG92ZXI6dGV4dC1jOWQxZDknfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tZnVsbCBtYi0yIHctbWF4IHB4LTIgcHktMSBiZy1zdG9uZS1kYXJrIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkIG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLW9wYWNpdHkgcG9pbnRlci1ldmVudHMtbm9uZSB6LTEwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtidWlsZGluZy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgey8qIFJpZ2h0OiBEZXRhaWxzICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMy81IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZEJ1aWxkaW5nID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1ncm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlcmlmIHRleHQtYnJhbmQtZ29sZFwiPntzZWxlY3RlZEJ1aWxkaW5nLm5hbWV9PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1wYXJjaG1lbnQtZGFyayBtdC0xIG1iLTMgaC0xMFwiPntzZWxlY3RlZEJ1aWxkaW5nLmRlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGhyIGNsYXNzTmFtZT1cImJvcmRlci1zdG9uZS1saWdodC8yMCBteS0yXCIgLz5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1zZXJpZiB0ZXh0LWJhc2VcIj5Db3N0OjwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvc3REaXNwbGF5IGNvc3Q9e3NlbGVjdGVkQnVpbGRpbmcuY29zdH0gcmVzb3VyY2VzPXtyZXNvdXJjZXN9Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtdC0yIHRleHQteHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1wYXJjaG1lbnQtZGFya1wiPjxDbG9ja0ljb24gLz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5CdWlsZCBUaW1lOiB7c2VsZWN0ZWRCdWlsZGluZy5idWlsZFRpbWV9czwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtidWlsZExpbWl0ID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPXtgdGV4dC14cyBtdC0yICR7aXNBdExpbWl0ID8gJ3RleHQtYnJhbmQtcmVkJyA6ICd0ZXh0LWJyYW5kLWJsdWUnfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMaW1pdDoge2J1aWxkaW5nQ291bnRzW3NlbGVjdGVkQnVpbGRpbmcuaWRdIHx8IDB9IC8ge2J1aWxkTGltaXR9IGJ1aWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBncm91cCBzZWxmLWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsgaWYoY2FuQnVpbGQpIG9uU3RhcnRQbGFjZW1lbnQoc2VsZWN0ZWRCdWlsZGluZy5pZCk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFjYW5CdWlsZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzY2ktZmktYWN0aW9uLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Y29uc3RydWN0QnV0dG9uVG9vbHRpcH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOCBoLThcIj48QnVpbGRJY29uIC8+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLWZ1bGwgcmlnaHQtMCBtYi0yIHctbWF4IHB4LTIgcHktMSBiZy1zdG9uZS1kYXJrIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkIG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLW9wYWNpdHkgcG9pbnRlci1ldmVudHMtbm9uZSB6LTEwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NvbnN0cnVjdEJ1dHRvblRvb2x0aXB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgaC1mdWxsIHRleHQtcGFyY2htZW50LWRhcmtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+U2VsZWN0IGEgYnVpbGRpbmcgdG8gY29uc3RydWN0LjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBCdWlsZFBhbmVsO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJGb29kSWNvbiIsIldvb2RJY29uIiwiR29sZEljb24iLCJTdG9uZUljb24iLCJDbG9ja0ljb24iLCJCdWlsZEljb24iLCJidWlsZGluZ0ljb25NYXAiLCJDb3N0RGlzcGxheSIsImNvc3QiLCJyZXNvdXJjZXMiLCJkaXYiLCJjbGFzc05hbWUiLCJPYmplY3QiLCJlbnRyaWVzIiwibWFwIiwicmVzb3VyY2UiLCJhbW91bnQiLCJoYXNFbm91Z2giLCJJY29uIiwiZm9vZCIsIndvb2QiLCJnb2xkIiwic3RvbmUiLCJzcGFuIiwiQnVpbGRQYW5lbCIsImlzT3BlbiIsIm9uQ2xvc2UiLCJvblN0YXJ0UGxhY2VtZW50IiwiYnVpbGRpbmdDb3VudHMiLCJidWlsZGluZ0xpc3QiLCJhbmNob3JSZWN0IiwiY29uc3RydWN0aWJsZUJ1aWxkaW5ncyIsImZpbHRlciIsImIiLCJpZCIsInNlbGVjdGVkQnVpbGRpbmciLCJzZXRTZWxlY3RlZEJ1aWxkaW5nIiwiaXNDbG9zaW5nIiwic2V0SXNDbG9zaW5nIiwiY3VycmVudERhdGEiLCJzZXRDdXJyZW50RGF0YSIsImhhbmRsZUNsb3NlIiwic2V0VGltZW91dCIsImN1cnJlbnRBbmNob3IiLCJpc0FmZm9yZGFibGUiLCJldmVyeSIsInJlcyIsImJ1aWxkTGltaXQiLCJpc1VuaXF1ZSIsImlzQXRMaW1pdCIsImNhbkJ1aWxkIiwicGFuZWxXaWR0aCIsInBhbmVsSGVpZ2h0RXN0aW1hdGUiLCJwYW5lbEdhcCIsInBhbmVsU3R5bGUiLCJzcGFjZUJlbG93Iiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJib3R0b20iLCJzcGFjZUFib3ZlIiwidG9wIiwidHJhbnNmb3JtT3JpZ2luIiwibGVmdFBvcyIsImxlZnQiLCJ3aWR0aCIsImlubmVyV2lkdGgiLCJjb25zdHJ1Y3RCdXR0b25Ub29sdGlwIiwibmFtZSIsInN0eWxlIiwiaDIiLCJidXR0b24iLCJvbkNsaWNrIiwiYnVpbGRpbmciLCJpY29uSWQiLCJkZWZhdWx0IiwiaXNTZWxlY3RlZCIsImgzIiwicCIsImRlc2NyaXB0aW9uIiwiaHIiLCJoNCIsImJ1aWxkVGltZSIsImRpc2FibGVkIiwiYXJpYS1sYWJlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/BuildPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/types */ \"(app-pages-browser)/./types.ts\");\n/* harmony import */ var _services_geminiService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/services/geminiService */ \"(app-pages-browser)/./services/geminiService.ts\");\n/* harmony import */ var _services_dbService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/services/dbService */ \"(app-pages-browser)/./services/dbService.ts\");\n/* harmony import */ var _services_nameService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/services/nameService */ \"(app-pages-browser)/./services/nameService.ts\");\n/* harmony import */ var _data_itemContent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/data/itemContent */ \"(app-pages-browser)/./data/itemContent.ts\");\n/* harmony import */ var _components_GameUI__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/GameUI */ \"(app-pages-browser)/./components/GameUI.tsx\");\n/* harmony import */ var _components_StartScreen__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/StartScreen */ \"(app-pages-browser)/./components/StartScreen.tsx\");\n/* harmony import */ var _components_LoadingScreen__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/LoadingScreen */ \"(app-pages-browser)/./components/LoadingScreen.tsx\");\n/* harmony import */ var _components_BuildPanel__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/BuildPanel */ \"(app-pages-browser)/./components/BuildPanel.tsx\");\n/* harmony import */ var _components_NotificationManager__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/NotificationManager */ \"(app-pages-browser)/./components/NotificationManager.tsx\");\n/* harmony import */ var _components_UnitManagementPanel__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/components/UnitManagementPanel */ \"(app-pages-browser)/./components/UnitManagementPanel.tsx\");\n/* harmony import */ var _components_BuildingManagementPanel__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/components/BuildingManagementPanel */ \"(app-pages-browser)/./components/BuildingManagementPanel.tsx\");\n/* harmony import */ var _components_ResourceAssignmentPanel__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/components/ResourceAssignmentPanel */ \"(app-pages-browser)/./components/ResourceAssignmentPanel.tsx\");\n/* harmony import */ var _components_CivilizationPanel__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/components/CivilizationPanel */ \"(app-pages-browser)/./components/CivilizationPanel.tsx\");\n/* harmony import */ var _components_AllBuildingsPanel__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/components/AllBuildingsPanel */ \"(app-pages-browser)/./components/AllBuildingsPanel.tsx\");\n/* harmony import */ var _components_InventoryPanel__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @/components/InventoryPanel */ \"(app-pages-browser)/./components/InventoryPanel.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst GATHER_INFO = {\n    food: {\n        rate: 10\n    },\n    wood: {\n        rate: 8\n    },\n    gold: {\n        rate: 5\n    },\n    stone: {\n        rate: 6\n    }\n};\nconst initialBuildingsState = {\n    houses: [],\n    barracks: [],\n    archeryRange: [],\n    stable: [],\n    siegeWorkshop: [],\n    blacksmith: [],\n    watchTower: [],\n    townCenter: []\n};\nconst MAP_DIMENSIONS = {\n    width: 25,\n    height: 18\n};\nconst FALLBACK_AGES = [\n    {\n        name: \"Nomadic Age\",\n        description: \"A scattered tribe, learning to survive.\"\n    },\n    {\n        name: \"Feudal Age\",\n        description: \"Society organizes under lords and vassals.\"\n    },\n    {\n        name: \"Castle Age\",\n        description: \"Powerful fortifications and siege weaponry appear.\"\n    },\n    {\n        name: \"Imperial Age\",\n        description: \"Your civilization becomes a true empire.\"\n    }\n];\nconst GamePage = ()=>{\n    var _buildings_townCenter, _buildings_houses;\n    _s();\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU);\n    const [civilization, setCivilization] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [resources, setResources] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        food: 200,\n        wood: 150,\n        gold: 50,\n        stone: 100\n    });\n    const [units, setUnits] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        villagers: [],\n        military: []\n    });\n    const [buildings, setBuildings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialBuildingsState);\n    const [currentAge, setCurrentAge] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Nomadic Age\");\n    const [gameLog, setGameLog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentEvent, setCurrentEvent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [resourceDeltas, setResourceDeltas] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [activityStatus, setActivityStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Your story begins...\");\n    const [notifications, setNotifications] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [unlimitedResources, setUnlimitedResources] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [allSaves, setAllSaves] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentSaveName, setCurrentSaveName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [playerAction, setPlayerAction] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [activeTasks, setActiveTasks] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [resourceNodes, setResourceNodes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [inventory, setInventory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [activeBuffs, setActiveBuffs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        resourceBoost: []\n    });\n    // Dynamic Configs from DB\n    const [ageProgressionList, setAgeProgressionList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [buildingList, setBuildingList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [unitList, setUnitList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // Panel States\n    const [buildPanelState, setBuildPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        villagerId: null,\n        anchorRect: null\n    });\n    const [unitManagementPanel, setUnitManagementPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        type: null,\n        anchorRect: null\n    });\n    const [buildingManagementPanel, setBuildingManagementPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        type: null,\n        instanceId: null,\n        anchorRect: null\n    });\n    const [allBuildingsPanel, setAllBuildingsPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const [assignmentPanelState, setAssignmentPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        targetId: null,\n        targetType: null,\n        anchorRect: null\n    });\n    const [civPanelState, setCivPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const [inventoryPanelState, setInventoryPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const deltaTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    const eventTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const lastTickRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(Date.now());\n    const animationFrameRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const population = {\n        current: units.villagers.length + units.military.length,\n        capacity: (((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter.length) > 0 ? 20 : 0) + (((_buildings_houses = buildings.houses) === null || _buildings_houses === void 0 ? void 0 : _buildings_houses.length) || 0) * 5\n    };\n    const fetchSavesAndConfigs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        const names = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllSaveNames)();\n        setAllSaves(names);\n        const allAgeConfigs = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllAgeConfigs)();\n        const activeAges = allAgeConfigs.filter((age)=>age.isActive);\n        if (activeAges.length > 0) {\n            setAgeProgressionList(activeAges.map((a)=>({\n                    name: a.name,\n                    description: a.description\n                })));\n        } else {\n            setAgeProgressionList(FALLBACK_AGES);\n        }\n        const allBuildingConfigs = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllBuildingConfigs)();\n        setBuildingList(allBuildingConfigs.filter((b)=>b.isActive));\n        const allUnitConfigs = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllUnitConfigs)();\n        setUnitList(allUnitConfigs.filter((u)=>u.isActive));\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        fetchSavesAndConfigs();\n    }, [\n        fetchSavesAndConfigs\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && civilization && currentSaveName) {\n            const fullState = {\n                civilization,\n                resources,\n                units,\n                buildings,\n                currentAge,\n                gameLog,\n                activeTasks,\n                resourceNodes,\n                inventory,\n                activeBuffs\n            };\n            (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.saveGameState)(currentSaveName, fullState);\n        }\n    }, [\n        civilization,\n        resources,\n        units,\n        buildings,\n        currentAge,\n        gameLog,\n        gameState,\n        currentSaveName,\n        activeTasks,\n        resourceNodes,\n        inventory,\n        activeBuffs\n    ]);\n    const addNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message)=>{\n        const id = \"\".concat(Date.now(), \"-\").concat(Math.random());\n        setNotifications((prev)=>[\n                {\n                    id,\n                    message\n                }\n            ]);\n    }, []);\n    const removeNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id)=>{\n        setNotifications((prev)=>prev.filter((n)=>n.id !== id));\n    }, []);\n    const addToLog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message, icon)=>{\n        setGameLog((prev)=>[\n                {\n                    id: \"\".concat(Date.now(), \"-\").concat(Math.random()),\n                    message,\n                    icon\n                },\n                ...prev.slice(0, 19)\n            ]);\n    }, []);\n    const updateResources = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((deltas)=>{\n        setResources((prev)=>{\n            const newResources = {\n                ...prev\n            };\n            for(const key in deltas){\n                const resourceKey = key;\n                var _deltas_resourceKey;\n                newResources[resourceKey] = Math.max(0, newResources[resourceKey] + ((_deltas_resourceKey = deltas[resourceKey]) !== null && _deltas_resourceKey !== void 0 ? _deltas_resourceKey : 0));\n            }\n            return newResources;\n        });\n        setResourceDeltas((prev)=>({\n                ...prev,\n                ...deltas\n            }));\n        for(const key in deltas){\n            const resourceKey = key;\n            if (deltaTimeoutRef.current[resourceKey]) {\n                window.clearTimeout(deltaTimeoutRef.current[resourceKey]);\n            }\n            deltaTimeoutRef.current[resourceKey] = window.setTimeout(()=>{\n                setResourceDeltas((prev)=>{\n                    const newDeltas = {\n                        ...prev\n                    };\n                    delete newDeltas[resourceKey];\n                    return newDeltas;\n                });\n            }, 1500);\n        }\n    }, []);\n    const handleTaskCompletion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((task)=>{\n        var _task_payload;\n        if (((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.villagerIds) && task.payload.villagerIds.length > 0) {\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>task.payload.villagerIds.includes(v.id) ? {\n                            ...v,\n                            currentTask: null\n                        } : v)\n                }));\n        }\n        switch(task.type){\n            case \"build\":\n                {\n                    const { buildingType, villagerIds, position } = task.payload;\n                    const buildingInfo = buildingList.find((b)=>b.id === buildingType);\n                    const [name] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n                    const newBuilding = {\n                        id: task.id,\n                        name,\n                        position: position,\n                        currentHp: buildingInfo.hp\n                    };\n                    setBuildings((p)=>{\n                        const currentBuildings = p[buildingType] || [];\n                        return {\n                            ...p,\n                            [buildingType]: [\n                                ...currentBuildings,\n                                newBuilding\n                            ]\n                        };\n                    });\n                    if (villagerIds && villagerIds.length > 0) {\n                        addToLog(\"\".concat(villagerIds.length, \" builder(s) have constructed \").concat(name, \", a new \").concat(buildingInfo.name, \".\"), buildingInfo.iconId);\n                        setActivityStatus(\"Construction of \".concat(name, \" is complete.\"));\n                    }\n                    break;\n                }\n            case \"gather\":\n                break;\n            case \"train_villager\":\n                {\n                    const { count } = task.payload;\n                    const newVillagerNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", count);\n                    const newVillagers = newVillagerNames.map((name)=>({\n                            id: \"\".concat(Date.now(), \"-\").concat(name),\n                            name,\n                            currentTask: null\n                        }));\n                    setUnits((p)=>({\n                            ...p,\n                            villagers: [\n                                ...p.villagers,\n                                ...newVillagers\n                            ]\n                        }));\n                    addToLog(\"\".concat(count, \" new villager(s) have joined your settlement.\"), \"villager\");\n                    setActivityStatus(\"\".concat(count, \" new villager(s) are ready to work.\"));\n                    break;\n                }\n            case \"train_military\":\n                {\n                    const { unitType, count } = task.payload;\n                    const unitInfo = unitList.find((u)=>u.id === unitType);\n                    const newUnitNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"soldier\", count);\n                    const newUnits = newUnitNames.map((name)=>({\n                            id: \"\".concat(Date.now(), \"-\").concat(unitType, \"-\").concat(name),\n                            name,\n                            title: \"\",\n                            unitType: unitType\n                        }));\n                    setUnits((p)=>({\n                            ...p,\n                            military: [\n                                ...p.military,\n                                ...newUnits\n                            ]\n                        }));\n                    addToLog(\"\".concat(count, \" \").concat(unitInfo.name, \"(s) have been trained.\"), unitType);\n                    setActivityStatus(\"\".concat(count, \" new \").concat(unitInfo.name, \"(s) are ready for battle.\"));\n                    break;\n                }\n            case \"advance_age\":\n                {\n                    const currentIndex = ageProgressionList.findIndex((age)=>age.name === currentAge);\n                    const ageResult = ageProgressionList[currentIndex + 1] || {\n                        name: \"Age of Legends\",\n                        description: \"Your civilization transcends history and becomes a legend.\"\n                    };\n                    setCurrentAge(ageResult.name);\n                    addToLog(\"You have advanced to the \".concat(ageResult.name, \"!\"), \"age\");\n                    addToLog(ageResult.description, \"age\");\n                    setActivityStatus(\"Welcome to the \".concat(ageResult.name, \"!\"));\n                    break;\n                }\n        }\n    }, [\n        currentAge,\n        addToLog,\n        ageProgressionList,\n        buildingList,\n        unitList\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState !== _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING) {\n            if (animationFrameRef.current) cancelAnimationFrame(animationFrameRef.current);\n            return;\n        }\n        const gameLoop = ()=>{\n            const now = Date.now();\n            const deltaTime = now - lastTickRef.current;\n            lastTickRef.current = now;\n            let completedTasks = [];\n            let resourceDeltasThisTick = {};\n            setActiveBuffs((prev)=>{\n                var _prev_resourceBoost, _prev_resourceBoost1;\n                const newResourceBoosts = (_prev_resourceBoost = prev.resourceBoost) === null || _prev_resourceBoost === void 0 ? void 0 : _prev_resourceBoost.filter((b)=>b.endTime > now);\n                if ((newResourceBoosts === null || newResourceBoosts === void 0 ? void 0 : newResourceBoosts.length) !== ((_prev_resourceBoost1 = prev.resourceBoost) === null || _prev_resourceBoost1 === void 0 ? void 0 : _prev_resourceBoost1.length)) {\n                    addToLog(\"A resource gathering bonus has expired.\", \"system\");\n                }\n                return {\n                    ...prev,\n                    resourceBoost: newResourceBoosts\n                };\n            });\n            const tasksInProgress = activeTasks.map((task)=>{\n                if (now >= task.startTime + task.duration) {\n                    completedTasks.push(task);\n                    return null;\n                }\n                if (task.type === \"gather\") {\n                    var _task_payload_villagerIds, _task_payload, _activeBuffs_resourceBoost_find, _activeBuffs_resourceBoost;\n                    const node = resourceNodes.find((n)=>{\n                        var _task_payload;\n                        return n.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.resourceNodeId);\n                    });\n                    const villagerCount = ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 0;\n                    if (!node || villagerCount === 0) {\n                        completedTasks.push(task);\n                        return null;\n                    }\n                    const baseRatePerSecond = GATHER_INFO[node.type].rate;\n                    let civBonusMultiplier = 1;\n                    if (civilization === null || civilization === void 0 ? void 0 : civilization.bonus.toLowerCase().includes(node.type.toLowerCase())) {\n                        const match = civilization.bonus.match(/(\\d+)%/);\n                        if (match === null || match === void 0 ? void 0 : match[1]) civBonusMultiplier = 1 + parseInt(match[1], 10) / 100;\n                    }\n                    const itemBoostMultiplier = ((_activeBuffs_resourceBoost = activeBuffs.resourceBoost) === null || _activeBuffs_resourceBoost === void 0 ? void 0 : (_activeBuffs_resourceBoost_find = _activeBuffs_resourceBoost.find((b)=>b.resource === node.type)) === null || _activeBuffs_resourceBoost_find === void 0 ? void 0 : _activeBuffs_resourceBoost_find.multiplier) || 1;\n                    const finalRatePerSecond = baseRatePerSecond * civBonusMultiplier * itemBoostMultiplier;\n                    resourceDeltasThisTick[node.type] = (resourceDeltasThisTick[node.type] || 0) + finalRatePerSecond / 1000 * deltaTime * villagerCount;\n                }\n                return task;\n            }).filter(Boolean);\n            if (Object.keys(resourceDeltasThisTick).length > 0) {\n                updateResources(resourceDeltasThisTick);\n                setResourceNodes((prevNodes)=>prevNodes.map((node)=>{\n                        const amountToDecrement = resourceDeltasThisTick[node.type];\n                        if (!amountToDecrement) return node;\n                        const newAmount = node.amount - amountToDecrement;\n                        if (newAmount <= 0) {\n                            const taskId = \"gather-\".concat(node.id);\n                            const task = tasksInProgress.find((t)=>t.id === taskId);\n                            if (task) {\n                                var _task_payload_villagerIds, _task_payload;\n                                addToLog(\"\".concat(((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 0, \" villager(s) depleted a \").concat(node.type, \" source, gaining \").concat(Math.floor(node.amount), \" \").concat(node.type, \".\"), node.type);\n                                setActivityStatus(\"A \".concat(node.type, \" source has been fully depleted.\"));\n                                completedTasks.push(task);\n                            }\n                            return null;\n                        }\n                        return {\n                            ...node,\n                            amount: newAmount\n                        };\n                    }).filter(Boolean));\n            }\n            const finalActiveTasks = tasksInProgress.filter((t)=>!completedTasks.some((ct)=>ct.id === t.id));\n            setActiveTasks(finalActiveTasks);\n            if (completedTasks.length > 0) completedTasks.forEach(handleTaskCompletion);\n            animationFrameRef.current = requestAnimationFrame(gameLoop);\n        };\n        animationFrameRef.current = requestAnimationFrame(gameLoop);\n        return ()=>{\n            if (animationFrameRef.current) cancelAnimationFrame(animationFrameRef.current);\n        };\n    }, [\n        gameState,\n        activeTasks,\n        resourceNodes,\n        handleTaskCompletion,\n        addToLog,\n        updateResources,\n        units.villagers,\n        civilization,\n        activeBuffs\n    ]);\n    const handleNewEvent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!civilization || currentEvent) return;\n        const event = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedGameEvent)();\n        setCurrentEvent(event);\n        setActivityStatus(\"A new event requires your attention!\");\n    }, [\n        civilization,\n        currentEvent\n    ]);\n    const scheduleNextEvent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (eventTimerRef.current) clearTimeout(eventTimerRef.current);\n        eventTimerRef.current = setTimeout(()=>handleNewEvent(), (10 + Math.random() * 15) * 1000);\n    }, [\n        handleNewEvent\n    ]);\n    const generateResourceNodes = (existingPositions)=>{\n        const nodes = [];\n        const types = [\n            \"food\",\n            \"wood\",\n            \"gold\",\n            \"stone\"\n        ];\n        const numNodes = 20 + Math.floor(Math.random() * 10);\n        for(let i = 0; i < numNodes; i++){\n            let pos;\n            do {\n                pos = {\n                    x: Math.floor(Math.random() * MAP_DIMENSIONS.width),\n                    y: Math.floor(Math.random() * MAP_DIMENSIONS.height)\n                };\n            }while (existingPositions.has(\"\".concat(pos.x, \",\").concat(pos.y)));\n            existingPositions.add(\"\".concat(pos.x, \",\").concat(pos.y));\n            const type = types[Math.floor(Math.random() * types.length)];\n            nodes.push({\n                id: \"\".concat(Date.now(), \"-node-\").concat(i),\n                type,\n                position: pos,\n                amount: Math.floor(Math.random() * 2001) + 500\n            });\n        }\n        return nodes;\n    };\n    const handleStartNewGame = async (saveName)=>{\n        var _ageProgressionList_;\n        if (allSaves.includes(saveName)) {\n            addNotification('A saga named \"'.concat(saveName, '\" already exists.'));\n            return;\n        }\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n        setCurrentSaveName(saveName);\n        await fetchSavesAndConfigs();\n        const civ = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedCivilization)();\n        setCivilization(civ);\n        setResources({\n            food: 200,\n            wood: 150,\n            gold: 50,\n            stone: 100\n        });\n        const initialVillagers = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", 3).map((name)=>({\n                id: \"\".concat(Date.now(), \"-\").concat(name),\n                name,\n                currentTask: null\n            }));\n        setUnits({\n            villagers: initialVillagers,\n            military: []\n        });\n        const tcPosition = {\n            x: Math.floor(MAP_DIMENSIONS.width / 2),\n            y: Math.floor(MAP_DIMENSIONS.height / 2)\n        };\n        const tcInfo = buildingList.find((b)=>b.id === \"townCenter\");\n        const initialTC = {\n            id: \"\".concat(Date.now(), \"-tc\"),\n            name: (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1)[0],\n            position: tcPosition,\n            currentHp: tcInfo.hp\n        };\n        setBuildings({\n            ...initialBuildingsState,\n            townCenter: [\n                initialTC\n            ]\n        });\n        setResourceNodes(generateResourceNodes(new Set([\n            \"\".concat(tcPosition.x, \",\").concat(tcPosition.y)\n        ])));\n        setCurrentAge(((_ageProgressionList_ = ageProgressionList[0]) === null || _ageProgressionList_ === void 0 ? void 0 : _ageProgressionList_.name) || FALLBACK_AGES[0].name);\n        setGameLog([]);\n        setCurrentEvent(null);\n        setUnlimitedResources(false);\n        setActiveTasks([]);\n        setInventory([]);\n        setActiveBuffs({\n            resourceBoost: []\n        });\n        addToLog(\"\".concat(civ.name, \" has been founded!\"), \"system\");\n        addToLog(\"Your story begins...\", \"system\");\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING);\n        setActivityStatus(\"Your settlement awaits your command.\");\n        fetchSavesAndConfigs();\n    };\n    const isVillagerBusy = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((villagerId)=>{\n        var _units_villagers_find;\n        return !!((_units_villagers_find = units.villagers.find((v)=>v.id === villagerId)) === null || _units_villagers_find === void 0 ? void 0 : _units_villagers_find.currentTask);\n    }, [\n        units.villagers\n    ]);\n    const getVillagerTaskDetails = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((villagerId)=>{\n        var _buildingList_find, _resourceNodes_find;\n        const villager = units.villagers.find((v)=>v.id === villagerId);\n        if (!(villager === null || villager === void 0 ? void 0 : villager.currentTask)) return \"Idle\";\n        const task = activeTasks.find((t)=>t.id === villager.currentTask);\n        if (!task) return \"Idle (Finalizing Task)\";\n        if (task.type === \"build\") return \"Busy: Constructing \".concat(((_buildingList_find = buildingList.find((b)=>b.id === task.payload.buildingType)) === null || _buildingList_find === void 0 ? void 0 : _buildingList_find.name) || \"a building\");\n        if (task.type === \"gather\") return \"Busy: Gathering \".concat(((_resourceNodes_find = resourceNodes.find((n)=>n.id === task.payload.resourceNodeId)) === null || _resourceNodes_find === void 0 ? void 0 : _resourceNodes_find.type) || \"resources\");\n        return \"Idle\";\n    }, [\n        activeTasks,\n        resourceNodes,\n        units.villagers,\n        buildingList\n    ]);\n    const handleResumeGame = async (saveName)=>{\n        await fetchSavesAndConfigs();\n        const savedState = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.loadGameState)(saveName);\n        if (savedState) {\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n            setCurrentSaveName(saveName);\n            setCivilization(savedState.civilization);\n            setResources(savedState.resources);\n            const migratedVillagers = (savedState.units.villagers || []).map((v)=>({\n                    ...v,\n                    currentTask: v.currentTask !== undefined ? v.currentTask : null\n                }));\n            const migratedTasks = (savedState.activeTasks || []).map((t)=>{\n                var _t_payload;\n                return t.type === \"build\" && !((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.villagerIds) ? {\n                    ...t,\n                    payload: {\n                        ...t.payload,\n                        villagerIds: []\n                    }\n                } : t;\n            });\n            migratedTasks.forEach((task)=>{\n                var _task_payload_villagerIds, _task_payload;\n                return (_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.forEach((vid)=>{\n                    const v = migratedVillagers.find((v)=>v.id === vid);\n                    if (v) v.currentTask = task.id;\n                });\n            });\n            setUnits({\n                ...savedState.units,\n                villagers: migratedVillagers\n            });\n            const constructionTasks = migratedTasks.filter((t)=>t.type === \"build\");\n            const occupiedCells = new Set([\n                ...Object.values(savedState.buildings || {}).flat().map((b)=>\"\".concat(b.position.x, \",\").concat(b.position.y)),\n                ...constructionTasks.map((t)=>\"\".concat(t.payload.position.x, \",\").concat(t.payload.position.y))\n            ]);\n            let finalBuildings = {\n                ...initialBuildingsState,\n                ...savedState.buildings || {}\n            };\n            Object.keys(finalBuildings).forEach((bType)=>{\n                const info = buildingList.find((b)=>b.id === bType);\n                if (info) finalBuildings[bType] = finalBuildings[bType].map((b)=>({\n                        ...b,\n                        currentHp: b.currentHp === undefined ? info.hp : b.currentHp\n                    }));\n            });\n            if (!finalBuildings.townCenter || finalBuildings.townCenter.length === 0) {\n                let tcPos = {\n                    x: 10,\n                    y: 5\n                };\n                while(occupiedCells.has(\"\".concat(tcPos.x, \",\").concat(tcPos.y))){\n                    tcPos.x++;\n                }\n                const tcInfo = buildingList.find((b)=>b.id === \"townCenter\");\n                finalBuildings.townCenter = [\n                    {\n                        id: \"\".concat(Date.now(), \"-tc\"),\n                        name: (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1)[0],\n                        position: tcPos,\n                        currentHp: tcInfo.hp\n                    }\n                ];\n                occupiedCells.add(\"\".concat(tcPos.x, \",\").concat(tcPos.y));\n            }\n            setBuildings(finalBuildings);\n            setResourceNodes((savedState.resourceNodes || []).length === 0 ? generateResourceNodes(occupiedCells) : savedState.resourceNodes || []);\n            setCurrentAge(savedState.currentAge);\n            setGameLog(savedState.gameLog);\n            setActiveTasks(migratedTasks);\n            setInventory(savedState.inventory || []);\n            setActiveBuffs(savedState.activeBuffs || {\n                resourceBoost: []\n            });\n            setCurrentEvent(null);\n            setActivityStatus(\"Welcome back to your saga.\");\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING);\n        } else {\n            addNotification('Could not find a saved game named \"'.concat(saveName, '\".'));\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState !== _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING) return;\n        if (!currentEvent) scheduleNextEvent();\n        else if (eventTimerRef.current) clearTimeout(eventTimerRef.current);\n        return ()=>{\n            if (eventTimerRef.current) clearTimeout(eventTimerRef.current);\n        };\n    }, [\n        gameState,\n        currentEvent,\n        scheduleNextEvent\n    ]);\n    const handleEventChoice = (choice)=>{\n        if (choice.cost) {\n            const missing = Object.keys(choice.cost).filter((res)=>resources[res] < (choice.cost[res] || 0));\n            if (missing.length > 0) {\n                addNotification(\"You lack the required resources: \".concat(missing.join(\", \"), \".\"));\n                return;\n            }\n            updateResources(Object.entries(choice.cost).reduce((acc, param)=>{\n                let [k, v] = param;\n                return {\n                    ...acc,\n                    [k]: -v\n                };\n            }, {}));\n        }\n        const isSuccess = choice.successChance === undefined || Math.random() < choice.successChance;\n        const effects = isSuccess ? choice.successEffects : choice.failureEffects;\n        if (!effects) {\n            setCurrentEvent(null);\n            scheduleNextEvent();\n            return;\n        }\n        let logMessage = 'Decision: \"'.concat(choice.text, '\". Outcome: ').concat(isSuccess ? \"Success\" : \"Failure\", \". \").concat(effects.log);\n        effects.rewards.forEach((reward)=>{\n            if (reward.type === \"resource\") {\n                const amount = Array.isArray(reward.amount) ? Math.floor(Math.random() * (reward.amount[1] - reward.amount[0] + 1)) + reward.amount[0] : reward.amount;\n                if (amount !== 0) {\n                    updateResources({\n                        [reward.resource]: amount\n                    });\n                    logMessage += \" You \".concat(amount > 0 ? \"gained\" : \"lost\", \" \").concat(Math.abs(amount), \" \").concat(reward.resource, \".\");\n                }\n            } else if (reward.type === \"item\") {\n                const itemInfo = _data_itemContent__WEBPACK_IMPORTED_MODULE_6__.GAME_ITEMS[reward.itemId];\n                if (itemInfo) {\n                    const newItems = Array.from({\n                        length: reward.amount\n                    }, (_, i)=>({\n                            ...itemInfo,\n                            id: \"\".concat(reward.itemId, \"-\").concat(Date.now(), \"-\").concat(i)\n                        }));\n                    setInventory((prev)=>[\n                            ...prev,\n                            ...newItems\n                        ]);\n                    logMessage += \" You received \".concat(reward.amount, \"x \").concat(itemInfo.name, \"!\");\n                }\n            } else if (reward.type === \"unit\" && reward.unitType === \"villager\") {\n                const newVillagers = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", reward.amount).map((name)=>({\n                        id: \"\".concat(Date.now(), \"-\").concat(name),\n                        name,\n                        currentTask: null\n                    }));\n                setUnits((p)=>({\n                        ...p,\n                        villagers: [\n                            ...p.villagers,\n                            ...newVillagers\n                        ]\n                    }));\n                logMessage += \" You gained \".concat(reward.amount, \" villager(s).\");\n            }\n        });\n        addToLog(logMessage, \"event\");\n        setActivityStatus(effects.log);\n        setCurrentEvent(null);\n        scheduleNextEvent();\n    };\n    const handleInitiateBuild = (villagerId, rect)=>{\n        if (isVillagerBusy(villagerId)) {\n            addNotification(\"This villager is already busy.\");\n            return;\n        }\n        setBuildPanelState({\n            isOpen: true,\n            villagerId,\n            anchorRect: rect\n        });\n        setUnitManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleStartPlacement = (buildingId)=>{\n        var _buildings_buildingInfo_id;\n        const villagerId = buildPanelState.villagerId;\n        if (!villagerId) return;\n        const buildingInfo = buildingList.find((b)=>b.id === buildingId);\n        if (!buildingInfo) return;\n        const existingCount = ((_buildings_buildingInfo_id = buildings[buildingInfo.id]) === null || _buildings_buildingInfo_id === void 0 ? void 0 : _buildings_buildingInfo_id.length) || 0;\n        const constructingCount = activeTasks.filter((t)=>{\n            var _t_payload;\n            return t.type === \"build\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.buildingType) === buildingInfo.id;\n        }).length;\n        const totalCount = existingCount + constructingCount;\n        const limit = buildingInfo.isUnique ? 1 : buildingInfo.buildLimit || 0;\n        if (limit > 0 && totalCount >= limit) {\n            addNotification(\"You have reached the build limit for \".concat(buildingInfo.name, \" (\").concat(limit, \").\"));\n            return;\n        }\n        const missing = unlimitedResources ? [] : Object.keys(buildingInfo.cost).filter((res)=>resources[res] < (buildingInfo.cost[res] || 0));\n        if (missing.length > 0) {\n            addNotification(\"Need more \".concat(missing.join(\", \"), \".\"));\n            return;\n        }\n        setPlayerAction({\n            mode: \"build\",\n            buildingType: buildingId,\n            villagerId\n        });\n        setBuildPanelState({\n            isOpen: false,\n            villagerId: null,\n            anchorRect: null\n        });\n        setActivityStatus(\"Select a location to build a \".concat(buildingInfo.name, \". Right-click to cancel.\"));\n    };\n    const handleConfirmPlacement = (position)=>{\n        if ((playerAction === null || playerAction === void 0 ? void 0 : playerAction.mode) !== \"build\") return;\n        const { buildingType, villagerId } = playerAction;\n        const buildingInfo = buildingList.find((b)=>b.id === buildingType);\n        const builder = units.villagers.find((v)=>v.id === villagerId);\n        if (!buildingInfo || !builder) return;\n        if (!unlimitedResources) updateResources(Object.entries(buildingInfo.cost).reduce((acc, param)=>{\n            let [k, v] = param;\n            return {\n                ...acc,\n                [k]: -v\n            };\n        }, {}));\n        let buildTime = buildingInfo.buildTime * 1000;\n        if (activeBuffs.buildTimeReduction) {\n            buildTime *= 1 - activeBuffs.buildTimeReduction.percentage;\n            addToLog(\"A Builder's Charm reduced construction time by \".concat(activeBuffs.buildTimeReduction.percentage * 100, \"%!\"), \"item\");\n            setActiveBuffs((prev)=>({\n                    ...prev,\n                    buildTimeReduction: prev.buildTimeReduction.uses - 1 > 0 ? {\n                        ...prev.buildTimeReduction,\n                        uses: prev.buildTimeReduction.uses - 1\n                    } : undefined\n                }));\n        }\n        const taskId = \"\".concat(Date.now(), \"-build-\").concat(buildingType);\n        const taskPayload = {\n            buildingType,\n            villagerIds: [\n                villagerId\n            ],\n            position\n        };\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: taskId,\n                type: \"build\",\n                startTime: 0,\n                duration: 0,\n                payload: {\n                    ...taskPayload,\n                    position\n                }\n            });\n        } else {\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: taskId,\n                        type: \"build\",\n                        startTime: Date.now(),\n                        duration: buildTime,\n                        payload: taskPayload\n                    }\n                ]);\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>v.id === villagerId ? {\n                            ...v,\n                            currentTask: taskId\n                        } : v)\n                }));\n            setActivityStatus(\"\".concat(builder.name, \" has started constructing a \").concat(buildingInfo.name, \".\"));\n            addToLog(\"\".concat(builder.name, \" began construction of a new \").concat(buildingInfo.name, \".\"), buildingInfo.iconId);\n        }\n        setPlayerAction(null);\n    };\n    const handleCancelPlayerAction = ()=>{\n        setPlayerAction(null);\n        setActivityStatus(\"Command cancelled.\");\n    };\n    const handleDemolishBuilding = (type, id)=>{\n        var _buildings_townCenter;\n        if (type === \"townCenter\") {\n            addNotification(\"The Town Center is the heart of your civilization and cannot be demolished.\");\n            return;\n        }\n        if (activeTasks.some((t)=>{\n            var _t_payload;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.buildingId) === id;\n        })) {\n            addNotification(\"Cannot demolish a building with an active task.\");\n            return;\n        }\n        const buildingInfo = buildingList.find((b)=>b.id === type);\n        const buildingInstance = buildings[type].find((b)=>b.id === id);\n        if (!buildingInfo || !buildingInstance) return;\n        if (type === \"houses\" && population.current > (((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter.length) > 0 ? 20 : 0) + (buildings.houses.length - 1) * 5) {\n            addNotification(\"Cannot demolish this house, your people would be homeless.\");\n            return;\n        }\n        const refund = Object.entries(buildingInfo.cost).reduce((acc, param)=>{\n            let [res, cost] = param;\n            const amount = Math.floor((cost || 0) * 0.5);\n            if (amount > 0) acc[res] = amount;\n            return acc;\n        }, {});\n        if (Object.keys(refund).length > 0) {\n            updateResources(refund);\n            addNotification(\"Salvaged \".concat(Object.entries(refund).map((param)=>{\n                let [r, a] = param;\n                return \"\".concat(a, \" \").concat(r);\n            }).join(\", \"), \".\"));\n        }\n        setBuildings((prev)=>({\n                ...prev,\n                [type]: prev[type].filter((b)=>b.id !== id)\n            }));\n        addToLog(\"\".concat(buildingInstance.name, \" (\").concat(buildingInfo.name, \") was demolished.\"), buildingInfo.iconId);\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            instanceId: null,\n            anchorRect: null\n        });\n    };\n    const handleUpdateBuilding = (type, id, name)=>{\n        setBuildings((prev)=>({\n                ...prev,\n                [type]: prev[type].map((b)=>b.id === id ? {\n                        ...b,\n                        name\n                    } : b)\n            }));\n        addNotification(\"Building renamed.\");\n    };\n    const handleTrainVillagers = (count)=>{\n        var _buildings_townCenter;\n        if (activeTasks.some((t)=>t.type === \"train_villager\") || count <= 0) return;\n        if (population.current + count > population.capacity) {\n            addNotification(\"Need space for \".concat(count, \" more villagers.\"));\n            return;\n        }\n        if (!((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter[0])) {\n            addNotification(\"No Town Center to train villagers.\");\n            return;\n        }\n        if (!unlimitedResources) {\n            const totalCost = 50 * count;\n            if (resources.food < totalCost) {\n                addNotification(\"Need \".concat(totalCost - resources.food, \" more Food.\"));\n                return;\n            }\n            updateResources({\n                food: -totalCost\n            });\n        }\n        if (unlimitedResources) handleTaskCompletion({\n            id: \"instant\",\n            type: \"train_villager\",\n            startTime: 0,\n            duration: 0,\n            payload: {\n                count\n            }\n        });\n        else {\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: \"\".concat(Date.now(), \"-train-villager\"),\n                        type: \"train_villager\",\n                        startTime: Date.now(),\n                        duration: 10000 * count,\n                        payload: {\n                            count,\n                            buildingId: buildings.townCenter[0].id\n                        }\n                    }\n                ]);\n            setActivityStatus(\"Training \".concat(count, \" villager(s)...\"));\n            addToLog(\"Began training \".concat(count, \" new villager(s).\"), \"villager\");\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            instanceId: null,\n            anchorRect: null\n        });\n    };\n    const handleTrainUnits = (unitType, count)=>{\n        var _buildings_unitInfo_requiredBuilding;\n        const unitInfo = unitList.find((u)=>u.id === unitType);\n        if (!unitInfo || activeTasks.some((t)=>{\n            var _t_payload;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.unitType) === unitType;\n        }) || count <= 0) return;\n        if (population.current + count > population.capacity) {\n            addNotification(\"Need space for \".concat(count, \" more units.\"));\n            return;\n        }\n        const trainingBuilding = (_buildings_unitInfo_requiredBuilding = buildings[unitInfo.requiredBuilding]) === null || _buildings_unitInfo_requiredBuilding === void 0 ? void 0 : _buildings_unitInfo_requiredBuilding[0];\n        if (!trainingBuilding) {\n            var _buildingList_find;\n            addNotification(\"No \".concat((_buildingList_find = buildingList.find((b)=>b.id === unitInfo.requiredBuilding)) === null || _buildingList_find === void 0 ? void 0 : _buildingList_find.name, \" to train units.\"));\n            return;\n        }\n        if (!unlimitedResources) {\n            const missing = Object.keys(unitInfo.cost).filter((res)=>resources[res] < (unitInfo.cost[res] || 0) * count);\n            if (missing.length > 0) {\n                addNotification(\"Need more \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n            updateResources(Object.entries(unitInfo.cost).reduce((acc, param)=>{\n                let [k, v] = param;\n                return {\n                    ...acc,\n                    [k]: -(v || 0) * count\n                };\n            }, {}));\n        }\n        let trainTime = unitInfo.trainTime * 1000 * count;\n        if (activeBuffs.permanentTrainTimeReduction) trainTime *= 1 - activeBuffs.permanentTrainTimeReduction;\n        if (activeBuffs.trainTimeReduction) {\n            const applicable = Math.min(count, activeBuffs.trainTimeReduction.uses);\n            trainTime = unitInfo.trainTime * 1000 * applicable * (1 - activeBuffs.trainTimeReduction.percentage) + unitInfo.trainTime * 1000 * (count - applicable);\n            if (activeBuffs.trainTimeReduction.uses - applicable > 0) setActiveBuffs((prev)=>({\n                    ...prev,\n                    trainTimeReduction: {\n                        ...prev.trainTimeReduction,\n                        uses: prev.trainTimeReduction.uses - applicable\n                    }\n                }));\n            else {\n                setActiveBuffs((prev)=>({\n                        ...prev,\n                        trainTimeReduction: undefined\n                    }));\n                addToLog(\"The Drillmaster's Whistle buff has been fully used.\", \"item\");\n            }\n        }\n        if (unlimitedResources) handleTaskCompletion({\n            id: \"instant\",\n            type: \"train_military\",\n            startTime: 0,\n            duration: 0,\n            payload: {\n                unitType,\n                count\n            }\n        });\n        else {\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: \"\".concat(Date.now(), \"-train-\").concat(unitType),\n                        type: \"train_military\",\n                        startTime: Date.now(),\n                        duration: trainTime,\n                        payload: {\n                            unitType,\n                            count,\n                            buildingId: trainingBuilding.id\n                        }\n                    }\n                ]);\n            setActivityStatus(\"Training \".concat(count, \" \").concat(unitInfo.name, \"(s)...\"));\n            addToLog(\"Began training \".concat(count, \" new \").concat(unitInfo.name, \"(s).\"), unitType);\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            instanceId: null,\n            anchorRect: null\n        });\n    };\n    const handleDismissSpecificUnit = (type, id)=>{\n        if (type === \"villagers\" && isVillagerBusy(id)) {\n            addNotification(\"Cannot dismiss a busy villager.\");\n            return;\n        }\n        const unit = units[type].find((u)=>u.id === id);\n        if (!unit) return;\n        if (type === \"villagers\" && units.villagers.length <= 1) {\n            addNotification(\"Cannot dismiss your last villager.\");\n            return;\n        }\n        setUnits((prev)=>({\n                ...prev,\n                [type]: prev[type].filter((u)=>u.id !== id)\n            }));\n        const unitTypeName = type === \"villagers\" ? \"villager\" : unit.unitType;\n        addToLog(\"\".concat(unit.name, \" the \").concat(unitTypeName, \" has been dismissed.\"), type === \"villagers\" ? \"villager\" : unit.unitType);\n        addNotification(\"\".concat(unit.name, \" was dismissed.\"));\n    };\n    const handleUpdateUnit = (type, id, name, title)=>{\n        setUnits((prev)=>({\n                ...prev,\n                [type]: prev[type].map((u)=>u.id === id ? type === \"military\" && title !== undefined ? {\n                        ...u,\n                        name,\n                        title\n                    } : {\n                        ...u,\n                        name\n                    } : u)\n            }));\n        addNotification(\"Unit updated.\");\n    };\n    const handleAssignVillagersToConstruction = (constructionId, count)=>{\n        var _task_payload_villagerIds, _task_payload, _task_payload_villagerIds1, _task_payload1;\n        const idleVillagers = units.villagers.filter((v)=>!v.currentTask);\n        if (count <= 0 || idleVillagers.length === 0) {\n            addNotification(\"No idle villagers available.\");\n            return;\n        }\n        const task = activeTasks.find((t)=>t.id === constructionId);\n        if (!task || task.type !== \"build\") return;\n        const buildingInfo = buildingList.find((b)=>{\n            var _task_payload;\n            return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n        });\n        if (!buildingInfo) return;\n        const cappedCount = Math.min(count, idleVillagers.length);\n        const villagersToAssign = idleVillagers.slice(0, cappedCount).map((v)=>v.id);\n        const workDone = (Date.now() - task.startTime) * (((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 1);\n        const workRemaining = Math.max(0, buildingInfo.buildTime * 1000 - workDone);\n        const newWorkerCount = (((_task_payload1 = task.payload) === null || _task_payload1 === void 0 ? void 0 : (_task_payload_villagerIds1 = _task_payload1.villagerIds) === null || _task_payload_villagerIds1 === void 0 ? void 0 : _task_payload_villagerIds1.length) || 0) + cappedCount;\n        const newRemainingDuration = workRemaining / newWorkerCount;\n        setUnits((prev)=>({\n                ...prev,\n                villagers: prev.villagers.map((v)=>villagersToAssign.includes(v.id) ? {\n                        ...v,\n                        currentTask: constructionId\n                    } : v)\n            }));\n        setActiveTasks((prev)=>prev.map((t)=>t.id === constructionId ? {\n                    ...t,\n                    startTime: Date.now(),\n                    duration: newRemainingDuration,\n                    payload: {\n                        ...t.payload,\n                        villagerIds: [\n                            ...t.payload.villagerIds,\n                            ...villagersToAssign\n                        ]\n                    }\n                } : t));\n        addToLog(\"\".concat(cappedCount, \" villager(s) are now assisting with the \").concat(buildingInfo.name, \".\"), buildingInfo.iconId);\n        setActivityStatus(\"Construction of the \".concat(buildingInfo.name, \" is now faster.\"));\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleAssignVillagers = (targetId, count)=>{\n        if (assignmentPanelState.targetType === \"construction\") return handleAssignVillagersToConstruction(targetId, count);\n        const idleVillagers = units.villagers.filter((v)=>!v.currentTask);\n        if (count <= 0 || idleVillagers.length === 0) {\n            addNotification(\"No idle villagers available.\");\n            return;\n        }\n        const targetNode = resourceNodes.find((n)=>n.id === targetId);\n        if (!targetNode) return;\n        const cappedCount = Math.min(count, idleVillagers.length);\n        const villagersToAssign = idleVillagers.slice(0, cappedCount).map((v)=>v.id);\n        const taskId = \"gather-\".concat(targetId);\n        const existingTask = activeTasks.find((t)=>t.id === taskId);\n        if (unlimitedResources) {\n            updateResources({\n                [targetNode.type]: targetNode.amount\n            });\n            addToLog(\"\".concat(cappedCount, \" villager(s) instantly gathered \").concat(Math.floor(targetNode.amount), \" \").concat(targetNode.type, \".\"), targetNode.type);\n            setResourceNodes((prev)=>prev.filter((n)=>n.id !== targetId));\n        } else {\n            if (existingTask) setActiveTasks((prev)=>prev.map((t)=>t.id === taskId ? {\n                        ...t,\n                        payload: {\n                            ...t.payload,\n                            villagerIds: [\n                                ...new Set([\n                                    ...t.payload.villagerIds,\n                                    ...villagersToAssign\n                                ])\n                            ]\n                        }\n                    } : t));\n            else setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: taskId,\n                        type: \"gather\",\n                        startTime: Date.now(),\n                        duration: 999999999,\n                        payload: {\n                            resourceNodeId: targetId,\n                            villagerIds: villagersToAssign\n                        }\n                    }\n                ]);\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>villagersToAssign.includes(v.id) ? {\n                            ...v,\n                            currentTask: taskId\n                        } : v)\n                }));\n        }\n        addToLog(\"\".concat(cappedCount, \" villager(s) assigned to gather \").concat(targetNode.type, \".\"), targetNode.type);\n        setActivityStatus(\"\".concat(cappedCount, \" villager(s) are now gathering \").concat(targetNode.type, \".\"));\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleRecallVillagers = (targetId, count, type)=>{\n        var _task_payload_villagerIds, _task_payload;\n        const task = activeTasks.find((t)=>t.id === targetId);\n        var _task_payload_villagerIds_length;\n        if (!task || ((_task_payload_villagerIds_length = (_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) !== null && _task_payload_villagerIds_length !== void 0 ? _task_payload_villagerIds_length : 0) < count) return;\n        const villagersToRecall = task.payload.villagerIds.slice(task.payload.villagerIds.length - count);\n        if (type === \"construction\" && villagersToRecall.length === task.payload.villagerIds.length) {\n            addNotification(\"Cannot recall the last builder from a project.\");\n            return;\n        }\n        setUnits((prev)=>({\n                ...prev,\n                villagers: prev.villagers.map((v)=>villagersToRecall.includes(v.id) ? {\n                        ...v,\n                        currentTask: null\n                    } : v)\n            }));\n        const remainingVillagers = task.payload.villagerIds.filter((id)=>!villagersToRecall.includes(id));\n        if (remainingVillagers.length === 0) {\n            setActiveTasks((prev)=>prev.filter((t)=>t.id !== targetId));\n            const node = resourceNodes.find((n)=>n.id === targetId);\n            if (node) addToLog(\"All villagers recalled from gathering \".concat(node.type, \".\"), \"villager\");\n        } else {\n            const buildingInfo = buildingList.find((b)=>{\n                var _task_payload;\n                return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n            });\n            const workDone = (Date.now() - task.startTime) * task.payload.villagerIds.length;\n            const newRemainingDuration = (buildingInfo.buildTime * 1000 - workDone) / remainingVillagers.length;\n            setActiveTasks((prev)=>prev.map((t)=>t.id === targetId ? {\n                        ...t,\n                        startTime: Date.now(),\n                        duration: newRemainingDuration,\n                        payload: {\n                            ...t.payload,\n                            villagerIds: remainingVillagers\n                        }\n                    } : t));\n            if (type === \"construction\") addToLog(\"\".concat(count, \" builder(s) recalled. Construction will now be slower.\"), \"villager\");\n        }\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleAdvanceAge = async ()=>{\n        if (activeTasks.some((t)=>t.type === \"advance_age\")) {\n            addNotification(\"Advancement already in progress.\");\n            return;\n        }\n        if (!unlimitedResources) {\n            const missing = [];\n            if (resources.food < 500) missing.push(\"\".concat(500 - resources.food, \" Food\"));\n            if (resources.gold < 200) missing.push(\"\".concat(200 - resources.gold, \" Gold\"));\n            if (missing.length > 0) {\n                addNotification(\"To advance, you need \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n            updateResources({\n                food: -500,\n                gold: -200\n            });\n        }\n        const currentIndex = ageProgressionList.findIndex((age)=>age.name === currentAge);\n        if (currentIndex === -1 || currentIndex + 1 >= ageProgressionList.length) {\n            addNotification(\"You have reached the final available age.\");\n            return;\n        }\n        if (unlimitedResources) handleTaskCompletion({\n            id: \"instant\",\n            type: \"advance_age\",\n            startTime: 0,\n            duration: 0,\n            payload: {}\n        });\n        else {\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: \"\".concat(Date.now(), \"-advance_age\"),\n                        type: \"advance_age\",\n                        startTime: Date.now(),\n                        duration: 60000\n                    }\n                ]);\n            setActivityStatus(\"Your people begin the long journey to a new age.\");\n            setBuildingManagementPanel({\n                isOpen: false,\n                type: null,\n                instanceId: null,\n                anchorRect: null\n            });\n        }\n    };\n    const handleExitGame = async ()=>{\n        setCurrentSaveName(null);\n        await fetchSavesAndConfigs();\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU);\n    };\n    const handleDeleteGame = async (saveName)=>{\n        await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.deleteGameState)(saveName);\n        await fetchSavesAndConfigs();\n        addNotification('Deleted saga: \"'.concat(saveName, '\"'));\n    };\n    const handleToggleUnlimitedResources = ()=>{\n        const newMode = !unlimitedResources;\n        setUnlimitedResources(newMode);\n        if (newMode) {\n            setResources({\n                food: 99999,\n                wood: 99999,\n                gold: 99999,\n                stone: 99999\n            });\n            addNotification(\"Test Mode: ON - All active tasks completed.\");\n            const depletedNodeIds = new Set();\n            activeTasks.forEach((task)=>{\n                var _task_payload;\n                if (task.type === \"gather\" && ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.resourceNodeId)) {\n                    depletedNodeIds.add(task.payload.resourceNodeId);\n                    const node = resourceNodes.find((n)=>n.id === task.payload.resourceNodeId);\n                    if (node) addToLog(\"Instantly gathered all \".concat(node.type, \" from a depleted source.\"), node.type);\n                }\n                handleTaskCompletion(task);\n            });\n            setActiveTasks([]);\n            if (depletedNodeIds.size > 0) setResourceNodes((prev)=>prev.filter((n)=>!depletedNodeIds.has(n.id)));\n        } else addNotification(\"Test Mode: OFF\");\n    };\n    const handleUseItem = (itemId)=>{\n        const item = inventory.find((i)=>i.id === itemId);\n        if (!item) return;\n        const baseItemId = item.id.split(\"-\")[0];\n        const constructionTasks = activeTasks.filter((t)=>t.type === \"build\");\n        switch(baseItemId){\n            case \"scroll_of_haste\":\n            case \"blueprint_of_the_master\":\n                if (constructionTasks.length > 0) {\n                    var _buildingList_find;\n                    const task = constructionTasks.sort((a, b)=>b.startTime + b.duration - (a.startTime + a.duration))[0];\n                    setActiveTasks((p)=>p.map((t)=>t.id === task.id ? {\n                                ...t,\n                                duration: Math.max(0, t.duration - (baseItemId === \"scroll_of_haste\" ? 15000 : 60000))\n                            } : t));\n                    addToLog(\"Used \".concat(item.name, \" on the \").concat((_buildingList_find = buildingList.find((b)=>{\n                        var _task_payload;\n                        return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n                    })) === null || _buildingList_find === void 0 ? void 0 : _buildingList_find.name, \".\"), \"item\");\n                }\n                break;\n            case \"hearty_meal\":\n                updateResources({\n                    food: 75\n                });\n                addToLog(\"Used \".concat(item.name, \" to gain 75 food.\"), \"item\");\n                break;\n            case \"builders_charm\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        buildTimeReduction: {\n                            percentage: 0.1,\n                            uses: 1\n                        }\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Next building is 10% faster.\"), \"item\");\n                break;\n            case \"drillmasters_whistle\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        trainTimeReduction: {\n                            percentage: 0.25,\n                            uses: 5\n                        }\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Next 5 units train 25% faster.\"), \"item\");\n                break;\n            case \"golden_harvest\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        resourceBoost: [\n                            ...p.resourceBoost || [],\n                            {\n                                resource: \"food\",\n                                multiplier: 1.5,\n                                endTime: Date.now() + 60000\n                            }\n                        ]\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Food gathering boosted by 50% for 60s.\"), \"item\");\n                break;\n            case \"shard_of_the_ancients\":\n                if (constructionTasks.length > 0) {\n                    var _buildingList_find1;\n                    const task = constructionTasks.sort((a, b)=>b.startTime + b.duration - (a.startTime + a.duration))[0];\n                    setActiveTasks((p)=>p.filter((t)=>t.id !== task.id));\n                    handleTaskCompletion(task);\n                    addToLog(\"Used \".concat(item.name, \" to instantly complete the \").concat((_buildingList_find1 = buildingList.find((b)=>{\n                        var _task_payload;\n                        return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n                    })) === null || _buildingList_find1 === void 0 ? void 0 : _buildingList_find1.name, \".\"), \"item\");\n                }\n                break;\n            case \"heart_of_the_mountain\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        resourceBoost: [\n                            ...p.resourceBoost || [],\n                            {\n                                resource: \"gold\",\n                                multiplier: 2,\n                                endTime: Date.now() + 120000\n                            },\n                            {\n                                resource: \"stone\",\n                                multiplier: 2,\n                                endTime: Date.now() + 120000\n                            }\n                        ]\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Gold and Stone gathering doubled for 2 minutes.\"), \"item\");\n                break;\n            case \"banner_of_command\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        permanentTrainTimeReduction: (p.permanentTrainTimeReduction || 0) + 0.05\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Military units train 5% faster, permanently.\"), \"item\");\n                break;\n            case \"whisper_of_the_creator\":\n                const tasks = [\n                    ...activeTasks\n                ];\n                setActiveTasks([]);\n                tasks.forEach(handleTaskCompletion);\n                addToLog(\"A divine whisper echoes, and all work is instantly finished.\", \"item\");\n                break;\n        }\n        setInventory((prev)=>prev.filter((i)=>i.id !== itemId));\n        setInventoryPanelState({\n            isOpen: false,\n            anchorRect: null\n        });\n    };\n    const buildingCounts = buildingList.reduce((acc, b)=>{\n        var _buildings_b_id;\n        acc[b.id] = ((_buildings_b_id = buildings[b.id]) === null || _buildings_b_id === void 0 ? void 0 : _buildings_b_id.length) || 0;\n        return acc;\n    }, {});\n    const idleVillagerCount = units.villagers.filter((v)=>!v.currentTask).length;\n    const assignmentTarget = assignmentPanelState.targetType === \"resource\" ? resourceNodes.find((n)=>n.id === assignmentPanelState.targetId) : activeTasks.find((t)=>t.type === \"build\" && t.id === assignmentPanelState.targetId);\n    const currentAgeIndex = ageProgressionList.findIndex((a)=>a.name === currentAge);\n    const availableBuildings = buildingList.filter((b)=>{\n        const unlockAgeIndex = ageProgressionList.findIndex((a)=>a.name === b.unlockedInAge);\n        return unlockAgeIndex !== -1 && unlockAgeIndex <= currentAgeIndex;\n    });\n    const closeAllPanels = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setUnitManagementPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                type: null,\n                anchorRect: null\n            } : p);\n        setBuildingManagementPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                type: null,\n                instanceId: null,\n                anchorRect: null\n            } : p);\n        setBuildPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                villagerId: null,\n                anchorRect: null\n            } : p);\n        setAssignmentPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                targetId: null,\n                targetType: null,\n                anchorRect: null\n            } : p);\n        setCivPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n        setAllBuildingsPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n        setInventoryPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n    }, []);\n    const handleOpenBuildingPanel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((type, instanceId, rect)=>{\n        closeAllPanels();\n        setBuildingManagementPanel({\n            isOpen: true,\n            type,\n            instanceId,\n            anchorRect: rect\n        });\n    }, [\n        closeAllPanels\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClickOutside = (event)=>{\n            const target = event.target;\n            if (!target.closest(\".sci-fi-panel-popup\")) closeAllPanels();\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>document.removeEventListener(\"mousedown\", handleClickOutside);\n    }, [\n        closeAllPanels\n    ]);\n    const renderContent = ()=>{\n        switch(gameState){\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StartScreen__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                    onNewGame: handleStartNewGame,\n                    onResumeGame: handleResumeGame,\n                    savedGames: allSaves,\n                    onDeleteGame: handleDeleteGame\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 759,\n                    columnNumber: 42\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 760,\n                    columnNumber: 45\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING:\n                if (!civilization) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 762,\n                    columnNumber: 43\n                }, undefined);\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_GameUI__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                            civilization: civilization,\n                            resources: resources,\n                            units: units,\n                            buildings: buildings,\n                            population: population,\n                            currentAge: currentAge,\n                            gameLog: gameLog,\n                            resourceDeltas: resourceDeltas,\n                            activityStatus: activityStatus,\n                            unitList: unitList,\n                            buildingList: buildingList,\n                            onOpenUnitPanel: (type, rect)=>{\n                                closeAllPanels();\n                                setUnitManagementPanel({\n                                    isOpen: true,\n                                    type,\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenBuildingPanel: handleOpenBuildingPanel,\n                            onOpenAllBuildingsPanel: (rect)=>{\n                                closeAllPanels();\n                                setAllBuildingsPanel({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            playerAction: playerAction,\n                            onConfirmPlacement: handleConfirmPlacement,\n                            onCancelPlayerAction: handleCancelPlayerAction,\n                            onBuildingClick: (building, rect)=>{\n                                closeAllPanels();\n                                const type = Object.keys(buildings).find((key)=>{\n                                    var _buildings_key;\n                                    return (_buildings_key = buildings[key]) === null || _buildings_key === void 0 ? void 0 : _buildings_key.some((b)=>b.id === building.id);\n                                });\n                                if (type) setBuildingManagementPanel({\n                                    isOpen: true,\n                                    type,\n                                    instanceId: building.id,\n                                    anchorRect: rect\n                                });\n                            },\n                            mapDimensions: MAP_DIMENSIONS,\n                            activeTasks: activeTasks,\n                            onExitGame: handleExitGame,\n                            onOpenCivPanel: (rect)=>{\n                                closeAllPanels();\n                                setCivPanelState({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            resourceNodes: resourceNodes,\n                            onOpenAssignmentPanel: (nodeId, rect)=>{\n                                closeAllPanels();\n                                setAssignmentPanelState({\n                                    isOpen: true,\n                                    targetId: nodeId,\n                                    targetType: \"resource\",\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenConstructionPanel: (constructionId, rect)=>{\n                                closeAllPanels();\n                                setAssignmentPanelState({\n                                    isOpen: true,\n                                    targetId: constructionId,\n                                    targetType: \"construction\",\n                                    anchorRect: rect\n                                });\n                            },\n                            gatherInfo: GATHER_INFO,\n                            currentEvent: currentEvent,\n                            onEventChoice: handleEventChoice,\n                            inventory: inventory,\n                            onOpenInventoryPanel: (rect)=>{\n                                closeAllPanels();\n                                setInventoryPanelState({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            }\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 765,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BuildPanel__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                            isOpen: buildPanelState.isOpen,\n                            onClose: ()=>setBuildPanelState({\n                                    isOpen: false,\n                                    villagerId: null,\n                                    anchorRect: null\n                                }),\n                            onStartPlacement: handleStartPlacement,\n                            resources: resources,\n                            buildingCounts: buildingCounts,\n                            buildingList: availableBuildings,\n                            anchorRect: buildPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 780,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_UnitManagementPanel__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                            isOpen: unitManagementPanel.isOpen,\n                            onClose: ()=>setUnitManagementPanel({\n                                    isOpen: false,\n                                    type: null,\n                                    anchorRect: null\n                                }),\n                            type: unitManagementPanel.type,\n                            units: units,\n                            onUpdateUnit: handleUpdateUnit,\n                            onDismissUnit: handleDismissSpecificUnit,\n                            onInitiateBuild: (villagerId, rect)=>{\n                                closeAllPanels();\n                                handleInitiateBuild(villagerId, rect);\n                            },\n                            getVillagerTaskDetails: getVillagerTaskDetails,\n                            anchorRect: unitManagementPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 781,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BuildingManagementPanel__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                            isOpen: buildingManagementPanel.isOpen,\n                            onClose: ()=>setBuildingManagementPanel({\n                                    isOpen: false,\n                                    type: null,\n                                    anchorRect: null\n                                }),\n                            panelState: buildingManagementPanel,\n                            buildings: buildings,\n                            buildingList: buildingList,\n                            onUpdateBuilding: handleUpdateBuilding,\n                            onDemolishBuilding: handleDemolishBuilding,\n                            onTrainUnits: handleTrainUnits,\n                            onTrainVillagers: handleTrainVillagers,\n                            resources: resources,\n                            population: population,\n                            unitList: unitList,\n                            onAdvanceAge: handleAdvanceAge,\n                            activeTasks: activeTasks,\n                            anchorRect: buildingManagementPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 782,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ResourceAssignmentPanel__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                            isOpen: assignmentPanelState.isOpen,\n                            onClose: ()=>setAssignmentPanelState({\n                                    isOpen: false,\n                                    targetId: null,\n                                    targetType: null,\n                                    anchorRect: null\n                                }),\n                            assignmentTarget: assignmentTarget || null,\n                            idleVillagerCount: idleVillagerCount,\n                            onAssignVillagers: handleAssignVillagers,\n                            onRecallVillagers: handleRecallVillagers,\n                            gatherInfo: GATHER_INFO,\n                            buildingList: buildingList,\n                            units: units,\n                            anchorRect: assignmentPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 783,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CivilizationPanel__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                            isOpen: civPanelState.isOpen,\n                            onClose: ()=>setCivPanelState({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            civilization: civilization,\n                            anchorRect: civPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 784,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AllBuildingsPanel__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                            isOpen: allBuildingsPanel.isOpen,\n                            onClose: ()=>setAllBuildingsPanel({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            buildingList: buildingList,\n                            buildingCounts: buildingCounts,\n                            activeTasks: activeTasks,\n                            onOpenBuildingPanel: handleOpenBuildingPanel,\n                            anchorRect: allBuildingsPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 785,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_InventoryPanel__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                            isOpen: inventoryPanelState.isOpen,\n                            onClose: ()=>setInventoryPanelState({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            inventory: inventory,\n                            onUseItem: handleUseItem,\n                            activeTasks: activeTasks,\n                            activeBuffs: activeBuffs,\n                            anchorRect: inventoryPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 786,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true);\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StartScreen__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                    onNewGame: handleStartNewGame,\n                    onResumeGame: handleResumeGame,\n                    savedGames: allSaves,\n                    onDeleteGame: handleDeleteGame\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 789,\n                    columnNumber: 29\n                }, undefined);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-stone-dark flex items-center justify-center p-4\",\n        children: [\n            gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handleToggleUnlimitedResources,\n                className: \"fixed bottom-4 left-4 z-[101] bg-brand-gold text-stone-dark font-bold py-1 px-3 rounded-full text-xs shadow-lg hover:scale-105 transition-transform\",\n                \"aria-label\": \"Toggle unlimited resources test mode\",\n                children: [\n                    \"Test Mode: \",\n                    unlimitedResources ? \"ON\" : \"OFF\"\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 796,\n                columnNumber: 18\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_NotificationManager__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                notifications: notifications,\n                onRemoveNotification: removeNotification\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 798,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"w-full max-w-7xl mx-auto\",\n                children: renderContent()\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 799,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/src/app/page.tsx\",\n        lineNumber: 794,\n        columnNumber: 9\n    }, undefined);\n};\n_s(GamePage, \"RJKthc33qTgiQnxpoVfsuyIb/6s=\");\n_c = GamePage;\n/* harmony default export */ __webpack_exports__[\"default\"] = (GamePage);\nvar _c;\n$RefreshReg$(_c, \"GamePage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y2IsVUFBVTs7Ozs7O3NDQUN2TCw4REFBQzVFLHNFQUFpQkE7NEJBQUMwRSxRQUFRUyxrQkFBa0JULE1BQU07NEJBQUU4UyxTQUFTLElBQU1wUyxxQkFBcUI7b0NBQUVWLFFBQVE7b0NBQU9FLFlBQVk7Z0NBQUs7NEJBQUlSLGNBQWNBOzRCQUFjZ1IsZ0JBQWdCQTs0QkFBZ0IzUixhQUFhQTs0QkFBYWdULHFCQUFxQmI7NEJBQXlCaFIsWUFBWU8sa0JBQWtCUCxVQUFVOzs7Ozs7c0NBQzNTLDhEQUFDM0UsbUVBQWNBOzRCQUFDeUUsUUFBUWlCLG9CQUFvQmpCLE1BQU07NEJBQUU4UyxTQUFTLElBQU01Uix1QkFBdUI7b0NBQUVsQixRQUFRO29DQUFPRSxZQUFZO2dDQUFLOzRCQUFJZixXQUFXQTs0QkFBV3dVLFdBQVd2RDs0QkFBZXJSLGFBQWFBOzRCQUFhTSxhQUFhQTs0QkFBYWEsWUFBWWUsb0JBQW9CZixVQUFVOzs7Ozs7OztZQUcxUjtnQkFBUyxxQkFBTyw4REFBQ3BGLCtEQUFXQTtvQkFBQzRXLFdBQVd4STtvQkFBb0J5SSxjQUFjN0g7b0JBQWtCOEgsWUFBWW5UO29CQUFVb1QsY0FBYzlCOzs7Ozs7UUFDcEk7SUFDSjtJQUVBLHFCQUNJLDhEQUFDNkQ7UUFBSUMsV0FBVTs7WUFDVjlXLGNBQWM5Qyw4Q0FBVUEsQ0FBQ3lJLE9BQU8sa0JBQzVCLDhEQUFDb1I7Z0JBQU9DLFNBQVMvRDtnQkFBZ0M2RCxXQUFVO2dCQUFzSkcsY0FBVzs7b0JBQXVDO29CQUFZelYscUJBQXFCLE9BQU87Ozs7Ozs7MEJBRWhULDhEQUFDdEQsd0VBQW1CQTtnQkFBQ29ELGVBQWVBO2dCQUFlNFYsc0JBQXNCL1E7Ozs7OzswQkFDekUsOERBQUNnUjtnQkFBS0wsV0FBVTswQkFDWHBDOzs7Ozs7Ozs7Ozs7QUFJakI7R0F4dkJNNVU7S0FBQUE7QUEwdkJOLCtEQUFlQSxRQUFRQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcHAvcGFnZS50c3g/ZjY4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcblxuJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEdhbWVTdGF0dXMsIHR5cGUgQ2l2aWxpemF0aW9uLCB0eXBlIFJlc291cmNlcywgdHlwZSBVbml0cywgdHlwZSBCdWlsZGluZ3MsIHR5cGUgR2FtZUV2ZW50LCB0eXBlIEdhbWVMb2dFbnRyeSwgdHlwZSBMb2dJY29uVHlwZSwgdHlwZSBSZXNvdXJjZURlbHRhcywgQnVpbGRpbmdUeXBlLCBVSU5vdGlmaWNhdGlvbiwgRnVsbEdhbWVTdGF0ZSwgVmlsbGFnZXIsIE1pbGl0YXJ5VW5pdCwgVW5pdENvbmZpZywgTWlsaXRhcnlVbml0VHlwZSwgR2FtZVRhc2ssIFRhc2tUeXBlLCBSZXNvdXJjZU5vZGUsIFJlc291cmNlTm9kZVR5cGUsIFBsYXllckFjdGlvblN0YXRlLCBHYW1lRXZlbnRDaG9pY2UsIEdhbWVJdGVtLCBSZXdhcmQsIEFjdGl2ZUJ1ZmZzLCBCdWlsZGluZ0luc3RhbmNlLCBBZ2VDb25maWcsIEJ1aWxkaW5nQ29uZmlnIH0gZnJvbSAnQC90eXBlcyc7XG5pbXBvcnQgeyBnZXRQcmVkZWZpbmVkQ2l2aWxpemF0aW9uLCBnZXRQcmVkZWZpbmVkR2FtZUV2ZW50IH0gZnJvbSAnQC9zZXJ2aWNlcy9nZW1pbmlTZXJ2aWNlJztcbmltcG9ydCB7IHNhdmVHYW1lU3RhdGUsIGxvYWRHYW1lU3RhdGUsIGdldEFsbFNhdmVOYW1lcywgZGVsZXRlR2FtZVN0YXRlLCBnZXRBbGxBZ2VDb25maWdzLCBnZXRBbGxCdWlsZGluZ0NvbmZpZ3MsIGdldEFsbFVuaXRDb25maWdzIH0gZnJvbSAnQC9zZXJ2aWNlcy9kYlNlcnZpY2UnO1xuaW1wb3J0IHsgZ2V0UmFuZG9tTmFtZXMgfSBmcm9tICdAL3NlcnZpY2VzL25hbWVTZXJ2aWNlJztcbmltcG9ydCB7IEdBTUVfSVRFTVMgfSBmcm9tICdAL2RhdGEvaXRlbUNvbnRlbnQnO1xuaW1wb3J0IEdhbWVVSSBmcm9tICdAL2NvbXBvbmVudHMvR2FtZVVJJztcbmltcG9ydCBTdGFydFNjcmVlbiBmcm9tICdAL2NvbXBvbmVudHMvU3RhcnRTY3JlZW4nO1xuaW1wb3J0IExvYWRpbmdTY3JlZW4gZnJvbSAnQC9jb21wb25lbnRzL0xvYWRpbmdTY3JlZW4nO1xuaW1wb3J0IEJ1aWxkUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL0J1aWxkUGFuZWwnO1xuaW1wb3J0IE5vdGlmaWNhdGlvbk1hbmFnZXIgZnJvbSAnQC9jb21wb25lbnRzL05vdGlmaWNhdGlvbk1hbmFnZXInO1xuaW1wb3J0IFVuaXRNYW5hZ2VtZW50UGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL1VuaXRNYW5hZ2VtZW50UGFuZWwnO1xuaW1wb3J0IEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9CdWlsZGluZ01hbmFnZW1lbnRQYW5lbCc7XG5pbXBvcnQgUmVzb3VyY2VBc3NpZ25tZW50UGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL1Jlc291cmNlQXNzaWdubWVudFBhbmVsJztcbmltcG9ydCBDaXZpbGl6YXRpb25QYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvQ2l2aWxpemF0aW9uUGFuZWwnO1xuaW1wb3J0IEFsbEJ1aWxkaW5nc1BhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9BbGxCdWlsZGluZ3NQYW5lbCc7XG5pbXBvcnQgSW52ZW50b3J5UGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL0ludmVudG9yeVBhbmVsJztcblxuY29uc3QgR0FUSEVSX0lORk86IFJlY29yZDxSZXNvdXJjZU5vZGVUeXBlLCB7IHJhdGU6IG51bWJlciB9PiA9IHtcbiAgICBmb29kOiB7IHJhdGU6IDEwIH0sXG4gICAgd29vZDogeyByYXRlOiA4IH0sXG4gICAgZ29sZDogeyByYXRlOiA1IH0sXG4gICAgc3RvbmU6IHsgcmF0ZTogNiB9LFxufVxuXG5jb25zdCBpbml0aWFsQnVpbGRpbmdzU3RhdGU6IEJ1aWxkaW5ncyA9IHtcbiAgICBob3VzZXM6IFtdLCBiYXJyYWNrczogW10sIGFyY2hlcnlSYW5nZTogW10sIHN0YWJsZTogW10sIHNpZWdlV29ya3Nob3A6IFtdLCBibGFja3NtaXRoOiBbXSwgd2F0Y2hUb3dlcjogW10sIHRvd25DZW50ZXI6IFtdXG59O1xuXG5jb25zdCBNQVBfRElNRU5TSU9OUyA9IHsgd2lkdGg6IDI1LCBoZWlnaHQ6IDE4IH07XG5cbmNvbnN0IEZBTExCQUNLX0FHRVMgPSBbXG4gICAgeyBuYW1lOiAnTm9tYWRpYyBBZ2UnLCBkZXNjcmlwdGlvbjogJ0Egc2NhdHRlcmVkIHRyaWJlLCBsZWFybmluZyB0byBzdXJ2aXZlLicgfSxcbiAgICB7IG5hbWU6ICdGZXVkYWwgQWdlJywgZGVzY3JpcHRpb246ICdTb2NpZXR5IG9yZ2FuaXplcyB1bmRlciBsb3JkcyBhbmQgdmFzc2Fscy4nIH0sXG4gICAgeyBuYW1lOiAnQ2FzdGxlIEFnZScsIGRlc2NyaXB0aW9uOiAnUG93ZXJmdWwgZm9ydGlmaWNhdGlvbnMgYW5kIHNpZWdlIHdlYXBvbnJ5IGFwcGVhci4nIH0sXG4gICAgeyBuYW1lOiAnSW1wZXJpYWwgQWdlJywgZGVzY3JpcHRpb246ICdZb3VyIGNpdmlsaXphdGlvbiBiZWNvbWVzIGEgdHJ1ZSBlbXBpcmUuJyB9LFxuXTtcblxuXG5jb25zdCBHYW1lUGFnZTogUmVhY3QuRkMgPSAoKSA9PiB7XG4gICAgY29uc3QgW2dhbWVTdGF0ZSwgc2V0R2FtZVN0YXRlXSA9IHVzZVN0YXRlPEdhbWVTdGF0dXM+KEdhbWVTdGF0dXMuTUVOVSk7XG4gICAgY29uc3QgW2NpdmlsaXphdGlvbiwgc2V0Q2l2aWxpemF0aW9uXSA9IHVzZVN0YXRlPENpdmlsaXphdGlvbiB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFtyZXNvdXJjZXMsIHNldFJlc291cmNlc10gPSB1c2VTdGF0ZTxSZXNvdXJjZXM+KHsgZm9vZDogMjAwLCB3b29kOiAxNTAsIGdvbGQ6IDUwLCBzdG9uZTogMTAwIH0pO1xuICAgIGNvbnN0IFt1bml0cywgc2V0VW5pdHNdID0gdXNlU3RhdGU8VW5pdHM+KHsgdmlsbGFnZXJzOiBbXSwgbWlsaXRhcnk6IFtdIH0pO1xuICAgIGNvbnN0IFtidWlsZGluZ3MsIHNldEJ1aWxkaW5nc10gPSB1c2VTdGF0ZTxCdWlsZGluZ3M+KGluaXRpYWxCdWlsZGluZ3NTdGF0ZSk7XG4gICAgY29uc3QgW2N1cnJlbnRBZ2UsIHNldEN1cnJlbnRBZ2VdID0gdXNlU3RhdGU8c3RyaW5nPignTm9tYWRpYyBBZ2UnKTtcbiAgICBjb25zdCBbZ2FtZUxvZywgc2V0R2FtZUxvZ10gPSB1c2VTdGF0ZTxHYW1lTG9nRW50cnlbXT4oW10pO1xuICAgIGNvbnN0IFtjdXJyZW50RXZlbnQsIHNldEN1cnJlbnRFdmVudF0gPSB1c2VTdGF0ZTxHYW1lRXZlbnQgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbcmVzb3VyY2VEZWx0YXMsIHNldFJlc291cmNlRGVsdGFzXSA9IHVzZVN0YXRlPFJlc291cmNlRGVsdGFzPih7fSk7XG4gICAgY29uc3QgW2FjdGl2aXR5U3RhdHVzLCBzZXRBY3Rpdml0eVN0YXR1c10gPSB1c2VTdGF0ZTxzdHJpbmc+KCdZb3VyIHN0b3J5IGJlZ2lucy4uLicpO1xuICAgIGNvbnN0IFtub3RpZmljYXRpb25zLCBzZXROb3RpZmljYXRpb25zXSA9IHVzZVN0YXRlPFVJTm90aWZpY2F0aW9uW10+KFtdKTtcbiAgICBjb25zdCBbdW5saW1pdGVkUmVzb3VyY2VzLCBzZXRVbmxpbWl0ZWRSZXNvdXJjZXNdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICAgIGNvbnN0IFthbGxTYXZlcywgc2V0QWxsU2F2ZXNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgICBjb25zdCBbY3VycmVudFNhdmVOYW1lLCBzZXRDdXJyZW50U2F2ZU5hbWVdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW3BsYXllckFjdGlvbiwgc2V0UGxheWVyQWN0aW9uXSA9IHVzZVN0YXRlPFBsYXllckFjdGlvblN0YXRlPihudWxsKTtcbiAgICBjb25zdCBbYWN0aXZlVGFza3MsIHNldEFjdGl2ZVRhc2tzXSA9IHVzZVN0YXRlPEdhbWVUYXNrW10+KFtdKTtcbiAgICBjb25zdCBbcmVzb3VyY2VOb2Rlcywgc2V0UmVzb3VyY2VOb2Rlc10gPSB1c2VTdGF0ZTxSZXNvdXJjZU5vZGVbXT4oW10pO1xuICAgIGNvbnN0IFtpbnZlbnRvcnksIHNldEludmVudG9yeV0gPSB1c2VTdGF0ZTxHYW1lSXRlbVtdPihbXSk7XG4gICAgY29uc3QgW2FjdGl2ZUJ1ZmZzLCBzZXRBY3RpdmVCdWZmc10gPSB1c2VTdGF0ZTxBY3RpdmVCdWZmcz4oeyByZXNvdXJjZUJvb3N0OiBbXSB9KTtcbiAgICBcbiAgICAvLyBEeW5hbWljIENvbmZpZ3MgZnJvbSBEQlxuICAgIGNvbnN0IFthZ2VQcm9ncmVzc2lvbkxpc3QsIHNldEFnZVByb2dyZXNzaW9uTGlzdF0gPSB1c2VTdGF0ZTx7bmFtZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nfVtdPihbXSk7XG4gICAgY29uc3QgW2J1aWxkaW5nTGlzdCwgc2V0QnVpbGRpbmdMaXN0XSA9IHVzZVN0YXRlPEJ1aWxkaW5nQ29uZmlnW10+KFtdKTtcbiAgICBjb25zdCBbdW5pdExpc3QsIHNldFVuaXRMaXN0XSA9IHVzZVN0YXRlPFVuaXRDb25maWdbXT4oW10pO1xuXG4gICAgXG4gICAgLy8gUGFuZWwgU3RhdGVzXG4gICAgY29uc3QgW2J1aWxkUGFuZWxTdGF0ZSwgc2V0QnVpbGRQYW5lbFN0YXRlXSA9IHVzZVN0YXRlPHsgaXNPcGVuOiBib29sZWFuOyB2aWxsYWdlcklkOiBzdHJpbmcgfCBudWxsOyBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbCB9Pih7IGlzT3BlbjogZmFsc2UsIHZpbGxhZ2VySWQ6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgY29uc3QgW3VuaXRNYW5hZ2VtZW50UGFuZWwsIHNldFVuaXRNYW5hZ2VtZW50UGFuZWxdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IHR5cGU6ICd2aWxsYWdlcnMnIHwgJ21pbGl0YXJ5JyB8IG51bGw7IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsOyB9Pih7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgY29uc3QgW2J1aWxkaW5nTWFuYWdlbWVudFBhbmVsLCBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbF0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgdHlwZTogQnVpbGRpbmdUeXBlIHwgc3RyaW5nIHwgbnVsbDsgaW5zdGFuY2VJZD86IHN0cmluZzsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7IH0+KHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgaW5zdGFuY2VJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICBjb25zdCBbYWxsQnVpbGRpbmdzUGFuZWwsIHNldEFsbEJ1aWxkaW5nc1BhbmVsXSA9IHVzZVN0YXRlPHsgaXNPcGVuOiBib29sZWFuOyBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbDsgfT4oeyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIGNvbnN0IFthc3NpZ25tZW50UGFuZWxTdGF0ZSwgc2V0QXNzaWdubWVudFBhbmVsU3RhdGVdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IHRhcmdldElkOiBzdHJpbmcgfCBudWxsOyB0YXJnZXRUeXBlOiAncmVzb3VyY2UnIHwgJ2NvbnN0cnVjdGlvbicgfCBudWxsOyBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbDsgfT4oeyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICBjb25zdCBbY2l2UGFuZWxTdGF0ZSwgc2V0Q2l2UGFuZWxTdGF0ZV0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7IH0+KHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICBjb25zdCBbaW52ZW50b3J5UGFuZWxTdGF0ZSwgc2V0SW52ZW50b3J5UGFuZWxTdGF0ZV0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7IH0+KHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9KTtcblxuICAgIGNvbnN0IGRlbHRhVGltZW91dFJlZiA9IHVzZVJlZjx7IFtrZXkgaW4ga2V5b2YgUmVzb3VyY2VzXT86IG51bWJlciB9Pih7fSk7XG4gICAgY29uc3QgZXZlbnRUaW1lclJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IGxhc3RUaWNrUmVmID0gdXNlUmVmPG51bWJlcj4oRGF0ZS5ub3coKSk7XG4gICAgY29uc3QgYW5pbWF0aW9uRnJhbWVSZWYgPSB1c2VSZWY8bnVtYmVyPigpO1xuXG4gICAgY29uc3QgcG9wdWxhdGlvbiA9IHtcbiAgICAgICAgY3VycmVudDogdW5pdHMudmlsbGFnZXJzLmxlbmd0aCArIHVuaXRzLm1pbGl0YXJ5Lmxlbmd0aCxcbiAgICAgICAgY2FwYWNpdHk6IChidWlsZGluZ3MudG93bkNlbnRlcj8ubGVuZ3RoID4gMCA/IDIwIDogMCkgKyAoYnVpbGRpbmdzLmhvdXNlcz8ubGVuZ3RoIHx8IDApICogNSxcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGZldGNoU2F2ZXNBbmRDb25maWdzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBuYW1lcyA9IGF3YWl0IGdldEFsbFNhdmVOYW1lcygpO1xuICAgICAgICBzZXRBbGxTYXZlcyhuYW1lcyk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBhbGxBZ2VDb25maWdzID0gYXdhaXQgZ2V0QWxsQWdlQ29uZmlncygpO1xuICAgICAgICBjb25zdCBhY3RpdmVBZ2VzID0gYWxsQWdlQ29uZmlncy5maWx0ZXIoYWdlID0+IGFnZS5pc0FjdGl2ZSk7XG4gICAgICAgIGlmIChhY3RpdmVBZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNldEFnZVByb2dyZXNzaW9uTGlzdChhY3RpdmVBZ2VzLm1hcChhID0+ICh7IG5hbWU6IGEubmFtZSwgZGVzY3JpcHRpb246IGEuZGVzY3JpcHRpb24gfSkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldEFnZVByb2dyZXNzaW9uTGlzdChGQUxMQkFDS19BR0VTKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGFsbEJ1aWxkaW5nQ29uZmlncyA9IGF3YWl0IGdldEFsbEJ1aWxkaW5nQ29uZmlncygpO1xuICAgICAgICBzZXRCdWlsZGluZ0xpc3QoYWxsQnVpbGRpbmdDb25maWdzLmZpbHRlcihiID0+IGIuaXNBY3RpdmUpKTtcblxuICAgICAgICBjb25zdCBhbGxVbml0Q29uZmlncyA9IGF3YWl0IGdldEFsbFVuaXRDb25maWdzKCk7XG4gICAgICAgIHNldFVuaXRMaXN0KGFsbFVuaXRDb25maWdzLmZpbHRlcih1ID0+IHUuaXNBY3RpdmUpKTtcblxuICAgIH0sIFtdKTtcbiAgICBcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBmZXRjaFNhdmVzQW5kQ29uZmlncygpO1xuICAgIH0sIFtmZXRjaFNhdmVzQW5kQ29uZmlnc10pO1xuICAgIFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChnYW1lU3RhdGUgPT09IEdhbWVTdGF0dXMuUExBWUlORyAmJiBjaXZpbGl6YXRpb24gJiYgY3VycmVudFNhdmVOYW1lKSB7XG4gICAgICAgICAgICBjb25zdCBmdWxsU3RhdGU6IEZ1bGxHYW1lU3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgY2l2aWxpemF0aW9uLFxuICAgICAgICAgICAgICAgIHJlc291cmNlcyxcbiAgICAgICAgICAgICAgICB1bml0cyxcbiAgICAgICAgICAgICAgICBidWlsZGluZ3MsXG4gICAgICAgICAgICAgICAgY3VycmVudEFnZSxcbiAgICAgICAgICAgICAgICBnYW1lTG9nLFxuICAgICAgICAgICAgICAgIGFjdGl2ZVRhc2tzLFxuICAgICAgICAgICAgICAgIHJlc291cmNlTm9kZXMsXG4gICAgICAgICAgICAgICAgaW52ZW50b3J5LFxuICAgICAgICAgICAgICAgIGFjdGl2ZUJ1ZmZzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNhdmVHYW1lU3RhdGUoY3VycmVudFNhdmVOYW1lLCBmdWxsU3RhdGUpO1xuICAgICAgICB9XG4gICAgfSwgW2NpdmlsaXphdGlvbiwgcmVzb3VyY2VzLCB1bml0cywgYnVpbGRpbmdzLCBjdXJyZW50QWdlLCBnYW1lTG9nLCBnYW1lU3RhdGUsIGN1cnJlbnRTYXZlTmFtZSwgYWN0aXZlVGFza3MsIHJlc291cmNlTm9kZXMsIGludmVudG9yeSwgYWN0aXZlQnVmZnNdKTtcblxuICAgIGNvbnN0IGFkZE5vdGlmaWNhdGlvbiA9IHVzZUNhbGxiYWNrKChtZXNzYWdlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgaWQgPSBgJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCl9YDtcbiAgICAgICAgc2V0Tm90aWZpY2F0aW9ucyhwcmV2ID0+IFt7IGlkLCBtZXNzYWdlIH1dKTtcbiAgICB9LCBbXSk7XG5cbiAgICBjb25zdCByZW1vdmVOb3RpZmljYXRpb24gPSB1c2VDYWxsYmFjaygoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBzZXROb3RpZmljYXRpb25zKHByZXYgPT4gcHJldi5maWx0ZXIobiA9PiBuLmlkICE9PSBpZCkpO1xuICAgIH0sIFtdKTtcbiAgICBcbiAgICBjb25zdCBhZGRUb0xvZyA9IHVzZUNhbGxiYWNrKChtZXNzYWdlOiBzdHJpbmcsIGljb246IExvZ0ljb25UeXBlKSA9PiB7XG4gICAgICAgIHNldEdhbWVMb2cocHJldiA9PiBbeyBpZDogYCR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpfWAsIG1lc3NhZ2UsIGljb24gfSwgLi4ucHJldi5zbGljZSgwLCAxOSldKTtcbiAgICB9LCBbXSk7XG4gICAgXG4gICAgY29uc3QgdXBkYXRlUmVzb3VyY2VzID0gdXNlQ2FsbGJhY2soKGRlbHRhczogUmVzb3VyY2VEZWx0YXMpID0+IHtcbiAgICAgICAgc2V0UmVzb3VyY2VzKHByZXYgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3UmVzb3VyY2VzID0geyAuLi5wcmV2IH07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkZWx0YXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNvdXJjZUtleSA9IGtleSBhcyBrZXlvZiBSZXNvdXJjZXM7XG4gICAgICAgICAgICAgICAgbmV3UmVzb3VyY2VzW3Jlc291cmNlS2V5XSA9IE1hdGgubWF4KDAsIG5ld1Jlc291cmNlc1tyZXNvdXJjZUtleV0gKyAoZGVsdGFzW3Jlc291cmNlS2V5XSA/PyAwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3UmVzb3VyY2VzO1xuICAgICAgICB9KTtcblxuICAgICAgICBzZXRSZXNvdXJjZURlbHRhcyhwcmV2ID0+ICh7Li4ucHJldiwgLi4uZGVsdGFzfSkpO1xuXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRlbHRhcykge1xuICAgICAgICAgICAgY29uc3QgcmVzb3VyY2VLZXkgPSBrZXkgYXMga2V5b2YgUmVzb3VyY2VzO1xuICAgICAgICAgICAgaWYgKGRlbHRhVGltZW91dFJlZi5jdXJyZW50W3Jlc291cmNlS2V5XSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoZGVsdGFUaW1lb3V0UmVmLmN1cnJlbnRbcmVzb3VyY2VLZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbHRhVGltZW91dFJlZi5jdXJyZW50W3Jlc291cmNlS2V5XSA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRSZXNvdXJjZURlbHRhcyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3RGVsdGFzID0gey4uLnByZXZ9O1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgbmV3RGVsdGFzW3Jlc291cmNlS2V5XTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld0RlbHRhcztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIDE1MDApO1xuICAgICAgICB9XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgaGFuZGxlVGFza0NvbXBsZXRpb24gPSB1c2VDYWxsYmFjaygodGFzazogR2FtZVRhc2spID0+IHtcbiAgICAgICAgaWYgKHRhc2sucGF5bG9hZD8udmlsbGFnZXJJZHMgJiYgdGFzay5wYXlsb2FkLnZpbGxhZ2VySWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNldFVuaXRzKHByZXYgPT4gKHsgLi4ucHJldiwgdmlsbGFnZXJzOiBwcmV2LnZpbGxhZ2Vycy5tYXAodiA9PiB0YXNrLnBheWxvYWQhLnZpbGxhZ2VySWRzIS5pbmNsdWRlcyh2LmlkKSA/IHsgLi4udiwgY3VycmVudFRhc2s6IG51bGwgfSA6IHYpIH0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAodGFzay50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdidWlsZCc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGJ1aWxkaW5nVHlwZSwgdmlsbGFnZXJJZHMsIHBvc2l0aW9uIH0gPSB0YXNrLnBheWxvYWQhO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gYnVpbGRpbmdUeXBlKSE7XG4gICAgICAgICAgICAgICAgY29uc3QgW25hbWVdID0gZ2V0UmFuZG9tTmFtZXMoJ2J1aWxkaW5nJywgMSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3QnVpbGRpbmc6IEJ1aWxkaW5nSW5zdGFuY2UgPSB7IGlkOiB0YXNrLmlkLCBuYW1lLCBwb3NpdGlvbjogcG9zaXRpb24hLCBjdXJyZW50SHA6IGJ1aWxkaW5nSW5mby5ocCB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHNldEJ1aWxkaW5ncyhwID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEJ1aWxkaW5ncyA9IHBbYnVpbGRpbmdUeXBlIGFzIHN0cmluZ10gfHwgW107XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnAsIFtidWlsZGluZ1R5cGUgYXMgc3RyaW5nXTogWy4uLmN1cnJlbnRCdWlsZGluZ3MsIG5ld0J1aWxkaW5nXSB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICh2aWxsYWdlcklkcyAmJiB2aWxsYWdlcklkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFRvTG9nKGAke3ZpbGxhZ2VySWRzLmxlbmd0aH0gYnVpbGRlcihzKSBoYXZlIGNvbnN0cnVjdGVkICR7bmFtZX0sIGEgbmV3ICR7YnVpbGRpbmdJbmZvLm5hbWV9LmAsIGJ1aWxkaW5nSW5mby5pY29uSWQpO1xuICAgICAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgQ29uc3RydWN0aW9uIG9mICR7bmFtZX0gaXMgY29tcGxldGUuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnZ2F0aGVyJzogYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd0cmFpbl92aWxsYWdlcic6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNvdW50IH0gPSB0YXNrLnBheWxvYWQhO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZpbGxhZ2VyTmFtZXMgPSBnZXRSYW5kb21OYW1lcygndmlsbGFnZXInLCBjb3VudCEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZpbGxhZ2VyczogVmlsbGFnZXJbXSA9IG5ld1ZpbGxhZ2VyTmFtZXMubWFwKG5hbWUgPT4gKHsgaWQ6IGAke0RhdGUubm93KCl9LSR7bmFtZX1gLCBuYW1lLCBjdXJyZW50VGFzazogbnVsbCB9KSk7XG4gICAgICAgICAgICAgICAgc2V0VW5pdHMocCA9PiAoeyAuLi5wLCB2aWxsYWdlcnM6IFsuLi5wLnZpbGxhZ2VycywgLi4ubmV3VmlsbGFnZXJzXSB9KSk7XG4gICAgICAgICAgICAgICAgYWRkVG9Mb2coYCR7Y291bnR9IG5ldyB2aWxsYWdlcihzKSBoYXZlIGpvaW5lZCB5b3VyIHNldHRsZW1lbnQuYCwgJ3ZpbGxhZ2VyJyk7XG4gICAgICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYCR7Y291bnR9IG5ldyB2aWxsYWdlcihzKSBhcmUgcmVhZHkgdG8gd29yay5gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ3RyYWluX21pbGl0YXJ5Jzoge1xuICAgICAgICAgICAgICAgICBjb25zdCB7IHVuaXRUeXBlLCBjb3VudCB9ID0gdGFzay5wYXlsb2FkITtcbiAgICAgICAgICAgICAgICAgY29uc3QgdW5pdEluZm8gPSB1bml0TGlzdC5maW5kKHUgPT4gdS5pZCA9PT0gdW5pdFR5cGUpITtcbiAgICAgICAgICAgICAgICAgY29uc3QgbmV3VW5pdE5hbWVzID0gZ2V0UmFuZG9tTmFtZXMoJ3NvbGRpZXInLCBjb3VudCEpO1xuICAgICAgICAgICAgICAgICBjb25zdCBuZXdVbml0czogTWlsaXRhcnlVbml0W10gPSBuZXdVbml0TmFtZXMubWFwKG5hbWUgPT4gKHsgaWQ6IGAke0RhdGUubm93KCl9LSR7dW5pdFR5cGV9LSR7bmFtZX1gLCBuYW1lLCB0aXRsZTogJycsIHVuaXRUeXBlOiB1bml0VHlwZSEgfSkpO1xuICAgICAgICAgICAgICAgICBzZXRVbml0cyhwID0+ICh7IC4uLnAsIG1pbGl0YXJ5OiBbLi4ucC5taWxpdGFyeSwgLi4ubmV3VW5pdHNdIH0pKTtcbiAgICAgICAgICAgICAgICAgYWRkVG9Mb2coYCR7Y291bnR9ICR7dW5pdEluZm8ubmFtZX0ocykgaGF2ZSBiZWVuIHRyYWluZWQuYCwgdW5pdFR5cGUhKTtcbiAgICAgICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYCR7Y291bnR9IG5ldyAke3VuaXRJbmZvLm5hbWV9KHMpIGFyZSByZWFkeSBmb3IgYmF0dGxlLmApO1xuICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2FkdmFuY2VfYWdlJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGFnZVByb2dyZXNzaW9uTGlzdC5maW5kSW5kZXgoYWdlID0+IGFnZS5uYW1lID09PSBjdXJyZW50QWdlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhZ2VSZXN1bHQgPSBhZ2VQcm9ncmVzc2lvbkxpc3RbY3VycmVudEluZGV4ICsgMV0gfHwgeyBuYW1lOiAnQWdlIG9mIExlZ2VuZHMnLCBkZXNjcmlwdGlvbjogJ1lvdXIgY2l2aWxpemF0aW9uIHRyYW5zY2VuZHMgaGlzdG9yeSBhbmQgYmVjb21lcyBhIGxlZ2VuZC4nfTtcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50QWdlKGFnZVJlc3VsdC5uYW1lKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhgWW91IGhhdmUgYWR2YW5jZWQgdG8gdGhlICR7YWdlUmVzdWx0Lm5hbWV9IWAsICdhZ2UnKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhhZ2VSZXN1bHQuZGVzY3JpcHRpb24sICdhZ2UnKTtcbiAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgV2VsY29tZSB0byB0aGUgJHthZ2VSZXN1bHQubmFtZX0hYCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBbY3VycmVudEFnZSwgYWRkVG9Mb2csIGFnZVByb2dyZXNzaW9uTGlzdCwgYnVpbGRpbmdMaXN0LCB1bml0TGlzdF0pO1xuICAgIFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChnYW1lU3RhdGUgIT09IEdhbWVTdGF0dXMuUExBWUlORykge1xuICAgICAgICAgICAgaWYgKGFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQpIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZ2FtZUxvb3AgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgY29uc3QgZGVsdGFUaW1lID0gbm93IC0gbGFzdFRpY2tSZWYuY3VycmVudDtcbiAgICAgICAgICAgIGxhc3RUaWNrUmVmLmN1cnJlbnQgPSBub3c7XG5cbiAgICAgICAgICAgIGxldCBjb21wbGV0ZWRUYXNrczogR2FtZVRhc2tbXSA9IFtdO1xuICAgICAgICAgICAgbGV0IHJlc291cmNlRGVsdGFzVGhpc1RpY2s6IFJlc291cmNlRGVsdGFzID0ge307XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNldEFjdGl2ZUJ1ZmZzKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Jlc291cmNlQm9vc3RzID0gcHJldi5yZXNvdXJjZUJvb3N0Py5maWx0ZXIoYiA9PiBiLmVuZFRpbWUgPiBub3cpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdSZXNvdXJjZUJvb3N0cz8ubGVuZ3RoICE9PSBwcmV2LnJlc291cmNlQm9vc3Q/Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBhZGRUb0xvZyhcIkEgcmVzb3VyY2UgZ2F0aGVyaW5nIGJvbnVzIGhhcyBleHBpcmVkLlwiLCAnc3lzdGVtJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnByZXYsIHJlc291cmNlQm9vc3Q6IG5ld1Jlc291cmNlQm9vc3RzIH07XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgdGFza3NJblByb2dyZXNzID0gYWN0aXZlVGFza3MubWFwKHRhc2sgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gdGFzay5zdGFydFRpbWUgKyB0YXNrLmR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZFRhc2tzLnB1c2godGFzayk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGFzay50eXBlID09PSAnZ2F0aGVyJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gcmVzb3VyY2VOb2Rlcy5maW5kKG4gPT4gbi5pZCA9PT0gdGFzay5wYXlsb2FkPy5yZXNvdXJjZU5vZGVJZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZpbGxhZ2VyQ291bnQgPSB0YXNrLnBheWxvYWQ/LnZpbGxhZ2VySWRzPy5sZW5ndGggfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFub2RlIHx8IHZpbGxhZ2VyQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZFRhc2tzLnB1c2godGFzayk7IHJldHVybiBudWxsOyBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXNlUmF0ZVBlclNlY29uZCA9IEdBVEhFUl9JTkZPW25vZGUudHlwZV0ucmF0ZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNpdkJvbnVzTXVsdGlwbGllciA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaXZpbGl6YXRpb24/LmJvbnVzLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobm9kZS50eXBlLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IGNpdmlsaXphdGlvbi5ib251cy5tYXRjaCgvKFxcZCspJS8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoPy5bMV0pIGNpdkJvbnVzTXVsdGlwbGllciA9IDEgKyAocGFyc2VJbnQobWF0Y2hbMV0sIDEwKSAvIDEwMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbUJvb3N0TXVsdGlwbGllciA9IGFjdGl2ZUJ1ZmZzLnJlc291cmNlQm9vc3Q/LmZpbmQoYiA9PiBiLnJlc291cmNlID09PSBub2RlLnR5cGUpPy5tdWx0aXBsaWVyIHx8IDE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsUmF0ZVBlclNlY29uZCA9IGJhc2VSYXRlUGVyU2Vjb25kICogY2l2Qm9udXNNdWx0aXBsaWVyICogaXRlbUJvb3N0TXVsdGlwbGllcjtcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VEZWx0YXNUaGlzVGlja1tub2RlLnR5cGVdID0gKHJlc291cmNlRGVsdGFzVGhpc1RpY2tbbm9kZS50eXBlXSB8fCAwKSArIChmaW5hbFJhdGVQZXJTZWNvbmQgLyAxMDAwKSAqIGRlbHRhVGltZSAqIHZpbGxhZ2VyQ291bnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0YXNrO1xuICAgICAgICAgICAgfSkuZmlsdGVyKEJvb2xlYW4pIGFzIEdhbWVUYXNrW107XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhyZXNvdXJjZURlbHRhc1RoaXNUaWNrKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKHJlc291cmNlRGVsdGFzVGhpc1RpY2spO1xuICAgICAgICAgICAgICAgIHNldFJlc291cmNlTm9kZXMocHJldk5vZGVzID0+IHByZXZOb2Rlcy5tYXAobm9kZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudFRvRGVjcmVtZW50ID0gcmVzb3VyY2VEZWx0YXNUaGlzVGlja1tub2RlLnR5cGVdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFtb3VudFRvRGVjcmVtZW50KSByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3QW1vdW50ID0gbm9kZS5hbW91bnQgLSBhbW91bnRUb0RlY3JlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0Ftb3VudCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXNrSWQgPSBgZ2F0aGVyLSR7bm9kZS5pZH1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFzayA9IHRhc2tzSW5Qcm9ncmVzcy5maW5kKHQgPT4gdC5pZCA9PT0gdGFza0lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRhc2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRUb0xvZyhgJHt0YXNrLnBheWxvYWQ/LnZpbGxhZ2VySWRzPy5sZW5ndGggfHwgMH0gdmlsbGFnZXIocykgZGVwbGV0ZWQgYSAke25vZGUudHlwZX0gc291cmNlLCBnYWluaW5nICR7TWF0aC5mbG9vcihub2RlLmFtb3VudCl9ICR7bm9kZS50eXBlfS5gLCBub2RlLnR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBBICR7bm9kZS50eXBlfSBzb3VyY2UgaGFzIGJlZW4gZnVsbHkgZGVwbGV0ZWQuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkVGFza3MucHVzaCh0YXNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLm5vZGUsIGFtb3VudDogbmV3QW1vdW50IH07XG4gICAgICAgICAgICAgICAgfSkuZmlsdGVyKEJvb2xlYW4pIGFzIFJlc291cmNlTm9kZVtdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZmluYWxBY3RpdmVUYXNrcyA9IHRhc2tzSW5Qcm9ncmVzcy5maWx0ZXIodCA9PiAhY29tcGxldGVkVGFza3Muc29tZShjdCA9PiBjdC5pZCA9PT0gdC5pZCkpO1xuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MoZmluYWxBY3RpdmVUYXNrcyk7XG4gICAgICAgICAgICBpZiAoY29tcGxldGVkVGFza3MubGVuZ3RoID4gMCkgY29tcGxldGVkVGFza3MuZm9yRWFjaChoYW5kbGVUYXNrQ29tcGxldGlvbik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3ApO1xuICAgICAgICB9O1xuICAgICAgICBhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGdhbWVMb29wKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHsgaWYgKGFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQpIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQpOyB9O1xuICAgIH0sIFtnYW1lU3RhdGUsIGFjdGl2ZVRhc2tzLCByZXNvdXJjZU5vZGVzLCBoYW5kbGVUYXNrQ29tcGxldGlvbiwgYWRkVG9Mb2csIHVwZGF0ZVJlc291cmNlcywgdW5pdHMudmlsbGFnZXJzLCBjaXZpbGl6YXRpb24sIGFjdGl2ZUJ1ZmZzXSk7XG5cbiAgICBjb25zdCBoYW5kbGVOZXdFdmVudCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKCFjaXZpbGl6YXRpb24gfHwgY3VycmVudEV2ZW50KSByZXR1cm47XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gZ2V0UHJlZGVmaW5lZEdhbWVFdmVudCgpO1xuICAgICAgICBzZXRDdXJyZW50RXZlbnQoZXZlbnQpO1xuICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cygnQSBuZXcgZXZlbnQgcmVxdWlyZXMgeW91ciBhdHRlbnRpb24hJyk7XG4gICAgfSwgW2NpdmlsaXphdGlvbiwgY3VycmVudEV2ZW50XSk7XG4gICAgXG4gICAgY29uc3Qgc2NoZWR1bGVOZXh0RXZlbnQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmIChldmVudFRpbWVyUmVmLmN1cnJlbnQpIGNsZWFyVGltZW91dChldmVudFRpbWVyUmVmLmN1cnJlbnQpO1xuICAgICAgICBldmVudFRpbWVyUmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IGhhbmRsZU5ld0V2ZW50KCksICgxMCArIE1hdGgucmFuZG9tKCkgKiAxNSkgKiAxMDAwKTtcbiAgICB9LCBbaGFuZGxlTmV3RXZlbnRdKTtcblxuICAgIGNvbnN0IGdlbmVyYXRlUmVzb3VyY2VOb2RlcyA9IChleGlzdGluZ1Bvc2l0aW9uczogU2V0PHN0cmluZz4pOiBSZXNvdXJjZU5vZGVbXSA9PiB7XG4gICAgICAgIGNvbnN0IG5vZGVzOiBSZXNvdXJjZU5vZGVbXSA9IFtdO1xuICAgICAgICBjb25zdCB0eXBlczogUmVzb3VyY2VOb2RlVHlwZVtdID0gWydmb29kJywgJ3dvb2QnLCAnZ29sZCcsICdzdG9uZSddO1xuICAgICAgICBjb25zdCBudW1Ob2RlcyA9IDIwICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bU5vZGVzOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBwb3M6IHt4OiBudW1iZXIsIHk6IG51bWJlcn07XG4gICAgICAgICAgICBkbyB7IHBvcyA9IHsgeDogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTUFQX0RJTUVOU0lPTlMud2lkdGgpLCB5OiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNQVBfRElNRU5TSU9OUy5oZWlnaHQpIH0gfSB3aGlsZSAoZXhpc3RpbmdQb3NpdGlvbnMuaGFzKGAke3Bvcy54fSwke3Bvcy55fWApKTtcbiAgICAgICAgICAgIGV4aXN0aW5nUG9zaXRpb25zLmFkZChgJHtwb3MueH0sJHtwb3MueX1gKTtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSB0eXBlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0eXBlcy5sZW5ndGgpXTtcbiAgICAgICAgICAgIG5vZGVzLnB1c2goeyBpZDogYCR7RGF0ZS5ub3coKX0tbm9kZS0ke2l9YCwgdHlwZSwgcG9zaXRpb246IHBvcywgYW1vdW50OiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyMDAxKSArIDUwMCB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZXM7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVN0YXJ0TmV3R2FtZSA9IGFzeW5jIChzYXZlTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmIChhbGxTYXZlcy5pbmNsdWRlcyhzYXZlTmFtZSkpIHsgYWRkTm90aWZpY2F0aW9uKGBBIHNhZ2EgbmFtZWQgXCIke3NhdmVOYW1lfVwiIGFscmVhZHkgZXhpc3RzLmApOyByZXR1cm47IH1cbiAgICAgICAgc2V0R2FtZVN0YXRlKEdhbWVTdGF0dXMuTE9BRElORyk7XG4gICAgICAgIHNldEN1cnJlbnRTYXZlTmFtZShzYXZlTmFtZSk7XG4gICAgICAgIGF3YWl0IGZldGNoU2F2ZXNBbmRDb25maWdzKCk7XG4gICAgICAgIGNvbnN0IGNpdiA9IGdldFByZWRlZmluZWRDaXZpbGl6YXRpb24oKTtcbiAgICAgICAgc2V0Q2l2aWxpemF0aW9uKGNpdik7XG4gICAgICAgIHNldFJlc291cmNlcyh7IGZvb2Q6IDIwMCwgd29vZDogMTUwLCBnb2xkOiA1MCwgc3RvbmU6IDEwMCB9KTtcbiAgICAgICAgY29uc3QgaW5pdGlhbFZpbGxhZ2VycyA9IGdldFJhbmRvbU5hbWVzKCd2aWxsYWdlcicsIDMpLm1hcChuYW1lID0+ICh7IGlkOiBgJHtEYXRlLm5vdygpfS0ke25hbWV9YCwgbmFtZSwgY3VycmVudFRhc2s6IG51bGwgfSkpO1xuICAgICAgICBzZXRVbml0cyh7IHZpbGxhZ2VyczogaW5pdGlhbFZpbGxhZ2VycywgbWlsaXRhcnk6IFtdIH0pO1xuICAgICAgICBjb25zdCB0Y1Bvc2l0aW9uID0geyB4OiBNYXRoLmZsb29yKE1BUF9ESU1FTlNJT05TLndpZHRoIC8gMiksIHk6IE1hdGguZmxvb3IoTUFQX0RJTUVOU0lPTlMuaGVpZ2h0IC8gMikgfTtcbiAgICAgICAgY29uc3QgdGNJbmZvID0gYnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSAndG93bkNlbnRlcicpITtcbiAgICAgICAgY29uc3QgaW5pdGlhbFRDID0geyBpZDogYCR7RGF0ZS5ub3coKX0tdGNgLCBuYW1lOiBnZXRSYW5kb21OYW1lcygnYnVpbGRpbmcnLCAxKVswXSwgcG9zaXRpb246IHRjUG9zaXRpb24sIGN1cnJlbnRIcDogdGNJbmZvLmhwIH07XG4gICAgICAgIHNldEJ1aWxkaW5ncyh7Li4uaW5pdGlhbEJ1aWxkaW5nc1N0YXRlLCB0b3duQ2VudGVyOiBbaW5pdGlhbFRDXX0pO1xuICAgICAgICBzZXRSZXNvdXJjZU5vZGVzKGdlbmVyYXRlUmVzb3VyY2VOb2RlcyhuZXcgU2V0KFtgJHt0Y1Bvc2l0aW9uLnh9LCR7dGNQb3NpdGlvbi55fWBdKSkpO1xuICAgICAgICBzZXRDdXJyZW50QWdlKGFnZVByb2dyZXNzaW9uTGlzdFswXT8ubmFtZSB8fCBGQUxMQkFDS19BR0VTWzBdLm5hbWUpO1xuICAgICAgICBzZXRHYW1lTG9nKFtdKTsgc2V0Q3VycmVudEV2ZW50KG51bGwpOyBzZXRVbmxpbWl0ZWRSZXNvdXJjZXMoZmFsc2UpOyBzZXRBY3RpdmVUYXNrcyhbXSk7IHNldEludmVudG9yeShbXSk7IHNldEFjdGl2ZUJ1ZmZzKHsgcmVzb3VyY2VCb29zdDogW10gfSk7XG4gICAgICAgIGFkZFRvTG9nKGAke2Npdi5uYW1lfSBoYXMgYmVlbiBmb3VuZGVkIWAsICdzeXN0ZW0nKTtcbiAgICAgICAgYWRkVG9Mb2coJ1lvdXIgc3RvcnkgYmVnaW5zLi4uJywgJ3N5c3RlbScpO1xuICAgICAgICBzZXRHYW1lU3RhdGUoR2FtZVN0YXR1cy5QTEFZSU5HKTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoJ1lvdXIgc2V0dGxlbWVudCBhd2FpdHMgeW91ciBjb21tYW5kLicpO1xuICAgICAgICBmZXRjaFNhdmVzQW5kQ29uZmlncygpO1xuICAgIH07XG5cbiAgICBjb25zdCBpc1ZpbGxhZ2VyQnVzeSA9IHVzZUNhbGxiYWNrKCh2aWxsYWdlcklkOiBzdHJpbmcpOiBib29sZWFuID0+ICEhdW5pdHMudmlsbGFnZXJzLmZpbmQodiA9PiB2LmlkID09PSB2aWxsYWdlcklkKT8uY3VycmVudFRhc2ssIFt1bml0cy52aWxsYWdlcnNdKTtcblxuICAgIGNvbnN0IGdldFZpbGxhZ2VyVGFza0RldGFpbHMgPSB1c2VDYWxsYmFjaygodmlsbGFnZXJJZDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICAgICAgY29uc3QgdmlsbGFnZXIgPSB1bml0cy52aWxsYWdlcnMuZmluZCh2ID0+IHYuaWQgPT09IHZpbGxhZ2VySWQpO1xuICAgICAgICBpZiAoIXZpbGxhZ2VyPy5jdXJyZW50VGFzaykgcmV0dXJuICdJZGxlJztcbiAgICAgICAgY29uc3QgdGFzayA9IGFjdGl2ZVRhc2tzLmZpbmQodCA9PiB0LmlkID09PSB2aWxsYWdlci5jdXJyZW50VGFzayk7XG4gICAgICAgIGlmICghdGFzaykgcmV0dXJuICdJZGxlIChGaW5hbGl6aW5nIFRhc2spJztcbiAgICAgICAgaWYgKHRhc2sudHlwZSA9PT0gJ2J1aWxkJykgcmV0dXJuIGBCdXN5OiBDb25zdHJ1Y3RpbmcgJHtidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IHRhc2sucGF5bG9hZCEuYnVpbGRpbmdUeXBlKT8ubmFtZSB8fCAnYSBidWlsZGluZyd9YDtcbiAgICAgICAgaWYgKHRhc2sudHlwZSA9PT0gJ2dhdGhlcicpIHJldHVybiBgQnVzeTogR2F0aGVyaW5nICR7cmVzb3VyY2VOb2Rlcy5maW5kKG4gPT4gbi5pZCA9PT0gdGFzay5wYXlsb2FkIS5yZXNvdXJjZU5vZGVJZCk/LnR5cGUgfHwgJ3Jlc291cmNlcyd9YDtcbiAgICAgICAgcmV0dXJuICdJZGxlJztcbiAgICB9LCBbYWN0aXZlVGFza3MsIHJlc291cmNlTm9kZXMsIHVuaXRzLnZpbGxhZ2VycywgYnVpbGRpbmdMaXN0XSk7XG5cbiAgICBjb25zdCBoYW5kbGVSZXN1bWVHYW1lID0gYXN5bmMgKHNhdmVOYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgYXdhaXQgZmV0Y2hTYXZlc0FuZENvbmZpZ3MoKTtcbiAgICAgICAgY29uc3Qgc2F2ZWRTdGF0ZSA9IGF3YWl0IGxvYWRHYW1lU3RhdGUoc2F2ZU5hbWUpIGFzIEZ1bGxHYW1lU3RhdGU7XG4gICAgICAgIGlmIChzYXZlZFN0YXRlKSB7XG4gICAgICAgICAgICBzZXRHYW1lU3RhdGUoR2FtZVN0YXR1cy5MT0FESU5HKTtcbiAgICAgICAgICAgIHNldEN1cnJlbnRTYXZlTmFtZShzYXZlTmFtZSk7XG4gICAgICAgICAgICBzZXRDaXZpbGl6YXRpb24oc2F2ZWRTdGF0ZS5jaXZpbGl6YXRpb24pO1xuICAgICAgICAgICAgc2V0UmVzb3VyY2VzKHNhdmVkU3RhdGUucmVzb3VyY2VzKTtcbiAgICAgICAgICAgIGNvbnN0IG1pZ3JhdGVkVmlsbGFnZXJzID0gKHNhdmVkU3RhdGUudW5pdHMudmlsbGFnZXJzIHx8IFtdKS5tYXAodiA9PiAoey4uLnYsIGN1cnJlbnRUYXNrOiB2LmN1cnJlbnRUYXNrICE9PSB1bmRlZmluZWQgPyB2LmN1cnJlbnRUYXNrIDogbnVsbH0pKTtcbiAgICAgICAgICAgIGNvbnN0IG1pZ3JhdGVkVGFza3MgPSAoc2F2ZWRTdGF0ZS5hY3RpdmVUYXNrcyB8fCBbXSkubWFwKHQgPT4gdC50eXBlID09PSAnYnVpbGQnICYmICF0LnBheWxvYWQ/LnZpbGxhZ2VySWRzID8geyAuLi50LCBwYXlsb2FkOiB7IC4uLnQucGF5bG9hZCwgdmlsbGFnZXJJZHM6IFtdIH0gfSA6IHQpO1xuICAgICAgICAgICAgbWlncmF0ZWRUYXNrcy5mb3JFYWNoKHRhc2sgPT4gdGFzay5wYXlsb2FkPy52aWxsYWdlcklkcz8uZm9yRWFjaCh2aWQgPT4geyBjb25zdCB2ID0gbWlncmF0ZWRWaWxsYWdlcnMuZmluZCh2ID0+IHYuaWQgPT09IHZpZCk7IGlmKHYpIHYuY3VycmVudFRhc2sgPSB0YXNrLmlkOyB9KSk7XG4gICAgICAgICAgICBzZXRVbml0cyh7IC4uLnNhdmVkU3RhdGUudW5pdHMsIHZpbGxhZ2VyczogbWlncmF0ZWRWaWxsYWdlcnMgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGNvbnN0cnVjdGlvblRhc2tzID0gbWlncmF0ZWRUYXNrcy5maWx0ZXIodCA9PiB0LnR5cGUgPT09ICdidWlsZCcpO1xuICAgICAgICAgICAgY29uc3Qgb2NjdXBpZWRDZWxscyA9IG5ldyBTZXQoWy4uLk9iamVjdC52YWx1ZXMoc2F2ZWRTdGF0ZS5idWlsZGluZ3MgfHwge30pLmZsYXQoKS5tYXAoKGI6IGFueSkgPT4gYCR7Yi5wb3NpdGlvbi54fSwke2IucG9zaXRpb24ueX1gKSwgLi4uY29uc3RydWN0aW9uVGFza3MubWFwKHQgPT4gYCR7dC5wYXlsb2FkIS5wb3NpdGlvbiEueH0sJHt0LnBheWxvYWQhLnBvc2l0aW9uIS55fWApXSk7XG4gICAgICAgICAgICBsZXQgZmluYWxCdWlsZGluZ3MgPSB7IC4uLmluaXRpYWxCdWlsZGluZ3NTdGF0ZSwgLi4uKHNhdmVkU3RhdGUuYnVpbGRpbmdzIHx8IHt9KSB9O1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoZmluYWxCdWlsZGluZ3MpLmZvckVhY2goYlR5cGUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZm8gPSBidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IGJUeXBlKTtcbiAgICAgICAgICAgICAgICBpZihpbmZvKSBmaW5hbEJ1aWxkaW5nc1tiVHlwZV0gPSBmaW5hbEJ1aWxkaW5nc1tiVHlwZV0ubWFwKGIgPT4gKHsgLi4uYiwgY3VycmVudEhwOiBiLmN1cnJlbnRIcCA9PT0gdW5kZWZpbmVkID8gaW5mby5ocCA6IGIuY3VycmVudEhwIH0pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFmaW5hbEJ1aWxkaW5ncy50b3duQ2VudGVyIHx8IGZpbmFsQnVpbGRpbmdzLnRvd25DZW50ZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRjUG9zID0geyB4OiAxMCwgeTogNSB9OyB3aGlsZSAob2NjdXBpZWRDZWxscy5oYXMoYCR7dGNQb3MueH0sJHt0Y1Bvcy55fWApKSB7IHRjUG9zLngrKzsgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHRjSW5mbyA9IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gJ3Rvd25DZW50ZXInKSE7XG4gICAgICAgICAgICAgICAgZmluYWxCdWlsZGluZ3MudG93bkNlbnRlciA9IFt7IGlkOiBgJHtEYXRlLm5vdygpfS10Y2AsIG5hbWU6IGdldFJhbmRvbU5hbWVzKCdidWlsZGluZycsIDEpWzBdLCBwb3NpdGlvbjogdGNQb3MsIGN1cnJlbnRIcDogdGNJbmZvLmhwIH1dO1xuICAgICAgICAgICAgICAgIG9jY3VwaWVkQ2VsbHMuYWRkKGAke3RjUG9zLnh9LCR7dGNQb3MueX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldEJ1aWxkaW5ncyhmaW5hbEJ1aWxkaW5ncyk7XG5cbiAgICAgICAgICAgIHNldFJlc291cmNlTm9kZXMoKHNhdmVkU3RhdGUucmVzb3VyY2VOb2RlcyB8fCBbXSkubGVuZ3RoID09PSAwID8gZ2VuZXJhdGVSZXNvdXJjZU5vZGVzKG9jY3VwaWVkQ2VsbHMpIDogKHNhdmVkU3RhdGUucmVzb3VyY2VOb2RlcyB8fCBbXSkpO1xuICAgICAgICAgICAgc2V0Q3VycmVudEFnZShzYXZlZFN0YXRlLmN1cnJlbnRBZ2UpOyBzZXRHYW1lTG9nKHNhdmVkU3RhdGUuZ2FtZUxvZyk7IHNldEFjdGl2ZVRhc2tzKG1pZ3JhdGVkVGFza3MpO1xuICAgICAgICAgICAgc2V0SW52ZW50b3J5KHNhdmVkU3RhdGUuaW52ZW50b3J5IHx8IFtdKTsgc2V0QWN0aXZlQnVmZnMoc2F2ZWRTdGF0ZS5hY3RpdmVCdWZmcyB8fCB7IHJlc291cmNlQm9vc3Q6IFtdIH0pO1xuICAgICAgICAgICAgc2V0Q3VycmVudEV2ZW50KG51bGwpOyBzZXRBY3Rpdml0eVN0YXR1cygnV2VsY29tZSBiYWNrIHRvIHlvdXIgc2FnYS4nKTtcbiAgICAgICAgICAgIHNldEdhbWVTdGF0ZShHYW1lU3RhdHVzLlBMQVlJTkcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKGBDb3VsZCBub3QgZmluZCBhIHNhdmVkIGdhbWUgbmFtZWQgXCIke3NhdmVOYW1lfVwiLmApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChnYW1lU3RhdGUgIT09IEdhbWVTdGF0dXMuUExBWUlORykgcmV0dXJuO1xuICAgICAgICBpZiAoIWN1cnJlbnRFdmVudCkgc2NoZWR1bGVOZXh0RXZlbnQoKTtcbiAgICAgICAgZWxzZSBpZiAoZXZlbnRUaW1lclJlZi5jdXJyZW50KSBjbGVhclRpbWVvdXQoZXZlbnRUaW1lclJlZi5jdXJyZW50KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHsgaWYgKGV2ZW50VGltZXJSZWYuY3VycmVudCkgY2xlYXJUaW1lb3V0KGV2ZW50VGltZXJSZWYuY3VycmVudCk7IH07XG4gICAgfSwgW2dhbWVTdGF0ZSwgY3VycmVudEV2ZW50LCBzY2hlZHVsZU5leHRFdmVudF0pO1xuXG4gICAgY29uc3QgaGFuZGxlRXZlbnRDaG9pY2UgPSAoY2hvaWNlOiBHYW1lRXZlbnRDaG9pY2UpID0+IHtcbiAgICAgICAgaWYgKGNob2ljZS5jb3N0KSB7XG4gICAgICAgICAgICBjb25zdCBtaXNzaW5nID0gKE9iamVjdC5rZXlzKGNob2ljZS5jb3N0KSBhcyAoa2V5b2YgUmVzb3VyY2VzKVtdKS5maWx0ZXIocmVzID0+IHJlc291cmNlc1tyZXNdIDwgKGNob2ljZS5jb3N0IVtyZXNdIHx8IDApKTtcbiAgICAgICAgICAgIGlmIChtaXNzaW5nLmxlbmd0aCA+IDApIHsgYWRkTm90aWZpY2F0aW9uKGBZb3UgbGFjayB0aGUgcmVxdWlyZWQgcmVzb3VyY2VzOiAke21pc3Npbmcuam9pbignLCAnKX0uYCk7IHJldHVybjsgfVxuICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKE9iamVjdC5lbnRyaWVzKGNob2ljZS5jb3N0KS5yZWR1Y2UoKGFjYywgW2ssIHZdKSA9PiAoey4uLmFjYywgW2tdOiAtdn0pLCB7fSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzU3VjY2VzcyA9IGNob2ljZS5zdWNjZXNzQ2hhbmNlID09PSB1bmRlZmluZWQgfHwgTWF0aC5yYW5kb20oKSA8IGNob2ljZS5zdWNjZXNzQ2hhbmNlO1xuICAgICAgICBjb25zdCBlZmZlY3RzID0gaXNTdWNjZXNzID8gY2hvaWNlLnN1Y2Nlc3NFZmZlY3RzIDogY2hvaWNlLmZhaWx1cmVFZmZlY3RzO1xuICAgICAgICBpZiAoIWVmZmVjdHMpIHsgc2V0Q3VycmVudEV2ZW50KG51bGwpOyBzY2hlZHVsZU5leHRFdmVudCgpOyByZXR1cm47IH1cblxuICAgICAgICBsZXQgbG9nTWVzc2FnZSA9IGBEZWNpc2lvbjogXCIke2Nob2ljZS50ZXh0fVwiLiBPdXRjb21lOiAke2lzU3VjY2VzcyA/ICdTdWNjZXNzJyA6ICdGYWlsdXJlJ30uICR7ZWZmZWN0cy5sb2d9YDtcbiAgICAgICAgZWZmZWN0cy5yZXdhcmRzLmZvckVhY2goKHJld2FyZDogUmV3YXJkKSA9PiB7XG4gICAgICAgICAgICBpZiAocmV3YXJkLnR5cGUgPT09ICdyZXNvdXJjZScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbW91bnQgPSBBcnJheS5pc0FycmF5KHJld2FyZC5hbW91bnQpID8gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHJld2FyZC5hbW91bnRbMV0gLSByZXdhcmQuYW1vdW50WzBdICsgMSkpICsgcmV3YXJkLmFtb3VudFswXSA6IHJld2FyZC5hbW91bnQ7XG4gICAgICAgICAgICAgICAgaWYgKGFtb3VudCAhPT0gMCkgeyB1cGRhdGVSZXNvdXJjZXMoeyBbcmV3YXJkLnJlc291cmNlXTogYW1vdW50IH0pOyBsb2dNZXNzYWdlICs9IGAgWW91ICR7YW1vdW50ID4gMCA/ICdnYWluZWQnIDogJ2xvc3QnfSAke01hdGguYWJzKGFtb3VudCl9ICR7cmV3YXJkLnJlc291cmNlfS5gOyB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJld2FyZC50eXBlID09PSAnaXRlbScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtSW5mbyA9IEdBTUVfSVRFTVNbcmV3YXJkLml0ZW1JZF07XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1JbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW1zID0gQXJyYXkuZnJvbSh7bGVuZ3RoOiByZXdhcmQuYW1vdW50fSwgKF8sIGkpID0+ICh7IC4uLml0ZW1JbmZvLCBpZDogYCR7cmV3YXJkLml0ZW1JZH0tJHtEYXRlLm5vdygpfS0ke2l9YCB9KSk7XG4gICAgICAgICAgICAgICAgICAgIHNldEludmVudG9yeShwcmV2ID0+IFsuLi5wcmV2LCAuLi5uZXdJdGVtc10pO1xuICAgICAgICAgICAgICAgICAgICBsb2dNZXNzYWdlICs9IGAgWW91IHJlY2VpdmVkICR7cmV3YXJkLmFtb3VudH14ICR7aXRlbUluZm8ubmFtZX0hYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJld2FyZC50eXBlID09PSAndW5pdCcgJiYgcmV3YXJkLnVuaXRUeXBlID09PSAndmlsbGFnZXInKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VmlsbGFnZXJzID0gZ2V0UmFuZG9tTmFtZXMoJ3ZpbGxhZ2VyJywgcmV3YXJkLmFtb3VudCkubWFwKG5hbWUgPT4gKHsgaWQ6IGAke0RhdGUubm93KCl9LSR7bmFtZX1gLCBuYW1lLCBjdXJyZW50VGFzazogbnVsbCB9KSk7XG4gICAgICAgICAgICAgICAgc2V0VW5pdHMocCA9PiAoeyAuLi5wLCB2aWxsYWdlcnM6IFsuLi5wLnZpbGxhZ2VycywgLi4ubmV3VmlsbGFnZXJzXSB9KSk7XG4gICAgICAgICAgICAgICAgbG9nTWVzc2FnZSArPSBgIFlvdSBnYWluZWQgJHtyZXdhcmQuYW1vdW50fSB2aWxsYWdlcihzKS5gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGFkZFRvTG9nKGxvZ01lc3NhZ2UsICdldmVudCcpOyBzZXRBY3Rpdml0eVN0YXR1cyhlZmZlY3RzLmxvZyk7IHNldEN1cnJlbnRFdmVudChudWxsKTsgc2NoZWR1bGVOZXh0RXZlbnQoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlSW5pdGlhdGVCdWlsZCA9ICh2aWxsYWdlcklkOiBzdHJpbmcsIHJlY3Q6IERPTVJlY3QpID0+IHtcbiAgICAgICAgaWYgKGlzVmlsbGFnZXJCdXN5KHZpbGxhZ2VySWQpKSB7IGFkZE5vdGlmaWNhdGlvbihcIlRoaXMgdmlsbGFnZXIgaXMgYWxyZWFkeSBidXN5LlwiKTsgcmV0dXJuOyB9XG4gICAgICAgIHNldEJ1aWxkUGFuZWxTdGF0ZSh7IGlzT3BlbjogdHJ1ZSwgdmlsbGFnZXJJZCwgYW5jaG9yUmVjdDogcmVjdCB9KTtcbiAgICAgICAgc2V0VW5pdE1hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBoYW5kbGVTdGFydFBsYWNlbWVudCA9IChidWlsZGluZ0lkOiBCdWlsZGluZ1R5cGUgfCBzdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgdmlsbGFnZXJJZCA9IGJ1aWxkUGFuZWxTdGF0ZS52aWxsYWdlcklkOyBpZiAoIXZpbGxhZ2VySWQpIHJldHVybjtcbiAgICAgICAgY29uc3QgYnVpbGRpbmdJbmZvID0gYnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSBidWlsZGluZ0lkKTsgaWYgKCFidWlsZGluZ0luZm8pIHJldHVybjtcblxuICAgICAgICBjb25zdCBleGlzdGluZ0NvdW50ID0gYnVpbGRpbmdzW2J1aWxkaW5nSW5mby5pZF0/Lmxlbmd0aCB8fCAwO1xuICAgICAgICBjb25zdCBjb25zdHJ1Y3RpbmdDb3VudCA9IGFjdGl2ZVRhc2tzLmZpbHRlcih0ID0+IHQudHlwZSA9PT0gJ2J1aWxkJyAmJiB0LnBheWxvYWQ/LmJ1aWxkaW5nVHlwZSA9PT0gYnVpbGRpbmdJbmZvLmlkKS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHRvdGFsQ291bnQgPSBleGlzdGluZ0NvdW50ICsgY29uc3RydWN0aW5nQ291bnQ7XG4gICAgICAgIGNvbnN0IGxpbWl0ID0gYnVpbGRpbmdJbmZvLmlzVW5pcXVlID8gMSA6IChidWlsZGluZ0luZm8uYnVpbGRMaW1pdCB8fCAwKTtcblxuICAgICAgICBpZiAobGltaXQgPiAwICYmIHRvdGFsQ291bnQgPj0gbGltaXQpIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihgWW91IGhhdmUgcmVhY2hlZCB0aGUgYnVpbGQgbGltaXQgZm9yICR7YnVpbGRpbmdJbmZvLm5hbWV9ICgke2xpbWl0fSkuYCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtaXNzaW5nID0gdW5saW1pdGVkUmVzb3VyY2VzID8gW10gOiAoT2JqZWN0LmtleXMoYnVpbGRpbmdJbmZvLmNvc3QpIGFzIChrZXlvZiBSZXNvdXJjZXMpW10pLmZpbHRlcihyZXMgPT4gcmVzb3VyY2VzW3Jlc10gPCAoYnVpbGRpbmdJbmZvLmNvc3RbcmVzXSB8fCAwKSk7XG4gICAgICAgIGlmIChtaXNzaW5nLmxlbmd0aCA+IDApIHsgYWRkTm90aWZpY2F0aW9uKGBOZWVkIG1vcmUgJHttaXNzaW5nLmpvaW4oJywgJyl9LmApOyByZXR1cm47IH1cbiAgICAgICAgXG4gICAgICAgIHNldFBsYXllckFjdGlvbih7IG1vZGU6ICdidWlsZCcsIGJ1aWxkaW5nVHlwZTogYnVpbGRpbmdJZCwgdmlsbGFnZXJJZCB9KTtcbiAgICAgICAgc2V0QnVpbGRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdmlsbGFnZXJJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYFNlbGVjdCBhIGxvY2F0aW9uIHRvIGJ1aWxkIGEgJHtidWlsZGluZ0luZm8ubmFtZX0uIFJpZ2h0LWNsaWNrIHRvIGNhbmNlbC5gKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQ29uZmlybVBsYWNlbWVudCA9IChwb3NpdGlvbjogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9KSA9PiB7XG4gICAgICAgIGlmIChwbGF5ZXJBY3Rpb24/Lm1vZGUgIT09ICdidWlsZCcpIHJldHVybjtcbiAgICAgICAgY29uc3QgeyBidWlsZGluZ1R5cGUsIHZpbGxhZ2VySWQgfSA9IHBsYXllckFjdGlvbjtcbiAgICAgICAgY29uc3QgYnVpbGRpbmdJbmZvID0gYnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSBidWlsZGluZ1R5cGUpO1xuICAgICAgICBjb25zdCBidWlsZGVyID0gdW5pdHMudmlsbGFnZXJzLmZpbmQodiA9PiB2LmlkID09PSB2aWxsYWdlcklkKTtcbiAgICAgICAgaWYgKCFidWlsZGluZ0luZm8gfHwgIWJ1aWxkZXIpIHJldHVybjtcbiAgICAgICAgaWYgKCF1bmxpbWl0ZWRSZXNvdXJjZXMpIHVwZGF0ZVJlc291cmNlcyhPYmplY3QuZW50cmllcyhidWlsZGluZ0luZm8uY29zdCkucmVkdWNlKChhY2MsIFtrLCB2XSkgPT4gKHsuLi5hY2MsIFtrXTogLXZ9KSwge30pKTtcbiAgICAgICAgXG4gICAgICAgIGxldCBidWlsZFRpbWUgPSBidWlsZGluZ0luZm8uYnVpbGRUaW1lICogMTAwMDtcbiAgICAgICAgaWYoYWN0aXZlQnVmZnMuYnVpbGRUaW1lUmVkdWN0aW9uKSB7XG4gICAgICAgICAgICBidWlsZFRpbWUgKj0gKDEgLSBhY3RpdmVCdWZmcy5idWlsZFRpbWVSZWR1Y3Rpb24ucGVyY2VudGFnZSk7XG4gICAgICAgICAgICBhZGRUb0xvZyhgQSBCdWlsZGVyJ3MgQ2hhcm0gcmVkdWNlZCBjb25zdHJ1Y3Rpb24gdGltZSBieSAke2FjdGl2ZUJ1ZmZzLmJ1aWxkVGltZVJlZHVjdGlvbi5wZXJjZW50YWdlICogMTAwfSUhYCwgJ2l0ZW0nKTtcbiAgICAgICAgICAgIHNldEFjdGl2ZUJ1ZmZzKHByZXYgPT4gKHsuLi5wcmV2LCBidWlsZFRpbWVSZWR1Y3Rpb246IHByZXYuYnVpbGRUaW1lUmVkdWN0aW9uIS51c2VzIC0gMSA+IDAgPyB7Li4ucHJldi5idWlsZFRpbWVSZWR1Y3Rpb24hLCB1c2VzOiBwcmV2LmJ1aWxkVGltZVJlZHVjdGlvbiEudXNlcyAtIDF9IDogdW5kZWZpbmVkIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgdGFza0lkID0gYCR7RGF0ZS5ub3coKX0tYnVpbGQtJHtidWlsZGluZ1R5cGV9YDtcbiAgICAgICAgY29uc3QgdGFza1BheWxvYWQgPSB7IGJ1aWxkaW5nVHlwZSwgdmlsbGFnZXJJZHM6IFt2aWxsYWdlcklkXSwgcG9zaXRpb24gfTtcbiAgICAgICAgaWYgKHVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgIGhhbmRsZVRhc2tDb21wbGV0aW9uKHsgaWQ6IHRhc2tJZCwgdHlwZTogJ2J1aWxkJywgc3RhcnRUaW1lOiAwLCBkdXJhdGlvbjogMCwgcGF5bG9hZDogeyAuLi50YXNrUGF5bG9hZCwgcG9zaXRpb24gfSB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gWy4uLnByZXYsIHsgaWQ6IHRhc2tJZCwgdHlwZTogJ2J1aWxkJywgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBkdXJhdGlvbjogYnVpbGRUaW1lLCBwYXlsb2FkOiB0YXNrUGF5bG9hZCB9XSk7XG4gICAgICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7Li4ucHJldiwgdmlsbGFnZXJzOiBwcmV2LnZpbGxhZ2Vycy5tYXAodiA9PiB2LmlkID09PSB2aWxsYWdlcklkID8gey4uLnYsIGN1cnJlbnRUYXNrOiB0YXNrSWR9IDogdil9KSk7XG4gICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgJHtidWlsZGVyLm5hbWV9IGhhcyBzdGFydGVkIGNvbnN0cnVjdGluZyBhICR7YnVpbGRpbmdJbmZvLm5hbWV9LmApO1xuICAgICAgICAgICAgYWRkVG9Mb2coYCR7YnVpbGRlci5uYW1lfSBiZWdhbiBjb25zdHJ1Y3Rpb24gb2YgYSBuZXcgJHtidWlsZGluZ0luZm8ubmFtZX0uYCwgYnVpbGRpbmdJbmZvLmljb25JZCk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0UGxheWVyQWN0aW9uKG51bGwpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVDYW5jZWxQbGF5ZXJBY3Rpb24gPSAoKSA9PiB7IHNldFBsYXllckFjdGlvbihudWxsKTsgc2V0QWN0aXZpdHlTdGF0dXMoJ0NvbW1hbmQgY2FuY2VsbGVkLicpOyB9O1xuXG4gICAgY29uc3QgaGFuZGxlRGVtb2xpc2hCdWlsZGluZyA9ICh0eXBlOiBCdWlsZGluZ1R5cGUgfCBzdHJpbmcsIGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgaWYgKHR5cGUgPT09ICd0b3duQ2VudGVyJykgeyBhZGROb3RpZmljYXRpb24oXCJUaGUgVG93biBDZW50ZXIgaXMgdGhlIGhlYXJ0IG9mIHlvdXIgY2l2aWxpemF0aW9uIGFuZCBjYW5ub3QgYmUgZGVtb2xpc2hlZC5cIik7IHJldHVybjsgfVxuICAgICAgICBpZihhY3RpdmVUYXNrcy5zb21lKHQgPT4gdC5wYXlsb2FkPy5idWlsZGluZ0lkID09PSBpZCkpIHsgYWRkTm90aWZpY2F0aW9uKFwiQ2Fubm90IGRlbW9saXNoIGEgYnVpbGRpbmcgd2l0aCBhbiBhY3RpdmUgdGFzay5cIik7IHJldHVybjsgfVxuICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IHR5cGUpO1xuICAgICAgICBjb25zdCBidWlsZGluZ0luc3RhbmNlID0gYnVpbGRpbmdzW3R5cGVdLmZpbmQoYiA9PiBiLmlkID09PSBpZCk7XG4gICAgICAgIGlmICghYnVpbGRpbmdJbmZvIHx8ICFidWlsZGluZ0luc3RhbmNlKSByZXR1cm47XG4gICAgICAgIGlmICh0eXBlID09PSAnaG91c2VzJyAmJiBwb3B1bGF0aW9uLmN1cnJlbnQgPiAoYnVpbGRpbmdzLnRvd25DZW50ZXI/Lmxlbmd0aCA+IDAgPyAyMCA6IDApICsgKGJ1aWxkaW5ncy5ob3VzZXMubGVuZ3RoIC0gMSkgKiA1KSB7IGFkZE5vdGlmaWNhdGlvbihcIkNhbm5vdCBkZW1vbGlzaCB0aGlzIGhvdXNlLCB5b3VyIHBlb3BsZSB3b3VsZCBiZSBob21lbGVzcy5cIik7IHJldHVybjsgfVxuICAgICAgICBjb25zdCByZWZ1bmQgPSBPYmplY3QuZW50cmllcyhidWlsZGluZ0luZm8uY29zdCkucmVkdWNlKChhY2MsIFtyZXMsIGNvc3RdKSA9PiB7IGNvbnN0IGFtb3VudCA9IE1hdGguZmxvb3IoKGNvc3QgfHwgMCkgKiAwLjUpOyBpZiAoYW1vdW50ID4gMCkgYWNjW3JlcyBhcyBrZXlvZiBSZXNvdXJjZXNdID0gYW1vdW50OyByZXR1cm4gYWNjOyB9LCB7fSBhcyBSZXNvdXJjZURlbHRhcyk7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhyZWZ1bmQpLmxlbmd0aCA+IDApIHsgdXBkYXRlUmVzb3VyY2VzKHJlZnVuZCk7IGFkZE5vdGlmaWNhdGlvbihgU2FsdmFnZWQgJHtPYmplY3QuZW50cmllcyhyZWZ1bmQpLm1hcCgoW3IsYV0pID0+IGAke2F9ICR7cn1gKS5qb2luKCcsICcpfS5gKTsgfVxuICAgICAgICBzZXRCdWlsZGluZ3MocHJldiA9PiAoeyAuLi5wcmV2LCBbdHlwZV06IHByZXZbdHlwZV0uZmlsdGVyKGIgPT4gYi5pZCAhPT0gaWQpIH0pKTtcbiAgICAgICAgYWRkVG9Mb2coYCR7YnVpbGRpbmdJbnN0YW5jZS5uYW1lfSAoJHtidWlsZGluZ0luZm8ubmFtZX0pIHdhcyBkZW1vbGlzaGVkLmAsIGJ1aWxkaW5nSW5mby5pY29uSWQpO1xuICAgICAgICBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7aXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgaW5zdGFuY2VJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlVXBkYXRlQnVpbGRpbmcgPSAodHlwZTogQnVpbGRpbmdUeXBlIHwgc3RyaW5nLCBpZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgc2V0QnVpbGRpbmdzKHByZXYgPT4gKHsgLi4ucHJldiwgW3R5cGVdOiBwcmV2W3R5cGVdLm1hcChiID0+IGIuaWQgPT09IGlkID8geyAuLi5iLCBuYW1lIH0gOiBiKSB9KSk7XG4gICAgICAgIGFkZE5vdGlmaWNhdGlvbihcIkJ1aWxkaW5nIHJlbmFtZWQuXCIpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVUcmFpblZpbGxhZ2VycyA9IChjb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGlmIChhY3RpdmVUYXNrcy5zb21lKHQgPT4gdC50eXBlID09PSAndHJhaW5fdmlsbGFnZXInKSB8fCBjb3VudCA8PSAwKSByZXR1cm47XG4gICAgICAgIGlmIChwb3B1bGF0aW9uLmN1cnJlbnQgKyBjb3VudCA+IHBvcHVsYXRpb24uY2FwYWNpdHkpIHsgYWRkTm90aWZpY2F0aW9uKGBOZWVkIHNwYWNlIGZvciAke2NvdW50fSBtb3JlIHZpbGxhZ2Vycy5gKTsgcmV0dXJuOyB9XG4gICAgICAgIGlmICghYnVpbGRpbmdzLnRvd25DZW50ZXI/LlswXSkgeyBhZGROb3RpZmljYXRpb24oYE5vIFRvd24gQ2VudGVyIHRvIHRyYWluIHZpbGxhZ2Vycy5gKTsgcmV0dXJuOyB9XG4gICAgICAgIGlmICghdW5saW1pdGVkUmVzb3VyY2VzKSB7IGNvbnN0IHRvdGFsQ29zdCA9IDUwICogY291bnQ7IGlmIChyZXNvdXJjZXMuZm9vZCA8IHRvdGFsQ29zdCkgeyBhZGROb3RpZmljYXRpb24oYE5lZWQgJHt0b3RhbENvc3QgLSByZXNvdXJjZXMuZm9vZH0gbW9yZSBGb29kLmApOyByZXR1cm47IH0gdXBkYXRlUmVzb3VyY2VzKHsgZm9vZDogLXRvdGFsQ29zdCB9KTsgfVxuICAgICAgICBcbiAgICAgICAgaWYodW5saW1pdGVkUmVzb3VyY2VzKSBoYW5kbGVUYXNrQ29tcGxldGlvbih7IGlkOiAnaW5zdGFudCcsIHR5cGU6ICd0cmFpbl92aWxsYWdlcicsIHN0YXJ0VGltZTogMCwgZHVyYXRpb246IDAsIHBheWxvYWQ6IHsgY291bnQgfSB9KTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IFsuLi5wcmV2LCB7IGlkOiBgJHtEYXRlLm5vdygpfS10cmFpbi12aWxsYWdlcmAsIHR5cGU6ICd0cmFpbl92aWxsYWdlcicsIHN0YXJ0VGltZTogRGF0ZS5ub3coKSwgZHVyYXRpb246IDEwMDAwICogY291bnQsIHBheWxvYWQ6IHsgY291bnQsIGJ1aWxkaW5nSWQ6IGJ1aWxkaW5ncy50b3duQ2VudGVyIVswXS5pZCB9IH1dKTtcbiAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBUcmFpbmluZyAke2NvdW50fSB2aWxsYWdlcihzKS4uLmApOyBhZGRUb0xvZyhgQmVnYW4gdHJhaW5pbmcgJHtjb3VudH0gbmV3IHZpbGxhZ2VyKHMpLmAsICd2aWxsYWdlcicpO1xuICAgICAgICB9XG4gICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgaW5zdGFuY2VJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGhhbmRsZVRyYWluVW5pdHMgPSAodW5pdFR5cGU6IE1pbGl0YXJ5VW5pdFR5cGUsIGNvdW50OiBudW1iZXIpID0+IHtcbiAgICAgICAgY29uc3QgdW5pdEluZm8gPSB1bml0TGlzdC5maW5kKHUgPT4gdS5pZCA9PT0gdW5pdFR5cGUpO1xuICAgICAgICBpZiAoIXVuaXRJbmZvIHx8IGFjdGl2ZVRhc2tzLnNvbWUodCA9PiB0LnBheWxvYWQ/LnVuaXRUeXBlID09PSB1bml0VHlwZSkgfHwgY291bnQgPD0gMCkgcmV0dXJuO1xuICAgICAgICBpZiAocG9wdWxhdGlvbi5jdXJyZW50ICsgY291bnQgPiBwb3B1bGF0aW9uLmNhcGFjaXR5KSB7IGFkZE5vdGlmaWNhdGlvbihgTmVlZCBzcGFjZSBmb3IgJHtjb3VudH0gbW9yZSB1bml0cy5gKTsgcmV0dXJuOyB9XG4gICAgICAgIGNvbnN0IHRyYWluaW5nQnVpbGRpbmcgPSBidWlsZGluZ3NbdW5pdEluZm8ucmVxdWlyZWRCdWlsZGluZyBhcyBCdWlsZGluZ1R5cGVdPy5bMF07XG4gICAgICAgIGlmICghdHJhaW5pbmdCdWlsZGluZykgeyBhZGROb3RpZmljYXRpb24oYE5vICR7YnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSB1bml0SW5mby5yZXF1aXJlZEJ1aWxkaW5nKT8ubmFtZX0gdG8gdHJhaW4gdW5pdHMuYCk7IHJldHVybjsgfVxuXG4gICAgICAgIGlmICghdW5saW1pdGVkUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICBjb25zdCBtaXNzaW5nID0gKE9iamVjdC5rZXlzKHVuaXRJbmZvLmNvc3QpIGFzIChrZXlvZiBSZXNvdXJjZXMpW10pLmZpbHRlcihyZXMgPT4gcmVzb3VyY2VzW3Jlc10gPCAodW5pdEluZm8uY29zdFtyZXNdIHx8IDApICogY291bnQpO1xuICAgICAgICAgICAgaWYgKG1pc3NpbmcubGVuZ3RoID4gMCkgeyBhZGROb3RpZmljYXRpb24oYE5lZWQgbW9yZSAke21pc3Npbmcuam9pbignIGFuZCAnKX0uYCk7IHJldHVybjsgfVxuICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKE9iamVjdC5lbnRyaWVzKHVuaXRJbmZvLmNvc3QpLnJlZHVjZSgoYWNjLCBbaywgdl0pID0+ICh7Li4uYWNjLCBba106IC0odiB8fCAwKSAqIGNvdW50fSksIHt9KSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGxldCB0cmFpblRpbWUgPSB1bml0SW5mby50cmFpblRpbWUgKiAxMDAwICogY291bnQ7XG4gICAgICAgIGlmKGFjdGl2ZUJ1ZmZzLnBlcm1hbmVudFRyYWluVGltZVJlZHVjdGlvbikgdHJhaW5UaW1lICo9ICgxIC0gYWN0aXZlQnVmZnMucGVybWFuZW50VHJhaW5UaW1lUmVkdWN0aW9uKTtcbiAgICAgICAgaWYgKGFjdGl2ZUJ1ZmZzLnRyYWluVGltZVJlZHVjdGlvbikge1xuICAgICAgICAgICAgY29uc3QgYXBwbGljYWJsZSA9IE1hdGgubWluKGNvdW50LCBhY3RpdmVCdWZmcy50cmFpblRpbWVSZWR1Y3Rpb24udXNlcyk7XG4gICAgICAgICAgICB0cmFpblRpbWUgPSAodW5pdEluZm8udHJhaW5UaW1lICogMTAwMCAqIGFwcGxpY2FibGUgKiAoMSAtIGFjdGl2ZUJ1ZmZzLnRyYWluVGltZVJlZHVjdGlvbi5wZXJjZW50YWdlKSkgKyAodW5pdEluZm8udHJhaW5UaW1lICogMTAwMCAqIChjb3VudCAtIGFwcGxpY2FibGUpKTtcbiAgICAgICAgICAgIGlmIChhY3RpdmVCdWZmcy50cmFpblRpbWVSZWR1Y3Rpb24udXNlcyAtIGFwcGxpY2FibGUgPiAwKSBzZXRBY3RpdmVCdWZmcyhwcmV2ID0+ICh7Li4ucHJldiwgdHJhaW5UaW1lUmVkdWN0aW9uOiB7Li4ucHJldi50cmFpblRpbWVSZWR1Y3Rpb24hLCB1c2VzOiBwcmV2LnRyYWluVGltZVJlZHVjdGlvbiEudXNlcyAtIGFwcGxpY2FibGV9fSkpO1xuICAgICAgICAgICAgZWxzZSB7IHNldEFjdGl2ZUJ1ZmZzKHByZXYgPT4gKHsuLi5wcmV2LCB0cmFpblRpbWVSZWR1Y3Rpb246IHVuZGVmaW5lZH0pKTsgYWRkVG9Mb2coXCJUaGUgRHJpbGxtYXN0ZXIncyBXaGlzdGxlIGJ1ZmYgaGFzIGJlZW4gZnVsbHkgdXNlZC5cIiwgJ2l0ZW0nKTsgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZih1bmxpbWl0ZWRSZXNvdXJjZXMpIGhhbmRsZVRhc2tDb21wbGV0aW9uKHsgaWQ6ICdpbnN0YW50JywgdHlwZTogJ3RyYWluX21pbGl0YXJ5Jywgc3RhcnRUaW1lOiAwLCBkdXJhdGlvbjogMCwgcGF5bG9hZDogeyB1bml0VHlwZSwgY291bnQgfSB9KTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IFsuLi5wcmV2LCB7IGlkOiBgJHtEYXRlLm5vdygpfS10cmFpbi0ke3VuaXRUeXBlfWAsIHR5cGU6ICd0cmFpbl9taWxpdGFyeScsIHN0YXJ0VGltZTogRGF0ZS5ub3coKSwgZHVyYXRpb246IHRyYWluVGltZSwgcGF5bG9hZDogeyB1bml0VHlwZSwgY291bnQsIGJ1aWxkaW5nSWQ6IHRyYWluaW5nQnVpbGRpbmcuaWQgfSB9XSk7XG4gICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgVHJhaW5pbmcgJHtjb3VudH0gJHt1bml0SW5mby5uYW1lfShzKS4uLmApOyBhZGRUb0xvZyhgQmVnYW4gdHJhaW5pbmcgJHtjb3VudH0gbmV3ICR7dW5pdEluZm8ubmFtZX0ocykuYCwgdW5pdFR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgaW5zdGFuY2VJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlRGlzbWlzc1NwZWNpZmljVW5pdCA9ICh0eXBlOiAndmlsbGFnZXJzJyB8ICdtaWxpdGFyeScsIGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgaWYgKHR5cGUgPT09ICd2aWxsYWdlcnMnICYmIGlzVmlsbGFnZXJCdXN5KGlkKSkgeyBhZGROb3RpZmljYXRpb24oXCJDYW5ub3QgZGlzbWlzcyBhIGJ1c3kgdmlsbGFnZXIuXCIpOyByZXR1cm47IH1cbiAgICAgICAgY29uc3QgdW5pdCA9IHVuaXRzW3R5cGVdLmZpbmQodSA9PiB1LmlkID09PSBpZCk7IGlmICghdW5pdCkgcmV0dXJuO1xuICAgICAgICBpZiAodHlwZSA9PT0gJ3ZpbGxhZ2VycycgJiYgdW5pdHMudmlsbGFnZXJzLmxlbmd0aCA8PSAxKSB7IGFkZE5vdGlmaWNhdGlvbihcIkNhbm5vdCBkaXNtaXNzIHlvdXIgbGFzdCB2aWxsYWdlci5cIik7IHJldHVybjsgfVxuICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7IC4uLnByZXYsIFt0eXBlXTogcHJldlt0eXBlXS5maWx0ZXIodSA9PiB1LmlkICE9PSBpZCkgfSkpO1xuICAgICAgICBjb25zdCB1bml0VHlwZU5hbWUgPSB0eXBlID09PSAndmlsbGFnZXJzJyA/ICd2aWxsYWdlcicgOiAodW5pdCBhcyBNaWxpdGFyeVVuaXQpLnVuaXRUeXBlO1xuICAgICAgICBhZGRUb0xvZyhgJHt1bml0Lm5hbWV9IHRoZSAke3VuaXRUeXBlTmFtZX0gaGFzIGJlZW4gZGlzbWlzc2VkLmAsIHR5cGUgPT09ICd2aWxsYWdlcnMnID8gJ3ZpbGxhZ2VyJyA6ICh1bml0IGFzIE1pbGl0YXJ5VW5pdCkudW5pdFR5cGUpO1xuICAgICAgICBhZGROb3RpZmljYXRpb24oYCR7dW5pdC5uYW1lfSB3YXMgZGlzbWlzc2VkLmApO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVVcGRhdGVVbml0ID0gKHR5cGU6ICd2aWxsYWdlcnMnIHwgJ21pbGl0YXJ5JywgaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCB0aXRsZT86IHN0cmluZykgPT4ge1xuICAgICAgICAgc2V0VW5pdHMocHJldiA9PiAoeyAuLi5wcmV2LCBbdHlwZV06IHByZXZbdHlwZV0ubWFwKHUgPT4gdS5pZCA9PT0gaWQgPyAodHlwZSA9PT0gJ21pbGl0YXJ5JyAmJiB0aXRsZSAhPT0gdW5kZWZpbmVkID8geyAuLi51LCBuYW1lLCB0aXRsZSB9IDogeyAuLi51LCBuYW1lIH0pIDogdSl9KSk7XG4gICAgICAgIGFkZE5vdGlmaWNhdGlvbihcIlVuaXQgdXBkYXRlZC5cIik7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUFzc2lnblZpbGxhZ2Vyc1RvQ29uc3RydWN0aW9uID0gKGNvbnN0cnVjdGlvbklkOiBzdHJpbmcsIGNvdW50OiBudW1iZXIpID0+IHtcbiAgICAgICAgY29uc3QgaWRsZVZpbGxhZ2VycyA9IHVuaXRzLnZpbGxhZ2Vycy5maWx0ZXIodiA9PiAhdi5jdXJyZW50VGFzayk7XG4gICAgICAgIGlmIChjb3VudCA8PSAwIHx8IGlkbGVWaWxsYWdlcnMubGVuZ3RoID09PSAwKSB7IGFkZE5vdGlmaWNhdGlvbihcIk5vIGlkbGUgdmlsbGFnZXJzIGF2YWlsYWJsZS5cIik7IHJldHVybjsgfVxuICAgICAgICBjb25zdCB0YXNrID0gYWN0aXZlVGFza3MuZmluZCh0ID0+IHQuaWQgPT09IGNvbnN0cnVjdGlvbklkKTsgaWYgKCF0YXNrIHx8IHRhc2sudHlwZSAhPT0gJ2J1aWxkJykgcmV0dXJuO1xuICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IHRhc2sucGF5bG9hZD8uYnVpbGRpbmdUeXBlKTsgaWYgKCFidWlsZGluZ0luZm8pIHJldHVybjtcblxuICAgICAgICBjb25zdCBjYXBwZWRDb3VudCA9IE1hdGgubWluKGNvdW50LCBpZGxlVmlsbGFnZXJzLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IHZpbGxhZ2Vyc1RvQXNzaWduID0gaWRsZVZpbGxhZ2Vycy5zbGljZSgwLCBjYXBwZWRDb3VudCkubWFwKHYgPT4gdi5pZCk7XG4gICAgICAgIGNvbnN0IHdvcmtEb25lID0gKERhdGUubm93KCkgLSB0YXNrLnN0YXJ0VGltZSkgKiAodGFzay5wYXlsb2FkPy52aWxsYWdlcklkcz8ubGVuZ3RoIHx8IDEpO1xuICAgICAgICBjb25zdCB3b3JrUmVtYWluaW5nID0gTWF0aC5tYXgoMCwgKGJ1aWxkaW5nSW5mby5idWlsZFRpbWUgKiAxMDAwKSAtIHdvcmtEb25lKTtcbiAgICAgICAgY29uc3QgbmV3V29ya2VyQ291bnQgPSAodGFzay5wYXlsb2FkPy52aWxsYWdlcklkcz8ubGVuZ3RoIHx8IDApICsgY2FwcGVkQ291bnQ7XG4gICAgICAgIGNvbnN0IG5ld1JlbWFpbmluZ0R1cmF0aW9uID0gd29ya1JlbWFpbmluZyAvIG5ld1dvcmtlckNvdW50O1xuICAgICAgICBcbiAgICAgICAgc2V0VW5pdHMocHJldiA9PiAoey4uLnByZXYsIHZpbGxhZ2VyczogcHJldi52aWxsYWdlcnMubWFwKHYgPT4gdmlsbGFnZXJzVG9Bc3NpZ24uaW5jbHVkZXModi5pZCkgPyB7Li4udiwgY3VycmVudFRhc2s6IGNvbnN0cnVjdGlvbklkfSA6IHYpfSkpO1xuICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IHByZXYubWFwKHQgPT4gdC5pZCA9PT0gY29uc3RydWN0aW9uSWQgPyB7IC4uLnQsIHN0YXJ0VGltZTogRGF0ZS5ub3coKSwgZHVyYXRpb246IG5ld1JlbWFpbmluZ0R1cmF0aW9uLCBwYXlsb2FkOiB7IC4uLnQucGF5bG9hZCwgdmlsbGFnZXJJZHM6IFsuLi50LnBheWxvYWQhLnZpbGxhZ2VySWRzISwgLi4udmlsbGFnZXJzVG9Bc3NpZ25dIH0gfSA6IHQpKTtcbiAgICAgICAgYWRkVG9Mb2coYCR7Y2FwcGVkQ291bnR9IHZpbGxhZ2VyKHMpIGFyZSBub3cgYXNzaXN0aW5nIHdpdGggdGhlICR7YnVpbGRpbmdJbmZvLm5hbWV9LmAsIGJ1aWxkaW5nSW5mby5pY29uSWQpO1xuICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgQ29uc3RydWN0aW9uIG9mIHRoZSAke2J1aWxkaW5nSW5mby5uYW1lfSBpcyBub3cgZmFzdGVyLmApO1xuICAgICAgICBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIHRhcmdldElkOiBudWxsLCB0YXJnZXRUeXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVBc3NpZ25WaWxsYWdlcnMgPSAodGFyZ2V0SWQ6IHN0cmluZywgY291bnQ6IG51bWJlcikgPT4ge1xuICAgICAgICBpZiAoYXNzaWdubWVudFBhbmVsU3RhdGUudGFyZ2V0VHlwZSA9PT0gJ2NvbnN0cnVjdGlvbicpIHJldHVybiBoYW5kbGVBc3NpZ25WaWxsYWdlcnNUb0NvbnN0cnVjdGlvbih0YXJnZXRJZCwgY291bnQpO1xuICAgICAgICBjb25zdCBpZGxlVmlsbGFnZXJzID0gdW5pdHMudmlsbGFnZXJzLmZpbHRlcih2ID0+ICF2LmN1cnJlbnRUYXNrKTtcbiAgICAgICAgaWYgKGNvdW50IDw9IDAgfHwgaWRsZVZpbGxhZ2Vycy5sZW5ndGggPT09IDApIHsgYWRkTm90aWZpY2F0aW9uKFwiTm8gaWRsZSB2aWxsYWdlcnMgYXZhaWxhYmxlLlwiKTsgcmV0dXJuOyB9XG4gICAgICAgIGNvbnN0IHRhcmdldE5vZGUgPSByZXNvdXJjZU5vZGVzLmZpbmQobiA9PiBuLmlkID09PSB0YXJnZXRJZCk7IGlmICghdGFyZ2V0Tm9kZSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBjYXBwZWRDb3VudCA9IE1hdGgubWluKGNvdW50LCBpZGxlVmlsbGFnZXJzLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IHZpbGxhZ2Vyc1RvQXNzaWduID0gaWRsZVZpbGxhZ2Vycy5zbGljZSgwLCBjYXBwZWRDb3VudCkubWFwKHYgPT4gdi5pZCk7XG4gICAgICAgIGNvbnN0IHRhc2tJZCA9IGBnYXRoZXItJHt0YXJnZXRJZH1gO1xuICAgICAgICBjb25zdCBleGlzdGluZ1Rhc2sgPSBhY3RpdmVUYXNrcy5maW5kKHQgPT4gdC5pZCA9PT0gdGFza0lkKTtcbiAgICAgICAgXG4gICAgICAgIGlmICh1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIHVwZGF0ZVJlc291cmNlcyh7IFt0YXJnZXROb2RlLnR5cGVdOiB0YXJnZXROb2RlLmFtb3VudCB9KTtcbiAgICAgICAgICAgIGFkZFRvTG9nKGAke2NhcHBlZENvdW50fSB2aWxsYWdlcihzKSBpbnN0YW50bHkgZ2F0aGVyZWQgJHtNYXRoLmZsb29yKHRhcmdldE5vZGUuYW1vdW50KX0gJHt0YXJnZXROb2RlLnR5cGV9LmAsIHRhcmdldE5vZGUudHlwZSk7XG4gICAgICAgICAgICBzZXRSZXNvdXJjZU5vZGVzKHByZXYgPT4gcHJldi5maWx0ZXIobiA9PiBuLmlkICE9PSB0YXJnZXRJZCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nVGFzaykgc2V0QWN0aXZlVGFza3MocHJldiA9PiBwcmV2Lm1hcCh0ID0+IHQuaWQgPT09IHRhc2tJZCA/IHsgLi4udCwgcGF5bG9hZDogeyAuLi50LnBheWxvYWQsIHZpbGxhZ2VySWRzOiBbLi4ubmV3IFNldChbLi4udC5wYXlsb2FkIS52aWxsYWdlcklkcyEsIC4uLnZpbGxhZ2Vyc1RvQXNzaWduXSldIH0gfSA6IHQpKTtcbiAgICAgICAgICAgIGVsc2Ugc2V0QWN0aXZlVGFza3MocHJldiA9PiBbLi4ucHJldiwgeyBpZDogdGFza0lkLCB0eXBlOiAnZ2F0aGVyJywgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBkdXJhdGlvbjogOTk5OTk5OTk5LCBwYXlsb2FkOiB7IHJlc291cmNlTm9kZUlkOiB0YXJnZXRJZCwgdmlsbGFnZXJJZHM6IHZpbGxhZ2Vyc1RvQXNzaWduIH0gfV0pO1xuICAgICAgICAgICAgc2V0VW5pdHMocHJldiA9PiAoey4uLnByZXYsIHZpbGxhZ2VyczogcHJldi52aWxsYWdlcnMubWFwKHYgPT4gdmlsbGFnZXJzVG9Bc3NpZ24uaW5jbHVkZXModi5pZCkgPyB7Li4udiwgY3VycmVudFRhc2s6IHRhc2tJZH0gOiB2KX0pKTtcbiAgICAgICAgfVxuICAgICAgICBhZGRUb0xvZyhgJHtjYXBwZWRDb3VudH0gdmlsbGFnZXIocykgYXNzaWduZWQgdG8gZ2F0aGVyICR7dGFyZ2V0Tm9kZS50eXBlfS5gLCB0YXJnZXROb2RlLnR5cGUpO1xuICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgJHtjYXBwZWRDb3VudH0gdmlsbGFnZXIocykgYXJlIG5vdyBnYXRoZXJpbmcgJHt0YXJnZXROb2RlLnR5cGV9LmApO1xuICAgICAgICBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIHRhcmdldElkOiBudWxsLCB0YXJnZXRUeXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVSZWNhbGxWaWxsYWdlcnMgPSAodGFyZ2V0SWQ6IHN0cmluZywgY291bnQ6IG51bWJlciwgdHlwZTogJ3Jlc291cmNlJyB8ICdjb25zdHJ1Y3Rpb24nKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBhY3RpdmVUYXNrcy5maW5kKHQgPT4gdC5pZCA9PT0gdGFyZ2V0SWQpO1xuICAgICAgICBpZiAoIXRhc2sgfHwgKHRhc2sucGF5bG9hZD8udmlsbGFnZXJJZHM/Lmxlbmd0aCA/PyAwKSA8IGNvdW50KSByZXR1cm47XG4gICAgICAgIFxuICAgICAgICBjb25zdCB2aWxsYWdlcnNUb1JlY2FsbCA9IHRhc2sucGF5bG9hZCEudmlsbGFnZXJJZHMhLnNsaWNlKHRhc2sucGF5bG9hZCEudmlsbGFnZXJJZHMhLmxlbmd0aCAtIGNvdW50KTtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdjb25zdHJ1Y3Rpb24nICYmIHZpbGxhZ2Vyc1RvUmVjYWxsLmxlbmd0aCA9PT0gdGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEubGVuZ3RoKSB7IGFkZE5vdGlmaWNhdGlvbihcIkNhbm5vdCByZWNhbGwgdGhlIGxhc3QgYnVpbGRlciBmcm9tIGEgcHJvamVjdC5cIik7IHJldHVybjsgfVxuXG4gICAgICAgIHNldFVuaXRzKHByZXYgPT4gKHsuLi5wcmV2LCB2aWxsYWdlcnM6IHByZXYudmlsbGFnZXJzLm1hcCh2ID0+IHZpbGxhZ2Vyc1RvUmVjYWxsLmluY2x1ZGVzKHYuaWQpID8gey4uLnYsIGN1cnJlbnRUYXNrOiBudWxsfSA6IHYpfSkpO1xuICAgICAgICBjb25zdCByZW1haW5pbmdWaWxsYWdlcnMgPSB0YXNrLnBheWxvYWQhLnZpbGxhZ2VySWRzIS5maWx0ZXIoaWQgPT4gIXZpbGxhZ2Vyc1RvUmVjYWxsLmluY2x1ZGVzKGlkKSk7XG4gICAgICAgIFxuICAgICAgICBpZiAocmVtYWluaW5nVmlsbGFnZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBwcmV2LmZpbHRlcih0ID0+IHQuaWQgIT09IHRhcmdldElkKSk7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gcmVzb3VyY2VOb2Rlcy5maW5kKG4gPT4gbi5pZCA9PT0gdGFyZ2V0SWQpO1xuICAgICAgICAgICAgaWYobm9kZSkgYWRkVG9Mb2coYEFsbCB2aWxsYWdlcnMgcmVjYWxsZWQgZnJvbSBnYXRoZXJpbmcgJHtub2RlLnR5cGV9LmAsICd2aWxsYWdlcicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgYnVpbGRpbmdJbmZvID0gYnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSB0YXNrLnBheWxvYWQ/LmJ1aWxkaW5nVHlwZSkhO1xuICAgICAgICAgICAgY29uc3Qgd29ya0RvbmUgPSAoRGF0ZS5ub3coKSAtIHRhc2suc3RhcnRUaW1lKSAqIHRhc2sucGF5bG9hZCEudmlsbGFnZXJJZHMhLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IG5ld1JlbWFpbmluZ0R1cmF0aW9uID0gKGJ1aWxkaW5nSW5mby5idWlsZFRpbWUgKiAxMDAwIC0gd29ya0RvbmUpIC8gcmVtYWluaW5nVmlsbGFnZXJzLmxlbmd0aDtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gcHJldi5tYXAodCA9PiB0LmlkID09PSB0YXJnZXRJZCA/IHsgLi4udCwgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBkdXJhdGlvbjogbmV3UmVtYWluaW5nRHVyYXRpb24sIHBheWxvYWQ6IHsgLi4udC5wYXlsb2FkLCB2aWxsYWdlcklkczogcmVtYWluaW5nVmlsbGFnZXJzIH0gfSA6IHQpKTtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnY29uc3RydWN0aW9uJykgYWRkVG9Mb2coYCR7Y291bnR9IGJ1aWxkZXIocykgcmVjYWxsZWQuIENvbnN0cnVjdGlvbiB3aWxsIG5vdyBiZSBzbG93ZXIuYCwgJ3ZpbGxhZ2VyJyk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0QXNzaWdubWVudFBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQWR2YW5jZUFnZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZVRhc2tzLnNvbWUodCA9PiB0LnR5cGUgPT09ICdhZHZhbmNlX2FnZScpKSB7IGFkZE5vdGlmaWNhdGlvbihcIkFkdmFuY2VtZW50IGFscmVhZHkgaW4gcHJvZ3Jlc3MuXCIpOyByZXR1cm47IH1cbiAgICAgICAgaWYgKCF1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pc3NpbmcgPSBbXTtcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZXMuZm9vZCA8IDUwMCkgbWlzc2luZy5wdXNoKGAkezUwMCAtIHJlc291cmNlcy5mb29kfSBGb29kYCk7XG4gICAgICAgICAgICBpZiAocmVzb3VyY2VzLmdvbGQgPCAyMDApIG1pc3NpbmcucHVzaChgJHsyMDAgLSByZXNvdXJjZXMuZ29sZH0gR29sZGApO1xuICAgICAgICAgICAgaWYgKG1pc3NpbmcubGVuZ3RoID4gMCkgeyBhZGROb3RpZmljYXRpb24oYFRvIGFkdmFuY2UsIHlvdSBuZWVkICR7bWlzc2luZy5qb2luKCcgYW5kICcpfS5gKTsgcmV0dXJuOyB9XG4gICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXMoeyBmb29kOiAtNTAwLCBnb2xkOiAtMjAwIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGFnZVByb2dyZXNzaW9uTGlzdC5maW5kSW5kZXgoYWdlID0+IGFnZS5uYW1lID09PSBjdXJyZW50QWdlKTtcbiAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA9PT0gLTEgfHwgY3VycmVudEluZGV4ICsgMSA+PSBhZ2VQcm9ncmVzc2lvbkxpc3QubGVuZ3RoKSB7IGFkZE5vdGlmaWNhdGlvbihcIllvdSBoYXZlIHJlYWNoZWQgdGhlIGZpbmFsIGF2YWlsYWJsZSBhZ2UuXCIpOyByZXR1cm47IH1cblxuICAgICAgICBpZih1bmxpbWl0ZWRSZXNvdXJjZXMpIGhhbmRsZVRhc2tDb21wbGV0aW9uKHsgaWQ6ICdpbnN0YW50JywgdHlwZTogJ2FkdmFuY2VfYWdlJywgc3RhcnRUaW1lOiAwLCBkdXJhdGlvbjogMCwgcGF5bG9hZDoge30gfSk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBbLi4ucHJldiwgeyBpZDogYCR7RGF0ZS5ub3coKX0tYWR2YW5jZV9hZ2VgLCB0eXBlOiAnYWR2YW5jZV9hZ2UnLCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiA2MDAwMCB9XSk7XG4gICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgWW91ciBwZW9wbGUgYmVnaW4gdGhlIGxvbmcgam91cm5leSB0byBhIG5ldyBhZ2UuYCk7XG4gICAgICAgICAgICBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGluc3RhbmNlSWQ6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGhhbmRsZUV4aXRHYW1lID0gYXN5bmMgKCkgPT4geyBzZXRDdXJyZW50U2F2ZU5hbWUobnVsbCk7IGF3YWl0IGZldGNoU2F2ZXNBbmRDb25maWdzKCk7IHNldEdhbWVTdGF0ZShHYW1lU3RhdHVzLk1FTlUpOyB9O1xuICAgIGNvbnN0IGhhbmRsZURlbGV0ZUdhbWUgPSBhc3luYyAoc2F2ZU5hbWU6IHN0cmluZykgPT4geyBhd2FpdCBkZWxldGVHYW1lU3RhdGUoc2F2ZU5hbWUpOyBhd2FpdCBmZXRjaFNhdmVzQW5kQ29uZmlncygpOyBhZGROb3RpZmljYXRpb24oYERlbGV0ZWQgc2FnYTogXCIke3NhdmVOYW1lfVwiYCk7IH07XG5cbiAgICBjb25zdCBoYW5kbGVUb2dnbGVVbmxpbWl0ZWRSZXNvdXJjZXMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld01vZGUgPSAhdW5saW1pdGVkUmVzb3VyY2VzO1xuICAgICAgICBzZXRVbmxpbWl0ZWRSZXNvdXJjZXMobmV3TW9kZSk7XG4gICAgICAgIGlmIChuZXdNb2RlKSB7XG4gICAgICAgICAgICBzZXRSZXNvdXJjZXMoeyBmb29kOiA5OTk5OSwgd29vZDogOTk5OTksIGdvbGQ6IDk5OTk5LCBzdG9uZTogOTk5OTkgfSk7XG4gICAgICAgICAgICBhZGROb3RpZmljYXRpb24oXCJUZXN0IE1vZGU6IE9OIC0gQWxsIGFjdGl2ZSB0YXNrcyBjb21wbGV0ZWQuXCIpO1xuICAgICAgICAgICAgY29uc3QgZGVwbGV0ZWROb2RlSWRzID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgICAgICAgICBhY3RpdmVUYXNrcy5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0YXNrLnR5cGUgPT09ICdnYXRoZXInICYmIHRhc2sucGF5bG9hZD8ucmVzb3VyY2VOb2RlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVwbGV0ZWROb2RlSWRzLmFkZCh0YXNrLnBheWxvYWQucmVzb3VyY2VOb2RlSWQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gcmVzb3VyY2VOb2Rlcy5maW5kKG4gPT4gbi5pZCA9PT0gdGFzay5wYXlsb2FkLnJlc291cmNlTm9kZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUpIGFkZFRvTG9nKGBJbnN0YW50bHkgZ2F0aGVyZWQgYWxsICR7bm9kZS50eXBlfSBmcm9tIGEgZGVwbGV0ZWQgc291cmNlLmAsIG5vZGUudHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhhbmRsZVRhc2tDb21wbGV0aW9uKHRhc2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhbXSk7XG4gICAgICAgICAgICBpZiAoZGVwbGV0ZWROb2RlSWRzLnNpemUgPiAwKSBzZXRSZXNvdXJjZU5vZGVzKHByZXYgPT4gcHJldi5maWx0ZXIobiA9PiAhZGVwbGV0ZWROb2RlSWRzLmhhcyhuLmlkKSkpO1xuICAgICAgICB9IGVsc2UgYWRkTm90aWZpY2F0aW9uKFwiVGVzdCBNb2RlOiBPRkZcIik7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBoYW5kbGVVc2VJdGVtID0gKGl0ZW1JZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBpbnZlbnRvcnkuZmluZChpID0+IGkuaWQgPT09IGl0ZW1JZCk7IGlmICghaXRlbSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBiYXNlSXRlbUlkID0gaXRlbS5pZC5zcGxpdCgnLScpWzBdO1xuICAgICAgICBjb25zdCBjb25zdHJ1Y3Rpb25UYXNrcyA9IGFjdGl2ZVRhc2tzLmZpbHRlcih0ID0+IHQudHlwZSA9PT0gJ2J1aWxkJyk7XG4gICAgICAgIHN3aXRjaChiYXNlSXRlbUlkKSB7XG4gICAgICAgICAgICBjYXNlICdzY3JvbGxfb2ZfaGFzdGUnOiBjYXNlICdibHVlcHJpbnRfb2ZfdGhlX21hc3Rlcic6XG4gICAgICAgICAgICAgICAgaWYgKGNvbnN0cnVjdGlvblRhc2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFzayA9IGNvbnN0cnVjdGlvblRhc2tzLnNvcnQoKGEsYikgPT4gKGIuc3RhcnRUaW1lICsgYi5kdXJhdGlvbikgLSAoYS5zdGFydFRpbWUgKyBhLmR1cmF0aW9uKSlbMF07XG4gICAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHAgPT4gcC5tYXAodCA9PiB0LmlkID09PSB0YXNrLmlkID8geyAuLi50LCBkdXJhdGlvbjogTWF0aC5tYXgoMCwgdC5kdXJhdGlvbiAtIChiYXNlSXRlbUlkID09PSAnc2Nyb2xsX29mX2hhc3RlJyA/IDE1MDAwIDogNjAwMDApKSB9IDogdCkpO1xuICAgICAgICAgICAgICAgICAgICBhZGRUb0xvZyhgVXNlZCAke2l0ZW0ubmFtZX0gb24gdGhlICR7YnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSB0YXNrLnBheWxvYWQ/LmJ1aWxkaW5nVHlwZSk/Lm5hbWV9LmAsICdpdGVtJyk7XG4gICAgICAgICAgICAgICAgfSBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2hlYXJ0eV9tZWFsJzogdXBkYXRlUmVzb3VyY2VzKHsgZm9vZDogNzUgfSk7IGFkZFRvTG9nKGBVc2VkICR7aXRlbS5uYW1lfSB0byBnYWluIDc1IGZvb2QuYCwgJ2l0ZW0nKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdidWlsZGVyc19jaGFybSc6IHNldEFjdGl2ZUJ1ZmZzKHAgPT4gKHsuLi5wLCBidWlsZFRpbWVSZWR1Y3Rpb246IHsgcGVyY2VudGFnZTogMC4xLCB1c2VzOiAxIH19KSk7IGFkZFRvTG9nKGBVc2VkICR7aXRlbS5uYW1lfS4gTmV4dCBidWlsZGluZyBpcyAxMCUgZmFzdGVyLmAsICdpdGVtJyk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZHJpbGxtYXN0ZXJzX3doaXN0bGUnOiBzZXRBY3RpdmVCdWZmcyhwID0+ICh7Li4ucCwgdHJhaW5UaW1lUmVkdWN0aW9uOiB7IHBlcmNlbnRhZ2U6IDAuMjUsIHVzZXM6IDUgfX0pKTsgYWRkVG9Mb2coYFVzZWQgJHtpdGVtLm5hbWV9LiBOZXh0IDUgdW5pdHMgdHJhaW4gMjUlIGZhc3Rlci5gLCAnaXRlbScpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2dvbGRlbl9oYXJ2ZXN0Jzogc2V0QWN0aXZlQnVmZnMocCA9PiAoey4uLnAsIHJlc291cmNlQm9vc3Q6IFsuLi4ocC5yZXNvdXJjZUJvb3N0IHx8IFtdKSwgeyByZXNvdXJjZTogJ2Zvb2QnLCBtdWx0aXBsaWVyOiAxLjUsIGVuZFRpbWU6IERhdGUubm93KCkgKyA2MDAwMCB9XX0pKTsgYWRkVG9Mb2coYFVzZWQgJHtpdGVtLm5hbWV9LiBGb29kIGdhdGhlcmluZyBib29zdGVkIGJ5IDUwJSBmb3IgNjBzLmAsICdpdGVtJyk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2hhcmRfb2ZfdGhlX2FuY2llbnRzJzpcbiAgICAgICAgICAgICAgICBpZiAoY29uc3RydWN0aW9uVGFza3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXNrID0gY29uc3RydWN0aW9uVGFza3Muc29ydCgoYSxiKSA9PiAoYi5zdGFydFRpbWUgKyBiLmR1cmF0aW9uKSAtIChhLnN0YXJ0VGltZSArIGEuZHVyYXRpb24pKVswXTtcbiAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocCA9PiBwLmZpbHRlcih0ID0+IHQuaWQgIT09IHRhc2suaWQpKTsgaGFuZGxlVGFza0NvbXBsZXRpb24odGFzayk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFRvTG9nKGBVc2VkICR7aXRlbS5uYW1lfSB0byBpbnN0YW50bHkgY29tcGxldGUgdGhlICR7YnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSB0YXNrLnBheWxvYWQ/LmJ1aWxkaW5nVHlwZSk/Lm5hbWV9LmAsICdpdGVtJyk7XG4gICAgICAgICAgICAgICAgfSBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2hlYXJ0X29mX3RoZV9tb3VudGFpbic6XG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlQnVmZnMocCA9PiAoey4uLnAsIHJlc291cmNlQm9vc3Q6IFsuLi4ocC5yZXNvdXJjZUJvb3N0IHx8IFtdKSwgeyByZXNvdXJjZTogJ2dvbGQnLCBtdWx0aXBsaWVyOiAyLCBlbmRUaW1lOiBEYXRlLm5vdygpICsgMTIwMDAwIH0sIHsgcmVzb3VyY2U6ICdzdG9uZScsIG11bHRpcGxpZXI6IDIsIGVuZFRpbWU6IERhdGUubm93KCkgKyAxMjAwMDAgfV19KSk7XG4gICAgICAgICAgICAgICAgYWRkVG9Mb2coYFVzZWQgJHtpdGVtLm5hbWV9LiBHb2xkIGFuZCBTdG9uZSBnYXRoZXJpbmcgZG91YmxlZCBmb3IgMiBtaW51dGVzLmAsICdpdGVtJyk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYmFubmVyX29mX2NvbW1hbmQnOlxuICAgICAgICAgICAgICAgIHNldEFjdGl2ZUJ1ZmZzKHAgPT4gKHsuLi5wLCBwZXJtYW5lbnRUcmFpblRpbWVSZWR1Y3Rpb246IChwLnBlcm1hbmVudFRyYWluVGltZVJlZHVjdGlvbiB8fCAwKSArIDAuMDV9KSk7XG4gICAgICAgICAgICAgICAgYWRkVG9Mb2coYFVzZWQgJHtpdGVtLm5hbWV9LiBNaWxpdGFyeSB1bml0cyB0cmFpbiA1JSBmYXN0ZXIsIHBlcm1hbmVudGx5LmAsICdpdGVtJyk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnd2hpc3Blcl9vZl90aGVfY3JlYXRvcic6XG4gICAgICAgICAgICAgICAgY29uc3QgdGFza3MgPSBbLi4uYWN0aXZlVGFza3NdOyBzZXRBY3RpdmVUYXNrcyhbXSk7IHRhc2tzLmZvckVhY2goaGFuZGxlVGFza0NvbXBsZXRpb24pO1xuICAgICAgICAgICAgICAgIGFkZFRvTG9nKGBBIGRpdmluZSB3aGlzcGVyIGVjaG9lcywgYW5kIGFsbCB3b3JrIGlzIGluc3RhbnRseSBmaW5pc2hlZC5gLCAnaXRlbScpOyBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBzZXRJbnZlbnRvcnkocHJldiA9PiBwcmV2LmZpbHRlcihpID0+IGkuaWQgIT09IGl0ZW1JZCkpOyBzZXRJbnZlbnRvcnlQYW5lbFN0YXRlKHtpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsfSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBidWlsZGluZ0NvdW50cyA9IGJ1aWxkaW5nTGlzdC5yZWR1Y2UoKGFjYywgYikgPT4geyBhY2NbYi5pZF0gPSBidWlsZGluZ3NbYi5pZF0/Lmxlbmd0aCB8fCAwOyByZXR1cm4gYWNjOyB9LCB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+KTtcbiAgICBjb25zdCBpZGxlVmlsbGFnZXJDb3VudCA9IHVuaXRzLnZpbGxhZ2Vycy5maWx0ZXIodiA9PiAhdi5jdXJyZW50VGFzaykubGVuZ3RoO1xuICAgIGNvbnN0IGFzc2lnbm1lbnRUYXJnZXQgPSBhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRUeXBlID09PSAncmVzb3VyY2UnID8gcmVzb3VyY2VOb2Rlcy5maW5kKG4gPT4gbi5pZCA9PT0gYXNzaWdubWVudFBhbmVsU3RhdGUudGFyZ2V0SWQpIDogYWN0aXZlVGFza3MuZmluZCh0ID0+IHQudHlwZSA9PT0gJ2J1aWxkJyAmJiB0LmlkID09PSBhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRJZCk7XG4gICAgXG4gICAgY29uc3QgY3VycmVudEFnZUluZGV4ID0gYWdlUHJvZ3Jlc3Npb25MaXN0LmZpbmRJbmRleChhID0+IGEubmFtZSA9PT0gY3VycmVudEFnZSk7XG4gICAgY29uc3QgYXZhaWxhYmxlQnVpbGRpbmdzID0gYnVpbGRpbmdMaXN0LmZpbHRlcihiID0+IHtcbiAgICAgICAgY29uc3QgdW5sb2NrQWdlSW5kZXggPSBhZ2VQcm9ncmVzc2lvbkxpc3QuZmluZEluZGV4KGEgPT4gYS5uYW1lID09PSBiLnVubG9ja2VkSW5BZ2UpO1xuICAgICAgICByZXR1cm4gdW5sb2NrQWdlSW5kZXggIT09IC0xICYmIHVubG9ja0FnZUluZGV4IDw9IGN1cnJlbnRBZ2VJbmRleDtcbiAgICB9KTtcblxuICAgIGNvbnN0IGNsb3NlQWxsUGFuZWxzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBzZXRVbml0TWFuYWdlbWVudFBhbmVsKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgICAgICBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbChwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBpbnN0YW5jZUlkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICAgICAgc2V0QnVpbGRQYW5lbFN0YXRlKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIHZpbGxhZ2VySWQ6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgICAgICBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZShwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgICAgIHNldENpdlBhbmVsU3RhdGUocCA9PiBwLmlzT3BlbiA/IHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgICAgIHNldEFsbEJ1aWxkaW5nc1BhbmVsKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgICAgICBzZXRJbnZlbnRvcnlQYW5lbFN0YXRlKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IGhhbmRsZU9wZW5CdWlsZGluZ1BhbmVsID0gdXNlQ2FsbGJhY2soKHR5cGU6IEJ1aWxkaW5nVHlwZSB8IHN0cmluZywgaW5zdGFuY2VJZDogc3RyaW5nLCByZWN0OiBET01SZWN0KSA9PiB7XG4gICAgICAgIGNsb3NlQWxsUGFuZWxzKCk7XG4gICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiB0cnVlLCB0eXBlLCBpbnN0YW5jZUlkLCBhbmNob3JSZWN0OiByZWN0IH0pO1xuICAgIH0sIFtjbG9zZUFsbFBhbmVsc10pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgaGFuZGxlQ2xpY2tPdXRzaWRlID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgRWxlbWVudDtcbiAgICAgICAgICAgIGlmICghdGFyZ2V0LmNsb3Nlc3QoJy5zY2ktZmktcGFuZWwtcG9wdXAnKSkgY2xvc2VBbGxQYW5lbHMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgfSwgW2Nsb3NlQWxsUGFuZWxzXSk7XG5cbiAgICBjb25zdCByZW5kZXJDb250ZW50ID0gKCkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGdhbWVTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lU3RhdHVzLk1FTlU6IHJldHVybiA8U3RhcnRTY3JlZW4gb25OZXdHYW1lPXtoYW5kbGVTdGFydE5ld0dhbWV9IG9uUmVzdW1lR2FtZT17aGFuZGxlUmVzdW1lR2FtZX0gc2F2ZWRHYW1lcz17YWxsU2F2ZXN9IG9uRGVsZXRlR2FtZT17aGFuZGxlRGVsZXRlR2FtZX0gLz47XG4gICAgICAgICAgICBjYXNlIEdhbWVTdGF0dXMuTE9BRElORzogcmV0dXJuIDxMb2FkaW5nU2NyZWVuIC8+O1xuICAgICAgICAgICAgY2FzZSBHYW1lU3RhdHVzLlBMQVlJTkc6XG4gICAgICAgICAgICAgICAgaWYgKCFjaXZpbGl6YXRpb24pIHJldHVybiA8TG9hZGluZ1NjcmVlbiAvPjtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEdhbWVVSVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpdmlsaXphdGlvbj17Y2l2aWxpemF0aW9ufSByZXNvdXJjZXM9e3Jlc291cmNlc30gdW5pdHM9e3VuaXRzfSBidWlsZGluZ3M9e2J1aWxkaW5nc30gcG9wdWxhdGlvbj17cG9wdWxhdGlvbn0gY3VycmVudEFnZT17Y3VycmVudEFnZX0gZ2FtZUxvZz17Z2FtZUxvZ30gcmVzb3VyY2VEZWx0YXM9e3Jlc291cmNlRGVsdGFzfSBhY3Rpdml0eVN0YXR1cz17YWN0aXZpdHlTdGF0dXN9IHVuaXRMaXN0PXt1bml0TGlzdH0gYnVpbGRpbmdMaXN0PXtidWlsZGluZ0xpc3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuVW5pdFBhbmVsPXsodHlwZSwgcmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRVbml0TWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiB0cnVlLCB0eXBlLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkJ1aWxkaW5nUGFuZWw9e2hhbmRsZU9wZW5CdWlsZGluZ1BhbmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkFsbEJ1aWxkaW5nc1BhbmVsPXsocmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRBbGxCdWlsZGluZ3NQYW5lbCh7IGlzT3BlbjogdHJ1ZSwgYW5jaG9yUmVjdDogcmVjdCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJBY3Rpb249e3BsYXllckFjdGlvbn0gb25Db25maXJtUGxhY2VtZW50PXtoYW5kbGVDb25maXJtUGxhY2VtZW50fSBvbkNhbmNlbFBsYXllckFjdGlvbj17aGFuZGxlQ2FuY2VsUGxheWVyQWN0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQnVpbGRpbmdDbGljaz17KGJ1aWxkaW5nLCByZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IGNvbnN0IHR5cGUgPSBPYmplY3Qua2V5cyhidWlsZGluZ3MpLmZpbmQoa2V5ID0+IGJ1aWxkaW5nc1trZXkgYXMgc3RyaW5nXT8uc29tZShiID0+IGIuaWQgPT09IGJ1aWxkaW5nLmlkKSk7IGlmKHR5cGUpIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiB0cnVlLCB0eXBlLCBpbnN0YW5jZUlkOiBidWlsZGluZy5pZCwgYW5jaG9yUmVjdDogcmVjdCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBEaW1lbnNpb25zPXtNQVBfRElNRU5TSU9OU30gYWN0aXZlVGFza3M9e2FjdGl2ZVRhc2tzfSBvbkV4aXRHYW1lPXtoYW5kbGVFeGl0R2FtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5DaXZQYW5lbD17KHJlY3QpID0+IHsgY2xvc2VBbGxQYW5lbHMoKTsgc2V0Q2l2UGFuZWxTdGF0ZSh7IGlzT3BlbjogdHJ1ZSwgYW5jaG9yUmVjdDogcmVjdCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZU5vZGVzPXtyZXNvdXJjZU5vZGVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkFzc2lnbm1lbnRQYW5lbD17KG5vZGVJZCwgcmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZSh7IGlzT3BlbjogdHJ1ZSwgdGFyZ2V0SWQ6IG5vZGVJZCwgdGFyZ2V0VHlwZTogJ3Jlc291cmNlJywgYW5jaG9yUmVjdDogcmVjdCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5Db25zdHJ1Y3Rpb25QYW5lbD17KGNvbnN0cnVjdGlvbklkLCByZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiB0cnVlLCB0YXJnZXRJZDogY29uc3RydWN0aW9uSWQsIHRhcmdldFR5cGU6ICdjb25zdHJ1Y3Rpb24nLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhdGhlckluZm89e0dBVEhFUl9JTkZPfSBjdXJyZW50RXZlbnQ9e2N1cnJlbnRFdmVudH0gb25FdmVudENob2ljZT17aGFuZGxlRXZlbnRDaG9pY2V9IGludmVudG9yeT17aW52ZW50b3J5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkludmVudG9yeVBhbmVsPXsocmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRJbnZlbnRvcnlQYW5lbFN0YXRlKHsgaXNPcGVuOiB0cnVlLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdWlsZFBhbmVsIGlzT3Blbj17YnVpbGRQYW5lbFN0YXRlLmlzT3Blbn0gb25DbG9zZT17KCkgPT4gc2V0QnVpbGRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdmlsbGFnZXJJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KX0gb25TdGFydFBsYWNlbWVudD17aGFuZGxlU3RhcnRQbGFjZW1lbnR9IHJlc291cmNlcz17cmVzb3VyY2VzfSBidWlsZGluZ0NvdW50cz17YnVpbGRpbmdDb3VudHN9IGJ1aWxkaW5nTGlzdD17YXZhaWxhYmxlQnVpbGRpbmdzfSBhbmNob3JSZWN0PXtidWlsZFBhbmVsU3RhdGUuYW5jaG9yUmVjdH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxVbml0TWFuYWdlbWVudFBhbmVsIGlzT3Blbj17dW5pdE1hbmFnZW1lbnRQYW5lbC5pc09wZW59IG9uQ2xvc2U9eygpID0+IHNldFVuaXRNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pfSB0eXBlPXt1bml0TWFuYWdlbWVudFBhbmVsLnR5cGV9IHVuaXRzPXt1bml0c30gb25VcGRhdGVVbml0PXtoYW5kbGVVcGRhdGVVbml0fSBvbkRpc21pc3NVbml0PXtoYW5kbGVEaXNtaXNzU3BlY2lmaWNVbml0fSBvbkluaXRpYXRlQnVpbGQ9eyh2aWxsYWdlcklkLCByZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IGhhbmRsZUluaXRpYXRlQnVpbGQodmlsbGFnZXJJZCwgcmVjdCk7IH19IGdldFZpbGxhZ2VyVGFza0RldGFpbHM9e2dldFZpbGxhZ2VyVGFza0RldGFpbHN9IGFuY2hvclJlY3Q9e3VuaXRNYW5hZ2VtZW50UGFuZWwuYW5jaG9yUmVjdH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCBpc09wZW49e2J1aWxkaW5nTWFuYWdlbWVudFBhbmVsLmlzT3Blbn0gb25DbG9zZT17KCkgPT4gc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pfSBwYW5lbFN0YXRlPXtidWlsZGluZ01hbmFnZW1lbnRQYW5lbH0gYnVpbGRpbmdzPXtidWlsZGluZ3N9IGJ1aWxkaW5nTGlzdD17YnVpbGRpbmdMaXN0fSBvblVwZGF0ZUJ1aWxkaW5nPXtoYW5kbGVVcGRhdGVCdWlsZGluZ30gb25EZW1vbGlzaEJ1aWxkaW5nPXtoYW5kbGVEZW1vbGlzaEJ1aWxkaW5nfSBvblRyYWluVW5pdHM9e2hhbmRsZVRyYWluVW5pdHN9IG9uVHJhaW5WaWxsYWdlcnM9e2hhbmRsZVRyYWluVmlsbGFnZXJzfSByZXNvdXJjZXM9e3Jlc291cmNlc30gcG9wdWxhdGlvbj17cG9wdWxhdGlvbn0gdW5pdExpc3Q9e3VuaXRMaXN0fSBvbkFkdmFuY2VBZ2U9e2hhbmRsZUFkdmFuY2VBZ2V9IGFjdGl2ZVRhc2tzPXthY3RpdmVUYXNrc30gYW5jaG9yUmVjdD17YnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwuYW5jaG9yUmVjdH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxSZXNvdXJjZUFzc2lnbm1lbnRQYW5lbCBpc09wZW49e2Fzc2lnbm1lbnRQYW5lbFN0YXRlLmlzT3Blbn0gb25DbG9zZT17KCkgPT4gc2V0QXNzaWdubWVudFBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KX0gYXNzaWdubWVudFRhcmdldD17YXNzaWdubWVudFRhcmdldCB8fCBudWxsfSBpZGxlVmlsbGFnZXJDb3VudD17aWRsZVZpbGxhZ2VyQ291bnR9IG9uQXNzaWduVmlsbGFnZXJzPXtoYW5kbGVBc3NpZ25WaWxsYWdlcnN9IG9uUmVjYWxsVmlsbGFnZXJzPXtoYW5kbGVSZWNhbGxWaWxsYWdlcnN9IGdhdGhlckluZm89e0dBVEhFUl9JTkZPfSBidWlsZGluZ0xpc3Q9e2J1aWxkaW5nTGlzdH0gdW5pdHM9e3VuaXRzfSBhbmNob3JSZWN0PXthc3NpZ25tZW50UGFuZWxTdGF0ZS5hbmNob3JSZWN0fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPENpdmlsaXphdGlvblBhbmVsIGlzT3Blbj17Y2l2UGFuZWxTdGF0ZS5pc09wZW59IG9uQ2xvc2U9eygpID0+IHNldENpdlBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0pfSBjaXZpbGl6YXRpb249e2NpdmlsaXphdGlvbn0gYW5jaG9yUmVjdD17Y2l2UGFuZWxTdGF0ZS5hbmNob3JSZWN0fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEFsbEJ1aWxkaW5nc1BhbmVsIGlzT3Blbj17YWxsQnVpbGRpbmdzUGFuZWwuaXNPcGVufSBvbkNsb3NlPXsoKSA9PiBzZXRBbGxCdWlsZGluZ3NQYW5lbCh7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSl9IGJ1aWxkaW5nTGlzdD17YnVpbGRpbmdMaXN0fSBidWlsZGluZ0NvdW50cz17YnVpbGRpbmdDb3VudHN9IGFjdGl2ZVRhc2tzPXthY3RpdmVUYXNrc30gb25PcGVuQnVpbGRpbmdQYW5lbD17aGFuZGxlT3BlbkJ1aWxkaW5nUGFuZWx9IGFuY2hvclJlY3Q9e2FsbEJ1aWxkaW5nc1BhbmVsLmFuY2hvclJlY3R9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8SW52ZW50b3J5UGFuZWwgaXNPcGVuPXtpbnZlbnRvcnlQYW5lbFN0YXRlLmlzT3Blbn0gb25DbG9zZT17KCkgPT4gc2V0SW52ZW50b3J5UGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSl9IGludmVudG9yeT17aW52ZW50b3J5fSBvblVzZUl0ZW09e2hhbmRsZVVzZUl0ZW19IGFjdGl2ZVRhc2tzPXthY3RpdmVUYXNrc30gYWN0aXZlQnVmZnM9e2FjdGl2ZUJ1ZmZzfSBhbmNob3JSZWN0PXtpbnZlbnRvcnlQYW5lbFN0YXRlLmFuY2hvclJlY3R9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gPFN0YXJ0U2NyZWVuIG9uTmV3R2FtZT17aGFuZGxlU3RhcnROZXdHYW1lfSBvblJlc3VtZUdhbWU9e2hhbmRsZVJlc3VtZUdhbWV9IHNhdmVkR2FtZXM9e2FsbFNhdmVzfSBvbkRlbGV0ZUdhbWU9e2hhbmRsZURlbGV0ZUdhbWV9IC8+O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLXN0b25lLWRhcmsgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC00XCI+XG4gICAgICAgICAgICB7Z2FtZVN0YXRlID09PSBHYW1lU3RhdHVzLlBMQVlJTkcgJiYgKFxuICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZVVubGltaXRlZFJlc291cmNlc30gY2xhc3NOYW1lPVwiZml4ZWQgYm90dG9tLTQgbGVmdC00IHotWzEwMV0gYmctYnJhbmQtZ29sZCB0ZXh0LXN0b25lLWRhcmsgZm9udC1ib2xkIHB5LTEgcHgtMyByb3VuZGVkLWZ1bGwgdGV4dC14cyBzaGFkb3ctbGcgaG92ZXI6c2NhbGUtMTA1IHRyYW5zaXRpb24tdHJhbnNmb3JtXCIgYXJpYS1sYWJlbD1cIlRvZ2dsZSB1bmxpbWl0ZWQgcmVzb3VyY2VzIHRlc3QgbW9kZVwiPlRlc3QgTW9kZToge3VubGltaXRlZFJlc291cmNlcyA/ICdPTicgOiAnT0ZGJ308L2J1dHRvbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8Tm90aWZpY2F0aW9uTWFuYWdlciBub3RpZmljYXRpb25zPXtub3RpZmljYXRpb25zfSBvblJlbW92ZU5vdGlmaWNhdGlvbj17cmVtb3ZlTm90aWZpY2F0aW9ufSAvPlxuICAgICAgICAgICAgPG1haW4gY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LTd4bCBteC1hdXRvXCI+XG4gICAgICAgICAgICAgICAge3JlbmRlckNvbnRlbnQoKX1cbiAgICAgICAgICAgIDwvbWFpbj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdhbWVQYWdlO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZVJlZiIsIkdhbWVTdGF0dXMiLCJnZXRQcmVkZWZpbmVkQ2l2aWxpemF0aW9uIiwiZ2V0UHJlZGVmaW5lZEdhbWVFdmVudCIsInNhdmVHYW1lU3RhdGUiLCJsb2FkR2FtZVN0YXRlIiwiZ2V0QWxsU2F2ZU5hbWVzIiwiZGVsZXRlR2FtZVN0YXRlIiwiZ2V0QWxsQWdlQ29uZmlncyIsImdldEFsbEJ1aWxkaW5nQ29uZmlncyIsImdldEFsbFVuaXRDb25maWdzIiwiZ2V0UmFuZG9tTmFtZXMiLCJHQU1FX0lURU1TIiwiR2FtZVVJIiwiU3RhcnRTY3JlZW4iLCJMb2FkaW5nU2NyZWVuIiwiQnVpbGRQYW5lbCIsIk5vdGlmaWNhdGlvbk1hbmFnZXIiLCJVbml0TWFuYWdlbWVudFBhbmVsIiwiQnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwiLCJSZXNvdXJjZUFzc2lnbm1lbnRQYW5lbCIsIkNpdmlsaXphdGlvblBhbmVsIiwiQWxsQnVpbGRpbmdzUGFuZWwiLCJJbnZlbnRvcnlQYW5lbCIsIkdBVEhFUl9JTkZPIiwiZm9vZCIsInJhdGUiLCJ3b29kIiwiZ29sZCIsInN0b25lIiwiaW5pdGlhbEJ1aWxkaW5nc1N0YXRlIiwiaG91c2VzIiwiYmFycmFja3MiLCJhcmNoZXJ5UmFuZ2UiLCJzdGFibGUiLCJzaWVnZVdvcmtzaG9wIiwiYmxhY2tzbWl0aCIsIndhdGNoVG93ZXIiLCJ0b3duQ2VudGVyIiwiTUFQX0RJTUVOU0lPTlMiLCJ3aWR0aCIsImhlaWdodCIsIkZBTExCQUNLX0FHRVMiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJHYW1lUGFnZSIsImJ1aWxkaW5ncyIsImdhbWVTdGF0ZSIsInNldEdhbWVTdGF0ZSIsIk1FTlUiLCJjaXZpbGl6YXRpb24iLCJzZXRDaXZpbGl6YXRpb24iLCJyZXNvdXJjZXMiLCJzZXRSZXNvdXJjZXMiLCJ1bml0cyIsInNldFVuaXRzIiwidmlsbGFnZXJzIiwibWlsaXRhcnkiLCJzZXRCdWlsZGluZ3MiLCJjdXJyZW50QWdlIiwic2V0Q3VycmVudEFnZSIsImdhbWVMb2ciLCJzZXRHYW1lTG9nIiwiY3VycmVudEV2ZW50Iiwic2V0Q3VycmVudEV2ZW50IiwicmVzb3VyY2VEZWx0YXMiLCJzZXRSZXNvdXJjZURlbHRhcyIsImFjdGl2aXR5U3RhdHVzIiwic2V0QWN0aXZpdHlTdGF0dXMiLCJub3RpZmljYXRpb25zIiwic2V0Tm90aWZpY2F0aW9ucyIsInVubGltaXRlZFJlc291cmNlcyIsInNldFVubGltaXRlZFJlc291cmNlcyIsImFsbFNhdmVzIiwic2V0QWxsU2F2ZXMiLCJjdXJyZW50U2F2ZU5hbWUiLCJzZXRDdXJyZW50U2F2ZU5hbWUiLCJwbGF5ZXJBY3Rpb24iLCJzZXRQbGF5ZXJBY3Rpb24iLCJhY3RpdmVUYXNrcyIsInNldEFjdGl2ZVRhc2tzIiwicmVzb3VyY2VOb2RlcyIsInNldFJlc291cmNlTm9kZXMiLCJpbnZlbnRvcnkiLCJzZXRJbnZlbnRvcnkiLCJhY3RpdmVCdWZmcyIsInNldEFjdGl2ZUJ1ZmZzIiwicmVzb3VyY2VCb29zdCIsImFnZVByb2dyZXNzaW9uTGlzdCIsInNldEFnZVByb2dyZXNzaW9uTGlzdCIsImJ1aWxkaW5nTGlzdCIsInNldEJ1aWxkaW5nTGlzdCIsInVuaXRMaXN0Iiwic2V0VW5pdExpc3QiLCJidWlsZFBhbmVsU3RhdGUiLCJzZXRCdWlsZFBhbmVsU3RhdGUiLCJpc09wZW4iLCJ2aWxsYWdlcklkIiwiYW5jaG9yUmVjdCIsInVuaXRNYW5hZ2VtZW50UGFuZWwiLCJzZXRVbml0TWFuYWdlbWVudFBhbmVsIiwidHlwZSIsImJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsIiwic2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwiLCJpbnN0YW5jZUlkIiwiYWxsQnVpbGRpbmdzUGFuZWwiLCJzZXRBbGxCdWlsZGluZ3NQYW5lbCIsImFzc2lnbm1lbnRQYW5lbFN0YXRlIiwic2V0QXNzaWdubWVudFBhbmVsU3RhdGUiLCJ0YXJnZXRJZCIsInRhcmdldFR5cGUiLCJjaXZQYW5lbFN0YXRlIiwic2V0Q2l2UGFuZWxTdGF0ZSIsImludmVudG9yeVBhbmVsU3RhdGUiLCJzZXRJbnZlbnRvcnlQYW5lbFN0YXRlIiwiZGVsdGFUaW1lb3V0UmVmIiwiZXZlbnRUaW1lclJlZiIsImxhc3RUaWNrUmVmIiwiRGF0ZSIsIm5vdyIsImFuaW1hdGlvbkZyYW1lUmVmIiwicG9wdWxhdGlvbiIsImN1cnJlbnQiLCJsZW5ndGgiLCJjYXBhY2l0eSIsImZldGNoU2F2ZXNBbmRDb25maWdzIiwibmFtZXMiLCJhbGxBZ2VDb25maWdzIiwiYWN0aXZlQWdlcyIsImZpbHRlciIsImFnZSIsImlzQWN0aXZlIiwibWFwIiwiYSIsImFsbEJ1aWxkaW5nQ29uZmlncyIsImIiLCJhbGxVbml0Q29uZmlncyIsInUiLCJQTEFZSU5HIiwiZnVsbFN0YXRlIiwiYWRkTm90aWZpY2F0aW9uIiwibWVzc2FnZSIsImlkIiwiTWF0aCIsInJhbmRvbSIsInByZXYiLCJyZW1vdmVOb3RpZmljYXRpb24iLCJuIiwiYWRkVG9Mb2ciLCJpY29uIiwic2xpY2UiLCJ1cGRhdGVSZXNvdXJjZXMiLCJkZWx0YXMiLCJuZXdSZXNvdXJjZXMiLCJrZXkiLCJyZXNvdXJjZUtleSIsIm1heCIsIndpbmRvdyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJuZXdEZWx0YXMiLCJoYW5kbGVUYXNrQ29tcGxldGlvbiIsInRhc2siLCJwYXlsb2FkIiwidmlsbGFnZXJJZHMiLCJ2IiwiaW5jbHVkZXMiLCJjdXJyZW50VGFzayIsImJ1aWxkaW5nVHlwZSIsInBvc2l0aW9uIiwiYnVpbGRpbmdJbmZvIiwiZmluZCIsIm5ld0J1aWxkaW5nIiwiY3VycmVudEhwIiwiaHAiLCJwIiwiY3VycmVudEJ1aWxkaW5ncyIsImljb25JZCIsImNvdW50IiwibmV3VmlsbGFnZXJOYW1lcyIsIm5ld1ZpbGxhZ2VycyIsInVuaXRUeXBlIiwidW5pdEluZm8iLCJuZXdVbml0TmFtZXMiLCJuZXdVbml0cyIsInRpdGxlIiwiY3VycmVudEluZGV4IiwiZmluZEluZGV4IiwiYWdlUmVzdWx0IiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJnYW1lTG9vcCIsImRlbHRhVGltZSIsImNvbXBsZXRlZFRhc2tzIiwicmVzb3VyY2VEZWx0YXNUaGlzVGljayIsIm5ld1Jlc291cmNlQm9vc3RzIiwiZW5kVGltZSIsInRhc2tzSW5Qcm9ncmVzcyIsInN0YXJ0VGltZSIsImR1cmF0aW9uIiwicHVzaCIsIm5vZGUiLCJyZXNvdXJjZU5vZGVJZCIsInZpbGxhZ2VyQ291bnQiLCJiYXNlUmF0ZVBlclNlY29uZCIsImNpdkJvbnVzTXVsdGlwbGllciIsImJvbnVzIiwidG9Mb3dlckNhc2UiLCJtYXRjaCIsInBhcnNlSW50IiwiaXRlbUJvb3N0TXVsdGlwbGllciIsInJlc291cmNlIiwibXVsdGlwbGllciIsImZpbmFsUmF0ZVBlclNlY29uZCIsIkJvb2xlYW4iLCJPYmplY3QiLCJrZXlzIiwicHJldk5vZGVzIiwiYW1vdW50VG9EZWNyZW1lbnQiLCJuZXdBbW91bnQiLCJhbW91bnQiLCJ0YXNrSWQiLCJ0IiwiZmxvb3IiLCJmaW5hbEFjdGl2ZVRhc2tzIiwic29tZSIsImN0IiwiZm9yRWFjaCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImhhbmRsZU5ld0V2ZW50IiwiZXZlbnQiLCJzY2hlZHVsZU5leHRFdmVudCIsImdlbmVyYXRlUmVzb3VyY2VOb2RlcyIsImV4aXN0aW5nUG9zaXRpb25zIiwibm9kZXMiLCJ0eXBlcyIsIm51bU5vZGVzIiwiaSIsInBvcyIsIngiLCJ5IiwiaGFzIiwiYWRkIiwiaGFuZGxlU3RhcnROZXdHYW1lIiwic2F2ZU5hbWUiLCJMT0FESU5HIiwiY2l2IiwiaW5pdGlhbFZpbGxhZ2VycyIsInRjUG9zaXRpb24iLCJ0Y0luZm8iLCJpbml0aWFsVEMiLCJTZXQiLCJpc1ZpbGxhZ2VyQnVzeSIsImdldFZpbGxhZ2VyVGFza0RldGFpbHMiLCJ2aWxsYWdlciIsImhhbmRsZVJlc3VtZUdhbWUiLCJzYXZlZFN0YXRlIiwibWlncmF0ZWRWaWxsYWdlcnMiLCJ1bmRlZmluZWQiLCJtaWdyYXRlZFRhc2tzIiwidmlkIiwiY29uc3RydWN0aW9uVGFza3MiLCJvY2N1cGllZENlbGxzIiwidmFsdWVzIiwiZmxhdCIsImZpbmFsQnVpbGRpbmdzIiwiYlR5cGUiLCJpbmZvIiwidGNQb3MiLCJoYW5kbGVFdmVudENob2ljZSIsImNob2ljZSIsImNvc3QiLCJtaXNzaW5nIiwicmVzIiwiam9pbiIsImVudHJpZXMiLCJyZWR1Y2UiLCJhY2MiLCJrIiwiaXNTdWNjZXNzIiwic3VjY2Vzc0NoYW5jZSIsImVmZmVjdHMiLCJzdWNjZXNzRWZmZWN0cyIsImZhaWx1cmVFZmZlY3RzIiwibG9nTWVzc2FnZSIsInRleHQiLCJsb2ciLCJyZXdhcmRzIiwicmV3YXJkIiwiQXJyYXkiLCJpc0FycmF5IiwiYWJzIiwiaXRlbUluZm8iLCJpdGVtSWQiLCJuZXdJdGVtcyIsImZyb20iLCJfIiwiaGFuZGxlSW5pdGlhdGVCdWlsZCIsInJlY3QiLCJoYW5kbGVTdGFydFBsYWNlbWVudCIsImJ1aWxkaW5nSWQiLCJleGlzdGluZ0NvdW50IiwiY29uc3RydWN0aW5nQ291bnQiLCJ0b3RhbENvdW50IiwibGltaXQiLCJpc1VuaXF1ZSIsImJ1aWxkTGltaXQiLCJtb2RlIiwiaGFuZGxlQ29uZmlybVBsYWNlbWVudCIsImJ1aWxkZXIiLCJidWlsZFRpbWUiLCJidWlsZFRpbWVSZWR1Y3Rpb24iLCJwZXJjZW50YWdlIiwidXNlcyIsInRhc2tQYXlsb2FkIiwiaGFuZGxlQ2FuY2VsUGxheWVyQWN0aW9uIiwiaGFuZGxlRGVtb2xpc2hCdWlsZGluZyIsImJ1aWxkaW5nSW5zdGFuY2UiLCJyZWZ1bmQiLCJyIiwiaGFuZGxlVXBkYXRlQnVpbGRpbmciLCJoYW5kbGVUcmFpblZpbGxhZ2VycyIsInRvdGFsQ29zdCIsImhhbmRsZVRyYWluVW5pdHMiLCJ0cmFpbmluZ0J1aWxkaW5nIiwicmVxdWlyZWRCdWlsZGluZyIsInRyYWluVGltZSIsInBlcm1hbmVudFRyYWluVGltZVJlZHVjdGlvbiIsInRyYWluVGltZVJlZHVjdGlvbiIsImFwcGxpY2FibGUiLCJtaW4iLCJoYW5kbGVEaXNtaXNzU3BlY2lmaWNVbml0IiwidW5pdCIsInVuaXRUeXBlTmFtZSIsImhhbmRsZVVwZGF0ZVVuaXQiLCJoYW5kbGVBc3NpZ25WaWxsYWdlcnNUb0NvbnN0cnVjdGlvbiIsImNvbnN0cnVjdGlvbklkIiwiaWRsZVZpbGxhZ2VycyIsImNhcHBlZENvdW50IiwidmlsbGFnZXJzVG9Bc3NpZ24iLCJ3b3JrRG9uZSIsIndvcmtSZW1haW5pbmciLCJuZXdXb3JrZXJDb3VudCIsIm5ld1JlbWFpbmluZ0R1cmF0aW9uIiwiaGFuZGxlQXNzaWduVmlsbGFnZXJzIiwidGFyZ2V0Tm9kZSIsImV4aXN0aW5nVGFzayIsImhhbmRsZVJlY2FsbFZpbGxhZ2VycyIsInZpbGxhZ2Vyc1RvUmVjYWxsIiwicmVtYWluaW5nVmlsbGFnZXJzIiwiaGFuZGxlQWR2YW5jZUFnZSIsImhhbmRsZUV4aXRHYW1lIiwiaGFuZGxlRGVsZXRlR2FtZSIsImhhbmRsZVRvZ2dsZVVubGltaXRlZFJlc291cmNlcyIsIm5ld01vZGUiLCJkZXBsZXRlZE5vZGVJZHMiLCJzaXplIiwiaGFuZGxlVXNlSXRlbSIsIml0ZW0iLCJiYXNlSXRlbUlkIiwic3BsaXQiLCJzb3J0IiwidGFza3MiLCJidWlsZGluZ0NvdW50cyIsImlkbGVWaWxsYWdlckNvdW50IiwiYXNzaWdubWVudFRhcmdldCIsImN1cnJlbnRBZ2VJbmRleCIsImF2YWlsYWJsZUJ1aWxkaW5ncyIsInVubG9ja0FnZUluZGV4IiwidW5sb2NrZWRJbkFnZSIsImNsb3NlQWxsUGFuZWxzIiwiaGFuZGxlT3BlbkJ1aWxkaW5nUGFuZWwiLCJoYW5kbGVDbGlja091dHNpZGUiLCJ0YXJnZXQiLCJjbG9zZXN0IiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbmRlckNvbnRlbnQiLCJvbk5ld0dhbWUiLCJvblJlc3VtZUdhbWUiLCJzYXZlZEdhbWVzIiwib25EZWxldGVHYW1lIiwib25PcGVuVW5pdFBhbmVsIiwib25PcGVuQnVpbGRpbmdQYW5lbCIsIm9uT3BlbkFsbEJ1aWxkaW5nc1BhbmVsIiwib25Db25maXJtUGxhY2VtZW50Iiwib25DYW5jZWxQbGF5ZXJBY3Rpb24iLCJvbkJ1aWxkaW5nQ2xpY2siLCJidWlsZGluZyIsIm1hcERpbWVuc2lvbnMiLCJvbkV4aXRHYW1lIiwib25PcGVuQ2l2UGFuZWwiLCJvbk9wZW5Bc3NpZ25tZW50UGFuZWwiLCJub2RlSWQiLCJvbk9wZW5Db25zdHJ1Y3Rpb25QYW5lbCIsImdhdGhlckluZm8iLCJvbkV2ZW50Q2hvaWNlIiwib25PcGVuSW52ZW50b3J5UGFuZWwiLCJvbkNsb3NlIiwib25TdGFydFBsYWNlbWVudCIsIm9uVXBkYXRlVW5pdCIsIm9uRGlzbWlzc1VuaXQiLCJvbkluaXRpYXRlQnVpbGQiLCJwYW5lbFN0YXRlIiwib25VcGRhdGVCdWlsZGluZyIsIm9uRGVtb2xpc2hCdWlsZGluZyIsIm9uVHJhaW5Vbml0cyIsIm9uVHJhaW5WaWxsYWdlcnMiLCJvbkFkdmFuY2VBZ2UiLCJvbkFzc2lnblZpbGxhZ2VycyIsIm9uUmVjYWxsVmlsbGFnZXJzIiwib25Vc2VJdGVtIiwiZGl2IiwiY2xhc3NOYW1lIiwiYnV0dG9uIiwib25DbGljayIsImFyaWEtbGFiZWwiLCJvblJlbW92ZU5vdGlmaWNhdGlvbiIsIm1haW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./types.ts":
/*!******************!*\
  !*** ./types.ts ***!
  \******************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GameStatus: function() { return /* binding */ GameStatus; }\n/* harmony export */ });\nvar GameStatus;\n(function(GameStatus) {\n    GameStatus[GameStatus[\"MENU\"] = 0] = \"MENU\";\n    GameStatus[GameStatus[\"LOADING\"] = 1] = \"LOADING\";\n    GameStatus[GameStatus[\"PLAYING\"] = 2] = \"PLAYING\";\n    GameStatus[GameStatus[\"GAME_OVER\"] = 3] = \"GAME_OVER\";\n})(GameStatus || (GameStatus = {}));\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3R5cGVzLnRzIiwibWFwcGluZ3MiOiI7Ozs7O1VBTVlBOzs7OztHQUFBQSxlQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi90eXBlcy50cz81NjUyIl0sInNvdXJjZXNDb250ZW50IjpbIlxuXG5cblxuXG5cbmV4cG9ydCBlbnVtIEdhbWVTdGF0dXMge1xuICAgIE1FTlUsXG4gICAgTE9BRElORyxcbiAgICBQTEFZSU5HLFxuICAgIEdBTUVfT1ZFUixcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDaXZpbGl6YXRpb24ge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBsb3JlOiBzdHJpbmc7XG4gICAgYm9udXM6IHN0cmluZztcbiAgICB1bmlxdWVVbml0OiB7XG4gICAgICAgIG5hbWU6c3RyaW5nO1xuICAgICAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIH07XG4gICAgYmFubmVyVXJsOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb3VyY2VzIHtcbiAgICBmb29kOiBudW1iZXI7XG4gICAgd29vZDogbnVtYmVyO1xuICAgIGdvbGQ6IG51bWJlcjtcbiAgICBzdG9uZTogbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBSZXNvdXJjZURlbHRhcyA9IFBhcnRpYWw8UmVzb3VyY2VzPjtcblxuZXhwb3J0IGludGVyZmFjZSBWaWxsYWdlciB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgY3VycmVudFRhc2s6IHN0cmluZyB8IG51bGw7IC8vIG51bGwgaWYgaWRsZSwgb3RoZXJ3aXNlIHRoZSBJRCBvZiB0aGUgR2FtZVRhc2tcbn1cblxuZXhwb3J0IHR5cGUgTWlsaXRhcnlVbml0VHlwZSA9ICdzd29yZHNtYW4nIHwgJ2FyY2hlcicgfCAna25pZ2h0JyB8ICdjYXRhcHVsdCcgfCBzdHJpbmc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWlsaXRhcnlVbml0IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIHVuaXRUeXBlOiBNaWxpdGFyeVVuaXRUeXBlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVuaXRzIHtcbiAgICB2aWxsYWdlcnM6IFZpbGxhZ2VyW107XG4gICAgbWlsaXRhcnk6IE1pbGl0YXJ5VW5pdFtdO1xufVxuXG5leHBvcnQgdHlwZSBCdWlsZGluZ1R5cGUgPSAnaG91c2VzJyB8ICdiYXJyYWNrcycgfCAnYXJjaGVyeVJhbmdlJyB8ICdzdGFibGUnIHwgJ3NpZWdlV29ya3Nob3AnIHwgJ2JsYWNrc21pdGgnIHwgJ3dhdGNoVG93ZXInIHwgJ3Rvd25DZW50ZXInO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJ1aWxkaW5nSW5zdGFuY2Uge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHBvc2l0aW9uOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyOyB9O1xuICAgIGN1cnJlbnRIcDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJ1aWxkaW5ncyB7XG4gICAgaG91c2VzOiBCdWlsZGluZ0luc3RhbmNlW107XG4gICAgYmFycmFja3M6IEJ1aWxkaW5nSW5zdGFuY2VbXTtcbiAgICBhcmNoZXJ5UmFuZ2U6IEJ1aWxkaW5nSW5zdGFuY2VbXTtcbiAgICBzdGFibGU6IEJ1aWxkaW5nSW5zdGFuY2VbXTtcbiAgICBzaWVnZVdvcmtzaG9wOiBCdWlsZGluZ0luc3RhbmNlW107XG4gICAgYmxhY2tzbWl0aDogQnVpbGRpbmdJbnN0YW5jZVtdO1xuICAgIHdhdGNoVG93ZXI6IEJ1aWxkaW5nSW5zdGFuY2VbXTtcbiAgICBba2V5OiBzdHJpbmddOiBCdWlsZGluZ0luc3RhbmNlW107IC8vIEFsbG93IGZvciBjdXN0b20gYnVpbGRpbmcgdHlwZXNcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHYW1lU3RhdGVQYXlsb2FkIHtcbiAgICBjaXY6IENpdmlsaXphdGlvbjtcbiAgICBhZ2U6IHN0cmluZztcbiAgICByZXM6IFJlc291cmNlcztcbiAgICB1bml0czoge1xuICAgICAgICB2aWxsYWdlcnM6IG51bWJlcjtcbiAgICAgICAgc3dvcmRzbWVuOiBudW1iZXI7XG4gICAgICAgIGFyY2hlcnM6IG51bWJlcjtcbiAgICAgICAga25pZ2h0czogbnVtYmVyO1xuICAgICAgICBjYXRhcHVsdHM6IG51bWJlcjtcbiAgICB9O1xuICAgIGJ1aWxkaW5nczogeyBba2V5IGluIEJ1aWxkaW5nVHlwZV0/OiBudW1iZXIgfTtcbn1cblxuZXhwb3J0IHR5cGUgQnVpbGRpbmdDb3N0cyA9IHsgW2tleSBpbiBrZXlvZiBSZXNvdXJjZXNdPzogbnVtYmVyIH07XG5cbmV4cG9ydCB0eXBlIEl0ZW1SYXJpdHkgPSAnQ29tbW9uJyB8ICdFcGljJyB8ICdMZWdlbmRhcnknIHwgJ1NwaXJpdHVhbCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2FtZUl0ZW0ge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgcmFyaXR5OiBJdGVtUmFyaXR5O1xufVxuXG5leHBvcnQgdHlwZSBSZXdhcmQgPSBcbiAgICB7IHR5cGU6ICdyZXNvdXJjZScsIHJlc291cmNlOiBrZXlvZiBSZXNvdXJjZXMsIGFtb3VudDogbnVtYmVyIHwgW251bWJlciwgbnVtYmVyXSB9IHxcbiAgICB7IHR5cGU6ICdpdGVtJywgaXRlbUlkOiBzdHJpbmcsIGFtb3VudDogbnVtYmVyIH0gfFxuICAgIHsgdHlwZTogJ3VuaXQnLCB1bml0VHlwZTogJ3ZpbGxhZ2VyJywgYW1vdW50OiBudW1iZXIgfTtcblxuZXhwb3J0IGludGVyZmFjZSBHYW1lRXZlbnRDaG9pY2Uge1xuICAgIHRleHQ6IHN0cmluZztcbiAgICBjb3N0PzogQnVpbGRpbmdDb3N0cztcbiAgICBzdWNjZXNzQ2hhbmNlPzogbnVtYmVyOyAvLyAwLTEsIHVuZGVmaW5lZCBtZWFucyAxMDAlXG4gICAgc3VjY2Vzc0VmZmVjdHM6IHsgcmV3YXJkczogUmV3YXJkW10sIGxvZzogc3RyaW5nIH07XG4gICAgZmFpbHVyZUVmZmVjdHM/OiB7IHJld2FyZHM6IFJld2FyZFtdLCBsb2c6IHN0cmluZyB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdhbWVFdmVudCB7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIGNob2ljZXM6IEdhbWVFdmVudENob2ljZVtdO1xufVxuXG5leHBvcnQgdHlwZSBMb2dJY29uVHlwZSA9IGtleW9mIFJlc291cmNlcyB8ICd2aWxsYWdlcicgfCBNaWxpdGFyeVVuaXRUeXBlIHwgJ2FnZScgfCAnZXZlbnQnIHwgJ3N5c3RlbScgfCBCdWlsZGluZ1R5cGUgfCBzdHJpbmcgfCAnaXRlbSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2FtZUxvZ0VudHJ5IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBpY29uOiBMb2dJY29uVHlwZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVbml0Q29uZmlnIHtcbiAgICBpZDogTWlsaXRhcnlVbml0VHlwZTtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgICBjb3N0OiBCdWlsZGluZ0Nvc3RzO1xuICAgIHRyYWluVGltZTogbnVtYmVyOyAvLyBpbiBzZWNvbmRzXG4gICAgaHA6IG51bWJlcjtcbiAgICBhdHRhY2s6IG51bWJlcjtcbiAgICBpY29uSWQ6IHN0cmluZztcbiAgICByZXF1aXJlZEJ1aWxkaW5nOiBzdHJpbmc7XG4gICAgaXNBY3RpdmU6IGJvb2xlYW47XG4gICAgaXNQcmVkZWZpbmVkOiBib29sZWFuO1xuICAgIG9yZGVyOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVUlOb3RpZmljYXRpb24ge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBSZXNvdXJjZU5vZGVUeXBlID0gJ2Zvb2QnIHwgJ3dvb2QnIHwgJ2dvbGQnIHwgJ3N0b25lJztcblxuZXhwb3J0IGludGVyZmFjZSBSZXNvdXJjZU5vZGUge1xuICBpZDogc3RyaW5nO1xuICB0eXBlOiBSZXNvdXJjZU5vZGVUeXBlO1xuICBwb3NpdGlvbjogeyB4OiBudW1iZXI7IHk6IG51bWJlcjsgfTtcbiAgYW1vdW50OiBudW1iZXI7XG59XG5cbmV4cG9ydCB0eXBlIFRhc2tUeXBlID0gJ2dhdGhlcicgfCAnYnVpbGQnIHwgJ3RyYWluX3ZpbGxhZ2VyJyB8ICd0cmFpbl9taWxpdGFyeScgfCAnYWR2YW5jZV9hZ2UnO1xuXG5leHBvcnQgdHlwZSBQbGF5ZXJBY3Rpb25TdGF0ZSA9IHtcbiAgICBtb2RlOiAnYnVpbGQnO1xuICAgIGJ1aWxkaW5nVHlwZTogQnVpbGRpbmdUeXBlIHwgc3RyaW5nO1xuICAgIHZpbGxhZ2VySWQ6IHN0cmluZztcbn0gfCBudWxsO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgR2FtZVRhc2sge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgdHlwZTogVGFza1R5cGU7XG4gICAgc3RhcnRUaW1lOiBudW1iZXI7XG4gICAgZHVyYXRpb246IG51bWJlcjsgLy8gaW4gbWlsbGlzZWNvbmRzXG4gICAgcGF5bG9hZD86IHtcbiAgICAgICAgLy8gU2hhcmVkXG4gICAgICAgIGJ1aWxkaW5nSWQ/OiBzdHJpbmc7IC8vIElEIG9mIHRoZSBidWlsZGluZyBwZXJmb3JtaW5nIHRoZSBhY3Rpb24gKGUuZy4gVEMgZm9yIHRyYWluaW5nKVxuICAgICAgICB2aWxsYWdlcklkcz86IHN0cmluZ1tdO1xuICAgICAgICBjb3VudD86IG51bWJlcjtcbiAgICAgICAgXG4gICAgICAgIC8vIEJ1aWxkIHRhc2tcbiAgICAgICAgYnVpbGRpbmdUeXBlPzogQnVpbGRpbmdUeXBlIHwgc3RyaW5nO1xuICAgICAgICBwb3NpdGlvbj86IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfTtcbiAgICAgICAgXG4gICAgICAgIC8vIFRyYWluIG1pbGl0YXJ5IHRhc2tcbiAgICAgICAgdW5pdFR5cGU/OiBNaWxpdGFyeVVuaXRUeXBlO1xuICAgICAgICBcbiAgICAgICAgLy8gR2F0aGVyIHRhc2tcbiAgICAgICAgcmVzb3VyY2VOb2RlSWQ/OiBzdHJpbmc7XG4gICAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBY3RpdmVCdWZmcyB7XG4gICAgYnVpbGRUaW1lUmVkdWN0aW9uPzogeyBwZXJjZW50YWdlOiBudW1iZXI7IHVzZXM6IG51bWJlciB9O1xuICAgIHRyYWluVGltZVJlZHVjdGlvbj86IHsgcGVyY2VudGFnZTogbnVtYmVyOyB1c2VzOiBudW1iZXIgfTtcbiAgICByZXNvdXJjZUJvb3N0Pzoge1xuICAgICAgICByZXNvdXJjZToga2V5b2YgUmVzb3VyY2VzO1xuICAgICAgICBtdWx0aXBsaWVyOiBudW1iZXI7XG4gICAgICAgIGVuZFRpbWU6IG51bWJlcjtcbiAgICB9W107XG4gICAgcGVybWFuZW50VHJhaW5UaW1lUmVkdWN0aW9uPzogbnVtYmVyOyAvLyBwZXJjZW50YWdlXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWdlQ29uZmlnIHtcbiAgICBpZDogc3RyaW5nOyAvLyBGb3IgY3VzdG9tIGFnZXMsIGBjdXN0b20tJHt0aW1lc3RhbXB9YC4gRm9yIHByZWRlZmluZWQsIGp1c3QgdGhlIG5hbWUuXG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgaXNBY3RpdmU6IGJvb2xlYW47XG4gICAgaXNQcmVkZWZpbmVkOiBib29sZWFuO1xuICAgIG9yZGVyOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnVpbGRpbmdDb25maWcge1xuICAgIGlkOiBCdWlsZGluZ1R5cGUgfCBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgY29zdDogQnVpbGRpbmdDb3N0cztcbiAgICBpc1VuaXF1ZTogYm9vbGVhbjtcbiAgICBidWlsZExpbWl0PzogbnVtYmVyO1xuICAgIGJ1aWxkVGltZTogbnVtYmVyOyAvLyBpbiBzZWNvbmRzXG4gICAgaHA6IG51bWJlcjtcbiAgICB1bmxvY2tlZEluQWdlOiBzdHJpbmc7IC8vIG5hbWUgb2YgdGhlIGFnZVxuICAgIGljb25JZDogc3RyaW5nOyAvLyBrZXkgZnJvbSBidWlsZGluZ0ljb25NYXBcbiAgICBpc0FjdGl2ZTogYm9vbGVhbjtcbiAgICBpc1ByZWRlZmluZWQ6IGJvb2xlYW47XG4gICAgb3JkZXI6IG51bWJlcjtcbiAgICBjYW5UcmFpblVuaXRzOiBib29sZWFuO1xuICAgIHVwZ3JhZGVzVG8/OiBzdHJpbmdbXTtcbn1cblxuXG5leHBvcnQgaW50ZXJmYWNlIEZ1bGxHYW1lU3RhdGUge1xuICAgIGNpdmlsaXphdGlvbjogQ2l2aWxpemF0aW9uO1xuICAgIHJlc291cmNlczogUmVzb3VyY2VzO1xuICAgIHVuaXRzOiBVbml0cztcbiAgICBidWlsZGluZ3M6IEJ1aWxkaW5ncztcbiAgICBjdXJyZW50QWdlOiBzdHJpbmc7XG4gICAgZ2FtZUxvZzogR2FtZUxvZ0VudHJ5W107XG4gICAgYWN0aXZlVGFza3M6IEdhbWVUYXNrW107XG4gICAgcmVzb3VyY2VOb2RlczogUmVzb3VyY2VOb2RlW107XG4gICAgaW52ZW50b3J5OiBHYW1lSXRlbVtdO1xuICAgIGFjdGl2ZUJ1ZmZzOiBBY3RpdmVCdWZmcztcbn1cbiJdLCJuYW1lcyI6WyJHYW1lU3RhdHVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./types.ts\n"));

/***/ })

});