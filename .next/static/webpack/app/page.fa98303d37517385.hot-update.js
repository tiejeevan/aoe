"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/AllBuildingsPanel.tsx":
/*!******************************************!*\
  !*** ./components/AllBuildingsPanel.tsx ***!
  \******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _icons_iconRegistry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./icons/iconRegistry */ \"(app-pages-browser)/./components/icons/iconRegistry.ts\");\n\nvar _s = $RefreshSig$();\n\n\n// StatBox component copied from GameUI for reuse in this panel.\nconst StatBox = (param)=>{\n    let { icon, label, value, colorClass, onActionClick } = param;\n    const Component = onActionClick ? \"button\" : \"div\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n        onClick: onActionClick,\n        className: \"relative flex items-center space-x-3 w-full p-2 rounded-lg border border-stone-light/50 transition-colors duration-200\\n            bg-stone-dark/50 \".concat(colorClass, \"\\n            \").concat(onActionClick ? \"hover:bg-stone-light/10 cursor-pointer\" : \"\", \"\\n            overflow-hidden text-left\"),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-8 h-8\",\n                children: icon\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                lineNumber: 26,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"font-bold text-lg leading-tight\",\n                        children: value\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                        lineNumber: 28,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-xs text-parchment-dark leading-tight\",\n                        children: label\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                        lineNumber: 29,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                lineNumber: 27,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n        lineNumber: 19,\n        columnNumber: 9\n    }, undefined);\n};\n_c = StatBox;\nconst AllBuildingsPanel = (param)=>{\n    let { isOpen, onClose, buildingList, buildingCounts, activeTasks, onOpenBuildingPanel, anchorRect } = param;\n    _s();\n    const [isClosing, setIsClosing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentData, setCurrentData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        anchorRect\n    });\n    const constructionTasks = activeTasks.filter((t)=>t.type === \"build\");\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen || isClosing) {\n            setCurrentData({\n                anchorRect\n            });\n        }\n    }, [\n        anchorRect,\n        isOpen,\n        isClosing\n    ]);\n    const handleClose = ()=>{\n        setIsClosing(true);\n        setTimeout(()=>{\n            onClose();\n            setIsClosing(false);\n        }, 300);\n    };\n    if (!isOpen && !isClosing) return null;\n    const { anchorRect: currentAnchor } = currentData;\n    if (!currentAnchor) return null;\n    const panelWidth = 288; // from w-72\n    const panelGap = 8;\n    const panelStyle = {\n        transformOrigin: \"bottom center\",\n        maxHeight: \"\".concat(currentAnchor.top - 24, \"px\")\n    };\n    panelStyle.bottom = \"\".concat(window.innerHeight - currentAnchor.top + panelGap, \"px\");\n    let leftPos = currentAnchor.left + currentAnchor.width / 2 - panelWidth / 2;\n    if (leftPos + panelWidth > window.innerWidth - panelGap) {\n        leftPos = window.innerWidth - panelWidth - panelGap;\n    }\n    if (leftPos < panelGap) {\n        leftPos = panelGap;\n    }\n    panelStyle.left = \"\".concat(leftPos, \"px\");\n    const totalBuildings = Object.values(buildingCounts).reduce((a, b)=>a + b, 0);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: panelStyle,\n        className: \"fixed z-40 w-72 transform transition-all duration-300 ease-in-out \".concat(isOpen && !isClosing ? \"opacity-100 scale-100\" : \"opacity-0 scale-95\"),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"sci-fi-panel-popup sci-fi-grid p-4 h-full flex flex-col\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center mb-4 flex-shrink-0\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-serif\",\n                            children: [\n                                \"Structures (\",\n                                totalBuildings,\n                                \")\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                            lineNumber: 99,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleClose,\n                            className: \"text-3xl font-bold sci-fi-close-button\",\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                            lineNumber: 100,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                    lineNumber: 98,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-2 flex-grow overflow-y-auto pr-2\",\n                    children: totalBuildings > 0 || constructionTasks.length > 0 ? buildingList.sort((a, b)=>a.order - b.order).map((info)=>{\n                        const type = info.id;\n                        const count = buildingCounts[type] || 0;\n                        const isConstructing = constructionTasks.some((t)=>{\n                            var _t_payload;\n                            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.buildingType) === type;\n                        });\n                        if (count === 0 && !isConstructing) return null;\n                        const IconComponent = _icons_iconRegistry__WEBPACK_IMPORTED_MODULE_2__.buildingIconMap[info.iconId] || _icons_iconRegistry__WEBPACK_IMPORTED_MODULE_2__.buildingIconMap.default;\n                        const constructingCount = constructionTasks.filter((t)=>{\n                            var _t_payload;\n                            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.buildingType) === type;\n                        }).length;\n                        const displayValue = count > 0 ? \"\".concat(count).concat(constructingCount > 0 ? \" (+\".concat(constructingCount, \")\") : \"\") : \"Constructing...\";\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StatBox, {\n                            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IconComponent, {}, void 0, false, {\n                                fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                                lineNumber: 121,\n                                columnNumber: 47\n                            }, void 0),\n                            label: info.name,\n                            value: displayValue,\n                            colorClass: \"text-parchment-dark\",\n                            onActionClick: count > 0 ? (e)=>{\n                                onOpenBuildingPanel(type, \"\", e.currentTarget.getBoundingClientRect());\n                            } : undefined\n                        }, type, false, {\n                            fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                            lineNumber: 119,\n                            columnNumber: 37\n                        }, undefined);\n                    }) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-center text-parchment-dark py-8\",\n                        children: \"You have no buildings.\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                        lineNumber: 132,\n                        columnNumber: 25\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                    lineNumber: 103,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n            lineNumber: 97,\n            columnNumber: 14\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n        lineNumber: 93,\n        columnNumber: 9\n    }, undefined);\n};\n_s(AllBuildingsPanel, \"blhWDG9yiUBLxE17R6xsfLJ8ZIs=\");\n_c1 = AllBuildingsPanel;\n/* harmony default export */ __webpack_exports__[\"default\"] = (AllBuildingsPanel);\nvar _c, _c1;\n$RefreshReg$(_c, \"StatBox\");\n$RefreshReg$(_c1, \"AllBuildingsPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvQWxsQnVpbGRpbmdzUGFuZWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFbUQ7QUFHSTtBQUV2RCxnRUFBZ0U7QUFDaEUsTUFBTUksVUFNRDtRQUFDLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFQyxLQUFLLEVBQUVDLFVBQVUsRUFBRUMsYUFBYSxFQUFFO0lBQ25ELE1BQU1DLFlBQVlELGdCQUFnQixXQUFXO0lBRTdDLHFCQUNJLDhEQUFDQztRQUNHQyxTQUFTRjtRQUNURyxXQUFXLHdKQUVUSCxPQURpQkQsWUFBVyxrQkFDa0MsT0FBOURDLGdCQUFnQiwyQ0FBMkMsSUFBRzs7MEJBR2hFLDhEQUFDSTtnQkFBSUQsV0FBVTswQkFBV1A7Ozs7OzswQkFDMUIsOERBQUNRO2dCQUFJRCxXQUFVOztrQ0FDWCw4REFBQ0U7d0JBQUtGLFdBQVU7a0NBQW1DTDs7Ozs7O2tDQUNuRCw4REFBQ087d0JBQUtGLFdBQVU7a0NBQTZDTjs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSTdFO0tBeEJNRjtBQXFDTixNQUFNVyxvQkFBc0Q7UUFBQyxFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsWUFBWSxFQUFFQyxjQUFjLEVBQUVDLFdBQVcsRUFBRUMsbUJBQW1CLEVBQUVDLFVBQVUsRUFBRTs7SUFDeEosTUFBTSxDQUFDQyxXQUFXQyxhQUFhLEdBQUd2QiwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUN3QixhQUFhQyxlQUFlLEdBQUd6QiwrQ0FBUUEsQ0FBQztRQUFFcUI7SUFBVztJQUU1RCxNQUFNSyxvQkFBb0JQLFlBQVlRLE1BQU0sQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsSUFBSSxLQUFLO0lBRTdENUIsZ0RBQVNBLENBQUM7UUFDTixJQUFJYyxVQUFVTyxXQUFXO1lBQ3JCRyxlQUFlO2dCQUFFSjtZQUFXO1FBQ2hDO0lBQ0osR0FBRztRQUFDQTtRQUFZTjtRQUFRTztLQUFVO0lBRWxDLE1BQU1RLGNBQWM7UUFD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QXFCOzRCQUN2RSxJQUFJQzsyQkFQQzlDOzs7OztvQkFVakIsbUJBRUosOERBQUMrQzt3QkFBRWpFLFdBQVU7a0NBQXVDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTTVFO0dBNUZNRztNQUFBQTtBQTZGTiwrREFBZUEsaUJBQWlCQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvQWxsQnVpbGRpbmdzUGFuZWwudHN4P2UxYzAiXSwic291cmNlc0NvbnRlbnQiOlsiXG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHR5cGUgeyBCdWlsZGluZ1R5cGUsIEJ1aWxkaW5nQ29uZmlnLCBHYW1lVGFzayB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGljb25NYXAgfSBmcm9tICcuL0dhbWVVSSc7XG5pbXBvcnQgeyBidWlsZGluZ0ljb25NYXAgfSBmcm9tICcuL2ljb25zL2ljb25SZWdpc3RyeSc7XG5cbi8vIFN0YXRCb3ggY29tcG9uZW50IGNvcGllZCBmcm9tIEdhbWVVSSBmb3IgcmV1c2UgaW4gdGhpcyBwYW5lbC5cbmNvbnN0IFN0YXRCb3g6IFJlYWN0LkZDPHsgXG4gICAgaWNvbjogUmVhY3QuUmVhY3ROb2RlOyBcbiAgICBsYWJlbDogc3RyaW5nOyBcbiAgICB2YWx1ZTogc3RyaW5nIHwgbnVtYmVyOyBcbiAgICBjb2xvckNsYXNzOiBzdHJpbmc7XG4gICAgb25BY3Rpb25DbGljaz86IChldmVudDogUmVhY3QuTW91c2VFdmVudDxIVE1MRWxlbWVudD4pID0+IHZvaWQ7IFxufT4gPSAoeyBpY29uLCBsYWJlbCwgdmFsdWUsIGNvbG9yQ2xhc3MsIG9uQWN0aW9uQ2xpY2sgfSkgPT4ge1xuICAgIGNvbnN0IENvbXBvbmVudCA9IG9uQWN0aW9uQ2xpY2sgPyAnYnV0dG9uJyA6ICdkaXYnO1xuICAgIFxuICAgIHJldHVybiAoXG4gICAgICAgIDxDb21wb25lbnRcbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQWN0aW9uQ2xpY2t9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2ByZWxhdGl2ZSBmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTMgdy1mdWxsIHAtMiByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc3RvbmUtbGlnaHQvNTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwXG4gICAgICAgICAgICBiZy1zdG9uZS1kYXJrLzUwICR7Y29sb3JDbGFzc31cbiAgICAgICAgICAgICR7b25BY3Rpb25DbGljayA/ICdob3ZlcjpiZy1zdG9uZS1saWdodC8xMCBjdXJzb3ItcG9pbnRlcicgOiAnJ31cbiAgICAgICAgICAgIG92ZXJmbG93LWhpZGRlbiB0ZXh0LWxlZnRgfVxuICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOCBoLThcIj57aWNvbn08L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWxnIGxlYWRpbmctdGlnaHRcIj57dmFsdWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1wYXJjaG1lbnQtZGFyayBsZWFkaW5nLXRpZ2h0XCI+e2xhYmVsfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0NvbXBvbmVudD5cbiAgICApO1xufTtcblxuaW50ZXJmYWNlIEFsbEJ1aWxkaW5nc1BhbmVsUHJvcHMge1xuICAgIGlzT3BlbjogYm9vbGVhbjtcbiAgICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xuICAgIGJ1aWxkaW5nTGlzdDogQnVpbGRpbmdDb25maWdbXTtcbiAgICBidWlsZGluZ0NvdW50czogUmVjb3JkPHN0cmluZywgbnVtYmVyPjtcbiAgICBhY3RpdmVUYXNrczogR2FtZVRhc2tbXTtcbiAgICBvbk9wZW5CdWlsZGluZ1BhbmVsOiAodHlwZTogQnVpbGRpbmdUeXBlIHwgc3RyaW5nLCBpbnN0YW5jZUlkOiBzdHJpbmcsIHJlY3Q6IERPTVJlY3QpID0+IHZvaWQ7XG4gICAgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7XG59XG5cblxuY29uc3QgQWxsQnVpbGRpbmdzUGFuZWw6IFJlYWN0LkZDPEFsbEJ1aWxkaW5nc1BhbmVsUHJvcHM+ID0gKHsgaXNPcGVuLCBvbkNsb3NlLCBidWlsZGluZ0xpc3QsIGJ1aWxkaW5nQ291bnRzLCBhY3RpdmVUYXNrcywgb25PcGVuQnVpbGRpbmdQYW5lbCwgYW5jaG9yUmVjdCB9KSA9PiB7XG4gICAgY29uc3QgW2lzQ2xvc2luZywgc2V0SXNDbG9zaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbY3VycmVudERhdGEsIHNldEN1cnJlbnREYXRhXSA9IHVzZVN0YXRlKHsgYW5jaG9yUmVjdCB9KTtcbiAgICBcbiAgICBjb25zdCBjb25zdHJ1Y3Rpb25UYXNrcyA9IGFjdGl2ZVRhc2tzLmZpbHRlcih0ID0+IHQudHlwZSA9PT0gJ2J1aWxkJyk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNPcGVuIHx8IGlzQ2xvc2luZykge1xuICAgICAgICAgICAgc2V0Q3VycmVudERhdGEoeyBhbmNob3JSZWN0IH0pO1xuICAgICAgICB9XG4gICAgfSwgW2FuY2hvclJlY3QsIGlzT3BlbiwgaXNDbG9zaW5nXSk7XG5cbiAgICBjb25zdCBoYW5kbGVDbG9zZSA9ICgpID0+IHtcbiAgICAgICAgc2V0SXNDbG9zaW5nKHRydWUpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgICAgIHNldElzQ2xvc2luZyhmYWxzZSk7IFxuICAgICAgICB9LCAzMDApOyBcbiAgICB9O1xuICAgIFxuICAgIGlmICghaXNPcGVuICYmICFpc0Nsb3NpbmcpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgeyBhbmNob3JSZWN0OiBjdXJyZW50QW5jaG9yIH0gPSBjdXJyZW50RGF0YTtcbiAgICBpZiAoIWN1cnJlbnRBbmNob3IpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgcGFuZWxXaWR0aCA9IDI4ODsgLy8gZnJvbSB3LTcyXG4gICAgY29uc3QgcGFuZWxHYXAgPSA4O1xuXG4gICAgY29uc3QgcGFuZWxTdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHtcbiAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiAnYm90dG9tIGNlbnRlcicsXG4gICAgICAgIG1heEhlaWdodDogYCR7Y3VycmVudEFuY2hvci50b3AgLSAyNH1weGAsXG4gICAgfTtcbiAgICBcbiAgICBwYW5lbFN0eWxlLmJvdHRvbSA9IGAke3dpbmRvdy5pbm5lckhlaWdodCAtIGN1cnJlbnRBbmNob3IudG9wICsgcGFuZWxHYXB9cHhgO1xuXG4gICAgbGV0IGxlZnRQb3MgPSBjdXJyZW50QW5jaG9yLmxlZnQgKyBjdXJyZW50QW5jaG9yLndpZHRoIC8gMiAtIHBhbmVsV2lkdGggLyAyO1xuICAgIGlmIChsZWZ0UG9zICsgcGFuZWxXaWR0aCA+IHdpbmRvdy5pbm5lcldpZHRoIC0gcGFuZWxHYXApIHtcbiAgICAgICAgbGVmdFBvcyA9IHdpbmRvdy5pbm5lcldpZHRoIC0gcGFuZWxXaWR0aCAtIHBhbmVsR2FwO1xuICAgIH1cbiAgICBpZiAobGVmdFBvcyA8IHBhbmVsR2FwKSB7XG4gICAgICAgIGxlZnRQb3MgPSBwYW5lbEdhcDtcbiAgICB9XG4gICAgcGFuZWxTdHlsZS5sZWZ0ID0gYCR7bGVmdFBvc31weGA7XG4gICAgXG4gICAgY29uc3QgdG90YWxCdWlsZGluZ3MgPSBPYmplY3QudmFsdWVzKGJ1aWxkaW5nQ291bnRzKS5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXtwYW5lbFN0eWxlfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgZml4ZWQgei00MCB3LTcyIHRyYW5zZm9ybSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgZWFzZS1pbi1vdXQgJHtpc09wZW4gJiYgIWlzQ2xvc2luZyA/ICdvcGFjaXR5LTEwMCBzY2FsZS0xMDAnIDogJ29wYWNpdHktMCBzY2FsZS05NSd9YH1cbiAgICAgICAgPlxuICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2NpLWZpLXBhbmVsLXBvcHVwIHNjaS1maS1ncmlkIHAtNCBoLWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTQgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1zZXJpZlwiPlN0cnVjdHVyZXMgKHt0b3RhbEJ1aWxkaW5nc30pPC9oMj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVDbG9zZX0gY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHNjaS1maS1jbG9zZS1idXR0b25cIj4mdGltZXM7PC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMiBmbGV4LWdyb3cgb3ZlcmZsb3cteS1hdXRvIHByLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgeyh0b3RhbEJ1aWxkaW5ncyA+IDAgfHwgY29uc3RydWN0aW9uVGFza3MubGVuZ3RoID4gMCkgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICBidWlsZGluZ0xpc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYS5vcmRlciAtIGIub3JkZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoaW5mbykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gaW5mby5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY291bnQgPSBidWlsZGluZ0NvdW50c1t0eXBlXSB8fCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0NvbnN0cnVjdGluZyA9IGNvbnN0cnVjdGlvblRhc2tzLnNvbWUodCA9PiB0LnBheWxvYWQ/LmJ1aWxkaW5nVHlwZSA9PT0gdHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNvdW50ID09PSAwICYmICFpc0NvbnN0cnVjdGluZykgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBJY29uQ29tcG9uZW50ID0gYnVpbGRpbmdJY29uTWFwW2luZm8uaWNvbklkXSB8fCBidWlsZGluZ0ljb25NYXAuZGVmYXVsdDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb25zdHJ1Y3RpbmdDb3VudCA9IGNvbnN0cnVjdGlvblRhc2tzLmZpbHRlcih0ID0+IHQucGF5bG9hZD8uYnVpbGRpbmdUeXBlID09PSB0eXBlKS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc3BsYXlWYWx1ZSA9IGNvdW50ID4gMCA/IGAke2NvdW50fSR7Y29uc3RydWN0aW5nQ291bnQgPiAwID8gYCAoKyR7Y29uc3RydWN0aW5nQ291bnR9KWAgOiAnJ31gIDogYENvbnN0cnVjdGluZy4uLmA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTdGF0Qm94IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17dHlwZX0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj17PEljb25Db21wb25lbnQgLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e2luZm8ubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZGlzcGxheVZhbHVlfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvckNsYXNzPVwidGV4dC1wYXJjaG1lbnQtZGFya1wiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQWN0aW9uQ2xpY2s9e2NvdW50ID4gMCA/IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkJ1aWxkaW5nUGFuZWwodHlwZSwgJycsIGUuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtcGFyY2htZW50LWRhcmsgcHktOFwiPllvdSBoYXZlIG5vIGJ1aWxkaW5ncy48L3A+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5leHBvcnQgZGVmYXVsdCBBbGxCdWlsZGluZ3NQYW5lbDtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiYnVpbGRpbmdJY29uTWFwIiwiU3RhdEJveCIsImljb24iLCJsYWJlbCIsInZhbHVlIiwiY29sb3JDbGFzcyIsIm9uQWN0aW9uQ2xpY2siLCJDb21wb25lbnQiLCJvbkNsaWNrIiwiY2xhc3NOYW1lIiwiZGl2Iiwic3BhbiIsIkFsbEJ1aWxkaW5nc1BhbmVsIiwiaXNPcGVuIiwib25DbG9zZSIsImJ1aWxkaW5nTGlzdCIsImJ1aWxkaW5nQ291bnRzIiwiYWN0aXZlVGFza3MiLCJvbk9wZW5CdWlsZGluZ1BhbmVsIiwiYW5jaG9yUmVjdCIsImlzQ2xvc2luZyIsInNldElzQ2xvc2luZyIsImN1cnJlbnREYXRhIiwic2V0Q3VycmVudERhdGEiLCJjb25zdHJ1Y3Rpb25UYXNrcyIsImZpbHRlciIsInQiLCJ0eXBlIiwiaGFuZGxlQ2xvc2UiLCJzZXRUaW1lb3V0IiwiY3VycmVudEFuY2hvciIsInBhbmVsV2lkdGgiLCJwYW5lbEdhcCIsInBhbmVsU3R5bGUiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJtYXhIZWlnaHQiLCJ0b3AiLCJib3R0b20iLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsImxlZnRQb3MiLCJsZWZ0Iiwid2lkdGgiLCJpbm5lcldpZHRoIiwidG90YWxCdWlsZGluZ3MiLCJPYmplY3QiLCJ2YWx1ZXMiLCJyZWR1Y2UiLCJhIiwiYiIsInN0eWxlIiwiaDIiLCJidXR0b24iLCJsZW5ndGgiLCJzb3J0Iiwib3JkZXIiLCJtYXAiLCJpbmZvIiwiaWQiLCJjb3VudCIsImlzQ29uc3RydWN0aW5nIiwic29tZSIsInBheWxvYWQiLCJidWlsZGluZ1R5cGUiLCJJY29uQ29tcG9uZW50IiwiaWNvbklkIiwiZGVmYXVsdCIsImNvbnN0cnVjdGluZ0NvdW50IiwiZGlzcGxheVZhbHVlIiwibmFtZSIsImUiLCJjdXJyZW50VGFyZ2V0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidW5kZWZpbmVkIiwicCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/AllBuildingsPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/BuildPanel.tsx":
/*!***********************************!*\
  !*** ./components/BuildPanel.tsx ***!
  \***********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./icons/ResourceIcons */ \"(app-pages-browser)/./components/icons/ResourceIcons.tsx\");\n/* harmony import */ var _icons_iconRegistry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./icons/iconRegistry */ \"(app-pages-browser)/./components/icons/iconRegistry.ts\");\n\nvar _s = $RefreshSig$();\n\n\n\nconst CostDisplay = (param)=>{\n    let { cost, resources } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-wrap gap-x-3 gap-y-1 text-xs\",\n        children: Object.entries(cost).map((param)=>{\n            let [resource, amount] = param;\n            if (!amount) return null;\n            const hasEnough = resources[resource] >= amount;\n            const Icon = {\n                food: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.FoodIcon,\n                wood: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.WoodIcon,\n                gold: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GoldIcon,\n                stone: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.StoneIcon\n            }[resource];\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"flex items-center \".concat(hasEnough ? \"\" : \"text-brand-red\"),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-4 h-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Icon, {}, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                            lineNumber: 25,\n                            columnNumber: 50\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                        lineNumber: 25,\n                        columnNumber: 25\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"ml-1\",\n                        children: amount\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                        lineNumber: 26,\n                        columnNumber: 25\n                    }, undefined)\n                ]\n            }, resource, true, {\n                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                lineNumber: 24,\n                columnNumber: 21\n            }, undefined);\n        })\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n        lineNumber: 18,\n        columnNumber: 9\n    }, undefined);\n};\n_c = CostDisplay;\nconst BuildPanel = (param)=>{\n    let { isOpen, onClose, onStartPlacement, resources, buildingCounts, buildingList, anchorRect } = param;\n    _s();\n    const constructibleBuildings = buildingList.filter((b)=>b.id !== \"townCenter\");\n    var _constructibleBuildings_;\n    const [selectedBuilding, setSelectedBuilding] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((_constructibleBuildings_ = constructibleBuildings[0]) !== null && _constructibleBuildings_ !== void 0 ? _constructibleBuildings_ : null);\n    const [isClosing, setIsClosing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentData, setCurrentData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        anchorRect,\n        buildingList\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen && !selectedBuilding) {\n            var _constructibleBuildings_;\n            setSelectedBuilding((_constructibleBuildings_ = constructibleBuildings[0]) !== null && _constructibleBuildings_ !== void 0 ? _constructibleBuildings_ : null);\n        }\n    }, [\n        isOpen,\n        selectedBuilding,\n        constructibleBuildings\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen || isClosing) {\n            setCurrentData({\n                anchorRect,\n                buildingList\n            });\n        }\n    }, [\n        anchorRect,\n        buildingList,\n        isOpen,\n        isClosing\n    ]);\n    const handleClose = ()=>{\n        setIsClosing(true);\n        setTimeout(()=>{\n            onClose();\n            setIsClosing(false);\n        }, 300);\n    };\n    if (!isOpen && !isClosing) return null;\n    const { anchorRect: currentAnchor } = currentData;\n    if (!currentAnchor) return null;\n    const isAffordable = selectedBuilding ? Object.entries(selectedBuilding.cost).every((param)=>{\n        let [res, cost] = param;\n        return resources[res] >= (cost || 0);\n    }) : false;\n    const isBuilt = selectedBuilding ? selectedBuilding.isUnique && (buildingCounts[selectedBuilding.id] || 0) > 0 : false;\n    const canBuild = isAffordable && !isBuilt;\n    const panelWidth = 500;\n    const panelHeightEstimate = 300;\n    const panelGap = 8;\n    const panelStyle = {};\n    const spaceBelow = window.innerHeight - currentAnchor.bottom;\n    const spaceAbove = currentAnchor.top;\n    if (spaceBelow < panelHeightEstimate && spaceAbove > spaceBelow) {\n        panelStyle.bottom = \"\".concat(window.innerHeight - currentAnchor.top + panelGap, \"px\");\n        panelStyle.transformOrigin = \"bottom center\";\n    } else {\n        panelStyle.top = \"\".concat(currentAnchor.bottom + panelGap, \"px\");\n        panelStyle.transformOrigin = \"top center\";\n    }\n    let leftPos = currentAnchor.left + currentAnchor.width / 2 - panelWidth / 2;\n    if (leftPos + panelWidth > window.innerWidth - panelGap) {\n        leftPos = window.innerWidth - panelWidth - panelGap;\n    }\n    if (leftPos < panelGap) {\n        leftPos = panelGap;\n    }\n    panelStyle.left = \"\".concat(leftPos, \"px\");\n    const constructButtonTooltip = isBuilt ? \"Already Built\" : !isAffordable ? \"Insufficient Resources\" : \"Construct \".concat(selectedBuilding === null || selectedBuilding === void 0 ? void 0 : selectedBuilding.name);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: panelStyle,\n        className: \"fixed z-40 w-[500px] transform transition-all duration-300 ease-in-out \".concat(isOpen && !isClosing ? \"opacity-100 scale-100\" : \"opacity-0 scale-95\"),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"sci-fi-panel-popup sci-fi-grid p-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-serif\",\n                            children: \"Construct Building\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                            lineNumber: 105,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleClose,\n                            className: \"text-3xl font-bold sci-fi-close-button\",\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                            lineNumber: 106,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                    lineNumber: 104,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex gap-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-2/5 pr-4 border-r border-stone-light/20\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"grid grid-cols-3 gap-2\",\n                                children: constructibleBuildings.map((building)=>{\n                                    const Icon = _icons_iconRegistry__WEBPACK_IMPORTED_MODULE_3__.buildingIconMap[building.iconId] || _icons_iconRegistry__WEBPACK_IMPORTED_MODULE_3__.buildingIconMap.default;\n                                    const isSelected = (selectedBuilding === null || selectedBuilding === void 0 ? void 0 : selectedBuilding.id) === building.id;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative group\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setSelectedBuilding(building),\n                                                className: \"w-full aspect-square p-1.5 bg-stone-dark/50 rounded-md border-2 transition-all duration-150\\n                                                \".concat(isSelected ? \"border-brand-gold bg-stone-light/20\" : \"border-stone-light/50 hover:border-brand-gold/70\", \"\\n                                            \"),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-full h-full \".concat(isSelected ? \"text-brand-gold\" : \"text-parchment-dark group-hover:text-c9d1d9\"),\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Icon, {}, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                        lineNumber: 125,\n                                                        columnNumber: 49\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                    lineNumber: 124,\n                                                    columnNumber: 45\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 118,\n                                                columnNumber: 42\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute bottom-full mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                children: building.name\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 128,\n                                                columnNumber: 41\n                                            }, undefined)\n                                        ]\n                                    }, building.id, true, {\n                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                        lineNumber: 117,\n                                        columnNumber: 37\n                                    }, undefined);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                lineNumber: 112,\n                                columnNumber: 26\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                            lineNumber: 111,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-3/5 flex flex-col\",\n                            children: selectedBuilding ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-grow\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                className: \"text-xl font-serif text-brand-gold\",\n                                                children: selectedBuilding.name\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 142,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-parchment-dark mt-1 mb-3 h-10\",\n                                                children: selectedBuilding.description\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 143,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                                                className: \"border-stone-light/20 my-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 145,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                        className: \"font-serif text-base\",\n                                                        children: \"Cost:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                        lineNumber: 148,\n                                                        columnNumber: 41\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CostDisplay, {\n                                                        cost: selectedBuilding.cost,\n                                                        resources: resources\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                        lineNumber: 149,\n                                                        columnNumber: 41\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 147,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-2 mt-2 text-xs\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-4 h-4 text-parchment-dark\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.ClockIcon, {}, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                            lineNumber: 152,\n                                                            columnNumber: 86\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                        lineNumber: 152,\n                                                        columnNumber: 41\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: [\n                                                            \"Build Time: \",\n                                                            selectedBuilding.buildTime,\n                                                            \"s\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                        lineNumber: 153,\n                                                        columnNumber: 41\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 151,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            selectedBuilding.isUnique && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-brand-blue mt-2\",\n                                                children: [\n                                                    \"Unique Building (\",\n                                                    buildingCounts[selectedBuilding.id] || 0,\n                                                    \" / 1 built)\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 156,\n                                                columnNumber: 41\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                        lineNumber: 141,\n                                        columnNumber: 33\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative group self-end\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    if (canBuild) onStartPlacement(selectedBuilding.id);\n                                                },\n                                                disabled: !canBuild,\n                                                className: \"sci-fi-action-button\",\n                                                \"aria-label\": constructButtonTooltip,\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-8 h-8\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BuildIcon, {}, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                        lineNumber: 169,\n                                                        columnNumber: 66\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                    lineNumber: 169,\n                                                    columnNumber: 41\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 163,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                children: constructButtonTooltip\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 171,\n                                                columnNumber: 37\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                        lineNumber: 162,\n                                        columnNumber: 33\n                                    }, undefined)\n                                ]\n                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-center h-full text-parchment-dark\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: \"Select a building to construct.\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                    lineNumber: 178,\n                                    columnNumber: 33\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                lineNumber: 177,\n                                columnNumber: 29\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                            lineNumber: 138,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                    lineNumber: 109,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n            lineNumber: 103,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n        lineNumber: 99,\n        columnNumber: 9\n    }, undefined);\n};\n_s(BuildPanel, \"x0ZC5Bbt0+e3BdFqn6SCSeX6XDU=\");\n_c1 = BuildPanel;\n/* harmony default export */ __webpack_exports__[\"default\"] = (BuildPanel);\nvar _c, _c1;\n$RefreshReg$(_c, \"CostDisplay\");\n$RefreshReg$(_c1, \"BuildPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvQnVpbGRQYW5lbC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBbUQ7QUFFbUQ7QUFDL0M7QUFZdkQsTUFBTVUsY0FBdUU7UUFBQyxFQUFFQyxJQUFJLEVBQUVDLFNBQVMsRUFBRTtJQUM3RixxQkFDSSw4REFBQ0M7UUFBSUMsV0FBVTtrQkFDVixPQUFRRSxPQUFPLENBQUNMLE1BQXNDTSxHQUFHLENBQUM7Z0JBQUMsQ0FBQ0MsVUFBVUMsT0FBTztZQUMxRSxJQUFJLENBQUNBLFFBQVEsT0FBTztZQUNwQixNQUFNQyxZQUFZUixTQUFTLENBQUNNLFNBQVMsSUFBSUM7WUFDekMsTUFBTUUsT0FBTztnQkFBRUMsTUFBTW5CLDBEQUFRQTtnQkFBRW9CLE1BQU1uQiwwREFBUUE7Z0JBQUVvQixNQUFNbkIsMERBQVFBO2dCQUFFb0IsT0FBT25CLDJEQUFTQTtZQUFDLENBQUMsQ0FBQ1ksU0FBUztZQUMzRixxQkFDSSw4REFBQ1E7Z0JBQW9CWixXQUFXLHFCQUF1RCxPQUFsQ00sWUFBWSxLQUFLOztrQ0FDbEUsOERBQUNQO3dCQUFJQyxXQUFVO2tDQUFVLDRFQUFDTzs7Ozs7Ozs7OztrQ0FDMUIsOERBQUNLO3dCQUFLWixXQUFVO2tDQUFRSzs7Ozs7OztlQUZqQkQ7Ozs7O1FBS25COzs7Ozs7QUFHWjtLQWhCTVI7QUFrQk4sTUFBTWlCLGFBQXdDO1FBQUMsRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUVDLGdCQUFnQixFQUFFbEIsU0FBUyxFQUFFbUIsY0FBYyxFQUFFQyxZQUFZLEVBQUVDLFVBQVUsRUFBRTs7SUFDckksTUFBTUMseUJBQXlCRixhQUFhRyxNQUFNLENBQUNDLENBQUFBLElBQUtBLEVBQUVDLEVBQUUsS0FBSztRQUNlSDtJQUFoRixNQUFNLENBQUNJLGtCQUFrQkMsb0JBQW9CLEdBQUd0QywrQ0FBUUEsQ0FBd0JpQyxDQUFBQSwyQkFBQUEsc0JBQXNCLENBQUMsRUFBRSxjQUF6QkEsc0NBQUFB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ekQsOERBQUNDO2dEQUFJQyxXQUFVOztrRUFDWCw4REFBQ0Q7d0RBQUlDLFdBQVU7a0VBQThCLDRFQUFDUCwyREFBU0E7Ozs7Ozs7Ozs7a0VBQ3ZELDhEQUFDbUI7OzREQUFLOzREQUFhWSxpQkFBaUI2QyxTQUFTOzREQUFDOzs7Ozs7Ozs7Ozs7OzRDQUVoRDdDLGlCQUFpQmEsUUFBUSxrQkFDdkIsOERBQUM0QjtnREFBRWpFLFdBQVU7O29EQUErQjtvREFDdEJpQixjQUFjLENBQUNPLGlCQUFpQkQsRUFBRSxDQUFDLElBQUk7b0RBQUU7Ozs7Ozs7Ozs7Ozs7a0RBS3ZFLDhEQUFDeEI7d0NBQUlDLFdBQVU7OzBEQUNYLDhEQUFDMEQ7Z0RBQ0dDLFNBQVM7b0RBQVEsSUFBR3JCLFVBQVV0QixpQkFBaUJRLGlCQUFpQkQsRUFBRTtnREFBRztnREFDckUrQyxVQUFVLENBQUNoQztnREFDWHRDLFdBQVU7Z0RBQ1Z1RSxjQUFZakI7MERBRVosNEVBQUN2RDtvREFBSUMsV0FBVTs4REFBVSw0RUFBQ04sMkRBQVNBOzs7Ozs7Ozs7Ozs7Ozs7MERBRXZDLDhEQUFDSztnREFBSUMsV0FBVTswREFDVnNEOzs7Ozs7Ozs7Ozs7OzZEQUtiLDhEQUFDdkQ7Z0NBQUlDLFdBQVU7MENBQ1gsNEVBQUNpRTs4Q0FBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUW5DO0dBeEpNcEQ7TUFBQUE7QUEwSk4sK0RBQWVBLFVBQVVBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9CdWlsZFBhbmVsLnRzeD9iMTM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHR5cGUgeyBCdWlsZGluZ0NvbmZpZywgQnVpbGRpbmdUeXBlLCBSZXNvdXJjZXMsIEJ1aWxkaW5nQ29zdHMgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBGb29kSWNvbiwgV29vZEljb24sIEdvbGRJY29uLCBTdG9uZUljb24sIENsb2NrSWNvbiwgQnVpbGRJY29uIH0gZnJvbSAnLi9pY29ucy9SZXNvdXJjZUljb25zJztcbmltcG9ydCB7IGJ1aWxkaW5nSWNvbk1hcCB9IGZyb20gJy4vaWNvbnMvaWNvblJlZ2lzdHJ5JztcblxuaW50ZXJmYWNlIEJ1aWxkUGFuZWxQcm9wcyB7XG4gICAgaXNPcGVuOiBib29sZWFuO1xuICAgIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XG4gICAgb25TdGFydFBsYWNlbWVudDogKGJ1aWxkaW5nSWQ6IEJ1aWxkaW5nVHlwZSB8IHN0cmluZykgPT4gdm9pZDtcbiAgICByZXNvdXJjZXM6IFJlc291cmNlcztcbiAgICBidWlsZGluZ0NvdW50czogUmVjb3JkPHN0cmluZywgbnVtYmVyPjtcbiAgICBidWlsZGluZ0xpc3Q6IEJ1aWxkaW5nQ29uZmlnW107XG4gICAgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7XG59XG5cbmNvbnN0IENvc3REaXNwbGF5OiBSZWFjdC5GQzx7IGNvc3Q6IEJ1aWxkaW5nQ29zdHMsIHJlc291cmNlczogUmVzb3VyY2VzIH0+ID0gKHsgY29zdCwgcmVzb3VyY2VzIH0pID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGdhcC14LTMgZ2FwLXktMSB0ZXh0LXhzXCI+XG4gICAgICAgICAgICB7KE9iamVjdC5lbnRyaWVzKGNvc3QpIGFzIFtrZXlvZiBSZXNvdXJjZXMsIG51bWJlcl1bXSkubWFwKChbcmVzb3VyY2UsIGFtb3VudF0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWFtb3VudCkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzRW5vdWdoID0gcmVzb3VyY2VzW3Jlc291cmNlXSA+PSBhbW91bnQ7XG4gICAgICAgICAgICAgICAgY29uc3QgSWNvbiA9IHsgZm9vZDogRm9vZEljb24sIHdvb2Q6IFdvb2RJY29uLCBnb2xkOiBHb2xkSWNvbiwgc3RvbmU6IFN0b25lSWNvbiB9W3Jlc291cmNlXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBrZXk9e3Jlc291cmNlfSBjbGFzc05hbWU9e2BmbGV4IGl0ZW1zLWNlbnRlciAke2hhc0Vub3VnaCA/ICcnIDogJ3RleHQtYnJhbmQtcmVkJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy00IGgtNFwiPjxJY29uIC8+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0xXCI+e2Ftb3VudH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5jb25zdCBCdWlsZFBhbmVsOiBSZWFjdC5GQzxCdWlsZFBhbmVsUHJvcHM+ID0gKHsgaXNPcGVuLCBvbkNsb3NlLCBvblN0YXJ0UGxhY2VtZW50LCByZXNvdXJjZXMsIGJ1aWxkaW5nQ291bnRzLCBidWlsZGluZ0xpc3QsIGFuY2hvclJlY3QgfSkgPT4ge1xuICAgIGNvbnN0IGNvbnN0cnVjdGlibGVCdWlsZGluZ3MgPSBidWlsZGluZ0xpc3QuZmlsdGVyKGIgPT4gYi5pZCAhPT0gJ3Rvd25DZW50ZXInKTtcbiAgICBjb25zdCBbc2VsZWN0ZWRCdWlsZGluZywgc2V0U2VsZWN0ZWRCdWlsZGluZ10gPSB1c2VTdGF0ZTxCdWlsZGluZ0NvbmZpZyB8IG51bGw+KGNvbnN0cnVjdGlibGVCdWlsZGluZ3NbMF0gPz8gbnVsbCk7XG4gICAgXG4gICAgY29uc3QgW2lzQ2xvc2luZywgc2V0SXNDbG9zaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbY3VycmVudERhdGEsIHNldEN1cnJlbnREYXRhXSA9IHVzZVN0YXRlKHsgYW5jaG9yUmVjdCwgYnVpbGRpbmdMaXN0IH0pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGlzT3BlbiAmJiAhc2VsZWN0ZWRCdWlsZGluZykge1xuICAgICAgICAgICAgc2V0U2VsZWN0ZWRCdWlsZGluZyhjb25zdHJ1Y3RpYmxlQnVpbGRpbmdzWzBdID8/IG51bGwpO1xuICAgICAgICB9XG4gICAgfSwgW2lzT3Blbiwgc2VsZWN0ZWRCdWlsZGluZywgY29uc3RydWN0aWJsZUJ1aWxkaW5nc10pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGlzT3BlbiB8fCBpc0Nsb3NpbmcpIHtcbiAgICAgICAgICAgIHNldEN1cnJlbnREYXRhKHsgYW5jaG9yUmVjdCwgYnVpbGRpbmdMaXN0IH0pO1xuICAgICAgICB9XG4gICAgfSwgW2FuY2hvclJlY3QsIGJ1aWxkaW5nTGlzdCwgaXNPcGVuLCBpc0Nsb3NpbmddKTtcblxuICAgIGNvbnN0IGhhbmRsZUNsb3NlID0gKCkgPT4ge1xuICAgICAgICBzZXRJc0Nsb3NpbmcodHJ1ZSk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgb25DbG9zZSgpO1xuICAgICAgICAgICAgc2V0SXNDbG9zaW5nKGZhbHNlKTtcbiAgICAgICAgfSwgMzAwKTtcbiAgICB9O1xuXG4gICAgaWYgKCFpc09wZW4gJiYgIWlzQ2xvc2luZykgcmV0dXJuIG51bGw7XG4gICAgXG4gICAgY29uc3QgeyBhbmNob3JSZWN0OiBjdXJyZW50QW5jaG9yIH0gPSBjdXJyZW50RGF0YTtcbiAgICBpZiAoIWN1cnJlbnRBbmNob3IpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgaXNBZmZvcmRhYmxlID0gc2VsZWN0ZWRCdWlsZGluZyA/IE9iamVjdC5lbnRyaWVzKHNlbGVjdGVkQnVpbGRpbmcuY29zdCkuZXZlcnkoKFtyZXMsIGNvc3RdKSA9PiByZXNvdXJjZXNbcmVzIGFzIGtleW9mIFJlc291cmNlc10gPj0gKGNvc3QgfHwgMCkpIDogZmFsc2U7XG4gICAgY29uc3QgaXNCdWlsdCA9IHNlbGVjdGVkQnVpbGRpbmcgPyBzZWxlY3RlZEJ1aWxkaW5nLmlzVW5pcXVlICYmIChidWlsZGluZ0NvdW50c1tzZWxlY3RlZEJ1aWxkaW5nLmlkXSB8fCAwKSA+IDAgOiBmYWxzZTtcbiAgICBjb25zdCBjYW5CdWlsZCA9IGlzQWZmb3JkYWJsZSAmJiAhaXNCdWlsdDtcblxuICAgIGNvbnN0IHBhbmVsV2lkdGggPSA1MDA7XG4gICAgY29uc3QgcGFuZWxIZWlnaHRFc3RpbWF0ZSA9IDMwMDtcbiAgICBjb25zdCBwYW5lbEdhcCA9IDg7XG5cbiAgICBjb25zdCBwYW5lbFN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzID0ge307XG5cbiAgICBjb25zdCBzcGFjZUJlbG93ID0gd2luZG93LmlubmVySGVpZ2h0IC0gY3VycmVudEFuY2hvci5ib3R0b207XG4gICAgY29uc3Qgc3BhY2VBYm92ZSA9IGN1cnJlbnRBbmNob3IudG9wO1xuXG4gICAgaWYgKHNwYWNlQmVsb3cgPCBwYW5lbEhlaWdodEVzdGltYXRlICYmIHNwYWNlQWJvdmUgPiBzcGFjZUJlbG93KSB7XG4gICAgICAgIHBhbmVsU3R5bGUuYm90dG9tID0gYCR7d2luZG93LmlubmVySGVpZ2h0IC0gY3VycmVudEFuY2hvci50b3AgKyBwYW5lbEdhcH1weGA7XG4gICAgICAgIHBhbmVsU3R5bGUudHJhbnNmb3JtT3JpZ2luID0gJ2JvdHRvbSBjZW50ZXInO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHBhbmVsU3R5bGUudG9wID0gYCR7Y3VycmVudEFuY2hvci5ib3R0b20gKyBwYW5lbEdhcH1weGA7XG4gICAgICAgIHBhbmVsU3R5bGUudHJhbnNmb3JtT3JpZ2luID0gJ3RvcCBjZW50ZXInO1xuICAgIH1cblxuICAgIGxldCBsZWZ0UG9zID0gY3VycmVudEFuY2hvci5sZWZ0ICsgY3VycmVudEFuY2hvci53aWR0aCAvIDIgLSBwYW5lbFdpZHRoIC8gMjtcbiAgICBpZiAobGVmdFBvcyArIHBhbmVsV2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCAtIHBhbmVsR2FwKSB7XG4gICAgICAgIGxlZnRQb3MgPSB3aW5kb3cuaW5uZXJXaWR0aCAtIHBhbmVsV2lkdGggLSBwYW5lbEdhcDtcbiAgICB9XG4gICAgaWYgKGxlZnRQb3MgPCBwYW5lbEdhcCkge1xuICAgICAgICBsZWZ0UG9zID0gcGFuZWxHYXA7XG4gICAgfVxuICAgIHBhbmVsU3R5bGUubGVmdCA9IGAke2xlZnRQb3N9cHhgO1xuICAgIFxuICAgIGNvbnN0IGNvbnN0cnVjdEJ1dHRvblRvb2x0aXAgPSBpc0J1aWx0ID8gJ0FscmVhZHkgQnVpbHQnIDogIWlzQWZmb3JkYWJsZSA/ICdJbnN1ZmZpY2llbnQgUmVzb3VyY2VzJyA6IGBDb25zdHJ1Y3QgJHtzZWxlY3RlZEJ1aWxkaW5nPy5uYW1lfWA7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgc3R5bGU9e3BhbmVsU3R5bGV9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2BmaXhlZCB6LTQwIHctWzUwMHB4XSB0cmFuc2Zvcm0gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGVhc2UtaW4tb3V0ICR7aXNPcGVuICYmICFpc0Nsb3NpbmcgPyAnb3BhY2l0eS0xMDAgc2NhbGUtMTAwJyA6ICdvcGFjaXR5LTAgc2NhbGUtOTUnfWB9XG4gICAgICAgID5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2NpLWZpLXBhbmVsLXBvcHVwIHNjaS1maS1ncmlkIHAtNFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtc2VyaWZcIj5Db25zdHJ1Y3QgQnVpbGRpbmc8L2gyPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUNsb3NlfSBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgc2NpLWZpLWNsb3NlLWJ1dHRvblwiPiZ0aW1lczs8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtNFwiPlxuICAgICAgICAgICAgICAgICAgICB7LyogTGVmdDogQnVpbGRpbmcgR3JpZCAqL31cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTIvNSBwci00IGJvcmRlci1yIGJvcmRlci1zdG9uZS1saWdodC8yMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMyBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjb25zdHJ1Y3RpYmxlQnVpbGRpbmdzLm1hcCgoYnVpbGRpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgSWNvbiA9IGJ1aWxkaW5nSWNvbk1hcFtidWlsZGluZy5pY29uSWRdIHx8IGJ1aWxkaW5nSWNvbk1hcC5kZWZhdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1NlbGVjdGVkID0gc2VsZWN0ZWRCdWlsZGluZz8uaWQgPT09IGJ1aWxkaW5nLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2J1aWxkaW5nLmlkfSBjbGFzc05hbWU9XCJyZWxhdGl2ZSBncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkQnVpbGRpbmcoYnVpbGRpbmcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgYXNwZWN0LXNxdWFyZSBwLTEuNSBiZy1zdG9uZS1kYXJrLzUwIHJvdW5kZWQtbWQgYm9yZGVyLTIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2lzU2VsZWN0ZWQgPyAnYm9yZGVyLWJyYW5kLWdvbGQgYmctc3RvbmUtbGlnaHQvMjAnIDogJ2JvcmRlci1zdG9uZS1saWdodC81MCBob3Zlcjpib3JkZXItYnJhbmQtZ29sZC83MCd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHctZnVsbCBoLWZ1bGwgJHtpc1NlbGVjdGVkID8gJ3RleHQtYnJhbmQtZ29sZCcgOiAndGV4dC1wYXJjaG1lbnQtZGFyayBncm91cC1ob3Zlcjp0ZXh0LWM5ZDFkOSd9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIG1iLTIgdy1tYXggcHgtMiBweS0xIGJnLXN0b25lLWRhcmsgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBwb2ludGVyLWV2ZW50cy1ub25lIHotMTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2J1aWxkaW5nLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICB7LyogUmlnaHQ6IERldGFpbHMgKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0zLzUgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkQnVpbGRpbmcgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LWdyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VyaWYgdGV4dC1icmFuZC1nb2xkXCI+e3NlbGVjdGVkQnVpbGRpbmcubmFtZX08L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXBhcmNobWVudC1kYXJrIG10LTEgbWItMyBoLTEwXCI+e3NlbGVjdGVkQnVpbGRpbmcuZGVzY3JpcHRpb259PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgY2xhc3NOYW1lPVwiYm9yZGVyLXN0b25lLWxpZ2h0LzIwIG15LTJcIiAvPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LXNlcmlmIHRleHQtYmFzZVwiPkNvc3Q6PC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29zdERpc3BsYXkgY29zdD17c2VsZWN0ZWRCdWlsZGluZy5jb3N0fSByZXNvdXJjZXM9e3Jlc291cmNlc30vPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG10LTIgdGV4dC14c1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LXBhcmNobWVudC1kYXJrXCI+PENsb2NrSWNvbiAvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkJ1aWxkIFRpbWU6IHtzZWxlY3RlZEJ1aWxkaW5nLmJ1aWxkVGltZX1zPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkQnVpbGRpbmcuaXNVbmlxdWUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1icmFuZC1ibHVlIG10LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVW5pcXVlIEJ1aWxkaW5nICh7YnVpbGRpbmdDb3VudHNbc2VsZWN0ZWRCdWlsZGluZy5pZF0gfHwgMH0gLyAxIGJ1aWx0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXAgc2VsZi1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IGlmKGNhbkJ1aWxkKSBvblN0YXJ0UGxhY2VtZW50KHNlbGVjdGVkQnVpbGRpbmcuaWQpOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshY2FuQnVpbGR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2NpLWZpLWFjdGlvbi1idXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2NvbnN0cnVjdEJ1dHRvblRvb2x0aXB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC04XCI+PEJ1aWxkSWNvbiAvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIHJpZ2h0LTAgbWItMiB3LW1heCBweC0yIHB5LTEgYmctc3RvbmUtZGFyayB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IHBvaW50ZXItZXZlbnRzLW5vbmUgei0xMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjb25zdHJ1Y3RCdXR0b25Ub29sdGlwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGgtZnVsbCB0ZXh0LXBhcmNobWVudC1kYXJrXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlNlbGVjdCBhIGJ1aWxkaW5nIHRvIGNvbnN0cnVjdC48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQnVpbGRQYW5lbDtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiRm9vZEljb24iLCJXb29kSWNvbiIsIkdvbGRJY29uIiwiU3RvbmVJY29uIiwiQ2xvY2tJY29uIiwiQnVpbGRJY29uIiwiYnVpbGRpbmdJY29uTWFwIiwiQ29zdERpc3BsYXkiLCJjb3N0IiwicmVzb3VyY2VzIiwiZGl2IiwiY2xhc3NOYW1lIiwiT2JqZWN0IiwiZW50cmllcyIsIm1hcCIsInJlc291cmNlIiwiYW1vdW50IiwiaGFzRW5vdWdoIiwiSWNvbiIsImZvb2QiLCJ3b29kIiwiZ29sZCIsInN0b25lIiwic3BhbiIsIkJ1aWxkUGFuZWwiLCJpc09wZW4iLCJvbkNsb3NlIiwib25TdGFydFBsYWNlbWVudCIsImJ1aWxkaW5nQ291bnRzIiwiYnVpbGRpbmdMaXN0IiwiYW5jaG9yUmVjdCIsImNvbnN0cnVjdGlibGVCdWlsZGluZ3MiLCJmaWx0ZXIiLCJiIiwiaWQiLCJzZWxlY3RlZEJ1aWxkaW5nIiwic2V0U2VsZWN0ZWRCdWlsZGluZyIsImlzQ2xvc2luZyIsInNldElzQ2xvc2luZyIsImN1cnJlbnREYXRhIiwic2V0Q3VycmVudERhdGEiLCJoYW5kbGVDbG9zZSIsInNldFRpbWVvdXQiLCJjdXJyZW50QW5jaG9yIiwiaXNBZmZvcmRhYmxlIiwiZXZlcnkiLCJyZXMiLCJpc0J1aWx0IiwiaXNVbmlxdWUiLCJjYW5CdWlsZCIsInBhbmVsV2lkdGgiLCJwYW5lbEhlaWdodEVzdGltYXRlIiwicGFuZWxHYXAiLCJwYW5lbFN0eWxlIiwic3BhY2VCZWxvdyIsIndpbmRvdyIsImlubmVySGVpZ2h0IiwiYm90dG9tIiwic3BhY2VBYm92ZSIsInRvcCIsInRyYW5zZm9ybU9yaWdpbiIsImxlZnRQb3MiLCJsZWZ0Iiwid2lkdGgiLCJpbm5lcldpZHRoIiwiY29uc3RydWN0QnV0dG9uVG9vbHRpcCIsIm5hbWUiLCJzdHlsZSIsImgyIiwiYnV0dG9uIiwib25DbGljayIsImJ1aWxkaW5nIiwiaWNvbklkIiwiZGVmYXVsdCIsImlzU2VsZWN0ZWQiLCJoMyIsInAiLCJkZXNjcmlwdGlvbiIsImhyIiwiaDQiLCJidWlsZFRpbWUiLCJkaXNhYmxlZCIsImFyaWEtbGFiZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/BuildPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/BuildingManagementPanel.tsx":
/*!************************************************!*\
  !*** ./components/BuildingManagementPanel.tsx ***!
  \************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./icons/ResourceIcons */ \"(app-pages-browser)/./components/icons/ResourceIcons.tsx\");\n/* harmony import */ var _ProgressBar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ProgressBar */ \"(app-pages-browser)/./components/ProgressBar.tsx\");\n/* harmony import */ var _GameUI__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GameUI */ \"(app-pages-browser)/./components/GameUI.tsx\");\n/* harmony import */ var _barrel_optimize_names_Trash2_Wrench_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Trash2,Wrench!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/wrench.js\");\n/* harmony import */ var _barrel_optimize_names_Trash2_Wrench_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Trash2,Wrench!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trash-2.js\");\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\n\nconst BuildingRow = (param)=>{\n    let { building, buildingInfo, type, onUpdate, onDemolish } = param;\n    _s();\n    const [isEditing, setIsEditing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [name, setName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(building.name);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isEditing) {\n            var _inputRef_current, _inputRef_current1;\n            (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n            (_inputRef_current1 = inputRef.current) === null || _inputRef_current1 === void 0 ? void 0 : _inputRef_current1.select();\n        }\n    }, [\n        isEditing\n    ]);\n    const handleSave = ()=>{\n        if (name.trim() && name.trim() !== building.name) {\n            onUpdate(type, building.id, name.trim());\n        }\n        setIsEditing(false);\n    };\n    const handleKeyDown = (e)=>{\n        if (e.key === \"Enter\") {\n            handleSave();\n        } else if (e.key === \"Escape\") {\n            setName(building.name);\n            setIsEditing(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"sci-fi-unit-row flex items-center gap-2 p-2 justify-between\",\n        children: isEditing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n            ref: inputRef,\n            type: \"text\",\n            value: name,\n            onChange: (e)=>setName(e.target.value),\n            onBlur: handleSave,\n            onKeyDown: handleKeyDown,\n            className: \"sci-fi-input w-full !text-base\"\n        }, void 0, false, {\n            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n            lineNumber: 67,\n            columnNumber: 17\n        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-grow cursor-pointer\",\n                    onDoubleClick: ()=>setIsEditing(true),\n                    title: \"Double-click to rename\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-base font-bold\",\n                            children: building.name\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                            lineNumber: 83,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-xs text-parchment-dark font-mono\",\n                            children: [\n                                \"HP: \",\n                                building.currentHp,\n                                \" / \",\n                                buildingInfo.hp\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                            lineNumber: 84,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                    lineNumber: 78,\n                    columnNumber: 21\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center gap-1\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative group flex-shrink-0\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    disabled: building.currentHp >= buildingInfo.hp,\n                                    className: \"p-1.5 text-parchment-dark/60 hover:text-brand-green rounded-full transition-colors focus:outline-none focus:ring-1 focus:ring-brand-green/50 disabled:text-parchment-dark/30 disabled:cursor-not-allowed\",\n                                    \"aria-label\": \"Repair\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Trash2_Wrench_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                        className: \"w-4 h-4\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                        lineNumber: 95,\n                                        columnNumber: 33\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                    lineNumber: 90,\n                                    columnNumber: 29\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute bottom-full right-1/2 translate-x-1/2 mb-1 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                    children: building.currentHp >= buildingInfo.hp ? \"At full health\" : \"Repair (coming soon)\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                    lineNumber: 97,\n                                    columnNumber: 29\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                            lineNumber: 89,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative group flex-shrink-0\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>onDemolish(type, building.id),\n                                    disabled: type === \"townCenter\",\n                                    className: \"p-1.5 text-parchment-dark/60 hover:text-brand-red rounded-full transition-colors focus:outline-none focus:ring-1 focus:ring-brand-red/50 disabled:text-parchment-dark/30 disabled:cursor-not-allowed\",\n                                    \"aria-label\": \"Demolish\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Trash2_Wrench_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                        className: \"w-4 h-4\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                        lineNumber: 108,\n                                        columnNumber: 33\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                    lineNumber: 102,\n                                    columnNumber: 29\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute bottom-full right-1/2 translate-x-1/2 mb-1 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                    children: type === \"townCenter\" ? \"Cannot demolish Town Center\" : \"Demolish\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                    lineNumber: 110,\n                                    columnNumber: 29\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                            lineNumber: 101,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                    lineNumber: 88,\n                    columnNumber: 21\n                }, undefined)\n            ]\n        }, void 0, true)\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n        lineNumber: 65,\n        columnNumber: 9\n    }, undefined);\n};\n_s(BuildingRow, \"ix8JKsNrueda/cGiLeHwh+G5/Ig=\");\n_c = BuildingRow;\nconst CostDisplay = (param)=>{\n    let { cost, resources } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-wrap gap-x-3 gap-y-1 text-xs\",\n        children: Object.entries(cost).map((param)=>{\n            let [resource, amount] = param;\n            if (!amount) return null;\n            const hasEnough = resources[resource] >= amount;\n            const Icon = {\n                food: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.FoodIcon,\n                wood: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.WoodIcon,\n                gold: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GoldIcon,\n                stone: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.StoneIcon\n            }[resource];\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"flex items-center \".concat(hasEnough ? \"\" : \"text-brand-red\"),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-4 h-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Icon, {}, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                            lineNumber: 130,\n                            columnNumber: 46\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                        lineNumber: 130,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"ml-1 font-mono\",\n                        children: amount\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                        lineNumber: 131,\n                        columnNumber: 21\n                    }, undefined)\n                ]\n            }, resource, true, {\n                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                lineNumber: 129,\n                columnNumber: 17\n            }, undefined);\n        })\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n        lineNumber: 123,\n        columnNumber: 5\n    }, undefined);\n};\n_c1 = CostDisplay;\nconst BuildingManagementPanel = (props)=>{\n    var _buildingInfo_name, _activeVillagerTask_payload, _activeTrainTask_payload;\n    _s1();\n    const { isOpen, onClose, panelState, buildings, buildingList, onUpdateBuilding, onDemolishBuilding, onTrainUnits, onTrainVillagers, resources, population, unitList, onAdvanceAge, activeTasks, anchorRect } = props;\n    const [isClosing, setIsClosing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentData, setCurrentData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        panelState,\n        buildings,\n        anchorRect\n    });\n    const [trainCount, setTrainCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isOpen) return;\n        const popSpace = population.capacity - population.current;\n        const currentCount = trainCount;\n        if (currentCount > popSpace) setTrainCount(Math.max(0, popSpace));\n        else if (currentCount === 0 && popSpace > 0) setTrainCount(1);\n        else if (popSpace === 0) setTrainCount(0);\n    }, [\n        isOpen,\n        panelState.type,\n        population.capacity,\n        population.current,\n        trainCount\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen || isClosing) setCurrentData({\n            panelState,\n            buildings,\n            anchorRect\n        });\n    }, [\n        panelState,\n        buildings,\n        anchorRect,\n        isOpen,\n        isClosing\n    ]);\n    const handleClose = ()=>{\n        setIsClosing(true);\n        setTimeout(()=>{\n            onClose();\n            setIsClosing(false);\n        }, 300);\n    };\n    if (!isOpen && !isClosing) return null;\n    const { panelState: currentPanelState, buildings: currentBuildings, anchorRect: currentAnchor } = currentData;\n    const { type } = currentPanelState;\n    if (!type || !currentAnchor) return null;\n    const buildingInfo = buildingList.find((b)=>b.id === type);\n    if (!buildingInfo) return null;\n    const buildingInstances = currentBuildings[type] || [];\n    const unitToTrain = unitList.find((u)=>u.requiredBuilding === type);\n    const activeTrainTask = unitToTrain ? activeTasks.find((t)=>{\n        var _t_payload;\n        return t.type === \"train_military\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.unitType) === (unitToTrain === null || unitToTrain === void 0 ? void 0 : unitToTrain.id);\n    }) : undefined;\n    const activeVillagerTask = activeTasks.find((t)=>t.type === \"train_villager\");\n    const activeAgeTask = activeTasks.find((t)=>t.type === \"advance_age\");\n    const popSpace = population.capacity - population.current;\n    const hasPopCapacity = popSpace >= trainCount;\n    const totalUnitCost = unitToTrain ? Object.entries(unitToTrain.cost).reduce((acc, param)=>{\n        let [res, val] = param;\n        return {\n            ...acc,\n            [res]: (val || 0) * trainCount\n        };\n    }, {}) : {};\n    const canAffordUnit = unitToTrain ? Object.entries(totalUnitCost).every((param)=>{\n        let [res, cost] = param;\n        return resources[res] >= cost;\n    }) : false;\n    const canTrainUnit = unitToTrain && canAffordUnit && hasPopCapacity && !activeTrainTask;\n    const totalVillagerCost = {\n        food: 50 * trainCount\n    };\n    const canAffordVillagers = resources.food >= totalVillagerCost.food;\n    const canTrainVillagers = canAffordVillagers && hasPopCapacity && !activeVillagerTask;\n    const panelWidth = 384;\n    const panelHeightEstimate = 400;\n    const panelGap = 8;\n    const panelStyle = {};\n    const spaceBelow = window.innerHeight - currentAnchor.bottom;\n    const spaceAbove = currentAnchor.top;\n    if (spaceBelow < panelHeightEstimate && spaceAbove > spaceBelow) {\n        panelStyle.bottom = \"\".concat(window.innerHeight - currentAnchor.top + panelGap, \"px\");\n        panelStyle.transformOrigin = \"bottom center\";\n    } else {\n        panelStyle.top = \"\".concat(currentAnchor.bottom + panelGap, \"px\");\n        panelStyle.transformOrigin = \"top center\";\n    }\n    let leftPos = currentAnchor.left + currentAnchor.width / 2 - panelWidth / 2;\n    if (leftPos + panelWidth > window.innerWidth - panelGap) leftPos = window.innerWidth - panelWidth - panelGap;\n    if (leftPos < panelGap) leftPos = panelGap;\n    panelStyle.left = \"\".concat(leftPos, \"px\");\n    const getTrainUnitTooltip = ()=>{\n        if (!unitToTrain) return \"\";\n        if (activeTrainTask) return \"Training in progress...\";\n        if (!hasPopCapacity) return \"Need \".concat(trainCount - popSpace, \" more housing.\");\n        if (!canAffordUnit) return \"Insufficient Resources.\";\n        return \"Train \".concat(trainCount, \" \").concat(unitToTrain.name, \"(s)\");\n    };\n    const getTrainVillagerTooltip = ()=>{\n        if (activeVillagerTask) return \"Training in progress...\";\n        if (!hasPopCapacity) return \"Need \".concat(trainCount - popSpace, \" more housing.\");\n        if (!canAffordVillagers) return \"Insufficient Food.\";\n        return \"Train \".concat(trainCount, \" Villager(s)\");\n    };\n    const getAdvanceAgeTooltip = ()=>{\n        if (activeAgeTask) return \"Advancement in progress.\";\n        if (resources.food < 500 || resources.gold < 200) return \"Insufficient resources to advance.\";\n        return \"Advance to the next age (60s)\";\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: panelStyle,\n        className: \"fixed z-40 w-96 transform transition-all duration-300 ease-in-out \".concat(isOpen && !isClosing ? \"opacity-100 scale-100\" : \"opacity-0 scale-95\"),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"sci-fi-panel-popup sci-fi-grid p-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-serif\",\n                            children: [\n                                buildingInfo === null || buildingInfo === void 0 ? void 0 : buildingInfo.name,\n                                !(buildingInfo === null || buildingInfo === void 0 ? void 0 : buildingInfo.isUnique) ? \"s\" : \"\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                            lineNumber: 210,\n                            columnNumber: 73\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleClose,\n                            className: \"text-3xl font-bold sci-fi-close-button\",\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                            lineNumber: 210,\n                            columnNumber: 170\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                    lineNumber: 210,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-2 max-h-48 overflow-y-auto pr-2\",\n                    children: buildingInstances.length > 0 ? buildingInstances.map((instance)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BuildingRow, {\n                            building: instance,\n                            buildingInfo: buildingInfo,\n                            type: type,\n                            onUpdate: onUpdateBuilding,\n                            onDemolish: onDemolishBuilding\n                        }, instance.id, false, {\n                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                            lineNumber: 213,\n                            columnNumber: 60\n                        }, undefined)) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-center text-parchment-dark py-4\",\n                        children: [\n                            \"You have no \",\n                            buildingInfo === null || buildingInfo === void 0 ? void 0 : (_buildingInfo_name = buildingInfo.name) === null || _buildingInfo_name === void 0 ? void 0 : _buildingInfo_name.toLowerCase(),\n                            \"s.\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                        lineNumber: 214,\n                        columnNumber: 27\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                    lineNumber: 211,\n                    columnNumber: 17\n                }, undefined),\n                (type === \"townCenter\" || unitToTrain) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                    className: \"border-stone-light/20 my-3\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                    lineNumber: 217,\n                    columnNumber: 60\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-3\",\n                    children: [\n                        type === \"townCenter\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                activeVillagerTask ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-14 flex flex-col justify-center items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-parchment-dark mb-2\",\n                                            children: [\n                                                \"Training \",\n                                                (_activeVillagerTask_payload = activeVillagerTask.payload) === null || _activeVillagerTask_payload === void 0 ? void 0 : _activeVillagerTask_payload.count,\n                                                \" Villager(s)...\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 223,\n                                            columnNumber: 97\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ProgressBar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                            startTime: activeVillagerTask.startTime,\n                                            duration: activeVillagerTask.duration,\n                                            className: \"w-full h-2\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 223,\n                                            columnNumber: 208\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                    lineNumber: 223,\n                                    columnNumber: 33\n                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"sci-fi-unit-row !p-2 flex items-center gap-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-8 h-8 p-1 bg-black/30 rounded-md text-brand-blue\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.VillagerIcon, {}, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                lineNumber: 226,\n                                                columnNumber: 105\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 226,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-grow\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CostDisplay, {\n                                                cost: totalVillagerCost,\n                                                resources: resources\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                lineNumber: 227,\n                                                columnNumber: 64\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 227,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"range\",\n                                            min: \"1\",\n                                            max: Math.max(1, popSpace),\n                                            value: trainCount,\n                                            onChange: (e)=>setTrainCount(Math.min(Number(e.target.value), popSpace)),\n                                            className: \"sci-fi-slider w-24\",\n                                            disabled: popSpace <= 0\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 228,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"font-bold text-base w-8 text-center bg-black/20 p-1 rounded-md\",\n                                            children: popSpace > 0 ? trainCount : 0\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 229,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative group\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>onTrainVillagers(trainCount),\n                                                    disabled: !canTrainVillagers,\n                                                    className: \"sci-fi-action-button\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-6 h-6\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.VillagerIcon, {}, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                            lineNumber: 230,\n                                                            columnNumber: 210\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                        lineNumber: 230,\n                                                        columnNumber: 185\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                    lineNumber: 230,\n                                                    columnNumber: 69\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                    children: getTrainVillagerTooltip()\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                    lineNumber: 230,\n                                                    columnNumber: 240\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 230,\n                                            columnNumber: 37\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                    lineNumber: 225,\n                                    columnNumber: 33\n                                }, undefined),\n                                activeAgeTask ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-12 mt-2 flex flex-col justify-center items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-parchment-dark mb-2\",\n                                            children: \"Advancing to the next age...\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 234,\n                                            columnNumber: 102\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ProgressBar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                            startTime: activeAgeTask.startTime,\n                                            duration: activeAgeTask.duration,\n                                            className: \"w-full h-2\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 234,\n                                            columnNumber: 182\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                    lineNumber: 234,\n                                    columnNumber: 33\n                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"sci-fi-unit-row !p-2 flex items-center gap-3 mt-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-8 h-8 p-1 bg-black/30 rounded-md text-brand-gold\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.AgeIcon, {}, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                lineNumber: 237,\n                                                columnNumber: 105\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 237,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-grow\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CostDisplay, {\n                                                cost: {\n                                                    food: 500,\n                                                    gold: 200\n                                                },\n                                                resources: resources\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                lineNumber: 238,\n                                                columnNumber: 64\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 238,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative group\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: onAdvanceAge,\n                                                    disabled: !!activeAgeTask || resources.food < 500 || resources.gold < 200,\n                                                    className: \"sci-fi-action-button\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-6 h-6\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.AgeIcon, {}, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                            lineNumber: 239,\n                                                            columnNumber: 233\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                        lineNumber: 239,\n                                                        columnNumber: 208\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                    lineNumber: 239,\n                                                    columnNumber: 69\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                    children: getAdvanceAgeTooltip()\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                    lineNumber: 239,\n                                                    columnNumber: 259\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 239,\n                                            columnNumber: 37\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                    lineNumber: 236,\n                                    columnNumber: 33\n                                }, undefined)\n                            ]\n                        }, void 0, true),\n                        unitToTrain && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: activeTrainTask ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"h-16 flex flex-col justify-center items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-parchment-dark mb-2\",\n                                        children: [\n                                            \"Training \",\n                                            (_activeTrainTask_payload = activeTrainTask.payload) === null || _activeTrainTask_payload === void 0 ? void 0 : _activeTrainTask_payload.count,\n                                            \" \",\n                                            unitToTrain.name,\n                                            \"(s)...\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                        lineNumber: 247,\n                                        columnNumber: 97\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ProgressBar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                        startTime: activeTrainTask.startTime,\n                                        duration: activeTrainTask.duration,\n                                        className: \"w-full h-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                        lineNumber: 247,\n                                        columnNumber: 215\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                lineNumber: 247,\n                                columnNumber: 33\n                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"sci-fi-unit-row !p-2 flex items-center gap-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-8 h-8 p-1 bg-black/30 rounded-md text-brand-red\",\n                                        children: _GameUI__WEBPACK_IMPORTED_MODULE_4__.iconMap[unitToTrain.id]\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                        lineNumber: 250,\n                                        columnNumber: 37\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-grow\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CostDisplay, {\n                                            cost: totalUnitCost,\n                                            resources: resources\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 251,\n                                            columnNumber: 65\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                        lineNumber: 251,\n                                        columnNumber: 38\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        min: \"1\",\n                                        max: Math.max(1, popSpace),\n                                        value: trainCount,\n                                        onChange: (e)=>setTrainCount(Math.min(Number(e.target.value), popSpace)),\n                                        className: \"sci-fi-slider w-24\",\n                                        disabled: popSpace <= 0\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                        lineNumber: 252,\n                                        columnNumber: 38\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"font-bold text-base w-8 text-center bg-black/20 p-1 rounded-md\",\n                                        children: popSpace > 0 ? trainCount : 0\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                        lineNumber: 253,\n                                        columnNumber: 38\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative group\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>onTrainUnits(unitToTrain.id, trainCount),\n                                                disabled: !canTrainUnit,\n                                                className: \"sci-fi-action-button\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-6 h-6\",\n                                                    children: _GameUI__WEBPACK_IMPORTED_MODULE_4__.iconMap[unitToTrain.id]\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                    lineNumber: 254,\n                                                    columnNumber: 193\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                lineNumber: 254,\n                                                columnNumber: 70\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                children: getTrainUnitTooltip()\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                lineNumber: 254,\n                                                columnNumber: 258\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                        lineNumber: 254,\n                                        columnNumber: 38\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                lineNumber: 249,\n                                columnNumber: 34\n                            }, undefined)\n                        }, void 0, false)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                    lineNumber: 219,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n            lineNumber: 209,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n        lineNumber: 208,\n        columnNumber: 9\n    }, undefined);\n};\n_s1(BuildingManagementPanel, \"oP+IBHzZ9Zmf/uZKPJlyyyl14AA=\");\n_c2 = BuildingManagementPanel;\n/* harmony default export */ __webpack_exports__[\"default\"] = (BuildingManagementPanel);\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"BuildingRow\");\n$RefreshReg$(_c1, \"CostDisplay\");\n$RefreshReg$(_c2, \"BuildingManagementPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvQnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTJEO0FBRTRDO0FBQy9EO0FBQ0w7QUFDVztBQXdCOUMsTUFBTWMsY0FNRDtRQUFDLEVBQUVDLFFBQVEsRUFBRUMsWUFBWSxFQUFFQyxJQUFJLEVBQUVDLFFBQVEsRUFBRUMsVUFBVSxFQUFFOztJQUN4RCxNQUFNLENBQUNDLFdBQVdDLGFBQWEsR0FBR3BCLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ3FCLE1BQU1DLFFBQVEsR0FBR3RCLCtDQUFRQSxDQUFDYyxTQUFTTyxJQUFJO0lBQzlDLE1BQU1FLFdBQVdyQiw2Q0FBTUEsQ0FBbUI7SUFFMUNELGdEQUFTQSxDQUFDO1FBQ04sSUFBSWtCLFdBQVc7Z0JBQ1hJLG1CQUNBQTthQURBQSxvQkFBQUEsU0FBU0MsT0FBTyxjQUFoQkQsd0NBQUFBLGtCQUFrQkUsS0FBSzthQUN2QkYscUJBQUFBLFNBQVNDLE9BQU8sY0FBaEJELHlDQUFBQSxtQkFBa0JHLE1BQU07UUFDNUI7SUFDSixHQUFHO1FBQUNQO0tBQVU7SUFFZCxNQUFNUSxhQUFhO1FBQ2YsSUFBSU4sS0FBS08sSUFBSSxNQUFNUCxLQUFLTyxJQUFJLE9BQU9kLFNBQVNPLElBQUksRUFBRTtZQUM5Q0osU0FBU0QsTUFBTUYsU0FBU2UsRUFBRSxFQUFFUixLQUFLTyxJQUFJO1FBQ3pDO1FBQ0FSLGFBQWE7SUFDakI7SUFFQSxNQUFNVSxnQkFBZ0IsQ0FBQ0M7UUFDbkIsSUFBSUEsRUFBRUMsR0FBRyxLQUFLLFNBQVM7WUFDbkJMO1FBQ0osT0FBTyxJQUFJSSxFQUFFQyxHQUFHLEtBQUssVUFBVTtZQUMzQlYsUUFBUVIsU0FBU08sSUFBSTtZQUNyQkQsYUFBYTtRQUNqQjtJQUNKO0lBRUEscUJBQ0ksOERBQUNhO1FBQUlDLFdBQVU7a0JBQ1ZmLDBCQUNHLDhEQUFDZ0I7WUFDR0MsS0FBS2I7WUFDTFAs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QVE7d0NBQUVwSCxXQUFVOzs7Ozs7Ozs7OzswREFFdFIsOERBQUNEO2dDQUFJQyxXQUFVOztrREFDWiw4REFBQ0Q7d0NBQUlDLFdBQVU7a0RBQXFEeEIsNENBQU8sQ0FBQzZGLFlBQVkxRSxFQUFFLENBQUM7Ozs7OztrREFDMUYsOERBQUNJO3dDQUFJQyxXQUFVO2tEQUFZLDRFQUFDaUI7NENBQVlDLE1BQU00RDs0Q0FBZTNELFdBQVdBOzs7Ozs7Ozs7OztrREFDeEUsOERBQUNsQjt3Q0FBTW5CLE1BQUs7d0NBQVF1SSxLQUFJO3dDQUFJekQsS0FBS0QsS0FBS0MsR0FBRyxDQUFDLEdBQUdKO3dDQUFXckQsT0FBT21EO3dDQUFZbEQsVUFBVSxDQUFDUCxJQUFNMEQsY0FBY0ksS0FBSzBELEdBQUcsQ0FBQ0MsT0FBT3pILEVBQUVRLE1BQU0sQ0FBQ0YsS0FBSyxHQUFHcUQ7d0NBQVl4RCxXQUFVO3dDQUFxQmMsVUFBVTBDLFlBQVk7Ozs7OztrREFDNU0sOERBQUN6Qjt3Q0FBSy9CLFdBQVU7a0RBQWtFd0QsV0FBVyxJQUFJRixhQUFhOzs7Ozs7a0RBQzlHLDhEQUFDdkQ7d0NBQUlDLFdBQVU7OzBEQUFpQiw4REFBQ2E7Z0RBQU9HLFNBQVMsSUFBTTJCLGFBQWEwQixZQUFZMUUsRUFBRSxFQUFFMkQ7Z0RBQWF4QyxVQUFVLENBQUN1RTtnREFBY3JGLFdBQVU7MERBQXVCLDRFQUFDRDtvREFBSUMsV0FBVTs4REFBV3hCLDRDQUFPLENBQUM2RixZQUFZMUUsRUFBRSxDQUFDOzs7Ozs7Ozs7OzswREFBZ0IsOERBQUNJO2dEQUFJQyxXQUFVOzBEQUE0S3dHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFTNWI7SUE1SE14RTtNQUFBQTtBQThITiwrREFBZUEsdUJBQXVCQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvQnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwudHN4P2MxYTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB0eXBlIHsgQnVpbGRpbmdzLCBCdWlsZGluZ0luc3RhbmNlLCBCdWlsZGluZ1R5cGUsIEJ1aWxkaW5nQ29uZmlnLCBSZXNvdXJjZXMsIFVuaXRJbmZvLCBNaWxpdGFyeVVuaXRUeXBlLCBHYW1lVGFzayB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IEZvb2RJY29uLCBHb2xkSWNvbiwgU3RvbmVJY29uLCBXb29kSWNvbiwgQWdlSWNvbiwgVmlsbGFnZXJJY29uIH0gZnJvbSAnLi9pY29ucy9SZXNvdXJjZUljb25zJztcbmltcG9ydCBQcm9ncmVzc0JhciBmcm9tICcuL1Byb2dyZXNzQmFyJztcbmltcG9ydCB7IGljb25NYXAgfSBmcm9tICcuL0dhbWVVSSc7XG5pbXBvcnQgeyBUcmFzaDIsIFdyZW5jaCB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5cbmludGVyZmFjZSBCdWlsZGluZ01hbmFnZW1lbnRQYW5lbFByb3BzIHtcbiAgICBpc09wZW46IGJvb2xlYW47XG4gICAgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgICBwYW5lbFN0YXRlOiB7XG4gICAgICAgIHR5cGU6IEJ1aWxkaW5nVHlwZSB8IHN0cmluZyB8IG51bGw7XG4gICAgICAgIGluc3RhbmNlSWQ/OiBzdHJpbmc7XG4gICAgfTtcbiAgICBidWlsZGluZ3M6IEJ1aWxkaW5ncztcbiAgICBidWlsZGluZ0xpc3Q6IEJ1aWxkaW5nQ29uZmlnW107XG4gICAgb25VcGRhdGVCdWlsZGluZzogKHR5cGU6IEJ1aWxkaW5nVHlwZSB8IHN0cmluZywgaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nKSA9PiB2b2lkO1xuICAgIG9uRGVtb2xpc2hCdWlsZGluZzogKHR5cGU6IEJ1aWxkaW5nVHlwZSB8IHN0cmluZywgaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgICBvblRyYWluVW5pdHM6ICh1bml0VHlwZTogTWlsaXRhcnlVbml0VHlwZSwgY291bnQ6IG51bWJlcikgPT4gdm9pZDtcbiAgICBvblRyYWluVmlsbGFnZXJzOiAoY291bnQ6IG51bWJlcikgPT4gdm9pZDtcbiAgICByZXNvdXJjZXM6IFJlc291cmNlcztcbiAgICBwb3B1bGF0aW9uOiB7IGN1cnJlbnQ6IG51bWJlcjsgY2FwYWNpdHk6IG51bWJlciB9O1xuICAgIHVuaXRMaXN0OiBVbml0SW5mb1tdO1xuICAgIG9uQWR2YW5jZUFnZTogKCkgPT4gdm9pZDtcbiAgICBhY3RpdmVUYXNrczogR2FtZVRhc2tbXTtcbiAgICBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbDtcbn1cblxuXG5jb25zdCBCdWlsZGluZ1JvdzogUmVhY3QuRkM8e1xuICAgIGJ1aWxkaW5nOiBCdWlsZGluZ0luc3RhbmNlO1xuICAgIGJ1aWxkaW5nSW5mbzogQnVpbGRpbmdDb25maWc7XG4gICAgdHlwZTogQnVpbGRpbmdUeXBlIHwgc3RyaW5nO1xuICAgIG9uVXBkYXRlOiAodHlwZTogQnVpbGRpbmdUeXBlIHwgc3RyaW5nLCBpZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcpID0+IHZvaWQ7XG4gICAgb25EZW1vbGlzaDogKHR5cGU6IEJ1aWxkaW5nVHlwZSB8IHN0cmluZywgaWQ6IHN0cmluZykgPT4gdm9pZDtcbn0+ID0gKHsgYnVpbGRpbmcsIGJ1aWxkaW5nSW5mbywgdHlwZSwgb25VcGRhdGUsIG9uRGVtb2xpc2ggfSkgPT4ge1xuICAgIGNvbnN0IFtpc0VkaXRpbmcsIHNldElzRWRpdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW25hbWUsIHNldE5hbWVdID0gdXNlU3RhdGUoYnVpbGRpbmcubmFtZSk7XG4gICAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNFZGl0aW5nKSB7XG4gICAgICAgICAgICBpbnB1dFJlZi5jdXJyZW50Py5mb2N1cygpO1xuICAgICAgICAgICAgaW5wdXRSZWYuY3VycmVudD8uc2VsZWN0KCk7XG4gICAgICAgIH1cbiAgICB9LCBbaXNFZGl0aW5nXSk7XG5cbiAgICBjb25zdCBoYW5kbGVTYXZlID0gKCkgPT4ge1xuICAgICAgICBpZiAobmFtZS50cmltKCkgJiYgbmFtZS50cmltKCkgIT09IGJ1aWxkaW5nLm5hbWUpIHtcbiAgICAgICAgICAgIG9uVXBkYXRlKHR5cGUsIGJ1aWxkaW5nLmlkLCBuYW1lLnRyaW0oKSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0SXNFZGl0aW5nKGZhbHNlKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgICAgaGFuZGxlU2F2ZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICAgICAgc2V0TmFtZShidWlsZGluZy5uYW1lKTtcbiAgICAgICAgICAgIHNldElzRWRpdGluZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzY2ktZmktdW5pdC1yb3cgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcC0yIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAge2lzRWRpdGluZyA/IChcbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgcmVmPXtpbnB1dFJlZn1cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bmFtZX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROYW1lKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgb25CbHVyPXtoYW5kbGVTYXZlfVxuICAgICAgICAgICAgICAgICAgICBvbktleURvd249e2hhbmRsZUtleURvd259XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNjaS1maS1pbnB1dCB3LWZ1bGwgIXRleHQtYmFzZVwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtZ3JvdyBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkRvdWJsZUNsaWNrPXsoKSA9PiBzZXRJc0VkaXRpbmcodHJ1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkRvdWJsZS1jbGljayB0byByZW5hbWVcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWJhc2UgZm9udC1ib2xkXCI+e2J1aWxkaW5nLm5hbWV9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXBhcmNobWVudC1kYXJrIGZvbnQtbW9ub1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgSFA6IHtidWlsZGluZy5jdXJyZW50SHB9IC8ge2J1aWxkaW5nSW5mby5ocH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXAgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2J1aWxkaW5nLmN1cnJlbnRIcCA+PSBidWlsZGluZ0luZm8uaHB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMS41IHRleHQtcGFyY2htZW50LWRhcmsvNjAgaG92ZXI6dGV4dC1icmFuZC1ncmVlbiByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1jb2xvcnMgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMSBmb2N1czpyaW5nLWJyYW5kLWdyZWVuLzUwIGRpc2FibGVkOnRleHQtcGFyY2htZW50LWRhcmsvMzAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlJlcGFpclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8V3JlbmNoIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLWZ1bGwgcmlnaHQtMS8yIHRyYW5zbGF0ZS14LTEvMiBtYi0xIHctbWF4IHB4LTIgcHktMSBiZy1zdG9uZS1kYXJrIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkIG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLW9wYWNpdHkgcG9pbnRlci1ldmVudHMtbm9uZSB6LTEwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtidWlsZGluZy5jdXJyZW50SHAgPj0gYnVpbGRpbmdJbmZvLmhwID8gJ0F0IGZ1bGwgaGVhbHRoJyA6ICdSZXBhaXIgKGNvbWluZyBzb29uKSd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXAgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25EZW1vbGlzaCh0eXBlLCBidWlsZGluZy5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0eXBlID09PSAndG93bkNlbnRlcid9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMS41IHRleHQtcGFyY2htZW50LWRhcmsvNjAgaG92ZXI6dGV4dC1icmFuZC1yZWQgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tY29sb3JzIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTEgZm9jdXM6cmluZy1icmFuZC1yZWQvNTAgZGlzYWJsZWQ6dGV4dC1wYXJjaG1lbnQtZGFyay8zMCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiRGVtb2xpc2hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRyYXNoMiBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIHJpZ2h0LTEvMiB0cmFuc2xhdGUteC0xLzIgbWItMSB3LW1heCBweC0yIHB5LTEgYmctc3RvbmUtZGFyayB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IHBvaW50ZXItZXZlbnRzLW5vbmUgei0xMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dHlwZSA9PT0gJ3Rvd25DZW50ZXInID8gJ0Nhbm5vdCBkZW1vbGlzaCBUb3duIENlbnRlcicgOiAnRGVtb2xpc2gnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cblxuY29uc3QgQ29zdERpc3BsYXk6IFJlYWN0LkZDPHsgY29zdDogeyBba2V5IGluIGtleW9mIFJlc291cmNlc10/OiBudW1iZXIgfSwgcmVzb3VyY2VzOiBSZXNvdXJjZXMgfT4gPSAoeyBjb3N0LCByZXNvdXJjZXMgfSkgPT4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLXgtMyBnYXAteS0xIHRleHQteHNcIj5cbiAgICAgICAgeyhPYmplY3QuZW50cmllcyhjb3N0KSBhcyBba2V5b2YgUmVzb3VyY2VzLCBudW1iZXJdW10pLm1hcCgoW3Jlc291cmNlLCBhbW91bnRdKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWFtb3VudCkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBjb25zdCBoYXNFbm91Z2ggPSByZXNvdXJjZXNbcmVzb3VyY2VdID49IGFtb3VudDtcbiAgICAgICAgICAgIGNvbnN0IEljb24gPSB7IGZvb2Q6IEZvb2RJY29uLCB3b29kOiBXb29kSWNvbiwgZ29sZDogR29sZEljb24sIHN0b25lOiBTdG9uZUljb24gfVtyZXNvdXJjZV07XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxzcGFuIGtleT17cmVzb3VyY2V9IGNsYXNzTmFtZT17YGZsZXggaXRlbXMtY2VudGVyICR7aGFzRW5vdWdoID8gJycgOiAndGV4dC1icmFuZC1yZWQnfWB9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNCBoLTRcIj48SWNvbiAvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0xIGZvbnQtbW9ub1wiPnthbW91bnR9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pfVxuICAgIDwvZGl2PlxuKTtcblxuXG5jb25zdCBCdWlsZGluZ01hbmFnZW1lbnRQYW5lbDogUmVhY3QuRkM8QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWxQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGlzT3Blbiwgb25DbG9zZSwgcGFuZWxTdGF0ZSwgYnVpbGRpbmdzLCBidWlsZGluZ0xpc3QsIG9uVXBkYXRlQnVpbGRpbmcsIG9uRGVtb2xpc2hCdWlsZGluZywgb25UcmFpblVuaXRzLCBvblRyYWluVmlsbGFnZXJzLCByZXNvdXJjZXMsIHBvcHVsYXRpb24sIHVuaXRMaXN0LCBvbkFkdmFuY2VBZ2UsIGFjdGl2ZVRhc2tzLCBhbmNob3JSZWN0IH0gPSBwcm9wcztcbiAgICBcbiAgICBjb25zdCBbaXNDbG9zaW5nLCBzZXRJc0Nsb3NpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtjdXJyZW50RGF0YSwgc2V0Q3VycmVudERhdGFdID0gdXNlU3RhdGUoeyBwYW5lbFN0YXRlLCBidWlsZGluZ3MsIGFuY2hvclJlY3QgfSk7XG4gICAgY29uc3QgW3RyYWluQ291bnQsIHNldFRyYWluQ291bnRdID0gdXNlU3RhdGUoMSk7XG5cbiAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFpc09wZW4pIHJldHVybjtcbiAgICAgICAgY29uc3QgcG9wU3BhY2UgPSBwb3B1bGF0aW9uLmNhcGFjaXR5IC0gcG9wdWxhdGlvbi5jdXJyZW50O1xuICAgICAgICBjb25zdCBjdXJyZW50Q291bnQgPSB0cmFpbkNvdW50O1xuICAgICAgICBpZiAoY3VycmVudENvdW50ID4gcG9wU3BhY2UpIHNldFRyYWluQ291bnQoTWF0aC5tYXgoMCwgcG9wU3BhY2UpKTtcbiAgICAgICAgZWxzZSBpZiAoY3VycmVudENvdW50ID09PSAwICYmIHBvcFNwYWNlID4gMCkgc2V0VHJhaW5Db3VudCgxKTtcbiAgICAgICAgZWxzZSBpZiAocG9wU3BhY2UgPT09IDApIHNldFRyYWluQ291bnQoMCk7XG4gICAgfSwgW2lzT3BlbiwgcGFuZWxTdGF0ZS50eXBlLCBwb3B1bGF0aW9uLmNhcGFjaXR5LCBwb3B1bGF0aW9uLmN1cnJlbnQsIHRyYWluQ291bnRdKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpc09wZW4gfHwgaXNDbG9zaW5nKSBzZXRDdXJyZW50RGF0YSh7IHBhbmVsU3RhdGUsIGJ1aWxkaW5ncywgYW5jaG9yUmVjdCB9KTtcbiAgICB9LCBbcGFuZWxTdGF0ZSwgYnVpbGRpbmdzLCBhbmNob3JSZWN0LCBpc09wZW4sIGlzQ2xvc2luZ10pO1xuXG4gICAgY29uc3QgaGFuZGxlQ2xvc2UgPSAoKSA9PiB7IHNldElzQ2xvc2luZyh0cnVlKTsgc2V0VGltZW91dCgoKSA9PiB7IG9uQ2xvc2UoKTsgc2V0SXNDbG9zaW5nKGZhbHNlKTsgfSwgMzAwKTsgfTtcblxuICAgIGlmICghaXNPcGVuICYmICFpc0Nsb3NpbmcpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgeyBwYW5lbFN0YXRlOiBjdXJyZW50UGFuZWxTdGF0ZSwgYnVpbGRpbmdzOiBjdXJyZW50QnVpbGRpbmdzLCBhbmNob3JSZWN0OiBjdXJyZW50QW5jaG9yIH0gPSBjdXJyZW50RGF0YTtcbiAgICBjb25zdCB7IHR5cGUgfSA9IGN1cnJlbnRQYW5lbFN0YXRlO1xuXG4gICAgaWYgKCF0eXBlIHx8ICFjdXJyZW50QW5jaG9yKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gdHlwZSk7XG4gICAgaWYgKCFidWlsZGluZ0luZm8pIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgYnVpbGRpbmdJbnN0YW5jZXMgPSBjdXJyZW50QnVpbGRpbmdzW3R5cGVdIHx8IFtdO1xuICAgIGNvbnN0IHVuaXRUb1RyYWluID0gdW5pdExpc3QuZmluZCh1ID0+IHUucmVxdWlyZWRCdWlsZGluZyA9PT0gdHlwZSk7XG4gICAgXG4gICAgY29uc3QgYWN0aXZlVHJhaW5UYXNrID0gdW5pdFRvVHJhaW4gPyBhY3RpdmVUYXNrcy5maW5kKHQgPT4gdC50eXBlID09PSAndHJhaW5fbWlsaXRhcnknICYmIHQucGF5bG9hZD8udW5pdFR5cGUgPT09IHVuaXRUb1RyYWluPy5pZCkgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgYWN0aXZlVmlsbGFnZXJUYXNrID0gYWN0aXZlVGFza3MuZmluZCh0ID0+IHQudHlwZSA9PT0gJ3RyYWluX3ZpbGxhZ2VyJyk7XG4gICAgY29uc3QgYWN0aXZlQWdlVGFzayA9IGFjdGl2ZVRhc2tzLmZpbmQodCA9PiB0LnR5cGUgPT09ICdhZHZhbmNlX2FnZScpO1xuXG4gICAgY29uc3QgcG9wU3BhY2UgPSBwb3B1bGF0aW9uLmNhcGFjaXR5IC0gcG9wdWxhdGlvbi5jdXJyZW50O1xuICAgIGNvbnN0IGhhc1BvcENhcGFjaXR5ID0gcG9wU3BhY2UgPj0gdHJhaW5Db3VudDtcblxuICAgIGNvbnN0IHRvdGFsVW5pdENvc3QgPSB1bml0VG9UcmFpbiA/IE9iamVjdC5lbnRyaWVzKHVuaXRUb1RyYWluLmNvc3QpLnJlZHVjZSgoYWNjLCBbcmVzLCB2YWxdKSA9PiAoeyAuLi5hY2MsIFtyZXNdOiAodmFsIHx8IDApICogdHJhaW5Db3VudCB9KSwge30gYXMgYW55KSA6IHt9O1xuICAgIGNvbnN0IGNhbkFmZm9yZFVuaXQgPSB1bml0VG9UcmFpbiA/IE9iamVjdC5lbnRyaWVzKHRvdGFsVW5pdENvc3QpLmV2ZXJ5KChbcmVzLCBjb3N0XSkgPT4gcmVzb3VyY2VzW3JlcyBhcyBrZXlvZiBSZXNvdXJjZXNdID49IChjb3N0IGFzIG51bWJlcikpIDogZmFsc2U7XG4gICAgY29uc3QgY2FuVHJhaW5Vbml0ID0gdW5pdFRvVHJhaW4gJiYgY2FuQWZmb3JkVW5pdCAmJiBoYXNQb3BDYXBhY2l0eSAmJiAhYWN0aXZlVHJhaW5UYXNrO1xuXG4gICAgY29uc3QgdG90YWxWaWxsYWdlckNvc3QgPSB7IGZvb2Q6IDUwICogdHJhaW5Db3VudCB9O1xuICAgIGNvbnN0IGNhbkFmZm9yZFZpbGxhZ2VycyA9IHJlc291cmNlcy5mb29kID49IHRvdGFsVmlsbGFnZXJDb3N0LmZvb2Q7XG4gICAgY29uc3QgY2FuVHJhaW5WaWxsYWdlcnMgPSBjYW5BZmZvcmRWaWxsYWdlcnMgJiYgaGFzUG9wQ2FwYWNpdHkgJiYgIWFjdGl2ZVZpbGxhZ2VyVGFzaztcblxuICAgIGNvbnN0IHBhbmVsV2lkdGggPSAzODQ7IGNvbnN0IHBhbmVsSGVpZ2h0RXN0aW1hdGUgPSA0MDA7IGNvbnN0IHBhbmVsR2FwID0gODtcbiAgICBjb25zdCBwYW5lbFN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzID0ge307XG4gICAgY29uc3Qgc3BhY2VCZWxvdyA9IHdpbmRvdy5pbm5lckhlaWdodCAtIGN1cnJlbnRBbmNob3IuYm90dG9tO1xuICAgIGNvbnN0IHNwYWNlQWJvdmUgPSBjdXJyZW50QW5jaG9yLnRvcDtcbiAgICBpZiAoc3BhY2VCZWxvdyA8IHBhbmVsSGVpZ2h0RXN0aW1hdGUgJiYgc3BhY2VBYm92ZSA+IHNwYWNlQmVsb3cpIHtcbiAgICAgICAgcGFuZWxTdHlsZS5ib3R0b20gPSBgJHt3aW5kb3cuaW5uZXJIZWlnaHQgLSBjdXJyZW50QW5jaG9yLnRvcCArIHBhbmVsR2FwfXB4YDsgcGFuZWxTdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSAnYm90dG9tIGNlbnRlcic7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcGFuZWxTdHlsZS50b3AgPSBgJHtjdXJyZW50QW5jaG9yLmJvdHRvbSArIHBhbmVsR2FwfXB4YDsgcGFuZWxTdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSAndG9wIGNlbnRlcic7XG4gICAgfVxuICAgIGxldCBsZWZ0UG9zID0gY3VycmVudEFuY2hvci5sZWZ0ICsgY3VycmVudEFuY2hvci53aWR0aCAvIDIgLSBwYW5lbFdpZHRoIC8gMjtcbiAgICBpZiAobGVmdFBvcyArIHBhbmVsV2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCAtIHBhbmVsR2FwKSBsZWZ0UG9zID0gd2luZG93LmlubmVyV2lkdGggLSBwYW5lbFdpZHRoIC0gcGFuZWxHYXA7XG4gICAgaWYgKGxlZnRQb3MgPCBwYW5lbEdhcCkgbGVmdFBvcyA9IHBhbmVsR2FwO1xuICAgIHBhbmVsU3R5bGUubGVmdCA9IGAke2xlZnRQb3N9cHhgO1xuXG4gICAgY29uc3QgZ2V0VHJhaW5Vbml0VG9vbHRpcCA9ICgpID0+IHsgaWYgKCF1bml0VG9UcmFpbikgcmV0dXJuICcnOyBpZiAoYWN0aXZlVHJhaW5UYXNrKSByZXR1cm4gJ1RyYWluaW5nIGluIHByb2dyZXNzLi4uJzsgaWYgKCFoYXNQb3BDYXBhY2l0eSkgcmV0dXJuIGBOZWVkICR7dHJhaW5Db3VudCAtIHBvcFNwYWNlfSBtb3JlIGhvdXNpbmcuYDsgaWYgKCFjYW5BZmZvcmRVbml0KSByZXR1cm4gJ0luc3VmZmljaWVudCBSZXNvdXJjZXMuJzsgcmV0dXJuIGBUcmFpbiAke3RyYWluQ291bnR9ICR7dW5pdFRvVHJhaW4ubmFtZX0ocylgOyB9O1xuICAgIGNvbnN0IGdldFRyYWluVmlsbGFnZXJUb29sdGlwID0gKCkgPT4geyBpZiAoYWN0aXZlVmlsbGFnZXJUYXNrKSByZXR1cm4gJ1RyYWluaW5nIGluIHByb2dyZXNzLi4uJzsgaWYgKCFoYXNQb3BDYXBhY2l0eSkgcmV0dXJuIGBOZWVkICR7dHJhaW5Db3VudCAtIHBvcFNwYWNlfSBtb3JlIGhvdXNpbmcuYDsgaWYgKCFjYW5BZmZvcmRWaWxsYWdlcnMpIHJldHVybiAnSW5zdWZmaWNpZW50IEZvb2QuJzsgcmV0dXJuIGBUcmFpbiAke3RyYWluQ291bnR9IFZpbGxhZ2VyKHMpYDsgfTtcbiAgICBjb25zdCBnZXRBZHZhbmNlQWdlVG9vbHRpcCA9ICgpID0+IHsgaWYgKGFjdGl2ZUFnZVRhc2spIHJldHVybiAnQWR2YW5jZW1lbnQgaW4gcHJvZ3Jlc3MuJzsgaWYgKHJlc291cmNlcy5mb29kIDwgNTAwIHx8IHJlc291cmNlcy5nb2xkIDwgMjAwKSByZXR1cm4gJ0luc3VmZmljaWVudCByZXNvdXJjZXMgdG8gYWR2YW5jZS4nOyByZXR1cm4gJ0FkdmFuY2UgdG8gdGhlIG5leHQgYWdlICg2MHMpJzsgfTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgc3R5bGU9e3BhbmVsU3R5bGV9IGNsYXNzTmFtZT17YGZpeGVkIHotNDAgdy05NiB0cmFuc2Zvcm0gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGVhc2UtaW4tb3V0ICR7aXNPcGVuICYmICFpc0Nsb3NpbmcgPyAnb3BhY2l0eS0xMDAgc2NhbGUtMTAwJyA6ICdvcGFjaXR5LTAgc2NhbGUtOTUnfWB9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzY2ktZmktcGFuZWwtcG9wdXAgc2NpLWZpLWdyaWQgcC00XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItNFwiPjxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LXNlcmlmXCI+e2J1aWxkaW5nSW5mbz8ubmFtZX17IWJ1aWxkaW5nSW5mbz8uaXNVbmlxdWUgPyAncycgOiAnJ308L2gyPjxidXR0b24gb25DbGljaz17aGFuZGxlQ2xvc2V9IGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCBzY2ktZmktY2xvc2UtYnV0dG9uXCI+JnRpbWVzOzwvYnV0dG9uPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yIG1heC1oLTQ4IG92ZXJmbG93LXktYXV0byBwci0yXCI+XG4gICAgICAgICAgICAgICAgICAgIHtidWlsZGluZ0luc3RhbmNlcy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdJbnN0YW5jZXMubWFwKGluc3RhbmNlID0+ICg8QnVpbGRpbmdSb3cga2V5PXtpbnN0YW5jZS5pZH0gYnVpbGRpbmc9e2luc3RhbmNlfSBidWlsZGluZ0luZm89e2J1aWxkaW5nSW5mb30gdHlwZT17dHlwZX0gb25VcGRhdGU9e29uVXBkYXRlQnVpbGRpbmd9IG9uRGVtb2xpc2g9e29uRGVtb2xpc2hCdWlsZGluZ30gLz4pKVxuICAgICAgICAgICAgICAgICAgICApIDogKCA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LXBhcmNobWVudC1kYXJrIHB5LTRcIj5Zb3UgaGF2ZSBubyB7YnVpbGRpbmdJbmZvPy5uYW1lPy50b0xvd2VyQ2FzZSgpfXMuPC9wPiApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgeyh0eXBlID09PSAndG93bkNlbnRlcicgfHwgdW5pdFRvVHJhaW4pICYmIDxociBjbGFzc05hbWU9XCJib3JkZXItc3RvbmUtbGlnaHQvMjAgbXktM1wiIC8+fVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgIHt0eXBlID09PSAndG93bkNlbnRlcicgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2FjdGl2ZVZpbGxhZ2VyVGFzayA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTE0IGZsZXggZmxleC1jb2wganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyXCI+PHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXBhcmNobWVudC1kYXJrIG1iLTJcIj5UcmFpbmluZyB7YWN0aXZlVmlsbGFnZXJUYXNrLnBheWxvYWQ/LmNvdW50fSBWaWxsYWdlcihzKS4uLjwvcD48UHJvZ3Jlc3NCYXIgc3RhcnRUaW1lPXthY3RpdmVWaWxsYWdlclRhc2suc3RhcnRUaW1lfSBkdXJhdGlvbj17YWN0aXZlVmlsbGFnZXJUYXNrLmR1cmF0aW9ufSBjbGFzc05hbWU9XCJ3LWZ1bGwgaC0yXCIvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2NpLWZpLXVuaXQtcm93ICFwLTIgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04IGgtOCBwLTEgYmctYmxhY2svMzAgcm91bmRlZC1tZCB0ZXh0LWJyYW5kLWJsdWVcIj48VmlsbGFnZXJJY29uLz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1ncm93XCI+PENvc3REaXNwbGF5IGNvc3Q9e3RvdGFsVmlsbGFnZXJDb3N0fSByZXNvdXJjZXM9e3Jlc291cmNlc30gLz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBtaW49XCIxXCIgbWF4PXtNYXRoLm1heCgxLCBwb3BTcGFjZSl9IHZhbHVlPXt0cmFpbkNvdW50fSBvbkNoYW5nZT17KGUpID0+IHNldFRyYWluQ291bnQoTWF0aC5taW4oTnVtYmVyKGUudGFyZ2V0LnZhbHVlKSwgcG9wU3BhY2UpKX0gY2xhc3NOYW1lPVwic2NpLWZpLXNsaWRlciB3LTI0XCIgZGlzYWJsZWQ9e3BvcFNwYWNlIDw9IDB9Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWJhc2Ugdy04IHRleHQtY2VudGVyIGJnLWJsYWNrLzIwIHAtMSByb3VuZGVkLW1kXCI+e3BvcFNwYWNlID4gMCA/IHRyYWluQ291bnQgOiAwfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXBcIj48YnV0dG9uIG9uQ2xpY2s9eygpID0+IG9uVHJhaW5WaWxsYWdlcnModHJhaW5Db3VudCl9IGRpc2FibGVkPXshY2FuVHJhaW5WaWxsYWdlcnN9IGNsYXNzTmFtZT1cInNjaS1maS1hY3Rpb24tYnV0dG9uXCI+PGRpdiBjbGFzc05hbWU9XCJ3LTYgaC02XCI+PFZpbGxhZ2VySWNvbi8+PC9kaXY+PC9idXR0b24+PGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tZnVsbCByaWdodC0wIG1iLTIgdy1tYXggcHgtMiBweS0xIGJnLXN0b25lLWRhcmsgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBwb2ludGVyLWV2ZW50cy1ub25lIHotMTBcIj57Z2V0VHJhaW5WaWxsYWdlclRvb2x0aXAoKX08L2Rpdj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2FjdGl2ZUFnZVRhc2sgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC0xMiBtdC0yIGZsZXggZmxleC1jb2wganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyXCI+PHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXBhcmNobWVudC1kYXJrIG1iLTJcIj5BZHZhbmNpbmcgdG8gdGhlIG5leHQgYWdlLi4uPC9wPjxQcm9ncmVzc0JhciBzdGFydFRpbWU9e2FjdGl2ZUFnZVRhc2suc3RhcnRUaW1lfSBkdXJhdGlvbj17YWN0aXZlQWdlVGFzay5kdXJhdGlvbn0gY2xhc3NOYW1lPVwidy1mdWxsIGgtMlwiLz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNjaS1maS11bml0LXJvdyAhcC0yIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIG10LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04IGgtOCBwLTEgYmctYmxhY2svMzAgcm91bmRlZC1tZCB0ZXh0LWJyYW5kLWdvbGRcIj48QWdlSWNvbi8+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtZ3Jvd1wiPjxDb3N0RGlzcGxheSBjb3N0PXt7IGZvb2Q6IDUwMCwgZ29sZDogMjAwIH19IHJlc291cmNlcz17cmVzb3VyY2VzfSAvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBncm91cFwiPjxidXR0b24gb25DbGljaz17b25BZHZhbmNlQWdlfSBkaXNhYmxlZD17ISFhY3RpdmVBZ2VUYXNrIHx8IHJlc291cmNlcy5mb29kIDwgNTAwIHx8IHJlc291cmNlcy5nb2xkIDwgMjAwfSBjbGFzc05hbWU9XCJzY2ktZmktYWN0aW9uLWJ1dHRvblwiPjxkaXYgY2xhc3NOYW1lPVwidy02IGgtNlwiPjxBZ2VJY29uIC8+PC9kaXY+PC9idXR0b24+PGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tZnVsbCByaWdodC0wIG1iLTIgdy1tYXggcHgtMiBweS0xIGJnLXN0b25lLWRhcmsgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBwb2ludGVyLWV2ZW50cy1ub25lIHotMTBcIj57Z2V0QWR2YW5jZUFnZVRvb2x0aXAoKX08L2Rpdj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICB7dW5pdFRvVHJhaW4gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YWN0aXZlVHJhaW5UYXNrID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtMTYgZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXJcIj48cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcGFyY2htZW50LWRhcmsgbWItMlwiPlRyYWluaW5nIHthY3RpdmVUcmFpblRhc2sucGF5bG9hZD8uY291bnR9IHt1bml0VG9UcmFpbi5uYW1lfShzKS4uLjwvcD48UHJvZ3Jlc3NCYXIgc3RhcnRUaW1lPXthY3RpdmVUcmFpblRhc2suc3RhcnRUaW1lfSBkdXJhdGlvbj17YWN0aXZlVHJhaW5UYXNrLmR1cmF0aW9ufSBjbGFzc05hbWU9XCJ3LWZ1bGwgaC0yXCIvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNjaS1maS11bml0LXJvdyAhcC0yIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOCBoLTggcC0xIGJnLWJsYWNrLzMwIHJvdW5kZWQtbWQgdGV4dC1icmFuZC1yZWRcIj57aWNvbk1hcFt1bml0VG9UcmFpbi5pZF19PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LWdyb3dcIj48Q29zdERpc3BsYXkgY29zdD17dG90YWxVbml0Q29zdH0gcmVzb3VyY2VzPXtyZXNvdXJjZXN9IC8+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYW5nZVwiIG1pbj1cIjFcIiBtYXg9e01hdGgubWF4KDEsIHBvcFNwYWNlKX0gdmFsdWU9e3RyYWluQ291bnR9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0VHJhaW5Db3VudChNYXRoLm1pbihOdW1iZXIoZS50YXJnZXQudmFsdWUpLCBwb3BTcGFjZSkpfSBjbGFzc05hbWU9XCJzY2ktZmktc2xpZGVyIHctMjRcIiBkaXNhYmxlZD17cG9wU3BhY2UgPD0gMH0vPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWJhc2Ugdy04IHRleHQtY2VudGVyIGJnLWJsYWNrLzIwIHAtMSByb3VuZGVkLW1kXCI+e3BvcFNwYWNlID4gMCA/IHRyYWluQ291bnQgOiAwfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGdyb3VwXCI+PGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBvblRyYWluVW5pdHModW5pdFRvVHJhaW4uaWQsIHRyYWluQ291bnQpfSBkaXNhYmxlZD17IWNhblRyYWluVW5pdH0gY2xhc3NOYW1lPVwic2NpLWZpLWFjdGlvbi1idXR0b25cIj48ZGl2IGNsYXNzTmFtZT1cInctNiBoLTZcIj57aWNvbk1hcFt1bml0VG9UcmFpbi5pZF19PC9kaXY+PC9idXR0b24+PGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tZnVsbCByaWdodC0wIG1iLTIgdy1tYXggcHgtMiBweS0xIGJnLXN0b25lLWRhcmsgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBwb2ludGVyLWV2ZW50cy1ub25lIHotMTBcIj57Z2V0VHJhaW5Vbml0VG9vbHRpcCgpfTwvZGl2PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJGb29kSWNvbiIsIkdvbGRJY29uIiwiU3RvbmVJY29uIiwiV29vZEljb24iLCJBZ2VJY29uIiwiVmlsbGFnZXJJY29uIiwiUHJvZ3Jlc3NCYXIiLCJpY29uTWFwIiwiVHJhc2gyIiwiV3JlbmNoIiwiQnVpbGRpbmdSb3ciLCJidWlsZGluZyIsImJ1aWxkaW5nSW5mbyIsInR5cGUiLCJvblVwZGF0ZSIsIm9uRGVtb2xpc2giLCJpc0VkaXRpbmciLCJzZXRJc0VkaXRpbmciLCJuYW1lIiwic2V0TmFtZSIsImlucHV0UmVmIiwiY3VycmVudCIsImZvY3VzIiwic2VsZWN0IiwiaGFuZGxlU2F2ZSIsInRyaW0iLCJpZCIsImhhbmRsZUtleURvd24iLCJlIiwia2V5IiwiZGl2IiwiY2xhc3NOYW1lIiwiaW5wdXQiLCJyZWYiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwidGFyZ2V0Iiwib25CbHVyIiwib25LZXlEb3duIiwib25Eb3VibGVDbGljayIsInRpdGxlIiwicCIsImN1cnJlbnRIcCIsImhwIiwiYnV0dG9uIiwiZGlzYWJsZWQiLCJhcmlhLWxhYmVsIiwib25DbGljayIsIkNvc3REaXNwbGF5IiwiY29zdCIsInJlc291cmNlcyIsIk9iamVjdCIsImVudHJpZXMiLCJtYXAiLCJyZXNvdXJjZSIsImFtb3VudCIsImhhc0Vub3VnaCIsIkljb24iLCJmb29kIiwid29vZCIsImdvbGQiLCJzdG9uZSIsInNwYW4iLCJCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCIsInByb3BzIiwiYWN0aXZlVmlsbGFnZXJUYXNrIiwiYWN0aXZlVHJhaW5UYXNrIiwiaXNPcGVuIiwib25DbG9zZSIsInBhbmVsU3RhdGUiLCJidWlsZGluZ3MiLCJidWlsZGluZ0xpc3QiLCJvblVwZGF0ZUJ1aWxkaW5nIiwib25EZW1vbGlzaEJ1aWxkaW5nIiwib25UcmFpblVuaXRzIiwib25UcmFpblZpbGxhZ2VycyIsInBvcHVsYXRpb24iLCJ1bml0TGlzdCIsIm9uQWR2YW5jZUFnZSIsImFjdGl2ZVRhc2tzIiwiYW5jaG9yUmVjdCIsImlzQ2xvc2luZyIsInNldElzQ2xvc2luZyIsImN1cnJlbnREYXRhIiwic2V0Q3VycmVudERhdGEiLCJ0cmFpbkNvdW50Iiwic2V0VHJhaW5Db3VudCIsInBvcFNwYWNlIiwiY2FwYWNpdHkiLCJjdXJyZW50Q291bnQiLCJNYXRoIiwibWF4IiwiaGFuZGxlQ2xvc2UiLCJzZXRUaW1lb3V0IiwiY3VycmVudFBhbmVsU3RhdGUiLCJjdXJyZW50QnVpbGRpbmdzIiwiY3VycmVudEFuY2hvciIsImZpbmQiLCJiIiwiYnVpbGRpbmdJbnN0YW5jZXMiLCJ1bml0VG9UcmFpbiIsInUiLCJyZXF1aXJlZEJ1aWxkaW5nIiwidCIsInBheWxvYWQiLCJ1bml0VHlwZSIsInVuZGVmaW5lZCIsImFjdGl2ZUFnZVRhc2siLCJoYXNQb3BDYXBhY2l0eSIsInRvdGFsVW5pdENvc3QiLCJyZWR1Y2UiLCJhY2MiLCJyZXMiLCJ2YWwiLCJjYW5BZmZvcmRVbml0IiwiZXZlcnkiLCJjYW5UcmFpblVuaXQiLCJ0b3RhbFZpbGxhZ2VyQ29zdCIsImNhbkFmZm9yZFZpbGxhZ2VycyIsImNhblRyYWluVmlsbGFnZXJzIiwicGFuZWxXaWR0aCIsInBhbmVsSGVpZ2h0RXN0aW1hdGUiLCJwYW5lbEdhcCIsInBhbmVsU3R5bGUiLCJzcGFjZUJlbG93Iiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJib3R0b20iLCJzcGFjZUFib3ZlIiwidG9wIiwidHJhbnNmb3JtT3JpZ2luIiwibGVmdFBvcyIsImxlZnQiLCJ3aWR0aCIsImlubmVyV2lkdGgiLCJnZXRUcmFpblVuaXRUb29sdGlwIiwiZ2V0VHJhaW5WaWxsYWdlclRvb2x0aXAiLCJnZXRBZHZhbmNlQWdlVG9vbHRpcCIsInN0eWxlIiwiaDIiLCJpc1VuaXF1ZSIsImxlbmd0aCIsImluc3RhbmNlIiwidG9Mb3dlckNhc2UiLCJociIsImNvdW50Iiwic3RhcnRUaW1lIiwiZHVyYXRpb24iLCJtaW4iLCJOdW1iZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/BuildingManagementPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/GameMap.tsx":
/*!********************************!*\
  !*** ./components/GameMap.tsx ***!
  \********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _GameUI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GameUI */ \"(app-pages-browser)/./components/GameUI.tsx\");\n/* harmony import */ var _ProgressBar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ProgressBar */ \"(app-pages-browser)/./components/ProgressBar.tsx\");\n/* harmony import */ var _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./icons/ResourceIcons */ \"(app-pages-browser)/./components/icons/ResourceIcons.tsx\");\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\nconst ConstructionTooltip = (param)=>{\n    let { task, buildingInfo, builderCount } = param;\n    _s();\n    const [remainingTime, setRemainingTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const calculateRemaining = ()=>{\n            const endTime = task.startTime + task.duration;\n            const remaining = Math.max(0, endTime - Date.now());\n            setRemainingTime(Math.ceil(remaining / 1000));\n        };\n        calculateRemaining();\n        const interval = setInterval(calculateRemaining, 1000);\n        return ()=>clearInterval(interval);\n    }, [\n        task\n    ]);\n    if (!buildingInfo) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-stone-dark text-white text-xs rounded py-1 px-2 absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-max opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity z-10\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                children: [\n                    \"Constructing: \",\n                    buildingInfo.name\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                lineNumber: 29,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                children: [\n                    \"Builders: \",\n                    builderCount\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                lineNumber: 30,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                children: [\n                    \"Time remaining: \",\n                    remainingTime,\n                    \"s\"\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                lineNumber: 31,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/GameMap.tsx\",\n        lineNumber: 28,\n        columnNumber: 9\n    }, undefined);\n};\n_s(ConstructionTooltip, \"tVFBxYn2cv5nee/o97sp1du4goI=\");\n_c = ConstructionTooltip;\nconst ResourceNodeTooltip = (param)=>{\n    let { node, gatherInfo, villagerCount } = param;\n    const gatherRate = villagerCount > 0 ? villagerCount * gatherInfo[node.type].rate : 0;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-stone-dark text-white text-xs rounded py-1 px-2 absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-max opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity z-10\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"capitalize font-bold\",\n                children: node.type\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                lineNumber: 41,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                children: [\n                    \"Amount: \",\n                    Math.floor(node.amount)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                lineNumber: 42,\n                columnNumber: 13\n            }, undefined),\n            villagerCount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                        className: \"border-stone-light/20 my-1\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                        lineNumber: 45,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            \"Workers: \",\n                            villagerCount\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                        lineNumber: 46,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            \"Rate: \",\n                            gatherRate.toFixed(1),\n                            \"/s\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                        lineNumber: 47,\n                        columnNumber: 21\n                    }, undefined)\n                ]\n            }, void 0, true)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/GameMap.tsx\",\n        lineNumber: 40,\n        columnNumber: 9\n    }, undefined);\n};\n_c1 = ResourceNodeTooltip;\nconst GameMap = (param)=>{\n    let { buildings, activeTasks, playerAction, onConfirmPlacement, onCancelPlayerAction, onBuildingClick, mapDimensions, buildingList, resourceNodes, units, onOpenAssignmentPanel, onOpenConstructionPanel, gatherInfo } = param;\n    _s1();\n    const [hoveredCell, setHoveredCell] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const constructionTasks = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>activeTasks.filter((t)=>t.type === \"build\"), [\n        activeTasks\n    ]);\n    const occupiedCells = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const cellSet = new Set();\n        Object.values(buildings).flat().forEach((building)=>{\n            cellSet.add(\"\".concat(building.position.x, \",\").concat(building.position.y));\n        });\n        constructionTasks.forEach((task)=>{\n            var _task_payload;\n            if ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.position) {\n                cellSet.add(\"\".concat(task.payload.position.x, \",\").concat(task.payload.position.y));\n            }\n        });\n        resourceNodes.forEach((node)=>{\n            cellSet.add(\"\".concat(node.position.x, \",\").concat(node.position.y));\n        });\n        return cellSet;\n    }, [\n        buildings,\n        constructionTasks,\n        resourceNodes\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleKeyDown = (e)=>{\n            if (e.key === \"Escape\") {\n                onCancelPlayerAction();\n            }\n        };\n        window.addEventListener(\"keydown\", handleKeyDown);\n        return ()=>window.removeEventListener(\"keydown\", handleKeyDown);\n    }, [\n        onCancelPlayerAction\n    ]);\n    const handleCellClick = (x, y)=>{\n        if ((playerAction === null || playerAction === void 0 ? void 0 : playerAction.mode) === \"build\") {\n            if (!occupiedCells.has(\"\".concat(x, \",\").concat(y))) {\n                onConfirmPlacement({\n                    x,\n                    y\n                });\n            }\n        }\n    };\n    const getBuildingAt = (x, y)=>{\n        for(const buildingType in buildings){\n            const found = buildings[buildingType].find((b)=>b.position.x === x && b.position.y === y);\n            if (found) return found;\n        }\n        return undefined;\n    };\n    const getConstructionAt = (x, y)=>{\n        return constructionTasks.find((t)=>{\n            var _t_payload_position, _t_payload, _t_payload_position1, _t_payload1;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : (_t_payload_position = _t_payload.position) === null || _t_payload_position === void 0 ? void 0 : _t_payload_position.x) === x && ((_t_payload1 = t.payload) === null || _t_payload1 === void 0 ? void 0 : (_t_payload_position1 = _t_payload1.position) === null || _t_payload_position1 === void 0 ? void 0 : _t_payload_position1.y) === y;\n        });\n    };\n    const getResourceNodeAt = (x, y)=>{\n        return resourceNodes.find((n)=>n.position.x === x && n.position.y === y);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-black/30 p-2 rounded-lg grid gap-0.5\",\n        style: {\n            gridTemplateColumns: \"repeat(\".concat(mapDimensions.width, \", minmax(0, 1fr))\"),\n            gridTemplateRows: \"repeat(\".concat(mapDimensions.height, \", minmax(0, 1fr))\"),\n            cursor: (playerAction === null || playerAction === void 0 ? void 0 : playerAction.mode) === \"build\" ? \"copy\" : \"default\"\n        },\n        onMouseLeave: ()=>setHoveredCell(null),\n        onContextMenu: (e)=>{\n            e.preventDefault();\n            onCancelPlayerAction();\n        },\n        children: Array.from({\n            length: mapDimensions.width * mapDimensions.height\n        }).map((_, index)=>{\n            var _constructionTask_payload_villagerIds, _constructionTask_payload_villagerIds1, _constructionTask_payload_villagerIds2;\n            const x = index % mapDimensions.width;\n            const y = Math.floor(index / mapDimensions.width);\n            const building = getBuildingAt(x, y);\n            const constructionTask = getConstructionAt(x, y);\n            const resourceNode = getResourceNodeAt(x, y);\n            const isOccupied = !!building || !!constructionTask || !!resourceNode;\n            const gatherTask = resourceNode ? activeTasks.find((t)=>t.id === \"gather-\".concat(resourceNode.id)) : undefined;\n            const assignedVillagerCount = resourceNode ? units.villagers.filter((v)=>v.currentTask === \"gather-\".concat(resourceNode.id)).length : 0;\n            const buildingInfo = constructionTask ? buildingList.find((b)=>{\n                var _constructionTask_payload;\n                return b.id === ((_constructionTask_payload = constructionTask.payload) === null || _constructionTask_payload === void 0 ? void 0 : _constructionTask_payload.buildingType);\n            }) : undefined;\n            let cellClass = \"bg-stone-dark/20 hover:bg-stone-light/10 transition-colors duration-150\";\n            if ((resourceNode || constructionTask) && !playerAction) {\n                cellClass += \" cursor-pointer hover:bg-brand-blue/20\";\n            }\n            if ((playerAction === null || playerAction === void 0 ? void 0 : playerAction.mode) === \"build\") {\n                const isHovered = (hoveredCell === null || hoveredCell === void 0 ? void 0 : hoveredCell.x) === x && (hoveredCell === null || hoveredCell === void 0 ? void 0 : hoveredCell.y) === y;\n                if (isOccupied) {\n                    cellClass = \"bg-brand-red/40\";\n                } else {\n                    cellClass = \"bg-brand-green/20 hover:bg-brand-green/40\";\n                    if (isHovered) {\n                        cellClass = \"bg-brand-green/40\";\n                    }\n                }\n            }\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative group w-full aspect-square \".concat(cellClass),\n                onMouseEnter: ()=>setHoveredCell({\n                        x,\n                        y\n                    }),\n                onClick: (e)=>{\n                    if (playerAction) {\n                        handleCellClick(x, y);\n                        return;\n                    }\n                    if (resourceNode) {\n                        onOpenAssignmentPanel(resourceNode.id, e.currentTarget.getBoundingClientRect());\n                    } else if (constructionTask) {\n                        onOpenConstructionPanel(constructionTask.id, e.currentTarget.getBoundingClientRect());\n                    } else if (building) {\n                        onBuildingClick(building, e.currentTarget.getBoundingClientRect());\n                    }\n                },\n                children: [\n                    building && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute inset-0 p-1 text-parchment-light cursor-pointer\",\n                        children: [\n                            _GameUI__WEBPACK_IMPORTED_MODULE_2__.iconMap[Object.keys(buildings).find((key)=>buildings[key].some((b)=>b.id === building.id))],\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-stone-dark text-white text-xs rounded py-1 px-2 absolute bottom-full left-1/2 -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity z-10\",\n                                children: building.name\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                lineNumber: 189,\n                                columnNumber: 33\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                        lineNumber: 187,\n                        columnNumber: 30\n                    }, undefined),\n                    constructionTask && buildingInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute inset-0 p-1 text-parchment-light opacity-60 flex flex-col justify-center items-center gap-1 group\",\n                        children: [\n                            _GameUI__WEBPACK_IMPORTED_MODULE_2__.iconMap[buildingInfo.iconId],\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ProgressBar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                startTime: constructionTask.startTime,\n                                duration: constructionTask.duration,\n                                className: \"w-10/12 h-1.5\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                lineNumber: 197,\n                                columnNumber: 33\n                            }, undefined),\n                            buildingInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ConstructionTooltip, {\n                                task: constructionTask,\n                                buildingInfo: buildingInfo,\n                                builderCount: ((_constructionTask_payload_villagerIds = constructionTask.payload.villagerIds) === null || _constructionTask_payload_villagerIds === void 0 ? void 0 : _constructionTask_payload_villagerIds.length) || 0\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                lineNumber: 198,\n                                columnNumber: 50\n                            }, undefined),\n                            (((_constructionTask_payload_villagerIds1 = constructionTask.payload.villagerIds) === null || _constructionTask_payload_villagerIds1 === void 0 ? void 0 : _constructionTask_payload_villagerIds1.length) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute top-0.5 right-0.5 flex items-center bg-stone-dark/80 rounded-full px-1.5 py-0.5 text-xs text-brand-blue z-10\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-3 h-3\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_4__.VillagerIcon, {}, void 0, false, {\n                                            fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                            lineNumber: 201,\n                                            columnNumber: 66\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                        lineNumber: 201,\n                                        columnNumber: 41\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"ml-1 font-bold\",\n                                        children: (_constructionTask_payload_villagerIds2 = constructionTask.payload.villagerIds) === null || _constructionTask_payload_villagerIds2 === void 0 ? void 0 : _constructionTask_payload_villagerIds2.length\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                        lineNumber: 202,\n                                        columnNumber: 41\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                lineNumber: 200,\n                                columnNumber: 37\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                        lineNumber: 195,\n                        columnNumber: 29\n                    }, undefined),\n                    resourceNode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute inset-0 p-1.5 text-parchment-light/80 flex flex-col items-center justify-center group\",\n                        children: [\n                            _GameUI__WEBPACK_IMPORTED_MODULE_2__.iconMap[resourceNode.type],\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ResourceNodeTooltip, {\n                                node: resourceNode,\n                                gatherInfo: gatherInfo,\n                                villagerCount: assignedVillagerCount\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                lineNumber: 210,\n                                columnNumber: 33\n                            }, undefined),\n                            gatherTask && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute bottom-0.5 w-10/12 h-1.5\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ProgressBar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                    startTime: gatherTask.startTime,\n                                    duration: gatherTask.duration\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                    lineNumber: 213,\n                                    columnNumber: 41\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                lineNumber: 212,\n                                columnNumber: 37\n                            }, undefined),\n                            assignedVillagerCount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute top-0.5 right-0.5 flex items-center bg-stone-dark/80 rounded-full px-1.5 py-0.5 text-xs text-brand-blue z-10\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-3 h-3\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_4__.VillagerIcon, {}, void 0, false, {\n                                            fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                            lineNumber: 218,\n                                            columnNumber: 66\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                        lineNumber: 218,\n                                        columnNumber: 41\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"ml-1 font-bold\",\n                                        children: assignedVillagerCount\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                        lineNumber: 219,\n                                        columnNumber: 41\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                lineNumber: 217,\n                                columnNumber: 37\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                        lineNumber: 208,\n                        columnNumber: 29\n                    }, undefined),\n                    (playerAction === null || playerAction === void 0 ? void 0 : playerAction.mode) === \"build\" && (hoveredCell === null || hoveredCell === void 0 ? void 0 : hoveredCell.x) === x && (hoveredCell === null || hoveredCell === void 0 ? void 0 : hoveredCell.y) === y && !isOccupied && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute inset-0 p-1 text-parchment-light opacity-50\",\n                        children: _GameUI__WEBPACK_IMPORTED_MODULE_2__.iconMap[buildingList.find((b)=>b.id === playerAction.buildingType).iconId]\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                        lineNumber: 225,\n                        columnNumber: 29\n                    }, undefined)\n                ]\n            }, \"\".concat(x, \"-\").concat(y), true, {\n                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                lineNumber: 168,\n                columnNumber: 21\n            }, undefined);\n        })\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/GameMap.tsx\",\n        lineNumber: 128,\n        columnNumber: 9\n    }, undefined);\n};\n_s1(GameMap, \"wK77JtmHQczgkWEoIblSnfDR2eI=\");\n_c2 = GameMap;\n/* harmony default export */ __webpack_exports__[\"default\"] = (GameMap);\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"ConstructionTooltip\");\n$RefreshReg$(_c1, \"ResourceNodeTooltip\");\n$RefreshReg$(_c2, \"GameMap\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvR2FtZU1hcC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRTREO0FBRXpCO0FBQ0s7QUFDYTtBQUVyRCxNQUFNTyxzQkFBb0g7UUFBQyxFQUFFQyxJQUFJLEVBQUVDLFlBQVksRUFBRUMsWUFBWSxFQUFFOztJQUMzSixNQUFNLENBQUNDLGVBQWVDLGlCQUFpQixHQUFHWCwrQ0FBUUEsQ0FBQztJQUVuREMsZ0RBQVNBLENBQUM7UUFDTixNQUFNVyxxQkFBcUI7WUFDdkIsTUFBTUMsVUFBVU4sS0FBS08sU0FBUyxHQUFHUCxLQUFLUSxRQUFRO1lBQzlDLE1BQU1DLFlBQVlDLEtBQUtDLEdBQUcsQ0FBQyxHQUFHTCxVQUFVTSxLQUFLQyxHQUFHO1lBQ2hEVCxpQkFBaUJNLEtBQUtJLElBQUksQ0FBQ0wsWUFBWTtRQUMzQztRQUVBSjtRQUNBLE1BQU1VLFdBQVdDLFlBQVlYLG9CQUFvQjtRQUVqRCxPQUFPLElBQU1ZLGNBQWNGO0lBQy9CLEdBQUc7UUFBQ2Y7S0FBSztJQUVULElBQUksQ0FBQ0MsY0FBYyxPQUFPO0lBRTFCLHFCQUNJLDhEQUFDaUI7UUFBSUMsV0FBVTs7MEJBQ1gsOERBQUNDOztvQkFBRTtvQkFBZW5CLGFBQWFvQixJQUFJOzs7Ozs7OzBCQUNuQyw4REFBQ0Q7O29CQUFFO29CQUFXbEI7Ozs7Ozs7MEJBQ2QsOERBQUNrQjs7b0JBQUU7b0JBQWlCakI7b0JBQWM7Ozs7Ozs7Ozs7Ozs7QUFHOUM7R0F6Qk1KO0tBQUFBO0FBMkJOLE1BQU11QixzQkFBdUk7UUFBQyxFQUFFQyxJQUFJLEVBQUVDLFVBQVUsRUFBRUMsYUFBYSxFQUFFO0lBQzdLLE1BQU1DLGFBQWFELGdCQUFnQixJQUFJQSxnQkFBZ0JELFVBQVUsQ0FBQ0QsS0FBS0ksSUFBSSxDQUFDLENBQUNDLElBQUksR0FBRztJQUVwRixxQkFDSSw4REFBQ1Y7UUFBSUMsV0FBVTs7MEJBQ1gsOERBQUNDO2dCQUFFRCxXQUFVOzBCQUF3Qkks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QUFJLE1BQUssV0FBV3pCLENBQUFBLHdCQUFBQSxrQ0FBQUEsWUFBYWUsQ0FBQyxNQUFLQSxLQUFLZixDQUFBQSx3QkFBQUEsa0NBQUFBLFlBQWFnQixDQUFDLE1BQUtBLEtBQUssQ0FBQ3FDLDRCQUNoRiw4REFBQ2pGO3dCQUFJQyxXQUFVO2tDQUNYdkIsNENBQU8sQ0FBQzZDLGFBQWFtQyxJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUV3QixFQUFFLEtBQUtqRSxhQUFhc0MsWUFBWSxFQUFHd0MsTUFBTSxDQUFDOzs7Ozs7O2VBekQ5RSxHQUFRcEQsT0FBTEQsR0FBRSxLQUFLLE9BQUZDOzs7OztRQThEekI7Ozs7OztBQUdaO0lBbktNN0I7TUFBQUE7QUFxS04sK0RBQWVBLE9BQU9BLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9HYW1lTWFwLnRzeD8yN2JjIl0sInNvdXJjZXNDb250ZW50IjpbIlxuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB0eXBlIHsgQnVpbGRpbmdzLCBCdWlsZGluZ1R5cGUsIEJ1aWxkaW5nSW5zdGFuY2UsIEdhbWVUYXNrLCBCdWlsZGluZ0NvbmZpZywgUGxheWVyQWN0aW9uU3RhdGUsIFJlc291cmNlTm9kZSwgUmVzb3VyY2VOb2RlVHlwZSwgVW5pdHMsIFZpbGxhZ2VyIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaWNvbk1hcCB9IGZyb20gJy4vR2FtZVVJJztcbmltcG9ydCBQcm9ncmVzc0JhciBmcm9tICcuL1Byb2dyZXNzQmFyJztcbmltcG9ydCB7IFZpbGxhZ2VySWNvbiB9IGZyb20gJy4vaWNvbnMvUmVzb3VyY2VJY29ucyc7XG5cbmNvbnN0IENvbnN0cnVjdGlvblRvb2x0aXA6IFJlYWN0LkZDPHsgdGFzazogR2FtZVRhc2s7IGJ1aWxkaW5nSW5mbzogQnVpbGRpbmdDb25maWcgfCB1bmRlZmluZWQ7IGJ1aWxkZXJDb3VudDogbnVtYmVyIH0+ID0gKHsgdGFzaywgYnVpbGRpbmdJbmZvLCBidWlsZGVyQ291bnQgfSkgPT4ge1xuICAgIGNvbnN0IFtyZW1haW5pbmdUaW1lLCBzZXRSZW1haW5pbmdUaW1lXSA9IHVzZVN0YXRlKDApO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgY2FsY3VsYXRlUmVtYWluaW5nID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW5kVGltZSA9IHRhc2suc3RhcnRUaW1lICsgdGFzay5kdXJhdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZyA9IE1hdGgubWF4KDAsIGVuZFRpbWUgLSBEYXRlLm5vdygpKTtcbiAgICAgICAgICAgIHNldFJlbWFpbmluZ1RpbWUoTWF0aC5jZWlsKHJlbWFpbmluZyAvIDEwMDApKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjYWxjdWxhdGVSZW1haW5pbmcoKTtcbiAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChjYWxjdWxhdGVSZW1haW5pbmcsIDEwMDApO1xuXG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICB9LCBbdGFza10pO1xuXG4gICAgaWYgKCFidWlsZGluZ0luZm8pIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1zdG9uZS1kYXJrIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkIHB5LTEgcHgtMiBhYnNvbHV0ZSBib3R0b20tZnVsbCBsZWZ0LTEvMiAtdHJhbnNsYXRlLXgtMS8yIG1iLTIgdy1tYXggb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHBvaW50ZXItZXZlbnRzLW5vbmUgdHJhbnNpdGlvbi1vcGFjaXR5IHotMTBcIj5cbiAgICAgICAgICAgIDxwPkNvbnN0cnVjdGluZzoge2J1aWxkaW5nSW5mby5uYW1lfTwvcD5cbiAgICAgICAgICAgIDxwPkJ1aWxkZXJzOiB7YnVpbGRlckNvdW50fTwvcD5cbiAgICAgICAgICAgIDxwPlRpbWUgcmVtYWluaW5nOiB7cmVtYWluaW5nVGltZX1zPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuY29uc3QgUmVzb3VyY2VOb2RlVG9vbHRpcDogUmVhY3QuRkM8eyBub2RlOiBSZXNvdXJjZU5vZGU7IGdhdGhlckluZm86IFJlY29yZDxSZXNvdXJjZU5vZGVUeXBlLCB7IHJhdGU6IG51bWJlciB9PjsgdmlsbGFnZXJDb3VudDogbnVtYmVyIH0+ID0gKHsgbm9kZSwgZ2F0aGVySW5mbywgdmlsbGFnZXJDb3VudCB9KSA9PiB7XG4gICAgY29uc3QgZ2F0aGVyUmF0ZSA9IHZpbGxhZ2VyQ291bnQgPiAwID8gdmlsbGFnZXJDb3VudCAqIGdhdGhlckluZm9bbm9kZS50eXBlXS5yYXRlIDogMDtcbiAgICBcbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXN0b25lLWRhcmsgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgcHktMSBweC0yIGFic29sdXRlIGJvdHRvbS1mdWxsIGxlZnQtMS8yIC10cmFuc2xhdGUteC0xLzIgbWItMiB3LW1heCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgcG9pbnRlci1ldmVudHMtbm9uZSB0cmFuc2l0aW9uLW9wYWNpdHkgei0xMFwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2FwaXRhbGl6ZSBmb250LWJvbGRcIj57bm9kZS50eXBlfTwvcD5cbiAgICAgICAgICAgIDxwPkFtb3VudDoge01hdGguZmxvb3Iobm9kZS5hbW91bnQpfTwvcD5cbiAgICAgICAgICAgIHt2aWxsYWdlckNvdW50ID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgPGhyIGNsYXNzTmFtZT1cImJvcmRlci1zdG9uZS1saWdodC8yMCBteS0xXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPHA+V29ya2Vyczoge3ZpbGxhZ2VyQ291bnR9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8cD5SYXRlOiB7Z2F0aGVyUmF0ZS50b0ZpeGVkKDEpfS9zPC9wPlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cblxuaW50ZXJmYWNlIEdhbWVNYXBQcm9wcyB7XG4gICAgYnVpbGRpbmdzOiBCdWlsZGluZ3M7XG4gICAgYWN0aXZlVGFza3M6IEdhbWVUYXNrW107XG4gICAgcGxheWVyQWN0aW9uOiBQbGF5ZXJBY3Rpb25TdGF0ZTtcbiAgICBvbkNvbmZpcm1QbGFjZW1lbnQ6IChwb3NpdGlvbjogeyB4OiBudW1iZXI7IHk6IG51bWJlcjsgfSkgPT4gdm9pZDtcbiAgICBvbkNhbmNlbFBsYXllckFjdGlvbjogKCkgPT4gdm9pZDtcbiAgICBvbkJ1aWxkaW5nQ2xpY2s6IChidWlsZGluZzogQnVpbGRpbmdJbnN0YW5jZSwgcmVjdDogRE9NUmVjdCkgPT4gdm9pZDtcbiAgICBtYXBEaW1lbnNpb25zOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyOyB9O1xuICAgIGJ1aWxkaW5nTGlzdDogQnVpbGRpbmdDb25maWdbXTtcbiAgICByZXNvdXJjZU5vZGVzOiBSZXNvdXJjZU5vZGVbXTtcbiAgICB1bml0czogVW5pdHM7XG4gICAgb25PcGVuQXNzaWdubWVudFBhbmVsOiAobm9kZUlkOiBzdHJpbmcsIHJlY3Q6IERPTVJlY3QpID0+IHZvaWQ7XG4gICAgb25PcGVuQ29uc3RydWN0aW9uUGFuZWw6IChjb25zdHJ1Y3Rpb25JZDogc3RyaW5nLCByZWN0OiBET01SZWN0KSA9PiB2b2lkO1xuICAgIGdhdGhlckluZm86IFJlY29yZDxSZXNvdXJjZU5vZGVUeXBlLCB7IHJhdGU6IG51bWJlciB9Pjtcbn1cblxuY29uc3QgR2FtZU1hcDogUmVhY3QuRkM8R2FtZU1hcFByb3BzPiA9ICh7IGJ1aWxkaW5ncywgYWN0aXZlVGFza3MsIHBsYXllckFjdGlvbiwgb25Db25maXJtUGxhY2VtZW50LCBvbkNhbmNlbFBsYXllckFjdGlvbiwgb25CdWlsZGluZ0NsaWNrLCBtYXBEaW1lbnNpb25zLCBidWlsZGluZ0xpc3QsIHJlc291cmNlTm9kZXMsIHVuaXRzLCBvbk9wZW5Bc3NpZ25tZW50UGFuZWwsIG9uT3BlbkNvbnN0cnVjdGlvblBhbmVsLCBnYXRoZXJJbmZvIH0pID0+IHtcbiAgICBjb25zdCBbaG92ZXJlZENlbGwsIHNldEhvdmVyZWRDZWxsXSA9IHVzZVN0YXRlPHsgeDogbnVtYmVyOyB5OiBudW1iZXI7IH0gfCBudWxsPihudWxsKTtcblxuICAgIGNvbnN0IGNvbnN0cnVjdGlvblRhc2tzID0gdXNlTWVtbygoKSA9PiBhY3RpdmVUYXNrcy5maWx0ZXIodCA9PiB0LnR5cGUgPT09ICdidWlsZCcpLCBbYWN0aXZlVGFza3NdKTtcblxuICAgIGNvbnN0IG9jY3VwaWVkQ2VsbHMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgY29uc3QgY2VsbFNldCA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICAgICBPYmplY3QudmFsdWVzKGJ1aWxkaW5ncykuZmxhdCgpLmZvckVhY2goYnVpbGRpbmcgPT4ge1xuICAgICAgICAgICAgY2VsbFNldC5hZGQoYCR7YnVpbGRpbmcucG9zaXRpb24ueH0sJHtidWlsZGluZy5wb3NpdGlvbi55fWApO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3RydWN0aW9uVGFza3MuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgICAgIGlmKHRhc2sucGF5bG9hZD8ucG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICBjZWxsU2V0LmFkZChgJHt0YXNrLnBheWxvYWQucG9zaXRpb24ueH0sJHt0YXNrLnBheWxvYWQucG9zaXRpb24ueX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJlc291cmNlTm9kZXMuZm9yRWFjaChub2RlID0+IHtcbiAgICAgICAgICAgIGNlbGxTZXQuYWRkKGAke25vZGUucG9zaXRpb24ueH0sJHtub2RlLnBvc2l0aW9uLnl9YCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2VsbFNldDtcbiAgICB9LCBbYnVpbGRpbmdzLCBjb25zdHJ1Y3Rpb25UYXNrcywgcmVzb3VyY2VOb2Rlc10pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgICAgICAgICAgb25DYW5jZWxQbGF5ZXJBY3Rpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICAgICAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICB9LCBbb25DYW5jZWxQbGF5ZXJBY3Rpb25dKTtcblxuICAgIGNvbnN0IGhhbmRsZUNlbGxDbGljayA9ICh4OiBudW1iZXIsIHk6IG51bWJlcikgPT4ge1xuICAgICAgICBpZiAocGxheWVyQWN0aW9uPy5tb2RlID09PSAnYnVpbGQnKSB7XG4gICAgICAgICAgICBpZiAoIW9jY3VwaWVkQ2VsbHMuaGFzKGAke3h9LCR7eX1gKSkge1xuICAgICAgICAgICAgICAgIG9uQ29uZmlybVBsYWNlbWVudCh7IHgsIHkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGdldEJ1aWxkaW5nQXQgPSAoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBCdWlsZGluZ0luc3RhbmNlIHwgdW5kZWZpbmVkID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBidWlsZGluZ1R5cGUgaW4gYnVpbGRpbmdzKSB7XG4gICAgICAgICAgICBjb25zdCBmb3VuZCA9IGJ1aWxkaW5nc1tidWlsZGluZ1R5cGUgYXMgc3RyaW5nXS5maW5kKGIgPT4gYi5wb3NpdGlvbi54ID09PSB4ICYmIGIucG9zaXRpb24ueSA9PT0geSk7XG4gICAgICAgICAgICBpZiAoZm91bmQpIHJldHVybiBmb3VuZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG5cbiAgICBjb25zdCBnZXRDb25zdHJ1Y3Rpb25BdCA9ICh4OiBudW1iZXIsIHk6IG51bWJlcik6IEdhbWVUYXNrIHwgdW5kZWZpbmVkID0+IHtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdGlvblRhc2tzLmZpbmQodCA9PiB0LnBheWxvYWQ/LnBvc2l0aW9uPy54ID09PSB4ICYmIHQucGF5bG9hZD8ucG9zaXRpb24/LnkgPT09IHkpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBnZXRSZXNvdXJjZU5vZGVBdCA9ICh4OiBudW1iZXIsIHk6IG51bWJlcik6IFJlc291cmNlTm9kZSB8IHVuZGVmaW5lZCA9PiB7XG4gICAgICAgIHJldHVybiByZXNvdXJjZU5vZGVzLmZpbmQobiA9PiBuLnBvc2l0aW9uLnggPT09IHggJiYgbi5wb3NpdGlvbi55ID09PSB5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9e2BiZy1ibGFjay8zMCBwLTIgcm91bmRlZC1sZyBncmlkIGdhcC0wLjVgfVxuICAgICAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgICAgICAgZ3JpZFRlbXBsYXRlQ29sdW1uczogYHJlcGVhdCgke21hcERpbWVuc2lvbnMud2lkdGh9LCBtaW5tYXgoMCwgMWZyKSlgLFxuICAgICAgICAgICAgICAgIGdyaWRUZW1wbGF0ZVJvd3M6IGByZXBlYXQoJHttYXBEaW1lbnNpb25zLmhlaWdodH0sIG1pbm1heCgwLCAxZnIpKWAsXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBwbGF5ZXJBY3Rpb24/Lm1vZGUgPT09ICdidWlsZCcgPyAnY29weScgOiAnZGVmYXVsdCdcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBvbk1vdXNlTGVhdmU9eygpID0+IHNldEhvdmVyZWRDZWxsKG51bGwpfVxuICAgICAgICAgICAgb25Db250ZXh0TWVudT17KGUpID0+IHsgZS5wcmV2ZW50RGVmYXVsdCgpOyBvbkNhbmNlbFBsYXllckFjdGlvbigpOyB9fVxuICAgICAgICA+XG4gICAgICAgICAgICB7QXJyYXkuZnJvbSh7IGxlbmd0aDogbWFwRGltZW5zaW9ucy53aWR0aCAqIG1hcERpbWVuc2lvbnMuaGVpZ2h0IH0pLm1hcCgoXywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gaW5kZXggJSBtYXBEaW1lbnNpb25zLndpZHRoO1xuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBNYXRoLmZsb29yKGluZGV4IC8gbWFwRGltZW5zaW9ucy53aWR0aCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVpbGRpbmcgPSBnZXRCdWlsZGluZ0F0KHgsIHkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnN0cnVjdGlvblRhc2sgPSBnZXRDb25zdHJ1Y3Rpb25BdCh4LCB5KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNvdXJjZU5vZGUgPSBnZXRSZXNvdXJjZU5vZGVBdCh4LCB5KTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc09jY3VwaWVkID0gISFidWlsZGluZyB8fCAhIWNvbnN0cnVjdGlvblRhc2sgfHwgISFyZXNvdXJjZU5vZGU7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgZ2F0aGVyVGFzayA9IHJlc291cmNlTm9kZSA/IGFjdGl2ZVRhc2tzLmZpbmQodCA9PiB0LmlkID09PSBgZ2F0aGVyLSR7cmVzb3VyY2VOb2RlLmlkfWApIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFzc2lnbmVkVmlsbGFnZXJDb3VudCA9IHJlc291cmNlTm9kZSA/IHVuaXRzLnZpbGxhZ2Vycy5maWx0ZXIodiA9PiB2LmN1cnJlbnRUYXNrID09PSBgZ2F0aGVyLSR7cmVzb3VyY2VOb2RlLmlkfWApLmxlbmd0aCA6IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVpbGRpbmdJbmZvID0gY29uc3RydWN0aW9uVGFzayA/IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gY29uc3RydWN0aW9uVGFzay5wYXlsb2FkPy5idWlsZGluZ1R5cGUpIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgbGV0IGNlbGxDbGFzcyA9IFwiYmctc3RvbmUtZGFyay8yMCBob3ZlcjpiZy1zdG9uZS1saWdodC8xMCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0xNTBcIjtcbiAgICAgICAgICAgICAgICBpZigocmVzb3VyY2VOb2RlIHx8IGNvbnN0cnVjdGlvblRhc2spICYmICFwbGF5ZXJBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY2VsbENsYXNzICs9IFwiIGN1cnNvci1wb2ludGVyIGhvdmVyOmJnLWJyYW5kLWJsdWUvMjBcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKHBsYXllckFjdGlvbj8ubW9kZSA9PT0gJ2J1aWxkJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0hvdmVyZWQgPSBob3ZlcmVkQ2VsbD8ueCA9PT0geCAmJiBob3ZlcmVkQ2VsbD8ueSA9PT0geTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzT2NjdXBpZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxDbGFzcyA9IFwiYmctYnJhbmQtcmVkLzQwXCI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsQ2xhc3MgPSBcImJnLWJyYW5kLWdyZWVuLzIwIGhvdmVyOmJnLWJyYW5kLWdyZWVuLzQwXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpc0hvdmVyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxDbGFzcyA9IFwiYmctYnJhbmQtZ3JlZW4vNDBcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YCR7eH0tJHt5fWB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2ByZWxhdGl2ZSBncm91cCB3LWZ1bGwgYXNwZWN0LXNxdWFyZSAke2NlbGxDbGFzc31gfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoKSA9PiBzZXRIb3ZlcmVkQ2VsbCh7IHgsIHkgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbGF5ZXJBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ2VsbENsaWNrKHgsIHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZU5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuQXNzaWdubWVudFBhbmVsKHJlc291cmNlTm9kZS5pZCwgZS5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnN0cnVjdGlvblRhc2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuQ29uc3RydWN0aW9uUGFuZWwoY29uc3RydWN0aW9uVGFzay5pZCwgZS5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJ1aWxkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQnVpbGRpbmdDbGljayhidWlsZGluZywgZS5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7YnVpbGRpbmcgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgcC0xIHRleHQtcGFyY2htZW50LWxpZ2h0IGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpY29uTWFwW09iamVjdC5rZXlzKGJ1aWxkaW5ncykuZmluZChrZXkgPT4gYnVpbGRpbmdzW2tleSBhcyBzdHJpbmddLnNvbWUoYiA9PiBiLmlkID09PSBidWlsZGluZy5pZCkpIGFzIHN0cmluZ119XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctc3RvbmUtZGFyayB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZCBweS0xIHB4LTIgYWJzb2x1dGUgYm90dG9tLWZ1bGwgbGVmdC0xLzIgLXRyYW5zbGF0ZS14LTEvMiBtYi0yIG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCBwb2ludGVyLWV2ZW50cy1ub25lIHRyYW5zaXRpb24tb3BhY2l0eSB6LTEwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YnVpbGRpbmcubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjb25zdHJ1Y3Rpb25UYXNrICYmIGJ1aWxkaW5nSW5mbyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIHAtMSB0ZXh0LXBhcmNobWVudC1saWdodCBvcGFjaXR5LTYwIGZsZXggZmxleC1jb2wganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIGdhcC0xIGdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpY29uTWFwW2J1aWxkaW5nSW5mby5pY29uSWRdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UHJvZ3Jlc3NCYXIgc3RhcnRUaW1lPXtjb25zdHJ1Y3Rpb25UYXNrLnN0YXJ0VGltZX0gZHVyYXRpb249e2NvbnN0cnVjdGlvblRhc2suZHVyYXRpb259IGNsYXNzTmFtZT1cInctMTAvMTIgaC0xLjVcIi8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtidWlsZGluZ0luZm8gJiYgPENvbnN0cnVjdGlvblRvb2x0aXAgdGFzaz17Y29uc3RydWN0aW9uVGFza30gYnVpbGRpbmdJbmZvPXtidWlsZGluZ0luZm99IGJ1aWxkZXJDb3VudD17Y29uc3RydWN0aW9uVGFzay5wYXlsb2FkLnZpbGxhZ2VySWRzPy5sZW5ndGggfHwgMH0gLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsoY29uc3RydWN0aW9uVGFzay5wYXlsb2FkLnZpbGxhZ2VySWRzPy5sZW5ndGggfHwgMCkgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTAuNSByaWdodC0wLjUgZmxleCBpdGVtcy1jZW50ZXIgYmctc3RvbmUtZGFyay84MCByb3VuZGVkLWZ1bGwgcHgtMS41IHB5LTAuNSB0ZXh0LXhzIHRleHQtYnJhbmQtYmx1ZSB6LTEwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTMgaC0zXCI+PFZpbGxhZ2VySWNvbiAvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTEgZm9udC1ib2xkXCI+e2NvbnN0cnVjdGlvblRhc2sucGF5bG9hZC52aWxsYWdlcklkcz8ubGVuZ3RofTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtyZXNvdXJjZU5vZGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBwLTEuNSB0ZXh0LXBhcmNobWVudC1saWdodC84MCBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aWNvbk1hcFtyZXNvdXJjZU5vZGUudHlwZV19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxSZXNvdXJjZU5vZGVUb29sdGlwIG5vZGU9e3Jlc291cmNlTm9kZX0gZ2F0aGVySW5mbz17Z2F0aGVySW5mb30gdmlsbGFnZXJDb3VudD17YXNzaWduZWRWaWxsYWdlckNvdW50fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2F0aGVyVGFzayAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS0wLjUgdy0xMC8xMiBoLTEuNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQcm9ncmVzc0JhciBzdGFydFRpbWU9e2dhdGhlclRhc2suc3RhcnRUaW1lfSBkdXJhdGlvbj17Z2F0aGVyVGFzay5kdXJhdGlvbn0vPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHthc3NpZ25lZFZpbGxhZ2VyQ291bnQgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTAuNSByaWdodC0wLjUgZmxleCBpdGVtcy1jZW50ZXIgYmctc3RvbmUtZGFyay84MCByb3VuZGVkLWZ1bGwgcHgtMS41IHB5LTAuNSB0ZXh0LXhzIHRleHQtYnJhbmQtYmx1ZSB6LTEwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTMgaC0zXCI+PFZpbGxhZ2VySWNvbiAvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTEgZm9udC1ib2xkXCI+e2Fzc2lnbmVkVmlsbGFnZXJDb3VudH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7cGxheWVyQWN0aW9uPy5tb2RlID09PSAnYnVpbGQnICYmIGhvdmVyZWRDZWxsPy54ID09PSB4ICYmIGhvdmVyZWRDZWxsPy55ID09PSB5ICYmICFpc09jY3VwaWVkICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgcC0xIHRleHQtcGFyY2htZW50LWxpZ2h0IG9wYWNpdHktNTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aWNvbk1hcFtidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IHBsYXllckFjdGlvbi5idWlsZGluZ1R5cGUpIS5pY29uSWRdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgR2FtZU1hcDtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlTWVtbyIsImljb25NYXAiLCJQcm9ncmVzc0JhciIsIlZpbGxhZ2VySWNvbiIsIkNvbnN0cnVjdGlvblRvb2x0aXAiLCJ0YXNrIiwiYnVpbGRpbmdJbmZvIiwiYnVpbGRlckNvdW50IiwicmVtYWluaW5nVGltZSIsInNldFJlbWFpbmluZ1RpbWUiLCJjYWxjdWxhdGVSZW1haW5pbmciLCJlbmRUaW1lIiwic3RhcnRUaW1lIiwiZHVyYXRpb24iLCJyZW1haW5pbmciLCJNYXRoIiwibWF4IiwiRGF0ZSIsIm5vdyIsImNlaWwiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImRpdiIsImNsYXNzTmFtZSIsInAiLCJuYW1lIiwiUmVzb3VyY2VOb2RlVG9vbHRpcCIsIm5vZGUiLCJnYXRoZXJJbmZvIiwidmlsbGFnZXJDb3VudCIsImdhdGhlclJhdGUiLCJ0eXBlIiwicmF0ZSIsImZsb29yIiwiYW1vdW50IiwiaHIiLCJ0b0ZpeGVkIiwiR2FtZU1hcCIsImJ1aWxkaW5ncyIsImFjdGl2ZVRhc2tzIiwicGxheWVyQWN0aW9uIiwib25Db25maXJtUGxhY2VtZW50Iiwib25DYW5jZWxQbGF5ZXJBY3Rpb24iLCJvbkJ1aWxkaW5nQ2xpY2siLCJtYXBEaW1lbnNpb25zIiwiYnVpbGRpbmdMaXN0IiwicmVzb3VyY2VOb2RlcyIsInVuaXRzIiwib25PcGVuQXNzaWdubWVudFBhbmVsIiwib25PcGVuQ29uc3RydWN0aW9uUGFuZWwiLCJob3ZlcmVkQ2VsbCIsInNldEhvdmVyZWRDZWxsIiwiY29uc3RydWN0aW9uVGFza3MiLCJmaWx0ZXIiLCJ0Iiwib2NjdXBpZWRDZWxscyIsImNlbGxTZXQiLCJTZXQiLCJPYmplY3QiLCJ2YWx1ZXMiLCJmbGF0IiwiZm9yRWFjaCIsImJ1aWxkaW5nIiwiYWRkIiwicG9zaXRpb24iLCJ4IiwieSIsInBheWxvYWQiLCJoYW5kbGVLZXlEb3duIiwiZSIsImtleSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlQ2VsbENsaWNrIiwibW9kZSIsImhhcyIsImdldEJ1aWxkaW5nQXQiLCJidWlsZGluZ1R5cGUiLCJmb3VuZCIsImZpbmQiLCJiIiwidW5kZWZpbmVkIiwiZ2V0Q29uc3RydWN0aW9uQXQiLCJnZXRSZXNvdXJjZU5vZGVBdCIsIm4iLCJzdHlsZSIsImdyaWRUZW1wbGF0ZUNvbHVtbnMiLCJ3aWR0aCIsImdyaWRUZW1wbGF0ZVJvd3MiLCJoZWlnaHQiLCJjdXJzb3IiLCJvbk1vdXNlTGVhdmUiLCJvbkNvbnRleHRNZW51IiwicHJldmVudERlZmF1bHQiLCJBcnJheSIsImZyb20iLCJsZW5ndGgiLCJtYXAiLCJfIiwiaW5kZXgiLCJjb25zdHJ1Y3Rpb25UYXNrIiwicmVzb3VyY2VOb2RlIiwiaXNPY2N1cGllZCIsImdhdGhlclRhc2siLCJpZCIsImFzc2lnbmVkVmlsbGFnZXJDb3VudCIsInZpbGxhZ2VycyIsInYiLCJjdXJyZW50VGFzayIsImNlbGxDbGFzcyIsImlzSG92ZXJlZCIsIm9uTW91c2VFbnRlciIsIm9uQ2xpY2siLCJjdXJyZW50VGFyZ2V0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwia2V5cyIsInNvbWUiLCJpY29uSWQiLCJ2aWxsYWdlcklkcyIsInNwYW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/GameMap.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/GameUI.tsx":
/*!*******************************!*\
  !*** ./components/GameUI.tsx ***!
  \*******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   iconMap: function() { return /* binding */ iconMap; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./icons/ResourceIcons */ \"(app-pages-browser)/./components/icons/ResourceIcons.tsx\");\n/* harmony import */ var _GameMap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GameMap */ \"(app-pages-browser)/./components/GameMap.tsx\");\n/* harmony import */ var _barrel_optimize_names_Package_ScrollText_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Package,ScrollText!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/package.js\");\n/* harmony import */ var _barrel_optimize_names_Package_ScrollText_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Package,ScrollText!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/scroll-text.js\");\n\n\n\n\n\nconst ResourceChange = (param)=>{\n    let { change } = param;\n    const isPositive = change > 0;\n    const color = isPositive ? \"text-brand-green\" : \"text-brand-red\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n        className: \"absolute -top-1 right-0 text-lg font-bold opacity-0 animate-fade-up-out \".concat(color),\n        children: [\n            isPositive ? \"+\" : \"\",\n            change\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 46,\n        columnNumber: 9\n    }, undefined);\n};\n_c = ResourceChange;\nconst HeaderStat = (param)=>{\n    let { icon, value, delta, tooltip, colorClass } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative group flex items-center space-x-2 bg-stone-dark/70 px-3 py-1 rounded-md border border-stone-light/30\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-5 h-5 \".concat(colorClass),\n                children: icon\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                lineNumber: 54,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"font-bold text-md text-parchment-light\",\n                children: value\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                lineNumber: 55,\n                columnNumber: 9\n            }, undefined),\n            delta != null && delta !== 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ResourceChange, {\n                change: delta\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                lineNumber: 56,\n                columnNumber: 42\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute bottom-full mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                children: tooltip\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                lineNumber: 57,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 53,\n        columnNumber: 5\n    }, undefined);\n};\n_c1 = HeaderStat;\nconst iconMap = {\n    food: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.FoodIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 64,\n        columnNumber: 11\n    }, undefined),\n    wood: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.WoodIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 64,\n        columnNumber: 31\n    }, undefined),\n    gold: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GoldIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 64,\n        columnNumber: 51\n    }, undefined),\n    stone: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.StoneIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 64,\n        columnNumber: 72\n    }, undefined),\n    villager: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.VillagerIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 65,\n        columnNumber: 15\n    }, undefined),\n    swordsman: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.SwordIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 66,\n        columnNumber: 16\n    }, undefined),\n    archer: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BowIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 67,\n        columnNumber: 13\n    }, undefined),\n    knight: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.KnightIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 68,\n        columnNumber: 13\n    }, undefined),\n    catapult: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.CatapultIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 69,\n        columnNumber: 15\n    }, undefined),\n    houses: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.HouseIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 70,\n        columnNumber: 13\n    }, undefined),\n    barracks: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BarracksIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 70,\n        columnNumber: 38\n    }, undefined),\n    archeryRange: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.ArcheryRangeIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 71,\n        columnNumber: 19\n    }, undefined),\n    stable: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.StableIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 71,\n        columnNumber: 49\n    }, undefined),\n    siegeWorkshop: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.SiegeWorkshopIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 72,\n        columnNumber: 20\n    }, undefined),\n    blacksmith: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BlacksmithIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 72,\n        columnNumber: 55\n    }, undefined),\n    watchTower: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.WatchTowerIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 73,\n        columnNumber: 17\n    }, undefined),\n    townCenter: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.TownCenterIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 73,\n        columnNumber: 48\n    }, undefined),\n    age: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.AgeIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 74,\n        columnNumber: 10\n    }, undefined),\n    event: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.EventIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 74,\n        columnNumber: 30\n    }, undefined),\n    system: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.SystemIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 74,\n        columnNumber: 53\n    }, undefined),\n    item: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Package_ScrollText_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 75,\n        columnNumber: 11\n    }, undefined),\n    default: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Package_ScrollText_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 76,\n        columnNumber: 14\n    }, undefined)\n};\nconst LogIcon = (param)=>{\n    let { icon } = param;\n    const foundIcon = iconMap[icon] || iconMap.default;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"w-4 h-4 mr-2 mt-0.5 flex-shrink-0\",\n        children: foundIcon\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 81,\n        columnNumber: 12\n    }, undefined);\n};\n_c2 = LogIcon;\nconst GameUI = (props)=>{\n    const { civilization, resources, units, buildings, population, currentAge, gameLog, resourceDeltas, activityStatus, unitList, buildingList, onOpenUnitPanel, onOpenBuildingPanel, onOpenAllBuildingsPanel, playerAction, onConfirmPlacement, onCancelPlayerAction, onBuildingClick, mapDimensions, activeTasks, onExitGame, onOpenCivPanel, resourceNodes, onOpenAssignmentPanel, onOpenConstructionPanel, gatherInfo, currentEvent, onEventChoice, inventory, onOpenInventoryPanel } = props;\n    const buildingCounts = Object.keys(buildings).reduce((acc, key)=>{\n        const buildingType = key;\n        acc[buildingType] = buildings[buildingType].length;\n        return acc;\n    }, {});\n    const militaryUnitCounts = units.military.reduce((acc, unit)=>{\n        acc[unit.unitType] = (acc[unit.unitType] || 0) + 1;\n        return acc;\n    }, {});\n    const busyVillagerCount = new Set(activeTasks.flatMap((t)=>{\n        var _t_payload;\n        return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.villagerIds) || [];\n    })).size;\n    const totalBuildingsCount = Object.values(buildingCounts).reduce((a, b)=>a + b, 0);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"w-full h-full bg-stone-dark p-4 rounded-lg shadow-2xl border-2 border-stone-light flex flex-col space-y-4\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"flex justify-between items-center bg-black/20 p-2 rounded-lg\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2 text-brand-gold\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative group\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: (e)=>onOpenCivPanel(e.currentTarget.getBoundingClientRect()),\n                                className: \"flex items-center gap-2 text-brand-gold hover:text-yellow-400 transition-colors\",\n                                \"aria-label\": \"View Civilization Details\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-8 h-8\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.AgeIcon, {}, void 0, false, {\n                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                            lineNumber: 114,\n                                            columnNumber: 54\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                        lineNumber: 114,\n                                        columnNumber: 29\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"text-2xl font-serif text-parchment-light\",\n                                        children: currentAge\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                        lineNumber: 115,\n                                        columnNumber: 29\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-5 h-5 text-parchment-dark/70 ml-1\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Package_ScrollText_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {}, void 0, false, {\n                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                            lineNumber: 116,\n                                            columnNumber: 82\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                        lineNumber: 116,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                lineNumber: 109,\n                                columnNumber: 26\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                            lineNumber: 108,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                        lineNumber: 107,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(HeaderStat, {\n                        icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.PopulationIcon, {}, void 0, false, {\n                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                            lineNumber: 121,\n                            columnNumber: 35\n                        }, void 0),\n                        value: \"\".concat(population.current, \"/\").concat(population.capacity),\n                        tooltip: \"Population / Capacity\",\n                        colorClass: \"text-brand-blue\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                        lineNumber: 121,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(HeaderStat, {\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.FoodIcon, {}, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 124,\n                                    columnNumber: 39\n                                }, void 0),\n                                value: Math.floor(resources.food),\n                                delta: resourceDeltas.food,\n                                tooltip: \"Food\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                lineNumber: 124,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(HeaderStat, {\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.WoodIcon, {}, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 125,\n                                    columnNumber: 39\n                                }, void 0),\n                                value: Math.floor(resources.wood),\n                                delta: resourceDeltas.wood,\n                                tooltip: \"Wood\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                lineNumber: 125,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(HeaderStat, {\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GoldIcon, {}, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 126,\n                                    columnNumber: 39\n                                }, void 0),\n                                value: Math.floor(resources.gold),\n                                delta: resourceDeltas.gold,\n                                tooltip: \"Gold\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                lineNumber: 126,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(HeaderStat, {\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.StoneIcon, {}, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 127,\n                                    columnNumber: 39\n                                }, void 0),\n                                value: Math.floor(resources.stone),\n                                delta: resourceDeltas.stone,\n                                tooltip: \"Stone\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                lineNumber: 127,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative group pl-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: onExitGame,\n                                        className: \"w-8 h-8 p-1 text-parchment-dark hover:text-brand-red transition-colors duration-200\",\n                                        \"aria-label\": \"Exit to Main Menu\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.ExitIcon, {}, void 0, false, {\n                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                            lineNumber: 135,\n                                            columnNumber: 29\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                        lineNumber: 130,\n                                        columnNumber: 26\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                        children: \"Exit to Menu\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                        lineNumber: 137,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                lineNumber: 129,\n                                columnNumber: 21\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                        lineNumber: 123,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                lineNumber: 106,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-grow grid grid-cols-1 gap-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-stone-dark/30 p-4 rounded-lg border border-stone-light/30 flex flex-col gap-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_GameMap__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                    buildings: buildings,\n                                    activeTasks: activeTasks,\n                                    playerAction: playerAction,\n                                    onConfirmPlacement: onConfirmPlacement,\n                                    onCancelPlayerAction: onCancelPlayerAction,\n                                    onBuildingClick: onBuildingClick,\n                                    mapDimensions: mapDimensions,\n                                    buildingList: buildingList,\n                                    resourceNodes: resourceNodes,\n                                    units: units,\n                                    onOpenAssignmentPanel: onOpenAssignmentPanel,\n                                    onOpenConstructionPanel: onOpenConstructionPanel,\n                                    gatherInfo: gatherInfo\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 149,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute bottom-2 left-1/2 -translate-x-1/2 flex items-center gap-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative group\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: (e)=>onOpenUnitPanel(\"villagers\", e.currentTarget.getBoundingClientRect()),\n                                                    className: \"sci-fi-button flex items-center gap-3 px-4 py-2 !rounded-lg\",\n                                                    \"aria-label\": \"Manage Villagers (\".concat(units.villagers.length, \")\"),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-7 h-7 text-brand-blue\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.VillagerIcon, {}, void 0, false, {\n                                                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                                lineNumber: 172,\n                                                                columnNumber: 78\n                                                            }, undefined)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 172,\n                                                            columnNumber: 37\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-xl font-bold\",\n                                                            children: units.villagers.length\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 173,\n                                                            columnNumber: 37\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 167,\n                                                    columnNumber: 33\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-full mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"font-bold\",\n                                                            children: \"Villagers\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 176,\n                                                            columnNumber: 37\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            children: [\n                                                                \"Idle: \",\n                                                                units.villagers.length - busyVillagerCount\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 177,\n                                                            columnNumber: 37\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            children: [\n                                                                \"Busy: \",\n                                                                busyVillagerCount\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 178,\n                                                            columnNumber: 37\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 175,\n                                                    columnNumber: 33\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                            lineNumber: 166,\n                                            columnNumber: 29\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative group\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: (e)=>onOpenUnitPanel(\"military\", e.currentTarget.getBoundingClientRect()),\n                                                    className: \"sci-fi-button flex items-center gap-3 px-4 py-2 !rounded-lg\",\n                                                    \"aria-label\": \"Manage Military (\".concat(units.military.length, \")\"),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-7 h-7 text-brand-red\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.SwordIcon, {}, void 0, false, {\n                                                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                                lineNumber: 189,\n                                                                columnNumber: 77\n                                                            }, undefined)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 189,\n                                                            columnNumber: 37\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-xl font-bold\",\n                                                            children: units.military.length\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 190,\n                                                            columnNumber: 37\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 184,\n                                                    columnNumber: 33\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-full mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"font-bold\",\n                                                            children: \"Military Forces\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 193,\n                                                            columnNumber: 37\n                                                        }, undefined),\n                                                        Object.keys(militaryUnitCounts).length > 0 ? Object.entries(militaryUnitCounts).map((param)=>{\n                                                            let [type, count] = param;\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"capitalize text-parchment-dark\",\n                                                                children: [\n                                                                    type,\n                                                                    \": \",\n                                                                    count\n                                                                ]\n                                                            }, type, true, {\n                                                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                                lineNumber: 196,\n                                                                columnNumber: 45\n                                                            }, undefined);\n                                                        }) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            children: \"No forces trained.\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 198,\n                                                            columnNumber: 41\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 192,\n                                                    columnNumber: 33\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                            lineNumber: 183,\n                                            columnNumber: 29\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative group\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: (e)=>onOpenAllBuildingsPanel(e.currentTarget.getBoundingClientRect()),\n                                                    className: \"sci-fi-button flex items-center gap-3 px-4 py-2 !rounded-lg\",\n                                                    \"aria-label\": \"View All Buildings (\".concat(totalBuildingsCount, \")\"),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-7 h-7 text-parchment-dark\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.WatchTowerIcon, {}, void 0, false, {\n                                                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                                lineNumber: 209,\n                                                                columnNumber: 82\n                                                            }, undefined)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 209,\n                                                            columnNumber: 37\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-xl font-bold\",\n                                                            children: totalBuildingsCount\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 210,\n                                                            columnNumber: 37\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 204,\n                                                    columnNumber: 33\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-full mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                    children: \"View All Structures\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 212,\n                                                    columnNumber: 33\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                            lineNumber: 203,\n                                            columnNumber: 29\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative group\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: (e)=>onOpenInventoryPanel(e.currentTarget.getBoundingClientRect()),\n                                                    className: \"sci-fi-button flex items-center gap-3 px-4 py-2 !rounded-lg\",\n                                                    \"aria-label\": \"View Inventory (\".concat(inventory.length, \")\"),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-7 h-7 text-brand-gold\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Package_ScrollText_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                                                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                                lineNumber: 224,\n                                                                columnNumber: 78\n                                                            }, undefined)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 224,\n                                                            columnNumber: 37\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-xl font-bold\",\n                                                            children: inventory.length\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 225,\n                                                            columnNumber: 37\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 219,\n                                                    columnNumber: 33\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-full mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                    children: \"View Inventory\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 227,\n                                                    columnNumber: 33\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                            lineNumber: 218,\n                                            columnNumber: 29\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 164,\n                                    columnNumber: 26\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                            lineNumber: 148,\n                            columnNumber: 22\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-col flex-grow\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-2xl font-serif text-center mb-1\",\n                                    children: \"Chronicles\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 235,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-center text-parchment-dark text-sm italic mb-3 h-5\",\n                                    children: activityStatus\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 236,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-black/30 p-4 rounded-lg shadow-inner min-h-[150px] mb-4 flex flex-col justify-center items-center relative overflow-hidden\",\n                                    children: currentEvent ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-full text-center z-10\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-10 h-10 text-brand-gold mb-2 mx-auto\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.EventIcon, {}, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 242,\n                                                    columnNumber: 41\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                lineNumber: 241,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                className: \"text-lg font-serif mb-2 text-brand-gold\",\n                                                children: \"An Event Occurs\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                lineNumber: 244,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-parchment-dark mb-4 text-sm min-h-[40px] px-4\",\n                                                children: currentEvent.message\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                lineNumber: 245,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex flex-col sm:flex-row gap-2 justify-center w-full max-w-md mx-auto\",\n                                                children: currentEvent.choices.map((choice)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>onEventChoice(choice),\n                                                        className: \"sci-fi-button !text-sm !font-serif !px-4 !py-1.5 flex-grow\",\n                                                        children: choice.text\n                                                    }, choice.text, false, {\n                                                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                        lineNumber: 248,\n                                                        columnNumber: 45\n                                                    }, undefined))\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                lineNumber: 246,\n                                                columnNumber: 37\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                        lineNumber: 240,\n                                        columnNumber: 33\n                                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute inset-0 scanning-effect\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                lineNumber: 260,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-center text-brand-blue z-10 font-serif\",\n                                                children: \"Awaiting new developments...\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                lineNumber: 261,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-center text-parchment-dark/70 text-xs mt-1 z-10 italic\",\n                                                children: \"Analyzing historical data streams...\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                lineNumber: 262,\n                                                columnNumber: 37\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 238,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-grow bg-black/30 p-3 rounded-lg overflow-y-auto h-48\",\n                                    children: gameLog.map((log, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-start text-sm mb-1 \".concat(index === 0 ? \"text-parchment-light\" : \"text-parchment-dark\"),\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(LogIcon, {\n                                                    icon: log.icon\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 271,\n                                                    columnNumber: 37\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: log.message\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 272,\n                                                    columnNumber: 37\n                                                }, undefined)\n                                            ]\n                                        }, log.id, true, {\n                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                            lineNumber: 270,\n                                            columnNumber: 33\n                                        }, undefined))\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 268,\n                                    columnNumber: 25\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                            lineNumber: 234,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                    lineNumber: 147,\n                    columnNumber: 17\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                lineNumber: 145,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 104,\n        columnNumber: 9\n    }, undefined);\n};\n_c3 = GameUI;\n/* harmony default export */ __webpack_exports__[\"default\"] = (GameUI);\nvar _c, _c1, _c2, _c3;\n$RefreshReg$(_c, \"ResourceChange\");\n$RefreshReg$(_c1, \"HeaderStat\");\n$RefreshReg$(_c2, \"LogIcon\");\n$RefreshReg$(_c3, \"GameUI\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvR2FtZVVJLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFMEI7QUFFc1M7QUFDaFM7QUFDa0M7QUFtQ2xFLE1BQU0yQixpQkFBK0M7UUFBQyxFQUFFQyxNQUFNLEVBQUU7SUFDNUQsTUFBTUMsYUFBYUQsU0FBUztJQUM1QixNQUFNRSxRQUFRRCxhQUFhLHFCQUFxQjtJQUNoRCxxQkFDSSw4REFBQ0U7UUFBS0MsV0FBVywyRUFBaUYsT0FBTkY7O1lBQ3ZGRCxhQUFhLE1BQU07WUFBSUQ7Ozs7Ozs7QUFHcEM7S0FSTUQ7QUFVTixNQUFNTSxhQUFpSTtRQUFDLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sRUFBRUMsVUFBVSxFQUFFO3lCQUMvSyw4REFBQ0M7UUFBSVAsV0FBVTs7MEJBQ1gsOERBQUNPO2dCQUFJUCxXQUFXLFdBQXNCLE9BQVhNOzBCQUFlSjs7Ozs7OzBCQUMxQyw4REFBQ0g7Z0JBQUtDLFdBQVU7MEJBQTBDRzs7Ozs7O1lBQ3pEQyxTQUFTLFFBQVFBLFVBQVUsbUJBQUssOERBQUNUO2dCQUFlQyxRQUFRUTs7Ozs7OzBCQUN6RCw4REFBQ0c7Z0JBQUlQLFdBQVU7MEJBQ1ZLOzs7Ozs7Ozs7Ozs7O01BTlBKO0FBV0MsTUFBTU8sVUFBZ0Q7SUFDekRDLG9CQUFNLDhEQUFDeEMsMERBQVFBOzs7OztJQUFLeUMsb0JBQU0sOERBQUN4QywwREFBUUE7Ozs7O0lBQUt5QyxvQkFBTSw4REFBQ3hDLDBEQUFRQTs7Ozs7SUFBS3lDLHFCQUFPLDhEQUFDeEMsMkRBQVNBOzs7OztJQUM3RXlDLHdCQUFVLDhEQUFDckMsOERBQVlBOzs7OztJQUN2QnNDLHlCQUFXLDhEQUFDckMsMkRBQVNBOzs7OztJQUNyQnNDLHNCQUFRLDhEQUFDckMseURBQU9BOzs7OztJQUNoQnNDLHNCQUFRLDhEQUFDckMsNERBQVVBOzs7OztJQUNuQnNDLHdCQUFVLDhEQUFDckMsOERBQVlB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RXJHLFdBQVU7MERBQThEOzs7Ozs7Ozs7Ozs7OzhDQU12Riw4REFBQ087b0NBQUlQLFdBQVU7OENBQ1Z5QyxRQUFROEQsR0FBRyxDQUFDLENBQUNRLEtBQUtDLHNCQUNmLDhEQUFDekc7NENBQWlCUCxXQUFXLGlDQUE4RixPQUE3RGdILFVBQVUsSUFBSSx5QkFBeUI7OzhEQUNqRyw4REFBQ2pGO29EQUFRN0IsTUFBTTZHLElBQUk3RyxJQUFJOzs7Ozs7OERBQ3ZCLDhEQUFDSDs4REFBTWdILElBQUlKLE9BQU87Ozs7Ozs7MkNBRlpJLElBQUlFLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVdoRDtNQXJNTWhGO0FBdU1OLCtEQUFlQSxNQUFNQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvR2FtZVVJLnRzeD8wZjI1Il0sInNvdXJjZXNDb250ZW50IjpbIlxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHR5cGUgeyBDaXZpbGl6YXRpb24sIFJlc291cmNlcywgVW5pdHMsIEJ1aWxkaW5ncywgR2FtZUxvZ0VudHJ5LCBMb2dJY29uVHlwZSwgUmVzb3VyY2VEZWx0YXMsIEJ1aWxkaW5nVHlwZSwgQnVpbGRpbmdDb25maWcsIFVuaXRJbmZvLCBNaWxpdGFyeVVuaXRUeXBlLCBCdWlsZGluZ0luc3RhbmNlLCBHYW1lVGFzaywgUGxheWVyQWN0aW9uU3RhdGUsIFJlc291cmNlTm9kZSwgUmVzb3VyY2VOb2RlVHlwZSwgR2FtZUV2ZW50LCBHYW1lRXZlbnRDaG9pY2UsIEdhbWVJdGVtIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgRm9vZEljb24sIFdvb2RJY29uLCBHb2xkSWNvbiwgU3RvbmVJY29uLCBQb3B1bGF0aW9uSWNvbiwgQmFycmFja3NJY29uLCBIb3VzZUljb24sIFZpbGxhZ2VySWNvbiwgU3dvcmRJY29uLCBCb3dJY29uLCBLbmlnaHRJY29uLCBDYXRhcHVsdEljb24sIEV2ZW50SWNvbiwgU3lzdGVtSWNvbiwgQWdlSWNvbiwgQXJjaGVyeVJhbmdlSWNvbiwgU3RhYmxlSWNvbiwgU2llZ2VXb3Jrc2hvcEljb24sIEJsYWNrc21pdGhJY29uLCBXYXRjaFRvd2VySWNvbiwgRXhpdEljb24sIFRvd25DZW50ZXJJY29uIH0gZnJvbSAnLi9pY29ucy9SZXNvdXJjZUljb25zJztcbmltcG9ydCBHYW1lTWFwIGZyb20gJy4vR2FtZU1hcCc7XG5pbXBvcnQgeyBTY3JvbGxUZXh0LCBQYWNrYWdlIGFzIFBhY2thZ2VJY29uIH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcblxuaW50ZXJmYWNlIEdhbWVVSVByb3BzIHtcbiAgICBjaXZpbGl6YXRpb246IENpdmlsaXphdGlvbjtcbiAgICByZXNvdXJjZXM6IFJlc291cmNlcztcbiAgICB1bml0czogVW5pdHM7XG4gICAgYnVpbGRpbmdzOiBCdWlsZGluZ3M7XG4gICAgcG9wdWxhdGlvbjogeyBjdXJyZW50OiBudW1iZXI7IGNhcGFjaXR5OiBudW1iZXIgfTtcbiAgICBjdXJyZW50QWdlOiBzdHJpbmc7XG4gICAgZ2FtZUxvZzogR2FtZUxvZ0VudHJ5W107XG4gICAgcmVzb3VyY2VEZWx0YXM6IFJlc291cmNlRGVsdGFzO1xuICAgIGFjdGl2aXR5U3RhdHVzOiBzdHJpbmc7XG4gICAgdW5pdExpc3Q6IFVuaXRJbmZvW107XG4gICAgYnVpbGRpbmdMaXN0OiBCdWlsZGluZ0NvbmZpZ1tdO1xuICAgIG9uT3BlblVuaXRQYW5lbDogKHR5cGU6ICd2aWxsYWdlcnMnIHwgJ21pbGl0YXJ5JywgcmVjdDogRE9NUmVjdCkgPT4gdm9pZDtcbiAgICBvbk9wZW5CdWlsZGluZ1BhbmVsOiAodHlwZTogQnVpbGRpbmdUeXBlIHwgc3RyaW5nLCBpbnN0YW5jZUlkOiBzdHJpbmcsIHJlY3Q6IERPTVJlY3QpID0+IHZvaWQ7XG4gICAgb25PcGVuQWxsQnVpbGRpbmdzUGFuZWw6IChyZWN0OiBET01SZWN0KSA9PiB2b2lkO1xuICAgIHBsYXllckFjdGlvbjogUGxheWVyQWN0aW9uU3RhdGU7XG4gICAgb25Db25maXJtUGxhY2VtZW50OiAocG9zaXRpb246IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSkgPT4gdm9pZDtcbiAgICBvbkNhbmNlbFBsYXllckFjdGlvbjogKCkgPT4gdm9pZDtcbiAgICBvbkJ1aWxkaW5nQ2xpY2s6IChidWlsZGluZzogQnVpbGRpbmdJbnN0YW5jZSwgcmVjdDogRE9NUmVjdCkgPT4gdm9pZDtcbiAgICBtYXBEaW1lbnNpb25zOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyOyB9O1xuICAgIGFjdGl2ZVRhc2tzOiBHYW1lVGFza1tdO1xuICAgIG9uRXhpdEdhbWU6ICgpID0+IHZvaWQ7XG4gICAgb25PcGVuQ2l2UGFuZWw6IChyZWN0OiBET01SZWN0KSA9PiB2b2lkO1xuICAgIHJlc291cmNlTm9kZXM6IFJlc291cmNlTm9kZVtdO1xuICAgIG9uT3BlbkFzc2lnbm1lbnRQYW5lbDogKG5vZGVJZDogc3RyaW5nLCByZWN0OiBET01SZWN0KSA9PiB2b2lkO1xuICAgIG9uT3BlbkNvbnN0cnVjdGlvblBhbmVsOiAoY29uc3RydWN0aW9uSWQ6IHN0cmluZywgcmVjdDogRE9NUmVjdCkgPT4gdm9pZDtcbiAgICBnYXRoZXJJbmZvOiBSZWNvcmQ8UmVzb3VyY2VOb2RlVHlwZSwgeyByYXRlOiBudW1iZXIgfT47XG4gICAgY3VycmVudEV2ZW50OiBHYW1lRXZlbnQgfCBudWxsO1xuICAgIG9uRXZlbnRDaG9pY2U6IChjaG9pY2U6IEdhbWVFdmVudENob2ljZSkgPT4gdm9pZDtcbiAgICBpbnZlbnRvcnk6IEdhbWVJdGVtW107XG4gICAgb25PcGVuSW52ZW50b3J5UGFuZWw6IChyZWN0OiBET01SZWN0KSA9PiB2b2lkO1xufVxuXG5jb25zdCBSZXNvdXJjZUNoYW5nZTogUmVhY3QuRkM8eyBjaGFuZ2U6IG51bWJlciB9PiA9ICh7IGNoYW5nZSB9KSA9PiB7XG4gICAgY29uc3QgaXNQb3NpdGl2ZSA9IGNoYW5nZSA+IDA7XG4gICAgY29uc3QgY29sb3IgPSBpc1Bvc2l0aXZlID8gJ3RleHQtYnJhbmQtZ3JlZW4nIDogJ3RleHQtYnJhbmQtcmVkJztcbiAgICByZXR1cm4gKFxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2BhYnNvbHV0ZSAtdG9wLTEgcmlnaHQtMCB0ZXh0LWxnIGZvbnQtYm9sZCBvcGFjaXR5LTAgYW5pbWF0ZS1mYWRlLXVwLW91dCAke2NvbG9yfWB9PlxuICAgICAgICAgICAge2lzUG9zaXRpdmUgPyAnKycgOiAnJ317Y2hhbmdlfVxuICAgICAgICA8L3NwYW4+XG4gICAgKTtcbn07XG5cbmNvbnN0IEhlYWRlclN0YXQ6IFJlYWN0LkZDPHsgaWNvbjogUmVhY3QuUmVhY3ROb2RlOyB2YWx1ZTogc3RyaW5nIHwgbnVtYmVyOyBkZWx0YT86IG51bWJlcjsgdG9vbHRpcDogc3RyaW5nOyBjb2xvckNsYXNzPzogc3RyaW5nOyB9PiA9ICh7IGljb24sIHZhbHVlLCBkZWx0YSwgdG9vbHRpcCwgY29sb3JDbGFzcyB9KSA9PiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBncm91cCBmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgYmctc3RvbmUtZGFyay83MCBweC0zIHB5LTEgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLXN0b25lLWxpZ2h0LzMwXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdy01IGgtNSAke2NvbG9yQ2xhc3N9YH0+e2ljb259PC9kaXY+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LW1kIHRleHQtcGFyY2htZW50LWxpZ2h0XCI+e3ZhbHVlfTwvc3Bhbj5cbiAgICAgICAge2RlbHRhICE9IG51bGwgJiYgZGVsdGEgIT09IDAgJiYgPFJlc291cmNlQ2hhbmdlIGNoYW5nZT17ZGVsdGF9IC8+fVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIG1iLTIgdy1tYXggcHgtMiBweS0xIGJnLXN0b25lLWRhcmsgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBwb2ludGVyLWV2ZW50cy1ub25lIHotMTBcIj5cbiAgICAgICAgICAgIHt0b29sdGlwfVxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbik7XG5cbmV4cG9ydCBjb25zdCBpY29uTWFwOiBSZWNvcmQ8TG9nSWNvblR5cGUsIFJlYWN0LlJlYWN0Tm9kZT4gPSB7XG4gICAgZm9vZDogPEZvb2RJY29uIC8+LCB3b29kOiA8V29vZEljb24gLz4sIGdvbGQ6IDxHb2xkSWNvbiAvPiwgc3RvbmU6IDxTdG9uZUljb24gLz4sXG4gICAgdmlsbGFnZXI6IDxWaWxsYWdlckljb24gLz4sIFxuICAgIHN3b3Jkc21hbjogPFN3b3JkSWNvbiAvPixcbiAgICBhcmNoZXI6IDxCb3dJY29uIC8+LFxuICAgIGtuaWdodDogPEtuaWdodEljb24gLz4sXG4gICAgY2F0YXB1bHQ6IDxDYXRhcHVsdEljb24gLz4sXG4gICAgaG91c2VzOiA8SG91c2VJY29uIC8+LCBiYXJyYWNrczogPEJhcnJhY2tzSWNvbiAvPiwgXG4gICAgYXJjaGVyeVJhbmdlOiA8QXJjaGVyeVJhbmdlSWNvbiAvPiwgc3RhYmxlOiA8U3RhYmxlSWNvbiAvPixcbiAgICBzaWVnZVdvcmtzaG9wOiA8U2llZ2VXb3Jrc2hvcEljb24gLz4sIGJsYWNrc21pdGg6IDxCbGFja3NtaXRoSWNvbiAvPixcbiAgICB3YXRjaFRvd2VyOiA8V2F0Y2hUb3dlckljb24vPiwgdG93bkNlbnRlcjogPFRvd25DZW50ZXJJY29uIC8+LFxuICAgIGFnZTogPEFnZUljb24gLz4sIGV2ZW50OiA8RXZlbnRJY29uIC8+LCBzeXN0ZW06IDxTeXN0ZW1JY29uIC8+LFxuICAgIGl0ZW06IDxQYWNrYWdlSWNvbiAvPixcbiAgICBkZWZhdWx0OiA8UGFja2FnZUljb24gLz4sXG59O1xuXG5jb25zdCBMb2dJY29uOiBSZWFjdC5GQzx7aWNvbjogTG9nSWNvblR5cGV9PiA9ICh7aWNvbn0pID0+IHtcbiAgICBjb25zdCBmb3VuZEljb24gPSBpY29uTWFwW2ljb25dIHx8IGljb25NYXAuZGVmYXVsdDtcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTIgbXQtMC41IGZsZXgtc2hyaW5rLTBcIj57Zm91bmRJY29ufTwvZGl2Pjtcbn1cblxuY29uc3QgR2FtZVVJOiBSZWFjdC5GQzxHYW1lVUlQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICAgIGNpdmlsaXphdGlvbiwgcmVzb3VyY2VzLCB1bml0cywgYnVpbGRpbmdzLCBwb3B1bGF0aW9uLCBjdXJyZW50QWdlLCBnYW1lTG9nLCByZXNvdXJjZURlbHRhcywgYWN0aXZpdHlTdGF0dXMsIHVuaXRMaXN0LCBidWlsZGluZ0xpc3QsIG9uT3BlblVuaXRQYW5lbCwgb25PcGVuQnVpbGRpbmdQYW5lbCwgb25PcGVuQWxsQnVpbGRpbmdzUGFuZWwsIHBsYXllckFjdGlvbiwgb25Db25maXJtUGxhY2VtZW50LCBvbkNhbmNlbFBsYXllckFjdGlvbiwgb25CdWlsZGluZ0NsaWNrLCBtYXBEaW1lbnNpb25zLCBhY3RpdmVUYXNrcywgb25FeGl0R2FtZSwgb25PcGVuQ2l2UGFuZWwsIHJlc291cmNlTm9kZXMsIG9uT3BlbkFzc2lnbm1lbnRQYW5lbCwgb25PcGVuQ29uc3RydWN0aW9uUGFuZWwsIGdhdGhlckluZm8sIGN1cnJlbnRFdmVudCwgb25FdmVudENob2ljZSwgaW52ZW50b3J5LCBvbk9wZW5JbnZlbnRvcnlQYW5lbFxuICAgIH0gPSBwcm9wcztcbiAgICBcbiAgICBjb25zdCBidWlsZGluZ0NvdW50cyA9IE9iamVjdC5rZXlzKGJ1aWxkaW5ncykucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgICAgICBjb25zdCBidWlsZGluZ1R5cGUgPSBrZXkgYXMgc3RyaW5nO1xuICAgICAgICBhY2NbYnVpbGRpbmdUeXBlXSA9IGJ1aWxkaW5nc1tidWlsZGluZ1R5cGVdLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+KTtcbiAgICBcbiAgICBjb25zdCBtaWxpdGFyeVVuaXRDb3VudHMgPSB1bml0cy5taWxpdGFyeS5yZWR1Y2UoKGFjYywgdW5pdCkgPT4ge1xuICAgICAgICBhY2NbdW5pdC51bml0VHlwZV0gPSAoYWNjW3VuaXQudW5pdFR5cGVdIHx8IDApICsgMTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSBhcyBSZWNvcmQ8TWlsaXRhcnlVbml0VHlwZSwgbnVtYmVyPik7XG4gICAgXG4gICAgY29uc3QgYnVzeVZpbGxhZ2VyQ291bnQgPSBuZXcgU2V0KGFjdGl2ZVRhc2tzLmZsYXRNYXAodCA9PiB0LnBheWxvYWQ/LnZpbGxhZ2VySWRzIHx8IFtdKSkuc2l6ZTtcbiAgICBjb25zdCB0b3RhbEJ1aWxkaW5nc0NvdW50ID0gT2JqZWN0LnZhbHVlcyhidWlsZGluZ0NvdW50cykucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgYmctc3RvbmUtZGFyayBwLTQgcm91bmRlZC1sZyBzaGFkb3ctMnhsIGJvcmRlci0yIGJvcmRlci1zdG9uZS1saWdodCBmbGV4IGZsZXgtY29sIHNwYWNlLXktNFwiPlxuICAgICAgICAgICAgey8qIFRvcCBIZWFkZXIgKi99XG4gICAgICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBiZy1ibGFjay8yMCBwLTIgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIHRleHQtYnJhbmQtZ29sZFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gb25PcGVuQ2l2UGFuZWwoZS5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKX0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1icmFuZC1nb2xkIGhvdmVyOnRleHQteWVsbG93LTQwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlZpZXcgQ2l2aWxpemF0aW9uIERldGFpbHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04IGgtOFwiPjxBZ2VJY29uLz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1zZXJpZiB0ZXh0LXBhcmNobWVudC1saWdodFwiPntjdXJyZW50QWdlfTwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtcGFyY2htZW50LWRhcmsvNzAgbWwtMVwiPjxTY3JvbGxUZXh0IC8+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPEhlYWRlclN0YXQgaWNvbj17PFBvcHVsYXRpb25JY29uLz59IHZhbHVlPXtgJHtwb3B1bGF0aW9uLmN1cnJlbnR9LyR7cG9wdWxhdGlvbi5jYXBhY2l0eX1gfSB0b29sdGlwPVwiUG9wdWxhdGlvbiAvIENhcGFjaXR5XCIgY29sb3JDbGFzcz1cInRleHQtYnJhbmQtYmx1ZVwiIC8+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICA8SGVhZGVyU3RhdCBpY29uPXs8Rm9vZEljb24vPn0gdmFsdWU9e01hdGguZmxvb3IocmVzb3VyY2VzLmZvb2QpfSBkZWx0YT17cmVzb3VyY2VEZWx0YXMuZm9vZH0gdG9vbHRpcD1cIkZvb2RcIi8+XG4gICAgICAgICAgICAgICAgICAgIDxIZWFkZXJTdGF0IGljb249ezxXb29kSWNvbi8+fSB2YWx1ZT17TWF0aC5mbG9vcihyZXNvdXJjZXMud29vZCl9IGRlbHRhPXtyZXNvdXJjZURlbHRhcy53b29kfSB0b29sdGlwPVwiV29vZFwiLz5cbiAgICAgICAgICAgICAgICAgICAgPEhlYWRlclN0YXQgaWNvbj17PEdvbGRJY29uLz59IHZhbHVlPXtNYXRoLmZsb29yKHJlc291cmNlcy5nb2xkKX0gZGVsdGE9e3Jlc291cmNlRGVsdGFzLmdvbGR9IHRvb2x0aXA9XCJHb2xkXCIvPlxuICAgICAgICAgICAgICAgICAgICA8SGVhZGVyU3RhdCBpY29uPXs8U3RvbmVJY29uLz59IHZhbHVlPXtNYXRoLmZsb29yKHJlc291cmNlcy5zdG9uZSl9IGRlbHRhPXtyZXNvdXJjZURlbHRhcy5zdG9uZX0gdG9vbHRpcD1cIlN0b25lXCIvPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBncm91cCBwbC00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbkV4aXRHYW1lfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTggaC04IHAtMSB0ZXh0LXBhcmNobWVudC1kYXJrIGhvdmVyOnRleHQtYnJhbmQtcmVkIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkV4aXQgdG8gTWFpbiBNZW51XCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RXhpdEljb24gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tZnVsbCByaWdodC0wIG1iLTIgdy1tYXggcHgtMiBweS0xIGJnLXN0b25lLWRhcmsgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBwb2ludGVyLWV2ZW50cy1ub25lIHotMTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFeGl0IHRvIE1lbnVcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvaGVhZGVyPlxuXG4gICAgICAgICAgICB7LyogTWFpbiBDb250ZW50IEdyaWQgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtZ3JvdyBncmlkIGdyaWQtY29scy0xIGdhcC00XCI+XG4gICAgICAgICAgICAgICAgey8qIENlbnRlciBQYW5lbDogTWFwLCBVbml0cywgRXZlbnRzICYgTG9nICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctc3RvbmUtZGFyay8zMCBwLTQgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXN0b25lLWxpZ2h0LzMwIGZsZXggZmxleC1jb2wgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxHYW1lTWFwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdzPXtidWlsZGluZ3N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlVGFza3M9e2FjdGl2ZVRhc2tzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllckFjdGlvbj17cGxheWVyQWN0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybVBsYWNlbWVudD17b25Db25maXJtUGxhY2VtZW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsUGxheWVyQWN0aW9uPXtvbkNhbmNlbFBsYXllckFjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkJ1aWxkaW5nQ2xpY2s9e29uQnVpbGRpbmdDbGlja31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBEaW1lbnNpb25zPXttYXBEaW1lbnNpb25zfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nTGlzdD17YnVpbGRpbmdMaXN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlTm9kZXM9e3Jlc291cmNlTm9kZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pdHM9e3VuaXRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkFzc2lnbm1lbnRQYW5lbD17b25PcGVuQXNzaWdubWVudFBhbmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkNvbnN0cnVjdGlvblBhbmVsPXtvbk9wZW5Db25zdHJ1Y3Rpb25QYW5lbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXRoZXJJbmZvPXtnYXRoZXJJbmZvfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS0yIGxlZnQtMS8yIC10cmFuc2xhdGUteC0xLzIgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogVmlsbGFnZXJzIEJ1dHRvbiAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBvbk9wZW5Vbml0UGFuZWwoJ3ZpbGxhZ2VycycsIGUuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzY2ktZmktYnV0dG9uIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB4LTQgcHktMiAhcm91bmRlZC1sZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtgTWFuYWdlIFZpbGxhZ2VycyAoJHt1bml0cy52aWxsYWdlcnMubGVuZ3RofSlgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBoLTcgdGV4dC1icmFuZC1ibHVlXCI+PFZpbGxhZ2VySWNvbiAvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGRcIj57dW5pdHMudmlsbGFnZXJzLmxlbmd0aH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIG1iLTIgdy1tYXggcHgtMiBweS0xIGJnLXN0b25lLWRhcmsgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBwb2ludGVyLWV2ZW50cy1ub25lIHotMTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtYm9sZFwiPlZpbGxhZ2VyczwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPklkbGU6IHt1bml0cy52aWxsYWdlcnMubGVuZ3RoIC0gYnVzeVZpbGxhZ2VyQ291bnR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+QnVzeToge2J1c3lWaWxsYWdlckNvdW50fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogTWlsaXRhcnkgQnV0dG9uICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IG9uT3BlblVuaXRQYW5lbCgnbWlsaXRhcnknLCBlLmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2NpLWZpLWJ1dHRvbiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBweC00IHB5LTIgIXJvdW5kZWQtbGdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17YE1hbmFnZSBNaWxpdGFyeSAoJHt1bml0cy5taWxpdGFyeS5sZW5ndGh9KWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGgtNyB0ZXh0LWJyYW5kLXJlZFwiPjxTd29yZEljb24gLz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkXCI+e3VuaXRzLm1pbGl0YXJ5Lmxlbmd0aH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIG1iLTIgdy1tYXggcHgtMiBweS0xIGJnLXN0b25lLWRhcmsgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBwb2ludGVyLWV2ZW50cy1ub25lIHotMTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtYm9sZFwiPk1pbGl0YXJ5IEZvcmNlczwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtPYmplY3Qua2V5cyhtaWxpdGFyeVVuaXRDb3VudHMpLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMobWlsaXRhcnlVbml0Q291bnRzKS5tYXAoKFt0eXBlLCBjb3VudF0pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAga2V5PXt0eXBlfSBjbGFzc05hbWU9XCJjYXBpdGFsaXplIHRleHQtcGFyY2htZW50LWRhcmtcIj57dHlwZX06IHtjb3VudH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiA8cD5ObyBmb3JjZXMgdHJhaW5lZC48L3A+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBCdWlsZGluZ3MgQnV0dG9uICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IG9uT3BlbkFsbEJ1aWxkaW5nc1BhbmVsKGUuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzY2ktZmktYnV0dG9uIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB4LTQgcHktMiAhcm91bmRlZC1sZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtgVmlldyBBbGwgQnVpbGRpbmdzICgke3RvdGFsQnVpbGRpbmdzQ291bnR9KWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGgtNyB0ZXh0LXBhcmNobWVudC1kYXJrXCI+PFdhdGNoVG93ZXJJY29uIC8+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZFwiPnt0b3RhbEJ1aWxkaW5nc0NvdW50fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLWZ1bGwgbWItMiB3LW1heCBweC0yIHB5LTEgYmctc3RvbmUtZGFyayB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IHBvaW50ZXItZXZlbnRzLW5vbmUgei0xMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVmlldyBBbGwgU3RydWN0dXJlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogSW52ZW50b3J5IEJ1dHRvbiAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBvbk9wZW5JbnZlbnRvcnlQYW5lbChlLmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2NpLWZpLWJ1dHRvbiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBweC00IHB5LTIgIXJvdW5kZWQtbGdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17YFZpZXcgSW52ZW50b3J5ICgke2ludmVudG9yeS5sZW5ndGh9KWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGgtNyB0ZXh0LWJyYW5kLWdvbGRcIj48UGFja2FnZUljb24gLz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkXCI+e2ludmVudG9yeS5sZW5ndGh9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tZnVsbCBtYi0yIHctbWF4IHB4LTIgcHktMSBiZy1zdG9uZS1kYXJrIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkIG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLW9wYWNpdHkgcG9pbnRlci1ldmVudHMtbm9uZSB6LTEwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWaWV3IEludmVudG9yeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZmxleC1ncm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1zZXJpZiB0ZXh0LWNlbnRlciBtYi0xXCI+Q2hyb25pY2xlczwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LXBhcmNobWVudC1kYXJrIHRleHQtc20gaXRhbGljIG1iLTMgaC01XCI+e2FjdGl2aXR5U3RhdHVzfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ibGFjay8zMCBwLTQgcm91bmRlZC1sZyBzaGFkb3ctaW5uZXIgbWluLWgtWzE1MHB4XSBtYi00IGZsZXggZmxleC1jb2wganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIHJlbGF0aXZlIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50RXZlbnQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtY2VudGVyIHotMTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMCBoLTEwIHRleHQtYnJhbmQtZ29sZCBtYi0yIG14LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RXZlbnRJY29uIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VyaWYgbWItMiB0ZXh0LWJyYW5kLWdvbGRcIj5BbiBFdmVudCBPY2N1cnM8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1wYXJjaG1lbnQtZGFyayBtYi00IHRleHQtc20gbWluLWgtWzQwcHhdIHB4LTRcIj57Y3VycmVudEV2ZW50Lm1lc3NhZ2V9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHNtOmZsZXgtcm93IGdhcC0yIGp1c3RpZnktY2VudGVyIHctZnVsbCBtYXgtdy1tZCBteC1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRFdmVudC5jaG9pY2VzLm1hcChjaG9pY2UgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtjaG9pY2UudGV4dH0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbkV2ZW50Q2hvaWNlKGNob2ljZSl9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2NpLWZpLWJ1dHRvbiAhdGV4dC1zbSAhZm9udC1zZXJpZiAhcHgtNCAhcHktMS41IGZsZXgtZ3Jvd1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjaG9pY2UudGV4dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBzY2FubmluZy1lZmZlY3RcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtYnJhbmQtYmx1ZSB6LTEwIGZvbnQtc2VyaWZcIj5Bd2FpdGluZyBuZXcgZGV2ZWxvcG1lbnRzLi4uPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC1wYXJjaG1lbnQtZGFyay83MCB0ZXh0LXhzIG10LTEgei0xMCBpdGFsaWNcIj5BbmFseXppbmcgaGlzdG9yaWNhbCBkYXRhIHN0cmVhbXMuLi48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtZ3JvdyBiZy1ibGFjay8zMCBwLTMgcm91bmRlZC1sZyBvdmVyZmxvdy15LWF1dG8gaC00OFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtnYW1lTG9nLm1hcCgobG9nLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17bG9nLmlkfSBjbGFzc05hbWU9e2BmbGV4IGl0ZW1zLXN0YXJ0IHRleHQtc20gbWItMSAke2luZGV4ID09PSAwID8gJ3RleHQtcGFyY2htZW50LWxpZ2h0JyA6ICd0ZXh0LXBhcmNobWVudC1kYXJrJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMb2dJY29uIGljb249e2xvZy5pY29ufSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e2xvZy5tZXNzYWdlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdhbWVVSTtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsIkZvb2RJY29uIiwiV29vZEljb24iLCJHb2xkSWNvbiIsIlN0b25lSWNvbiIsIlBvcHVsYXRpb25JY29uIiwiQmFycmFja3NJY29uIiwiSG91c2VJY29uIiwiVmlsbGFnZXJJY29uIiwiU3dvcmRJY29uIiwiQm93SWNvbiIsIktuaWdodEljb24iLCJDYXRhcHVsdEljb24iLCJFdmVudEljb24iLCJTeXN0ZW1JY29uIiwiQWdlSWNvbiIsIkFyY2hlcnlSYW5nZUljb24iLCJTdGFibGVJY29uIiwiU2llZ2VXb3Jrc2hvcEljb24iLCJCbGFja3NtaXRoSWNvbiIsIldhdGNoVG93ZXJJY29uIiwiRXhpdEljb24iLCJUb3duQ2VudGVySWNvbiIsIkdhbWVNYXAiLCJTY3JvbGxUZXh0IiwiUGFja2FnZSIsIlBhY2thZ2VJY29uIiwiUmVzb3VyY2VDaGFuZ2UiLCJjaGFuZ2UiLCJpc1Bvc2l0aXZlIiwiY29sb3IiLCJzcGFuIiwiY2xhc3NOYW1lIiwiSGVhZGVyU3RhdCIsImljb24iLCJ2YWx1ZSIsImRlbHRhIiwidG9vbHRpcCIsImNvbG9yQ2xhc3MiLCJkaXYiLCJpY29uTWFwIiwiZm9vZCIsIndvb2QiLCJnb2xkIiwic3RvbmUiLCJ2aWxsYWdlciIsInN3b3Jkc21hbiIsImFyY2hlciIsImtuaWdodCIsImNhdGFwdWx0IiwiaG91c2VzIiwiYmFycmFja3MiLCJhcmNoZXJ5UmFuZ2UiLCJzdGFibGUiLCJzaWVnZVdvcmtzaG9wIiwiYmxhY2tzbWl0aCIsIndhdGNoVG93ZXIiLCJ0b3duQ2VudGVyIiwiYWdlIiwiZXZlbnQiLCJzeXN0ZW0iLCJpdGVtIiwiZGVmYXVsdCIsIkxvZ0ljb24iLCJmb3VuZEljb24iLCJHYW1lVUkiLCJwcm9wcyIsImNpdmlsaXphdGlvbiIsInJlc291cmNlcyIsInVuaXRzIiwiYnVpbGRpbmdzIiwicG9wdWxhdGlvbiIsImN1cnJlbnRBZ2UiLCJnYW1lTG9nIiwicmVzb3VyY2VEZWx0YXMiLCJhY3Rpdml0eVN0YXR1cyIsInVuaXRMaXN0IiwiYnVpbGRpbmdMaXN0Iiwib25PcGVuVW5pdFBhbmVsIiwib25PcGVuQnVpbGRpbmdQYW5lbCIsIm9uT3BlbkFsbEJ1aWxkaW5nc1BhbmVsIiwicGxheWVyQWN0aW9uIiwib25Db25maXJtUGxhY2VtZW50Iiwib25DYW5jZWxQbGF5ZXJBY3Rpb24iLCJvbkJ1aWxkaW5nQ2xpY2siLCJtYXBEaW1lbnNpb25zIiwiYWN0aXZlVGFza3MiLCJvbkV4aXRHYW1lIiwib25PcGVuQ2l2UGFuZWwiLCJyZXNvdXJjZU5vZGVzIiwib25PcGVuQXNzaWdubWVudFBhbmVsIiwib25PcGVuQ29uc3RydWN0aW9uUGFuZWwiLCJnYXRoZXJJbmZvIiwiY3VycmVudEV2ZW50Iiwib25FdmVudENob2ljZSIsImludmVudG9yeSIsIm9uT3BlbkludmVudG9yeVBhbmVsIiwiYnVpbGRpbmdDb3VudHMiLCJPYmplY3QiLCJrZXlzIiwicmVkdWNlIiwiYWNjIiwia2V5IiwiYnVpbGRpbmdUeXBlIiwibGVuZ3RoIiwibWlsaXRhcnlVbml0Q291bnRzIiwibWlsaXRhcnkiLCJ1bml0IiwidW5pdFR5cGUiLCJidXN5VmlsbGFnZXJDb3VudCIsIlNldCIsImZsYXRNYXAiLCJ0IiwicGF5bG9hZCIsInZpbGxhZ2VySWRzIiwic2l6ZSIsInRvdGFsQnVpbGRpbmdzQ291bnQiLCJ2YWx1ZXMiLCJhIiwiYiIsImhlYWRlciIsImJ1dHRvbiIsIm9uQ2xpY2siLCJlIiwiY3VycmVudFRhcmdldCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImFyaWEtbGFiZWwiLCJoMiIsImN1cnJlbnQiLCJjYXBhY2l0eSIsIk1hdGgiLCJmbG9vciIsInZpbGxhZ2VycyIsInAiLCJlbnRyaWVzIiwibWFwIiwidHlwZSIsImNvdW50IiwiaDMiLCJtZXNzYWdlIiwiY2hvaWNlcyIsImNob2ljZSIsInRleHQiLCJsb2ciLCJpbmRleCIsImlkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/GameUI.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/ResourceAssignmentPanel.tsx":
/*!************************************************!*\
  !*** ./components/ResourceAssignmentPanel.tsx ***!
  \************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./icons/ResourceIcons */ \"(app-pages-browser)/./components/icons/ResourceIcons.tsx\");\n/* harmony import */ var _GameUI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GameUI */ \"(app-pages-browser)/./components/GameUI.tsx\");\n/* harmony import */ var _barrel_optimize_names_Undo2_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Undo2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/undo-2.js\");\n\nvar _s = $RefreshSig$();\n\n\n\n\nconst InfoIcon = (param)=>{\n    let { icon, value, tooltip } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative group flex items-center gap-1.5 text-parchment-dark\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-5 h-5\",\n                children: icon\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                lineNumber: 23,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"font-bold text-sm\",\n                children: value\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                lineNumber: 24,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute bottom-full mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                children: tooltip\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                lineNumber: 25,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n        lineNumber: 22,\n        columnNumber: 5\n    }, undefined);\n};\n_c = InfoIcon;\nconst ResourceAssignmentPanel = (props)=>{\n    _s();\n    const { isOpen, onClose, assignmentTarget, idleVillagerCount, onAssignVillagers, onRecallVillagers, gatherInfo, buildingList, units, anchorRect } = props;\n    // --- Hooks ---\n    const [assignCount, setAssignCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [recallCount, setRecallCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [isClosing, setIsClosing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentData, setCurrentData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        assignmentTarget,\n        anchorRect,\n        units\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen || isClosing) setCurrentData({\n            assignmentTarget,\n            anchorRect,\n            units\n        });\n    }, [\n        assignmentTarget,\n        anchorRect,\n        units,\n        isOpen,\n        isClosing\n    ]);\n    const { assignmentTarget: currentTarget, anchorRect: currentAnchor, units: currentUnits } = currentData;\n    const assignedCount = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (!currentTarget || !currentUnits) return 0;\n        if (\"amount\" in currentTarget) {\n            return currentUnits.villagers.filter((v)=>v.currentTask === \"gather-\".concat(currentTarget.id)).length;\n        }\n        if (\"type\" in currentTarget && currentTarget.type === \"build\") {\n            var _currentTarget_payload;\n            return (((_currentTarget_payload = currentTarget.payload) === null || _currentTarget_payload === void 0 ? void 0 : _currentTarget_payload.villagerIds) || []).length;\n        }\n        return 0;\n    }, [\n        currentTarget,\n        currentUnits\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen) {\n            setAssignCount(idleVillagerCount > 0 ? 1 : 0);\n            setRecallCount(assignedCount > 0 ? 1 : 0);\n        }\n    }, [\n        isOpen,\n        idleVillagerCount,\n        assignedCount\n    ]);\n    const handleClose = ()=>{\n        setIsClosing(true);\n        setTimeout(()=>{\n            onClose();\n            setIsClosing(false);\n        }, 300);\n    };\n    const handleAssign = ()=>{\n        if (currentTarget && assignCount > 0) onAssignVillagers(currentTarget.id, assignCount);\n    };\n    const handleRecall = ()=>{\n        if (currentTarget && recallCount > 0) onRecallVillagers(currentTarget.id, recallCount, \"amount\" in currentTarget ? \"resource\" : \"construction\");\n    };\n    if (!isOpen && !isClosing || !currentTarget || !currentAnchor || !currentUnits) return null;\n    let title = \"Manage Workforce\";\n    let MainIcon = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GatherIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n        lineNumber: 75,\n        columnNumber: 37\n    }, undefined);\n    let InfoIcons = null;\n    let AssignIcon = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GatherIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n        lineNumber: 77,\n        columnNumber: 39\n    }, undefined);\n    if (\"amount\" in currentTarget) {\n        var _gatherInfo_node_type;\n        const node = currentTarget;\n        const assignedVillagersCount = currentUnits.villagers.filter((v)=>v.currentTask === \"gather-\".concat(node.id)).length;\n        title = \"Gather \".concat(node.type);\n        const IconComponent = {\n            food: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.FoodIcon,\n            wood: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.WoodIcon,\n            gold: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GoldIcon,\n            stone: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.StoneIcon\n        }[node.type];\n        MainIcon = IconComponent ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IconComponent, {}, void 0, false, {\n            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n            lineNumber: 84,\n            columnNumber: 36\n        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GatherIcon, {}, void 0, false, {\n            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n            lineNumber: 84,\n            columnNumber: 56\n        }, undefined);\n        const currentRate = assignedVillagersCount * (((_gatherInfo_node_type = gatherInfo[node.type]) === null || _gatherInfo_node_type === void 0 ? void 0 : _gatherInfo_node_type.rate) || 0);\n        InfoIcons = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InfoIcon, {\n                    icon: MainIcon,\n                    value: Math.floor(node.amount),\n                    tooltip: \"Remaining Amount\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 88,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InfoIcon, {\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.VillagerIcon, {}, void 0, false, {\n                        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                        lineNumber: 89,\n                        columnNumber: 33\n                    }, void 0),\n                    value: \"\".concat(assignedVillagersCount),\n                    tooltip: \"Assigned Workers\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 89,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InfoIcon, {\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.ClockIcon, {}, void 0, false, {\n                        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                        lineNumber: 90,\n                        columnNumber: 33\n                    }, void 0),\n                    value: \"\".concat(currentRate.toFixed(1), \"/s\"),\n                    tooltip: \"Current Gather Rate\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 90,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true);\n    }\n    if (\"type\" in currentTarget && currentTarget.type === \"build\") {\n        const task = currentTarget;\n        const buildingInfo = buildingList.find((b)=>b.id === task.payload.buildingType);\n        title = \"Construct \".concat((buildingInfo === null || buildingInfo === void 0 ? void 0 : buildingInfo.name) || \"Building\");\n        MainIcon = buildingInfo ? _GameUI__WEBPACK_IMPORTED_MODULE_3__.iconMap[buildingInfo.iconId] : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BuildIcon, {}, void 0, false, {\n            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n            lineNumber: 99,\n            columnNumber: 66\n        }, undefined);\n        AssignIcon = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BuildIcon, {}, void 0, false, {\n            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n            lineNumber: 100,\n            columnNumber: 22\n        }, undefined);\n        InfoIcons = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InfoIcon, {\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BuildIcon, {}, void 0, false, {\n                        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                        lineNumber: 103,\n                        columnNumber: 33\n                    }, void 0),\n                    value: task.payload.villagerIds.length,\n                    tooltip: \"Current Builders\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 103,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InfoIcon, {\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.VillagerIcon, {}, void 0, false, {\n                        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                        lineNumber: 104,\n                        columnNumber: 33\n                    }, void 0),\n                    value: idleVillagerCount,\n                    tooltip: \"Idle Villagers Available\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 104,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true);\n    }\n    const maxAssignable = idleVillagerCount;\n    const panelWidth = 320;\n    const panelHeightEstimate = 350;\n    const panelGap = 8;\n    const style = {};\n    const spaceBelow = window.innerHeight - currentAnchor.bottom;\n    const spaceAbove = currentAnchor.top;\n    if (spaceBelow < panelHeightEstimate && spaceAbove > spaceBelow) {\n        style.bottom = \"\".concat(window.innerHeight - currentAnchor.top + panelGap, \"px\");\n        style.transformOrigin = \"bottom center\";\n    } else {\n        style.top = \"\".concat(currentAnchor.bottom + panelGap, \"px\");\n        style.transformOrigin = \"top center\";\n    }\n    let leftPos = currentAnchor.left + currentAnchor.width / 2 - panelWidth / 2;\n    if (leftPos + panelWidth > window.innerWidth - panelGap) leftPos = window.innerWidth - panelWidth - panelGap;\n    if (leftPos < panelGap) leftPos = panelGap;\n    style.left = \"\".concat(leftPos, \"px\");\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: style,\n        className: \"fixed z-40 w-80 transform transition-all duration-300 ease-in-out \".concat(isOpen && !isClosing ? \"opacity-100 scale-100\" : \"opacity-0 scale-95\"),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"sci-fi-panel-popup sci-fi-grid p-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center mb-3\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-8 h-8\",\n                                    children: MainIcon\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 129,\n                                    columnNumber: 62\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-2xl font-serif capitalize\",\n                                    children: title\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 129,\n                                    columnNumber: 103\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                            lineNumber: 129,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleClose,\n                            className: \"text-3xl font-bold sci-fi-close-button\",\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                            lineNumber: 130,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 128,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-3\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex justify-around items-center bg-black/20 p-2 rounded-md\",\n                            children: InfoIcons\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                            lineNumber: 133,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                            className: \"border-stone-light/20 my-2\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                            lineNumber: 134,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-sm font-serif text-brand-gold mb-1\",\n                                    children: [\n                                        \"Assign Idle Villagers (\",\n                                        idleVillagerCount,\n                                        \" available)\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 136,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"range\",\n                                            min: \"0\",\n                                            max: maxAssignable,\n                                            value: assignCount,\n                                            onChange: (e)=>setAssignCount(Number(e.target.value)),\n                                            className: \"sci-fi-slider flex-grow\",\n                                            disabled: maxAssignable === 0,\n                                            \"aria-label\": \"Assign Villagers\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                            lineNumber: 138,\n                                            columnNumber: 30\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"font-bold text-lg w-12 text-center bg-black/20 p-1 rounded-md\",\n                                            children: assignCount\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                            lineNumber: 139,\n                                            columnNumber: 29\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative group\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: handleAssign,\n                                                    disabled: assignCount === 0 || maxAssignable === 0,\n                                                    className: \"sci-fi-action-button\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-6 h-6\",\n                                                        children: AssignIcon\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                        lineNumber: 141,\n                                                        columnNumber: 149\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                    lineNumber: 141,\n                                                    columnNumber: 33\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                    children: maxAssignable === 0 ? \"No Idle Villagers\" : \"Assign \".concat(assignCount, \" Villager(s)\")\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                    lineNumber: 142,\n                                                    columnNumber: 34\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                            lineNumber: 140,\n                                            columnNumber: 29\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 137,\n                                    columnNumber: 25\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                            lineNumber: 135,\n                            columnNumber: 21\n                        }, undefined),\n                        assignedCount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                                    className: \"border-stone-light/20 my-3\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 148,\n                                    columnNumber: 30\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-sm font-serif text-brand-red mb-1\",\n                                    children: [\n                                        \"Recall Villagers (\",\n                                        assignedCount,\n                                        \" assigned)\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 149,\n                                    columnNumber: 30\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"range\",\n                                            min: \"1\",\n                                            max: assignedCount,\n                                            value: recallCount,\n                                            onChange: (e)=>setRecallCount(Number(e.target.value)),\n                                            className: \"sci-fi-slider flex-grow\",\n                                            \"aria-label\": \"Recall Villagers\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                            lineNumber: 151,\n                                            columnNumber: 34\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"font-bold text-lg w-12 text-center bg-black/20 p-1 rounded-md\",\n                                            children: recallCount\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                            lineNumber: 152,\n                                            columnNumber: 33\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative group\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: handleRecall,\n                                                    className: \"sci-fi-action-button\",\n                                                    \"aria-label\": \"Recall \".concat(recallCount, \" Villager(s)\"),\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-6 h-6 text-brand-red\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Undo2_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                            lineNumber: 154,\n                                                            columnNumber: 190\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                        lineNumber: 154,\n                                                        columnNumber: 150\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                    lineNumber: 154,\n                                                    columnNumber: 37\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                    children: \"Recall \".concat(recallCount, \" Villager(s)\")\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                    lineNumber: 155,\n                                                    columnNumber: 38\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                            lineNumber: 153,\n                                            columnNumber: 33\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 150,\n                                    columnNumber: 30\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                            lineNumber: 147,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 132,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n            lineNumber: 127,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n        lineNumber: 126,\n        columnNumber: 9\n    }, undefined);\n};\n_s(ResourceAssignmentPanel, \"EDOIMeHBqW2FdoLf+adEc115+tg=\");\n_c1 = ResourceAssignmentPanel;\n/* harmony default export */ __webpack_exports__[\"default\"] = (ResourceAssignmentPanel);\nvar _c, _c1;\n$RefreshReg$(_c, \"InfoIcon\");\n$RefreshReg$(_c1, \"ResourceAssignmentPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvUmVzb3VyY2VBc3NpZ25tZW50UGFuZWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUM0RDtBQUVvRTtBQUM3RjtBQUNFO0FBZXJDLE1BQU1jLFdBQXlGO1FBQUMsRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sRUFBRTt5QkFDcEgsOERBQUNDO1FBQUlDLFdBQVU7OzBCQUNYLDhEQUFDRDtnQkFBSUMsV0FBVTswQkFBV0o7Ozs7OzswQkFDMUIsOERBQUNLO2dCQUFLRCxXQUFVOzBCQUFxQkg7Ozs7OzswQkFDckMsOERBQUNFO2dCQUFJQyxXQUFVOzBCQUNWRjs7Ozs7Ozs7Ozs7OztLQUxQSDtBQVdOLE1BQU1PLDBCQUFrRSxDQUFDQzs7SUFDckUsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsZ0JBQWdCLEVBQUVDLGlCQUFpQixFQUFFQyxpQkFBaUIsRUFBRUMsaUJBQWlCLEVBQUVDLFVBQVUsRUFBRUMsWUFBWSxFQUFFQyxLQUFLLEVBQUVDLFVBQVUsRUFBRSxHQUFHVjtJQUVwSixnQkFBZ0I7SUFDaEIsTUFBTSxDQUFDVyxhQUFhQyxlQUFlLEdBQUdqQywrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUNrQyxhQUFhQyxlQUFlLEdBQUduQywrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUNvQyxXQUFXQyxhQUFhLEdBQUdyQywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNzQyxhQUFhQyxlQUFlLEdBQUd2QywrQ0FBUUEsQ0FBQztRQUFFd0I7UUFBa0JPO1FBQVlEO0lBQU07SUFFckY3QixnREFBU0EsQ0FBQztRQUNOLElBQUlxQixVQUFVYyxXQUFXRyxlQUFlO1lBQUVmO1lBQWtCTztZQUFZRDtRQUFNO0lBQ2xGLEdBQUc7UUFBQ047UUFBa0JPO1FBQVlEO1FBQU9SO1FBQVFjO0tBQVU7SUFFM0QsTUFBTSxFQUFFWixrQkFBa0JnQixhQUFhLEVBQUVULFlBQVlVLGFB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Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVN0UDtHQXBJTWQ7TUFBQUE7QUFzSU4sK0RBQWVBLHVCQUF1QkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL1Jlc291cmNlQXNzaWdubWVudFBhbmVsLnRzeD8yODhhIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdHlwZSB7IFJlc291cmNlTm9kZSwgUmVzb3VyY2VOb2RlVHlwZSwgR2FtZVRhc2ssIEJ1aWxkaW5nQ29uZmlnLCBVbml0cyB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IEZvb2RJY29uLCBXb29kSWNvbiwgR29sZEljb24sIFN0b25lSWNvbiwgVmlsbGFnZXJJY29uLCBDbG9ja0ljb24sIEdhdGhlckljb24sIEJ1aWxkSWNvbiB9IGZyb20gJy4vaWNvbnMvUmVzb3VyY2VJY29ucyc7XG5pbXBvcnQgeyBpY29uTWFwIH0gZnJvbSAnLi9HYW1lVUknO1xuaW1wb3J0IHsgVW5kbzIgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuXG5pbnRlcmZhY2UgUmVzb3VyY2VBc3NpZ25tZW50UGFuZWxQcm9wcyB7XG4gICAgaXNPcGVuOiBib29sZWFuO1xuICAgIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XG4gICAgYXNzaWdubWVudFRhcmdldDogKFJlc291cmNlTm9kZSB8IEdhbWVUYXNrKSB8IG51bGw7XG4gICAgaWRsZVZpbGxhZ2VyQ291bnQ6IG51bWJlcjtcbiAgICBvbkFzc2lnblZpbGxhZ2VyczogKHRhcmdldElkOiBzdHJpbmcsIGNvdW50OiBudW1iZXIpID0+IHZvaWQ7XG4gICAgb25SZWNhbGxWaWxsYWdlcnM6ICh0YXJnZXRJZDogc3RyaW5nLCBjb3VudDogbnVtYmVyLCB0eXBlOiAncmVzb3VyY2UnIHwgJ2NvbnN0cnVjdGlvbicpID0+IHZvaWQ7XG4gICAgZ2F0aGVySW5mbzogUmVjb3JkPFJlc291cmNlTm9kZVR5cGUsIHsgcmF0ZTogbnVtYmVyIH0+O1xuICAgIGJ1aWxkaW5nTGlzdDogQnVpbGRpbmdDb25maWdbXTtcbiAgICB1bml0czogVW5pdHM7XG4gICAgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7XG59XG5cbmNvbnN0IEluZm9JY29uOiBSZWFjdC5GQzx7IGljb246IFJlYWN0LlJlYWN0Tm9kZTsgdmFsdWU6IHN0cmluZyB8IG51bWJlcjsgdG9vbHRpcDogc3RyaW5nIH0+ID0gKHsgaWNvbiwgdmFsdWUsIHRvb2x0aXAgfSkgPT4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNSB0ZXh0LXBhcmNobWVudC1kYXJrXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy01IGgtNVwiPntpY29ufTwvZGl2PlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1zbVwiPnt2YWx1ZX08L3NwYW4+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLWZ1bGwgbWItMiB3LW1heCBweC0yIHB5LTEgYmctc3RvbmUtZGFyayB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IHBvaW50ZXItZXZlbnRzLW5vbmUgei0xMFwiPlxuICAgICAgICAgICAge3Rvb2x0aXB9XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuKTtcblxuXG5jb25zdCBSZXNvdXJjZUFzc2lnbm1lbnRQYW5lbDogUmVhY3QuRkM8UmVzb3VyY2VBc3NpZ25tZW50UGFuZWxQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGlzT3Blbiwgb25DbG9zZSwgYXNzaWdubWVudFRhcmdldCwgaWRsZVZpbGxhZ2VyQ291bnQsIG9uQXNzaWduVmlsbGFnZXJzLCBvblJlY2FsbFZpbGxhZ2VycywgZ2F0aGVySW5mbywgYnVpbGRpbmdMaXN0LCB1bml0cywgYW5jaG9yUmVjdCB9ID0gcHJvcHM7XG4gICAgXG4gICAgLy8gLS0tIEhvb2tzIC0tLVxuICAgIGNvbnN0IFthc3NpZ25Db3VudCwgc2V0QXNzaWduQ291bnRdID0gdXNlU3RhdGUoMSk7XG4gICAgY29uc3QgW3JlY2FsbENvdW50LCBzZXRSZWNhbGxDb3VudF0gPSB1c2VTdGF0ZSgxKTtcbiAgICBjb25zdCBbaXNDbG9zaW5nLCBzZXRJc0Nsb3NpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtjdXJyZW50RGF0YSwgc2V0Q3VycmVudERhdGFdID0gdXNlU3RhdGUoeyBhc3NpZ25tZW50VGFyZ2V0LCBhbmNob3JSZWN0LCB1bml0cyB9KTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpc09wZW4gfHwgaXNDbG9zaW5nKSBzZXRDdXJyZW50RGF0YSh7IGFzc2lnbm1lbnRUYXJnZXQsIGFuY2hvclJlY3QsIHVuaXRzIH0pO1xuICAgIH0sIFthc3NpZ25tZW50VGFyZ2V0LCBhbmNob3JSZWN0LCB1bml0cywgaXNPcGVuLCBpc0Nsb3NpbmddKTtcblxuICAgIGNvbnN0IHsgYXNzaWdubWVudFRhcmdldDogY3VycmVudFRhcmdldCwgYW5jaG9yUmVjdDogY3VycmVudEFuY2hvciwgdW5pdHM6IGN1cnJlbnRVbml0cyB9ID0gY3VycmVudERhdGE7XG4gICAgXG4gICAgY29uc3QgYXNzaWduZWRDb3VudCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBpZiAoIWN1cnJlbnRUYXJnZXQgfHwgIWN1cnJlbnRVbml0cykgcmV0dXJuIDA7XG4gICAgICAgIGlmICgnYW1vdW50JyBpbiBjdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudFVuaXRzLnZpbGxhZ2Vycy5maWx0ZXIodiA9PiB2LmN1cnJlbnRUYXNrID09PSBgZ2F0aGVyLSR7Y3VycmVudFRhcmdldC5pZH1gKS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCd0eXBlJyBpbiBjdXJyZW50VGFyZ2V0ICYmIGN1cnJlbnRUYXJnZXQudHlwZSA9PT0gJ2J1aWxkJykge1xuICAgICAgICAgICAgcmV0dXJuIChjdXJyZW50VGFyZ2V0LnBheWxvYWQ/LnZpbGxhZ2VySWRzIHx8IFtdKS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfSwgW2N1cnJlbnRUYXJnZXQsIGN1cnJlbnRVbml0c10pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGlzT3Blbikge1xuICAgICAgICAgICAgc2V0QXNzaWduQ291bnQoaWRsZVZpbGxhZ2VyQ291bnQgPiAwID8gMSA6IDApO1xuICAgICAgICAgICAgc2V0UmVjYWxsQ291bnQoYXNzaWduZWRDb3VudCA+IDAgPyAxIDogMCk7XG4gICAgICAgIH1cbiAgICB9LCBbaXNPcGVuLCBpZGxlVmlsbGFnZXJDb3VudCwgYXNzaWduZWRDb3VudF0pO1xuICAgIFxuICAgIGNvbnN0IGhhbmRsZUNsb3NlID0gKCkgPT4ge1xuICAgICAgICBzZXRJc0Nsb3NpbmcodHJ1ZSk7IHNldFRpbWVvdXQoKCkgPT4geyBvbkNsb3NlKCk7IHNldElzQ2xvc2luZyhmYWxzZSk7IH0sIDMwMCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUFzc2lnbiA9ICgpID0+IHsgaWYgKGN1cnJlbnRUYXJnZXQgJiYgYXNzaWduQ291bnQgPiAwKSBvbkFzc2lnblZpbGxhZ2VycyhjdXJyZW50VGFyZ2V0LmlkLCBhc3NpZ25Db3VudCk7IH07XG4gICAgY29uc3QgaGFuZGxlUmVjYWxsID0gKCkgPT4geyBpZiAoY3VycmVudFRhcmdldCAmJiByZWNhbGxDb3VudCA+IDApIG9uUmVjYWxsVmlsbGFnZXJzKGN1cnJlbnRUYXJnZXQuaWQsIHJlY2FsbENvdW50LCAnYW1vdW50JyBpbiBjdXJyZW50VGFyZ2V0ID8gJ3Jlc291cmNlJyA6ICdjb25zdHJ1Y3Rpb24nKTsgfTtcblxuICAgIGlmICghaXNPcGVuICYmICFpc0Nsb3NpbmcgfHwgIWN1cnJlbnRUYXJnZXQgfHwgIWN1cnJlbnRBbmNob3IgfHwgIWN1cnJlbnRVbml0cykgcmV0dXJuIG51bGw7XG5cbiAgICBsZXQgdGl0bGUgPSBcIk1hbmFnZSBXb3JrZm9yY2VcIjtcbiAgICBsZXQgTWFpbkljb246IFJlYWN0LlJlYWN0Tm9kZSA9IDxHYXRoZXJJY29uIC8+O1xuICAgIGxldCBJbmZvSWNvbnM6IFJlYWN0LlJlYWN0Tm9kZSA9IG51bGw7XG4gICAgbGV0IEFzc2lnbkljb246IFJlYWN0LlJlYWN0Tm9kZSA9IDxHYXRoZXJJY29uIC8+O1xuICAgIFxuICAgIGlmICgnYW1vdW50JyBpbiBjdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBjdXJyZW50VGFyZ2V0IGFzIFJlc291cmNlTm9kZTtcbiAgICAgICAgY29uc3QgYXNzaWduZWRWaWxsYWdlcnNDb3VudCA9IGN1cnJlbnRVbml0cy52aWxsYWdlcnMuZmlsdGVyKHYgPT4gdi5jdXJyZW50VGFzayA9PT0gYGdhdGhlci0ke25vZGUuaWR9YCkubGVuZ3RoO1xuICAgICAgICB0aXRsZSA9IGBHYXRoZXIgJHtub2RlLnR5cGV9YDtcbiAgICAgICAgY29uc3QgSWNvbkNvbXBvbmVudCA9IHsgZm9vZDogRm9vZEljb24sIHdvb2Q6IFdvb2RJY29uLCBnb2xkOiBHb2xkSWNvbiwgc3RvbmU6IFN0b25lSWNvbiB9W25vZGUudHlwZV07XG4gICAgICAgIE1haW5JY29uID0gSWNvbkNvbXBvbmVudCA/IDxJY29uQ29tcG9uZW50IC8+IDogPEdhdGhlckljb24gLz47XG4gICAgICAgIGNvbnN0IGN1cnJlbnRSYXRlID0gYXNzaWduZWRWaWxsYWdlcnNDb3VudCAqIChnYXRoZXJJbmZvW25vZGUudHlwZV0/LnJhdGUgfHwgMCk7XG4gICAgICAgIEluZm9JY29ucyA9IChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPEluZm9JY29uIGljb249e01haW5JY29ufSB2YWx1ZT17TWF0aC5mbG9vcihub2RlLmFtb3VudCl9IHRvb2x0aXA9XCJSZW1haW5pbmcgQW1vdW50XCIgLz5cbiAgICAgICAgICAgICAgICA8SW5mb0ljb24gaWNvbj17PFZpbGxhZ2VySWNvbiAvPn0gdmFsdWU9e2Ake2Fzc2lnbmVkVmlsbGFnZXJzQ291bnR9YH0gdG9vbHRpcD1cIkFzc2lnbmVkIFdvcmtlcnNcIiAvPlxuICAgICAgICAgICAgICAgIDxJbmZvSWNvbiBpY29uPXs8Q2xvY2tJY29uIC8+fSB2YWx1ZT17YCR7Y3VycmVudFJhdGUudG9GaXhlZCgxKX0vc2B9IHRvb2x0aXA9XCJDdXJyZW50IEdhdGhlciBSYXRlXCIgLz5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICApO1xuICAgIH1cblxuICAgIGlmICgndHlwZScgaW4gY3VycmVudFRhcmdldCAmJiBjdXJyZW50VGFyZ2V0LnR5cGUgPT09ICdidWlsZCcpIHtcbiAgICAgICAgY29uc3QgdGFzayA9IGN1cnJlbnRUYXJnZXQgYXMgR2FtZVRhc2s7XG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gdGFzay5wYXlsb2FkIS5idWlsZGluZ1R5cGUpO1xuICAgICAgICB0aXRsZSA9IGBDb25zdHJ1Y3QgJHtidWlsZGluZ0luZm8/Lm5hbWUgfHwgJ0J1aWxkaW5nJ31gO1xuICAgICAgICBNYWluSWNvbiA9IGJ1aWxkaW5nSW5mbyA/IGljb25NYXBbYnVpbGRpbmdJbmZvLmljb25JZF0gOiA8QnVpbGRJY29uIC8+O1xuICAgICAgICBBc3NpZ25JY29uID0gPEJ1aWxkSWNvbiAvPjtcbiAgICAgICAgSW5mb0ljb25zID0gKFxuICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPEluZm9JY29uIGljb249ezxCdWlsZEljb24gLz59IHZhbHVlPXt0YXNrLnBheWxvYWQhLnZpbGxhZ2VySWRzIS5sZW5ndGh9IHRvb2x0aXA9XCJDdXJyZW50IEJ1aWxkZXJzXCIgLz5cbiAgICAgICAgICAgICAgICA8SW5mb0ljb24gaWNvbj17PFZpbGxhZ2VySWNvbiAvPn0gdmFsdWU9e2lkbGVWaWxsYWdlckNvdW50fSB0b29sdGlwPVwiSWRsZSBWaWxsYWdlcnMgQXZhaWxhYmxlXCIgLz5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICApXG4gICAgfVxuXG4gICAgY29uc3QgbWF4QXNzaWduYWJsZSA9IGlkbGVWaWxsYWdlckNvdW50O1xuICAgIFxuICAgIGNvbnN0IHBhbmVsV2lkdGggPSAzMjA7IGNvbnN0IHBhbmVsSGVpZ2h0RXN0aW1hdGUgPSAzNTA7IGNvbnN0IHBhbmVsR2FwID0gODtcbiAgICBjb25zdCBzdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHt9O1xuICAgIGNvbnN0IHNwYWNlQmVsb3cgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSBjdXJyZW50QW5jaG9yLmJvdHRvbTtcbiAgICBjb25zdCBzcGFjZUFib3ZlID0gY3VycmVudEFuY2hvci50b3A7XG4gICAgaWYgKHNwYWNlQmVsb3cgPCBwYW5lbEhlaWdodEVzdGltYXRlICYmIHNwYWNlQWJvdmUgPiBzcGFjZUJlbG93KSB7XG4gICAgICAgIHN0eWxlLmJvdHRvbSA9IGAke3dpbmRvdy5pbm5lckhlaWdodCAtIGN1cnJlbnRBbmNob3IudG9wICsgcGFuZWxHYXB9cHhgOyBzdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSAnYm90dG9tIGNlbnRlcic7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc3R5bGUudG9wID0gYCR7Y3VycmVudEFuY2hvci5ib3R0b20gKyBwYW5lbEdhcH1weGA7IHN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9ICd0b3AgY2VudGVyJztcbiAgICB9XG4gICAgbGV0IGxlZnRQb3MgPSBjdXJyZW50QW5jaG9yLmxlZnQgKyBjdXJyZW50QW5jaG9yLndpZHRoIC8gMiAtIHBhbmVsV2lkdGggLyAyO1xuICAgIGlmIChsZWZ0UG9zICsgcGFuZWxXaWR0aCA+IHdpbmRvdy5pbm5lcldpZHRoIC0gcGFuZWxHYXApIGxlZnRQb3MgPSB3aW5kb3cuaW5uZXJXaWR0aCAtIHBhbmVsV2lkdGggLSBwYW5lbEdhcDtcbiAgICBpZiAobGVmdFBvcyA8IHBhbmVsR2FwKSBsZWZ0UG9zID0gcGFuZWxHYXA7XG4gICAgc3R5bGUubGVmdCA9IGAke2xlZnRQb3N9cHhgO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBzdHlsZT17c3R5bGV9IGNsYXNzTmFtZT17YGZpeGVkIHotNDAgdy04MCB0cmFuc2Zvcm0gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGVhc2UtaW4tb3V0ICR7aXNPcGVuICYmICFpc0Nsb3NpbmcgPyAnb3BhY2l0eS0xMDAgc2NhbGUtMTAwJyA6ICdvcGFjaXR5LTAgc2NhbGUtOTUnfWB9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzY2ktZmktcGFuZWwtcG9wdXAgc2NpLWZpLWdyaWQgcC00XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+PGRpdiBjbGFzc05hbWU9XCJ3LTggaC04XCI+e01haW5JY29ufTwvZGl2PjxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LXNlcmlmIGNhcGl0YWxpemVcIj57dGl0bGV9PC9oMj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVDbG9zZX0gY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHNjaS1maS1jbG9zZS1idXR0b25cIj4mdGltZXM7PC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYXJvdW5kIGl0ZW1zLWNlbnRlciBiZy1ibGFjay8yMCBwLTIgcm91bmRlZC1tZFwiPntJbmZvSWNvbnN9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxociBjbGFzc05hbWU9XCJib3JkZXItc3RvbmUtbGlnaHQvMjAgbXktMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LXNlcmlmIHRleHQtYnJhbmQtZ29sZCBtYi0xXCI+QXNzaWduIElkbGUgVmlsbGFnZXJzICh7aWRsZVZpbGxhZ2VyQ291bnR9IGF2YWlsYWJsZSk8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhbmdlXCIgbWluPVwiMFwiIG1heD17bWF4QXNzaWduYWJsZX0gdmFsdWU9e2Fzc2lnbkNvdW50fSBvbkNoYW5nZT17KGUpID0+IHNldEFzc2lnbkNvdW50KE51bWJlcihlLnRhcmdldC52YWx1ZSkpfSBjbGFzc05hbWU9XCJzY2ktZmktc2xpZGVyIGZsZXgtZ3Jvd1wiIGRpc2FibGVkPXttYXhBc3NpZ25hYmxlID09PSAwfSBhcmlhLWxhYmVsPVwiQXNzaWduIFZpbGxhZ2Vyc1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtbGcgdy0xMiB0ZXh0LWNlbnRlciBiZy1ibGFjay8yMCBwLTEgcm91bmRlZC1tZFwiPnthc3NpZ25Db3VudH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUFzc2lnbn0gZGlzYWJsZWQ9e2Fzc2lnbkNvdW50ID09PSAwIHx8IG1heEFzc2lnbmFibGUgPT09IDB9IGNsYXNzTmFtZT1cInNjaS1maS1hY3Rpb24tYnV0dG9uXCI+PGRpdiBjbGFzc05hbWU9XCJ3LTYgaC02XCI+e0Fzc2lnbkljb259PC9kaXY+PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIHJpZ2h0LTAgbWItMiB3LW1heCBweC0yIHB5LTEgYmctc3RvbmUtZGFyayB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IHBvaW50ZXItZXZlbnRzLW5vbmUgei0xMFwiPnttYXhBc3NpZ25hYmxlID09PSAwID8gJ05vIElkbGUgVmlsbGFnZXJzJyA6IGBBc3NpZ24gJHthc3NpZ25Db3VudH0gVmlsbGFnZXIocylgfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7YXNzaWduZWRDb3VudCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGhyIGNsYXNzTmFtZT1cImJvcmRlci1zdG9uZS1saWdodC8yMCBteS0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1zZXJpZiB0ZXh0LWJyYW5kLXJlZCBtYi0xXCI+UmVjYWxsIFZpbGxhZ2VycyAoe2Fzc2lnbmVkQ291bnR9IGFzc2lnbmVkKTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBtaW49XCIxXCIgbWF4PXthc3NpZ25lZENvdW50fSB2YWx1ZT17cmVjYWxsQ291bnR9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0UmVjYWxsQ291bnQoTnVtYmVyKGUudGFyZ2V0LnZhbHVlKSl9IGNsYXNzTmFtZT1cInNjaS1maS1zbGlkZXIgZmxleC1ncm93XCIgYXJpYS1sYWJlbD1cIlJlY2FsbCBWaWxsYWdlcnNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1sZyB3LTEyIHRleHQtY2VudGVyIGJnLWJsYWNrLzIwIHAtMSByb3VuZGVkLW1kXCI+e3JlY2FsbENvdW50fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVSZWNhbGx9IGNsYXNzTmFtZT1cInNjaS1maS1hY3Rpb24tYnV0dG9uXCIgYXJpYS1sYWJlbD17YFJlY2FsbCAke3JlY2FsbENvdW50fSBWaWxsYWdlcihzKWB9PjxkaXYgY2xhc3NOYW1lPVwidy02IGgtNiB0ZXh0LWJyYW5kLXJlZFwiPjxVbmRvMi8+PC9kaXY+PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tZnVsbCByaWdodC0wIG1iLTIgdy1tYXggcHgtMiBweS0xIGJnLXN0b25lLWRhcmsgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBwb2ludGVyLWV2ZW50cy1ub25lIHotMTBcIj57YFJlY2FsbCAke3JlY2FsbENvdW50fSBWaWxsYWdlcihzKWB9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBSZXNvdXJjZUFzc2lnbm1lbnRQYW5lbDtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlTWVtbyIsIkZvb2RJY29uIiwiV29vZEljb24iLCJHb2xkSWNvbiIsIlN0b25lSWNvbiIsIlZpbGxhZ2VySWNvbiIsIkNsb2NrSWNvbiIsIkdhdGhlckljb24iLCJCdWlsZEljb24iLCJpY29uTWFwIiwiVW5kbzIiLCJJbmZvSWNvbiIsImljb24iLCJ2YWx1ZSIsInRvb2x0aXAiLCJkaXYiLCJjbGFzc05hbWUiLCJzcGFuIiwiUmVzb3VyY2VBc3NpZ25tZW50UGFuZWwiLCJwcm9wcyIsImlzT3BlbiIsIm9uQ2xvc2UiLCJhc3NpZ25tZW50VGFyZ2V0IiwiaWRsZVZpbGxhZ2VyQ291bnQiLCJvbkFzc2lnblZpbGxhZ2VycyIsIm9uUmVjYWxsVmlsbGFnZXJzIiwiZ2F0aGVySW5mbyIsImJ1aWxkaW5nTGlzdCIsInVuaXRzIiwiYW5jaG9yUmVjdCIsImFzc2lnbkNvdW50Iiwic2V0QXNzaWduQ291bnQiLCJyZWNhbGxDb3VudCIsInNldFJlY2FsbENvdW50IiwiaXNDbG9zaW5nIiwic2V0SXNDbG9zaW5nIiwiY3VycmVudERhdGEiLCJzZXRDdXJyZW50RGF0YSIsImN1cnJlbnRUYXJnZXQiLCJjdXJyZW50QW5jaG9yIiwiY3VycmVudFVuaXRzIiwiYXNzaWduZWRDb3VudCIsInZpbGxhZ2VycyIsImZpbHRlciIsInYiLCJjdXJyZW50VGFzayIsImlkIiwibGVuZ3RoIiwidHlwZSIsInBheWxvYWQiLCJ2aWxsYWdlcklkcyIsImhhbmRsZUNsb3NlIiwic2V0VGltZW91dCIsImhhbmRsZUFzc2lnbiIsImhhbmRsZVJlY2FsbCIsInRpdGxlIiwiTWFpbkljb24iLCJJbmZvSWNvbnMiLCJBc3NpZ25JY29uIiwibm9kZSIsImFzc2lnbmVkVmlsbGFnZXJzQ291bnQiLCJJY29uQ29tcG9uZW50IiwiZm9vZCIsIndvb2QiLCJnb2xkIiwic3RvbmUiLCJjdXJyZW50UmF0ZSIsInJhdGUiLCJNYXRoIiwiZmxvb3IiLCJhbW91bnQiLCJ0b0ZpeGVkIiwidGFzayIsImJ1aWxkaW5nSW5mbyIsImZpbmQiLCJiIiwiYnVpbGRpbmdUeXBlIiwibmFtZSIsImljb25JZCIsIm1heEFzc2lnbmFibGUiLCJwYW5lbFdpZHRoIiwicGFuZWxIZWlnaHRFc3RpbWF0ZSIsInBhbmVsR2FwIiwic3R5bGUiLCJzcGFjZUJlbG93Iiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJib3R0b20iLCJzcGFjZUFib3ZlIiwidG9wIiwidHJhbnNmb3JtT3JpZ2luIiwibGVmdFBvcyIsImxlZnQiLCJ3aWR0aCIsImlubmVyV2lkdGgiLCJoMiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJociIsImxhYmVsIiwiaW5wdXQiLCJtaW4iLCJtYXgiLCJvbkNoYW5nZSIsImUiLCJOdW1iZXIiLCJ0YXJnZXQiLCJkaXNhYmxlZCIsImFyaWEtbGFiZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ResourceAssignmentPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/icons/iconRegistry.ts":
/*!******************************************!*\
  !*** ./components/icons/iconRegistry.ts ***!
  \******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildingIconMap: function() { return /* binding */ buildingIconMap; }\n/* harmony export */ });\n/* harmony import */ var _ResourceIcons__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ResourceIcons */ \"(app-pages-browser)/./components/icons/ResourceIcons.tsx\");\n/* harmony import */ var _barrel_optimize_names_Package_lucide_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! __barrel_optimize__?names=Package!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/package.js\");\n\n\nconst buildingIconMap = {\n    houses: _ResourceIcons__WEBPACK_IMPORTED_MODULE_0__.HouseIcon,\n    barracks: _ResourceIcons__WEBPACK_IMPORTED_MODULE_0__.BarracksIcon,\n    archeryRange: _ResourceIcons__WEBPACK_IMPORTED_MODULE_0__.ArcheryRangeIcon,\n    stable: _ResourceIcons__WEBPACK_IMPORTED_MODULE_0__.StableIcon,\n    siegeWorkshop: _ResourceIcons__WEBPACK_IMPORTED_MODULE_0__.SiegeWorkshopIcon,\n    blacksmith: _ResourceIcons__WEBPACK_IMPORTED_MODULE_0__.BlacksmithIcon,\n    watchTower: _ResourceIcons__WEBPACK_IMPORTED_MODULE_0__.WatchTowerIcon,\n    townCenter: _ResourceIcons__WEBPACK_IMPORTED_MODULE_0__.TownCenterIcon,\n    default: _barrel_optimize_names_Package_lucide_react__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvaWNvbnMvaWNvblJlZ2lzdHJ5LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEySjtBQUNwSDtBQUVoQyxNQUFNUyxrQkFBNEM7SUFDckRDLFFBQVFULHFEQUFTQTtJQUNqQlUsVUFBVVgsd0RBQVlBO0lBQ3RCWSxjQUFjViw0REFBZ0JBO0lBQzlCVyxRQUFRVixzREFBVUE7SUFDbEJXLGVBQWVWLDZEQUFpQkE7SUFDaENXLFlBQVlWLDBEQUFjQTtJQUMxQlcsWUFBWVYsMERBQWNBO0lBQzFCVyxZQUFZViwwREFBY0E7SUFDMUJXLFNBQVNWLG1GQUFPQTtBQUNwQixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvaWNvbnMvaWNvblJlZ2lzdHJ5LnRzPzc5NjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFycmFja3NJY29uLCBIb3VzZUljb24sIEFyY2hlcnlSYW5nZUljb24sIFN0YWJsZUljb24sIFNpZWdlV29ya3Nob3BJY29uLCBCbGFja3NtaXRoSWNvbiwgV2F0Y2hUb3dlckljb24sIFRvd25DZW50ZXJJY29uIH0gZnJvbSAnLi9SZXNvdXJjZUljb25zJztcbmltcG9ydCB7IFBhY2thZ2UgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuXG5leHBvcnQgY29uc3QgYnVpbGRpbmdJY29uTWFwOiBSZWNvcmQ8c3RyaW5nLCBSZWFjdC5GQz4gPSB7XG4gICAgaG91c2VzOiBIb3VzZUljb24sXG4gICAgYmFycmFja3M6IEJhcnJhY2tzSWNvbixcbiAgICBhcmNoZXJ5UmFuZ2U6IEFyY2hlcnlSYW5nZUljb24sXG4gICAgc3RhYmxlOiBTdGFibGVJY29uLFxuICAgIHNpZWdlV29ya3Nob3A6IFNpZWdlV29ya3Nob3BJY29uLFxuICAgIGJsYWNrc21pdGg6IEJsYWNrc21pdGhJY29uLFxuICAgIHdhdGNoVG93ZXI6IFdhdGNoVG93ZXJJY29uLFxuICAgIHRvd25DZW50ZXI6IFRvd25DZW50ZXJJY29uLFxuICAgIGRlZmF1bHQ6IFBhY2thZ2UsXG59O1xuIl0sIm5hbWVzIjpbIkJhcnJhY2tzSWNvbiIsIkhvdXNlSWNvbiIsIkFyY2hlcnlSYW5nZUljb24iLCJTdGFibGVJY29uIiwiU2llZ2VXb3Jrc2hvcEljb24iLCJCbGFja3NtaXRoSWNvbiIsIldhdGNoVG93ZXJJY29uIiwiVG93bkNlbnRlckljb24iLCJQYWNrYWdlIiwiYnVpbGRpbmdJY29uTWFwIiwiaG91c2VzIiwiYmFycmFja3MiLCJhcmNoZXJ5UmFuZ2UiLCJzdGFibGUiLCJzaWVnZVdvcmtzaG9wIiwiYmxhY2tzbWl0aCIsIndhdGNoVG93ZXIiLCJ0b3duQ2VudGVyIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/icons/iconRegistry.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./services/dbService.ts":
/*!*******************************!*\
  !*** ./services/dbService.ts ***!
  \*******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteAgeConfig: function() { return /* binding */ deleteAgeConfig; },\n/* harmony export */   deleteBuildingConfig: function() { return /* binding */ deleteBuildingConfig; },\n/* harmony export */   deleteGameState: function() { return /* binding */ deleteGameState; },\n/* harmony export */   getAllAgeConfigs: function() { return /* binding */ getAllAgeConfigs; },\n/* harmony export */   getAllBuildingConfigs: function() { return /* binding */ getAllBuildingConfigs; },\n/* harmony export */   getAllSaveNames: function() { return /* binding */ getAllSaveNames; },\n/* harmony export */   loadGameState: function() { return /* binding */ loadGameState; },\n/* harmony export */   saveAgeConfig: function() { return /* binding */ saveAgeConfig; },\n/* harmony export */   saveBuildingConfig: function() { return /* binding */ saveBuildingConfig; },\n/* harmony export */   saveGameState: function() { return /* binding */ saveGameState; }\n/* harmony export */ });\nconst DB_NAME = \"GeminiEmpiresDB\";\nconst GAME_STATE_STORE_NAME = \"gameState\";\nconst AGES_CONFIG_STORE_NAME = \"ageConfigurations\";\nconst BUILDING_CONFIG_STORE_NAME = \"buildingConfigurations\";\nconst DB_VERSION = 4; // Incremented version\nconst openDB = ()=>{\n    return new Promise((resolve, reject)=>{\n        const request = indexedDB.open(DB_NAME, DB_VERSION);\n        request.onupgradeneeded = (event)=>{\n            const db = request.result;\n            if (!db.objectStoreNames.contains(GAME_STATE_STORE_NAME)) {\n                db.createObjectStore(GAME_STATE_STORE_NAME);\n            }\n            if (db.objectStoreNames.contains(\"customAges\")) {\n                db.deleteObjectStore(\"customAges\");\n            }\n            if (!db.objectStoreNames.contains(AGES_CONFIG_STORE_NAME)) {\n                db.createObjectStore(AGES_CONFIG_STORE_NAME, {\n                    keyPath: \"id\"\n                });\n            }\n            if (!db.objectStoreNames.contains(BUILDING_CONFIG_STORE_NAME)) {\n                db.createObjectStore(BUILDING_CONFIG_STORE_NAME, {\n                    keyPath: \"id\"\n                });\n            }\n        };\n        request.onsuccess = ()=>{\n            resolve(request.result);\n        };\n        request.onerror = ()=>{\n            console.error(\"IndexedDB error:\", request.error);\n            reject(request.error);\n        };\n    });\n};\nconst saveGameState = async (saveName, state)=>{\n    try {\n        const db = await openDB();\n        const transaction = db.transaction(GAME_STATE_STORE_NAME, \"readwrite\");\n        const store = transaction.objectStore(GAME_STATE_STORE_NAME);\n        store.put(state, saveName);\n        return new Promise((resolve, reject)=>{\n            transaction.oncomplete = ()=>resolve();\n            transaction.onerror = ()=>reject(transaction.error);\n        });\n    } catch (error) {\n        console.error(\"Failed to save game state:\", error);\n    }\n};\nconst loadGameState = async (saveName)=>{\n    try {\n        const db = await openDB();\n        const transaction = db.transaction(GAME_STATE_STORE_NAME, \"readonly\");\n        const store = transaction.objectStore(GAME_STATE_STORE_NAME);\n        const request = store.get(saveName);\n        return new Promise((resolve, reject)=>{\n            request.onsuccess = ()=>{\n                resolve(request.result);\n            };\n            request.onerror = ()=>{\n                console.error(\"Failed to load game state:\", request.error);\n                reject(request.error);\n            };\n        });\n    } catch (error) {\n        console.error(\"Failed to open DB for loading:\", error);\n        return undefined;\n    }\n};\nconst getAllSaveNames = async ()=>{\n    try {\n        const db = await openDB();\n        const transaction = db.transaction(GAME_STATE_STORE_NAME, \"readonly\");\n        const store = transaction.objectStore(GAME_STATE_STORE_NAME);\n        const request = store.getAllKeys();\n        return new Promise((resolve, reject)=>{\n            request.onsuccess = ()=>{\n                resolve(request.result);\n            };\n            request.onerror = ()=>{\n                console.error(\"Failed to get all save names:\", request.error);\n                reject(request.error);\n            };\n        });\n    } catch (error) {\n        console.error(\"Failed to open DB for getting save names:\", error);\n        return [];\n    }\n};\nconst deleteGameState = async (saveName)=>{\n    try {\n        const db = await openDB();\n        const transaction = db.transaction(GAME_STATE_STORE_NAME, \"readwrite\");\n        const store = transaction.objectStore(GAME_STATE_STORE_NAME);\n        store.delete(saveName);\n        return new Promise((resolve, reject)=>{\n            transaction.oncomplete = ()=>resolve();\n            transaction.onerror = ()=>reject(transaction.error);\n        });\n    } catch (error) {\n        console.error(\"Failed to delete game state:\", error);\n    }\n};\n// --- Age Configuration Functions ---\nconst saveAgeConfig = async (age)=>{\n    try {\n        const db = await openDB();\n        const transaction = db.transaction(AGES_CONFIG_STORE_NAME, \"readwrite\");\n        const store = transaction.objectStore(AGES_CONFIG_STORE_NAME);\n        store.put(age);\n        return new Promise((resolve, reject)=>{\n            transaction.oncomplete = ()=>resolve();\n            transaction.onerror = ()=>reject(transaction.error);\n        });\n    } catch (error) {\n        console.error(\"Failed to save age config:\", error);\n    }\n};\nconst getAllAgeConfigs = async ()=>{\n    try {\n        const db = await openDB();\n        const transaction = db.transaction(AGES_CONFIG_STORE_NAME, \"readonly\");\n        const store = transaction.objectStore(AGES_CONFIG_STORE_NAME);\n        const request = store.getAll();\n        return new Promise((resolve, reject)=>{\n            request.onsuccess = ()=>{\n                const ages = request.result;\n                ages.sort((a, b)=>a.order - b.order);\n                resolve(ages);\n            };\n            request.onerror = ()=>{\n                console.error(\"Failed to load age configs:\", request.error);\n                reject(request.error);\n            };\n        });\n    } catch (error) {\n        console.error(\"Failed to open DB for loading age configs:\", error);\n        return [];\n    }\n};\nconst deleteAgeConfig = async (id)=>{\n    try {\n        const db = await openDB();\n        const transaction = db.transaction(AGES_CONFIG_STORE_NAME, \"readwrite\");\n        const store = transaction.objectStore(AGES_CONFIG_STORE_NAME);\n        store.delete(id);\n        return new Promise((resolve, reject)=>{\n            transaction.oncomplete = ()=>resolve();\n            transaction.onerror = ()=>reject(transaction.error);\n        });\n    } catch (error) {\n        console.error(\"Failed to delete age config:\", error);\n    }\n};\n// --- Building Configuration Functions ---\nconst saveBuildingConfig = async (building)=>{\n    try {\n        const db = await openDB();\n        const transaction = db.transaction(BUILDING_CONFIG_STORE_NAME, \"readwrite\");\n        const store = transaction.objectStore(BUILDING_CONFIG_STORE_NAME);\n        store.put(building);\n        return new Promise((resolve, reject)=>{\n            transaction.oncomplete = ()=>resolve();\n            transaction.onerror = ()=>reject(transaction.error);\n        });\n    } catch (error) {\n        console.error(\"Failed to save building config:\", error);\n    }\n};\nconst getAllBuildingConfigs = async ()=>{\n    try {\n        const db = await openDB();\n        const transaction = db.transaction(BUILDING_CONFIG_STORE_NAME, \"readonly\");\n        const store = transaction.objectStore(BUILDING_CONFIG_STORE_NAME);\n        const request = store.getAll();\n        return new Promise((resolve, reject)=>{\n            request.onsuccess = ()=>{\n                const buildings = request.result;\n                buildings.sort((a, b)=>a.order - b.order);\n                resolve(buildings);\n            };\n            request.onerror = ()=>{\n                console.error(\"Failed to load building configs:\", request.error);\n                reject(request.error);\n            };\n        });\n    } catch (error) {\n        console.error(\"Failed to open DB for loading building configs:\", error);\n        return [];\n    }\n};\nconst deleteBuildingConfig = async (id)=>{\n    try {\n        const db = await openDB();\n        const transaction = db.transaction(BUILDING_CONFIG_STORE_NAME, \"readwrite\");\n        const store = transaction.objectStore(BUILDING_CONFIG_STORE_NAME);\n        store.delete(id);\n        return new Promise((resolve, reject)=>{\n            transaction.oncomplete = ()=>resolve();\n            transaction.onerror = ()=>reject(transaction.error);\n        });\n    } catch (error) {\n        console.error(\"Failed to delete building config:\", error);\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NlcnZpY2VzL2RiU2VydmljZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBRUEsTUFBTUEsVUFBVTtBQUNoQixNQUFNQyx3QkFBd0I7QUFDOUIsTUFBTUMseUJBQXlCO0FBQy9CLE1BQU1DLDZCQUE2QjtBQUNuQyxNQUFNQyxhQUFhLEdBQUcsc0JBQXNCO0FBRTVDLE1BQU1DLFNBQVM7SUFDWCxPQUFPLElBQUlDLFFBQVEsQ0FBQ0MsU0FBU0M7UUFDekIsTUFBTUMsVUFBVUMsVUFBVUMsSUFBSSxDQUFDWCxTQUFTSTtRQUV4Q0ssUUFBUUcsZUFBZSxHQUFHLENBQUNDO1lBQ3ZCLE1BQU1DLEtBQUtMLFFBQVFNLE1BQU07WUFDekIsSUFBSSxDQUFDRCxHQUFHRSxnQkFBZ0IsQ0FBQ0MsUUFBUSxDQUFDaEIsd0JBQXdCO2dCQUN0RGEsR0FBR0ksaUJBQWlCLENBQUNqQjtZQUN6QjtZQUNBLElBQUlhLEdBQUdFLGdCQUFnQixDQUFDQyxRQUFRLENBQUMsZUFBZTtnQkFDNUNILEdBQUdLLGlCQUFpQixDQUFDO1lBQ3pCO1lBQ0EsSUFBSSxDQUFDTCxHQUFHRSxnQkFBZ0IsQ0FBQ0MsUUFBUSxDQUFDZix5QkFBeUI7Z0JBQ3ZEWSxHQUFHSSxpQkFBaUIsQ0FBQ2hCLHdCQUF3QjtvQkFBRWtCLFNBQVM7Z0JBQUs7WUFDakU7WUFDQSxJQUFJLENBQUNOLEdBQUdFLGdCQUFnQixDQUFDQyxRQUFRLENBQUNkLDZCQUE2QjtnQkFDM0RXLEdBQUdJLGlCQUFpQixDQUFDZiw0QkFBNEI7b0JBQUVpQixTQUFTO2dCQUFLO1lBQ3JFO1FBQ0o7UUFFQVgsUUFBUVksU0FBUyxHQUFHO1lBQ2hCZCxRQUFRRSxRQUFRTSxNQUFNO1FBQzFCO1FBRUFOLFFBQVFhLE9BQU8sR0FBRztZQUNkQyxRQUFRQyxLQUFLLENBQUMsb0JBQW9CZixRQUFRZSxLQUFLO1lBQy9DaEIsT0FBT0MsUUFBUWUsS0FBSztRQUN4QjtJQUNKO0FBQ0o7QUFFTyxN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QUFLO2dCQUMvRGhCLE9BQU9DLFFBQVFlLEtBQUs7WUFDeEI7UUFDSjtJQUNKLEVBQUUsT0FBT0EsT0FBTztRQUNaRCxRQUFRQyxLQUFLLENBQUMsbURBQW1EQTtRQUNqRSxPQUFPLEVBQUU7SUFDYjtBQUNKLEVBQUU7QUFFSyxNQUFNK0IsdUJBQXVCLE9BQU9MO0lBQ3ZDLElBQUk7UUFDQSxNQUFNcEMsS0FBSyxNQUFNVDtRQUNqQixNQUFNdUIsY0FBY2QsR0FBR2MsV0FBVyxDQUFDekIsNEJBQTRCO1FBQy9ELE1BQU0wQixRQUFRRCxZQUFZRSxXQUFXLENBQUMzQjtRQUN0QzBCLE1BQU1VLE1BQU0sQ0FBQ1c7UUFFYixPQUFPLElBQUk1QyxRQUFjLENBQUNDLFNBQVNDO1lBQy9Cb0IsWUFBWUksVUFBVSxHQUFHLElBQU16QjtZQUMvQnFCLFlBQVlOLE9BQU8sR0FBRyxJQUFNZCxPQUFPb0IsWUFBWUosS0FBSztRQUN4RDtJQUNKLEVBQUUsT0FBT0EsT0FBTztRQUNaRCxRQUFRQyxLQUFLLENBQUMscUNBQXFDQTtJQUN2RDtBQUNKLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc2VydmljZXMvZGJTZXJ2aWNlLnRzP2Y4NDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBGdWxsR2FtZVN0YXRlLCBBZ2VDb25maWcsIEJ1aWxkaW5nQ29uZmlnIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5jb25zdCBEQl9OQU1FID0gJ0dlbWluaUVtcGlyZXNEQic7XG5jb25zdCBHQU1FX1NUQVRFX1NUT1JFX05BTUUgPSAnZ2FtZVN0YXRlJztcbmNvbnN0IEFHRVNfQ09ORklHX1NUT1JFX05BTUUgPSAnYWdlQ29uZmlndXJhdGlvbnMnO1xuY29uc3QgQlVJTERJTkdfQ09ORklHX1NUT1JFX05BTUUgPSAnYnVpbGRpbmdDb25maWd1cmF0aW9ucyc7XG5jb25zdCBEQl9WRVJTSU9OID0gNDsgLy8gSW5jcmVtZW50ZWQgdmVyc2lvblxuXG5jb25zdCBvcGVuREIgPSAoKTogUHJvbWlzZTxJREJEYXRhYmFzZT4gPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleGVkREIub3BlbihEQl9OQU1FLCBEQl9WRVJTSU9OKTtcblxuICAgICAgICByZXF1ZXN0Lm9udXBncmFkZW5lZWRlZCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGIgPSByZXF1ZXN0LnJlc3VsdDtcbiAgICAgICAgICAgIGlmICghZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhHQU1FX1NUQVRFX1NUT1JFX05BTUUpKSB7XG4gICAgICAgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoR0FNRV9TVEFURV9TVE9SRV9OQU1FKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKCdjdXN0b21BZ2VzJykpIHtcbiAgICAgICAgICAgICAgICBkYi5kZWxldGVPYmplY3RTdG9yZSgnY3VzdG9tQWdlcycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKEFHRVNfQ09ORklHX1NUT1JFX05BTUUpKSB7XG4gICAgICAgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoQUdFU19DT05GSUdfU1RPUkVfTkFNRSwgeyBrZXlQYXRoOiAnaWQnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKEJVSUxESU5HX0NPTkZJR19TVE9SRV9OQU1FKSkge1xuICAgICAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKEJVSUxESU5HX0NPTkZJR19TVE9SRV9OQU1FLCB7IGtleVBhdGg6ICdpZCcgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKHJlcXVlc3QucmVzdWx0KTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiSW5kZXhlZERCIGVycm9yOlwiLCByZXF1ZXN0LmVycm9yKTtcbiAgICAgICAgICAgIHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICAgICAgfTtcbiAgICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBzYXZlR2FtZVN0YXRlID0gYXN5bmMgKHNhdmVOYW1lOiBzdHJpbmcsIHN0YXRlOiBGdWxsR2FtZVN0YXRlKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGIgPSBhd2FpdCBvcGVuREIoKTtcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihHQU1FX1NUQVRFX1NUT1JFX05BTUUsICdyZWFkd3JpdGUnKTtcbiAgICAgICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShHQU1FX1NUQVRFX1NUT1JFX05BTUUpO1xuICAgICAgICBzdG9yZS5wdXQoc3RhdGUsIHNhdmVOYW1lKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gKCkgPT4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgdHJhbnNhY3Rpb24ub25lcnJvciA9ICgpID0+IHJlamVjdCh0cmFuc2FjdGlvbi5lcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gc2F2ZSBnYW1lIHN0YXRlOlwiLCBlcnJvcik7XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGxvYWRHYW1lU3RhdGUgPSBhc3luYyAoc2F2ZU5hbWU6IHN0cmluZyk6IFByb21pc2U8RnVsbEdhbWVTdGF0ZSB8IHVuZGVmaW5lZD4gPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRiID0gYXdhaXQgb3BlbkRCKCk7XG4gICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gZGIudHJhbnNhY3Rpb24oR0FNRV9TVEFURV9TVE9SRV9OQU1FLCAncmVhZG9ubHknKTtcbiAgICAgICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShHQU1FX1NUQVRFX1NUT1JFX05BTUUpO1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUuZ2V0KHNhdmVOYW1lKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlcXVlc3QucmVzdWx0IGFzIEZ1bGxHYW1lU3RhdGUgfCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGxvYWQgZ2FtZSBzdGF0ZTpcIiwgcmVxdWVzdC5lcnJvcik7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHJlcXVlc3QuZXJyb3IpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBvcGVuIERCIGZvciBsb2FkaW5nOlwiLCBlcnJvcik7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdldEFsbFNhdmVOYW1lcyA9IGFzeW5jICgpOiBQcm9taXNlPHN0cmluZ1tdPiA9PiB7XG4gICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRiID0gYXdhaXQgb3BlbkRCKCk7XG4gICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gZGIudHJhbnNhY3Rpb24oR0FNRV9TVEFURV9TVE9SRV9OQU1FLCAncmVhZG9ubHknKTtcbiAgICAgICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShHQU1FX1NUQVRFX1NUT1JFX05BTUUpO1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUuZ2V0QWxsS2V5cygpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUocmVxdWVzdC5yZXN1bHQgYXMgc3RyaW5nW10pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGdldCBhbGwgc2F2ZSBuYW1lczpcIiwgcmVxdWVzdC5lcnJvcik7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHJlcXVlc3QuZXJyb3IpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBvcGVuIERCIGZvciBnZXR0aW5nIHNhdmUgbmFtZXM6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGRlbGV0ZUdhbWVTdGF0ZSA9IGFzeW5jIChzYXZlTmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGIgPSBhd2FpdCBvcGVuREIoKTtcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihHQU1FX1NUQVRFX1NUT1JFX05BTUUsICdyZWFkd3JpdGUnKTtcbiAgICAgICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShHQU1FX1NUQVRFX1NUT1JFX05BTUUpO1xuICAgICAgICBzdG9yZS5kZWxldGUoc2F2ZU5hbWUpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSAoKSA9PiByZXNvbHZlKCk7XG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5vbmVycm9yID0gKCkgPT4gcmVqZWN0KHRyYW5zYWN0aW9uLmVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBkZWxldGUgZ2FtZSBzdGF0ZTpcIiwgZXJyb3IpO1xuICAgIH1cbn07XG5cbi8vIC0tLSBBZ2UgQ29uZmlndXJhdGlvbiBGdW5jdGlvbnMgLS0tXG5cbmV4cG9ydCBjb25zdCBzYXZlQWdlQ29uZmlnID0gYXN5bmMgKGFnZTogQWdlQ29uZmlnKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGIgPSBhd2FpdCBvcGVuREIoKTtcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihBR0VTX0NPTkZJR19TVE9SRV9OQU1FLCAncmVhZHdyaXRlJyk7XG4gICAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoQUdFU19DT05GSUdfU1RPUkVfTkFNRSk7XG4gICAgICAgIHN0b3JlLnB1dChhZ2UpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSAoKSA9PiByZXNvbHZlKCk7XG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5vbmVycm9yID0gKCkgPT4gcmVqZWN0KHRyYW5zYWN0aW9uLmVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBzYXZlIGFnZSBjb25maWc6XCIsIGVycm9yKTtcbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0QWxsQWdlQ29uZmlncyA9IGFzeW5jICgpOiBQcm9taXNlPEFnZUNvbmZpZ1tdPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGIgPSBhd2FpdCBvcGVuREIoKTtcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihBR0VTX0NPTkZJR19TVE9SRV9OQU1FLCAncmVhZG9ubHknKTtcbiAgICAgICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShBR0VTX0NPTkZJR19TVE9SRV9OQU1FKTtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlLmdldEFsbCgpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFnZXMgPSByZXF1ZXN0LnJlc3VsdCBhcyBBZ2VDb25maWdbXTtcbiAgICAgICAgICAgICAgICBhZ2VzLnNvcnQoKGEsIGIpID0+IGEub3JkZXIgLSBiLm9yZGVyKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGFnZXMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGxvYWQgYWdlIGNvbmZpZ3M6XCIsIHJlcXVlc3QuZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gb3BlbiBEQiBmb3IgbG9hZGluZyBhZ2UgY29uZmlnczpcIiwgZXJyb3IpO1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGRlbGV0ZUFnZUNvbmZpZyA9IGFzeW5jIChpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGIgPSBhd2FpdCBvcGVuREIoKTtcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihBR0VTX0NPTkZJR19TVE9SRV9OQU1FLCAncmVhZHdyaXRlJyk7XG4gICAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoQUdFU19DT05GSUdfU1RPUkVfTkFNRSk7XG4gICAgICAgIHN0b3JlLmRlbGV0ZShpZCk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9ICgpID0+IHJlc29sdmUoKTtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLm9uZXJyb3IgPSAoKSA9PiByZWplY3QodHJhbnNhY3Rpb24uZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGRlbGV0ZSBhZ2UgY29uZmlnOlwiLCBlcnJvcik7XG4gICAgfVxufTtcblxuXG4vLyAtLS0gQnVpbGRpbmcgQ29uZmlndXJhdGlvbiBGdW5jdGlvbnMgLS0tXG5cbmV4cG9ydCBjb25zdCBzYXZlQnVpbGRpbmdDb25maWcgPSBhc3luYyAoYnVpbGRpbmc6IEJ1aWxkaW5nQ29uZmlnKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGIgPSBhd2FpdCBvcGVuREIoKTtcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihCVUlMRElOR19DT05GSUdfU1RPUkVfTkFNRSwgJ3JlYWR3cml0ZScpO1xuICAgICAgICBjb25zdCBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKEJVSUxESU5HX0NPTkZJR19TVE9SRV9OQU1FKTtcbiAgICAgICAgc3RvcmUucHV0KGJ1aWxkaW5nKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gKCkgPT4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgdHJhbnNhY3Rpb24ub25lcnJvciA9ICgpID0+IHJlamVjdCh0cmFuc2FjdGlvbi5lcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gc2F2ZSBidWlsZGluZyBjb25maWc6XCIsIGVycm9yKTtcbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0QWxsQnVpbGRpbmdDb25maWdzID0gYXN5bmMgKCk6IFByb21pc2U8QnVpbGRpbmdDb25maWdbXT4gPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRiID0gYXdhaXQgb3BlbkRCKCk7XG4gICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gZGIudHJhbnNhY3Rpb24oQlVJTERJTkdfQ09ORklHX1NUT1JFX05BTUUsICdyZWFkb25seScpO1xuICAgICAgICBjb25zdCBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKEJVSUxESU5HX0NPTkZJR19TVE9SRV9OQU1FKTtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlLmdldEFsbCgpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1aWxkaW5ncyA9IHJlcXVlc3QucmVzdWx0IGFzIEJ1aWxkaW5nQ29uZmlnW107XG4gICAgICAgICAgICAgICAgYnVpbGRpbmdzLnNvcnQoKGEsIGIpID0+IGEub3JkZXIgLSBiLm9yZGVyKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGJ1aWxkaW5ncyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gbG9hZCBidWlsZGluZyBjb25maWdzOlwiLCByZXF1ZXN0LmVycm9yKTtcbiAgICAgICAgICAgICAgICByZWplY3QocmVxdWVzdC5lcnJvcik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIG9wZW4gREIgZm9yIGxvYWRpbmcgYnVpbGRpbmcgY29uZmlnczpcIiwgZXJyb3IpO1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGRlbGV0ZUJ1aWxkaW5nQ29uZmlnID0gYXN5bmMgKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBkYiA9IGF3YWl0IG9wZW5EQigpO1xuICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKEJVSUxESU5HX0NPTkZJR19TVE9SRV9OQU1FLCAncmVhZHdyaXRlJyk7XG4gICAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoQlVJTERJTkdfQ09ORklHX1NUT1JFX05BTUUpO1xuICAgICAgICBzdG9yZS5kZWxldGUoaWQpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSAoKSA9PiByZXNvbHZlKCk7XG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5vbmVycm9yID0gKCkgPT4gcmVqZWN0KHRyYW5zYWN0aW9uLmVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBkZWxldGUgYnVpbGRpbmcgY29uZmlnOlwiLCBlcnJvcik7XG4gICAgfVxufTtcbiJdLCJuYW1lcyI6WyJEQl9OQU1FIiwiR0FNRV9TVEFURV9TVE9SRV9OQU1FIiwiQUdFU19DT05GSUdfU1RPUkVfTkFNRSIsIkJVSUxESU5HX0NPTkZJR19TVE9SRV9OQU1FIiwiREJfVkVSU0lPTiIsIm9wZW5EQiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVxdWVzdCIsImluZGV4ZWREQiIsIm9wZW4iLCJvbnVwZ3JhZGVuZWVkZWQiLCJldmVudCIsImRiIiwicmVzdWx0Iiwib2JqZWN0U3RvcmVOYW1lcyIsImNvbnRhaW5zIiwiY3JlYXRlT2JqZWN0U3RvcmUiLCJkZWxldGVPYmplY3RTdG9yZSIsImtleVBhdGgiLCJvbnN1Y2Nlc3MiLCJvbmVycm9yIiwiY29uc29sZSIsImVycm9yIiwic2F2ZUdhbWVTdGF0ZSIsInNhdmVOYW1lIiwic3RhdGUiLCJ0cmFuc2FjdGlvbiIsInN0b3JlIiwib2JqZWN0U3RvcmUiLCJwdXQiLCJvbmNvbXBsZXRlIiwibG9hZEdhbWVTdGF0ZSIsImdldCIsInVuZGVmaW5lZCIsImdldEFsbFNhdmVOYW1lcyIsImdldEFsbEtleXMiLCJkZWxldGVHYW1lU3RhdGUiLCJkZWxldGUiLCJzYXZlQWdlQ29uZmlnIiwiYWdlIiwiZ2V0QWxsQWdlQ29uZmlncyIsImdldEFsbCIsImFnZXMiLCJzb3J0IiwiYSIsImIiLCJvcmRlciIsImRlbGV0ZUFnZUNvbmZpZyIsImlkIiwic2F2ZUJ1aWxkaW5nQ29uZmlnIiwiYnVpbGRpbmciLCJnZXRBbGxCdWlsZGluZ0NvbmZpZ3MiLCJidWlsZGluZ3MiLCJkZWxldGVCdWlsZGluZ0NvbmZpZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./services/dbService.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/types */ \"(app-pages-browser)/./types.ts\");\n/* harmony import */ var _services_geminiService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/services/geminiService */ \"(app-pages-browser)/./services/geminiService.ts\");\n/* harmony import */ var _services_dbService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/services/dbService */ \"(app-pages-browser)/./services/dbService.ts\");\n/* harmony import */ var _services_nameService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/services/nameService */ \"(app-pages-browser)/./services/nameService.ts\");\n/* harmony import */ var _data_itemContent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/data/itemContent */ \"(app-pages-browser)/./data/itemContent.ts\");\n/* harmony import */ var _components_GameUI__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/GameUI */ \"(app-pages-browser)/./components/GameUI.tsx\");\n/* harmony import */ var _components_StartScreen__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/StartScreen */ \"(app-pages-browser)/./components/StartScreen.tsx\");\n/* harmony import */ var _components_LoadingScreen__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/LoadingScreen */ \"(app-pages-browser)/./components/LoadingScreen.tsx\");\n/* harmony import */ var _components_BuildPanel__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/BuildPanel */ \"(app-pages-browser)/./components/BuildPanel.tsx\");\n/* harmony import */ var _components_NotificationManager__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/NotificationManager */ \"(app-pages-browser)/./components/NotificationManager.tsx\");\n/* harmony import */ var _components_UnitManagementPanel__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/components/UnitManagementPanel */ \"(app-pages-browser)/./components/UnitManagementPanel.tsx\");\n/* harmony import */ var _components_BuildingManagementPanel__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/components/BuildingManagementPanel */ \"(app-pages-browser)/./components/BuildingManagementPanel.tsx\");\n/* harmony import */ var _components_ResourceAssignmentPanel__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/components/ResourceAssignmentPanel */ \"(app-pages-browser)/./components/ResourceAssignmentPanel.tsx\");\n/* harmony import */ var _components_CivilizationPanel__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/components/CivilizationPanel */ \"(app-pages-browser)/./components/CivilizationPanel.tsx\");\n/* harmony import */ var _components_AllBuildingsPanel__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/components/AllBuildingsPanel */ \"(app-pages-browser)/./components/AllBuildingsPanel.tsx\");\n/* harmony import */ var _components_InventoryPanel__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @/components/InventoryPanel */ \"(app-pages-browser)/./components/InventoryPanel.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst UNIT_INFO = [\n    {\n        id: \"swordsman\",\n        name: \"Swordsman\",\n        description: \"Basic melee infantry.\",\n        cost: {\n            food: 60,\n            gold: 20\n        },\n        requiredBuilding: \"barracks\",\n        trainTime: 22\n    },\n    {\n        id: \"archer\",\n        name: \"Archer\",\n        description: \"Ranged unit effective against infantry.\",\n        cost: {\n            food: 30,\n            wood: 40\n        },\n        requiredBuilding: \"archeryRange\",\n        trainTime: 25\n    },\n    {\n        id: \"knight\",\n        name: \"Knight\",\n        description: \"Fast and powerful cavalry.\",\n        cost: {\n            food: 60,\n            gold: 75\n        },\n        requiredBuilding: \"stable\",\n        trainTime: 30\n    },\n    {\n        id: \"catapult\",\n        name: \"Catapult\",\n        description: \"Siege engine devastating to buildings.\",\n        cost: {\n            wood: 150,\n            gold: 150\n        },\n        requiredBuilding: \"siegeWorkshop\",\n        trainTime: 45\n    }\n];\nconst GATHER_INFO = {\n    food: {\n        rate: 10\n    },\n    wood: {\n        rate: 8\n    },\n    gold: {\n        rate: 5\n    },\n    stone: {\n        rate: 6\n    }\n};\nconst initialBuildingsState = {\n    houses: [],\n    barracks: [],\n    archeryRange: [],\n    stable: [],\n    siegeWorkshop: [],\n    blacksmith: [],\n    watchTower: [],\n    townCenter: []\n};\nconst MAP_DIMENSIONS = {\n    width: 25,\n    height: 18\n};\nconst FALLBACK_AGES = [\n    {\n        name: \"Nomadic Age\",\n        description: \"A scattered tribe, learning to survive.\"\n    },\n    {\n        name: \"Feudal Age\",\n        description: \"Society organizes under lords and vassals.\"\n    },\n    {\n        name: \"Castle Age\",\n        description: \"Powerful fortifications and siege weaponry appear.\"\n    },\n    {\n        name: \"Imperial Age\",\n        description: \"Your civilization becomes a true empire.\"\n    }\n];\nconst GamePage = ()=>{\n    var _buildings_townCenter, _buildings_houses;\n    _s();\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU);\n    const [civilization, setCivilization] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [resources, setResources] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        food: 200,\n        wood: 150,\n        gold: 50,\n        stone: 100\n    });\n    const [units, setUnits] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        villagers: [],\n        military: []\n    });\n    const [buildings, setBuildings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialBuildingsState);\n    const [currentAge, setCurrentAge] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Nomadic Age\");\n    const [gameLog, setGameLog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentEvent, setCurrentEvent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [resourceDeltas, setResourceDeltas] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [activityStatus, setActivityStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Your story begins...\");\n    const [notifications, setNotifications] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [unlimitedResources, setUnlimitedResources] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [allSaves, setAllSaves] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentSaveName, setCurrentSaveName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [playerAction, setPlayerAction] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [activeTasks, setActiveTasks] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [resourceNodes, setResourceNodes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [inventory, setInventory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [activeBuffs, setActiveBuffs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        resourceBoost: []\n    });\n    // Dynamic Configs from DB\n    const [ageProgressionList, setAgeProgressionList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [buildingList, setBuildingList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // Panel States\n    const [buildPanelState, setBuildPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        villagerId: null,\n        anchorRect: null\n    });\n    const [unitManagementPanel, setUnitManagementPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        type: null,\n        anchorRect: null\n    });\n    const [buildingManagementPanel, setBuildingManagementPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        type: null,\n        anchorRect: null\n    });\n    const [allBuildingsPanel, setAllBuildingsPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const [assignmentPanelState, setAssignmentPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        targetId: null,\n        targetType: null,\n        anchorRect: null\n    });\n    const [civPanelState, setCivPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const [inventoryPanelState, setInventoryPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const deltaTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    const eventTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const lastTickRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(Date.now());\n    const animationFrameRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const population = {\n        current: units.villagers.length + units.military.length,\n        capacity: (((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter.length) > 0 ? 20 : 0) + (((_buildings_houses = buildings.houses) === null || _buildings_houses === void 0 ? void 0 : _buildings_houses.length) || 0) * 5\n    };\n    const fetchSavesAndConfigs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        const names = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllSaveNames)();\n        setAllSaves(names);\n        const allAgeConfigs = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllAgeConfigs)();\n        const activeAges = allAgeConfigs.filter((age)=>age.isActive);\n        if (activeAges.length > 0) {\n            setAgeProgressionList(activeAges.map((a)=>({\n                    name: a.name,\n                    description: a.description\n                })));\n        } else {\n            setAgeProgressionList(FALLBACK_AGES);\n        }\n        const allBuildingConfigs = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllBuildingConfigs)();\n        setBuildingList(allBuildingConfigs.filter((b)=>b.isActive));\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        fetchSavesAndConfigs();\n    }, [\n        fetchSavesAndConfigs\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && civilization && currentSaveName) {\n            const fullState = {\n                civilization,\n                resources,\n                units,\n                buildings,\n                currentAge,\n                gameLog,\n                activeTasks,\n                resourceNodes,\n                inventory,\n                activeBuffs\n            };\n            (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.saveGameState)(currentSaveName, fullState);\n        }\n    }, [\n        civilization,\n        resources,\n        units,\n        buildings,\n        currentAge,\n        gameLog,\n        gameState,\n        currentSaveName,\n        activeTasks,\n        resourceNodes,\n        inventory,\n        activeBuffs\n    ]);\n    const addNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message)=>{\n        const id = \"\".concat(Date.now(), \"-\").concat(Math.random());\n        setNotifications((prev)=>[\n                {\n                    id,\n                    message\n                }\n            ]);\n    }, []);\n    const removeNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id)=>{\n        setNotifications((prev)=>prev.filter((n)=>n.id !== id));\n    }, []);\n    const addToLog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message, icon)=>{\n        setGameLog((prev)=>[\n                {\n                    id: \"\".concat(Date.now(), \"-\").concat(Math.random()),\n                    message,\n                    icon\n                },\n                ...prev.slice(0, 19)\n            ]);\n    }, []);\n    const updateResources = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((deltas)=>{\n        setResources((prev)=>{\n            const newResources = {\n                ...prev\n            };\n            for(const key in deltas){\n                const resourceKey = key;\n                var _deltas_resourceKey;\n                newResources[resourceKey] = Math.max(0, newResources[resourceKey] + ((_deltas_resourceKey = deltas[resourceKey]) !== null && _deltas_resourceKey !== void 0 ? _deltas_resourceKey : 0));\n            }\n            return newResources;\n        });\n        setResourceDeltas((prev)=>({\n                ...prev,\n                ...deltas\n            }));\n        for(const key in deltas){\n            const resourceKey = key;\n            if (deltaTimeoutRef.current[resourceKey]) {\n                window.clearTimeout(deltaTimeoutRef.current[resourceKey]);\n            }\n            deltaTimeoutRef.current[resourceKey] = window.setTimeout(()=>{\n                setResourceDeltas((prev)=>{\n                    const newDeltas = {\n                        ...prev\n                    };\n                    delete newDeltas[resourceKey];\n                    return newDeltas;\n                });\n            }, 1500);\n        }\n    }, []);\n    const handleTaskCompletion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((task)=>{\n        var _task_payload;\n        if (((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.villagerIds) && task.payload.villagerIds.length > 0) {\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>task.payload.villagerIds.includes(v.id) ? {\n                            ...v,\n                            currentTask: null\n                        } : v)\n                }));\n        }\n        switch(task.type){\n            case \"build\":\n                {\n                    const { buildingType, villagerIds, position } = task.payload;\n                    const buildingInfo = buildingList.find((b)=>b.id === buildingType);\n                    const [name] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n                    const newBuilding = {\n                        id: task.id,\n                        name,\n                        position: position,\n                        currentHp: buildingInfo.hp\n                    };\n                    setBuildings((p)=>{\n                        const currentBuildings = p[buildingType] || [];\n                        return {\n                            ...p,\n                            [buildingType]: [\n                                ...currentBuildings,\n                                newBuilding\n                            ]\n                        };\n                    });\n                    if (villagerIds && villagerIds.length > 0) {\n                        addToLog(\"\".concat(villagerIds.length, \" builder(s) have constructed \").concat(name, \", a new \").concat(buildingInfo.name, \".\"), buildingInfo.iconId);\n                        setActivityStatus(\"Construction of \".concat(name, \" is complete.\"));\n                    }\n                    break;\n                }\n            case \"gather\":\n                break;\n            case \"train_villager\":\n                {\n                    const { count } = task.payload;\n                    const newVillagerNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", count);\n                    const newVillagers = newVillagerNames.map((name)=>({\n                            id: \"\".concat(Date.now(), \"-\").concat(name),\n                            name,\n                            currentTask: null\n                        }));\n                    setUnits((p)=>({\n                            ...p,\n                            villagers: [\n                                ...p.villagers,\n                                ...newVillagers\n                            ]\n                        }));\n                    addToLog(\"\".concat(count, \" new villager(s) have joined your settlement.\"), \"villager\");\n                    setActivityStatus(\"\".concat(count, \" new villager(s) are ready to work.\"));\n                    break;\n                }\n            case \"train_military\":\n                {\n                    const { unitType, count } = task.payload;\n                    const unitInfo = UNIT_INFO.find((u)=>u.id === unitType);\n                    const newUnitNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"soldier\", count);\n                    const newUnits = newUnitNames.map((name)=>({\n                            id: \"\".concat(Date.now(), \"-\").concat(unitType, \"-\").concat(name),\n                            name,\n                            title: \"\",\n                            unitType: unitType\n                        }));\n                    setUnits((p)=>({\n                            ...p,\n                            military: [\n                                ...p.military,\n                                ...newUnits\n                            ]\n                        }));\n                    addToLog(\"\".concat(count, \" \").concat(unitInfo.name, \"(s) have been trained.\"), unitType);\n                    setActivityStatus(\"\".concat(count, \" new \").concat(unitInfo.name, \"(s) are ready for battle.\"));\n                    break;\n                }\n            case \"advance_age\":\n                {\n                    const currentIndex = ageProgressionList.findIndex((age)=>age.name === currentAge);\n                    const ageResult = ageProgressionList[currentIndex + 1] || {\n                        name: \"Age of Legends\",\n                        description: \"Your civilization transcends history and becomes a legend.\"\n                    };\n                    setCurrentAge(ageResult.name);\n                    addToLog(\"You have advanced to the \".concat(ageResult.name, \"!\"), \"age\");\n                    addToLog(ageResult.description, \"age\");\n                    setActivityStatus(\"Welcome to the \".concat(ageResult.name, \"!\"));\n                    break;\n                }\n        }\n    }, [\n        currentAge,\n        addToLog,\n        ageProgressionList,\n        buildingList\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState !== _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING) {\n            if (animationFrameRef.current) cancelAnimationFrame(animationFrameRef.current);\n            return;\n        }\n        const gameLoop = ()=>{\n            const now = Date.now();\n            const deltaTime = now - lastTickRef.current;\n            lastTickRef.current = now;\n            let completedTasks = [];\n            let resourceDeltasThisTick = {};\n            setActiveBuffs((prev)=>{\n                var _prev_resourceBoost, _prev_resourceBoost1;\n                const newResourceBoosts = (_prev_resourceBoost = prev.resourceBoost) === null || _prev_resourceBoost === void 0 ? void 0 : _prev_resourceBoost.filter((b)=>b.endTime > now);\n                if ((newResourceBoosts === null || newResourceBoosts === void 0 ? void 0 : newResourceBoosts.length) !== ((_prev_resourceBoost1 = prev.resourceBoost) === null || _prev_resourceBoost1 === void 0 ? void 0 : _prev_resourceBoost1.length)) {\n                    addToLog(\"A resource gathering bonus has expired.\", \"system\");\n                }\n                return {\n                    ...prev,\n                    resourceBoost: newResourceBoosts\n                };\n            });\n            const tasksInProgress = activeTasks.map((task)=>{\n                if (now >= task.startTime + task.duration) {\n                    completedTasks.push(task);\n                    return null;\n                }\n                if (task.type === \"gather\") {\n                    var _task_payload_villagerIds, _task_payload, _activeBuffs_resourceBoost_find, _activeBuffs_resourceBoost;\n                    const node = resourceNodes.find((n)=>{\n                        var _task_payload;\n                        return n.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.resourceNodeId);\n                    });\n                    const villagerCount = ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 0;\n                    if (!node || villagerCount === 0) {\n                        completedTasks.push(task);\n                        return null;\n                    }\n                    const baseRatePerSecond = GATHER_INFO[node.type].rate;\n                    let civBonusMultiplier = 1;\n                    if (civilization === null || civilization === void 0 ? void 0 : civilization.bonus.toLowerCase().includes(node.type.toLowerCase())) {\n                        const match = civilization.bonus.match(/(\\d+)%/);\n                        if (match === null || match === void 0 ? void 0 : match[1]) civBonusMultiplier = 1 + parseInt(match[1], 10) / 100;\n                    }\n                    const itemBoostMultiplier = ((_activeBuffs_resourceBoost = activeBuffs.resourceBoost) === null || _activeBuffs_resourceBoost === void 0 ? void 0 : (_activeBuffs_resourceBoost_find = _activeBuffs_resourceBoost.find((b)=>b.resource === node.type)) === null || _activeBuffs_resourceBoost_find === void 0 ? void 0 : _activeBuffs_resourceBoost_find.multiplier) || 1;\n                    const finalRatePerSecond = baseRatePerSecond * civBonusMultiplier * itemBoostMultiplier;\n                    resourceDeltasThisTick[node.type] = (resourceDeltasThisTick[node.type] || 0) + finalRatePerSecond / 1000 * deltaTime * villagerCount;\n                }\n                return task;\n            }).filter(Boolean);\n            if (Object.keys(resourceDeltasThisTick).length > 0) {\n                updateResources(resourceDeltasThisTick);\n                setResourceNodes((prevNodes)=>prevNodes.map((node)=>{\n                        const amountToDecrement = resourceDeltasThisTick[node.type];\n                        if (!amountToDecrement) return node;\n                        const newAmount = node.amount - amountToDecrement;\n                        if (newAmount <= 0) {\n                            const taskId = \"gather-\".concat(node.id);\n                            const task = tasksInProgress.find((t)=>t.id === taskId);\n                            if (task) {\n                                var _task_payload_villagerIds, _task_payload;\n                                addToLog(\"\".concat(((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 0, \" villager(s) depleted a \").concat(node.type, \" source, gaining \").concat(Math.floor(node.amount), \" \").concat(node.type, \".\"), node.type);\n                                setActivityStatus(\"A \".concat(node.type, \" source has been fully depleted.\"));\n                                completedTasks.push(task);\n                            }\n                            return null;\n                        }\n                        return {\n                            ...node,\n                            amount: newAmount\n                        };\n                    }).filter(Boolean));\n            }\n            const finalActiveTasks = tasksInProgress.filter((t)=>!completedTasks.some((ct)=>ct.id === t.id));\n            setActiveTasks(finalActiveTasks);\n            if (completedTasks.length > 0) completedTasks.forEach(handleTaskCompletion);\n            animationFrameRef.current = requestAnimationFrame(gameLoop);\n        };\n        animationFrameRef.current = requestAnimationFrame(gameLoop);\n        return ()=>{\n            if (animationFrameRef.current) cancelAnimationFrame(animationFrameRef.current);\n        };\n    }, [\n        gameState,\n        activeTasks,\n        resourceNodes,\n        handleTaskCompletion,\n        addToLog,\n        updateResources,\n        units.villagers,\n        civilization,\n        activeBuffs\n    ]);\n    const handleNewEvent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!civilization || currentEvent) return;\n        const event = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedGameEvent)();\n        setCurrentEvent(event);\n        setActivityStatus(\"A new event requires your attention!\");\n    }, [\n        civilization,\n        currentEvent\n    ]);\n    const scheduleNextEvent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (eventTimerRef.current) clearTimeout(eventTimerRef.current);\n        eventTimerRef.current = setTimeout(()=>handleNewEvent(), (10 + Math.random() * 15) * 1000);\n    }, [\n        handleNewEvent\n    ]);\n    const generateResourceNodes = (existingPositions)=>{\n        const nodes = [];\n        const types = [\n            \"food\",\n            \"wood\",\n            \"gold\",\n            \"stone\"\n        ];\n        const numNodes = 20 + Math.floor(Math.random() * 10);\n        for(let i = 0; i < numNodes; i++){\n            let pos;\n            do {\n                pos = {\n                    x: Math.floor(Math.random() * MAP_DIMENSIONS.width),\n                    y: Math.floor(Math.random() * MAP_DIMENSIONS.height)\n                };\n            }while (existingPositions.has(\"\".concat(pos.x, \",\").concat(pos.y)));\n            existingPositions.add(\"\".concat(pos.x, \",\").concat(pos.y));\n            const type = types[Math.floor(Math.random() * types.length)];\n            nodes.push({\n                id: \"\".concat(Date.now(), \"-node-\").concat(i),\n                type,\n                position: pos,\n                amount: Math.floor(Math.random() * 2001) + 500\n            });\n        }\n        return nodes;\n    };\n    const handleStartNewGame = async (saveName)=>{\n        var _ageProgressionList_;\n        if (allSaves.includes(saveName)) {\n            addNotification('A saga named \"'.concat(saveName, '\" already exists.'));\n            return;\n        }\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n        setCurrentSaveName(saveName);\n        await fetchSavesAndConfigs();\n        const civ = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedCivilization)();\n        setCivilization(civ);\n        setResources({\n            food: 200,\n            wood: 150,\n            gold: 50,\n            stone: 100\n        });\n        const initialVillagers = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", 3).map((name)=>({\n                id: \"\".concat(Date.now(), \"-\").concat(name),\n                name,\n                currentTask: null\n            }));\n        setUnits({\n            villagers: initialVillagers,\n            military: []\n        });\n        const tcPosition = {\n            x: Math.floor(MAP_DIMENSIONS.width / 2),\n            y: Math.floor(MAP_DIMENSIONS.height / 2)\n        };\n        const tcInfo = buildingList.find((b)=>b.id === \"townCenter\");\n        const initialTC = {\n            id: \"\".concat(Date.now(), \"-tc\"),\n            name: (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1)[0],\n            position: tcPosition,\n            currentHp: tcInfo.hp\n        };\n        setBuildings({\n            ...initialBuildingsState,\n            townCenter: [\n                initialTC\n            ]\n        });\n        setResourceNodes(generateResourceNodes(new Set([\n            \"\".concat(tcPosition.x, \",\").concat(tcPosition.y)\n        ])));\n        setCurrentAge(((_ageProgressionList_ = ageProgressionList[0]) === null || _ageProgressionList_ === void 0 ? void 0 : _ageProgressionList_.name) || FALLBACK_AGES[0].name);\n        setGameLog([]);\n        setCurrentEvent(null);\n        setUnlimitedResources(false);\n        setActiveTasks([]);\n        setInventory([]);\n        setActiveBuffs({\n            resourceBoost: []\n        });\n        addToLog(\"\".concat(civ.name, \" has been founded!\"), \"system\");\n        addToLog(\"Your story begins...\", \"system\");\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING);\n        setActivityStatus(\"Your settlement awaits your command.\");\n        fetchSavesAndConfigs();\n    };\n    const isVillagerBusy = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((villagerId)=>{\n        var _units_villagers_find;\n        return !!((_units_villagers_find = units.villagers.find((v)=>v.id === villagerId)) === null || _units_villagers_find === void 0 ? void 0 : _units_villagers_find.currentTask);\n    }, [\n        units.villagers\n    ]);\n    const getVillagerTaskDetails = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((villagerId)=>{\n        var _buildingList_find, _resourceNodes_find;\n        const villager = units.villagers.find((v)=>v.id === villagerId);\n        if (!(villager === null || villager === void 0 ? void 0 : villager.currentTask)) return \"Idle\";\n        const task = activeTasks.find((t)=>t.id === villager.currentTask);\n        if (!task) return \"Idle (Finalizing Task)\";\n        if (task.type === \"build\") return \"Busy: Constructing \".concat(((_buildingList_find = buildingList.find((b)=>b.id === task.payload.buildingType)) === null || _buildingList_find === void 0 ? void 0 : _buildingList_find.name) || \"a building\");\n        if (task.type === \"gather\") return \"Busy: Gathering \".concat(((_resourceNodes_find = resourceNodes.find((n)=>n.id === task.payload.resourceNodeId)) === null || _resourceNodes_find === void 0 ? void 0 : _resourceNodes_find.type) || \"resources\");\n        return \"Idle\";\n    }, [\n        activeTasks,\n        resourceNodes,\n        units.villagers,\n        buildingList\n    ]);\n    const handleResumeGame = async (saveName)=>{\n        await fetchSavesAndConfigs();\n        const savedState = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.loadGameState)(saveName);\n        if (savedState) {\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n            setCurrentSaveName(saveName);\n            setCivilization(savedState.civilization);\n            setResources(savedState.resources);\n            const migratedVillagers = (savedState.units.villagers || []).map((v)=>({\n                    ...v,\n                    currentTask: v.currentTask !== undefined ? v.currentTask : null\n                }));\n            const migratedTasks = (savedState.activeTasks || []).map((t)=>{\n                var _t_payload;\n                return t.type === \"build\" && !((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.villagerIds) ? {\n                    ...t,\n                    payload: {\n                        ...t.payload,\n                        villagerIds: []\n                    }\n                } : t;\n            });\n            migratedTasks.forEach((task)=>{\n                var _task_payload_villagerIds, _task_payload;\n                return (_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.forEach((vid)=>{\n                    const v = migratedVillagers.find((v)=>v.id === vid);\n                    if (v) v.currentTask = task.id;\n                });\n            });\n            setUnits({\n                ...savedState.units,\n                villagers: migratedVillagers\n            });\n            const constructionTasks = migratedTasks.filter((t)=>t.type === \"build\");\n            const occupiedCells = new Set([\n                ...Object.values(savedState.buildings || {}).flat().map((b)=>\"\".concat(b.position.x, \",\").concat(b.position.y)),\n                ...constructionTasks.map((t)=>\"\".concat(t.payload.position.x, \",\").concat(t.payload.position.y))\n            ]);\n            let finalBuildings = {\n                ...initialBuildingsState,\n                ...savedState.buildings || {}\n            };\n            Object.keys(finalBuildings).forEach((bType)=>{\n                const info = buildingList.find((b)=>b.id === bType);\n                if (info) finalBuildings[bType] = finalBuildings[bType].map((b)=>({\n                        ...b,\n                        currentHp: b.currentHp === undefined ? info.hp : b.currentHp\n                    }));\n            });\n            if (!finalBuildings.townCenter || finalBuildings.townCenter.length === 0) {\n                let tcPos = {\n                    x: 10,\n                    y: 5\n                };\n                while(occupiedCells.has(\"\".concat(tcPos.x, \",\").concat(tcPos.y))){\n                    tcPos.x++;\n                }\n                const tcInfo = buildingList.find((b)=>b.id === \"townCenter\");\n                finalBuildings.townCenter = [\n                    {\n                        id: \"\".concat(Date.now(), \"-tc\"),\n                        name: (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1)[0],\n                        position: tcPos,\n                        currentHp: tcInfo.hp\n                    }\n                ];\n                occupiedCells.add(\"\".concat(tcPos.x, \",\").concat(tcPos.y));\n            }\n            setBuildings(finalBuildings);\n            setResourceNodes((savedState.resourceNodes || []).length === 0 ? generateResourceNodes(occupiedCells) : savedState.resourceNodes || []);\n            setCurrentAge(savedState.currentAge);\n            setGameLog(savedState.gameLog);\n            setActiveTasks(migratedTasks);\n            setInventory(savedState.inventory || []);\n            setActiveBuffs(savedState.activeBuffs || {\n                resourceBoost: []\n            });\n            setCurrentEvent(null);\n            setActivityStatus(\"Welcome back to your saga.\");\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING);\n        } else {\n            addNotification('Could not find a saved game named \"'.concat(saveName, '\".'));\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState !== _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING) return;\n        if (!currentEvent) scheduleNextEvent();\n        else if (eventTimerRef.current) clearTimeout(eventTimerRef.current);\n        return ()=>{\n            if (eventTimerRef.current) clearTimeout(eventTimerRef.current);\n        };\n    }, [\n        gameState,\n        currentEvent,\n        scheduleNextEvent\n    ]);\n    const handleEventChoice = (choice)=>{\n        if (choice.cost) {\n            const missing = Object.keys(choice.cost).filter((res)=>resources[res] < (choice.cost[res] || 0));\n            if (missing.length > 0) {\n                addNotification(\"You lack the required resources: \".concat(missing.join(\", \"), \".\"));\n                return;\n            }\n            updateResources(Object.entries(choice.cost).reduce((acc, param)=>{\n                let [k, v] = param;\n                return {\n                    ...acc,\n                    [k]: -v\n                };\n            }, {}));\n        }\n        const isSuccess = choice.successChance === undefined || Math.random() < choice.successChance;\n        const effects = isSuccess ? choice.successEffects : choice.failureEffects;\n        if (!effects) {\n            setCurrentEvent(null);\n            scheduleNextEvent();\n            return;\n        }\n        let logMessage = 'Decision: \"'.concat(choice.text, '\". Outcome: ').concat(isSuccess ? \"Success\" : \"Failure\", \". \").concat(effects.log);\n        effects.rewards.forEach((reward)=>{\n            if (reward.type === \"resource\") {\n                const amount = Array.isArray(reward.amount) ? Math.floor(Math.random() * (reward.amount[1] - reward.amount[0] + 1)) + reward.amount[0] : reward.amount;\n                if (amount !== 0) {\n                    updateResources({\n                        [reward.resource]: amount\n                    });\n                    logMessage += \" You \".concat(amount > 0 ? \"gained\" : \"lost\", \" \").concat(Math.abs(amount), \" \").concat(reward.resource, \".\");\n                }\n            } else if (reward.type === \"item\") {\n                const itemInfo = _data_itemContent__WEBPACK_IMPORTED_MODULE_6__.GAME_ITEMS[reward.itemId];\n                if (itemInfo) {\n                    const newItems = Array.from({\n                        length: reward.amount\n                    }, (_, i)=>({\n                            ...itemInfo,\n                            id: \"\".concat(reward.itemId, \"-\").concat(Date.now(), \"-\").concat(i)\n                        }));\n                    setInventory((prev)=>[\n                            ...prev,\n                            ...newItems\n                        ]);\n                    logMessage += \" You received \".concat(reward.amount, \"x \").concat(itemInfo.name, \"!\");\n                }\n            } else if (reward.type === \"unit\" && reward.unitType === \"villager\") {\n                const newVillagers = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", reward.amount).map((name)=>({\n                        id: \"\".concat(Date.now(), \"-\").concat(name),\n                        name,\n                        currentTask: null\n                    }));\n                setUnits((p)=>({\n                        ...p,\n                        villagers: [\n                            ...p.villagers,\n                            ...newVillagers\n                        ]\n                    }));\n                logMessage += \" You gained \".concat(reward.amount, \" villager(s).\");\n            }\n        });\n        addToLog(logMessage, \"event\");\n        setActivityStatus(effects.log);\n        setCurrentEvent(null);\n        scheduleNextEvent();\n    };\n    const handleInitiateBuild = (villagerId, rect)=>{\n        if (isVillagerBusy(villagerId)) {\n            addNotification(\"This villager is already busy.\");\n            return;\n        }\n        setBuildPanelState({\n            isOpen: true,\n            villagerId,\n            anchorRect: rect\n        });\n        setUnitManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleStartPlacement = (buildingId)=>{\n        var _buildings_buildingInfo_id;\n        const villagerId = buildPanelState.villagerId;\n        if (!villagerId) return;\n        const buildingInfo = buildingList.find((b)=>b.id === buildingId);\n        if (!buildingInfo) return;\n        const isAlreadyConstructing = activeTasks.some((t)=>{\n            var _t_payload;\n            return t.type === \"build\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.buildingType) === buildingInfo.id;\n        });\n        if (buildingInfo.isUnique && ((((_buildings_buildingInfo_id = buildings[buildingInfo.id]) === null || _buildings_buildingInfo_id === void 0 ? void 0 : _buildings_buildingInfo_id.length) || 0) > 0 || isAlreadyConstructing)) {\n            addNotification(\"You can only build one \".concat(buildingInfo.name, \".\"));\n            return;\n        }\n        const missing = unlimitedResources ? [] : Object.keys(buildingInfo.cost).filter((res)=>resources[res] < (buildingInfo.cost[res] || 0));\n        if (missing.length > 0) {\n            addNotification(\"Need more \".concat(missing.join(\", \"), \".\"));\n            return;\n        }\n        setPlayerAction({\n            mode: \"build\",\n            buildingType: buildingId,\n            villagerId\n        });\n        setBuildPanelState({\n            isOpen: false,\n            villagerId: null,\n            anchorRect: null\n        });\n        setActivityStatus(\"Select a location to build a \".concat(buildingInfo.name, \". Right-click to cancel.\"));\n    };\n    const handleConfirmPlacement = (position)=>{\n        if ((playerAction === null || playerAction === void 0 ? void 0 : playerAction.mode) !== \"build\") return;\n        const { buildingType, villagerId } = playerAction;\n        const buildingInfo = buildingList.find((b)=>b.id === buildingType);\n        const builder = units.villagers.find((v)=>v.id === villagerId);\n        if (!buildingInfo || !builder) return;\n        if (!unlimitedResources) updateResources(Object.entries(buildingInfo.cost).reduce((acc, param)=>{\n            let [k, v] = param;\n            return {\n                ...acc,\n                [k]: -v\n            };\n        }, {}));\n        let buildTime = buildingInfo.buildTime * 1000;\n        if (activeBuffs.buildTimeReduction) {\n            buildTime *= 1 - activeBuffs.buildTimeReduction.percentage;\n            addToLog(\"A Builder's Charm reduced construction time by \".concat(activeBuffs.buildTimeReduction.percentage * 100, \"%!\"), \"item\");\n            setActiveBuffs((prev)=>({\n                    ...prev,\n                    buildTimeReduction: prev.buildTimeReduction.uses - 1 > 0 ? {\n                        ...prev.buildTimeReduction,\n                        uses: prev.buildTimeReduction.uses - 1\n                    } : undefined\n                }));\n        }\n        const taskId = \"\".concat(Date.now(), \"-build-\").concat(buildingType);\n        const taskPayload = {\n            buildingType,\n            villagerIds: [\n                villagerId\n            ],\n            position\n        };\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: taskId,\n                type: \"build\",\n                startTime: 0,\n                duration: 0,\n                payload: {\n                    ...taskPayload,\n                    position\n                }\n            });\n        } else {\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: taskId,\n                        type: \"build\",\n                        startTime: Date.now(),\n                        duration: buildTime,\n                        payload: taskPayload\n                    }\n                ]);\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>v.id === villagerId ? {\n                            ...v,\n                            currentTask: taskId\n                        } : v)\n                }));\n            setActivityStatus(\"\".concat(builder.name, \" has started constructing a \").concat(buildingInfo.name, \".\"));\n            addToLog(\"\".concat(builder.name, \" began construction of a new \").concat(buildingInfo.name, \".\"), buildingInfo.iconId);\n        }\n        setPlayerAction(null);\n    };\n    const handleCancelPlayerAction = ()=>{\n        setPlayerAction(null);\n        setActivityStatus(\"Command cancelled.\");\n    };\n    const handleDemolishBuilding = (type, id)=>{\n        var _buildings_townCenter;\n        if (type === \"townCenter\") {\n            addNotification(\"The Town Center is the heart of your civilization and cannot be demolished.\");\n            return;\n        }\n        if (activeTasks.some((t)=>{\n            var _t_payload;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.buildingId) === id;\n        })) {\n            addNotification(\"Cannot demolish a building with an active task.\");\n            return;\n        }\n        const buildingInfo = buildingList.find((b)=>b.id === type);\n        const buildingInstance = buildings[type].find((b)=>b.id === id);\n        if (!buildingInfo || !buildingInstance) return;\n        if (type === \"houses\" && population.current > (((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter.length) > 0 ? 20 : 0) + (buildings.houses.length - 1) * 5) {\n            addNotification(\"Cannot demolish this house, your people would be homeless.\");\n            return;\n        }\n        const refund = Object.entries(buildingInfo.cost).reduce((acc, param)=>{\n            let [res, cost] = param;\n            const amount = Math.floor((cost || 0) * 0.5);\n            if (amount > 0) acc[res] = amount;\n            return acc;\n        }, {});\n        if (Object.keys(refund).length > 0) {\n            updateResources(refund);\n            addNotification(\"Salvaged \".concat(Object.entries(refund).map((param)=>{\n                let [r, a] = param;\n                return \"\".concat(a, \" \").concat(r);\n            }).join(\", \"), \".\"));\n        }\n        setBuildings((prev)=>({\n                ...prev,\n                [type]: prev[type].filter((b)=>b.id !== id)\n            }));\n        addToLog(\"\".concat(buildingInstance.name, \" (\").concat(buildingInfo.name, \") was demolished.\"), buildingInfo.iconId);\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleUpdateBuilding = (type, id, name)=>{\n        setBuildings((prev)=>({\n                ...prev,\n                [type]: prev[type].map((b)=>b.id === id ? {\n                        ...b,\n                        name\n                    } : b)\n            }));\n        addNotification(\"Building renamed.\");\n    };\n    const handleTrainVillagers = (count)=>{\n        var _buildings_townCenter;\n        if (activeTasks.some((t)=>t.type === \"train_villager\") || count <= 0) return;\n        if (population.current + count > population.capacity) {\n            addNotification(\"Need space for \".concat(count, \" more villagers.\"));\n            return;\n        }\n        if (!((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter[0])) {\n            addNotification(\"No Town Center to train villagers.\");\n            return;\n        }\n        if (!unlimitedResources) {\n            const totalCost = 50 * count;\n            if (resources.food < totalCost) {\n                addNotification(\"Need \".concat(totalCost - resources.food, \" more Food.\"));\n                return;\n            }\n            updateResources({\n                food: -totalCost\n            });\n        }\n        if (unlimitedResources) handleTaskCompletion({\n            id: \"instant\",\n            type: \"train_villager\",\n            startTime: 0,\n            duration: 0,\n            payload: {\n                count\n            }\n        });\n        else {\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: \"\".concat(Date.now(), \"-train-villager\"),\n                        type: \"train_villager\",\n                        startTime: Date.now(),\n                        duration: 10000 * count,\n                        payload: {\n                            count,\n                            buildingId: buildings.townCenter[0].id\n                        }\n                    }\n                ]);\n            setActivityStatus(\"Training \".concat(count, \" villager(s)...\"));\n            addToLog(\"Began training \".concat(count, \" new villager(s).\"), \"villager\");\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleTrainUnits = (unitType, count)=>{\n        var _buildings_unitInfo_requiredBuilding;\n        const unitInfo = UNIT_INFO.find((u)=>u.id === unitType);\n        if (!unitInfo || activeTasks.some((t)=>{\n            var _t_payload;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.unitType) === unitType;\n        }) || count <= 0) return;\n        if (population.current + count > population.capacity) {\n            addNotification(\"Need space for \".concat(count, \" more units.\"));\n            return;\n        }\n        const trainingBuilding = (_buildings_unitInfo_requiredBuilding = buildings[unitInfo.requiredBuilding]) === null || _buildings_unitInfo_requiredBuilding === void 0 ? void 0 : _buildings_unitInfo_requiredBuilding[0];\n        if (!trainingBuilding) {\n            var _buildingList_find;\n            addNotification(\"No \".concat((_buildingList_find = buildingList.find((b)=>b.id === unitInfo.requiredBuilding)) === null || _buildingList_find === void 0 ? void 0 : _buildingList_find.name, \" to train units.\"));\n            return;\n        }\n        if (!unlimitedResources) {\n            const missing = Object.keys(unitInfo.cost).filter((res)=>resources[res] < (unitInfo.cost[res] || 0) * count);\n            if (missing.length > 0) {\n                addNotification(\"Need more \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n            updateResources(Object.entries(unitInfo.cost).reduce((acc, param)=>{\n                let [k, v] = param;\n                return {\n                    ...acc,\n                    [k]: -(v || 0) * count\n                };\n            }, {}));\n        }\n        let trainTime = unitInfo.trainTime * 1000 * count;\n        if (activeBuffs.permanentTrainTimeReduction) trainTime *= 1 - activeBuffs.permanentTrainTimeReduction;\n        if (activeBuffs.trainTimeReduction) {\n            const applicable = Math.min(count, activeBuffs.trainTimeReduction.uses);\n            trainTime = unitInfo.trainTime * 1000 * applicable * (1 - activeBuffs.trainTimeReduction.percentage) + unitInfo.trainTime * 1000 * (count - applicable);\n            if (activeBuffs.trainTimeReduction.uses - applicable > 0) setActiveBuffs((prev)=>({\n                    ...prev,\n                    trainTimeReduction: {\n                        ...prev.trainTimeReduction,\n                        uses: prev.trainTimeReduction.uses - applicable\n                    }\n                }));\n            else {\n                setActiveBuffs((prev)=>({\n                        ...prev,\n                        trainTimeReduction: undefined\n                    }));\n                addToLog(\"The Drillmaster's Whistle buff has been fully used.\", \"item\");\n            }\n        }\n        if (unlimitedResources) handleTaskCompletion({\n            id: \"instant\",\n            type: \"train_military\",\n            startTime: 0,\n            duration: 0,\n            payload: {\n                unitType,\n                count\n            }\n        });\n        else {\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: \"\".concat(Date.now(), \"-train-\").concat(unitType),\n                        type: \"train_military\",\n                        startTime: Date.now(),\n                        duration: trainTime,\n                        payload: {\n                            unitType,\n                            count,\n                            buildingId: trainingBuilding.id\n                        }\n                    }\n                ]);\n            setActivityStatus(\"Training \".concat(count, \" \").concat(unitInfo.name, \"(s)...\"));\n            addToLog(\"Began training \".concat(count, \" new \").concat(unitInfo.name, \"(s).\"), unitType);\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleDismissSpecificUnit = (type, id)=>{\n        if (type === \"villagers\" && isVillagerBusy(id)) {\n            addNotification(\"Cannot dismiss a busy villager.\");\n            return;\n        }\n        const unit = units[type].find((u)=>u.id === id);\n        if (!unit) return;\n        if (type === \"villagers\" && units.villagers.length <= 1) {\n            addNotification(\"Cannot dismiss your last villager.\");\n            return;\n        }\n        setUnits((prev)=>({\n                ...prev,\n                [type]: prev[type].filter((u)=>u.id !== id)\n            }));\n        const unitTypeName = type === \"villagers\" ? \"villager\" : unit.unitType;\n        addToLog(\"\".concat(unit.name, \" the \").concat(unitTypeName, \" has been dismissed.\"), type === \"villagers\" ? \"villager\" : unit.unitType);\n        addNotification(\"\".concat(unit.name, \" was dismissed.\"));\n    };\n    const handleUpdateUnit = (type, id, name, title)=>{\n        setUnits((prev)=>({\n                ...prev,\n                [type]: prev[type].map((u)=>u.id === id ? type === \"military\" && title !== undefined ? {\n                        ...u,\n                        name,\n                        title\n                    } : {\n                        ...u,\n                        name\n                    } : u)\n            }));\n        addNotification(\"Unit updated.\");\n    };\n    const handleAssignVillagersToConstruction = (constructionId, count)=>{\n        var _task_payload_villagerIds, _task_payload, _task_payload_villagerIds1, _task_payload1;\n        const idleVillagers = units.villagers.filter((v)=>!v.currentTask);\n        if (count <= 0 || idleVillagers.length === 0) {\n            addNotification(\"No idle villagers available.\");\n            return;\n        }\n        const task = activeTasks.find((t)=>t.id === constructionId);\n        if (!task || task.type !== \"build\") return;\n        const buildingInfo = buildingList.find((b)=>{\n            var _task_payload;\n            return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n        });\n        if (!buildingInfo) return;\n        const cappedCount = Math.min(count, idleVillagers.length);\n        const villagersToAssign = idleVillagers.slice(0, cappedCount).map((v)=>v.id);\n        const workDone = (Date.now() - task.startTime) * (((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 1);\n        const workRemaining = Math.max(0, buildingInfo.buildTime * 1000 - workDone);\n        const newWorkerCount = (((_task_payload1 = task.payload) === null || _task_payload1 === void 0 ? void 0 : (_task_payload_villagerIds1 = _task_payload1.villagerIds) === null || _task_payload_villagerIds1 === void 0 ? void 0 : _task_payload_villagerIds1.length) || 0) + cappedCount;\n        const newRemainingDuration = workRemaining / newWorkerCount;\n        setUnits((prev)=>({\n                ...prev,\n                villagers: prev.villagers.map((v)=>villagersToAssign.includes(v.id) ? {\n                        ...v,\n                        currentTask: constructionId\n                    } : v)\n            }));\n        setActiveTasks((prev)=>prev.map((t)=>t.id === constructionId ? {\n                    ...t,\n                    startTime: Date.now(),\n                    duration: newRemainingDuration,\n                    payload: {\n                        ...t.payload,\n                        villagerIds: [\n                            ...t.payload.villagerIds,\n                            ...villagersToAssign\n                        ]\n                    }\n                } : t));\n        addToLog(\"\".concat(cappedCount, \" villager(s) are now assisting with the \").concat(buildingInfo.name, \".\"), buildingInfo.iconId);\n        setActivityStatus(\"Construction of the \".concat(buildingInfo.name, \" is now faster.\"));\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleAssignVillagers = (targetId, count)=>{\n        if (assignmentPanelState.targetType === \"construction\") return handleAssignVillagersToConstruction(targetId, count);\n        const idleVillagers = units.villagers.filter((v)=>!v.currentTask);\n        if (count <= 0 || idleVillagers.length === 0) {\n            addNotification(\"No idle villagers available.\");\n            return;\n        }\n        const targetNode = resourceNodes.find((n)=>n.id === targetId);\n        if (!targetNode) return;\n        const cappedCount = Math.min(count, idleVillagers.length);\n        const villagersToAssign = idleVillagers.slice(0, cappedCount).map((v)=>v.id);\n        const taskId = \"gather-\".concat(targetId);\n        const existingTask = activeTasks.find((t)=>t.id === taskId);\n        if (unlimitedResources) {\n            updateResources({\n                [targetNode.type]: targetNode.amount\n            });\n            addToLog(\"\".concat(cappedCount, \" villager(s) instantly gathered \").concat(Math.floor(targetNode.amount), \" \").concat(targetNode.type, \".\"), targetNode.type);\n            setResourceNodes((prev)=>prev.filter((n)=>n.id !== nodeId));\n        } else {\n            if (existingTask) setActiveTasks((prev)=>prev.map((t)=>t.id === taskId ? {\n                        ...t,\n                        payload: {\n                            ...t.payload,\n                            villagerIds: [\n                                ...new Set([\n                                    ...t.payload.villagerIds,\n                                    ...villagersToAssign\n                                ])\n                            ]\n                        }\n                    } : t));\n            else setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: taskId,\n                        type: \"gather\",\n                        startTime: Date.now(),\n                        duration: 999999999,\n                        payload: {\n                            resourceNodeId: targetId,\n                            villagerIds: villagersToAssign\n                        }\n                    }\n                ]);\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>villagersToAssign.includes(v.id) ? {\n                            ...v,\n                            currentTask: taskId\n                        } : v)\n                }));\n        }\n        addToLog(\"\".concat(cappedCount, \" villager(s) assigned to gather \").concat(targetNode.type, \".\"), targetNode.type);\n        setActivityStatus(\"\".concat(cappedCount, \" villager(s) are now gathering \").concat(targetNode.type, \".\"));\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleRecallVillagers = (targetId, count, type)=>{\n        var _task_payload_villagerIds, _task_payload;\n        const task = activeTasks.find((t)=>t.id === targetId);\n        var _task_payload_villagerIds_length;\n        if (!task || ((_task_payload_villagerIds_length = (_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) !== null && _task_payload_villagerIds_length !== void 0 ? _task_payload_villagerIds_length : 0) < count) return;\n        const villagersToRecall = task.payload.villagerIds.slice(task.payload.villagerIds.length - count);\n        if (type === \"construction\" && villagersToRecall.length === task.payload.villagerIds.length) {\n            addNotification(\"Cannot recall the last builder from a project.\");\n            return;\n        }\n        setUnits((prev)=>({\n                ...prev,\n                villagers: prev.villagers.map((v)=>villagersToRecall.includes(v.id) ? {\n                        ...v,\n                        currentTask: null\n                    } : v)\n            }));\n        const remainingVillagers = task.payload.villagerIds.filter((id)=>!villagersToRecall.includes(id));\n        if (remainingVillagers.length === 0) {\n            setActiveTasks((prev)=>prev.filter((t)=>t.id !== targetId));\n            const node = resourceNodes.find((n)=>n.id === targetId);\n            if (node) addToLog(\"All villagers recalled from gathering \".concat(node.type, \".\"), \"villager\");\n        } else {\n            const buildingInfo = buildingList.find((b)=>{\n                var _task_payload;\n                return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n            });\n            const workDone = (Date.now() - task.startTime) * task.payload.villagerIds.length;\n            const newRemainingDuration = (buildingInfo.buildTime * 1000 - workDone) / remainingVillagers.length;\n            setActiveTasks((prev)=>prev.map((t)=>t.id === targetId ? {\n                        ...t,\n                        startTime: Date.now(),\n                        duration: newRemainingDuration,\n                        payload: {\n                            ...t.payload,\n                            villagerIds: remainingVillagers\n                        }\n                    } : t));\n            if (type === \"construction\") addToLog(\"\".concat(count, \" builder(s) recalled. Construction will now be slower.\"), \"villager\");\n        }\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleAdvanceAge = async ()=>{\n        if (activeTasks.some((t)=>t.type === \"advance_age\")) {\n            addNotification(\"Advancement already in progress.\");\n            return;\n        }\n        if (!unlimitedResources) {\n            const missing = [];\n            if (resources.food < 500) missing.push(\"\".concat(500 - resources.food, \" Food\"));\n            if (resources.gold < 200) missing.push(\"\".concat(200 - resources.gold, \" Gold\"));\n            if (missing.length > 0) {\n                addNotification(\"To advance, you need \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n            updateResources({\n                food: -500,\n                gold: -200\n            });\n        }\n        const currentIndex = ageProgressionList.findIndex((age)=>age.name === currentAge);\n        if (currentIndex === -1 || currentIndex + 1 >= ageProgressionList.length) {\n            addNotification(\"You have reached the final available age.\");\n            return;\n        }\n        if (unlimitedResources) handleTaskCompletion({\n            id: \"instant\",\n            type: \"advance_age\",\n            startTime: 0,\n            duration: 0,\n            payload: {}\n        });\n        else {\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: \"\".concat(Date.now(), \"-advance_age\"),\n                        type: \"advance_age\",\n                        startTime: Date.now(),\n                        duration: 60000\n                    }\n                ]);\n            setActivityStatus(\"Your people begin the long journey to a new age.\");\n            setBuildingManagementPanel({\n                isOpen: false,\n                type: null,\n                anchorRect: null\n            });\n        }\n    };\n    const handleExitGame = async ()=>{\n        setCurrentSaveName(null);\n        await fetchSavesAndConfigs();\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU);\n    };\n    const handleDeleteGame = async (saveName)=>{\n        await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.deleteGameState)(saveName);\n        await fetchSavesAndConfigs();\n        addNotification('Deleted saga: \"'.concat(saveName, '\"'));\n    };\n    const handleToggleUnlimitedResources = ()=>{\n        const newMode = !unlimitedResources;\n        setUnlimitedResources(newMode);\n        if (newMode) {\n            setResources({\n                food: 99999,\n                wood: 99999,\n                gold: 99999,\n                stone: 99999\n            });\n            addNotification(\"Test Mode: ON - All active tasks completed.\");\n            const depletedNodeIds = new Set();\n            activeTasks.forEach((task)=>{\n                var _task_payload;\n                if (task.type === \"gather\" && ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.resourceNodeId)) {\n                    depletedNodeIds.add(task.payload.resourceNodeId);\n                    const node = resourceNodes.find((n)=>n.id === task.payload.resourceNodeId);\n                    if (node) addToLog(\"Instantly gathered all \".concat(node.type, \" from a depleted source.\"), node.type);\n                }\n                handleTaskCompletion(task);\n            });\n            setActiveTasks([]);\n            if (depletedNodeIds.size > 0) setResourceNodes((prev)=>prev.filter((n)=>!depletedNodeIds.has(n.id)));\n        } else addNotification(\"Test Mode: OFF\");\n    };\n    const handleUseItem = (itemId)=>{\n        const item = inventory.find((i)=>i.id === itemId);\n        if (!item) return;\n        const baseItemId = item.id.split(\"-\")[0];\n        const constructionTasks = activeTasks.filter((t)=>t.type === \"build\");\n        switch(baseItemId){\n            case \"scroll_of_haste\":\n            case \"blueprint_of_the_master\":\n                if (constructionTasks.length > 0) {\n                    var _buildingList_find;\n                    const task = constructionTasks.sort((a, b)=>b.startTime + b.duration - (a.startTime + a.duration))[0];\n                    setActiveTasks((p)=>p.map((t)=>t.id === task.id ? {\n                                ...t,\n                                duration: Math.max(0, t.duration - (baseItemId === \"scroll_of_haste\" ? 15000 : 60000))\n                            } : t));\n                    addToLog(\"Used \".concat(item.name, \" on the \").concat((_buildingList_find = buildingList.find((b)=>{\n                        var _task_payload;\n                        return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n                    })) === null || _buildingList_find === void 0 ? void 0 : _buildingList_find.name, \".\"), \"item\");\n                }\n                break;\n            case \"hearty_meal\":\n                updateResources({\n                    food: 75\n                });\n                addToLog(\"Used \".concat(item.name, \" to gain 75 food.\"), \"item\");\n                break;\n            case \"builders_charm\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        buildTimeReduction: {\n                            percentage: 0.1,\n                            uses: 1\n                        }\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Next building is 10% faster.\"), \"item\");\n                break;\n            case \"drillmasters_whistle\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        trainTimeReduction: {\n                            percentage: 0.25,\n                            uses: 5\n                        }\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Next 5 units train 25% faster.\"), \"item\");\n                break;\n            case \"golden_harvest\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        resourceBoost: [\n                            ...p.resourceBoost || [],\n                            {\n                                resource: \"food\",\n                                multiplier: 1.5,\n                                endTime: Date.now() + 60000\n                            }\n                        ]\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Food gathering boosted by 50% for 60s.\"), \"item\");\n                break;\n            case \"shard_of_the_ancients\":\n                if (constructionTasks.length > 0) {\n                    var _buildingList_find1;\n                    const task = constructionTasks.sort((a, b)=>b.startTime + b.duration - (a.startTime + a.duration))[0];\n                    setActiveTasks((p)=>p.filter((t)=>t.id !== task.id));\n                    handleTaskCompletion(task);\n                    addToLog(\"Used \".concat(item.name, \" to instantly complete the \").concat((_buildingList_find1 = buildingList.find((b)=>{\n                        var _task_payload;\n                        return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n                    })) === null || _buildingList_find1 === void 0 ? void 0 : _buildingList_find1.name, \".\"), \"item\");\n                }\n                break;\n            case \"heart_of_the_mountain\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        resourceBoost: [\n                            ...p.resourceBoost || [],\n                            {\n                                resource: \"gold\",\n                                multiplier: 2,\n                                endTime: Date.now() + 120000\n                            },\n                            {\n                                resource: \"stone\",\n                                multiplier: 2,\n                                endTime: Date.now() + 120000\n                            }\n                        ]\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Gold and Stone gathering doubled for 2 minutes.\"), \"item\");\n                break;\n            case \"banner_of_command\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        permanentTrainTimeReduction: (p.permanentTrainTimeReduction || 0) + 0.05\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Military units train 5% faster, permanently.\"), \"item\");\n                break;\n            case \"whisper_of_the_creator\":\n                const tasks = [\n                    ...activeTasks\n                ];\n                setActiveTasks([]);\n                tasks.forEach(handleTaskCompletion);\n                addToLog(\"A divine whisper echoes, and all work is instantly finished.\", \"item\");\n                break;\n        }\n        setInventory((prev)=>prev.filter((i)=>i.id !== itemId));\n        setInventoryPanelState({\n            isOpen: false,\n            anchorRect: null\n        });\n    };\n    const buildingCounts = buildingList.reduce((acc, b)=>{\n        var _buildings_b_id;\n        acc[b.id] = ((_buildings_b_id = buildings[b.id]) === null || _buildings_b_id === void 0 ? void 0 : _buildings_b_id.length) || 0;\n        return acc;\n    }, {});\n    const idleVillagerCount = units.villagers.filter((v)=>!v.currentTask).length;\n    const assignmentTarget = assignmentPanelState.targetType === \"resource\" ? resourceNodes.find((n)=>n.id === assignmentPanelState.targetId) : activeTasks.find((t)=>t.type === \"build\" && t.id === assignmentPanelState.targetId);\n    const currentAgeIndex = ageProgressionList.findIndex((a)=>a.name === currentAge);\n    const availableBuildings = buildingList.filter((b)=>{\n        const unlockAgeIndex = ageProgressionList.findIndex((a)=>a.name === b.unlockedInAge);\n        return unlockAgeIndex !== -1 && unlockAgeIndex <= currentAgeIndex;\n    });\n    const closeAllPanels = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setUnitManagementPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                type: null,\n                anchorRect: null\n            } : p);\n        setBuildingManagementPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                type: null,\n                instanceId: undefined,\n                anchorRect: null\n            } : p);\n        setBuildPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                villagerId: null,\n                anchorRect: null\n            } : p);\n        setAssignmentPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                targetId: null,\n                targetType: null,\n                anchorRect: null\n            } : p);\n        setCivPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n        setAllBuildingsPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n        setInventoryPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n    }, []);\n    const handleOpenBuildingPanel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((type, instanceId, rect)=>{\n        closeAllPanels();\n        setBuildingManagementPanel({\n            isOpen: true,\n            type,\n            instanceId,\n            anchorRect: rect\n        });\n    }, [\n        closeAllPanels\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClickOutside = (event)=>{\n            const target = event.target;\n            if (!target.closest(\".sci-fi-panel-popup\")) closeAllPanels();\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>document.removeEventListener(\"mousedown\", handleClickOutside);\n    }, [\n        closeAllPanels\n    ]);\n    const renderContent = ()=>{\n        switch(gameState){\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StartScreen__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                    onNewGame: handleStartNewGame,\n                    onResumeGame: handleResumeGame,\n                    savedGames: allSaves,\n                    onDeleteGame: handleDeleteGame\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 753,\n                    columnNumber: 42\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 754,\n                    columnNumber: 45\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING:\n                if (!civilization) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 756,\n                    columnNumber: 43\n                }, undefined);\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_GameUI__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                            civilization: civilization,\n                            resources: resources,\n                            units: units,\n                            buildings: buildings,\n                            population: population,\n                            currentAge: currentAge,\n                            gameLog: gameLog,\n                            resourceDeltas: resourceDeltas,\n                            activityStatus: activityStatus,\n                            unitList: UNIT_INFO,\n                            buildingList: buildingList,\n                            onOpenUnitPanel: (type, rect)=>{\n                                closeAllPanels();\n                                setUnitManagementPanel({\n                                    isOpen: true,\n                                    type,\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenBuildingPanel: handleOpenBuildingPanel,\n                            onOpenAllBuildingsPanel: (rect)=>{\n                                closeAllPanels();\n                                setAllBuildingsPanel({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            playerAction: playerAction,\n                            onConfirmPlacement: handleConfirmPlacement,\n                            onCancelPlayerAction: handleCancelPlayerAction,\n                            onBuildingClick: (building, rect)=>{\n                                closeAllPanels();\n                                const type = Object.keys(buildings).find((key)=>{\n                                    var _buildings_key;\n                                    return (_buildings_key = buildings[key]) === null || _buildings_key === void 0 ? void 0 : _buildings_key.some((b)=>b.id === building.id);\n                                });\n                                if (type) setBuildingManagementPanel({\n                                    isOpen: true,\n                                    type,\n                                    instanceId: building.id,\n                                    anchorRect: rect\n                                });\n                            },\n                            mapDimensions: MAP_DIMENSIONS,\n                            activeTasks: activeTasks,\n                            onExitGame: handleExitGame,\n                            onOpenCivPanel: (rect)=>{\n                                closeAllPanels();\n                                setCivPanelState({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            resourceNodes: resourceNodes,\n                            onOpenAssignmentPanel: (nodeId1, rect)=>{\n                                closeAllPanels();\n                                setAssignmentPanelState({\n                                    isOpen: true,\n                                    targetId: nodeId1,\n                                    targetType: \"resource\",\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenConstructionPanel: (constructionId, rect)=>{\n                                closeAllPanels();\n                                setAssignmentPanelState({\n                                    isOpen: true,\n                                    targetId: constructionId,\n                                    targetType: \"construction\",\n                                    anchorRect: rect\n                                });\n                            },\n                            gatherInfo: GATHER_INFO,\n                            currentEvent: currentEvent,\n                            onEventChoice: handleEventChoice,\n                            inventory: inventory,\n                            onOpenInventoryPanel: (rect)=>{\n                                closeAllPanels();\n                                setInventoryPanelState({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            }\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 759,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BuildPanel__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                            isOpen: buildPanelState.isOpen,\n                            onClose: ()=>setBuildPanelState({\n                                    isOpen: false,\n                                    villagerId: null,\n                                    anchorRect: null\n                                }),\n                            onStartPlacement: handleStartPlacement,\n                            resources: resources,\n                            buildingCounts: buildingCounts,\n                            buildingList: availableBuildings,\n                            anchorRect: buildPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 774,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_UnitManagementPanel__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                            isOpen: unitManagementPanel.isOpen,\n                            onClose: ()=>setUnitManagementPanel({\n                                    isOpen: false,\n                                    type: null,\n                                    anchorRect: null\n                                }),\n                            type: unitManagementPanel.type,\n                            units: units,\n                            onUpdateUnit: handleUpdateUnit,\n                            onDismissUnit: handleDismissSpecificUnit,\n                            onInitiateBuild: (villagerId, rect)=>{\n                                closeAllPanels();\n                                handleInitiateBuild(villagerId, rect);\n                            },\n                            getVillagerTaskDetails: getVillagerTaskDetails,\n                            anchorRect: unitManagementPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 775,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BuildingManagementPanel__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                            isOpen: buildingManagementPanel.isOpen,\n                            onClose: ()=>setBuildingManagementPanel({\n                                    isOpen: false,\n                                    type: null,\n                                    anchorRect: null\n                                }),\n                            panelState: buildingManagementPanel,\n                            buildings: buildings,\n                            buildingList: buildingList,\n                            onUpdateBuilding: handleUpdateBuilding,\n                            onDemolishBuilding: handleDemolishBuilding,\n                            onTrainUnits: handleTrainUnits,\n                            onTrainVillagers: handleTrainVillagers,\n                            resources: resources,\n                            population: population,\n                            unitList: UNIT_INFO,\n                            onAdvanceAge: handleAdvanceAge,\n                            activeTasks: activeTasks,\n                            anchorRect: buildingManagementPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 776,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ResourceAssignmentPanel__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                            isOpen: assignmentPanelState.isOpen,\n                            onClose: ()=>setAssignmentPanelState({\n                                    isOpen: false,\n                                    targetId: null,\n                                    targetType: null,\n                                    anchorRect: null\n                                }),\n                            assignmentTarget: assignmentTarget || null,\n                            idleVillagerCount: idleVillagerCount,\n                            onAssignVillagers: handleAssignVillagers,\n                            onRecallVillagers: handleRecallVillagers,\n                            gatherInfo: GATHER_INFO,\n                            buildingList: buildingList,\n                            units: units,\n                            anchorRect: assignmentPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 777,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CivilizationPanel__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                            isOpen: civPanelState.isOpen,\n                            onClose: ()=>setCivPanelState({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            civilization: civilization,\n                            anchorRect: civPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 778,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AllBuildingsPanel__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                            isOpen: allBuildingsPanel.isOpen,\n                            onClose: ()=>setAllBuildingsPanel({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            buildingList: buildingList,\n                            buildingCounts: buildingCounts,\n                            activeTasks: activeTasks,\n                            onOpenBuildingPanel: handleOpenBuildingPanel,\n                            anchorRect: allBuildingsPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 779,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_InventoryPanel__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                            isOpen: inventoryPanelState.isOpen,\n                            onClose: ()=>setInventoryPanelState({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            inventory: inventory,\n                            onUseItem: handleUseItem,\n                            activeTasks: activeTasks,\n                            activeBuffs: activeBuffs,\n                            anchorRect: inventoryPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 780,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true);\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StartScreen__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                    onNewGame: handleStartNewGame,\n                    onResumeGame: handleResumeGame,\n                    savedGames: allSaves,\n                    onDeleteGame: handleDeleteGame\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 783,\n                    columnNumber: 29\n                }, undefined);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-stone-dark flex items-center justify-center p-4\",\n        children: [\n            gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handleToggleUnlimitedResources,\n                className: \"fixed bottom-4 left-4 z-[101] bg-brand-gold text-stone-dark font-bold py-1 px-3 rounded-full text-xs shadow-lg hover:scale-105 transition-transform\",\n                \"aria-label\": \"Toggle unlimited resources test mode\",\n                children: [\n                    \"Test Mode: \",\n                    unlimitedResources ? \"ON\" : \"OFF\"\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 790,\n                columnNumber: 18\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_NotificationManager__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                notifications: notifications,\n                onRemoveNotification: removeNotification\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 792,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"w-full max-w-7xl mx-auto\",\n                children: renderContent()\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 793,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/src/app/page.tsx\",\n        lineNumber: 788,\n        columnNumber: 9\n    }, undefined);\n};\n_s(GamePage, \"IAFtO4UnSJaM465Avt6CwijK280=\");\n_c = GamePage;\n/* harmony default export */ __webpack_exports__[\"default\"] = (GamePage);\nvar _c;\n$RefreshReg$(_c, \"GamePage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvcGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUl3RTtBQUN5WDtBQUNwVztBQUNrRDtBQUN2RjtBQUNSO0FBQ1A7QUFDVTtBQUNJO0FBQ047QUFDa0I7QUFDQTtBQUNRO0FBQ0E7QUFDWjtBQUNBO0FBQ047QUFHekQsTUFBTTJCLFlBQXdCO0lBQzFCO1FBQUVDLElBQUk7UUFBYUMsTUFBTTtRQUFhQyxhQUFhO1FBQXlCQyxNQUFNO1lBQUVDLE1BQU07WUFBSUMsTUFBTTtRQUFHO1FBQUdDLGtCQUFrQjtRQUFZQyxXQUFXO0lBQUc7SUFDdEo7UUFBRVAsSUFBSTtRQUFVQyxNQUFNO1FBQVVDLGFBQWE7UUFBMkNDLE1BQU07WUFBRUMsTUFBTTtZQUFJSSxNQUFNO1FBQUc7UUFBR0Ysa0JBQWtCO1FBQWdCQyxXQUFXO0lBQUc7SUFDdEs7UUFBRVAsSUFBSTtRQUFVQyxNQUFNO1FBQVVDLGFBQWE7UUFBOEJDLE1BQU07WUFBRUMsTUFBTTtZQUFJQyxNQUFNO1FBQUc7UUFBR0Msa0JBQWtCO1FBQVVDLFdBQVc7SUFBRztJQUNuSjtRQUFFUCxJQUFJO1FBQVlDLE1BQU07UUFBWUMsYUFBYTtRQUEwQ0MsTUFBTTtZQUFFSyxNQUFNO1lBQUtILE1BQU07UUFBSTtRQUFHQyxrQkFBa0I7UUFBaUJDLFdBQVc7SUFBRztDQUMvSztBQUVELE1BQU1FLGNBQTBEO0lBQzVETCxNQUFNO1FBQUVNLE1BQU07SUFBRztJQUNqQkYsTUFBTTtRQUFFRSxNQUFNO0lBQUU7SUFDaEJMLE1BQU07UUFBRUssTUFBTTtJQUFFO0lBQ2hCQyxPQUFPO1FBQUVELE1BQU07SUFBRTtBQUNyQjtBQUVBLE1BQU1FLHdCQUFtQztJQUNyQ0MsUUFBUSxFQUFFO0lBQUVDLFVBQVUsRUFBRTtJQUFFQyxjQUFjLEVBQUU7SUFBRUMsUUFBUSxFQUFFO0lBQUVDLGVBQWUsRUFBRTtJQUFFQyxZQUFZLEVBQUU7SUFBRUMsWUFBWSxFQUFFO0lBQUVDLFlBQVksRUFBRTtBQUM3SDtBQUVBLE1BQU1DLGlCQUFpQjtJQUFFQyxPQUFPO0lBQUlDLFFBQVE7QUFBRztBQUUvQyxNQUFNQyxnQkFBZ0I7SUFDbEI7UUFBRXZCLE1BQU07UUFBZUMsYUFBYTtJQUEwQztJQUM5RTtRQUFFRCxNQUFNO1FBQWNDLGFBQWE7SUFBNkM7SUFDaEY7UUFBRUQsTUFBTTtRQUFjQyxhQUFhO0lBQXFEO0lBQ3hGO1FBQUVELE1BQU07UUFBZ0JDLGFBQWE7SUFBMkM7Q0FDbkY7QUFHRCxNQUFNdUIsV0FBcUI7UUEwQ1JDLHVCQUE4Q0E7O0lBekM3RCxNQUFNLENBQUNDLFdBQVdDLGFBQWEsR0FBR3ZELCtDQUFRQSxDQUFhSSw4Q0FBVUEsQ0FBQ29ELElBQUk7SUFDdEUsTUFBTSxDQUFDQyxjQUFjQyxnQkFBZ0IsR0FBRzFELCtDQUFRQSxDQUFzQjtJQUN0RSxNQUFNLENBQUMyRCxXQUFXQyxhQUFhLEdBQUc1RCwrQ0FBUUEsQ0FBWTtRQUFFK0IsTUFBTTtRQUFLSSxNQUFNO1FBQUtILE1BQU07UUFBSU0sT0FBTztJQUFJO0lBQ25HLE1BQU0sQ0FBQ3VCLE9BQU9DLFNBQVMsR0FBRzlELCtDQUFRQSxDQUFRO1FBQUUrRCxXQUFXLEVBQUU7UUFBRUMsVUFBVSxFQUFFO0lBQUM7SUFDeEUsTUFBTSxDQUFDWCxXQUFXWSxhQUFhLEdBQUdqRSwrQ0FBUUEsQ0FBWXVDO0lBQ3RELE1BQU0sQ0FBQzJCLFlBQVlDLGNBQWMsR0FBR25FLCtDQUFRQSxDQUFTO0lBQ3JELE1BQU0sQ0FBQ29FLFNBQVNDLFdBQVcsR0FBR3JFLCtDQUFRQSxDQUFpQixFQUFFO0lBQ3pELE1BQU0sQ0FBQ3NFLGNBQWNDLGdCQUFnQixHQUFHdkUsK0NBQVFBLENBQW1CO0lBQ25FLE1BQU0sQ0FBQ3dFLGdCQUFnQkMsa0JBQWtCLEdBQUd6RSwrQ0FBUUEsQ0FBaUIsQ0FBQztJQUN0RSxNQUFNLENBQUMwRSxnQkFBZ0JDLGtCQUFrQixHQUFHM0UsK0NBQVFBLENBQVM7SUFDN0QsTUFBTSxDQUFDNEUsZUFBZUMsaUJBQWlCLEdBQUc3RSwrQ0FBUUEsQ0FBbUIsRUFBRTtJQUN2RSxNQUFNLENBQUM4RSxvQkFBb0JDLHNCQUFzQixHQUFHL0UsK0NBQVFBLENBQVU7SUFDdEUsTUFBTSxDQUFDZ0YsVUFBVUMsWUFBWSxHQUFHakYsK0NBQVFBLENBQVcsRUFBRTtJQUNyRCxNQUFNLENBQUNrRixpQkFBaUJDLG1CQUFtQixHQUFHbkYsK0NBQVFBLENBQWdCO0lBQ3RFLE1BQU0sQ0FBQ29GLGNBQWNDLGdCQUFnQixHQUFHckYsK0NBQVFBLENBQW9CO0lBQ3BFLE1BQU0sQ0FBQ3NGLGFBQWFDLGVBQWUsR0FBR3ZGLCtDQUFRQSxDQUFhLEVBQUU7SUFDN0QsTUFBTSxDQUFDd0YsZUFBZUMsaUJBQWlCLEdBQUd6RiwrQ0FBUUEsQ0FBaUIsRUFBRTtJQUNyRSxNQUFNLENBQUMwRixXQUFXQyxhQUFhLEdBQUczRiwrQ0FBUUEsQ0FBYSxFQUFFO0lBQ3pELE1BQU0sQ0FBQzRGLGFBQWFDLGVBQWUsR0FBRzdGLCtDQUFRQSxDQUFjO1FBQUU4RixlQUFlLEVBQUU7SUFBQztJQUVoRiwwQkFBMEI7SUFDMUIsTUFBTSxDQUFDQyxvQkFBb0JDLHNCQUFzQixHQUFHaEcsK0NBQVFBLENBQXdDLEVBQUU7SUFDdEcsTUFBTSxDQUFDaUcsY0FBY0MsZ0JBQWdCLEdBQUdsRywrQ0FBUUEsQ0FBbUIsRUFBRTtJQUdyRSxlQUFlO0lBQ2YsTUFBTSxDQUFDbUcsaUJBQWlCQyxtQkFBbUIsR0FBR3BHLCtDQUFRQSxDQUE2RTtRQUFFcUcsUUFBUTtRQUFPQyxZQUFZO1FBQU1DLFlBQVk7SUFBSztJQUN2TCxNQUFNLENBQUNDLHFCQUFxQkMsdUJBQXVCLEdBQUd6RywrQ0FBUUEsQ0FBMEY7UUFBRXFHLFFBQVE7UUFBT0ssTUFBTTtRQUFNSCxZQUFZO0lBQUs7SUFDdE0sTUFBTSxDQUFDSSx5QkFBeUJDLDJCQUEyQixHQUFHNUcsK0NBQVFBLENBQTRHO1FBQUVxRyxRQUFRO1FBQU9LLE1BQU07UUFBTUgsWUFBWTtJQUFLO0lBQ2hPLE1BQU0sQ0FBQ00sbUJBQW1CQyxxQkFBcUIsR0FBRzlHLCtDQUFRQSxDQUFtRDtRQUFFcUcsUUFBUTtRQUFPRSxZQUFZO0lBQUs7SUFDL0ksTUFBTSxDQUFDUSxzQkFBc0JDLHdCQUF3QixHQUFHaEgsK0NBQVFBLENBQTRIO1FBQUVxRyxRQUFRO1FBQU9ZLFVBQVU7UUFBTUMsWUFBWTtRQUFNWCxZQUFZO0lBQUs7SUFDaFEsTUFBTSxDQUFDWSxlQUFlQyxpQkFBaUIsR0FBR3BILCtDQUFRQSxDQUFtRDtRQUFFcUcsUUFBUTtRQUFPRSxZQUFZO0lBQUs7SUFDdkksTUFBTSxDQUFDYyxxQkFBcUJDLHVCQUF1QixHQUFHdEgsK0NBQVFBLENBQW1EO1FBQUVxRyxRQUFRO1FBQU9FLFlBQVk7SUFBSztJQUVuSixNQUFNZ0Isa0JBQWtCcEgsNkNBQU1BLENBQXdDLENBQUM7SUFDdkUsTUFBTXFILGdCQUFnQnJILDZDQUFNQSxDQUF3QjtJQUNwRCxNQUFNc0gsY0FBY3RILDZDQUFNQSxDQUFTdUgsS0FBS0MsR0FBRztJQUMzQyxNQUFNQyxvQkFBb0J6SCw2Q0FBTUE7SUFFaEMsTUFBTTBILGFBQWE7UUFDZkMsU0FBU2pFLE1BQU1FLFNBQVMsQ0FBQ2dFLE1BQU0sR0FBR2xFLE1BQU1HLFFBQVEsQ0FBQytELE1BQU07UUFDdkRDLFVBQVUsQ0FBQzNFLEVBQUFBLHdCQUFBQSxVQUFVTixVQUFVLGNBQXBCTSw0Q0FBQUEsc0JBQXNCMEUsTUFBTSxJQUFHLElBQUksS0FBSyxLQUFLLENBQUMxRSxFQUFBQSxvQkFBQUEsVUFBVWIsTUFBTSxjQUFoQmEsd0NBQUFBLGtCQUFrQjBFLE1BQU0sS0FBSSxLQUFLO0lBQzlGO0lBRUEsTUFBTUUsdUJBQXVCaEksa0RBQVdBLENBQUM7UUFDckMsTUFBTWlJLFFBQVEsTUFBTXpILG9FQUFlQTtRQUNuQ3dFLFlBQVlpRDtRQUVaLE1BQU1DLGdCQUFnQixNQUFNeEgscUVBQWdCQTtRQUM1QyxNQUFNeUgsYUFBYUQsY0FBY0UsTUFBTSxDQUFDQyxDQUFBQSxNQUFPQSxJQUFJQyxRQUFRO1FBQzNELElBQUlILFdBQVdMLE1BQU0sR0FBRyxHQUFHO1lBQ3ZCL0Isc0JBQXNCb0MsV0FBV0ksR0FBRyxDQUFDQyxDQUFBQSxJQUFNO29CQUFFN0csTUFBTTZHLEVBQUU3RyxJQUFJO29CQUFFQyxhQUFhNEcsRUFBRTVHLFdBQVc7Z0JBQUM7UUFDMUYsT0FBTztZQUNIbUUsc0JBQXNCN0M7UUFDMUI7UUFFQSxNQUFNdUYscUJBQXFCLE1BQU05SCwwRUFBcUJBO1FBQ3REc0YsZ0JBQWdCd0MsbUJBQW1CTCxNQUFNLENBQUNNLENBQUFBLElBQUtBLEVBQUVKLFFBQVE7SUFFN0QsR0FBRyxFQUFFO0lBRUxySSxnREFBU0EsQ0FBQztRQUNOK0g7SUFDSixHQUFHO1FBQUNBO0tBQXFCO0lBRXpCL0gsZ0RBQVNBLENBQUM7UUFDTixJQUFJb0QsY0FBY2xELDhDQUFVQSxDQUFDd0ksT0FBTyxJQUFJbkYsZ0JBQWdCeUIsaUJBQWlCO1lBQ3JFLE1BQU0yRCxZQUEyQjtnQkFDN0JwRjtnQkFDQUU7Z0JBQ0FFO2dCQUNBUjtnQkFDQWE7Z0JBQ0FFO2dCQUNBa0I7Z0JBQ0FFO2dCQUNBRTtnQkFDQUU7WUFDSjtZQUNBckYsa0VBQWFBLENBQUMyRSxpQkFBaUIyRDtRQUNuQztJQUNKLEdBQUc7UUFBQ3BGO1FBQWNFO1FBQVdFO1FBQU9SO1FBQVdhO1FBQVlFO1FBQVNkO1FBQVc0QjtRQUFpQkk7UUFBYUU7UUFBZUU7UUFBV0U7S0FBWTtJQUVuSixNQUFNa0Qsa0JBQWtCN0ksa0RBQVdBLENBQUMsQ0FBQzhJO1FBQ2pDLE1BQU1wSCxLQUFLLEdBQWlCcUgsT0FBZHRCLEtBQUtDLEdBQUcsSUFBRyxLQUFpQixPQUFkcUIsS0FBS0MsTUFBTTtRQUN2Q3BFLGlCQUFpQnFFLENBQUFBLE9BQVE7Z0JBQUM7b0JBQUV2SDtvQkFBSW9IO2dCQUFRO2FBQUU7SUFDOUMsR0FBRyxFQUFFO0lBRUwsTUFBTUkscUJBQXFCbEosa0RBQVdBLENBQUMsQ0FBQzBCO1FBQ3BDa0QsaUJBQWlCcUUsQ0FBQUEsT0FBUUEsS0FBS2IsTUFBTSxDQUFDZSxDQUFBQSxJQUFLQSxFQUFFekgsRUFBRSxLQUFLQTtJQUN2RCxHQUFHLEVBQUU7SUFFTCxNQUFNMEgsV0FBV3BKLGtEQUFXQSxDQUFDLENBQUM4SSxTQUFpQk87UUFDM0NqRixXQUFXNkUsQ0FBQUEsT0FBUTtnQkFBQztvQkFBRXZILElBQUksR0FBaUJxSCxPQUFkdEIsS0FBS0MsR0FBRyxJQUFHLEtBQWlCLE9BQWRxQixLQUFLQyxNQUFNO29CQUFNRjtvQkFBU087Z0JBQUs7bUJBQU1KLEtBQUtLLEtBQUssQ0FBQyxHQUFHO2FBQUk7SUFDdEcsR0FBRyxFQUFFO0lBRUwsTUFBTUMsa0JBQWtCdkosa0RBQVdBLENBQUMsQ0FBQ3dKO1FBQ2pDN0YsYUFBYXNGLENBQUFBO1lBQ1QsTUFBTVEsZUFBZTtnQkFBRSxHQUFHUixJQUFJO1lBQUM7WUFDL0IsSUFBSyxNQUFNUyxPQUFPRixPQUFRO2dCQUN0QixNQUFNRyxjQUFjRDtvQkFDaURGO2dCQUFyRUMsWUFBWSxDQUFDRSxZQUFZLEdBQUdaLEtBQUthLEdBQUcsQ0FBQyxHQUFHSCxZQUFZLENBQUNFLFlBQVksR0FBSUgsQ0FBQUEsQ0FBQUEsc0JBQUFBLE1BQU0sQ0FBQ0csWUFBWSxjQUFuQkgsaUNBQUFBLHNCQUF1QjtZQUNoRztZQUNBLE9BQU9DO1FBQ1g7UUFFQWpGLGtCQUFrQnlFLENBQUFBLE9BQVM7Z0JBQUMsR0FBR0EsSUFBSTtnQkFBRSxHQUFHTyxNQUFNO1lBQUE7UUFFOUMsSUFBSyxNQUFNRSxPQUFPRixPQUFRO1lBQ3RCLE1BQU1HLGNBQWNEO1lBQ3BCLElBQUlwQyxnQkFBZ0JPLE9BQU8sQ0FBQzhCLFlBQVksRUFBRTtnQkFDdENFLE9BQU9DLFlBQVksQ0FBQ3hDLGdCQUFnQk8sT0FBTyxDQUFDOEIsWUFBWTtZQUM1RDtZQUNBckMsZ0JBQWdCTyxPQUFPLENBQUM4QixZQUFZLEdBQUdFLE9BQU9FLFVBQVUsQ0FBQztnQkFDckR2RixrQkFBa0J5RSxDQUFBQTtvQkFDZCxNQUFNZSxZQUFZO3dCQUFDLEdBQUdmLElBQUk7b0JBQUE7b0JBQzFCLE9BQU9lLFNBQVMsQ0FBQ0wsWUFBWTtvQkFDN0IsT0FBT0s7Z0JBQ1g7WUFDSixHQUFHO1FBQ1A7SUFDSixHQUFHLEVBQUU7SUFFTCxNQUFNQyx1QkFBdUJqSyxrREFBV0EsQ0FBQyxDQUFDa0s7WUFDbENBO1FBQUosSUFBSUEsRUFBQUEsZ0JBQUFBLEtBQUtDLE9BQU8sY0FBWkQsb0NBQUFBLGNBQWNFLFdBQVcsS0FBSUYsS0FBS0MsT0FBTyxDQUFDQyxXQUFXLENBQUN0QyxNQUFNLEdBQUcsR0FBRztZQUNsRWpFLFNBQVNvRixDQUFBQSxPQUFTO29CQUFFLEdBQUdBLElBQUk7b0JBQUVuRixXQUFXbUYsS0FBS25GLFNBQVMsQ0FBQ3lFLEdBQUcsQ0FBQzhCLENBQUFBLElBQUtILEtBQUtDLE9BQU8sQ0FBRUMsV0FBVyxDQUFFRSxRQUFRLENBQUNELEVBQUUzSSxFQUFFLElBQUk7NEJBQUUsR0FBRzJJLENBQUM7NEJBQUVFLGFBQWE7d0JBQUssSUFBSUY7Z0JBQUc7UUFDako7UUFFQSxPQUFRSCxLQUFLekQsSUFBSTtZQUNiLEtBQUs7Z0JBQVM7b0JBQ1YsTUFBTSxFQUFFK0QsWUFBWSxFQUFFSixXQUFXLEVBQUVLLFFBQVEsRUFBRSxHQUFHUCxLQUFLQyxPQUFPO29CQUM1RCxNQUFNTyxlQUFlMUUsYUFBYTJFLElBQUksQ0FBQ2pDLENBQUFBLElBQUtBLEVBQUVoSCxFQUFFLEtBQUs4STtvQkFDckQsTUFBTSxDQUFDN0ksS0FBSyxHQUFHZixxRUFBY0EsQ0FBQyxZQUFZO29CQUMxQyxNQUFNZ0ssY0FBZ0M7d0JBQUVsSixJQUFJd0ksS0FBS3hJLEVBQUU7d0JBQUVDO3dCQUFNOEksVUFBVUE7d0JBQVdJLFdBQVdILGFBQWFJLEVBQUU7b0JBQUM7b0JBRTNHOUcsYUFBYStHLENBQUFBO3dCQUNULE1BQU1DLG1CQUFtQkQsQ0FBQyxDQUFDUCxhQUF1QixJQUFJLEVBQUU7d0JBQ3hELE9BQU87NEJBQUUsR0FBR08sQ0FBQzs0QkFBRSxDQUFDUCxhQUF1QixFQUFFO21DQUFJUTtnQ0FBa0JKOzZCQUFZO3dCQUFDO29CQUNoRjtvQkFFQSxJQUFJUixlQUFlQSxZQUFZdEMsTUFBTSxHQUFHLEdBQUc7d0JBQ3ZDc0IsU0FBUyxHQUFxRHpILE9BQWxEeUksWUFBWXRDLE1BQU0sRUFBQyxpQ0FBOEM0QyxPQUFmL0ksTUFBSyxZQUE0QixPQUFsQitJLGFBQWEvSSxJQUFJLEVBQUMsTUFBSStJLGFBQWFPLE1BQU07d0JBQ3RIdkcsa0JBQWtCLG1CQUF3QixPQUFML0MsTUFBSztvQkFDOUM7b0JBQ0E7Z0JBQ0o7WUFDQSxLQUFLO2dCQUFVO1lBQ2YsS0FBSztnQkFBa0I7b0JBQ25CLE1BQU0sRUFBRXVKLEtBQUssRUFBRSxHQUFHaEIsS0FBS0MsT0FBTztvQkFDOUIsTUFBTWdCLG1CQUFtQnZLLHFFQUFjQSxDQUFDLFlBQVlzSztvQkFDcEQsTUFBTUUsZUFBMkJELGlCQUFpQjVDLEdBQUcsQ0FBQzVHLENBQUFBLE9BQVM7NEJBQUVELElBQUksR0FBaUJDLE9BQWQ4RixLQUFLQyxHQUFHLElBQUcsS0FBUSxPQUFML0Y7NEJBQVFBOzRCQUFNNEksYUFBYTt3QkFBSztvQkFDdEgxRyxTQUFTa0gsQ0FBQUEsSUFBTTs0QkFBRSxHQUFHQSxDQUFDOzRCQUFFakgsV0FBVzttQ0FBSWlILEVBQUVqSCxTQUFTO21DQUFLc0g7NkJBQWE7d0JBQUM7b0JBQ3BFaEMsU0FBUyxHQUFTLE9BQU44QixPQUFNLGtEQUFnRDtvQkFDbEV4RyxrQkFBa0IsR0FBUyxPQUFOd0csT0FBTTtvQkFDM0I7Z0JBQ0o7WUFDQSxLQUFLO2dCQUFrQjtvQkFDbEIsTUFBTSxFQUFFRyxRQUFRLEVBQUVILEtBQUssRUFBRSxHQUFHaEIsS0FBS0MsT0FBTztvQkFDeEMsTUFBTW1CLFdBQVc3SixVQUFVa0osSUFBSSxDQUFDWSxDQUFBQSxJQUFLQSxFQUFFN0osRUFBRSxLQUFLMko7b0JBQzlDLE1BQU1HLGVBQWU1SyxxRUFBY0EsQ0FBQyxXQUFXc0s7b0JBQy9DLE1BQU1PLFdBQTJCRCxhQUFhakQsR0FBRyxDQUFDNUcsQ0FBQUEsT0FBUzs0QkFBRUQsSUFBSSxHQUFpQjJKLE9BQWQ1RCxLQUFLQyxHQUFHLElBQUcsS0FBZS9GLE9BQVowSixVQUFTLEtBQVEsT0FBTDFKOzRCQUFRQTs0QkFBTStKLE9BQU87NEJBQUlMLFVBQVVBO3dCQUFVO29CQUMzSXhILFNBQVNrSCxDQUFBQSxJQUFNOzRCQUFFLEdBQUdBLENBQUM7NEJBQUVoSCxVQUFVO21DQUFJZ0gsRUFBRWhILFFBQVE7bUNBQUswSDs2QkFBUzt3QkFBQztvQkFDOURyQyxTQUFTLEdBQVlrQyxPQUFUSixPQUFNLEtBQWlCLE9BQWRJLFNBQVMzSixJQUFJLEVBQUMsMkJBQXlCMEo7b0JBQzVEM0csa0JBQWtCLEdBQWdCNEcsT0FBYkosT0FBTSxTQUFxQixPQUFkSSxTQUFTM0osSUFBSSxFQUFDO29CQUNoRDtnQkFDTDtZQUNBLEtBQUs7Z0JBQWU7b0JBQ2hCLE1BQU1nSyxlQUFlN0YsbUJBQW1COEYsU0FBUyxDQUFDdkQsQ0FBQUEsTUFBT0EsSUFBSTFHLElBQUksS0FBS3NDO29CQUN0RSxNQUFNNEgsWUFBWS9GLGtCQUFrQixDQUFDNkYsZUFBZSxFQUFFLElBQUk7d0JBQUVoSyxNQUFNO3dCQUFrQkMsYUFBYTtvQkFBNEQ7b0JBQzdKc0MsY0FBYzJILFVBQVVsSyxJQUFJO29CQUM1QnlILFNBQVMsNEJBQTJDLE9BQWZ5QyxVQUFVbEssSUFBSSxFQUFDLE1BQUk7b0JBQ3hEeUgsU0FBU3lDLFVBQVVqSyxXQUFXLEVBQUU7b0JBQ2hDOEMsa0JBQWtCLGtCQUFpQyxPQUFmbUgsVUFBVWxLLElBQUksRUFBQztvQkFDbkQ7Z0JBQ0o7UUFDSjtJQUNKLEdBQUc7UUFBQ3NDO1FBQVltRjtRQUFVdEQ7UUFBb0JFO0tBQWE7SUFFM0QvRixnREFBU0EsQ0FBQztRQUNOLElBQUlvRCxjQUFjbEQsOENBQVVBLENBQUN3SSxPQUFPLEVBQUU7WUFDbEMsSUFBSWhCLGtCQUFrQkUsT0FBTyxFQUFFaUUscUJBQXFCbkUsa0JBQWtCRSxPQUFPO1lBQzdFO1FBQ0o7UUFFQSxNQUFNa0UsV0FBVztZQUNiLE1BQU1yRSxNQUFNRCxLQUFLQyxHQUFHO1lBQ3BCLE1BQU1zRSxZQUFZdEUsTUFBTUYsWUFBWUssT0FBTztZQUMzQ0wsWUFBWUssT0FBTyxHQUFHSDtZQUV0QixJQUFJdUUsaUJBQTZCLEVBQUU7WUFDbkMsSUFBSUMseUJBQXlDLENBQUM7WUFFOUN0RyxlQUFlcUQsQ0FBQUE7b0JBQ2VBLHFCQUNRQTtnQkFEbEMsTUFBTWtELHFCQUFvQmxELHNCQUFBQSxLQUFLcEQsYUFBYSxjQUFsQm9ELDBDQUFBQSxvQkFBb0JiLE1BQU0sQ0FBQ00sQ0FBQUEsSUFBS0EsRUFBRTBELE9BQU8sR0FBRzFFO2dCQUN0RSxJQUFJeUUsQ0FBQUEsOEJBQUFBLHdDQUFBQSxrQkFBbUJyRSxNQUFNLFFBQUttQix1QkFBQUEsS0FBS3BELGFBQWEsY0FBbEJvRCwyQ0FBQUEscUJBQW9CbkIsTUFBTSxHQUFFO29CQUMxRHNCLFNBQVMsMkNBQTJDO2dCQUN4RDtnQkFDQSxPQUFPO29CQUFFLEdBQUdILElBQUk7b0JBQUVwRCxlQUFlc0c7Z0JBQWtCO1lBQ3ZEO1lBRUEsTUFBTUUsa0JBQWtCaEgsWUFBWWtELEdBQUcsQ0FBQzJCLENBQUFBO2dCQUNwQyxJQUFJeEMsT0FBT3dDLEtBQUtvQyxTQUFTLEdBQUdwQyxLQUFLcUMsUUFBUSxFQUFFO29CQUN2Q04sZUFBZU8sSUFBSSxDQUFDdEM7b0JBQ3BCLE9BQU87Z0JBQ1g7Z0JBQ0EsSUFBSUEsS0FBS3pELElBQUksS0FBSyxVQUFVO3dCQUVGeUQsMkJBQUFBLGVBVU12RSxpQ0FBQUE7b0JBWDVCLE1BQU04RyxPQUFPbEgsY0FBY29GLElBQUksQ0FBQ3hCLENBQUFBOzRCQUFjZTsrQkFBVGYsRUFBRXpILEVBQUUsT0FBS3dJLGdCQUFBQSxLQUFLQyxPQUFPLGNBQVpELG9DQUFBQSxjQUFjd0MsY0FBYzs7b0JBQzFFLE1BQU1DLGdCQUFnQnpDLEVBQUFBLGdCQUFBQSxLQUFLQyxPQUFPLGNBQVpELHFDQUFBQSw0QkFBQUEsY0FBY0UsV0FBVyxjQUF6QkYsZ0RBQUFBLDBCQUEyQnBDLE1BQU0sS0FBSTtvQkFDM0QsSUFBSSxDQUFDMkUsUUFBUUUsa0JBQWtCLEdBQUc7d0JBQzlCVixlQUFlTyxJQUFJLENBQUN0Qzt3QkFBTyxPQUFPO29CQUN0QztvQkFDQSxNQUFNMEMsb0JBQW9CekssV0FBVyxDQUFDc0ssS0FBS2hHLElBQUksQ0FBQyxDQUFDckUsSUFBSTtvQkFDckQsSUFBSXlLLHFCQUFxQjtvQkFDekIsSUFBSXJKLHlCQUFBQSxtQ0FBQUEsYUFBY3NKLEtBQUssQ0FBQ0MsV0FBVyxHQUFHekMsUUFBUSxDQUFDbUMsS0FBS2hHLElBQUksQ0FBQ3NHLFdBQVcsS0FBSzt3QkFDckUsTUFBTUMsUUFBUXhKLGFBQWFzSixLQUFLLENBQUNFLEtBQUssQ0FBQzt3QkFDdkMsSUFBSUEsa0JBQUFBLDRCQUFBQSxLQUFPLENBQUMsRUFBRSxFQUFFSCxxQkFBcUIsSUFBS0ksU0FBU0QsS0FBSyxDQUFDLEVBQUUsRUFBRSxNQUFNO29CQUN2RTtvQkFDQSxNQUFNRSxzQkFBc0J2SCxFQUFBQSw2QkFBQUEsWUFBWUUsYUFBYSxjQUF6QkYsa0RBQUFBLGtDQUFBQSwyQkFBMkJnRixJQUFJLENBQUNqQyxDQUFBQSxJQUFLQSxFQUFFeUUsUUFBUSxLQUFLVixLQUFLaEcsSUFBSSxlQUE3RGQsc0RBQUFBLGdDQUFnRXlILFVBQVUsS0FBSTtvQkFDMUcsTUFBTUMscUJBQXFCVCxvQkFBb0JDLHFCQUFxQks7b0JBQ3BFaEIsc0JBQXNCLENBQUNPLEtBQUtoRyxJQUFJLENBQUMsR0FBRyxDQUFDeUYsc0JBQXNCLENBQUNPLEtBQUtoRyxJQUFJLENBQUMsSUFBSSxLQUFLLHFCQUFzQixPQUFRdUYsWUFBWVc7Z0JBQzdIO2dCQUNBLE9BQU96QztZQUNYLEdBQUc5QixNQUFNLENBQUNrRjtZQUVWLElBQUlDLE9BQU9DLElBQUksQ0FBQ3RCLHdCQUF3QnBFLE1BQU0sR0FBRyxHQUFHO2dCQUNoRHlCLGdCQUFnQjJDO2dCQUNoQjFHLGlCQUFpQmlJLENBQUFBLFlBQWFBLFVBQVVsRixHQUFHLENBQUNrRSxDQUFBQTt3QkFDeEMsTUFBTWlCLG9CQUFvQnhCLHNCQUFzQixDQUFDTyxLQUFLaEcsSUFBSSxDQUFDO3dCQUMzRCxJQUFJLENBQUNpSCxtQkFBbUIsT0FBT2pCO3dCQUMvQixNQUFNa0IsWUFBWWxCLEtBQUttQixNQUFNLEdBQUdGO3dCQUNoQyxJQUFJQyxhQUFhLEdBQUc7NEJBQ2hCLE1BQU1FLFNBQVMsVUFBa0IsT0FBUnBCLEtBQUsvSyxFQUFFOzRCQUNoQyxNQUFNd0ksT0FBT21DLGdCQUFnQjFCLElBQUksQ0FBQ21ELENBQUFBLElBQUtBLEVBQUVwTSxFQUFFLEtBQUttTTs0QkFDaEQsSUFBRzNELE1BQU07b0NBQ09BLDJCQUFBQTtnQ0FBWmQsU0FBUyxHQUFvRXFELE9BQWpFdkMsRUFBQUEsZ0JBQUFBLEtBQUtDLE9BQU8sY0FBWkQscUNBQUFBLDRCQUFBQSxjQUFjRSxXQUFXLGNBQXpCRixnREFBQUEsMEJBQTJCcEMsTUFBTSxLQUFJLEdBQUUsNEJBQXVEaUIsT0FBN0IwRCxLQUFLaEcsSUFBSSxFQUFDLHFCQUE4Q2dHLE9BQTNCMUQsS0FBS2dGLEtBQUssQ0FBQ3RCLEtBQUttQixNQUFNLEdBQUUsS0FBYSxPQUFWbkIsS0FBS2hHLElBQUksRUFBQyxNQUFJZ0csS0FBS2hHLElBQUk7Z0NBQzVKL0Isa0JBQWtCLEtBQWUsT0FBVitILEtBQUtoRyxJQUFJLEVBQUM7Z0NBQ2pDd0YsZUFBZU8sSUFBSSxDQUFDdEM7NEJBQ3hCOzRCQUNBLE9BQU87d0JBQ1g7d0JBQ0EsT0FBTzs0QkFBRSxHQUFHdUMsSUFBSTs0QkFBRW1CLFFBQVFEO3dCQUFVO29CQUN4QyxHQUFHdkYsTUFBTSxDQUFDa0Y7WUFDZDtZQUVBLE1BQU1VLG1CQUFtQjNCLGdCQUFnQmpFLE1BQU0sQ0FBQzBGLENBQUFBLElBQUssQ0FBQzdCLGVBQWVnQyxJQUFJLENBQUNDLENBQUFBLEtBQU1BLEdBQUd4TSxFQUFFLEtBQUtvTSxFQUFFcE0sRUFBRTtZQUM5RjRELGVBQWUwSTtZQUNmLElBQUkvQixlQUFlbkUsTUFBTSxHQUFHLEdBQUdtRSxlQUFla0MsT0FBTyxDQUFDbEU7WUFFdER0QyxrQkFBa0JFLE9BQU8sR0FBR3VHLHNCQUFzQnJDO1FBQ3REO1FBQ0FwRSxrQkFBa0JFLE9BQU8sR0FBR3VHLHNCQUFzQnJDO1FBQ2xELE9BQU87WUFBUSxJQUFJcEUsa0JBQWtCRSxPQUFPLEVBQUVpRSxxQkFBcUJuRSxrQkFBa0JFLE9BQU87UUFBRztJQUNuRyxHQUFHO1FBQUN4RTtRQUFXZ0M7UUFBYUU7UUFBZTBFO1FBQXNCYjtRQUFVRztRQUFpQjNGLE1BQU1FLFNBQVM7UUFBRU47UUFBY21DO0tBQVk7SUFFdkksTUFBTTBJLGlCQUFpQnJPLGtEQUFXQSxDQUFDO1FBQy9CLElBQUksQ0FBQ3dELGdCQUFnQmEsY0FBYztRQUNuQyxNQUFNaUssUUFBUWpPLCtFQUFzQkE7UUFDcENpRSxnQkFBZ0JnSztRQUNoQjVKLGtCQUFrQjtJQUN0QixHQUFHO1FBQUNsQjtRQUFjYTtLQUFhO0lBRS9CLE1BQU1rSyxvQkFBb0J2TyxrREFBV0EsQ0FBQztRQUNsQyxJQUFJdUgsY0FBY00sT0FBTyxFQUFFaUMsYUFBYXZDLGNBQWNNLE9BQU87UUFDN0ROLGNBQWNNLE9BQU8sR0FBR2tDLFdBQVcsSUFBTXNFLGtCQUFrQixDQUFDLEtBQUt0RixLQUFLQyxNQUFNLEtBQUssRUFBQyxJQUFLO0lBQzNGLEdBQUc7UUFBQ3FGO0tBQWU7SUFFbkIsTUFBTUcsd0JBQXdCLENBQUNDO1FBQzNCLE1BQU1DLFFBQXdCLEVBQUU7UUFDaEMsTUFBTUMsUUFBNEI7WUFBQztZQUFRO1lBQVE7WUFBUTtTQUFRO1FBQ25FLE1BQU1DLFdBQVcsS0FBSzdGLEtBQUtnRixLQUFLLENBQUNoRixLQUFLQyxNQUFNLEtBQUs7UUFDakQsSUFBSyxJQUFJNkYsSUFBSSxHQUFHQSxJQUFJRCxVQUFVQyxJQUFLO1lBQy9CLElBQUlDO1lBQ0osR0FBRztnQkFBRUEsTUFBTTtvQkFBRUMsR0FBR2hHLEtBQUtnRixLQUFLLENBQUNoRixLQUFLQyxNQUFNLEtBQUtqRyxlQUFlQyxLQUFLO29CQUFHZ00sR0FBR2pHLEtBQUtnRixLQUFLLENBQUNoRixLQUFLQyxNQUFNLEtBQUtqRyxlQUFlRSxNQUFNO2dCQUFFO1lBQUUsUUFBU3dMLGtCQUFrQlEsR0FBRyxDQUFDLEdBQVlILE9BQVRBLElBQUlDLENBQUMsRUFBQyxLQUFTLE9BQU5ELElBQUlFLENBQUMsSUFBSztZQUM5S1Asa0JBQWtCUyxHQUFHLENBQUMsR0FBWUosT0FBVEEsSUFBSUMsQ0FBQyxFQUFDLEtBQVMsT0FBTkQsSUFBSUUsQ0FBQztZQUN2QyxNQUFNdkksT0FBT2tJLEtBQUssQ0FBQzVGLEtBQUtnRixLQUFLLENBQUNoRixLQUFLQyxNQUFNLEtBQUsyRixNQUFNN0csTUFBTSxFQUFFO1lBQzVENEcsTUFBTWxDLElBQUksQ0FBQztnQkFBRTlLLElBQUksR0FBc0JtTixPQUFuQnBILEtBQUtDLEdBQUcsSUFBRyxVQUFVLE9BQUZtSDtnQkFBS3BJO2dCQUFNZ0UsVUFBVXFFO2dCQUFLbEIsUUFBUTdFLEtBQUtnRixLQUFLLENBQUNoRixLQUFLQyxNQUFNLEtBQUssUUFBUTtZQUFJO1FBQ3BIO1FBQ0EsT0FBTzBGO0lBQ1g7SUFFQSxNQUFNUyxxQkFBcUIsT0FBT0M7WUFlaEJ0SjtRQWRkLElBQUlmLFNBQVN1RixRQUFRLENBQUM4RSxXQUFXO1lBQUV2RyxnQkFBZ0IsaUJBQTBCLE9BQVR1RyxVQUFTO1lBQXFCO1FBQVE7UUFDMUc5TCxhQUFhbkQsOENBQVVBLENBQUNrUCxPQUFPO1FBQy9CbkssbUJBQW1Ca0s7UUFDbkIsTUFBTXBIO1FBQ04sTUFBTXNILE1BQU1sUCxrRkFBeUJBO1FBQ3JDcUQsZ0JBQWdCNkw7UUFDaEIzTCxhQUFhO1lBQUU3QixNQUFNO1lBQUtJLE1BQU07WUFBS0gsTUFBTTtZQUFJTSxPQUFPO1FBQUk7UUFDMUQsTUFBTWtOLG1CQUFtQjNPLHFFQUFjQSxDQUFDLFlBQVksR0FBRzJILEdBQUcsQ0FBQzVHLENBQUFBLE9BQVM7Z0JBQUVELElBQUksR0FBaUJDLE9BQWQ4RixLQUFLQyxHQUFHLElBQUcsS0FBUSxPQUFML0Y7Z0JBQVFBO2dCQUFNNEksYUFBYTtZQUFLO1FBQzNIMUcsU0FBUztZQUFFQyxXQUFXeUw7WUFBa0J4TCxVQUFVLEVBQUU7UUFBQztRQUNyRCxNQUFNeUwsYUFBYTtZQUFFVCxHQUFHaEcsS0FBS2dGLEtBQUssQ0FBQ2hMLGVBQWVDLEtBQUssR0FBRztZQUFJZ00sR0FBR2pHLEtBQUtnRixLQUFLLENBQUNoTCxlQUFlRSxNQUFNLEdBQUc7UUFBRztRQUN2RyxNQUFNd00sU0FBU3pKLGFBQWEyRSxJQUFJLENBQUNqQyxDQUFBQSxJQUFLQSxFQUFFaEgsRUFBRSxLQUFLO1FBQy9DLE1BQU1nTyxZQUFZO1lBQUVoTyxJQUFJLEdBQWMsT0FBWCtGLEtBQUtDLEdBQUcsSUFBRztZQUFNL0YsTUFBTWYscUVBQWNBLENBQUMsWUFBWSxFQUFFLENBQUMsRUFBRTtZQUFFNkosVUFBVStFO1lBQVkzRSxXQUFXNEUsT0FBTzNFLEVBQUU7UUFBQztRQUMvSDlHLGFBQWE7WUFBQyxHQUFHMUIscUJBQXFCO1lBQUVRLFlBQVk7Z0JBQUM0TTthQUFVO1FBQUE7UUFDL0RsSyxpQkFBaUJnSixzQkFBc0IsSUFBSW1CLElBQUk7WUFBRSxHQUFrQkgsT0FBaEJBLFdBQVdULENBQUMsRUFBQyxLQUFnQixPQUFiUyxXQUFXUixDQUFDO1NBQUc7UUFDbEY5SyxjQUFjNEIsRUFBQUEsdUJBQUFBLGtCQUFrQixDQUFDLEVBQUUsY0FBckJBLDJDQUFBQSxxQkFBdUJuRSxJQUFJLEtBQUl1QixhQUFhLENBQUMsRUFBRSxDQUFDdkIsSUFBSTtRQUNsRXlDLFdBQVcsRUFBRTtRQUFHRSxnQkFBZ0I7UUFBT1Esc0JBQXNCO1FBQVFRLGVBQWUsRUFBRTtRQUFHSSxhQUFhLEVBQUU7UUFBR0UsZUFBZTtZQUFFQyxlQUFlLEVBQUU7UUFBQztRQUM5SXVELFNBQVMsR0FBWSxPQUFUa0csSUFBSTNOLElBQUksRUFBQyx1QkFBcUI7UUFDMUN5SCxTQUFTLHdCQUF3QjtRQUNqQzlGLGFBQWFuRCw4Q0FBVUEsQ0FBQ3dJLE9BQU87UUFDL0JqRSxrQkFBa0I7UUFDbEJzRDtJQUNKO0lBRUEsTUFBTTRILGlCQUFpQjVQLGtEQUFXQSxDQUFDLENBQUNxRztZQUFrQ3pDO2VBQUYsQ0FBQyxHQUFDQSx3QkFBQUEsTUFBTUUsU0FBUyxDQUFDNkcsSUFBSSxDQUFDTixDQUFBQSxJQUFLQSxFQUFFM0ksRUFBRSxLQUFLMkUseUJBQW5DekMsNENBQUFBLHNCQUFnRDJHLFdBQVc7T0FBRTtRQUFDM0csTUFBTUUsU0FBUztLQUFDO0lBRXBKLE1BQU0rTCx5QkFBeUI3UCxrREFBV0EsQ0FBQyxDQUFDcUc7WUFLZ0JMLG9CQUNGVDtRQUx0RCxNQUFNdUssV0FBV2xNLE1BQU1FLFNBQVMsQ0FBQzZHLElBQUksQ0FBQ04sQ0FBQUEsSUFBS0EsRUFBRTNJLEVBQUUsS0FBSzJFO1FBQ3BELElBQUksRUFBQ3lKLHFCQUFBQSwrQkFBQUEsU0FBVXZGLFdBQVcsR0FBRSxPQUFPO1FBQ25DLE1BQU1MLE9BQU83RSxZQUFZc0YsSUFBSSxDQUFDbUQsQ0FBQUEsSUFBS0EsRUFBRXBNLEVBQUUsS0FBS29PLFNBQVN2RixXQUFXO1FBQ2hFLElBQUksQ0FBQ0wsTUFBTSxPQUFPO1FBQ2xCLElBQUlBLEtBQUt6RCxJQUFJLEtBQUssU0FBUyxPQUFPLHNCQUF3RyxPQUFsRlQsRUFBQUEscUJBQUFBLGFBQWEyRSxJQUFJLENBQUNqQyxDQUFBQSxJQUFLQSxFQUFFaEgsRUFBRSxLQUFLd0ksS0FBS0MsT0FBTyxDQUFFSyxZQUFZLGVBQTFEeEUseUNBQUFBLG1CQUE2RHJFLElBQUksS0FBSTtRQUM3SCxJQUFJdUksS0FBS3pELElBQUksS0FBSyxVQUFVLE9BQU8sbUJBQXVHLE9BQXBGbEIsRUFBQUEsc0JBQUFBLGNBQWNvRixJQUFJLENBQUN4QixDQUFBQSxJQUFLQSxFQUFFekgsRUFBRSxLQUFLd0ksS0FBS0MsT0FBTyxDQUFFdUMsY0FBYyxlQUE3RG5ILDBDQUFBQSxvQkFBZ0VrQixJQUFJLEtBQUk7UUFDOUgsT0FBTztJQUNYLEdBQUc7UUFBQ3BCO1FBQWFFO1FBQWUzQixNQUFNRSxTQUFTO1FBQUVrQztLQUFhO0lBRTlELE1BQU0rSixtQkFBbUIsT0FBT1g7UUFDNUIsTUFBTXBIO1FBQ04sTUFBTWdJLGFBQWEsTUFBTXpQLGtFQUFhQSxDQUFDNk87UUFDdkMsSUFBSVksWUFBWTtZQUNaMU0sYUFBYW5ELDhDQUFVQSxDQUFDa1AsT0FBTztZQUMvQm5LLG1CQUFtQmtLO1lBQ25CM0wsZ0JBQWdCdU0sV0FBV3hNLFlBQVk7WUFDdkNHLGFBQWFxTSxXQUFXdE0sU0FBUztZQUNqQyxNQUFNdU0sb0JBQW9CLENBQUNELFdBQVdwTSxLQUFLLENBQUNFLFNBQVMsSUFBSSxFQUFFLEVBQUV5RSxHQUFHLENBQUM4QixDQUFBQSxJQUFNO29CQUFDLEdBQUdBLENBQUM7b0JBQUVFLGFBQWFGLEVBQUVFLFdBQVcsS0FBSzJGLFlBQVk3RixFQUFFRSxXQUFXLEdBQUc7Z0JBQUk7WUFDN0ksTUFBTTRGLGdCQUFnQixDQUFDSCxXQUFXM0ssV0FBVyxJQUFJLEVBQUUsRUFBRWtELEdBQUcsQ0FBQ3VGLENBQUFBO29CQUE0QkE7dUJBQXZCQSxFQUFFckgsSUFBSSxLQUFLLFdBQVcsR0FBQ3FILGFBQUFBLEVBQUUzRCxPQUFPLGNBQVQyRCxpQ0FBQUEsV0FBVzFELFdBQVcsSUFBRztvQkFBRSxHQUFHMEQsQ0FBQztvQkFBRTNELFNBQVM7d0JBQUUsR0FBRzJELEVBQUUzRCxPQUFPO3dCQUFFQyxhQUFhLEVBQUU7b0JBQUM7Z0JBQUUsSUFBSTBEOztZQUNyS3FDLGNBQWNoQyxPQUFPLENBQUNqRSxDQUFBQTtvQkFBUUEsMkJBQUFBO3dCQUFBQSxnQkFBQUEsS0FBS0MsT0FBTyxjQUFaRCxxQ0FBQUEsNEJBQUFBLGNBQWNFLFdBQVcsY0FBekJGLGdEQUFBQSwwQkFBMkJpRSxPQUFPLENBQUNpQyxDQUFBQTtvQkFBUyxNQUFNL0YsSUFBSTRGLGtCQUFrQnRGLElBQUksQ0FBQ04sQ0FBQUEsSUFBS0EsRUFBRTNJLEVBQUUsS0FBSzBPO29CQUFNLElBQUcvRixHQUFHQSxFQUFFRSxXQUFXLEdBQUdMLEtBQUt4SSxFQUFFO2dCQUFFOztZQUM5Sm1DLFNBQVM7Z0JBQUUsR0FBR21NLFdBQVdwTSxLQUFLO2dCQUFFRSxXQUFXbU07WUFBa0I7WUFFN0QsTUFBTUksb0JBQW9CRixjQUFjL0gsTUFBTSxDQUFDMEYsQ0FBQUEsSUFBS0EsRUFBRXJILElBQUksS0FBSztZQUMvRCxNQUFNNkosZ0JBQWdCLElBQUlYLElBQUk7bUJBQUlwQyxPQUFPZ0QsTUFBTSxDQUFDUCxXQUFXNU0sU0FBUyxJQUFJLENBQUMsR0FBR29OLElBQUksR0FBR2pJLEdBQUcsQ0FBQyxDQUFDRyxJQUFXLEdBQW1CQSxPQUFoQkEsRUFBRStCLFFBQVEsQ0FBQ3NFLENBQUMsRUFBQyxLQUFnQixPQUFickcsRUFBRStCLFFBQVEsQ0FBQ3VFLENBQUM7bUJBQVFxQixrQkFBa0I5SCxHQUFHLENBQUN1RixDQUFBQSxJQUFLLEdBQTZCQSxPQUExQkEsRUFBRTNELE9BQU8sQ0FBRU0sUUFBUSxDQUFFc0UsQ0FBQyxFQUFDLEtBQTBCLE9BQXZCakIsRUFBRTNELE9BQU8sQ0FBRU0sUUFBUSxDQUFFdUUsQ0FBQzthQUFJO1lBQzVOLElBQUl5QixpQkFBaUI7Z0JBQUUsR0FBR25PLHFCQUFxQjtnQkFBRSxHQUFJME4sV0FBVzVNLFNBQVMsSUFBSSxDQUFDLENBQUM7WUFBRTtZQUNqRm1LLE9BQU9DLElBQUksQ0FBQ2lELGdCQUFnQnRDLE9BQU8sQ0FBQ3VDLENBQUFBO2dCQUNoQyxNQUFNQyxPQUFPM0ssYUFBYTJFLElBQUksQ0FBQ2pDLENBQUFBLElBQUtBLEVBQUVoSCxFQUFFLEtBQUtnUDtnQkFDN0MsSUFBR0MsTUFBTUYsY0FBYyxDQUFDQyxNQUFNLEdBQUdELGNBQWMsQ0FBQ0MsTUFBTSxDQUFDbkksR0FBRyxDQUFDRyxDQUFBQSxJQUFNO3dCQUFFLEdBQUdBLENBQUM7d0JBQUVtQyxXQUFXbkMsRUFBRW1DLFNBQVMsS0FBS3FGLFlBQVlTLEtBQUs3RixFQUFFLEdBQUdwQyxFQUFFbUMsU0FBUztvQkFBQztZQUMxSTtZQUNBLElBQUksQ0FBQzRGLGVBQWUzTixVQUFVLElBQUkyTixlQUFlM04sVUFBVSxDQUFDZ0YsTUFBTSxLQUFLLEdBQUc7Z0JBQ3RFLElBQUk4SSxRQUFRO29CQUFFN0IsR0FBRztvQkFBSUMsR0FBRztnQkFBRTtnQkFBRyxNQUFPc0IsY0FBY3JCLEdBQUcsQ0FBQyxHQUFjMkIsT0FBWEEsTUFBTTdCLENBQUMsRUFBQyxLQUFXLE9BQVI2QixNQUFNNUIsQ0FBQyxHQUFLO29CQUFFNEIsTUFBTTdCLENBQUM7Z0JBQUk7Z0JBQzdGLE1BQU1VLFNBQVN6SixhQUFhMkUsSUFBSSxDQUFDakMsQ0FBQUEsSUFBS0EsRUFBRWhILEVBQUUsS0FBSztnQkFDL0MrTyxlQUFlM04sVUFBVSxHQUFHO29CQUFDO3dCQUFFcEIsSUFBSSxHQUFjLE9BQVgrRixLQUFLQyxHQUFHLElBQUc7d0JBQU0vRixNQUFNZixxRUFBY0EsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxFQUFFO3dCQUFFNkosVUFBVW1HO3dCQUFPL0YsV0FBVzRFLE9BQU8zRSxFQUFFO29CQUFDO2lCQUFFO2dCQUN2SXdGLGNBQWNwQixHQUFHLENBQUMsR0FBYzBCLE9BQVhBLE1BQU03QixDQUFDLEVBQUMsS0FBVyxPQUFSNkIsTUFBTTVCLENBQUM7WUFDM0M7WUFDQWhMLGFBQWF5TTtZQUViakwsaUJBQWlCLENBQUN3SyxXQUFXekssYUFBYSxJQUFJLEVBQUUsRUFBRXVDLE1BQU0sS0FBSyxJQUFJMEcsc0JBQXNCOEIsaUJBQWtCTixXQUFXekssYUFBYSxJQUFJLEVBQUU7WUFDdklyQixjQUFjOEwsV0FBVy9MLFVBQVU7WUFBR0csV0FBVzRMLFdBQVc3TCxPQUFPO1lBQUdtQixlQUFlNks7WUFDckZ6SyxhQUFhc0ssV0FBV3ZLLFNBQVMsSUFBSSxFQUFFO1lBQUdHLGVBQWVvSyxXQUFXckssV0FBVyxJQUFJO2dCQUFFRSxlQUFlLEVBQUU7WUFBQztZQUN2R3ZCLGdCQUFnQjtZQUFPSSxrQkFBa0I7WUFDekNwQixhQUFhbkQsOENBQVVBLENBQUN3SSxPQUFPO1FBQ25DLE9BQU87WUFDSEUsZ0JBQWdCLHNDQUErQyxPQUFUdUcsVUFBUztRQUNuRTtJQUNKO0lBRUFuUCxnREFBU0EsQ0FBQztRQUNOLElBQUlvRCxjQUFjbEQsOENBQVVBLENBQUN3SSxPQUFPLEVBQUU7UUFDdEMsSUFBSSxDQUFDdEUsY0FBY2tLO2FBQ2QsSUFBSWhILGNBQWNNLE9BQU8sRUFBRWlDLGFBQWF2QyxjQUFjTSxPQUFPO1FBQ2xFLE9BQU87WUFBUSxJQUFJTixjQUFjTSxPQUFPLEVBQUVpQyxhQUFhdkMsY0FBY00sT0FBTztRQUFHO0lBQ25GLEdBQUc7UUFBQ3hFO1FBQVdnQjtRQUFja0s7S0FBa0I7SUFFL0MsTUFBTXNDLG9CQUFvQixDQUFDQztRQUN2QixJQUFJQSxPQUFPalAsSUFBSSxFQUFFO1lBQ2IsTUFBTWtQLFVBQVUsT0FBUXZELElBQUksQ0FBQ3NELE9BQU9qUCxJQUFJLEVBQTBCdUcsTUFBTSxDQUFDNEksQ0FBQUEsTUFBT3ROLFNBQVMsQ0FBQ3NOLElBQUksR0FBSUYsQ0FBQUEsT0FBT2pQLElBQUksQ0FBRW1QLElBQUksSUFBSTtZQUN2SCxJQUFJRCxRQUFRakosTUFBTSxHQUFHLEdBQUc7Z0JBQUVlLGdCQUFnQixvQ0FBdUQsT0FBbkJrSSxRQUFRRSxJQUFJLENBQUMsT0FBTTtnQkFBSztZQUFRO1lBQzlHMUgsZ0JBQWdCZ0UsT0FBTzJELE9BQU8sQ0FBQ0osT0FBT2pQLElBQUksRUFBRXNQLE1BQU0sQ0FBQyxDQUFDQztvQkFBSyxDQUFDQyxHQUFHaEgsRUFBRTt1QkFBTTtvQkFBQyxHQUFHK0csR0FBRztvQkFBRSxDQUFDQyxFQUFFLEVBQUUsQ0FBQ2hIO2dCQUFDO2VBQUksQ0FBQztRQUM5RjtRQUNBLE1BQU1pSCxZQUFZUixPQUFPUyxhQUFhLEtBQUtyQixhQUFhbkgsS0FBS0MsTUFBTSxLQUFLOEgsT0FBT1MsYUFBYTtRQUM1RixNQUFNQyxVQUFVRixZQUFZUixPQUFPVyxjQUFjLEdBQUdYLE9BQU9ZLGNBQWM7UUFDekUsSUFBSSxDQUFDRixTQUFTO1lBQUVsTixnQkFBZ0I7WUFBT2lLO1lBQXFCO1FBQVE7UUFFcEUsSUFBSW9ELGFBQWEsY0FBd0NMLE9BQTFCUixPQUFPYyxJQUFJLEVBQUMsZ0JBQW9ESixPQUF0Q0YsWUFBWSxZQUFZLFdBQVUsTUFBZ0IsT0FBWkUsUUFBUUssR0FBRztRQUMxR0wsUUFBUU0sT0FBTyxDQUFDM0QsT0FBTyxDQUFDLENBQUM0RDtZQUNyQixJQUFJQSxPQUFPdEwsSUFBSSxLQUFLLFlBQVk7Z0JBQzVCLE1BQU1tSCxTQUFTb0UsTUFBTUMsT0FBTyxDQUFDRixPQUFPbkUsTUFBTSxJQUFJN0UsS0FBS2dGLEtBQUssQ0FBQ2hGLEtBQUtDLE1BQU0sS0FBTStJLENBQUFBLE9BQU9uRSxNQUFNLENBQUMsRUFBRSxHQUFHbUUsT0FBT25FLE1BQU0sQ0FBQyxFQUFFLEdBQUcsTUFBTW1FLE9BQU9uRSxNQUFNLENBQUMsRUFBRSxHQUFHbUUsT0FBT25FLE1BQU07Z0JBQ3RKLElBQUlBLFdBQVcsR0FBRztvQkFBRXJFLGdCQUFnQjt3QkFBRSxDQUFDd0ksT0FBTzVFLFFBQVEsQ0FBQyxFQUFFUztvQkFBTztvQkFBSStELGNBQWMsUUFBMEM1SSxPQUFsQzZFLFNBQVMsSUFBSSxXQUFXLFFBQU8sS0FBdUJtRSxPQUFwQmhKLEtBQUttSixHQUFHLENBQUN0RSxTQUFRLEtBQW1CLE9BQWhCbUUsT0FBTzVFLFFBQVEsRUFBQztnQkFBSTtZQUN4SyxPQUFPLElBQUk0RSxPQUFPdEwsSUFBSSxLQUFLLFFBQVE7Z0JBQy9CLE1BQU0wTCxXQUFXdFIseURBQVUsQ0FBQ2tSLE9BQU9LLE1BQU0sQ0FBQztnQkFDMUMsSUFBSUQsVUFBVTtvQkFDVixNQUFNRSxXQUFXTCxNQUFNTSxJQUFJLENBQUM7d0JBQUN4SyxRQUFRaUssT0FBT25FLE1BQU07b0JBQUEsR0FBRyxDQUFDMkUsR0FBRzFELElBQU87NEJBQUUsR0FBR3NELFFBQVE7NEJBQUV6USxJQUFJLEdBQW9CK0YsT0FBakJzSyxPQUFPSyxNQUFNLEVBQUMsS0FBaUJ2RCxPQUFkcEgsS0FBS0MsR0FBRyxJQUFHLEtBQUssT0FBRm1IO3dCQUFJO29CQUN6SG5KLGFBQWF1RCxDQUFBQSxPQUFROytCQUFJQTsrQkFBU29KO3lCQUFTO29CQUMzQ1YsY0FBYyxpQkFBbUNRLE9BQWxCSixPQUFPbkUsTUFBTSxFQUFDLE1BQWtCLE9BQWR1RSxTQUFTeFEsSUFBSSxFQUFDO2dCQUNuRTtZQUNKLE9BQU8sSUFBSW9RLE9BQU90TCxJQUFJLEtBQUssVUFBVXNMLE9BQU8xRyxRQUFRLEtBQUssWUFBWTtnQkFDakUsTUFBTUQsZUFBZXhLLHFFQUFjQSxDQUFDLFlBQVltUixPQUFPbkUsTUFBTSxFQUFFckYsR0FBRyxDQUFDNUcsQ0FBQUEsT0FBUzt3QkFBRUQsSUFBSSxHQUFpQkMsT0FBZDhGLEtBQUtDLEdBQUcsSUFBRyxLQUFRLE9BQUwvRjt3QkFBUUE7d0JBQU00SSxhQUFhO29CQUFLO2dCQUNuSTFHLFNBQVNrSCxDQUFBQSxJQUFNO3dCQUFFLEdBQUdBLENBQUM7d0JBQUVqSCxXQUFXOytCQUFJaUgsRUFBRWpILFNBQVM7K0JBQUtzSDt5QkFBYTtvQkFBQztnQkFDcEV1RyxjQUFjLGVBQTZCLE9BQWRJLE9BQU9uRSxNQUFNLEVBQUM7WUFDL0M7UUFDSjtRQUVBeEUsU0FBU3VJLFlBQVk7UUFBVWpOLGtCQUFrQjhNLFFBQVFLLEdBQUc7UUFBR3ZOLGdCQUFnQjtRQUFPaUs7SUFDMUY7SUFFQSxNQUFNaUUsc0JBQXNCLENBQUNuTSxZQUFvQm9NO1FBQzdDLElBQUk3QyxlQUFldkosYUFBYTtZQUFFd0MsZ0JBQWdCO1lBQW1DO1FBQVE7UUFDN0YxQyxtQkFBbUI7WUFBRUMsUUFBUTtZQUFNQztZQUFZQyxZQUFZbU07UUFBSztRQUNoRWpNLHVCQUF1QjtZQUFFSixRQUFRO1lBQU9LLE1BQU07WUFBTUgsWUFBWTtRQUFLO0lBQ3pFO0lBRUEsTUFBTW9NLHVCQUF1QixDQUFDQztZQUlLdlA7UUFIL0IsTUFBTWlELGFBQWFILGdCQUFnQkcsVUFBVTtRQUFFLElBQUksQ0FBQ0EsWUFBWTtRQUNoRSxNQUFNcUUsZUFBZTFFLGFBQWEyRSxJQUFJLENBQUNqQyxDQUFBQSxJQUFLQSxFQUFFaEgsRUFBRSxLQUFLaVI7UUFBYSxJQUFJLENBQUNqSSxjQUFjO1FBQ3JGLE1BQU1rSSx3QkFBd0J2TixZQUFZNEksSUFBSSxDQUFDSCxDQUFBQTtnQkFBMkJBO21CQUF0QkEsRUFBRXJILElBQUksS0FBSyxXQUFXcUgsRUFBQUEsYUFBQUEsRUFBRTNELE9BQU8sY0FBVDJELGlDQUFBQSxXQUFXdEQsWUFBWSxNQUFLRSxhQUFhaEosRUFBRTs7UUFDckgsSUFBSWdKLGFBQWFtSSxRQUFRLElBQUssRUFBQ3pQLEVBQUFBLDZCQUFBQSxTQUFTLENBQUNzSCxhQUFhaEosRUFBRSxDQUFDLGNBQTFCMEIsaURBQUFBLDJCQUE0QjBFLE1BQU0sS0FBSSxLQUFLLEtBQUs4SyxxQkFBb0IsR0FBSTtZQUFFL0osZ0JBQWdCLDBCQUE0QyxPQUFsQjZCLGFBQWEvSSxJQUFJLEVBQUM7WUFBSztRQUFRO1FBQ2xMLE1BQU1vUCxVQUFVbE0scUJBQXFCLEVBQUUsR0FBRyxPQUFRMkksSUFBSSxDQUFDOUMsYUFBYTdJLElBQUksRUFBMEJ1RyxNQUFNLENBQUM0SSxDQUFBQSxNQUFPdE4sU0FBUyxDQUFDc04sSUFBSSxHQUFJdEcsQ0FBQUEsYUFBYTdJLElBQUksQ0FBQ21QLElBQUksSUFBSTtRQUM1SixJQUFJRCxRQUFRakosTUFBTSxHQUFHLEdBQUc7WUFBRWUsZ0JBQWdCLGFBQWdDLE9BQW5Ca0ksUUFBUUUsSUFBSSxDQUFDLE9BQU07WUFBSztRQUFRO1FBQ3ZGN0wsZ0JBQWdCO1lBQUUwTixNQUFNO1lBQVN0SSxjQUFjbUk7WUFBWXRNO1FBQVc7UUFDdEVGLG1CQUFtQjtZQUFFQyxRQUFRO1lBQU9DLFlBQVk7WUFBTUMsWUFBWTtRQUFLO1FBQ3ZFNUIsa0JBQWtCLGdDQUFrRCxPQUFsQmdHLGFBQWEvSSxJQUFJLEVBQUM7SUFDeEU7SUFFQSxNQUFNb1IseUJBQXlCLENBQUN0STtRQUM1QixJQUFJdEYsQ0FBQUEseUJBQUFBLG1DQUFBQSxhQUFjMk4sSUFBSSxNQUFLLFNBQVM7UUFDcEMsTUFBTSxFQUFFdEksWUFBWSxFQUFFbkUsVUFBVSxFQUFFLEdBQUdsQjtRQUNyQyxNQUFNdUYsZUFBZTFFLGFBQWEyRSxJQUFJLENBQUNqQyxDQUFBQSxJQUFLQSxFQUFFaEgsRUFBRSxLQUFLOEk7UUFDckQsTUFBTXdJLFVBQVVwUCxNQUFNRSxTQUFTLENBQUM2RyxJQUFJLENBQUNOLENBQUFBLElBQUtBLEVBQUUzSSxFQUFFLEtBQUsyRTtRQUNuRCxJQUFJLENBQUNxRSxnQkFBZ0IsQ0FBQ3NJLFNBQVM7UUFDL0IsSUFBSSxDQUFDbk8sb0JBQW9CMEUsZ0JBQWdCZ0UsT0FBTzJELE9BQU8sQ0FBQ3hHLGFBQWE3SSxJQUFJLEVBQUVzUCxNQUFNLENBQUMsQ0FBQ0M7Z0JBQUssQ0FBQ0MsR0FBR2hILEVBQUU7bUJBQU07Z0JBQUMsR0FBRytHLEdBQUc7Z0JBQUUsQ0FBQ0MsRUFBRSxFQUFFLENBQUNoSDtZQUFDO1dBQUksQ0FBQztRQUV6SCxJQUFJNEksWUFBWXZJLGFBQWF1SSxTQUFTLEdBQUc7UUFDekMsSUFBR3ROLFlBQVl1TixrQkFBa0IsRUFBRTtZQUMvQkQsYUFBYyxJQUFJdE4sWUFBWXVOLGtCQUFrQixDQUFDQyxVQUFVO1lBQzNEL0osU0FBUyxrREFBa0csT0FBaER6RCxZQUFZdU4sa0JBQWtCLENBQUNDLFVBQVUsR0FBRyxLQUFJLE9BQUs7WUFDaEh2TixlQUFlcUQsQ0FBQUEsT0FBUztvQkFBQyxHQUFHQSxJQUFJO29CQUFFaUssb0JBQW9CakssS0FBS2lLLGtCQUFrQixDQUFFRSxJQUFJLEdBQUcsSUFBSSxJQUFJO3dCQUFDLEdBQUduSyxLQUFLaUssa0JBQWtCO3dCQUFHRSxNQUFNbkssS0FBS2lLLGtCQUFrQixDQUFFRSxJQUFJLEdBQUc7b0JBQUMsSUFBSWxEO2dCQUFVO1FBQ3JMO1FBRUEsTUFBTXJDLFNBQVMsR0FBdUJyRCxPQUFwQi9DLEtBQUtDLEdBQUcsSUFBRyxXQUFzQixPQUFiOEM7UUFDdEMsTUFBTTZJLGNBQWM7WUFBRTdJO1lBQWNKLGFBQWE7Z0JBQUMvRDthQUFXO1lBQUVvRTtRQUFTO1FBQ3hFLElBQUk1RixvQkFBb0I7WUFDbkJvRixxQkFBcUI7Z0JBQUV2SSxJQUFJbU07Z0JBQVFwSCxNQUFNO2dCQUFTNkYsV0FBVztnQkFBR0MsVUFBVTtnQkFBR3BDLFNBQVM7b0JBQUUsR0FBR2tKLFdBQVc7b0JBQUU1STtnQkFBUztZQUFFO1FBQ3hILE9BQU87WUFDSG5GLGVBQWUyRCxDQUFBQSxPQUFRO3VCQUFJQTtvQkFBTTt3QkFBRXZILElBQUltTTt3QkFBUXBILE1BQU07d0JBQVM2RixXQUFXN0UsS0FBS0MsR0FBRzt3QkFBSTZFLFVBQVUwRzt3QkFBVzlJLFNBQVNrSjtvQkFBWTtpQkFBRTtZQUNqSXhQLFNBQVNvRixDQUFBQSxPQUFTO29CQUFDLEdBQUdBLElBQUk7b0JBQUVuRixXQUFXbUYsS0FBS25GLFNBQVMsQ0FBQ3lFLEdBQUcsQ0FBQzhCLENBQUFBLElBQUtBLEVBQUUzSSxFQUFFLEtBQUsyRSxhQUFhOzRCQUFDLEdBQUdnRSxDQUFDOzRCQUFFRSxhQUFhc0Q7d0JBQU0sSUFBSXhEO2dCQUFFO1lBQ3JIM0Ysa0JBQWtCLEdBQThDZ0csT0FBM0NzSSxRQUFRclIsSUFBSSxFQUFDLGdDQUFnRCxPQUFsQitJLGFBQWEvSSxJQUFJLEVBQUM7WUFDbEZ5SCxTQUFTLEdBQStDc0IsT0FBNUNzSSxRQUFRclIsSUFBSSxFQUFDLGlDQUFpRCxPQUFsQitJLGFBQWEvSSxJQUFJLEVBQUMsTUFBSStJLGFBQWFPLE1BQU07UUFDckc7UUFDQTdGLGdCQUFnQjtJQUNwQjtJQUVBLE1BQU1rTywyQkFBMkI7UUFBUWxPLGdCQUFnQjtRQUFPVixrQkFBa0I7SUFBdUI7SUFFekcsTUFBTTZPLHlCQUF5QixDQUFDOU0sTUFBNkIvRTtZQU1WMEI7UUFML0MsSUFBSXFELFNBQVMsY0FBYztZQUFFb0MsZ0JBQWdCO1lBQWdGO1FBQVE7UUFDckksSUFBR3hELFlBQVk0SSxJQUFJLENBQUNILENBQUFBO2dCQUFLQTttQkFBQUEsRUFBQUEsYUFBQUEsRUFBRTNELE9BQU8sY0FBVDJELGlDQUFBQSxXQUFXNkUsVUFBVSxNQUFLalI7WUFBSztZQUFFbUgsZ0JBQWdCO1lBQW9EO1FBQVE7UUFDdEksTUFBTTZCLGVBQWUxRSxhQUFhMkUsSUFBSSxDQUFDakMsQ0FBQUEsSUFBS0EsRUFBRWhILEVBQUUsS0FBSytFO1FBQ3JELE1BQU0rTSxtQkFBbUJwUSxTQUFTLENBQUNxRCxLQUFLLENBQUNrRSxJQUFJLENBQUNqQyxDQUFBQSxJQUFLQSxFQUFFaEgsRUFBRSxLQUFLQTtRQUM1RCxJQUFJLENBQUNnSixnQkFBZ0IsQ0FBQzhJLGtCQUFrQjtRQUN4QyxJQUFJL00sU0FBUyxZQUFZbUIsV0FBV0MsT0FBTyxHQUFHLENBQUN6RSxFQUFBQSx3QkFBQUEsVUFBVU4sVUFBVSxjQUFwQk0sNENBQUFBLHNCQUFzQjBFLE1BQU0sSUFBRyxJQUFJLEtBQUssS0FBSyxDQUFDMUUsVUFBVWIsTUFBTSxDQUFDdUYsTUFBTSxHQUFHLEtBQUssR0FBRztZQUFFZSxnQkFBZ0I7WUFBK0Q7UUFBUTtRQUN4TixNQUFNNEssU0FBU2xHLE9BQU8yRCxPQUFPLENBQUN4RyxhQUFhN0ksSUFBSSxFQUFFc1AsTUFBTSxDQUFDLENBQUNDO2dCQUFLLENBQUNKLEtBQUtuUCxLQUFLO1lBQU8sTUFBTStMLFNBQVM3RSxLQUFLZ0YsS0FBSyxDQUFDLENBQUNsTSxRQUFRLEtBQUs7WUFBTSxJQUFJK0wsU0FBUyxHQUFHd0QsR0FBRyxDQUFDSixJQUF1QixHQUFHcEQ7WUFBUSxPQUFPd0Q7UUFBSyxHQUFHLENBQUM7UUFDcE0sSUFBSTdELE9BQU9DLElBQUksQ0FBQ2lHLFFBQVEzTCxNQUFNLEdBQUcsR0FBRztZQUFFeUIsZ0JBQWdCa0s7WUFBUzVLLGdCQUFnQixZQUEwRSxPQUE5RDBFLE9BQU8yRCxPQUFPLENBQUN1QyxRQUFRbEwsR0FBRyxDQUFDO29CQUFDLENBQUNtTCxHQUFFbEwsRUFBRTt1QkFBSyxHQUFRa0wsT0FBTGxMLEdBQUUsS0FBSyxPQUFGa0w7ZUFBS3pDLElBQUksQ0FBQyxPQUFNO1FBQUs7UUFDOUpqTixhQUFhaUYsQ0FBQUEsT0FBUztnQkFBRSxHQUFHQSxJQUFJO2dCQUFFLENBQUN4QyxLQUFLLEVBQUV3QyxJQUFJLENBQUN4QyxLQUFLLENBQUMyQixNQUFNLENBQUNNLENBQUFBLElBQUtBLEVBQUVoSCxFQUFFLEtBQUtBO1lBQUk7UUFDN0UwSCxTQUFTLEdBQTZCc0IsT0FBMUI4SSxpQkFBaUI3UixJQUFJLEVBQUMsTUFBc0IsT0FBbEIrSSxhQUFhL0ksSUFBSSxFQUFDLHNCQUFvQitJLGFBQWFPLE1BQU07UUFDL0Z0RSwyQkFBMkI7WUFBQ1AsUUFBUTtZQUFPSyxNQUFNO1lBQU1ILFlBQVk7UUFBSztJQUM1RTtJQUVBLE1BQU1xTix1QkFBdUIsQ0FBQ2xOLE1BQTZCL0UsSUFBWUM7UUFDbkVxQyxhQUFhaUYsQ0FBQUEsT0FBUztnQkFBRSxHQUFHQSxJQUFJO2dCQUFFLENBQUN4QyxLQUFLLEVBQUV3QyxJQUFJLENBQUN4QyxLQUFLLENBQUM4QixHQUFHLENBQUNHLENBQUFBLElBQUtBLEVBQUVoSCxFQUFFLEtBQUtBLEtBQUs7d0JBQUUsR0FBR2dILENBQUM7d0JBQUUvRztvQkFBSyxJQUFJK0c7WUFBRztRQUMvRkcsZ0JBQWdCO0lBQ3BCO0lBRUEsTUFBTStLLHVCQUF1QixDQUFDMUk7WUFHckI5SDtRQUZMLElBQUlpQyxZQUFZNEksSUFBSSxDQUFDSCxDQUFBQSxJQUFLQSxFQUFFckgsSUFBSSxLQUFLLHFCQUFxQnlFLFNBQVMsR0FBRztRQUN0RSxJQUFJdEQsV0FBV0MsT0FBTyxHQUFHcUQsUUFBUXRELFdBQVdHLFFBQVEsRUFBRTtZQUFFYyxnQkFBZ0Isa0JBQXdCLE9BQU5xQyxPQUFNO1lBQW9CO1FBQVE7UUFDNUgsSUFBSSxHQUFDOUgsd0JBQUFBLFVBQVVOLFVBQVUsY0FBcEJNLDRDQUFBQSxxQkFBc0IsQ0FBQyxFQUFFLEdBQUU7WUFBRXlGLGdCQUFpQjtZQUFzQztRQUFRO1FBQ2pHLElBQUksQ0FBQ2hFLG9CQUFvQjtZQUFFLE1BQU1nUCxZQUFZLEtBQUszSTtZQUFPLElBQUl4SCxVQUFVNUIsSUFBSSxHQUFHK1IsV0FBVztnQkFBRWhMLGdCQUFnQixRQUFtQyxPQUEzQmdMLFlBQVluUSxVQUFVNUIsSUFBSSxFQUFDO2dCQUFlO1lBQVE7WUFBRXlILGdCQUFnQjtnQkFBRXpILE1BQU0sQ0FBQytSO1lBQVU7UUFBSTtRQUU5TSxJQUFHaFAsb0JBQW9Cb0YscUJBQXFCO1lBQUV2SSxJQUFJO1lBQVcrRSxNQUFNO1lBQWtCNkYsV0FBVztZQUFHQyxVQUFVO1lBQUdwQyxTQUFTO2dCQUFFZTtZQUFNO1FBQUU7YUFDOUg7WUFDRDVGLGVBQWUyRCxDQUFBQSxPQUFRO3VCQUFJQTtvQkFBTTt3QkFBRXZILElBQUksR0FBYyxPQUFYK0YsS0FBS0MsR0FBRyxJQUFHO3dCQUFrQmpCLE1BQU07d0JBQWtCNkYsV0FBVzdFLEtBQUtDLEdBQUc7d0JBQUk2RSxVQUFVLFFBQVFyQjt3QkFBT2YsU0FBUzs0QkFBRWU7NEJBQU95SCxZQUFZdlAsVUFBVU4sVUFBVSxDQUFFLEVBQUUsQ0FBQ3BCLEVBQUU7d0JBQUM7b0JBQUU7aUJBQUU7WUFDN01nRCxrQkFBa0IsWUFBa0IsT0FBTndHLE9BQU07WUFBbUI5QixTQUFTLGtCQUF3QixPQUFOOEIsT0FBTSxzQkFBb0I7UUFDaEg7UUFDQXZFLDJCQUEyQjtZQUFFUCxRQUFRO1lBQU9LLE1BQU07WUFBTUgsWUFBWTtRQUFLO0lBQzdFO0lBRUEsTUFBTXdOLG1CQUFtQixDQUFDekksVUFBNEJIO1lBSXpCOUg7UUFIekIsTUFBTWtJLFdBQVc3SixVQUFVa0osSUFBSSxDQUFDWSxDQUFBQSxJQUFLQSxFQUFFN0osRUFBRSxLQUFLMko7UUFDOUMsSUFBSSxDQUFDQyxZQUFZakcsWUFBWTRJLElBQUksQ0FBQ0gsQ0FBQUE7Z0JBQUtBO21CQUFBQSxFQUFBQSxhQUFBQSxFQUFFM0QsT0FBTyxjQUFUMkQsaUNBQUFBLFdBQVd6QyxRQUFRLE1BQUtBO2NBQWFILFNBQVMsR0FBRztRQUN4RixJQUFJdEQsV0FBV0MsT0FBTyxHQUFHcUQsUUFBUXRELFdBQVdHLFFBQVEsRUFBRTtZQUFFYyxnQkFBZ0Isa0JBQXdCLE9BQU5xQyxPQUFNO1lBQWdCO1FBQVE7UUFDeEgsTUFBTTZJLG9CQUFtQjNRLHVDQUFBQSxTQUFTLENBQUNrSSxTQUFTdEosZ0JBQWdCLENBQUMsY0FBcENvQiwyREFBQUEsb0NBQXNDLENBQUMsRUFBRTtRQUNsRSxJQUFJLENBQUMyUSxrQkFBa0I7Z0JBQXdCL047WUFBdEI2QyxnQkFBZ0IsTUFBdUUsUUFBakU3QyxxQkFBQUEsYUFBYTJFLElBQUksQ0FBQ2pDLENBQUFBLElBQUtBLEVBQUVoSCxFQUFFLEtBQUs0SixTQUFTdEosZ0JBQWdCLGVBQXpEZ0UseUNBQUFBLG1CQUE0RHJFLElBQUksRUFBQztZQUFvQjtRQUFRO1FBRTVJLElBQUksQ0FBQ2tELG9CQUFvQjtZQUNyQixNQUFNa00sVUFBVSxPQUFRdkQsSUFBSSxDQUFDbEMsU0FBU3pKLElBQUksRUFBMEJ1RyxNQUFNLENBQUM0SSxDQUFBQSxNQUFPdE4sU0FBUyxDQUFDc04sSUFBSSxHQUFHLENBQUMxRixTQUFTekosSUFBSSxDQUFDbVAsSUFBSSxJQUFJLEtBQUs5RjtZQUMvSCxJQUFJNkYsUUFBUWpKLE1BQU0sR0FBRyxHQUFHO2dCQUFFZSxnQkFBZ0IsYUFBbUMsT0FBdEJrSSxRQUFRRSxJQUFJLENBQUMsVUFBUztnQkFBSztZQUFRO1lBQzFGMUgsZ0JBQWdCZ0UsT0FBTzJELE9BQU8sQ0FBQzVGLFNBQVN6SixJQUFJLEVBQUVzUCxNQUFNLENBQUMsQ0FBQ0M7b0JBQUssQ0FBQ0MsR0FBR2hILEVBQUU7dUJBQU07b0JBQUMsR0FBRytHLEdBQUc7b0JBQUUsQ0FBQ0MsRUFBRSxFQUFFLENBQUVoSCxDQUFBQSxLQUFLLEtBQUthO2dCQUFLO2VBQUksQ0FBQztRQUMvRztRQUVBLElBQUlqSixZQUFZcUosU0FBU3JKLFNBQVMsR0FBRyxPQUFPaUo7UUFDNUMsSUFBR3ZGLFlBQVlxTywyQkFBMkIsRUFBRS9SLGFBQWMsSUFBSTBELFlBQVlxTywyQkFBMkI7UUFDckcsSUFBSXJPLFlBQVlzTyxrQkFBa0IsRUFBRTtZQUNoQyxNQUFNQyxhQUFhbkwsS0FBS29MLEdBQUcsQ0FBQ2pKLE9BQU92RixZQUFZc08sa0JBQWtCLENBQUNiLElBQUk7WUFDdEVuUixZQUFZLFNBQVVBLFNBQVMsR0FBRyxPQUFPaVMsYUFBYyxLQUFJdk8sWUFBWXNPLGtCQUFrQixDQUFDZCxVQUFVLElBQU03SCxTQUFTckosU0FBUyxHQUFHLE9BQVFpSixDQUFBQSxRQUFRZ0osVUFBUztZQUN4SixJQUFJdk8sWUFBWXNPLGtCQUFrQixDQUFDYixJQUFJLEdBQUdjLGFBQWEsR0FBR3RPLGVBQWVxRCxDQUFBQSxPQUFTO29CQUFDLEdBQUdBLElBQUk7b0JBQUVnTCxvQkFBb0I7d0JBQUMsR0FBR2hMLEtBQUtnTCxrQkFBa0I7d0JBQUdiLE1BQU1uSyxLQUFLZ0wsa0JBQWtCLENBQUViLElBQUksR0FBR2M7b0JBQVU7Z0JBQUM7aUJBQzFMO2dCQUFFdE8sZUFBZXFELENBQUFBLE9BQVM7d0JBQUMsR0FBR0EsSUFBSTt3QkFBRWdMLG9CQUFvQi9EO29CQUFTO2dCQUFLOUcsU0FBUyx1REFBdUQ7WUFBUztRQUN4SjtRQUVBLElBQUd2RSxvQkFBb0JvRixxQkFBcUI7WUFBRXZJLElBQUk7WUFBVytFLE1BQU07WUFBa0I2RixXQUFXO1lBQUdDLFVBQVU7WUFBR3BDLFNBQVM7Z0JBQUVrQjtnQkFBVUg7WUFBTTtRQUFFO2FBQ3hJO1lBQ0Q1RixlQUFlMkQsQ0FBQUEsT0FBUTt1QkFBSUE7b0JBQU07d0JBQUV2SCxJQUFJLEdBQXVCMkosT0FBcEI1RCxLQUFLQyxHQUFHLElBQUcsV0FBa0IsT0FBVDJEO3dCQUFZNUUsTUFBTTt3QkFBa0I2RixXQUFXN0UsS0FBS0MsR0FBRzt3QkFBSTZFLFVBQVV0Szt3QkFBV2tJLFNBQVM7NEJBQUVrQjs0QkFBVUg7NEJBQU95SCxZQUFZb0IsaUJBQWlCclMsRUFBRTt3QkFBQztvQkFBRTtpQkFBRTtZQUM5TWdELGtCQUFrQixZQUFxQjRHLE9BQVRKLE9BQU0sS0FBaUIsT0FBZEksU0FBUzNKLElBQUksRUFBQztZQUFVeUgsU0FBUyxrQkFBK0JrQyxPQUFiSixPQUFNLFNBQXFCLE9BQWRJLFNBQVMzSixJQUFJLEVBQUMsU0FBTzBKO1FBQ2hJO1FBQ0ExRSwyQkFBMkI7WUFBRVAsUUFBUTtZQUFPSyxNQUFNO1lBQU1ILFlBQVk7UUFBSztJQUM3RTtJQUVBLE1BQU04Tiw0QkFBNEIsQ0FBQzNOLE1BQWdDL0U7UUFDL0QsSUFBSStFLFNBQVMsZUFBZW1KLGVBQWVsTyxLQUFLO1lBQUVtSCxnQkFBZ0I7WUFBb0M7UUFBUTtRQUM5RyxNQUFNd0wsT0FBT3pRLEtBQUssQ0FBQzZDLEtBQUssQ0FBQ2tFLElBQUksQ0FBQ1ksQ0FBQUEsSUFBS0EsRUFBRTdKLEVBQUUsS0FBS0E7UUFBSyxJQUFJLENBQUMyUyxNQUFNO1FBQzVELElBQUk1TixTQUFTLGVBQWU3QyxNQUFNRSxTQUFTLENBQUNnRSxNQUFNLElBQUksR0FBRztZQUFFZSxnQkFBZ0I7WUFBdUM7UUFBUTtRQUMxSGhGLFNBQVNvRixDQUFBQSxPQUFTO2dCQUFFLEdBQUdBLElBQUk7Z0JBQUUsQ0FBQ3hDLEtBQUssRUFBRXdDLElBQUksQ0FBQ3hDLEtBQUssQ0FBQzJCLE1BQU0sQ0FBQ21ELENBQUFBLElBQUtBLEVBQUU3SixFQUFFLEtBQUtBO1lBQUk7UUFDekUsTUFBTTRTLGVBQWU3TixTQUFTLGNBQWMsYUFBYSxLQUF1QjRFLFFBQVE7UUFDeEZqQyxTQUFTLEdBQW9Ca0wsT0FBakJELEtBQUsxUyxJQUFJLEVBQUMsU0FBb0IsT0FBYjJTLGNBQWEseUJBQXVCN04sU0FBUyxjQUFjLGFBQWEsS0FBdUI0RSxRQUFRO1FBQ3BJeEMsZ0JBQWdCLEdBQWEsT0FBVndMLEtBQUsxUyxJQUFJLEVBQUM7SUFDakM7SUFFQSxNQUFNNFMsbUJBQW1CLENBQUM5TixNQUFnQy9FLElBQVlDLE1BQWMrSjtRQUMvRTdILFNBQVNvRixDQUFBQSxPQUFTO2dCQUFFLEdBQUdBLElBQUk7Z0JBQUUsQ0FBQ3hDLEtBQUssRUFBRXdDLElBQUksQ0FBQ3hDLEtBQUssQ0FBQzhCLEdBQUcsQ0FBQ2dELENBQUFBLElBQUtBLEVBQUU3SixFQUFFLEtBQUtBLEtBQU0rRSxTQUFTLGNBQWNpRixVQUFVd0UsWUFBWTt3QkFBRSxHQUFHM0UsQ0FBQzt3QkFBRTVKO3dCQUFNK0o7b0JBQU0sSUFBSTt3QkFBRSxHQUFHSCxDQUFDO3dCQUFFNUo7b0JBQUssSUFBSzRKO1lBQUU7UUFDbEsxQyxnQkFBZ0I7SUFDcEI7SUFFQSxNQUFNMkwsc0NBQXNDLENBQUNDLGdCQUF3QnZKO1lBUWZoQiwyQkFBQUEsZUFFMUJBLDRCQUFBQTtRQVR4QixNQUFNd0ssZ0JBQWdCOVEsTUFBTUUsU0FBUyxDQUFDc0UsTUFBTSxDQUFDaUMsQ0FBQUEsSUFBSyxDQUFDQSxFQUFFRSxXQUFXO1FBQ2hFLElBQUlXLFNBQVMsS0FBS3dKLGNBQWM1TSxNQUFNLEtBQUssR0FBRztZQUFFZSxnQkFBZ0I7WUFBaUM7UUFBUTtRQUN6RyxNQUFNcUIsT0FBTzdFLFlBQVlzRixJQUFJLENBQUNtRCxDQUFBQSxJQUFLQSxFQUFFcE0sRUFBRSxLQUFLK1M7UUFBaUIsSUFBSSxDQUFDdkssUUFBUUEsS0FBS3pELElBQUksS0FBSyxTQUFTO1FBQ2pHLE1BQU1pRSxlQUFlMUUsYUFBYTJFLElBQUksQ0FBQ2pDLENBQUFBO2dCQUFjd0I7bUJBQVR4QixFQUFFaEgsRUFBRSxPQUFLd0ksZ0JBQUFBLEtBQUtDLE9BQU8sY0FBWkQsb0NBQUFBLGNBQWNNLFlBQVk7O1FBQUcsSUFBSSxDQUFDRSxjQUFjO1FBRXJHLE1BQU1pSyxjQUFjNUwsS0FBS29MLEdBQUcsQ0FBQ2pKLE9BQU93SixjQUFjNU0sTUFBTTtRQUN4RCxNQUFNOE0sb0JBQW9CRixjQUFjcEwsS0FBSyxDQUFDLEdBQUdxTCxhQUFhcE0sR0FBRyxDQUFDOEIsQ0FBQUEsSUFBS0EsRUFBRTNJLEVBQUU7UUFDM0UsTUFBTW1ULFdBQVcsQ0FBQ3BOLEtBQUtDLEdBQUcsS0FBS3dDLEtBQUtvQyxTQUFTLElBQUtwQyxDQUFBQSxFQUFBQSxnQkFBQUEsS0FBS0MsT0FBTyxjQUFaRCxxQ0FBQUEsNEJBQUFBLGNBQWNFLFdBQVcsY0FBekJGLGdEQUFBQSwwQkFBMkJwQyxNQUFNLEtBQUk7UUFDdkYsTUFBTWdOLGdCQUFnQi9MLEtBQUthLEdBQUcsQ0FBQyxHQUFHLGFBQWNxSixTQUFTLEdBQUcsT0FBUTRCO1FBQ3BFLE1BQU1FLGlCQUFpQixDQUFDN0ssRUFBQUEsaUJBQUFBLEtBQUtDLE9BQU8sY0FBWkQsc0NBQUFBLDZCQUFBQSxlQUFjRSxXQUFXLGNBQXpCRixpREFBQUEsMkJBQTJCcEMsTUFBTSxLQUFJLEtBQUs2TTtRQUNsRSxNQUFNSyx1QkFBdUJGLGdCQUFnQkM7UUFFN0NsUixTQUFTb0YsQ0FBQUEsT0FBUztnQkFBQyxHQUFHQSxJQUFJO2dCQUFFbkYsV0FBV21GLEtBQUtuRixTQUFTLENBQUN5RSxHQUFHLENBQUM4QixDQUFBQSxJQUFLdUssa0JBQWtCdEssUUFBUSxDQUFDRCxFQUFFM0ksRUFBRSxJQUFJO3dCQUFDLEdBQUcySSxDQUFDO3dCQUFFRSxhQUFha0s7b0JBQWMsSUFBSXBLO1lBQUU7UUFDMUkvRSxlQUFlMkQsQ0FBQUEsT0FBUUEsS0FBS1YsR0FBRyxDQUFDdUYsQ0FBQUEsSUFBS0EsRUFBRXBNLEVBQUUsS0FBSytTLGlCQUFpQjtvQkFBRSxHQUFHM0csQ0FBQztvQkFBRXhCLFdBQVc3RSxLQUFLQyxHQUFHO29CQUFJNkUsVUFBVXlJO29CQUFzQjdLLFNBQVM7d0JBQUUsR0FBRzJELEVBQUUzRCxPQUFPO3dCQUFFQyxhQUFhOytCQUFJMEQsRUFBRTNELE9BQU8sQ0FBRUMsV0FBVzsrQkFBTXdLO3lCQUFrQjtvQkFBQztnQkFBRSxJQUFJOUc7UUFDN04xRSxTQUFTLEdBQXlEc0IsT0FBdERpSyxhQUFZLDRDQUE0RCxPQUFsQmpLLGFBQWEvSSxJQUFJLEVBQUMsTUFBSStJLGFBQWFPLE1BQU07UUFDM0d2RyxrQkFBa0IsdUJBQXlDLE9BQWxCZ0csYUFBYS9JLElBQUksRUFBQztRQUMzRG9GLHdCQUF3QjtZQUFFWCxRQUFRO1lBQU9ZLFVBQVU7WUFBTUMsWUFBWTtZQUFNWCxZQUFZO1FBQUs7SUFDaEc7SUFFQSxNQUFNMk8sd0JBQXdCLENBQUNqTyxVQUFrQmtFO1FBQzdDLElBQUlwRSxxQkFBcUJHLFVBQVUsS0FBSyxnQkFBZ0IsT0FBT3VOLG9DQUFvQ3hOLFVBQVVrRTtRQUM3RyxNQUFNd0osZ0JBQWdCOVEsTUFBTUUsU0FBUyxDQUFDc0UsTUFBTSxDQUFDaUMsQ0FBQUEsSUFBSyxDQUFDQSxFQUFFRSxXQUFXO1FBQ2hFLElBQUlXLFNBQVMsS0FBS3dKLGNBQWM1TSxNQUFNLEtBQUssR0FBRztZQUFFZSxnQkFBZ0I7WUFBaUM7UUFBUTtRQUN6RyxNQUFNcU0sYUFBYTNQLGNBQWNvRixJQUFJLENBQUN4QixDQUFBQSxJQUFLQSxFQUFFekgsRUFBRSxLQUFLc0Y7UUFBVyxJQUFJLENBQUNrTyxZQUFZO1FBQ2hGLE1BQU1QLGNBQWM1TCxLQUFLb0wsR0FBRyxDQUFDakosT0FBT3dKLGNBQWM1TSxNQUFNO1FBQ3hELE1BQU04TSxvQkFBb0JGLGNBQWNwTCxLQUFLLENBQUMsR0FBR3FMLGFBQWFwTSxHQUFHLENBQUM4QixDQUFBQSxJQUFLQSxFQUFFM0ksRUFBRTtRQUMzRSxNQUFNbU0sU0FBUyxVQUFtQixPQUFUN0c7UUFDekIsTUFBTW1PLGVBQWU5UCxZQUFZc0YsSUFBSSxDQUFDbUQsQ0FBQUEsSUFBS0EsRUFBRXBNLEVBQUUsS0FBS21NO1FBRXBELElBQUloSixvQkFBb0I7WUFDcEIwRSxnQkFBZ0I7Z0JBQUUsQ0FBQzJMLFdBQVd6TyxJQUFJLENBQUMsRUFBRXlPLFdBQVd0SCxNQUFNO1lBQUM7WUFDdkR4RSxTQUFTLEdBQWlETCxPQUE5QzRMLGFBQVksb0NBQW1FTyxPQUFqQ25NLEtBQUtnRixLQUFLLENBQUNtSCxXQUFXdEgsTUFBTSxHQUFFLEtBQW1CLE9BQWhCc0gsV0FBV3pPLElBQUksRUFBQyxNQUFJeU8sV0FBV3pPLElBQUk7WUFDOUhqQixpQkFBaUJ5RCxDQUFBQSxPQUFRQSxLQUFLYixNQUFNLENBQUNlLENBQUFBLElBQUtBLEVBQUV6SCxFQUFFLEtBQUswVDtRQUN2RCxPQUFPO1lBQ0gsSUFBSUQsY0FBYzdQLGVBQWUyRCxDQUFBQSxPQUFRQSxLQUFLVixHQUFHLENBQUN1RixDQUFBQSxJQUFLQSxFQUFFcE0sRUFBRSxLQUFLbU0sU0FBUzt3QkFBRSxHQUFHQyxDQUFDO3dCQUFFM0QsU0FBUzs0QkFBRSxHQUFHMkQsRUFBRTNELE9BQU87NEJBQUVDLGFBQWE7bUNBQUksSUFBSXVGLElBQUk7dUNBQUk3QixFQUFFM0QsT0FBTyxDQUFFQyxXQUFXO3VDQUFNd0s7aUNBQWtCOzZCQUFFO3dCQUFDO29CQUFFLElBQUk5RztpQkFDekx4SSxlQUFlMkQsQ0FBQUEsT0FBUTt1QkFBSUE7b0JBQU07d0JBQUV2SCxJQUFJbU07d0JBQVFwSCxNQUFNO3dCQUFVNkYsV0FBVzdFLEtBQUtDLEdBQUc7d0JBQUk2RSxVQUFVO3dCQUFXcEMsU0FBUzs0QkFBRXVDLGdCQUFnQjFGOzRCQUFVb0QsYUFBYXdLO3dCQUFrQjtvQkFBRTtpQkFBRTtZQUN4TC9RLFNBQVNvRixDQUFBQSxPQUFTO29CQUFDLEdBQUdBLElBQUk7b0JBQUVuRixXQUFXbUYsS0FBS25GLFNBQVMsQ0FBQ3lFLEdBQUcsQ0FBQzhCLENBQUFBLElBQUt1SyxrQkFBa0J0SyxRQUFRLENBQUNELEVBQUUzSSxFQUFFLElBQUk7NEJBQUMsR0FBRzJJLENBQUM7NEJBQUVFLGFBQWFzRDt3QkFBTSxJQUFJeEQ7Z0JBQUU7UUFDdEk7UUFDQWpCLFNBQVMsR0FBaUQ4TCxPQUE5Q1AsYUFBWSxvQ0FBa0QsT0FBaEJPLFdBQVd6TyxJQUFJLEVBQUMsTUFBSXlPLFdBQVd6TyxJQUFJO1FBQzdGL0Isa0JBQWtCLEdBQWdEd1EsT0FBN0NQLGFBQVksbUNBQWlELE9BQWhCTyxXQUFXek8sSUFBSSxFQUFDO1FBQ2xGTSx3QkFBd0I7WUFBRVgsUUFBUTtZQUFPWSxVQUFVO1lBQU1DLFlBQVk7WUFBTVgsWUFBWTtRQUFLO0lBQ2hHO0lBRUEsTUFBTStPLHdCQUF3QixDQUFDck8sVUFBa0JrRSxPQUFlekU7WUFFOUN5RCwyQkFBQUE7UUFEZCxNQUFNQSxPQUFPN0UsWUFBWXNGLElBQUksQ0FBQ21ELENBQUFBLElBQUtBLEVBQUVwTSxFQUFFLEtBQUtzRjtZQUM5QmtEO1FBQWQsSUFBSSxDQUFDQSxRQUFRLENBQUNBLENBQUFBLG9DQUFBQSxnQkFBQUEsS0FBS0MsT0FBTyxjQUFaRCxxQ0FBQUEsNEJBQUFBLGNBQWNFLFdBQVcsY0FBekJGLGdEQUFBQSwwQkFBMkJwQyxNQUFNLGNBQWpDb0MsOENBQUFBLG1DQUFxQyxLQUFLZ0IsT0FBTztRQUUvRCxNQUFNb0ssb0JBQW9CcEwsS0FBS0MsT0FBTyxDQUFFQyxXQUFXLENBQUVkLEtBQUssQ0FBQ1ksS0FBS0MsT0FBTyxDQUFFQyxXQUFXLENBQUV0QyxNQUFNLEdBQUdvRDtRQUMvRixJQUFJekUsU0FBUyxrQkFBa0I2TyxrQkFBa0J4TixNQUFNLEtBQUtvQyxLQUFLQyxPQUFPLENBQUVDLFdBQVcsQ0FBRXRDLE1BQU0sRUFBRTtZQUFFZSxnQkFBZ0I7WUFBbUQ7UUFBUTtRQUU1S2hGLFNBQVNvRixDQUFBQSxPQUFTO2dCQUFDLEdBQUdBLElBQUk7Z0JBQUVuRixXQUFXbUYsS0FBS25GLFNBQVMsQ0FBQ3lFLEdBQUcsQ0FBQzhCLENBQUFBLElBQUtpTCxrQkFBa0JoTCxRQUFRLENBQUNELEVBQUUzSSxFQUFFLElBQUk7d0JBQUMsR0FBRzJJLENBQUM7d0JBQUVFLGFBQWE7b0JBQUksSUFBSUY7WUFBRTtRQUNoSSxNQUFNa0wscUJBQXFCckwsS0FBS0MsT0FBTyxDQUFFQyxXQUFXLENBQUVoQyxNQUFNLENBQUMxRyxDQUFBQSxLQUFNLENBQUM0VCxrQkFBa0JoTCxRQUFRLENBQUM1STtRQUUvRixJQUFJNlQsbUJBQW1Cek4sTUFBTSxLQUFLLEdBQUc7WUFDakN4QyxlQUFlMkQsQ0FBQUEsT0FBUUEsS0FBS2IsTUFBTSxDQUFDMEYsQ0FBQUEsSUFBS0EsRUFBRXBNLEVBQUUsS0FBS3NGO1lBQ2pELE1BQU15RixPQUFPbEgsY0FBY29GLElBQUksQ0FBQ3hCLENBQUFBLElBQUtBLEVBQUV6SCxFQUFFLEtBQUtzRjtZQUM5QyxJQUFHeUYsTUFBTXJELFNBQVMseUNBQW1ELE9BQVZxRCxLQUFLaEcsSUFBSSxFQUFDLE1BQUk7UUFDN0UsT0FBTztZQUNILE1BQU1pRSxlQUFlMUUsYUFBYTJFLElBQUksQ0FBQ2pDLENBQUFBO29CQUFjd0I7dUJBQVR4QixFQUFFaEgsRUFBRSxPQUFLd0ksZ0JBQUFBLEtBQUtDLE9BQU8sY0FBWkQsb0NBQUFBLGNBQWNNLFlBQVk7O1lBQy9FLE1BQU1xSyxXQUFXLENBQUNwTixLQUFLQyxHQUFHLEtBQUt3QyxLQUFLb0MsU0FBUyxJQUFJcEMsS0FBS0MsT0FBTyxDQUFFQyxXQUFXLENBQUV0QyxNQUFNO1lBQ2xGLE1BQU1rTix1QkFBdUIsQ0FBQ3RLLGFBQWF1SSxTQUFTLEdBQUcsT0FBTzRCLFFBQU8sSUFBS1UsbUJBQW1Cek4sTUFBTTtZQUNuR3hDLGVBQWUyRCxDQUFBQSxPQUFRQSxLQUFLVixHQUFHLENBQUN1RixDQUFBQSxJQUFLQSxFQUFFcE0sRUFBRSxLQUFLc0YsV0FBVzt3QkFBRSxHQUFHOEcsQ0FBQzt3QkFBRXhCLFdBQVc3RSxLQUFLQyxHQUFHO3dCQUFJNkUsVUFBVXlJO3dCQUFzQjdLLFNBQVM7NEJBQUUsR0FBRzJELEVBQUUzRCxPQUFPOzRCQUFFQyxhQUFhbUw7d0JBQW1CO29CQUFFLElBQUl6SDtZQUN2TCxJQUFJckgsU0FBUyxnQkFBZ0IyQyxTQUFTLEdBQVMsT0FBTjhCLE9BQU0sMkRBQXlEO1FBQzVHO1FBQ0FuRSx3QkFBd0I7WUFBRVgsUUFBUTtZQUFPWSxVQUFVO1lBQU1DLFlBQVk7WUFBTVgsWUFBWTtRQUFLO0lBQ2hHO0lBRUEsTUFBTWtQLG1CQUFtQjtRQUNyQixJQUFJblEsWUFBWTRJLElBQUksQ0FBQ0gsQ0FBQUEsSUFBS0EsRUFBRXJILElBQUksS0FBSyxnQkFBZ0I7WUFBRW9DLGdCQUFnQjtZQUFxQztRQUFRO1FBQ3BILElBQUksQ0FBQ2hFLG9CQUFvQjtZQUNyQixNQUFNa00sVUFBVSxFQUFFO1lBQ2xCLElBQUlyTixVQUFVNUIsSUFBSSxHQUFHLEtBQUtpUCxRQUFRdkUsSUFBSSxDQUFDLEdBQXdCLE9BQXJCLE1BQU05SSxVQUFVNUIsSUFBSSxFQUFDO1lBQy9ELElBQUk0QixVQUFVM0IsSUFBSSxHQUFHLEtBQUtnUCxRQUFRdkUsSUFBSSxDQUFDLEdBQXdCLE9BQXJCLE1BQU05SSxVQUFVM0IsSUFBSSxFQUFDO1lBQy9ELElBQUlnUCxRQUFRakosTUFBTSxHQUFHLEdBQUc7Z0JBQUVlLGdCQUFnQix3QkFBOEMsT0FBdEJrSSxRQUFRRSxJQUFJLENBQUMsVUFBUztnQkFBSztZQUFRO1lBQ3JHMUgsZ0JBQWdCO2dCQUFFekgsTUFBTSxDQUFDO2dCQUFLQyxNQUFNLENBQUM7WUFBSTtRQUM3QztRQUNBLE1BQU00SixlQUFlN0YsbUJBQW1COEYsU0FBUyxDQUFDdkQsQ0FBQUEsTUFBT0EsSUFBSTFHLElBQUksS0FBS3NDO1FBQ3RFLElBQUkwSCxpQkFBaUIsQ0FBQyxLQUFLQSxlQUFlLEtBQUs3RixtQkFBbUJnQyxNQUFNLEVBQUU7WUFBRWUsZ0JBQWdCO1lBQThDO1FBQVE7UUFFbEosSUFBR2hFLG9CQUFvQm9GLHFCQUFxQjtZQUFFdkksSUFBSTtZQUFXK0UsTUFBTTtZQUFlNkYsV0FBVztZQUFHQyxVQUFVO1lBQUdwQyxTQUFTLENBQUM7UUFBRTthQUNwSDtZQUNEN0UsZUFBZTJELENBQUFBLE9BQVE7dUJBQUlBO29CQUFNO3dCQUFFdkgsSUFBSSxHQUFjLE9BQVgrRixLQUFLQyxHQUFHLElBQUc7d0JBQWVqQixNQUFNO3dCQUFlNkYsV0FBVzdFLEtBQUtDLEdBQUc7d0JBQUk2RSxVQUFVO29CQUFNO2lCQUFFO1lBQ2xJN0gsa0JBQW1CO1lBQ25CaUMsMkJBQTJCO2dCQUFFUCxRQUFRO2dCQUFPSyxNQUFNO2dCQUFNSCxZQUFZO1lBQUs7UUFDN0U7SUFDSjtJQUVBLE1BQU1tUCxpQkFBaUI7UUFBY3ZRLG1CQUFtQjtRQUFPLE1BQU04QztRQUF3QjFFLGFBQWFuRCw4Q0FBVUEsQ0FBQ29ELElBQUk7SUFBRztJQUM1SCxNQUFNbVMsbUJBQW1CLE9BQU90RztRQUF1QixNQUFNM08sb0VBQWVBLENBQUMyTztRQUFXLE1BQU1wSDtRQUF3QmEsZ0JBQWdCLGtCQUEyQixPQUFUdUcsVUFBUztJQUFLO0lBRXRLLE1BQU11RyxpQ0FBaUM7UUFDbkMsTUFBTUMsVUFBVSxDQUFDL1E7UUFDakJDLHNCQUFzQjhRO1FBQ3RCLElBQUlBLFNBQVM7WUFDVGpTLGFBQWE7Z0JBQUU3QixNQUFNO2dCQUFPSSxNQUFNO2dCQUFPSCxNQUFNO2dCQUFPTSxPQUFPO1lBQU07WUFDbkV3RyxnQkFBZ0I7WUFDaEIsTUFBTWdOLGtCQUFrQixJQUFJbEc7WUFDNUJ0SyxZQUFZOEksT0FBTyxDQUFDakUsQ0FBQUE7b0JBQ2NBO2dCQUE5QixJQUFJQSxLQUFLekQsSUFBSSxLQUFLLGNBQVl5RCxnQkFBQUEsS0FBS0MsT0FBTyxjQUFaRCxvQ0FBQUEsY0FBY3dDLGNBQWMsR0FBRTtvQkFDeERtSixnQkFBZ0IzRyxHQUFHLENBQUNoRixLQUFLQyxPQUFPLENBQUN1QyxjQUFjO29CQUMvQyxNQUFNRCxPQUFPbEgsY0FBY29GLElBQUksQ0FBQ3hCLENBQUFBLElBQUtBLEVBQUV6SCxFQUFFLEtBQUt3SSxLQUFLQyxPQUFPLENBQUN1QyxjQUFjO29CQUN6RSxJQUFJRCxNQUFNckQsU0FBUywwQkFBb0MsT0FBVnFELEtBQUtoRyxJQUFJLEVBQUMsNkJBQTJCZ0csS0FBS2hHLElBQUk7Z0JBQy9GO2dCQUNBd0QscUJBQXFCQztZQUN6QjtZQUNBNUUsZUFBZSxFQUFFO1lBQ2pCLElBQUl1USxnQkFBZ0JDLElBQUksR0FBRyxHQUFHdFEsaUJBQWlCeUQsQ0FBQUEsT0FBUUEsS0FBS2IsTUFBTSxDQUFDZSxDQUFBQSxJQUFLLENBQUMwTSxnQkFBZ0I1RyxHQUFHLENBQUM5RixFQUFFekgsRUFBRTtRQUNyRyxPQUFPbUgsZ0JBQWdCO0lBQzNCO0lBRUEsTUFBTWtOLGdCQUFnQixDQUFDM0Q7UUFDbkIsTUFBTTRELE9BQU92USxVQUFVa0YsSUFBSSxDQUFDa0UsQ0FBQUEsSUFBS0EsRUFBRW5OLEVBQUUsS0FBSzBRO1FBQVMsSUFBSSxDQUFDNEQsTUFBTTtRQUM5RCxNQUFNQyxhQUFhRCxLQUFLdFUsRUFBRSxDQUFDd1UsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQ3hDLE1BQU03RixvQkFBb0JoTCxZQUFZK0MsTUFBTSxDQUFDMEYsQ0FBQUEsSUFBS0EsRUFBRXJILElBQUksS0FBSztRQUM3RCxPQUFPd1A7WUFDSCxLQUFLO1lBQW1CLEtBQUs7Z0JBQ3pCLElBQUk1RixrQkFBa0J2SSxNQUFNLEdBQUcsR0FBRzt3QkFHTzlCO29CQUZyQyxNQUFNa0UsT0FBT21HLGtCQUFrQjhGLElBQUksQ0FBQyxDQUFDM04sR0FBRUUsSUFBTSxFQUFHNEQsU0FBUyxHQUFHNUQsRUFBRTZELFFBQVEsR0FBSy9ELENBQUFBLEVBQUU4RCxTQUFTLEdBQUc5RCxFQUFFK0QsUUFBUSxFQUFFLENBQUMsRUFBRTtvQkFDeEdqSCxlQUFleUYsQ0FBQUEsSUFBS0EsRUFBRXhDLEdBQUcsQ0FBQ3VGLENBQUFBLElBQUtBLEVBQUVwTSxFQUFFLEtBQUt3SSxLQUFLeEksRUFBRSxHQUFHO2dDQUFFLEdBQUdvTSxDQUFDO2dDQUFFdkIsVUFBVXhELEtBQUthLEdBQUcsQ0FBQyxHQUFHa0UsRUFBRXZCLFFBQVEsR0FBSTBKLENBQUFBLGVBQWUsb0JBQW9CLFFBQVEsS0FBSTs0QkFBSSxJQUFJbkk7b0JBQ3JKMUUsU0FBUyxlQUFRNE0sS0FBS3JVLElBQUksRUFBQyxZQUE0RSxRQUFsRXFFLHFCQUFBQSxhQUFhMkUsSUFBSSxDQUFDakMsQ0FBQUE7NEJBQWN3QjsrQkFBVHhCLEVBQUVoSCxFQUFFLE9BQUt3SSxnQkFBQUEsS0FBS0MsT0FBTyxjQUFaRCxvQ0FBQUEsY0FBY00sWUFBWTtvQ0FBMUR4RSx5Q0FBQUEsbUJBQTZEckUsSUFBSSxFQUFDLE1BQUk7Z0JBQy9HO2dCQUFFO1lBQ04sS0FBSztnQkFBZTRILGdCQUFnQjtvQkFBRXpILE1BQU07Z0JBQUc7Z0JBQUlzSCxTQUFTLFFBQWtCLE9BQVY0TSxLQUFLclUsSUFBSSxFQUFDLHNCQUFvQjtnQkFBUztZQUMzRyxLQUFLO2dCQUFrQmlFLGVBQWVtRixDQUFBQSxJQUFNO3dCQUFDLEdBQUdBLENBQUM7d0JBQUVtSSxvQkFBb0I7NEJBQUVDLFlBQVk7NEJBQUtDLE1BQU07d0JBQUU7b0JBQUM7Z0JBQUtoSyxTQUFTLFFBQWtCLE9BQVY0TSxLQUFLclUsSUFBSSxFQUFDLG1DQUFpQztnQkFBUztZQUM3SyxLQUFLO2dCQUF3QmlFLGVBQWVtRixDQUFBQSxJQUFNO3dCQUFDLEdBQUdBLENBQUM7d0JBQUVrSixvQkFBb0I7NEJBQUVkLFlBQVk7NEJBQU1DLE1BQU07d0JBQUU7b0JBQUM7Z0JBQUtoSyxTQUFTLFFBQWtCLE9BQVY0TSxLQUFLclUsSUFBSSxFQUFDLHFDQUFtQztnQkFBUztZQUN0TCxLQUFLO2dCQUFrQmlFLGVBQWVtRixDQUFBQSxJQUFNO3dCQUFDLEdBQUdBLENBQUM7d0JBQUVsRixlQUFlOytCQUFLa0YsRUFBRWxGLGFBQWEsSUFBSSxFQUFFOzRCQUFHO2dDQUFFc0gsVUFBVTtnQ0FBUUMsWUFBWTtnQ0FBS2hCLFNBQVMzRSxLQUFLQyxHQUFHLEtBQUs7NEJBQU07eUJBQUU7b0JBQUE7Z0JBQUswQixTQUFTLFFBQWtCLE9BQVY0TSxLQUFLclUsSUFBSSxFQUFDLDZDQUEyQztnQkFBUztZQUN0UCxLQUFLO2dCQUNELElBQUkwTyxrQkFBa0J2SSxNQUFNLEdBQUcsR0FBRzt3QkFHMEI5QjtvQkFGeEQsTUFBTWtFLE9BQU9tRyxrQkFBa0I4RixJQUFJLENBQUMsQ0FBQzNOLEdBQUVFLElBQU0sRUFBRzRELFNBQVMsR0FBRzVELEVBQUU2RCxRQUFRLEdBQUsvRCxDQUFBQSxFQUFFOEQsU0FBUyxHQUFHOUQsRUFBRStELFFBQVEsRUFBRSxDQUFDLEVBQUU7b0JBQ3hHakgsZUFBZXlGLENBQUFBLElBQUtBLEVBQUUzQyxNQUFNLENBQUMwRixDQUFBQSxJQUFLQSxFQUFFcE0sRUFBRSxLQUFLd0ksS0FBS3hJLEVBQUU7b0JBQUl1SSxxQkFBcUJDO29CQUMzRWQsU0FBUyxlQUFRNE0sS0FBS3JVLElBQUksRUFBQywrQkFBK0YsUUFBbEVxRSxzQkFBQUEsYUFBYTJFLElBQUksQ0FBQ2pDLENBQUFBOzRCQUFjd0I7K0JBQVR4QixFQUFFaEgsRUFBRSxPQUFLd0ksZ0JBQUFBLEtBQUtDLE9BQU8sY0FBWkQsb0NBQUFBLGNBQWNNLFlBQVk7b0NBQTFEeEUsMENBQUFBLG9CQUE2RHJFLElBQUksRUFBQyxNQUFJO2dCQUNsSTtnQkFBRTtZQUNOLEtBQUs7Z0JBQ0RpRSxlQUFlbUYsQ0FBQUEsSUFBTTt3QkFBQyxHQUFHQSxDQUFDO3dCQUFFbEYsZUFBZTsrQkFBS2tGLEVBQUVsRixhQUFhLElBQUksRUFBRTs0QkFBRztnQ0FBRXNILFVBQVU7Z0NBQVFDLFlBQVk7Z0NBQUdoQixTQUFTM0UsS0FBS0MsR0FBRyxLQUFLOzRCQUFPOzRCQUFHO2dDQUFFeUYsVUFBVTtnQ0FBU0MsWUFBWTtnQ0FBR2hCLFNBQVMzRSxLQUFLQyxHQUFHLEtBQUs7NEJBQU87eUJBQUU7b0JBQUE7Z0JBQzlNMEIsU0FBUyxRQUFrQixPQUFWNE0sS0FBS3JVLElBQUksRUFBQyxzREFBb0Q7Z0JBQVM7WUFDNUYsS0FBSztnQkFDRGlFLGVBQWVtRixDQUFBQSxJQUFNO3dCQUFDLEdBQUdBLENBQUM7d0JBQUVpSiw2QkFBNkIsQ0FBQ2pKLEVBQUVpSiwyQkFBMkIsSUFBSSxLQUFLO29CQUFJO2dCQUNwRzVLLFNBQVMsUUFBa0IsT0FBVjRNLEtBQUtyVSxJQUFJLEVBQUMsbURBQWlEO2dCQUFTO1lBQ3pGLEtBQUs7Z0JBQ0QsTUFBTXlVLFFBQVE7dUJBQUkvUTtpQkFBWTtnQkFBRUMsZUFBZSxFQUFFO2dCQUFHOFEsTUFBTWpJLE9BQU8sQ0FBQ2xFO2dCQUNsRWIsU0FBVSxnRUFBK0Q7Z0JBQVM7UUFDMUY7UUFDQTFELGFBQWF1RCxDQUFBQSxPQUFRQSxLQUFLYixNQUFNLENBQUN5RyxDQUFBQSxJQUFLQSxFQUFFbk4sRUFBRSxLQUFLMFE7UUFBVS9LLHVCQUF1QjtZQUFDakIsUUFBUTtZQUFPRSxZQUFZO1FBQUk7SUFDcEg7SUFFQSxNQUFNK1AsaUJBQWlCclEsYUFBYW1MLE1BQU0sQ0FBQyxDQUFDQyxLQUFLMUk7WUFBb0J0RjtRQUFaZ08sR0FBRyxDQUFDMUksRUFBRWhILEVBQUUsQ0FBQyxHQUFHMEIsRUFBQUEsa0JBQUFBLFNBQVMsQ0FBQ3NGLEVBQUVoSCxFQUFFLENBQUMsY0FBZjBCLHNDQUFBQSxnQkFBaUIwRSxNQUFNLEtBQUk7UUFBRyxPQUFPc0o7SUFBSyxHQUFHLENBQUM7SUFDbkgsTUFBTWtGLG9CQUFvQjFTLE1BQU1FLFNBQVMsQ0FBQ3NFLE1BQU0sQ0FBQ2lDLENBQUFBLElBQUssQ0FBQ0EsRUFBRUUsV0FBVyxFQUFFekMsTUFBTTtJQUM1RSxNQUFNeU8sbUJBQW1CelAscUJBQXFCRyxVQUFVLEtBQUssYUFBYTFCLGNBQWNvRixJQUFJLENBQUN4QixDQUFBQSxJQUFLQSxFQUFFekgsRUFBRSxLQUFLb0YscUJBQXFCRSxRQUFRLElBQUkzQixZQUFZc0YsSUFBSSxDQUFDbUQsQ0FBQUEsSUFBS0EsRUFBRXJILElBQUksS0FBSyxXQUFXcUgsRUFBRXBNLEVBQUUsS0FBS29GLHFCQUFxQkUsUUFBUTtJQUU5TixNQUFNd1Asa0JBQWtCMVEsbUJBQW1COEYsU0FBUyxDQUFDcEQsQ0FBQUEsSUFBS0EsRUFBRTdHLElBQUksS0FBS3NDO0lBQ3JFLE1BQU13UyxxQkFBcUJ6USxhQUFhb0MsTUFBTSxDQUFDTSxDQUFBQTtRQUMzQyxNQUFNZ08saUJBQWlCNVEsbUJBQW1COEYsU0FBUyxDQUFDcEQsQ0FBQUEsSUFBS0EsRUFBRTdHLElBQUksS0FBSytHLEVBQUVpTyxhQUFhO1FBQ25GLE9BQU9ELG1CQUFtQixDQUFDLEtBQUtBLGtCQUFrQkY7SUFDdEQ7SUFFQSxNQUFNSSxpQkFBaUI1VyxrREFBV0EsQ0FBQztRQUMvQndHLHVCQUF1QnVFLENBQUFBLElBQUtBLEVBQUUzRSxNQUFNLEdBQUc7Z0JBQUVBLFFBQVE7Z0JBQU9LLE1BQU07Z0JBQU1ILFlBQVk7WUFBSyxJQUFJeUU7UUFDekZwRSwyQkFBMkJvRSxDQUFBQSxJQUFLQSxFQUFFM0UsTUFBTSxHQUFHO2dCQUFFQSxRQUFRO2dCQUFPSyxNQUFNO2dCQUFNb1EsWUFBWTNHO2dCQUFXNUosWUFBWTtZQUFLLElBQUl5RTtRQUNwSDVFLG1CQUFtQjRFLENBQUFBLElBQUtBLEVBQUUzRSxNQUFNLEdBQUc7Z0JBQUVBLFFBQVE7Z0JBQU9DLFlBQVk7Z0JBQU1DLFlBQVk7WUFBSyxJQUFJeUU7UUFDM0ZoRSx3QkFBd0JnRSxDQUFBQSxJQUFLQSxFQUFFM0UsTUFBTSxHQUFHO2dCQUFFQSxRQUFRO2dCQUFPWSxVQUFVO2dCQUFNQyxZQUFZO2dCQUFNWCxZQUFZO1lBQUssSUFBSXlFO1FBQ2hINUQsaUJBQWlCNEQsQ0FBQUEsSUFBS0EsRUFBRTNFLE1BQU0sR0FBRztnQkFBRUEsUUFBUTtnQkFBT0UsWUFBWTtZQUFLLElBQUl5RTtRQUN2RWxFLHFCQUFxQmtFLENBQUFBLElBQUtBLEVBQUUzRSxNQUFNLEdBQUc7Z0JBQUVBLFFBQVE7Z0JBQU9FLFlBQVk7WUFBSyxJQUFJeUU7UUFDM0UxRCx1QkFBdUIwRCxDQUFBQSxJQUFLQSxFQUFFM0UsTUFBTSxHQUFHO2dCQUFFQSxRQUFRO2dCQUFPRSxZQUFZO1lBQUssSUFBSXlFO0lBQ2pGLEdBQUcsRUFBRTtJQUVMLE1BQU0rTCwwQkFBMEI5VyxrREFBV0EsQ0FBQyxDQUFDeUcsTUFBNkJvUSxZQUFvQnBFO1FBQzFGbUU7UUFDQWpRLDJCQUEyQjtZQUFFUCxRQUFRO1lBQU1LO1lBQU1vUTtZQUFZdlEsWUFBWW1NO1FBQUs7SUFDbEYsR0FBRztRQUFDbUU7S0FBZTtJQUVuQjNXLGdEQUFTQSxDQUFDO1FBQ04sTUFBTThXLHFCQUFxQixDQUFDekk7WUFDeEIsTUFBTTBJLFNBQVMxSSxNQUFNMEksTUFBTTtZQUMzQixJQUFJLENBQUNBLE9BQU9DLE9BQU8sQ0FBQyx3QkFBd0JMO1FBQ2hEO1FBQ0FNLFNBQVNDLGdCQUFnQixDQUFDLGFBQWFKO1FBQ3ZDLE9BQU8sSUFBTUcsU0FBU0UsbUJBQW1CLENBQUMsYUFBYUw7SUFDM0QsR0FBRztRQUFDSDtLQUFlO0lBRW5CLE1BQU1TLGdCQUFnQjtRQUNsQixPQUFRaFU7WUFDSixLQUFLbEQsOENBQVVBLENBQUNvRCxJQUFJO2dCQUFFLHFCQUFPLDhEQUFDeEMsK0RBQVdBO29CQUFDdVcsV0FBV25JO29CQUFvQm9JLGNBQWN4SDtvQkFBa0J5SCxZQUFZelM7b0JBQVUwUyxjQUFjL0I7Ozs7OztZQUM3SSxLQUFLdlYsOENBQVVBLENBQUNrUCxPQUFPO2dCQUFFLHFCQUFPLDhEQUFDck8saUVBQWFBOzs7OztZQUM5QyxLQUFLYiw4Q0FBVUEsQ0FBQ3dJLE9BQU87Z0JBQ25CLElBQUksQ0FBQ25GLGNBQWMscUJBQU8sOERBQUN4QyxpRUFBYUE7Ozs7O2dCQUN4QyxxQkFDSTs7c0NBQ0ksOERBQUNGLDBEQUFNQTs0QkFDSDBDLGNBQWNBOzRCQUFjRSxXQUFXQTs0QkFBV0UsT0FBT0E7NEJBQU9SLFdBQVdBOzRCQUFXd0UsWUFBWUE7NEJBQVkzRCxZQUFZQTs0QkFBWUUsU0FBU0E7NEJBQVNJLGdCQUFnQkE7NEJBQWdCRSxnQkFBZ0JBOzRCQUFnQmlULFVBQVVqVzs0QkFBV3VFLGNBQWNBOzRCQUMzUDJSLGlCQUFpQixDQUFDbFIsTUFBTWdNO2dDQUFXbUU7Z0NBQWtCcFEsdUJBQXVCO29DQUFFSixRQUFRO29DQUFNSztvQ0FBTUgsWUFBWW1NO2dDQUFLOzRCQUFJOzRCQUN2SG1GLHFCQUFxQmQ7NEJBQ3JCZSx5QkFBeUIsQ0FBQ3BGO2dDQUFXbUU7Z0NBQWtCL1AscUJBQXFCO29DQUFFVCxRQUFRO29DQUFNRSxZQUFZbU07Z0NBQUs7NEJBQUk7NEJBQ2pIdE4sY0FBY0E7NEJBQWMyUyxvQkFBb0IvRTs0QkFBd0JnRixzQkFBc0J6RTs0QkFDOUYwRSxpQkFBaUIsQ0FBQ0MsVUFBVXhGO2dDQUFXbUU7Z0NBQWtCLE1BQU1uUSxPQUFPOEcsT0FBT0MsSUFBSSxDQUFDcEssV0FBV3VILElBQUksQ0FBQ2pCLENBQUFBO3dDQUFPdEc7NENBQUFBLGlCQUFBQSxTQUFTLENBQUNzRyxJQUFjLGNBQXhCdEcscUNBQUFBLGVBQTBCNkssSUFBSSxDQUFDdkYsQ0FBQUEsSUFBS0EsRUFBRWhILEVBQUUsS0FBS3VXLFNBQVN2VyxFQUFFOztnQ0FBSSxJQUFHK0UsTUFBTUUsMkJBQTJCO29DQUFFUCxRQUFRO29DQUFNSztvQ0FBTW9RLFlBQVlvQixTQUFTdlcsRUFBRTtvQ0FBRTRFLFlBQVltTTtnQ0FBSzs0QkFBSTs0QkFDN1F5RixlQUFlblY7NEJBQWdCc0MsYUFBYUE7NEJBQWE4UyxZQUFZMUM7NEJBQ3JFMkMsZ0JBQWdCLENBQUMzRjtnQ0FBV21FO2dDQUFrQnpQLGlCQUFpQjtvQ0FBRWYsUUFBUTtvQ0FBTUUsWUFBWW1NO2dDQUFLOzRCQUFJOzRCQUNwR2xOLGVBQWVBOzRCQUNmOFMsdUJBQXVCLENBQUNqRCxTQUFRM0M7Z0NBQVdtRTtnQ0FBa0I3UCx3QkFBd0I7b0NBQUVYLFFBQVE7b0NBQU1ZLFVBQVVvTztvQ0FBUW5PLFlBQVk7b0NBQVlYLFlBQVltTTtnQ0FBSzs0QkFBSTs0QkFDcEs2Rix5QkFBeUIsQ0FBQzdELGdCQUFnQmhDO2dDQUFXbUU7Z0NBQWtCN1Asd0JBQXdCO29DQUFFWCxRQUFRO29DQUFNWSxVQUFVeU47b0NBQWdCeE4sWUFBWTtvQ0FBZ0JYLFlBQVltTTtnQ0FBSzs0QkFBSTs0QkFDMUw4RixZQUFZcFc7NEJBQWFrQyxjQUFjQTs0QkFBY21VLGVBQWUzSDs0QkFBbUJwTCxXQUFXQTs0QkFDbEdnVCxzQkFBc0IsQ0FBQ2hHO2dDQUFXbUU7Z0NBQWtCdlAsdUJBQXVCO29DQUFFakIsUUFBUTtvQ0FBTUUsWUFBWW1NO2dDQUFLOzRCQUFJOzs7Ozs7c0NBRXBILDhEQUFDeFIsK0RBQVVBOzRCQUFDbUYsUUFBUUYsZ0JBQWdCRSxNQUFNOzRCQUFFc1MsU0FBUyxJQUFNdlMsbUJBQW1CO29DQUFFQyxRQUFRO29DQUFPQyxZQUFZO29DQUFNQyxZQUFZO2dDQUFLOzRCQUFJcVMsa0JBQWtCakc7NEJBQXNCaFAsV0FBV0E7NEJBQVcyUyxnQkFBZ0JBOzRCQUFnQnJRLGNBQWN5UTs0QkFBb0JuUSxZQUFZSixnQkFBZ0JJLFVBQVU7Ozs7OztzQ0FDNVMsOERBQUNuRix3RUFBbUJBOzRCQUFDaUYsUUFBUUcsb0JBQW9CSCxNQUFNOzRCQUFFc1MsU0FBUyxJQUFNbFMsdUJBQXVCO29DQUFFSixRQUFRO29DQUFPSyxNQUFNO29DQUFNSCxZQUFZO2dDQUFLOzRCQUFJRyxNQUFNRixvQkFBb0JFLElBQUk7NEJBQUU3QyxPQUFPQTs0QkFBT2dWLGNBQWNyRTs0QkFBa0JzRSxlQUFlekU7NEJBQTJCMEUsaUJBQWlCLENBQUN6UyxZQUFZb007Z0NBQVdtRTtnQ0FBa0JwRSxvQkFBb0JuTSxZQUFZb007NEJBQU87NEJBQUc1Qyx3QkFBd0JBOzRCQUF3QnZKLFlBQVlDLG9CQUFvQkQsVUFBVTs7Ozs7O3NDQUN4Yyw4REFBQ2xGLDRFQUF1QkE7NEJBQUNnRixRQUFRTSx3QkFBd0JOLE1BQU07NEJBQUVzUyxTQUFTLElBQU0vUiwyQkFBMkI7b0NBQUVQLFFBQVE7b0NBQU9LLE1BQU07b0NBQU1ILFlBQVk7Z0NBQUs7NEJBQUl5UyxZQUFZclM7NEJBQXlCdEQsV0FBV0E7NEJBQVc0QyxjQUFjQTs0QkFBY2dULGtCQUFrQnJGOzRCQUFzQnNGLG9CQUFvQjFGOzRCQUF3QjJGLGNBQWNwRjs0QkFBa0JxRixrQkFBa0J2Rjs0QkFBc0JsUSxXQUFXQTs0QkFBV2tFLFlBQVlBOzRCQUFZOFAsVUFBVWpXOzRCQUFXMlgsY0FBYzVEOzRCQUFrQm5RLGFBQWFBOzRCQUFhaUIsWUFBWUksd0JBQXdCSixVQUFVOzs7Ozs7c0NBQzNqQiw4REFBQ2pGLDRFQUF1QkE7NEJBQUMrRSxRQUFRVSxxQkFBcUJWLE1BQU07NEJBQUVzUyxTQUFTLElBQU0zUix3QkFBd0I7b0NBQUVYLFFBQVE7b0NBQU9ZLFVBQVU7b0NBQU1DLFlBQVk7b0NBQU1YLFlBQVk7Z0NBQUs7NEJBQUlpUSxrQkFBa0JBLG9CQUFvQjs0QkFBTUQsbUJBQW1CQTs0QkFBbUIrQyxtQkFBbUJwRTs0QkFBdUJxRSxtQkFBbUJqRTs0QkFBdUJrRCxZQUFZcFc7NEJBQWE2RCxjQUFjQTs0QkFBY3BDLE9BQU9BOzRCQUFPMEMsWUFBWVEscUJBQXFCUixVQUFVOzs7Ozs7c0NBQ2pjLDhEQUFDaEYsc0VBQWlCQTs0QkFBQzhFLFFBQVFjLGNBQWNkLE1BQU07NEJBQUVzUyxTQUFTLElBQU12UixpQkFBaUI7b0NBQUVmLFFBQVE7b0NBQU9FLFlBQVk7Z0NBQUs7NEJBQUk5QyxjQUFjQTs0QkFBYzhDLFlBQVlZLGNBQWNaLFVBQVU7Ozs7OztzQ0FDdkwsOERBQUMvRSxzRUFBaUJBOzRCQUFDNkUsUUFBUVEsa0JBQWtCUixNQUFNOzRCQUFFc1MsU0FBUyxJQUFNN1IscUJBQXFCO29DQUFFVCxRQUFRO29DQUFPRSxZQUFZO2dDQUFLOzRCQUFJTixjQUFjQTs0QkFBY3FRLGdCQUFnQkE7NEJBQWdCaFIsYUFBYUE7NEJBQWF1UyxxQkFBcUJkOzRCQUF5QnhRLFlBQVlNLGtCQUFrQk4sVUFBVTs7Ozs7O3NDQUMzUyw4REFBQzlFLG1FQUFjQTs0QkFBQzRFLFFBQVFnQixvQkFBb0JoQixNQUFNOzRCQUFFc1MsU0FBUyxJQUFNclIsdUJBQXVCO29DQUFFakIsUUFBUTtvQ0FBT0UsWUFBWTtnQ0FBSzs0QkFBSWIsV0FBV0E7NEJBQVc4VCxXQUFXeEQ7NEJBQWUxUSxhQUFhQTs0QkFBYU0sYUFBYUE7NEJBQWFXLFlBQVljLG9CQUFvQmQsVUFBVTs7Ozs7Ozs7WUFHMVI7Z0JBQVMscUJBQU8sOERBQUN2RiwrREFBV0E7b0JBQUN1VyxXQUFXbkk7b0JBQW9Cb0ksY0FBY3hIO29CQUFrQnlILFlBQVl6UztvQkFBVTBTLGNBQWMvQjs7Ozs7O1FBQ3BJO0lBQ0o7SUFFQSxxQkFDSSw4REFBQzhEO1FBQUlDLFdBQVU7O1lBQ1ZwVyxjQUFjbEQsOENBQVVBLENBQUN3SSxPQUFPLGtCQUM1Qiw4REFBQytRO2dCQUFPQyxTQUFTaEU7Z0JBQWdDOEQsV0FBVTtnQkFBc0pHLGNBQVc7O29CQUF1QztvQkFBWS9VLHFCQUFxQixPQUFPOzs7Ozs7OzBCQUVoVCw4REFBQzNELHdFQUFtQkE7Z0JBQUN5RCxlQUFlQTtnQkFBZWtWLHNCQUFzQjNROzs7Ozs7MEJBQ3pFLDhEQUFDNFE7Z0JBQUtMLFdBQVU7MEJBQ1hwQzs7Ozs7Ozs7Ozs7O0FBSWpCO0dBMXVCTWxVO0tBQUFBO0FBNHVCTiwrREFBZUEsUUFBUUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvYXBwL3BhZ2UudHN4P2Y2OGEiXSwic291cmNlc0NvbnRlbnQiOlsiXG5cbid1c2UgY2xpZW50JztcblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBHYW1lU3RhdHVzLCB0eXBlIENpdmlsaXphdGlvbiwgdHlwZSBSZXNvdXJjZXMsIHR5cGUgVW5pdHMsIHR5cGUgQnVpbGRpbmdzLCB0eXBlIEdhbWVFdmVudCwgdHlwZSBHYW1lTG9nRW50cnksIHR5cGUgTG9nSWNvblR5cGUsIHR5cGUgUmVzb3VyY2VEZWx0YXMsIEJ1aWxkaW5nVHlwZSwgQnVpbGRpbmdJbmZvLCBVSU5vdGlmaWNhdGlvbiwgRnVsbEdhbWVTdGF0ZSwgVmlsbGFnZXIsIE1pbGl0YXJ5VW5pdCwgVW5pdEluZm8sIE1pbGl0YXJ5VW5pdFR5cGUsIEdhbWVUYXNrLCBUYXNrVHlwZSwgUmVzb3VyY2VOb2RlLCBSZXNvdXJjZU5vZGVUeXBlLCBQbGF5ZXJBY3Rpb25TdGF0ZSwgR2FtZUV2ZW50Q2hvaWNlLCBHYW1lSXRlbSwgUmV3YXJkLCBBY3RpdmVCdWZmcywgQnVpbGRpbmdJbnN0YW5jZSwgQWdlQ29uZmlnLCBCdWlsZGluZ0NvbmZpZyB9IGZyb20gJ0AvdHlwZXMnO1xuaW1wb3J0IHsgZ2V0UHJlZGVmaW5lZENpdmlsaXphdGlvbiwgZ2V0UHJlZGVmaW5lZEdhbWVFdmVudCB9IGZyb20gJ0Avc2VydmljZXMvZ2VtaW5pU2VydmljZSc7XG5pbXBvcnQgeyBzYXZlR2FtZVN0YXRlLCBsb2FkR2FtZVN0YXRlLCBnZXRBbGxTYXZlTmFtZXMsIGRlbGV0ZUdhbWVTdGF0ZSwgZ2V0QWxsQWdlQ29uZmlncywgZ2V0QWxsQnVpbGRpbmdDb25maWdzIH0gZnJvbSAnQC9zZXJ2aWNlcy9kYlNlcnZpY2UnO1xuaW1wb3J0IHsgZ2V0UmFuZG9tTmFtZXMgfSBmcm9tICdAL3NlcnZpY2VzL25hbWVTZXJ2aWNlJztcbmltcG9ydCB7IEdBTUVfSVRFTVMgfSBmcm9tICdAL2RhdGEvaXRlbUNvbnRlbnQnO1xuaW1wb3J0IEdhbWVVSSBmcm9tICdAL2NvbXBvbmVudHMvR2FtZVVJJztcbmltcG9ydCBTdGFydFNjcmVlbiBmcm9tICdAL2NvbXBvbmVudHMvU3RhcnRTY3JlZW4nO1xuaW1wb3J0IExvYWRpbmdTY3JlZW4gZnJvbSAnQC9jb21wb25lbnRzL0xvYWRpbmdTY3JlZW4nO1xuaW1wb3J0IEJ1aWxkUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL0J1aWxkUGFuZWwnO1xuaW1wb3J0IE5vdGlmaWNhdGlvbk1hbmFnZXIgZnJvbSAnQC9jb21wb25lbnRzL05vdGlmaWNhdGlvbk1hbmFnZXInO1xuaW1wb3J0IFVuaXRNYW5hZ2VtZW50UGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL1VuaXRNYW5hZ2VtZW50UGFuZWwnO1xuaW1wb3J0IEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9CdWlsZGluZ01hbmFnZW1lbnRQYW5lbCc7XG5pbXBvcnQgUmVzb3VyY2VBc3NpZ25tZW50UGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL1Jlc291cmNlQXNzaWdubWVudFBhbmVsJztcbmltcG9ydCBDaXZpbGl6YXRpb25QYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvQ2l2aWxpemF0aW9uUGFuZWwnO1xuaW1wb3J0IEFsbEJ1aWxkaW5nc1BhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9BbGxCdWlsZGluZ3NQYW5lbCc7XG5pbXBvcnQgSW52ZW50b3J5UGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL0ludmVudG9yeVBhbmVsJztcbmltcG9ydCB7IGJ1aWxkaW5nSWNvbk1hcCB9IGZyb20gJ0AvY29tcG9uZW50cy9pY29ucy9pY29uUmVnaXN0cnknO1xuXG5jb25zdCBVTklUX0lORk86IFVuaXRJbmZvW10gPSBbXG4gICAgeyBpZDogJ3N3b3Jkc21hbicsIG5hbWU6ICdTd29yZHNtYW4nLCBkZXNjcmlwdGlvbjogJ0Jhc2ljIG1lbGVlIGluZmFudHJ5LicsIGNvc3Q6IHsgZm9vZDogNjAsIGdvbGQ6IDIwIH0sIHJlcXVpcmVkQnVpbGRpbmc6ICdiYXJyYWNrcycsIHRyYWluVGltZTogMjIgfSxcbiAgICB7IGlkOiAnYXJjaGVyJywgbmFtZTogJ0FyY2hlcicsIGRlc2NyaXB0aW9uOiAnUmFuZ2VkIHVuaXQgZWZmZWN0aXZlIGFnYWluc3QgaW5mYW50cnkuJywgY29zdDogeyBmb29kOiAzMCwgd29vZDogNDAgfSwgcmVxdWlyZWRCdWlsZGluZzogJ2FyY2hlcnlSYW5nZScsIHRyYWluVGltZTogMjUgfSxcbiAgICB7IGlkOiAna25pZ2h0JywgbmFtZTogJ0tuaWdodCcsIGRlc2NyaXB0aW9uOiAnRmFzdCBhbmQgcG93ZXJmdWwgY2F2YWxyeS4nLCBjb3N0OiB7IGZvb2Q6IDYwLCBnb2xkOiA3NSB9LCByZXF1aXJlZEJ1aWxkaW5nOiAnc3RhYmxlJywgdHJhaW5UaW1lOiAzMCB9LFxuICAgIHsgaWQ6ICdjYXRhcHVsdCcsIG5hbWU6ICdDYXRhcHVsdCcsIGRlc2NyaXB0aW9uOiAnU2llZ2UgZW5naW5lIGRldmFzdGF0aW5nIHRvIGJ1aWxkaW5ncy4nLCBjb3N0OiB7IHdvb2Q6IDE1MCwgZ29sZDogMTUwIH0sIHJlcXVpcmVkQnVpbGRpbmc6ICdzaWVnZVdvcmtzaG9wJywgdHJhaW5UaW1lOiA0NSB9LFxuXTtcblxuY29uc3QgR0FUSEVSX0lORk86IFJlY29yZDxSZXNvdXJjZU5vZGVUeXBlLCB7IHJhdGU6IG51bWJlciB9PiA9IHtcbiAgICBmb29kOiB7IHJhdGU6IDEwIH0sXG4gICAgd29vZDogeyByYXRlOiA4IH0sXG4gICAgZ29sZDogeyByYXRlOiA1IH0sXG4gICAgc3RvbmU6IHsgcmF0ZTogNiB9LFxufVxuXG5jb25zdCBpbml0aWFsQnVpbGRpbmdzU3RhdGU6IEJ1aWxkaW5ncyA9IHtcbiAgICBob3VzZXM6IFtdLCBiYXJyYWNrczogW10sIGFyY2hlcnlSYW5nZTogW10sIHN0YWJsZTogW10sIHNpZWdlV29ya3Nob3A6IFtdLCBibGFja3NtaXRoOiBbXSwgd2F0Y2hUb3dlcjogW10sIHRvd25DZW50ZXI6IFtdXG59O1xuXG5jb25zdCBNQVBfRElNRU5TSU9OUyA9IHsgd2lkdGg6IDI1LCBoZWlnaHQ6IDE4IH07XG5cbmNvbnN0IEZBTExCQUNLX0FHRVMgPSBbXG4gICAgeyBuYW1lOiAnTm9tYWRpYyBBZ2UnLCBkZXNjcmlwdGlvbjogJ0Egc2NhdHRlcmVkIHRyaWJlLCBsZWFybmluZyB0byBzdXJ2aXZlLicgfSxcbiAgICB7IG5hbWU6ICdGZXVkYWwgQWdlJywgZGVzY3JpcHRpb246ICdTb2NpZXR5IG9yZ2FuaXplcyB1bmRlciBsb3JkcyBhbmQgdmFzc2Fscy4nIH0sXG4gICAgeyBuYW1lOiAnQ2FzdGxlIEFnZScsIGRlc2NyaXB0aW9uOiAnUG93ZXJmdWwgZm9ydGlmaWNhdGlvbnMgYW5kIHNpZWdlIHdlYXBvbnJ5IGFwcGVhci4nIH0sXG4gICAgeyBuYW1lOiAnSW1wZXJpYWwgQWdlJywgZGVzY3JpcHRpb246ICdZb3VyIGNpdmlsaXphdGlvbiBiZWNvbWVzIGEgdHJ1ZSBlbXBpcmUuJyB9LFxuXTtcblxuXG5jb25zdCBHYW1lUGFnZTogUmVhY3QuRkMgPSAoKSA9PiB7XG4gICAgY29uc3QgW2dhbWVTdGF0ZSwgc2V0R2FtZVN0YXRlXSA9IHVzZVN0YXRlPEdhbWVTdGF0dXM+KEdhbWVTdGF0dXMuTUVOVSk7XG4gICAgY29uc3QgW2NpdmlsaXphdGlvbiwgc2V0Q2l2aWxpemF0aW9uXSA9IHVzZVN0YXRlPENpdmlsaXphdGlvbiB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFtyZXNvdXJjZXMsIHNldFJlc291cmNlc10gPSB1c2VTdGF0ZTxSZXNvdXJjZXM+KHsgZm9vZDogMjAwLCB3b29kOiAxNTAsIGdvbGQ6IDUwLCBzdG9uZTogMTAwIH0pO1xuICAgIGNvbnN0IFt1bml0cywgc2V0VW5pdHNdID0gdXNlU3RhdGU8VW5pdHM+KHsgdmlsbGFnZXJzOiBbXSwgbWlsaXRhcnk6IFtdIH0pO1xuICAgIGNvbnN0IFtidWlsZGluZ3MsIHNldEJ1aWxkaW5nc10gPSB1c2VTdGF0ZTxCdWlsZGluZ3M+KGluaXRpYWxCdWlsZGluZ3NTdGF0ZSk7XG4gICAgY29uc3QgW2N1cnJlbnRBZ2UsIHNldEN1cnJlbnRBZ2VdID0gdXNlU3RhdGU8c3RyaW5nPignTm9tYWRpYyBBZ2UnKTtcbiAgICBjb25zdCBbZ2FtZUxvZywgc2V0R2FtZUxvZ10gPSB1c2VTdGF0ZTxHYW1lTG9nRW50cnlbXT4oW10pO1xuICAgIGNvbnN0IFtjdXJyZW50RXZlbnQsIHNldEN1cnJlbnRFdmVudF0gPSB1c2VTdGF0ZTxHYW1lRXZlbnQgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbcmVzb3VyY2VEZWx0YXMsIHNldFJlc291cmNlRGVsdGFzXSA9IHVzZVN0YXRlPFJlc291cmNlRGVsdGFzPih7fSk7XG4gICAgY29uc3QgW2FjdGl2aXR5U3RhdHVzLCBzZXRBY3Rpdml0eVN0YXR1c10gPSB1c2VTdGF0ZTxzdHJpbmc+KCdZb3VyIHN0b3J5IGJlZ2lucy4uLicpO1xuICAgIGNvbnN0IFtub3RpZmljYXRpb25zLCBzZXROb3RpZmljYXRpb25zXSA9IHVzZVN0YXRlPFVJTm90aWZpY2F0aW9uW10+KFtdKTtcbiAgICBjb25zdCBbdW5saW1pdGVkUmVzb3VyY2VzLCBzZXRVbmxpbWl0ZWRSZXNvdXJjZXNdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICAgIGNvbnN0IFthbGxTYXZlcywgc2V0QWxsU2F2ZXNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgICBjb25zdCBbY3VycmVudFNhdmVOYW1lLCBzZXRDdXJyZW50U2F2ZU5hbWVdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW3BsYXllckFjdGlvbiwgc2V0UGxheWVyQWN0aW9uXSA9IHVzZVN0YXRlPFBsYXllckFjdGlvblN0YXRlPihudWxsKTtcbiAgICBjb25zdCBbYWN0aXZlVGFza3MsIHNldEFjdGl2ZVRhc2tzXSA9IHVzZVN0YXRlPEdhbWVUYXNrW10+KFtdKTtcbiAgICBjb25zdCBbcmVzb3VyY2VOb2Rlcywgc2V0UmVzb3VyY2VOb2Rlc10gPSB1c2VTdGF0ZTxSZXNvdXJjZU5vZGVbXT4oW10pO1xuICAgIGNvbnN0IFtpbnZlbnRvcnksIHNldEludmVudG9yeV0gPSB1c2VTdGF0ZTxHYW1lSXRlbVtdPihbXSk7XG4gICAgY29uc3QgW2FjdGl2ZUJ1ZmZzLCBzZXRBY3RpdmVCdWZmc10gPSB1c2VTdGF0ZTxBY3RpdmVCdWZmcz4oeyByZXNvdXJjZUJvb3N0OiBbXSB9KTtcbiAgICBcbiAgICAvLyBEeW5hbWljIENvbmZpZ3MgZnJvbSBEQlxuICAgIGNvbnN0IFthZ2VQcm9ncmVzc2lvbkxpc3QsIHNldEFnZVByb2dyZXNzaW9uTGlzdF0gPSB1c2VTdGF0ZTx7bmFtZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nfVtdPihbXSk7XG4gICAgY29uc3QgW2J1aWxkaW5nTGlzdCwgc2V0QnVpbGRpbmdMaXN0XSA9IHVzZVN0YXRlPEJ1aWxkaW5nQ29uZmlnW10+KFtdKTtcblxuICAgIFxuICAgIC8vIFBhbmVsIFN0YXRlc1xuICAgIGNvbnN0IFtidWlsZFBhbmVsU3RhdGUsIHNldEJ1aWxkUGFuZWxTdGF0ZV0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgdmlsbGFnZXJJZDogc3RyaW5nIHwgbnVsbDsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGwgfT4oeyBpc09wZW46IGZhbHNlLCB2aWxsYWdlcklkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIGNvbnN0IFt1bml0TWFuYWdlbWVudFBhbmVsLCBzZXRVbml0TWFuYWdlbWVudFBhbmVsXSA9IHVzZVN0YXRlPHsgaXNPcGVuOiBib29sZWFuOyB0eXBlOiAndmlsbGFnZXJzJyB8ICdtaWxpdGFyeScgfCBudWxsOyBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbDsgfT4oeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIGNvbnN0IFtidWlsZGluZ01hbmFnZW1lbnRQYW5lbCwgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWxdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IHR5cGU6IEJ1aWxkaW5nVHlwZSB8IHN0cmluZyB8IG51bGw7IGluc3RhbmNlSWQ/OiBzdHJpbmc7IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsOyB9Pih7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgY29uc3QgW2FsbEJ1aWxkaW5nc1BhbmVsLCBzZXRBbGxCdWlsZGluZ3NQYW5lbF0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7IH0+KHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICBjb25zdCBbYXNzaWdubWVudFBhbmVsU3RhdGUsIHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlXSA9IHVzZVN0YXRlPHsgaXNPcGVuOiBib29sZWFuOyB0YXJnZXRJZDogc3RyaW5nIHwgbnVsbDsgdGFyZ2V0VHlwZTogJ3Jlc291cmNlJyB8ICdjb25zdHJ1Y3Rpb24nIHwgbnVsbDsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7IH0+KHsgaXNPcGVuOiBmYWxzZSwgdGFyZ2V0SWQ6IG51bGwsIHRhcmdldFR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgY29uc3QgW2NpdlBhbmVsU3RhdGUsIHNldENpdlBhbmVsU3RhdGVdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsOyB9Pih7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgY29uc3QgW2ludmVudG9yeVBhbmVsU3RhdGUsIHNldEludmVudG9yeVBhbmVsU3RhdGVdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsOyB9Pih7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG5cbiAgICBjb25zdCBkZWx0YVRpbWVvdXRSZWYgPSB1c2VSZWY8eyBba2V5IGluIGtleW9mIFJlc291cmNlc10/OiBudW1iZXIgfT4oe30pO1xuICAgIGNvbnN0IGV2ZW50VGltZXJSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBsYXN0VGlja1JlZiA9IHVzZVJlZjxudW1iZXI+KERhdGUubm93KCkpO1xuICAgIGNvbnN0IGFuaW1hdGlvbkZyYW1lUmVmID0gdXNlUmVmPG51bWJlcj4oKTtcblxuICAgIGNvbnN0IHBvcHVsYXRpb24gPSB7XG4gICAgICAgIGN1cnJlbnQ6IHVuaXRzLnZpbGxhZ2Vycy5sZW5ndGggKyB1bml0cy5taWxpdGFyeS5sZW5ndGgsXG4gICAgICAgIGNhcGFjaXR5OiAoYnVpbGRpbmdzLnRvd25DZW50ZXI/Lmxlbmd0aCA+IDAgPyAyMCA6IDApICsgKGJ1aWxkaW5ncy5ob3VzZXM/Lmxlbmd0aCB8fCAwKSAqIDUsXG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBmZXRjaFNhdmVzQW5kQ29uZmlncyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgbmFtZXMgPSBhd2FpdCBnZXRBbGxTYXZlTmFtZXMoKTtcbiAgICAgICAgc2V0QWxsU2F2ZXMobmFtZXMpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgYWxsQWdlQ29uZmlncyA9IGF3YWl0IGdldEFsbEFnZUNvbmZpZ3MoKTtcbiAgICAgICAgY29uc3QgYWN0aXZlQWdlcyA9IGFsbEFnZUNvbmZpZ3MuZmlsdGVyKGFnZSA9PiBhZ2UuaXNBY3RpdmUpO1xuICAgICAgICBpZiAoYWN0aXZlQWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZXRBZ2VQcm9ncmVzc2lvbkxpc3QoYWN0aXZlQWdlcy5tYXAoYSA9PiAoeyBuYW1lOiBhLm5hbWUsIGRlc2NyaXB0aW9uOiBhLmRlc2NyaXB0aW9uIH0pKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRBZ2VQcm9ncmVzc2lvbkxpc3QoRkFMTEJBQ0tfQUdFUyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhbGxCdWlsZGluZ0NvbmZpZ3MgPSBhd2FpdCBnZXRBbGxCdWlsZGluZ0NvbmZpZ3MoKTtcbiAgICAgICAgc2V0QnVpbGRpbmdMaXN0KGFsbEJ1aWxkaW5nQ29uZmlncy5maWx0ZXIoYiA9PiBiLmlzQWN0aXZlKSk7XG5cbiAgICB9LCBbXSk7XG4gICAgXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgZmV0Y2hTYXZlc0FuZENvbmZpZ3MoKTtcbiAgICB9LCBbZmV0Y2hTYXZlc0FuZENvbmZpZ3NdKTtcbiAgICBcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZ2FtZVN0YXRlID09PSBHYW1lU3RhdHVzLlBMQVlJTkcgJiYgY2l2aWxpemF0aW9uICYmIGN1cnJlbnRTYXZlTmFtZSkge1xuICAgICAgICAgICAgY29uc3QgZnVsbFN0YXRlOiBGdWxsR2FtZVN0YXRlID0ge1xuICAgICAgICAgICAgICAgIGNpdmlsaXphdGlvbixcbiAgICAgICAgICAgICAgICByZXNvdXJjZXMsXG4gICAgICAgICAgICAgICAgdW5pdHMsXG4gICAgICAgICAgICAgICAgYnVpbGRpbmdzLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRBZ2UsXG4gICAgICAgICAgICAgICAgZ2FtZUxvZyxcbiAgICAgICAgICAgICAgICBhY3RpdmVUYXNrcyxcbiAgICAgICAgICAgICAgICByZXNvdXJjZU5vZGVzLFxuICAgICAgICAgICAgICAgIGludmVudG9yeSxcbiAgICAgICAgICAgICAgICBhY3RpdmVCdWZmcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzYXZlR2FtZVN0YXRlKGN1cnJlbnRTYXZlTmFtZSwgZnVsbFN0YXRlKTtcbiAgICAgICAgfVxuICAgIH0sIFtjaXZpbGl6YXRpb24sIHJlc291cmNlcywgdW5pdHMsIGJ1aWxkaW5ncywgY3VycmVudEFnZSwgZ2FtZUxvZywgZ2FtZVN0YXRlLCBjdXJyZW50U2F2ZU5hbWUsIGFjdGl2ZVRhc2tzLCByZXNvdXJjZU5vZGVzLCBpbnZlbnRvcnksIGFjdGl2ZUJ1ZmZzXSk7XG5cbiAgICBjb25zdCBhZGROb3RpZmljYXRpb24gPSB1c2VDYWxsYmFjaygobWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkID0gYCR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpfWA7XG4gICAgICAgIHNldE5vdGlmaWNhdGlvbnMocHJldiA9PiBbeyBpZCwgbWVzc2FnZSB9XSk7XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgcmVtb3ZlTm90aWZpY2F0aW9uID0gdXNlQ2FsbGJhY2soKGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgc2V0Tm90aWZpY2F0aW9ucyhwcmV2ID0+IHByZXYuZmlsdGVyKG4gPT4gbi5pZCAhPT0gaWQpKTtcbiAgICB9LCBbXSk7XG4gICAgXG4gICAgY29uc3QgYWRkVG9Mb2cgPSB1c2VDYWxsYmFjaygobWVzc2FnZTogc3RyaW5nLCBpY29uOiBMb2dJY29uVHlwZSkgPT4ge1xuICAgICAgICBzZXRHYW1lTG9nKHByZXYgPT4gW3sgaWQ6IGAke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKX1gLCBtZXNzYWdlLCBpY29uIH0sIC4uLnByZXYuc2xpY2UoMCwgMTkpXSk7XG4gICAgfSwgW10pO1xuICAgIFxuICAgIGNvbnN0IHVwZGF0ZVJlc291cmNlcyA9IHVzZUNhbGxiYWNrKChkZWx0YXM6IFJlc291cmNlRGVsdGFzKSA9PiB7XG4gICAgICAgIHNldFJlc291cmNlcyhwcmV2ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Jlc291cmNlcyA9IHsgLi4ucHJldiB9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGVsdGFzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzb3VyY2VLZXkgPSBrZXkgYXMga2V5b2YgUmVzb3VyY2VzO1xuICAgICAgICAgICAgICAgIG5ld1Jlc291cmNlc1tyZXNvdXJjZUtleV0gPSBNYXRoLm1heCgwLCBuZXdSZXNvdXJjZXNbcmVzb3VyY2VLZXldICsgKGRlbHRhc1tyZXNvdXJjZUtleV0gPz8gMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ld1Jlc291cmNlcztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2V0UmVzb3VyY2VEZWx0YXMocHJldiA9PiAoey4uLnByZXYsIC4uLmRlbHRhc30pKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkZWx0YXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc291cmNlS2V5ID0ga2V5IGFzIGtleW9mIFJlc291cmNlcztcbiAgICAgICAgICAgIGlmIChkZWx0YVRpbWVvdXRSZWYuY3VycmVudFtyZXNvdXJjZUtleV0pIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGRlbHRhVGltZW91dFJlZi5jdXJyZW50W3Jlc291cmNlS2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWx0YVRpbWVvdXRSZWYuY3VycmVudFtyZXNvdXJjZUtleV0gPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0UmVzb3VyY2VEZWx0YXMocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0RlbHRhcyA9IHsuLi5wcmV2fTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG5ld0RlbHRhc1tyZXNvdXJjZUtleV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdEZWx0YXM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCAxNTAwKTtcbiAgICAgICAgfVxuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IGhhbmRsZVRhc2tDb21wbGV0aW9uID0gdXNlQ2FsbGJhY2soKHRhc2s6IEdhbWVUYXNrKSA9PiB7XG4gICAgICAgIGlmICh0YXNrLnBheWxvYWQ/LnZpbGxhZ2VySWRzICYmIHRhc2sucGF5bG9hZC52aWxsYWdlcklkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7IC4uLnByZXYsIHZpbGxhZ2VyczogcHJldi52aWxsYWdlcnMubWFwKHYgPT4gdGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEuaW5jbHVkZXModi5pZCkgPyB7IC4uLnYsIGN1cnJlbnRUYXNrOiBudWxsIH0gOiB2KSB9KSk7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHRhc2sudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnYnVpbGQnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBidWlsZGluZ1R5cGUsIHZpbGxhZ2VySWRzLCBwb3NpdGlvbiB9ID0gdGFzay5wYXlsb2FkITtcbiAgICAgICAgICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IGJ1aWxkaW5nVHlwZSkhO1xuICAgICAgICAgICAgICAgIGNvbnN0IFtuYW1lXSA9IGdldFJhbmRvbU5hbWVzKCdidWlsZGluZycsIDEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0J1aWxkaW5nOiBCdWlsZGluZ0luc3RhbmNlID0geyBpZDogdGFzay5pZCwgbmFtZSwgcG9zaXRpb246IHBvc2l0aW9uISwgY3VycmVudEhwOiBidWlsZGluZ0luZm8uaHAgfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzZXRCdWlsZGluZ3MocCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRCdWlsZGluZ3MgPSBwW2J1aWxkaW5nVHlwZSBhcyBzdHJpbmddIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5wLCBbYnVpbGRpbmdUeXBlIGFzIHN0cmluZ106IFsuLi5jdXJyZW50QnVpbGRpbmdzLCBuZXdCdWlsZGluZ10gfTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAodmlsbGFnZXJJZHMgJiYgdmlsbGFnZXJJZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBhZGRUb0xvZyhgJHt2aWxsYWdlcklkcy5sZW5ndGh9IGJ1aWxkZXIocykgaGF2ZSBjb25zdHJ1Y3RlZCAke25hbWV9LCBhIG5ldyAke2J1aWxkaW5nSW5mby5uYW1lfS5gLCBidWlsZGluZ0luZm8uaWNvbklkKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYENvbnN0cnVjdGlvbiBvZiAke25hbWV9IGlzIGNvbXBsZXRlLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2dhdGhlcic6IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndHJhaW5fdmlsbGFnZXInOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBjb3VudCB9ID0gdGFzay5wYXlsb2FkITtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdWaWxsYWdlck5hbWVzID0gZ2V0UmFuZG9tTmFtZXMoJ3ZpbGxhZ2VyJywgY291bnQhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdWaWxsYWdlcnM6IFZpbGxhZ2VyW10gPSBuZXdWaWxsYWdlck5hbWVzLm1hcChuYW1lID0+ICh7IGlkOiBgJHtEYXRlLm5vdygpfS0ke25hbWV9YCwgbmFtZSwgY3VycmVudFRhc2s6IG51bGwgfSkpO1xuICAgICAgICAgICAgICAgIHNldFVuaXRzKHAgPT4gKHsgLi4ucCwgdmlsbGFnZXJzOiBbLi4ucC52aWxsYWdlcnMsIC4uLm5ld1ZpbGxhZ2Vyc10gfSkpO1xuICAgICAgICAgICAgICAgIGFkZFRvTG9nKGAke2NvdW50fSBuZXcgdmlsbGFnZXIocykgaGF2ZSBqb2luZWQgeW91ciBzZXR0bGVtZW50LmAsICd2aWxsYWdlcicpO1xuICAgICAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGAke2NvdW50fSBuZXcgdmlsbGFnZXIocykgYXJlIHJlYWR5IHRvIHdvcmsuYCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICd0cmFpbl9taWxpdGFyeSc6IHtcbiAgICAgICAgICAgICAgICAgY29uc3QgeyB1bml0VHlwZSwgY291bnQgfSA9IHRhc2sucGF5bG9hZCE7XG4gICAgICAgICAgICAgICAgIGNvbnN0IHVuaXRJbmZvID0gVU5JVF9JTkZPLmZpbmQodSA9PiB1LmlkID09PSB1bml0VHlwZSkhO1xuICAgICAgICAgICAgICAgICBjb25zdCBuZXdVbml0TmFtZXMgPSBnZXRSYW5kb21OYW1lcygnc29sZGllcicsIGNvdW50ISk7XG4gICAgICAgICAgICAgICAgIGNvbnN0IG5ld1VuaXRzOiBNaWxpdGFyeVVuaXRbXSA9IG5ld1VuaXROYW1lcy5tYXAobmFtZSA9PiAoeyBpZDogYCR7RGF0ZS5ub3coKX0tJHt1bml0VHlwZX0tJHtuYW1lfWAsIG5hbWUsIHRpdGxlOiAnJywgdW5pdFR5cGU6IHVuaXRUeXBlISB9KSk7XG4gICAgICAgICAgICAgICAgIHNldFVuaXRzKHAgPT4gKHsgLi4ucCwgbWlsaXRhcnk6IFsuLi5wLm1pbGl0YXJ5LCAuLi5uZXdVbml0c10gfSkpO1xuICAgICAgICAgICAgICAgICBhZGRUb0xvZyhgJHtjb3VudH0gJHt1bml0SW5mby5uYW1lfShzKSBoYXZlIGJlZW4gdHJhaW5lZC5gLCB1bml0VHlwZSEpO1xuICAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgJHtjb3VudH0gbmV3ICR7dW5pdEluZm8ubmFtZX0ocykgYXJlIHJlYWR5IGZvciBiYXR0bGUuYCk7XG4gICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnYWR2YW5jZV9hZ2UnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gYWdlUHJvZ3Jlc3Npb25MaXN0LmZpbmRJbmRleChhZ2UgPT4gYWdlLm5hbWUgPT09IGN1cnJlbnRBZ2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFnZVJlc3VsdCA9IGFnZVByb2dyZXNzaW9uTGlzdFtjdXJyZW50SW5kZXggKyAxXSB8fCB7IG5hbWU6ICdBZ2Ugb2YgTGVnZW5kcycsIGRlc2NyaXB0aW9uOiAnWW91ciBjaXZpbGl6YXRpb24gdHJhbnNjZW5kcyBoaXN0b3J5IGFuZCBiZWNvbWVzIGEgbGVnZW5kLid9O1xuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRBZ2UoYWdlUmVzdWx0Lm5hbWUpO1xuICAgICAgICAgICAgICAgIGFkZFRvTG9nKGBZb3UgaGF2ZSBhZHZhbmNlZCB0byB0aGUgJHthZ2VSZXN1bHQubmFtZX0hYCwgJ2FnZScpO1xuICAgICAgICAgICAgICAgIGFkZFRvTG9nKGFnZVJlc3VsdC5kZXNjcmlwdGlvbiwgJ2FnZScpO1xuICAgICAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBXZWxjb21lIHRvIHRoZSAke2FnZVJlc3VsdC5uYW1lfSFgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtjdXJyZW50QWdlLCBhZGRUb0xvZywgYWdlUHJvZ3Jlc3Npb25MaXN0LCBidWlsZGluZ0xpc3RdKTtcbiAgICBcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZ2FtZVN0YXRlICE9PSBHYW1lU3RhdHVzLlBMQVlJTkcpIHtcbiAgICAgICAgICAgIGlmIChhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50KSBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGdhbWVMb29wID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhVGltZSA9IG5vdyAtIGxhc3RUaWNrUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICBsYXN0VGlja1JlZi5jdXJyZW50ID0gbm93O1xuXG4gICAgICAgICAgICBsZXQgY29tcGxldGVkVGFza3M6IEdhbWVUYXNrW10gPSBbXTtcbiAgICAgICAgICAgIGxldCByZXNvdXJjZURlbHRhc1RoaXNUaWNrOiBSZXNvdXJjZURlbHRhcyA9IHt9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZXRBY3RpdmVCdWZmcyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdSZXNvdXJjZUJvb3N0cyA9IHByZXYucmVzb3VyY2VCb29zdD8uZmlsdGVyKGIgPT4gYi5lbmRUaW1lID4gbm93KTtcbiAgICAgICAgICAgICAgICBpZiAobmV3UmVzb3VyY2VCb29zdHM/Lmxlbmd0aCAhPT0gcHJldi5yZXNvdXJjZUJvb3N0Py5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkVG9Mb2coXCJBIHJlc291cmNlIGdhdGhlcmluZyBib251cyBoYXMgZXhwaXJlZC5cIiwgJ3N5c3RlbScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5wcmV2LCByZXNvdXJjZUJvb3N0OiBuZXdSZXNvdXJjZUJvb3N0cyB9O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHRhc2tzSW5Qcm9ncmVzcyA9IGFjdGl2ZVRhc2tzLm1hcCh0YXNrID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobm93ID49IHRhc2suc3RhcnRUaW1lICsgdGFzay5kdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRUYXNrcy5wdXNoKHRhc2spO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRhc2sudHlwZSA9PT0gJ2dhdGhlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHJlc291cmNlTm9kZXMuZmluZChuID0+IG4uaWQgPT09IHRhc2sucGF5bG9hZD8ucmVzb3VyY2VOb2RlSWQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWxsYWdlckNvdW50ID0gdGFzay5wYXlsb2FkPy52aWxsYWdlcklkcz8ubGVuZ3RoIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbm9kZSB8fCB2aWxsYWdlckNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRUYXNrcy5wdXNoKHRhc2spOyByZXR1cm4gbnVsbDsgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFzZVJhdGVQZXJTZWNvbmQgPSBHQVRIRVJfSU5GT1tub2RlLnR5cGVdLnJhdGU7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjaXZCb251c011bHRpcGxpZXIgPSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2l2aWxpemF0aW9uPy5ib251cy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKG5vZGUudHlwZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBjaXZpbGl6YXRpb24uYm9udXMubWF0Y2goLyhcXGQrKSUvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaD8uWzFdKSBjaXZCb251c011bHRpcGxpZXIgPSAxICsgKHBhcnNlSW50KG1hdGNoWzFdLCAxMCkgLyAxMDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1Cb29zdE11bHRpcGxpZXIgPSBhY3RpdmVCdWZmcy5yZXNvdXJjZUJvb3N0Py5maW5kKGIgPT4gYi5yZXNvdXJjZSA9PT0gbm9kZS50eXBlKT8ubXVsdGlwbGllciB8fCAxO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5hbFJhdGVQZXJTZWNvbmQgPSBiYXNlUmF0ZVBlclNlY29uZCAqIGNpdkJvbnVzTXVsdGlwbGllciAqIGl0ZW1Cb29zdE11bHRpcGxpZXI7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlRGVsdGFzVGhpc1RpY2tbbm9kZS50eXBlXSA9IChyZXNvdXJjZURlbHRhc1RoaXNUaWNrW25vZGUudHlwZV0gfHwgMCkgKyAoZmluYWxSYXRlUGVyU2Vjb25kIC8gMTAwMCkgKiBkZWx0YVRpbWUgKiB2aWxsYWdlckNvdW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGFzaztcbiAgICAgICAgICAgIH0pLmZpbHRlcihCb29sZWFuKSBhcyBHYW1lVGFza1tdO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMocmVzb3VyY2VEZWx0YXNUaGlzVGljaykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVJlc291cmNlcyhyZXNvdXJjZURlbHRhc1RoaXNUaWNrKTtcbiAgICAgICAgICAgICAgICBzZXRSZXNvdXJjZU5vZGVzKHByZXZOb2RlcyA9PiBwcmV2Tm9kZXMubWFwKG5vZGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbW91bnRUb0RlY3JlbWVudCA9IHJlc291cmNlRGVsdGFzVGhpc1RpY2tbbm9kZS50eXBlXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbW91bnRUb0RlY3JlbWVudCkgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0Ftb3VudCA9IG5vZGUuYW1vdW50IC0gYW1vdW50VG9EZWNyZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdBbW91bnQgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFza0lkID0gYGdhdGhlci0ke25vZGUuaWR9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhc2sgPSB0YXNrc0luUHJvZ3Jlc3MuZmluZCh0ID0+IHQuaWQgPT09IHRhc2tJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0YXNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9Mb2coYCR7dGFzay5wYXlsb2FkPy52aWxsYWdlcklkcz8ubGVuZ3RoIHx8IDB9IHZpbGxhZ2VyKHMpIGRlcGxldGVkIGEgJHtub2RlLnR5cGV9IHNvdXJjZSwgZ2FpbmluZyAke01hdGguZmxvb3Iobm9kZS5hbW91bnQpfSAke25vZGUudHlwZX0uYCwgbm9kZS50eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgQSAke25vZGUudHlwZX0gc291cmNlIGhhcyBiZWVuIGZ1bGx5IGRlcGxldGVkLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZFRhc2tzLnB1c2godGFzayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5ub2RlLCBhbW91bnQ6IG5ld0Ftb3VudCB9O1xuICAgICAgICAgICAgICAgIH0pLmZpbHRlcihCb29sZWFuKSBhcyBSZXNvdXJjZU5vZGVbXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGZpbmFsQWN0aXZlVGFza3MgPSB0YXNrc0luUHJvZ3Jlc3MuZmlsdGVyKHQgPT4gIWNvbXBsZXRlZFRhc2tzLnNvbWUoY3QgPT4gY3QuaWQgPT09IHQuaWQpKTtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKGZpbmFsQWN0aXZlVGFza3MpO1xuICAgICAgICAgICAgaWYgKGNvbXBsZXRlZFRhc2tzLmxlbmd0aCA+IDApIGNvbXBsZXRlZFRhc2tzLmZvckVhY2goaGFuZGxlVGFza0NvbXBsZXRpb24pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGdhbWVMb29wKTtcbiAgICAgICAgfTtcbiAgICAgICAgYW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lTG9vcCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7IGlmIChhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50KSBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50KTsgfTtcbiAgICB9LCBbZ2FtZVN0YXRlLCBhY3RpdmVUYXNrcywgcmVzb3VyY2VOb2RlcywgaGFuZGxlVGFza0NvbXBsZXRpb24sIGFkZFRvTG9nLCB1cGRhdGVSZXNvdXJjZXMsIHVuaXRzLnZpbGxhZ2VycywgY2l2aWxpemF0aW9uLCBhY3RpdmVCdWZmc10pO1xuXG4gICAgY29uc3QgaGFuZGxlTmV3RXZlbnQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmICghY2l2aWxpemF0aW9uIHx8IGN1cnJlbnRFdmVudCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBldmVudCA9IGdldFByZWRlZmluZWRHYW1lRXZlbnQoKTtcbiAgICAgICAgc2V0Q3VycmVudEV2ZW50KGV2ZW50KTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoJ0EgbmV3IGV2ZW50IHJlcXVpcmVzIHlvdXIgYXR0ZW50aW9uIScpO1xuICAgIH0sIFtjaXZpbGl6YXRpb24sIGN1cnJlbnRFdmVudF0pO1xuICAgIFxuICAgIGNvbnN0IHNjaGVkdWxlTmV4dEV2ZW50ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnRUaW1lclJlZi5jdXJyZW50KSBjbGVhclRpbWVvdXQoZXZlbnRUaW1lclJlZi5jdXJyZW50KTtcbiAgICAgICAgZXZlbnRUaW1lclJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiBoYW5kbGVOZXdFdmVudCgpLCAoMTAgKyBNYXRoLnJhbmRvbSgpICogMTUpICogMTAwMCk7XG4gICAgfSwgW2hhbmRsZU5ld0V2ZW50XSk7XG5cbiAgICBjb25zdCBnZW5lcmF0ZVJlc291cmNlTm9kZXMgPSAoZXhpc3RpbmdQb3NpdGlvbnM6IFNldDxzdHJpbmc+KTogUmVzb3VyY2VOb2RlW10gPT4ge1xuICAgICAgICBjb25zdCBub2RlczogUmVzb3VyY2VOb2RlW10gPSBbXTtcbiAgICAgICAgY29uc3QgdHlwZXM6IFJlc291cmNlTm9kZVR5cGVbXSA9IFsnZm9vZCcsICd3b29kJywgJ2dvbGQnLCAnc3RvbmUnXTtcbiAgICAgICAgY29uc3QgbnVtTm9kZXMgPSAyMCArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1Ob2RlczsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcG9zOiB7eDogbnVtYmVyLCB5OiBudW1iZXJ9O1xuICAgICAgICAgICAgZG8geyBwb3MgPSB7IHg6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE1BUF9ESU1FTlNJT05TLndpZHRoKSwgeTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTUFQX0RJTUVOU0lPTlMuaGVpZ2h0KSB9IH0gd2hpbGUgKGV4aXN0aW5nUG9zaXRpb25zLmhhcyhgJHtwb3MueH0sJHtwb3MueX1gKSk7XG4gICAgICAgICAgICBleGlzdGluZ1Bvc2l0aW9ucy5hZGQoYCR7cG9zLnh9LCR7cG9zLnl9YCk7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gdHlwZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdHlwZXMubGVuZ3RoKV07XG4gICAgICAgICAgICBub2Rlcy5wdXNoKHsgaWQ6IGAke0RhdGUubm93KCl9LW5vZGUtJHtpfWAsIHR5cGUsIHBvc2l0aW9uOiBwb3MsIGFtb3VudDogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjAwMSkgKyA1MDAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGVzO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVTdGFydE5ld0dhbWUgPSBhc3luYyAoc2F2ZU5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAoYWxsU2F2ZXMuaW5jbHVkZXMoc2F2ZU5hbWUpKSB7IGFkZE5vdGlmaWNhdGlvbihgQSBzYWdhIG5hbWVkIFwiJHtzYXZlTmFtZX1cIiBhbHJlYWR5IGV4aXN0cy5gKTsgcmV0dXJuOyB9XG4gICAgICAgIHNldEdhbWVTdGF0ZShHYW1lU3RhdHVzLkxPQURJTkcpO1xuICAgICAgICBzZXRDdXJyZW50U2F2ZU5hbWUoc2F2ZU5hbWUpO1xuICAgICAgICBhd2FpdCBmZXRjaFNhdmVzQW5kQ29uZmlncygpO1xuICAgICAgICBjb25zdCBjaXYgPSBnZXRQcmVkZWZpbmVkQ2l2aWxpemF0aW9uKCk7XG4gICAgICAgIHNldENpdmlsaXphdGlvbihjaXYpO1xuICAgICAgICBzZXRSZXNvdXJjZXMoeyBmb29kOiAyMDAsIHdvb2Q6IDE1MCwgZ29sZDogNTAsIHN0b25lOiAxMDAgfSk7XG4gICAgICAgIGNvbnN0IGluaXRpYWxWaWxsYWdlcnMgPSBnZXRSYW5kb21OYW1lcygndmlsbGFnZXInLCAzKS5tYXAobmFtZSA9PiAoeyBpZDogYCR7RGF0ZS5ub3coKX0tJHtuYW1lfWAsIG5hbWUsIGN1cnJlbnRUYXNrOiBudWxsIH0pKTtcbiAgICAgICAgc2V0VW5pdHMoeyB2aWxsYWdlcnM6IGluaXRpYWxWaWxsYWdlcnMsIG1pbGl0YXJ5OiBbXSB9KTtcbiAgICAgICAgY29uc3QgdGNQb3NpdGlvbiA9IHsgeDogTWF0aC5mbG9vcihNQVBfRElNRU5TSU9OUy53aWR0aCAvIDIpLCB5OiBNYXRoLmZsb29yKE1BUF9ESU1FTlNJT05TLmhlaWdodCAvIDIpIH07XG4gICAgICAgIGNvbnN0IHRjSW5mbyA9IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gJ3Rvd25DZW50ZXInKSE7XG4gICAgICAgIGNvbnN0IGluaXRpYWxUQyA9IHsgaWQ6IGAke0RhdGUubm93KCl9LXRjYCwgbmFtZTogZ2V0UmFuZG9tTmFtZXMoJ2J1aWxkaW5nJywgMSlbMF0sIHBvc2l0aW9uOiB0Y1Bvc2l0aW9uLCBjdXJyZW50SHA6IHRjSW5mby5ocCB9O1xuICAgICAgICBzZXRCdWlsZGluZ3Moey4uLmluaXRpYWxCdWlsZGluZ3NTdGF0ZSwgdG93bkNlbnRlcjogW2luaXRpYWxUQ119KTtcbiAgICAgICAgc2V0UmVzb3VyY2VOb2RlcyhnZW5lcmF0ZVJlc291cmNlTm9kZXMobmV3IFNldChbYCR7dGNQb3NpdGlvbi54fSwke3RjUG9zaXRpb24ueX1gXSkpKTtcbiAgICAgICAgc2V0Q3VycmVudEFnZShhZ2VQcm9ncmVzc2lvbkxpc3RbMF0/Lm5hbWUgfHwgRkFMTEJBQ0tfQUdFU1swXS5uYW1lKTtcbiAgICAgICAgc2V0R2FtZUxvZyhbXSk7IHNldEN1cnJlbnRFdmVudChudWxsKTsgc2V0VW5saW1pdGVkUmVzb3VyY2VzKGZhbHNlKTsgc2V0QWN0aXZlVGFza3MoW10pOyBzZXRJbnZlbnRvcnkoW10pOyBzZXRBY3RpdmVCdWZmcyh7IHJlc291cmNlQm9vc3Q6IFtdIH0pO1xuICAgICAgICBhZGRUb0xvZyhgJHtjaXYubmFtZX0gaGFzIGJlZW4gZm91bmRlZCFgLCAnc3lzdGVtJyk7XG4gICAgICAgIGFkZFRvTG9nKCdZb3VyIHN0b3J5IGJlZ2lucy4uLicsICdzeXN0ZW0nKTtcbiAgICAgICAgc2V0R2FtZVN0YXRlKEdhbWVTdGF0dXMuUExBWUlORyk7XG4gICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKCdZb3VyIHNldHRsZW1lbnQgYXdhaXRzIHlvdXIgY29tbWFuZC4nKTtcbiAgICAgICAgZmV0Y2hTYXZlc0FuZENvbmZpZ3MoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaXNWaWxsYWdlckJ1c3kgPSB1c2VDYWxsYmFjaygodmlsbGFnZXJJZDogc3RyaW5nKTogYm9vbGVhbiA9PiAhIXVuaXRzLnZpbGxhZ2Vycy5maW5kKHYgPT4gdi5pZCA9PT0gdmlsbGFnZXJJZCk/LmN1cnJlbnRUYXNrLCBbdW5pdHMudmlsbGFnZXJzXSk7XG5cbiAgICBjb25zdCBnZXRWaWxsYWdlclRhc2tEZXRhaWxzID0gdXNlQ2FsbGJhY2soKHZpbGxhZ2VySWQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgICAgIGNvbnN0IHZpbGxhZ2VyID0gdW5pdHMudmlsbGFnZXJzLmZpbmQodiA9PiB2LmlkID09PSB2aWxsYWdlcklkKTtcbiAgICAgICAgaWYgKCF2aWxsYWdlcj8uY3VycmVudFRhc2spIHJldHVybiAnSWRsZSc7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBhY3RpdmVUYXNrcy5maW5kKHQgPT4gdC5pZCA9PT0gdmlsbGFnZXIuY3VycmVudFRhc2spO1xuICAgICAgICBpZiAoIXRhc2spIHJldHVybiAnSWRsZSAoRmluYWxpemluZyBUYXNrKSc7XG4gICAgICAgIGlmICh0YXNrLnR5cGUgPT09ICdidWlsZCcpIHJldHVybiBgQnVzeTogQ29uc3RydWN0aW5nICR7YnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSB0YXNrLnBheWxvYWQhLmJ1aWxkaW5nVHlwZSk/Lm5hbWUgfHwgJ2EgYnVpbGRpbmcnfWA7XG4gICAgICAgIGlmICh0YXNrLnR5cGUgPT09ICdnYXRoZXInKSByZXR1cm4gYEJ1c3k6IEdhdGhlcmluZyAke3Jlc291cmNlTm9kZXMuZmluZChuID0+IG4uaWQgPT09IHRhc2sucGF5bG9hZCEucmVzb3VyY2VOb2RlSWQpPy50eXBlIHx8ICdyZXNvdXJjZXMnfWA7XG4gICAgICAgIHJldHVybiAnSWRsZSc7XG4gICAgfSwgW2FjdGl2ZVRhc2tzLCByZXNvdXJjZU5vZGVzLCB1bml0cy52aWxsYWdlcnMsIGJ1aWxkaW5nTGlzdF0pO1xuXG4gICAgY29uc3QgaGFuZGxlUmVzdW1lR2FtZSA9IGFzeW5jIChzYXZlTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGF3YWl0IGZldGNoU2F2ZXNBbmRDb25maWdzKCk7XG4gICAgICAgIGNvbnN0IHNhdmVkU3RhdGUgPSBhd2FpdCBsb2FkR2FtZVN0YXRlKHNhdmVOYW1lKSBhcyBGdWxsR2FtZVN0YXRlO1xuICAgICAgICBpZiAoc2F2ZWRTdGF0ZSkge1xuICAgICAgICAgICAgc2V0R2FtZVN0YXRlKEdhbWVTdGF0dXMuTE9BRElORyk7XG4gICAgICAgICAgICBzZXRDdXJyZW50U2F2ZU5hbWUoc2F2ZU5hbWUpO1xuICAgICAgICAgICAgc2V0Q2l2aWxpemF0aW9uKHNhdmVkU3RhdGUuY2l2aWxpemF0aW9uKTtcbiAgICAgICAgICAgIHNldFJlc291cmNlcyhzYXZlZFN0YXRlLnJlc291cmNlcyk7XG4gICAgICAgICAgICBjb25zdCBtaWdyYXRlZFZpbGxhZ2VycyA9IChzYXZlZFN0YXRlLnVuaXRzLnZpbGxhZ2VycyB8fCBbXSkubWFwKHYgPT4gKHsuLi52LCBjdXJyZW50VGFzazogdi5jdXJyZW50VGFzayAhPT0gdW5kZWZpbmVkID8gdi5jdXJyZW50VGFzayA6IG51bGx9KSk7XG4gICAgICAgICAgICBjb25zdCBtaWdyYXRlZFRhc2tzID0gKHNhdmVkU3RhdGUuYWN0aXZlVGFza3MgfHwgW10pLm1hcCh0ID0+IHQudHlwZSA9PT0gJ2J1aWxkJyAmJiAhdC5wYXlsb2FkPy52aWxsYWdlcklkcyA/IHsgLi4udCwgcGF5bG9hZDogeyAuLi50LnBheWxvYWQsIHZpbGxhZ2VySWRzOiBbXSB9IH0gOiB0KTtcbiAgICAgICAgICAgIG1pZ3JhdGVkVGFza3MuZm9yRWFjaCh0YXNrID0+IHRhc2sucGF5bG9hZD8udmlsbGFnZXJJZHM/LmZvckVhY2godmlkID0+IHsgY29uc3QgdiA9IG1pZ3JhdGVkVmlsbGFnZXJzLmZpbmQodiA9PiB2LmlkID09PSB2aWQpOyBpZih2KSB2LmN1cnJlbnRUYXNrID0gdGFzay5pZDsgfSkpO1xuICAgICAgICAgICAgc2V0VW5pdHMoeyAuLi5zYXZlZFN0YXRlLnVuaXRzLCB2aWxsYWdlcnM6IG1pZ3JhdGVkVmlsbGFnZXJzIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBjb25zdHJ1Y3Rpb25UYXNrcyA9IG1pZ3JhdGVkVGFza3MuZmlsdGVyKHQgPT4gdC50eXBlID09PSAnYnVpbGQnKTtcbiAgICAgICAgICAgIGNvbnN0IG9jY3VwaWVkQ2VsbHMgPSBuZXcgU2V0KFsuLi5PYmplY3QudmFsdWVzKHNhdmVkU3RhdGUuYnVpbGRpbmdzIHx8IHt9KS5mbGF0KCkubWFwKChiOiBhbnkpID0+IGAke2IucG9zaXRpb24ueH0sJHtiLnBvc2l0aW9uLnl9YCksIC4uLmNvbnN0cnVjdGlvblRhc2tzLm1hcCh0ID0+IGAke3QucGF5bG9hZCEucG9zaXRpb24hLnh9LCR7dC5wYXlsb2FkIS5wb3NpdGlvbiEueX1gKV0pO1xuICAgICAgICAgICAgbGV0IGZpbmFsQnVpbGRpbmdzID0geyAuLi5pbml0aWFsQnVpbGRpbmdzU3RhdGUsIC4uLihzYXZlZFN0YXRlLmJ1aWxkaW5ncyB8fCB7fSkgfTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGZpbmFsQnVpbGRpbmdzKS5mb3JFYWNoKGJUeXBlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmZvID0gYnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSBiVHlwZSk7XG4gICAgICAgICAgICAgICAgaWYoaW5mbykgZmluYWxCdWlsZGluZ3NbYlR5cGVdID0gZmluYWxCdWlsZGluZ3NbYlR5cGVdLm1hcChiID0+ICh7IC4uLmIsIGN1cnJlbnRIcDogYi5jdXJyZW50SHAgPT09IHVuZGVmaW5lZCA/IGluZm8uaHAgOiBiLmN1cnJlbnRIcCB9KSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghZmluYWxCdWlsZGluZ3MudG93bkNlbnRlciB8fCBmaW5hbEJ1aWxkaW5ncy50b3duQ2VudGVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGxldCB0Y1BvcyA9IHsgeDogMTAsIHk6IDUgfTsgd2hpbGUgKG9jY3VwaWVkQ2VsbHMuaGFzKGAke3RjUG9zLnh9LCR7dGNQb3MueX1gKSkgeyB0Y1Bvcy54Kys7IH1cbiAgICAgICAgICAgICAgICBjb25zdCB0Y0luZm8gPSBidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09ICd0b3duQ2VudGVyJykhO1xuICAgICAgICAgICAgICAgIGZpbmFsQnVpbGRpbmdzLnRvd25DZW50ZXIgPSBbeyBpZDogYCR7RGF0ZS5ub3coKX0tdGNgLCBuYW1lOiBnZXRSYW5kb21OYW1lcygnYnVpbGRpbmcnLCAxKVswXSwgcG9zaXRpb246IHRjUG9zLCBjdXJyZW50SHA6IHRjSW5mby5ocCB9XTtcbiAgICAgICAgICAgICAgICBvY2N1cGllZENlbGxzLmFkZChgJHt0Y1Bvcy54fSwke3RjUG9zLnl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRCdWlsZGluZ3MoZmluYWxCdWlsZGluZ3MpO1xuXG4gICAgICAgICAgICBzZXRSZXNvdXJjZU5vZGVzKChzYXZlZFN0YXRlLnJlc291cmNlTm9kZXMgfHwgW10pLmxlbmd0aCA9PT0gMCA/IGdlbmVyYXRlUmVzb3VyY2VOb2RlcyhvY2N1cGllZENlbGxzKSA6IChzYXZlZFN0YXRlLnJlc291cmNlTm9kZXMgfHwgW10pKTtcbiAgICAgICAgICAgIHNldEN1cnJlbnRBZ2Uoc2F2ZWRTdGF0ZS5jdXJyZW50QWdlKTsgc2V0R2FtZUxvZyhzYXZlZFN0YXRlLmdhbWVMb2cpOyBzZXRBY3RpdmVUYXNrcyhtaWdyYXRlZFRhc2tzKTtcbiAgICAgICAgICAgIHNldEludmVudG9yeShzYXZlZFN0YXRlLmludmVudG9yeSB8fCBbXSk7IHNldEFjdGl2ZUJ1ZmZzKHNhdmVkU3RhdGUuYWN0aXZlQnVmZnMgfHwgeyByZXNvdXJjZUJvb3N0OiBbXSB9KTtcbiAgICAgICAgICAgIHNldEN1cnJlbnRFdmVudChudWxsKTsgc2V0QWN0aXZpdHlTdGF0dXMoJ1dlbGNvbWUgYmFjayB0byB5b3VyIHNhZ2EuJyk7XG4gICAgICAgICAgICBzZXRHYW1lU3RhdGUoR2FtZVN0YXR1cy5QTEFZSU5HKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihgQ291bGQgbm90IGZpbmQgYSBzYXZlZCBnYW1lIG5hbWVkIFwiJHtzYXZlTmFtZX1cIi5gKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZ2FtZVN0YXRlICE9PSBHYW1lU3RhdHVzLlBMQVlJTkcpIHJldHVybjtcbiAgICAgICAgaWYgKCFjdXJyZW50RXZlbnQpIHNjaGVkdWxlTmV4dEV2ZW50KCk7XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50VGltZXJSZWYuY3VycmVudCkgY2xlYXJUaW1lb3V0KGV2ZW50VGltZXJSZWYuY3VycmVudCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7IGlmIChldmVudFRpbWVyUmVmLmN1cnJlbnQpIGNsZWFyVGltZW91dChldmVudFRpbWVyUmVmLmN1cnJlbnQpOyB9O1xuICAgIH0sIFtnYW1lU3RhdGUsIGN1cnJlbnRFdmVudCwgc2NoZWR1bGVOZXh0RXZlbnRdKTtcblxuICAgIGNvbnN0IGhhbmRsZUV2ZW50Q2hvaWNlID0gKGNob2ljZTogR2FtZUV2ZW50Q2hvaWNlKSA9PiB7XG4gICAgICAgIGlmIChjaG9pY2UuY29zdCkge1xuICAgICAgICAgICAgY29uc3QgbWlzc2luZyA9IChPYmplY3Qua2V5cyhjaG9pY2UuY29zdCkgYXMgKGtleW9mIFJlc291cmNlcylbXSkuZmlsdGVyKHJlcyA9PiByZXNvdXJjZXNbcmVzXSA8IChjaG9pY2UuY29zdCFbcmVzXSB8fCAwKSk7XG4gICAgICAgICAgICBpZiAobWlzc2luZy5sZW5ndGggPiAwKSB7IGFkZE5vdGlmaWNhdGlvbihgWW91IGxhY2sgdGhlIHJlcXVpcmVkIHJlc291cmNlczogJHttaXNzaW5nLmpvaW4oJywgJyl9LmApOyByZXR1cm47IH1cbiAgICAgICAgICAgIHVwZGF0ZVJlc291cmNlcyhPYmplY3QuZW50cmllcyhjaG9pY2UuY29zdCkucmVkdWNlKChhY2MsIFtrLCB2XSkgPT4gKHsuLi5hY2MsIFtrXTogLXZ9KSwge30pKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc1N1Y2Nlc3MgPSBjaG9pY2Uuc3VjY2Vzc0NoYW5jZSA9PT0gdW5kZWZpbmVkIHx8IE1hdGgucmFuZG9tKCkgPCBjaG9pY2Uuc3VjY2Vzc0NoYW5jZTtcbiAgICAgICAgY29uc3QgZWZmZWN0cyA9IGlzU3VjY2VzcyA/IGNob2ljZS5zdWNjZXNzRWZmZWN0cyA6IGNob2ljZS5mYWlsdXJlRWZmZWN0cztcbiAgICAgICAgaWYgKCFlZmZlY3RzKSB7IHNldEN1cnJlbnRFdmVudChudWxsKTsgc2NoZWR1bGVOZXh0RXZlbnQoKTsgcmV0dXJuOyB9XG5cbiAgICAgICAgbGV0IGxvZ01lc3NhZ2UgPSBgRGVjaXNpb246IFwiJHtjaG9pY2UudGV4dH1cIi4gT3V0Y29tZTogJHtpc1N1Y2Nlc3MgPyAnU3VjY2VzcycgOiAnRmFpbHVyZSd9LiAke2VmZmVjdHMubG9nfWA7XG4gICAgICAgIGVmZmVjdHMucmV3YXJkcy5mb3JFYWNoKChyZXdhcmQ6IFJld2FyZCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJld2FyZC50eXBlID09PSAncmVzb3VyY2UnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gQXJyYXkuaXNBcnJheShyZXdhcmQuYW1vdW50KSA/IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChyZXdhcmQuYW1vdW50WzFdIC0gcmV3YXJkLmFtb3VudFswXSArIDEpKSArIHJld2FyZC5hbW91bnRbMF0gOiByZXdhcmQuYW1vdW50O1xuICAgICAgICAgICAgICAgIGlmIChhbW91bnQgIT09IDApIHsgdXBkYXRlUmVzb3VyY2VzKHsgW3Jld2FyZC5yZXNvdXJjZV06IGFtb3VudCB9KTsgbG9nTWVzc2FnZSArPSBgIFlvdSAke2Ftb3VudCA+IDAgPyAnZ2FpbmVkJyA6ICdsb3N0J30gJHtNYXRoLmFicyhhbW91bnQpfSAke3Jld2FyZC5yZXNvdXJjZX0uYDsgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXdhcmQudHlwZSA9PT0gJ2l0ZW0nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbUluZm8gPSBHQU1FX0lURU1TW3Jld2FyZC5pdGVtSWRdO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtSW5mbykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdJdGVtcyA9IEFycmF5LmZyb20oe2xlbmd0aDogcmV3YXJkLmFtb3VudH0sIChfLCBpKSA9PiAoeyAuLi5pdGVtSW5mbywgaWQ6IGAke3Jld2FyZC5pdGVtSWR9LSR7RGF0ZS5ub3coKX0tJHtpfWAgfSkpO1xuICAgICAgICAgICAgICAgICAgICBzZXRJbnZlbnRvcnkocHJldiA9PiBbLi4ucHJldiwgLi4ubmV3SXRlbXNdKTtcbiAgICAgICAgICAgICAgICAgICAgbG9nTWVzc2FnZSArPSBgIFlvdSByZWNlaXZlZCAke3Jld2FyZC5hbW91bnR9eCAke2l0ZW1JbmZvLm5hbWV9IWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXdhcmQudHlwZSA9PT0gJ3VuaXQnICYmIHJld2FyZC51bml0VHlwZSA9PT0gJ3ZpbGxhZ2VyJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZpbGxhZ2VycyA9IGdldFJhbmRvbU5hbWVzKCd2aWxsYWdlcicsIHJld2FyZC5hbW91bnQpLm1hcChuYW1lID0+ICh7IGlkOiBgJHtEYXRlLm5vdygpfS0ke25hbWV9YCwgbmFtZSwgY3VycmVudFRhc2s6IG51bGwgfSkpO1xuICAgICAgICAgICAgICAgIHNldFVuaXRzKHAgPT4gKHsgLi4ucCwgdmlsbGFnZXJzOiBbLi4ucC52aWxsYWdlcnMsIC4uLm5ld1ZpbGxhZ2Vyc10gfSkpO1xuICAgICAgICAgICAgICAgIGxvZ01lc3NhZ2UgKz0gYCBZb3UgZ2FpbmVkICR7cmV3YXJkLmFtb3VudH0gdmlsbGFnZXIocykuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBhZGRUb0xvZyhsb2dNZXNzYWdlLCAnZXZlbnQnKTsgc2V0QWN0aXZpdHlTdGF0dXMoZWZmZWN0cy5sb2cpOyBzZXRDdXJyZW50RXZlbnQobnVsbCk7IHNjaGVkdWxlTmV4dEV2ZW50KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUluaXRpYXRlQnVpbGQgPSAodmlsbGFnZXJJZDogc3RyaW5nLCByZWN0OiBET01SZWN0KSA9PiB7XG4gICAgICAgIGlmIChpc1ZpbGxhZ2VyQnVzeSh2aWxsYWdlcklkKSkgeyBhZGROb3RpZmljYXRpb24oXCJUaGlzIHZpbGxhZ2VyIGlzIGFscmVhZHkgYnVzeS5cIik7IHJldHVybjsgfVxuICAgICAgICBzZXRCdWlsZFBhbmVsU3RhdGUoeyBpc09wZW46IHRydWUsIHZpbGxhZ2VySWQsIGFuY2hvclJlY3Q6IHJlY3QgfSk7XG4gICAgICAgIHNldFVuaXRNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgaGFuZGxlU3RhcnRQbGFjZW1lbnQgPSAoYnVpbGRpbmdJZDogQnVpbGRpbmdUeXBlIHwgc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IHZpbGxhZ2VySWQgPSBidWlsZFBhbmVsU3RhdGUudmlsbGFnZXJJZDsgaWYgKCF2aWxsYWdlcklkKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gYnVpbGRpbmdJZCk7IGlmICghYnVpbGRpbmdJbmZvKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGlzQWxyZWFkeUNvbnN0cnVjdGluZyA9IGFjdGl2ZVRhc2tzLnNvbWUodCA9PiB0LnR5cGUgPT09ICdidWlsZCcgJiYgdC5wYXlsb2FkPy5idWlsZGluZ1R5cGUgPT09IGJ1aWxkaW5nSW5mby5pZCk7XG4gICAgICAgIGlmIChidWlsZGluZ0luZm8uaXNVbmlxdWUgJiYgKChidWlsZGluZ3NbYnVpbGRpbmdJbmZvLmlkXT8ubGVuZ3RoIHx8IDApID4gMCB8fCBpc0FscmVhZHlDb25zdHJ1Y3RpbmcpKSB7IGFkZE5vdGlmaWNhdGlvbihgWW91IGNhbiBvbmx5IGJ1aWxkIG9uZSAke2J1aWxkaW5nSW5mby5uYW1lfS5gKTsgcmV0dXJuOyB9XG4gICAgICAgIGNvbnN0IG1pc3NpbmcgPSB1bmxpbWl0ZWRSZXNvdXJjZXMgPyBbXSA6IChPYmplY3Qua2V5cyhidWlsZGluZ0luZm8uY29zdCkgYXMgKGtleW9mIFJlc291cmNlcylbXSkuZmlsdGVyKHJlcyA9PiByZXNvdXJjZXNbcmVzXSA8IChidWlsZGluZ0luZm8uY29zdFtyZXNdIHx8IDApKTtcbiAgICAgICAgaWYgKG1pc3NpbmcubGVuZ3RoID4gMCkgeyBhZGROb3RpZmljYXRpb24oYE5lZWQgbW9yZSAke21pc3Npbmcuam9pbignLCAnKX0uYCk7IHJldHVybjsgfVxuICAgICAgICBzZXRQbGF5ZXJBY3Rpb24oeyBtb2RlOiAnYnVpbGQnLCBidWlsZGluZ1R5cGU6IGJ1aWxkaW5nSWQsIHZpbGxhZ2VySWQgfSk7XG4gICAgICAgIHNldEJ1aWxkUGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIHZpbGxhZ2VySWQ6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBTZWxlY3QgYSBsb2NhdGlvbiB0byBidWlsZCBhICR7YnVpbGRpbmdJbmZvLm5hbWV9LiBSaWdodC1jbGljayB0byBjYW5jZWwuYCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUNvbmZpcm1QbGFjZW1lbnQgPSAocG9zaXRpb246IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSkgPT4ge1xuICAgICAgICBpZiAocGxheWVyQWN0aW9uPy5tb2RlICE9PSAnYnVpbGQnKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgYnVpbGRpbmdUeXBlLCB2aWxsYWdlcklkIH0gPSBwbGF5ZXJBY3Rpb247XG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gYnVpbGRpbmdUeXBlKTtcbiAgICAgICAgY29uc3QgYnVpbGRlciA9IHVuaXRzLnZpbGxhZ2Vycy5maW5kKHYgPT4gdi5pZCA9PT0gdmlsbGFnZXJJZCk7XG4gICAgICAgIGlmICghYnVpbGRpbmdJbmZvIHx8ICFidWlsZGVyKSByZXR1cm47XG4gICAgICAgIGlmICghdW5saW1pdGVkUmVzb3VyY2VzKSB1cGRhdGVSZXNvdXJjZXMoT2JqZWN0LmVudHJpZXMoYnVpbGRpbmdJbmZvLmNvc3QpLnJlZHVjZSgoYWNjLCBbaywgdl0pID0+ICh7Li4uYWNjLCBba106IC12fSksIHt9KSk7XG4gICAgICAgIFxuICAgICAgICBsZXQgYnVpbGRUaW1lID0gYnVpbGRpbmdJbmZvLmJ1aWxkVGltZSAqIDEwMDA7XG4gICAgICAgIGlmKGFjdGl2ZUJ1ZmZzLmJ1aWxkVGltZVJlZHVjdGlvbikge1xuICAgICAgICAgICAgYnVpbGRUaW1lICo9ICgxIC0gYWN0aXZlQnVmZnMuYnVpbGRUaW1lUmVkdWN0aW9uLnBlcmNlbnRhZ2UpO1xuICAgICAgICAgICAgYWRkVG9Mb2coYEEgQnVpbGRlcidzIENoYXJtIHJlZHVjZWQgY29uc3RydWN0aW9uIHRpbWUgYnkgJHthY3RpdmVCdWZmcy5idWlsZFRpbWVSZWR1Y3Rpb24ucGVyY2VudGFnZSAqIDEwMH0lIWAsICdpdGVtJyk7XG4gICAgICAgICAgICBzZXRBY3RpdmVCdWZmcyhwcmV2ID0+ICh7Li4ucHJldiwgYnVpbGRUaW1lUmVkdWN0aW9uOiBwcmV2LmJ1aWxkVGltZVJlZHVjdGlvbiEudXNlcyAtIDEgPiAwID8gey4uLnByZXYuYnVpbGRUaW1lUmVkdWN0aW9uISwgdXNlczogcHJldi5idWlsZFRpbWVSZWR1Y3Rpb24hLnVzZXMgLSAxfSA6IHVuZGVmaW5lZCB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRhc2tJZCA9IGAke0RhdGUubm93KCl9LWJ1aWxkLSR7YnVpbGRpbmdUeXBlfWA7XG4gICAgICAgIGNvbnN0IHRhc2tQYXlsb2FkID0geyBidWlsZGluZ1R5cGUsIHZpbGxhZ2VySWRzOiBbdmlsbGFnZXJJZF0sIHBvc2l0aW9uIH07XG4gICAgICAgIGlmICh1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgICBoYW5kbGVUYXNrQ29tcGxldGlvbih7IGlkOiB0YXNrSWQsIHR5cGU6ICdidWlsZCcsIHN0YXJ0VGltZTogMCwgZHVyYXRpb246IDAsIHBheWxvYWQ6IHsgLi4udGFza1BheWxvYWQsIHBvc2l0aW9uIH0gfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IFsuLi5wcmV2LCB7IGlkOiB0YXNrSWQsIHR5cGU6ICdidWlsZCcsIHN0YXJ0VGltZTogRGF0ZS5ub3coKSwgZHVyYXRpb246IGJ1aWxkVGltZSwgcGF5bG9hZDogdGFza1BheWxvYWQgfV0pO1xuICAgICAgICAgICAgc2V0VW5pdHMocHJldiA9PiAoey4uLnByZXYsIHZpbGxhZ2VyczogcHJldi52aWxsYWdlcnMubWFwKHYgPT4gdi5pZCA9PT0gdmlsbGFnZXJJZCA/IHsuLi52LCBjdXJyZW50VGFzazogdGFza0lkfSA6IHYpfSkpO1xuICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYCR7YnVpbGRlci5uYW1lfSBoYXMgc3RhcnRlZCBjb25zdHJ1Y3RpbmcgYSAke2J1aWxkaW5nSW5mby5uYW1lfS5gKTtcbiAgICAgICAgICAgIGFkZFRvTG9nKGAke2J1aWxkZXIubmFtZX0gYmVnYW4gY29uc3RydWN0aW9uIG9mIGEgbmV3ICR7YnVpbGRpbmdJbmZvLm5hbWV9LmAsIGJ1aWxkaW5nSW5mby5pY29uSWQpO1xuICAgICAgICB9XG4gICAgICAgIHNldFBsYXllckFjdGlvbihudWxsKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQ2FuY2VsUGxheWVyQWN0aW9uID0gKCkgPT4geyBzZXRQbGF5ZXJBY3Rpb24obnVsbCk7IHNldEFjdGl2aXR5U3RhdHVzKCdDb21tYW5kIGNhbmNlbGxlZC4nKTsgfTtcblxuICAgIGNvbnN0IGhhbmRsZURlbW9saXNoQnVpbGRpbmcgPSAodHlwZTogQnVpbGRpbmdUeXBlIHwgc3RyaW5nLCBpZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmICh0eXBlID09PSAndG93bkNlbnRlcicpIHsgYWRkTm90aWZpY2F0aW9uKFwiVGhlIFRvd24gQ2VudGVyIGlzIHRoZSBoZWFydCBvZiB5b3VyIGNpdmlsaXphdGlvbiBhbmQgY2Fubm90IGJlIGRlbW9saXNoZWQuXCIpOyByZXR1cm47IH1cbiAgICAgICAgaWYoYWN0aXZlVGFza3Muc29tZSh0ID0+IHQucGF5bG9hZD8uYnVpbGRpbmdJZCA9PT0gaWQpKSB7IGFkZE5vdGlmaWNhdGlvbihcIkNhbm5vdCBkZW1vbGlzaCBhIGJ1aWxkaW5nIHdpdGggYW4gYWN0aXZlIHRhc2suXCIpOyByZXR1cm47IH1cbiAgICAgICAgY29uc3QgYnVpbGRpbmdJbmZvID0gYnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSB0eXBlKTtcbiAgICAgICAgY29uc3QgYnVpbGRpbmdJbnN0YW5jZSA9IGJ1aWxkaW5nc1t0eXBlXS5maW5kKGIgPT4gYi5pZCA9PT0gaWQpO1xuICAgICAgICBpZiAoIWJ1aWxkaW5nSW5mbyB8fCAhYnVpbGRpbmdJbnN0YW5jZSkgcmV0dXJuO1xuICAgICAgICBpZiAodHlwZSA9PT0gJ2hvdXNlcycgJiYgcG9wdWxhdGlvbi5jdXJyZW50ID4gKGJ1aWxkaW5ncy50b3duQ2VudGVyPy5sZW5ndGggPiAwID8gMjAgOiAwKSArIChidWlsZGluZ3MuaG91c2VzLmxlbmd0aCAtIDEpICogNSkgeyBhZGROb3RpZmljYXRpb24oXCJDYW5ub3QgZGVtb2xpc2ggdGhpcyBob3VzZSwgeW91ciBwZW9wbGUgd291bGQgYmUgaG9tZWxlc3MuXCIpOyByZXR1cm47IH1cbiAgICAgICAgY29uc3QgcmVmdW5kID0gT2JqZWN0LmVudHJpZXMoYnVpbGRpbmdJbmZvLmNvc3QpLnJlZHVjZSgoYWNjLCBbcmVzLCBjb3N0XSkgPT4geyBjb25zdCBhbW91bnQgPSBNYXRoLmZsb29yKChjb3N0IHx8IDApICogMC41KTsgaWYgKGFtb3VudCA+IDApIGFjY1tyZXMgYXMga2V5b2YgUmVzb3VyY2VzXSA9IGFtb3VudDsgcmV0dXJuIGFjYzsgfSwge30gYXMgUmVzb3VyY2VEZWx0YXMpO1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMocmVmdW5kKS5sZW5ndGggPiAwKSB7IHVwZGF0ZVJlc291cmNlcyhyZWZ1bmQpOyBhZGROb3RpZmljYXRpb24oYFNhbHZhZ2VkICR7T2JqZWN0LmVudHJpZXMocmVmdW5kKS5tYXAoKFtyLGFdKSA9PiBgJHthfSAke3J9YCkuam9pbignLCAnKX0uYCk7IH1cbiAgICAgICAgc2V0QnVpbGRpbmdzKHByZXYgPT4gKHsgLi4ucHJldiwgW3R5cGVdOiBwcmV2W3R5cGVdLmZpbHRlcihiID0+IGIuaWQgIT09IGlkKSB9KSk7XG4gICAgICAgIGFkZFRvTG9nKGAke2J1aWxkaW5nSW5zdGFuY2UubmFtZX0gKCR7YnVpbGRpbmdJbmZvLm5hbWV9KSB3YXMgZGVtb2xpc2hlZC5gLCBidWlsZGluZ0luZm8uaWNvbklkKTtcbiAgICAgICAgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoe2lzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVVwZGF0ZUJ1aWxkaW5nID0gKHR5cGU6IEJ1aWxkaW5nVHlwZSB8IHN0cmluZywgaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIHNldEJ1aWxkaW5ncyhwcmV2ID0+ICh7IC4uLnByZXYsIFt0eXBlXTogcHJldlt0eXBlXS5tYXAoYiA9PiBiLmlkID09PSBpZCA/IHsgLi4uYiwgbmFtZSB9IDogYikgfSkpO1xuICAgICAgICBhZGROb3RpZmljYXRpb24oXCJCdWlsZGluZyByZW5hbWVkLlwiKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlVHJhaW5WaWxsYWdlcnMgPSAoY291bnQ6IG51bWJlcikgPT4ge1xuICAgICAgICBpZiAoYWN0aXZlVGFza3Muc29tZSh0ID0+IHQudHlwZSA9PT0gJ3RyYWluX3ZpbGxhZ2VyJykgfHwgY291bnQgPD0gMCkgcmV0dXJuO1xuICAgICAgICBpZiAocG9wdWxhdGlvbi5jdXJyZW50ICsgY291bnQgPiBwb3B1bGF0aW9uLmNhcGFjaXR5KSB7IGFkZE5vdGlmaWNhdGlvbihgTmVlZCBzcGFjZSBmb3IgJHtjb3VudH0gbW9yZSB2aWxsYWdlcnMuYCk7IHJldHVybjsgfVxuICAgICAgICBpZiAoIWJ1aWxkaW5ncy50b3duQ2VudGVyPy5bMF0pIHsgYWRkTm90aWZpY2F0aW9uKGBObyBUb3duIENlbnRlciB0byB0cmFpbiB2aWxsYWdlcnMuYCk7IHJldHVybjsgfVxuICAgICAgICBpZiAoIXVubGltaXRlZFJlc291cmNlcykgeyBjb25zdCB0b3RhbENvc3QgPSA1MCAqIGNvdW50OyBpZiAocmVzb3VyY2VzLmZvb2QgPCB0b3RhbENvc3QpIHsgYWRkTm90aWZpY2F0aW9uKGBOZWVkICR7dG90YWxDb3N0IC0gcmVzb3VyY2VzLmZvb2R9IG1vcmUgRm9vZC5gKTsgcmV0dXJuOyB9IHVwZGF0ZVJlc291cmNlcyh7IGZvb2Q6IC10b3RhbENvc3QgfSk7IH1cbiAgICAgICAgXG4gICAgICAgIGlmKHVubGltaXRlZFJlc291cmNlcykgaGFuZGxlVGFza0NvbXBsZXRpb24oeyBpZDogJ2luc3RhbnQnLCB0eXBlOiAndHJhaW5fdmlsbGFnZXInLCBzdGFydFRpbWU6IDAsIGR1cmF0aW9uOiAwLCBwYXlsb2FkOiB7IGNvdW50IH0gfSk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBbLi4ucHJldiwgeyBpZDogYCR7RGF0ZS5ub3coKX0tdHJhaW4tdmlsbGFnZXJgLCB0eXBlOiAndHJhaW5fdmlsbGFnZXInLCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiAxMDAwMCAqIGNvdW50LCBwYXlsb2FkOiB7IGNvdW50LCBidWlsZGluZ0lkOiBidWlsZGluZ3MudG93bkNlbnRlciFbMF0uaWQgfSB9XSk7XG4gICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgVHJhaW5pbmcgJHtjb3VudH0gdmlsbGFnZXIocykuLi5gKTsgYWRkVG9Mb2coYEJlZ2FuIHRyYWluaW5nICR7Y291bnR9IG5ldyB2aWxsYWdlcihzKS5gLCAndmlsbGFnZXInKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBoYW5kbGVUcmFpblVuaXRzID0gKHVuaXRUeXBlOiBNaWxpdGFyeVVuaXRUeXBlLCBjb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IHVuaXRJbmZvID0gVU5JVF9JTkZPLmZpbmQodSA9PiB1LmlkID09PSB1bml0VHlwZSk7XG4gICAgICAgIGlmICghdW5pdEluZm8gfHwgYWN0aXZlVGFza3Muc29tZSh0ID0+IHQucGF5bG9hZD8udW5pdFR5cGUgPT09IHVuaXRUeXBlKSB8fCBjb3VudCA8PSAwKSByZXR1cm47XG4gICAgICAgIGlmIChwb3B1bGF0aW9uLmN1cnJlbnQgKyBjb3VudCA+IHBvcHVsYXRpb24uY2FwYWNpdHkpIHsgYWRkTm90aWZpY2F0aW9uKGBOZWVkIHNwYWNlIGZvciAke2NvdW50fSBtb3JlIHVuaXRzLmApOyByZXR1cm47IH1cbiAgICAgICAgY29uc3QgdHJhaW5pbmdCdWlsZGluZyA9IGJ1aWxkaW5nc1t1bml0SW5mby5yZXF1aXJlZEJ1aWxkaW5nXT8uWzBdO1xuICAgICAgICBpZiAoIXRyYWluaW5nQnVpbGRpbmcpIHsgYWRkTm90aWZpY2F0aW9uKGBObyAke2J1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gdW5pdEluZm8ucmVxdWlyZWRCdWlsZGluZyk/Lm5hbWV9IHRvIHRyYWluIHVuaXRzLmApOyByZXR1cm47IH1cblxuICAgICAgICBpZiAoIXVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgY29uc3QgbWlzc2luZyA9IChPYmplY3Qua2V5cyh1bml0SW5mby5jb3N0KSBhcyAoa2V5b2YgUmVzb3VyY2VzKVtdKS5maWx0ZXIocmVzID0+IHJlc291cmNlc1tyZXNdIDwgKHVuaXRJbmZvLmNvc3RbcmVzXSB8fCAwKSAqIGNvdW50KTtcbiAgICAgICAgICAgIGlmIChtaXNzaW5nLmxlbmd0aCA+IDApIHsgYWRkTm90aWZpY2F0aW9uKGBOZWVkIG1vcmUgJHttaXNzaW5nLmpvaW4oJyBhbmQgJyl9LmApOyByZXR1cm47IH1cbiAgICAgICAgICAgIHVwZGF0ZVJlc291cmNlcyhPYmplY3QuZW50cmllcyh1bml0SW5mby5jb3N0KS5yZWR1Y2UoKGFjYywgW2ssIHZdKSA9PiAoey4uLmFjYywgW2tdOiAtKHYgfHwgMCkgKiBjb3VudH0pLCB7fSkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBsZXQgdHJhaW5UaW1lID0gdW5pdEluZm8udHJhaW5UaW1lICogMTAwMCAqIGNvdW50O1xuICAgICAgICBpZihhY3RpdmVCdWZmcy5wZXJtYW5lbnRUcmFpblRpbWVSZWR1Y3Rpb24pIHRyYWluVGltZSAqPSAoMSAtIGFjdGl2ZUJ1ZmZzLnBlcm1hbmVudFRyYWluVGltZVJlZHVjdGlvbik7XG4gICAgICAgIGlmIChhY3RpdmVCdWZmcy50cmFpblRpbWVSZWR1Y3Rpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IGFwcGxpY2FibGUgPSBNYXRoLm1pbihjb3VudCwgYWN0aXZlQnVmZnMudHJhaW5UaW1lUmVkdWN0aW9uLnVzZXMpO1xuICAgICAgICAgICAgdHJhaW5UaW1lID0gKHVuaXRJbmZvLnRyYWluVGltZSAqIDEwMDAgKiBhcHBsaWNhYmxlICogKDEgLSBhY3RpdmVCdWZmcy50cmFpblRpbWVSZWR1Y3Rpb24ucGVyY2VudGFnZSkpICsgKHVuaXRJbmZvLnRyYWluVGltZSAqIDEwMDAgKiAoY291bnQgLSBhcHBsaWNhYmxlKSk7XG4gICAgICAgICAgICBpZiAoYWN0aXZlQnVmZnMudHJhaW5UaW1lUmVkdWN0aW9uLnVzZXMgLSBhcHBsaWNhYmxlID4gMCkgc2V0QWN0aXZlQnVmZnMocHJldiA9PiAoey4uLnByZXYsIHRyYWluVGltZVJlZHVjdGlvbjogey4uLnByZXYudHJhaW5UaW1lUmVkdWN0aW9uISwgdXNlczogcHJldi50cmFpblRpbWVSZWR1Y3Rpb24hLnVzZXMgLSBhcHBsaWNhYmxlfX0pKTtcbiAgICAgICAgICAgIGVsc2UgeyBzZXRBY3RpdmVCdWZmcyhwcmV2ID0+ICh7Li4ucHJldiwgdHJhaW5UaW1lUmVkdWN0aW9uOiB1bmRlZmluZWR9KSk7IGFkZFRvTG9nKFwiVGhlIERyaWxsbWFzdGVyJ3MgV2hpc3RsZSBidWZmIGhhcyBiZWVuIGZ1bGx5IHVzZWQuXCIsICdpdGVtJyk7IH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYodW5saW1pdGVkUmVzb3VyY2VzKSBoYW5kbGVUYXNrQ29tcGxldGlvbih7IGlkOiAnaW5zdGFudCcsIHR5cGU6ICd0cmFpbl9taWxpdGFyeScsIHN0YXJ0VGltZTogMCwgZHVyYXRpb246IDAsIHBheWxvYWQ6IHsgdW5pdFR5cGUsIGNvdW50IH0gfSk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBbLi4ucHJldiwgeyBpZDogYCR7RGF0ZS5ub3coKX0tdHJhaW4tJHt1bml0VHlwZX1gLCB0eXBlOiAndHJhaW5fbWlsaXRhcnknLCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiB0cmFpblRpbWUsIHBheWxvYWQ6IHsgdW5pdFR5cGUsIGNvdW50LCBidWlsZGluZ0lkOiB0cmFpbmluZ0J1aWxkaW5nLmlkIH0gfV0pO1xuICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYFRyYWluaW5nICR7Y291bnR9ICR7dW5pdEluZm8ubmFtZX0ocykuLi5gKTsgYWRkVG9Mb2coYEJlZ2FuIHRyYWluaW5nICR7Y291bnR9IG5ldyAke3VuaXRJbmZvLm5hbWV9KHMpLmAsIHVuaXRUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZURpc21pc3NTcGVjaWZpY1VuaXQgPSAodHlwZTogJ3ZpbGxhZ2VycycgfCAnbWlsaXRhcnknLCBpZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmICh0eXBlID09PSAndmlsbGFnZXJzJyAmJiBpc1ZpbGxhZ2VyQnVzeShpZCkpIHsgYWRkTm90aWZpY2F0aW9uKFwiQ2Fubm90IGRpc21pc3MgYSBidXN5IHZpbGxhZ2VyLlwiKTsgcmV0dXJuOyB9XG4gICAgICAgIGNvbnN0IHVuaXQgPSB1bml0c1t0eXBlXS5maW5kKHUgPT4gdS5pZCA9PT0gaWQpOyBpZiAoIXVuaXQpIHJldHVybjtcbiAgICAgICAgaWYgKHR5cGUgPT09ICd2aWxsYWdlcnMnICYmIHVuaXRzLnZpbGxhZ2Vycy5sZW5ndGggPD0gMSkgeyBhZGROb3RpZmljYXRpb24oXCJDYW5ub3QgZGlzbWlzcyB5b3VyIGxhc3QgdmlsbGFnZXIuXCIpOyByZXR1cm47IH1cbiAgICAgICAgc2V0VW5pdHMocHJldiA9PiAoeyAuLi5wcmV2LCBbdHlwZV06IHByZXZbdHlwZV0uZmlsdGVyKHUgPT4gdS5pZCAhPT0gaWQpIH0pKTtcbiAgICAgICAgY29uc3QgdW5pdFR5cGVOYW1lID0gdHlwZSA9PT0gJ3ZpbGxhZ2VycycgPyAndmlsbGFnZXInIDogKHVuaXQgYXMgTWlsaXRhcnlVbml0KS51bml0VHlwZTtcbiAgICAgICAgYWRkVG9Mb2coYCR7dW5pdC5uYW1lfSB0aGUgJHt1bml0VHlwZU5hbWV9IGhhcyBiZWVuIGRpc21pc3NlZC5gLCB0eXBlID09PSAndmlsbGFnZXJzJyA/ICd2aWxsYWdlcicgOiAodW5pdCBhcyBNaWxpdGFyeVVuaXQpLnVuaXRUeXBlKTtcbiAgICAgICAgYWRkTm90aWZpY2F0aW9uKGAke3VuaXQubmFtZX0gd2FzIGRpc21pc3NlZC5gKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlVXBkYXRlVW5pdCA9ICh0eXBlOiAndmlsbGFnZXJzJyB8ICdtaWxpdGFyeScsIGlkOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgdGl0bGU/OiBzdHJpbmcpID0+IHtcbiAgICAgICAgIHNldFVuaXRzKHByZXYgPT4gKHsgLi4ucHJldiwgW3R5cGVdOiBwcmV2W3R5cGVdLm1hcCh1ID0+IHUuaWQgPT09IGlkID8gKHR5cGUgPT09ICdtaWxpdGFyeScgJiYgdGl0bGUgIT09IHVuZGVmaW5lZCA/IHsgLi4udSwgbmFtZSwgdGl0bGUgfSA6IHsgLi4udSwgbmFtZSB9KSA6IHUpfSkpO1xuICAgICAgICBhZGROb3RpZmljYXRpb24oXCJVbml0IHVwZGF0ZWQuXCIpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVBc3NpZ25WaWxsYWdlcnNUb0NvbnN0cnVjdGlvbiA9IChjb25zdHJ1Y3Rpb25JZDogc3RyaW5nLCBjb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkbGVWaWxsYWdlcnMgPSB1bml0cy52aWxsYWdlcnMuZmlsdGVyKHYgPT4gIXYuY3VycmVudFRhc2spO1xuICAgICAgICBpZiAoY291bnQgPD0gMCB8fCBpZGxlVmlsbGFnZXJzLmxlbmd0aCA9PT0gMCkgeyBhZGROb3RpZmljYXRpb24oXCJObyBpZGxlIHZpbGxhZ2VycyBhdmFpbGFibGUuXCIpOyByZXR1cm47IH1cbiAgICAgICAgY29uc3QgdGFzayA9IGFjdGl2ZVRhc2tzLmZpbmQodCA9PiB0LmlkID09PSBjb25zdHJ1Y3Rpb25JZCk7IGlmICghdGFzayB8fCB0YXNrLnR5cGUgIT09ICdidWlsZCcpIHJldHVybjtcbiAgICAgICAgY29uc3QgYnVpbGRpbmdJbmZvID0gYnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSB0YXNrLnBheWxvYWQ/LmJ1aWxkaW5nVHlwZSk7IGlmICghYnVpbGRpbmdJbmZvKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgY2FwcGVkQ291bnQgPSBNYXRoLm1pbihjb3VudCwgaWRsZVZpbGxhZ2Vycy5sZW5ndGgpO1xuICAgICAgICBjb25zdCB2aWxsYWdlcnNUb0Fzc2lnbiA9IGlkbGVWaWxsYWdlcnMuc2xpY2UoMCwgY2FwcGVkQ291bnQpLm1hcCh2ID0+IHYuaWQpO1xuICAgICAgICBjb25zdCB3b3JrRG9uZSA9IChEYXRlLm5vdygpIC0gdGFzay5zdGFydFRpbWUpICogKHRhc2sucGF5bG9hZD8udmlsbGFnZXJJZHM/Lmxlbmd0aCB8fCAxKTtcbiAgICAgICAgY29uc3Qgd29ya1JlbWFpbmluZyA9IE1hdGgubWF4KDAsIChidWlsZGluZ0luZm8uYnVpbGRUaW1lICogMTAwMCkgLSB3b3JrRG9uZSk7XG4gICAgICAgIGNvbnN0IG5ld1dvcmtlckNvdW50ID0gKHRhc2sucGF5bG9hZD8udmlsbGFnZXJJZHM/Lmxlbmd0aCB8fCAwKSArIGNhcHBlZENvdW50O1xuICAgICAgICBjb25zdCBuZXdSZW1haW5pbmdEdXJhdGlvbiA9IHdvcmtSZW1haW5pbmcgLyBuZXdXb3JrZXJDb3VudDtcbiAgICAgICAgXG4gICAgICAgIHNldFVuaXRzKHByZXYgPT4gKHsuLi5wcmV2LCB2aWxsYWdlcnM6IHByZXYudmlsbGFnZXJzLm1hcCh2ID0+IHZpbGxhZ2Vyc1RvQXNzaWduLmluY2x1ZGVzKHYuaWQpID8gey4uLnYsIGN1cnJlbnRUYXNrOiBjb25zdHJ1Y3Rpb25JZH0gOiB2KX0pKTtcbiAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBwcmV2Lm1hcCh0ID0+IHQuaWQgPT09IGNvbnN0cnVjdGlvbklkID8geyAuLi50LCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiBuZXdSZW1haW5pbmdEdXJhdGlvbiwgcGF5bG9hZDogeyAuLi50LnBheWxvYWQsIHZpbGxhZ2VySWRzOiBbLi4udC5wYXlsb2FkIS52aWxsYWdlcklkcyEsIC4uLnZpbGxhZ2Vyc1RvQXNzaWduXSB9IH0gOiB0KSk7XG4gICAgICAgIGFkZFRvTG9nKGAke2NhcHBlZENvdW50fSB2aWxsYWdlcihzKSBhcmUgbm93IGFzc2lzdGluZyB3aXRoIHRoZSAke2J1aWxkaW5nSW5mby5uYW1lfS5gLCBidWlsZGluZ0luZm8uaWNvbklkKTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYENvbnN0cnVjdGlvbiBvZiB0aGUgJHtidWlsZGluZ0luZm8ubmFtZX0gaXMgbm93IGZhc3Rlci5gKTtcbiAgICAgICAgc2V0QXNzaWdubWVudFBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQXNzaWduVmlsbGFnZXJzID0gKHRhcmdldElkOiBzdHJpbmcsIGNvdW50OiBudW1iZXIpID0+IHtcbiAgICAgICAgaWYgKGFzc2lnbm1lbnRQYW5lbFN0YXRlLnRhcmdldFR5cGUgPT09ICdjb25zdHJ1Y3Rpb24nKSByZXR1cm4gaGFuZGxlQXNzaWduVmlsbGFnZXJzVG9Db25zdHJ1Y3Rpb24odGFyZ2V0SWQsIGNvdW50KTtcbiAgICAgICAgY29uc3QgaWRsZVZpbGxhZ2VycyA9IHVuaXRzLnZpbGxhZ2Vycy5maWx0ZXIodiA9PiAhdi5jdXJyZW50VGFzayk7XG4gICAgICAgIGlmIChjb3VudCA8PSAwIHx8IGlkbGVWaWxsYWdlcnMubGVuZ3RoID09PSAwKSB7IGFkZE5vdGlmaWNhdGlvbihcIk5vIGlkbGUgdmlsbGFnZXJzIGF2YWlsYWJsZS5cIik7IHJldHVybjsgfVxuICAgICAgICBjb25zdCB0YXJnZXROb2RlID0gcmVzb3VyY2VOb2Rlcy5maW5kKG4gPT4gbi5pZCA9PT0gdGFyZ2V0SWQpOyBpZiAoIXRhcmdldE5vZGUpIHJldHVybjtcbiAgICAgICAgY29uc3QgY2FwcGVkQ291bnQgPSBNYXRoLm1pbihjb3VudCwgaWRsZVZpbGxhZ2Vycy5sZW5ndGgpO1xuICAgICAgICBjb25zdCB2aWxsYWdlcnNUb0Fzc2lnbiA9IGlkbGVWaWxsYWdlcnMuc2xpY2UoMCwgY2FwcGVkQ291bnQpLm1hcCh2ID0+IHYuaWQpO1xuICAgICAgICBjb25zdCB0YXNrSWQgPSBgZ2F0aGVyLSR7dGFyZ2V0SWR9YDtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdUYXNrID0gYWN0aXZlVGFza3MuZmluZCh0ID0+IHQuaWQgPT09IHRhc2tJZCk7XG4gICAgICAgIFxuICAgICAgICBpZiAodW5saW1pdGVkUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXMoeyBbdGFyZ2V0Tm9kZS50eXBlXTogdGFyZ2V0Tm9kZS5hbW91bnQgfSk7XG4gICAgICAgICAgICBhZGRUb0xvZyhgJHtjYXBwZWRDb3VudH0gdmlsbGFnZXIocykgaW5zdGFudGx5IGdhdGhlcmVkICR7TWF0aC5mbG9vcih0YXJnZXROb2RlLmFtb3VudCl9ICR7dGFyZ2V0Tm9kZS50eXBlfS5gLCB0YXJnZXROb2RlLnR5cGUpO1xuICAgICAgICAgICAgc2V0UmVzb3VyY2VOb2RlcyhwcmV2ID0+IHByZXYuZmlsdGVyKG4gPT4gbi5pZCAhPT0gbm9kZUlkKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdUYXNrKSBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IHByZXYubWFwKHQgPT4gdC5pZCA9PT0gdGFza0lkID8geyAuLi50LCBwYXlsb2FkOiB7IC4uLnQucGF5bG9hZCwgdmlsbGFnZXJJZHM6IFsuLi5uZXcgU2V0KFsuLi50LnBheWxvYWQhLnZpbGxhZ2VySWRzISwgLi4udmlsbGFnZXJzVG9Bc3NpZ25dKV0gfSB9IDogdCkpO1xuICAgICAgICAgICAgZWxzZSBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IFsuLi5wcmV2LCB7IGlkOiB0YXNrSWQsIHR5cGU6ICdnYXRoZXInLCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiA5OTk5OTk5OTksIHBheWxvYWQ6IHsgcmVzb3VyY2VOb2RlSWQ6IHRhcmdldElkLCB2aWxsYWdlcklkczogdmlsbGFnZXJzVG9Bc3NpZ24gfSB9XSk7XG4gICAgICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7Li4ucHJldiwgdmlsbGFnZXJzOiBwcmV2LnZpbGxhZ2Vycy5tYXAodiA9PiB2aWxsYWdlcnNUb0Fzc2lnbi5pbmNsdWRlcyh2LmlkKSA/IHsuLi52LCBjdXJyZW50VGFzazogdGFza0lkfSA6IHYpfSkpO1xuICAgICAgICB9XG4gICAgICAgIGFkZFRvTG9nKGAke2NhcHBlZENvdW50fSB2aWxsYWdlcihzKSBhc3NpZ25lZCB0byBnYXRoZXIgJHt0YXJnZXROb2RlLnR5cGV9LmAsIHRhcmdldE5vZGUudHlwZSk7XG4gICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGAke2NhcHBlZENvdW50fSB2aWxsYWdlcihzKSBhcmUgbm93IGdhdGhlcmluZyAke3RhcmdldE5vZGUudHlwZX0uYCk7XG4gICAgICAgIHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdGFyZ2V0SWQ6IG51bGwsIHRhcmdldFR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVJlY2FsbFZpbGxhZ2VycyA9ICh0YXJnZXRJZDogc3RyaW5nLCBjb3VudDogbnVtYmVyLCB0eXBlOiAncmVzb3VyY2UnIHwgJ2NvbnN0cnVjdGlvbicpID0+IHtcbiAgICAgICAgY29uc3QgdGFzayA9IGFjdGl2ZVRhc2tzLmZpbmQodCA9PiB0LmlkID09PSB0YXJnZXRJZCk7XG4gICAgICAgIGlmICghdGFzayB8fCAodGFzay5wYXlsb2FkPy52aWxsYWdlcklkcz8ubGVuZ3RoID8/IDApIDwgY291bnQpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHZpbGxhZ2Vyc1RvUmVjYWxsID0gdGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEuc2xpY2UodGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEubGVuZ3RoIC0gY291bnQpO1xuICAgICAgICBpZiAodHlwZSA9PT0gJ2NvbnN0cnVjdGlvbicgJiYgdmlsbGFnZXJzVG9SZWNhbGwubGVuZ3RoID09PSB0YXNrLnBheWxvYWQhLnZpbGxhZ2VySWRzIS5sZW5ndGgpIHsgYWRkTm90aWZpY2F0aW9uKFwiQ2Fubm90IHJlY2FsbCB0aGUgbGFzdCBidWlsZGVyIGZyb20gYSBwcm9qZWN0LlwiKTsgcmV0dXJuOyB9XG5cbiAgICAgICAgc2V0VW5pdHMocHJldiA9PiAoey4uLnByZXYsIHZpbGxhZ2VyczogcHJldi52aWxsYWdlcnMubWFwKHYgPT4gdmlsbGFnZXJzVG9SZWNhbGwuaW5jbHVkZXModi5pZCkgPyB7Li4udiwgY3VycmVudFRhc2s6IG51bGx9IDogdil9KSk7XG4gICAgICAgIGNvbnN0IHJlbWFpbmluZ1ZpbGxhZ2VycyA9IHRhc2sucGF5bG9hZCEudmlsbGFnZXJJZHMhLmZpbHRlcihpZCA9PiAhdmlsbGFnZXJzVG9SZWNhbGwuaW5jbHVkZXMoaWQpKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZW1haW5pbmdWaWxsYWdlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IHByZXYuZmlsdGVyKHQgPT4gdC5pZCAhPT0gdGFyZ2V0SWQpKTtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSByZXNvdXJjZU5vZGVzLmZpbmQobiA9PiBuLmlkID09PSB0YXJnZXRJZCk7XG4gICAgICAgICAgICBpZihub2RlKSBhZGRUb0xvZyhgQWxsIHZpbGxhZ2VycyByZWNhbGxlZCBmcm9tIGdhdGhlcmluZyAke25vZGUudHlwZX0uYCwgJ3ZpbGxhZ2VyJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IHRhc2sucGF5bG9hZD8uYnVpbGRpbmdUeXBlKSE7XG4gICAgICAgICAgICBjb25zdCB3b3JrRG9uZSA9IChEYXRlLm5vdygpIC0gdGFzay5zdGFydFRpbWUpICogdGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgbmV3UmVtYWluaW5nRHVyYXRpb24gPSAoYnVpbGRpbmdJbmZvLmJ1aWxkVGltZSAqIDEwMDAgLSB3b3JrRG9uZSkgLyByZW1haW5pbmdWaWxsYWdlcnMubGVuZ3RoO1xuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBwcmV2Lm1hcCh0ID0+IHQuaWQgPT09IHRhcmdldElkID8geyAuLi50LCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiBuZXdSZW1haW5pbmdEdXJhdGlvbiwgcGF5bG9hZDogeyAuLi50LnBheWxvYWQsIHZpbGxhZ2VySWRzOiByZW1haW5pbmdWaWxsYWdlcnMgfSB9IDogdCkpO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdjb25zdHJ1Y3Rpb24nKSBhZGRUb0xvZyhgJHtjb3VudH0gYnVpbGRlcihzKSByZWNhbGxlZC4gQ29uc3RydWN0aW9uIHdpbGwgbm93IGJlIHNsb3dlci5gLCAndmlsbGFnZXInKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIHRhcmdldElkOiBudWxsLCB0YXJnZXRUeXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVBZHZhbmNlQWdlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoYWN0aXZlVGFza3Muc29tZSh0ID0+IHQudHlwZSA9PT0gJ2FkdmFuY2VfYWdlJykpIHsgYWRkTm90aWZpY2F0aW9uKFwiQWR2YW5jZW1lbnQgYWxyZWFkeSBpbiBwcm9ncmVzcy5cIik7IHJldHVybjsgfVxuICAgICAgICBpZiAoIXVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgY29uc3QgbWlzc2luZyA9IFtdO1xuICAgICAgICAgICAgaWYgKHJlc291cmNlcy5mb29kIDwgNTAwKSBtaXNzaW5nLnB1c2goYCR7NTAwIC0gcmVzb3VyY2VzLmZvb2R9IEZvb2RgKTtcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZXMuZ29sZCA8IDIwMCkgbWlzc2luZy5wdXNoKGAkezIwMCAtIHJlc291cmNlcy5nb2xkfSBHb2xkYCk7XG4gICAgICAgICAgICBpZiAobWlzc2luZy5sZW5ndGggPiAwKSB7IGFkZE5vdGlmaWNhdGlvbihgVG8gYWR2YW5jZSwgeW91IG5lZWQgJHttaXNzaW5nLmpvaW4oJyBhbmQgJyl9LmApOyByZXR1cm47IH1cbiAgICAgICAgICAgIHVwZGF0ZVJlc291cmNlcyh7IGZvb2Q6IC01MDAsIGdvbGQ6IC0yMDAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gYWdlUHJvZ3Jlc3Npb25MaXN0LmZpbmRJbmRleChhZ2UgPT4gYWdlLm5hbWUgPT09IGN1cnJlbnRBZ2UpO1xuICAgICAgICBpZiAoY3VycmVudEluZGV4ID09PSAtMSB8fCBjdXJyZW50SW5kZXggKyAxID49IGFnZVByb2dyZXNzaW9uTGlzdC5sZW5ndGgpIHsgYWRkTm90aWZpY2F0aW9uKFwiWW91IGhhdmUgcmVhY2hlZCB0aGUgZmluYWwgYXZhaWxhYmxlIGFnZS5cIik7IHJldHVybjsgfVxuXG4gICAgICAgIGlmKHVubGltaXRlZFJlc291cmNlcykgaGFuZGxlVGFza0NvbXBsZXRpb24oeyBpZDogJ2luc3RhbnQnLCB0eXBlOiAnYWR2YW5jZV9hZ2UnLCBzdGFydFRpbWU6IDAsIGR1cmF0aW9uOiAwLCBwYXlsb2FkOiB7fSB9KTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IFsuLi5wcmV2LCB7IGlkOiBgJHtEYXRlLm5vdygpfS1hZHZhbmNlX2FnZWAsIHR5cGU6ICdhZHZhbmNlX2FnZScsIHN0YXJ0VGltZTogRGF0ZS5ub3coKSwgZHVyYXRpb246IDYwMDAwIH1dKTtcbiAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBZb3VyIHBlb3BsZSBiZWdpbiB0aGUgbG9uZyBqb3VybmV5IHRvIGEgbmV3IGFnZS5gKTtcbiAgICAgICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgY29uc3QgaGFuZGxlRXhpdEdhbWUgPSBhc3luYyAoKSA9PiB7IHNldEN1cnJlbnRTYXZlTmFtZShudWxsKTsgYXdhaXQgZmV0Y2hTYXZlc0FuZENvbmZpZ3MoKTsgc2V0R2FtZVN0YXRlKEdhbWVTdGF0dXMuTUVOVSk7IH07XG4gICAgY29uc3QgaGFuZGxlRGVsZXRlR2FtZSA9IGFzeW5jIChzYXZlTmFtZTogc3RyaW5nKSA9PiB7IGF3YWl0IGRlbGV0ZUdhbWVTdGF0ZShzYXZlTmFtZSk7IGF3YWl0IGZldGNoU2F2ZXNBbmRDb25maWdzKCk7IGFkZE5vdGlmaWNhdGlvbihgRGVsZXRlZCBzYWdhOiBcIiR7c2F2ZU5hbWV9XCJgKTsgfTtcblxuICAgIGNvbnN0IGhhbmRsZVRvZ2dsZVVubGltaXRlZFJlc291cmNlcyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgbmV3TW9kZSA9ICF1bmxpbWl0ZWRSZXNvdXJjZXM7XG4gICAgICAgIHNldFVubGltaXRlZFJlc291cmNlcyhuZXdNb2RlKTtcbiAgICAgICAgaWYgKG5ld01vZGUpIHtcbiAgICAgICAgICAgIHNldFJlc291cmNlcyh7IGZvb2Q6IDk5OTk5LCB3b29kOiA5OTk5OSwgZ29sZDogOTk5OTksIHN0b25lOiA5OTk5OSB9KTtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihcIlRlc3QgTW9kZTogT04gLSBBbGwgYWN0aXZlIHRhc2tzIGNvbXBsZXRlZC5cIik7XG4gICAgICAgICAgICBjb25zdCBkZXBsZXRlZE5vZGVJZHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICAgICAgICAgIGFjdGl2ZVRhc2tzLmZvckVhY2godGFzayA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRhc2sudHlwZSA9PT0gJ2dhdGhlcicgJiYgdGFzay5wYXlsb2FkPy5yZXNvdXJjZU5vZGVJZCkge1xuICAgICAgICAgICAgICAgICAgICBkZXBsZXRlZE5vZGVJZHMuYWRkKHRhc2sucGF5bG9hZC5yZXNvdXJjZU5vZGVJZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSByZXNvdXJjZU5vZGVzLmZpbmQobiA9PiBuLmlkID09PSB0YXNrLnBheWxvYWQucmVzb3VyY2VOb2RlSWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSkgYWRkVG9Mb2coYEluc3RhbnRseSBnYXRoZXJlZCBhbGwgJHtub2RlLnR5cGV9IGZyb20gYSBkZXBsZXRlZCBzb3VyY2UuYCwgbm9kZS50eXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaGFuZGxlVGFza0NvbXBsZXRpb24odGFzayk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKFtdKTtcbiAgICAgICAgICAgIGlmIChkZXBsZXRlZE5vZGVJZHMuc2l6ZSA+IDApIHNldFJlc291cmNlTm9kZXMocHJldiA9PiBwcmV2LmZpbHRlcihuID0+ICFkZXBsZXRlZE5vZGVJZHMuaGFzKG4uaWQpKSk7XG4gICAgICAgIH0gZWxzZSBhZGROb3RpZmljYXRpb24oXCJUZXN0IE1vZGU6IE9GRlwiKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGhhbmRsZVVzZUl0ZW0gPSAoaXRlbUlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGludmVudG9yeS5maW5kKGkgPT4gaS5pZCA9PT0gaXRlbUlkKTsgaWYgKCFpdGVtKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGJhc2VJdGVtSWQgPSBpdGVtLmlkLnNwbGl0KCctJylbMF07XG4gICAgICAgIGNvbnN0IGNvbnN0cnVjdGlvblRhc2tzID0gYWN0aXZlVGFza3MuZmlsdGVyKHQgPT4gdC50eXBlID09PSAnYnVpbGQnKTtcbiAgICAgICAgc3dpdGNoKGJhc2VJdGVtSWQpIHtcbiAgICAgICAgICAgIGNhc2UgJ3Njcm9sbF9vZl9oYXN0ZSc6IGNhc2UgJ2JsdWVwcmludF9vZl90aGVfbWFzdGVyJzpcbiAgICAgICAgICAgICAgICBpZiAoY29uc3RydWN0aW9uVGFza3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXNrID0gY29uc3RydWN0aW9uVGFza3Muc29ydCgoYSxiKSA9PiAoYi5zdGFydFRpbWUgKyBiLmR1cmF0aW9uKSAtIChhLnN0YXJ0VGltZSArIGEuZHVyYXRpb24pKVswXTtcbiAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocCA9PiBwLm1hcCh0ID0+IHQuaWQgPT09IHRhc2suaWQgPyB7IC4uLnQsIGR1cmF0aW9uOiBNYXRoLm1heCgwLCB0LmR1cmF0aW9uIC0gKGJhc2VJdGVtSWQgPT09ICdzY3JvbGxfb2ZfaGFzdGUnID8gMTUwMDAgOiA2MDAwMCkpIH0gOiB0KSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFRvTG9nKGBVc2VkICR7aXRlbS5uYW1lfSBvbiB0aGUgJHtidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IHRhc2sucGF5bG9hZD8uYnVpbGRpbmdUeXBlKT8ubmFtZX0uYCwgJ2l0ZW0nKTtcbiAgICAgICAgICAgICAgICB9IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnaGVhcnR5X21lYWwnOiB1cGRhdGVSZXNvdXJjZXMoeyBmb29kOiA3NSB9KTsgYWRkVG9Mb2coYFVzZWQgJHtpdGVtLm5hbWV9IHRvIGdhaW4gNzUgZm9vZC5gLCAnaXRlbScpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2J1aWxkZXJzX2NoYXJtJzogc2V0QWN0aXZlQnVmZnMocCA9PiAoey4uLnAsIGJ1aWxkVGltZVJlZHVjdGlvbjogeyBwZXJjZW50YWdlOiAwLjEsIHVzZXM6IDEgfX0pKTsgYWRkVG9Mb2coYFVzZWQgJHtpdGVtLm5hbWV9LiBOZXh0IGJ1aWxkaW5nIGlzIDEwJSBmYXN0ZXIuYCwgJ2l0ZW0nKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkcmlsbG1hc3RlcnNfd2hpc3RsZSc6IHNldEFjdGl2ZUJ1ZmZzKHAgPT4gKHsuLi5wLCB0cmFpblRpbWVSZWR1Y3Rpb246IHsgcGVyY2VudGFnZTogMC4yNSwgdXNlczogNSB9fSkpOyBhZGRUb0xvZyhgVXNlZCAke2l0ZW0ubmFtZX0uIE5leHQgNSB1bml0cyB0cmFpbiAyNSUgZmFzdGVyLmAsICdpdGVtJyk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZ29sZGVuX2hhcnZlc3QnOiBzZXRBY3RpdmVCdWZmcyhwID0+ICh7Li4ucCwgcmVzb3VyY2VCb29zdDogWy4uLihwLnJlc291cmNlQm9vc3QgfHwgW10pLCB7IHJlc291cmNlOiAnZm9vZCcsIG11bHRpcGxpZXI6IDEuNSwgZW5kVGltZTogRGF0ZS5ub3coKSArIDYwMDAwIH1dfSkpOyBhZGRUb0xvZyhgVXNlZCAke2l0ZW0ubmFtZX0uIEZvb2QgZ2F0aGVyaW5nIGJvb3N0ZWQgYnkgNTAlIGZvciA2MHMuYCwgJ2l0ZW0nKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzaGFyZF9vZl90aGVfYW5jaWVudHMnOlxuICAgICAgICAgICAgICAgIGlmIChjb25zdHJ1Y3Rpb25UYXNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhc2sgPSBjb25zdHJ1Y3Rpb25UYXNrcy5zb3J0KChhLGIpID0+IChiLnN0YXJ0VGltZSArIGIuZHVyYXRpb24pIC0gKGEuc3RhcnRUaW1lICsgYS5kdXJhdGlvbikpWzBdO1xuICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwID0+IHAuZmlsdGVyKHQgPT4gdC5pZCAhPT0gdGFzay5pZCkpOyBoYW5kbGVUYXNrQ29tcGxldGlvbih0YXNrKTtcbiAgICAgICAgICAgICAgICAgICAgYWRkVG9Mb2coYFVzZWQgJHtpdGVtLm5hbWV9IHRvIGluc3RhbnRseSBjb21wbGV0ZSB0aGUgJHtidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IHRhc2sucGF5bG9hZD8uYnVpbGRpbmdUeXBlKT8ubmFtZX0uYCwgJ2l0ZW0nKTtcbiAgICAgICAgICAgICAgICB9IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnaGVhcnRfb2ZfdGhlX21vdW50YWluJzpcbiAgICAgICAgICAgICAgICBzZXRBY3RpdmVCdWZmcyhwID0+ICh7Li4ucCwgcmVzb3VyY2VCb29zdDogWy4uLihwLnJlc291cmNlQm9vc3QgfHwgW10pLCB7IHJlc291cmNlOiAnZ29sZCcsIG11bHRpcGxpZXI6IDIsIGVuZFRpbWU6IERhdGUubm93KCkgKyAxMjAwMDAgfSwgeyByZXNvdXJjZTogJ3N0b25lJywgbXVsdGlwbGllcjogMiwgZW5kVGltZTogRGF0ZS5ub3coKSArIDEyMDAwMCB9XX0pKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhgVXNlZCAke2l0ZW0ubmFtZX0uIEdvbGQgYW5kIFN0b25lIGdhdGhlcmluZyBkb3VibGVkIGZvciAyIG1pbnV0ZXMuYCwgJ2l0ZW0nKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdiYW5uZXJfb2ZfY29tbWFuZCc6XG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlQnVmZnMocCA9PiAoey4uLnAsIHBlcm1hbmVudFRyYWluVGltZVJlZHVjdGlvbjogKHAucGVybWFuZW50VHJhaW5UaW1lUmVkdWN0aW9uIHx8IDApICsgMC4wNX0pKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhgVXNlZCAke2l0ZW0ubmFtZX0uIE1pbGl0YXJ5IHVuaXRzIHRyYWluIDUlIGZhc3RlciwgcGVybWFuZW50bHkuYCwgJ2l0ZW0nKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd3aGlzcGVyX29mX3RoZV9jcmVhdG9yJzpcbiAgICAgICAgICAgICAgICBjb25zdCB0YXNrcyA9IFsuLi5hY3RpdmVUYXNrc107IHNldEFjdGl2ZVRhc2tzKFtdKTsgdGFza3MuZm9yRWFjaChoYW5kbGVUYXNrQ29tcGxldGlvbik7XG4gICAgICAgICAgICAgICAgYWRkVG9Mb2coYEEgZGl2aW5lIHdoaXNwZXIgZWNob2VzLCBhbmQgYWxsIHdvcmsgaXMgaW5zdGFudGx5IGZpbmlzaGVkLmAsICdpdGVtJyk7IGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHNldEludmVudG9yeShwcmV2ID0+IHByZXYuZmlsdGVyKGkgPT4gaS5pZCAhPT0gaXRlbUlkKSk7IHNldEludmVudG9yeVBhbmVsU3RhdGUoe2lzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGx9KTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGJ1aWxkaW5nQ291bnRzID0gYnVpbGRpbmdMaXN0LnJlZHVjZSgoYWNjLCBiKSA9PiB7IGFjY1tiLmlkXSA9IGJ1aWxkaW5nc1tiLmlkXT8ubGVuZ3RoIHx8IDA7IHJldHVybiBhY2M7IH0sIHt9IGFzIFJlY29yZDxzdHJpbmcsIG51bWJlcj4pO1xuICAgIGNvbnN0IGlkbGVWaWxsYWdlckNvdW50ID0gdW5pdHMudmlsbGFnZXJzLmZpbHRlcih2ID0+ICF2LmN1cnJlbnRUYXNrKS5sZW5ndGg7XG4gICAgY29uc3QgYXNzaWdubWVudFRhcmdldCA9IGFzc2lnbm1lbnRQYW5lbFN0YXRlLnRhcmdldFR5cGUgPT09ICdyZXNvdXJjZScgPyByZXNvdXJjZU5vZGVzLmZpbmQobiA9PiBuLmlkID09PSBhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRJZCkgOiBhY3RpdmVUYXNrcy5maW5kKHQgPT4gdC50eXBlID09PSAnYnVpbGQnICYmIHQuaWQgPT09IGFzc2lnbm1lbnRQYW5lbFN0YXRlLnRhcmdldElkKTtcbiAgICBcbiAgICBjb25zdCBjdXJyZW50QWdlSW5kZXggPSBhZ2VQcm9ncmVzc2lvbkxpc3QuZmluZEluZGV4KGEgPT4gYS5uYW1lID09PSBjdXJyZW50QWdlKTtcbiAgICBjb25zdCBhdmFpbGFibGVCdWlsZGluZ3MgPSBidWlsZGluZ0xpc3QuZmlsdGVyKGIgPT4ge1xuICAgICAgICBjb25zdCB1bmxvY2tBZ2VJbmRleCA9IGFnZVByb2dyZXNzaW9uTGlzdC5maW5kSW5kZXgoYSA9PiBhLm5hbWUgPT09IGIudW5sb2NrZWRJbkFnZSk7XG4gICAgICAgIHJldHVybiB1bmxvY2tBZ2VJbmRleCAhPT0gLTEgJiYgdW5sb2NrQWdlSW5kZXggPD0gY3VycmVudEFnZUluZGV4O1xuICAgIH0pO1xuXG4gICAgY29uc3QgY2xvc2VBbGxQYW5lbHMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIHNldFVuaXRNYW5hZ2VtZW50UGFuZWwocCA9PiBwLmlzT3BlbiA/IHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGluc3RhbmNlSWQ6IHVuZGVmaW5lZCwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgICAgIHNldEJ1aWxkUGFuZWxTdGF0ZShwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCB2aWxsYWdlcklkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICAgICAgc2V0QXNzaWdubWVudFBhbmVsU3RhdGUocCA9PiBwLmlzT3BlbiA/IHsgaXNPcGVuOiBmYWxzZSwgdGFyZ2V0SWQ6IG51bGwsIHRhcmdldFR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgICAgICBzZXRDaXZQYW5lbFN0YXRlKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgICAgICBzZXRBbGxCdWlsZGluZ3NQYW5lbChwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICAgICAgc2V0SW52ZW50b3J5UGFuZWxTdGF0ZShwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICB9LCBbXSk7XG5cbiAgICBjb25zdCBoYW5kbGVPcGVuQnVpbGRpbmdQYW5lbCA9IHVzZUNhbGxiYWNrKCh0eXBlOiBCdWlsZGluZ1R5cGUgfCBzdHJpbmcsIGluc3RhbmNlSWQ6IHN0cmluZywgcmVjdDogRE9NUmVjdCkgPT4ge1xuICAgICAgICBjbG9zZUFsbFBhbmVscygpO1xuICAgICAgICBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogdHJ1ZSwgdHlwZSwgaW5zdGFuY2VJZCwgYW5jaG9yUmVjdDogcmVjdCB9KTtcbiAgICB9LCBbY2xvc2VBbGxQYW5lbHNdKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGhhbmRsZUNsaWNrT3V0c2lkZSA9IChldmVudDogTW91c2VFdmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoIXRhcmdldC5jbG9zZXN0KCcuc2NpLWZpLXBhbmVsLXBvcHVwJykpIGNsb3NlQWxsUGFuZWxzKCk7XG4gICAgICAgIH07XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpO1xuICAgIH0sIFtjbG9zZUFsbFBhbmVsc10pO1xuXG4gICAgY29uc3QgcmVuZGVyQ29udGVudCA9ICgpID0+IHtcbiAgICAgICAgc3dpdGNoIChnYW1lU3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZVN0YXR1cy5NRU5VOiByZXR1cm4gPFN0YXJ0U2NyZWVuIG9uTmV3R2FtZT17aGFuZGxlU3RhcnROZXdHYW1lfSBvblJlc3VtZUdhbWU9e2hhbmRsZVJlc3VtZUdhbWV9IHNhdmVkR2FtZXM9e2FsbFNhdmVzfSBvbkRlbGV0ZUdhbWU9e2hhbmRsZURlbGV0ZUdhbWV9IC8+O1xuICAgICAgICAgICAgY2FzZSBHYW1lU3RhdHVzLkxPQURJTkc6IHJldHVybiA8TG9hZGluZ1NjcmVlbiAvPjtcbiAgICAgICAgICAgIGNhc2UgR2FtZVN0YXR1cy5QTEFZSU5HOlxuICAgICAgICAgICAgICAgIGlmICghY2l2aWxpemF0aW9uKSByZXR1cm4gPExvYWRpbmdTY3JlZW4gLz47XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxHYW1lVUlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXZpbGl6YXRpb249e2NpdmlsaXphdGlvbn0gcmVzb3VyY2VzPXtyZXNvdXJjZXN9IHVuaXRzPXt1bml0c30gYnVpbGRpbmdzPXtidWlsZGluZ3N9IHBvcHVsYXRpb249e3BvcHVsYXRpb259IGN1cnJlbnRBZ2U9e2N1cnJlbnRBZ2V9IGdhbWVMb2c9e2dhbWVMb2d9IHJlc291cmNlRGVsdGFzPXtyZXNvdXJjZURlbHRhc30gYWN0aXZpdHlTdGF0dXM9e2FjdGl2aXR5U3RhdHVzfSB1bml0TGlzdD17VU5JVF9JTkZPfSBidWlsZGluZ0xpc3Q9e2J1aWxkaW5nTGlzdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5Vbml0UGFuZWw9eyh0eXBlLCByZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IHNldFVuaXRNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IHRydWUsIHR5cGUsIGFuY2hvclJlY3Q6IHJlY3QgfSk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuQnVpbGRpbmdQYW5lbD17aGFuZGxlT3BlbkJ1aWxkaW5nUGFuZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuQWxsQnVpbGRpbmdzUGFuZWw9eyhyZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IHNldEFsbEJ1aWxkaW5nc1BhbmVsKHsgaXNPcGVuOiB0cnVlLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllckFjdGlvbj17cGxheWVyQWN0aW9ufSBvbkNvbmZpcm1QbGFjZW1lbnQ9e2hhbmRsZUNvbmZpcm1QbGFjZW1lbnR9IG9uQ2FuY2VsUGxheWVyQWN0aW9uPXtoYW5kbGVDYW5jZWxQbGF5ZXJBY3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25CdWlsZGluZ0NsaWNrPXsoYnVpbGRpbmcsIHJlY3QpID0+IHsgY2xvc2VBbGxQYW5lbHMoKTsgY29uc3QgdHlwZSA9IE9iamVjdC5rZXlzKGJ1aWxkaW5ncykuZmluZChrZXkgPT4gYnVpbGRpbmdzW2tleSBhcyBzdHJpbmddPy5zb21lKGIgPT4gYi5pZCA9PT0gYnVpbGRpbmcuaWQpKTsgaWYodHlwZSkgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IHRydWUsIHR5cGUsIGluc3RhbmNlSWQ6IGJ1aWxkaW5nLmlkLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcERpbWVuc2lvbnM9e01BUF9ESU1FTlNJT05TfSBhY3RpdmVUYXNrcz17YWN0aXZlVGFza3N9IG9uRXhpdEdhbWU9e2hhbmRsZUV4aXRHYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkNpdlBhbmVsPXsocmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRDaXZQYW5lbFN0YXRlKHsgaXNPcGVuOiB0cnVlLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlTm9kZXM9e3Jlc291cmNlTm9kZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuQXNzaWdubWVudFBhbmVsPXsobm9kZUlkLCByZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiB0cnVlLCB0YXJnZXRJZDogbm9kZUlkLCB0YXJnZXRUeXBlOiAncmVzb3VyY2UnLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkNvbnN0cnVjdGlvblBhbmVsPXsoY29uc3RydWN0aW9uSWQsIHJlY3QpID0+IHsgY2xvc2VBbGxQYW5lbHMoKTsgc2V0QXNzaWdubWVudFBhbmVsU3RhdGUoeyBpc09wZW46IHRydWUsIHRhcmdldElkOiBjb25zdHJ1Y3Rpb25JZCwgdGFyZ2V0VHlwZTogJ2NvbnN0cnVjdGlvbicsIGFuY2hvclJlY3Q6IHJlY3QgfSk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2F0aGVySW5mbz17R0FUSEVSX0lORk99IGN1cnJlbnRFdmVudD17Y3VycmVudEV2ZW50fSBvbkV2ZW50Q2hvaWNlPXtoYW5kbGVFdmVudENob2ljZX0gaW52ZW50b3J5PXtpbnZlbnRvcnl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuSW52ZW50b3J5UGFuZWw9eyhyZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IHNldEludmVudG9yeVBhbmVsU3RhdGUoeyBpc09wZW46IHRydWUsIGFuY2hvclJlY3Q6IHJlY3QgfSk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1aWxkUGFuZWwgaXNPcGVuPXtidWlsZFBhbmVsU3RhdGUuaXNPcGVufSBvbkNsb3NlPXsoKSA9PiBzZXRCdWlsZFBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCB2aWxsYWdlcklkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pfSBvblN0YXJ0UGxhY2VtZW50PXtoYW5kbGVTdGFydFBsYWNlbWVudH0gcmVzb3VyY2VzPXtyZXNvdXJjZXN9IGJ1aWxkaW5nQ291bnRzPXtidWlsZGluZ0NvdW50c30gYnVpbGRpbmdMaXN0PXthdmFpbGFibGVCdWlsZGluZ3N9IGFuY2hvclJlY3Q9e2J1aWxkUGFuZWxTdGF0ZS5hbmNob3JSZWN0fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFVuaXRNYW5hZ2VtZW50UGFuZWwgaXNPcGVuPXt1bml0TWFuYWdlbWVudFBhbmVsLmlzT3Blbn0gb25DbG9zZT17KCkgPT4gc2V0VW5pdE1hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSl9IHR5cGU9e3VuaXRNYW5hZ2VtZW50UGFuZWwudHlwZX0gdW5pdHM9e3VuaXRzfSBvblVwZGF0ZVVuaXQ9e2hhbmRsZVVwZGF0ZVVuaXR9IG9uRGlzbWlzc1VuaXQ9e2hhbmRsZURpc21pc3NTcGVjaWZpY1VuaXR9IG9uSW5pdGlhdGVCdWlsZD17KHZpbGxhZ2VySWQsIHJlY3QpID0+IHsgY2xvc2VBbGxQYW5lbHMoKTsgaGFuZGxlSW5pdGlhdGVCdWlsZCh2aWxsYWdlcklkLCByZWN0KTsgfX0gZ2V0VmlsbGFnZXJUYXNrRGV0YWlscz17Z2V0VmlsbGFnZXJUYXNrRGV0YWlsc30gYW5jaG9yUmVjdD17dW5pdE1hbmFnZW1lbnRQYW5lbC5hbmNob3JSZWN0fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsIGlzT3Blbj17YnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwuaXNPcGVufSBvbkNsb3NlPXsoKSA9PiBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSl9IHBhbmVsU3RhdGU9e2J1aWxkaW5nTWFuYWdlbWVudFBhbmVsfSBidWlsZGluZ3M9e2J1aWxkaW5nc30gYnVpbGRpbmdMaXN0PXtidWlsZGluZ0xpc3R9IG9uVXBkYXRlQnVpbGRpbmc9e2hhbmRsZVVwZGF0ZUJ1aWxkaW5nfSBvbkRlbW9saXNoQnVpbGRpbmc9e2hhbmRsZURlbW9saXNoQnVpbGRpbmd9IG9uVHJhaW5Vbml0cz17aGFuZGxlVHJhaW5Vbml0c30gb25UcmFpblZpbGxhZ2Vycz17aGFuZGxlVHJhaW5WaWxsYWdlcnN9IHJlc291cmNlcz17cmVzb3VyY2VzfSBwb3B1bGF0aW9uPXtwb3B1bGF0aW9ufSB1bml0TGlzdD17VU5JVF9JTkZPfSBvbkFkdmFuY2VBZ2U9e2hhbmRsZUFkdmFuY2VBZ2V9IGFjdGl2ZVRhc2tzPXthY3RpdmVUYXNrc30gYW5jaG9yUmVjdD17YnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwuYW5jaG9yUmVjdH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxSZXNvdXJjZUFzc2lnbm1lbnRQYW5lbCBpc09wZW49e2Fzc2lnbm1lbnRQYW5lbFN0YXRlLmlzT3Blbn0gb25DbG9zZT17KCkgPT4gc2V0QXNzaWdubWVudFBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KX0gYXNzaWdubWVudFRhcmdldD17YXNzaWdubWVudFRhcmdldCB8fCBudWxsfSBpZGxlVmlsbGFnZXJDb3VudD17aWRsZVZpbGxhZ2VyQ291bnR9IG9uQXNzaWduVmlsbGFnZXJzPXtoYW5kbGVBc3NpZ25WaWxsYWdlcnN9IG9uUmVjYWxsVmlsbGFnZXJzPXtoYW5kbGVSZWNhbGxWaWxsYWdlcnN9IGdhdGhlckluZm89e0dBVEhFUl9JTkZPfSBidWlsZGluZ0xpc3Q9e2J1aWxkaW5nTGlzdH0gdW5pdHM9e3VuaXRzfSBhbmNob3JSZWN0PXthc3NpZ25tZW50UGFuZWxTdGF0ZS5hbmNob3JSZWN0fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPENpdmlsaXphdGlvblBhbmVsIGlzT3Blbj17Y2l2UGFuZWxTdGF0ZS5pc09wZW59IG9uQ2xvc2U9eygpID0+IHNldENpdlBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0pfSBjaXZpbGl6YXRpb249e2NpdmlsaXphdGlvbn0gYW5jaG9yUmVjdD17Y2l2UGFuZWxTdGF0ZS5hbmNob3JSZWN0fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEFsbEJ1aWxkaW5nc1BhbmVsIGlzT3Blbj17YWxsQnVpbGRpbmdzUGFuZWwuaXNPcGVufSBvbkNsb3NlPXsoKSA9PiBzZXRBbGxCdWlsZGluZ3NQYW5lbCh7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSl9IGJ1aWxkaW5nTGlzdD17YnVpbGRpbmdMaXN0fSBidWlsZGluZ0NvdW50cz17YnVpbGRpbmdDb3VudHN9IGFjdGl2ZVRhc2tzPXthY3RpdmVUYXNrc30gb25PcGVuQnVpbGRpbmdQYW5lbD17aGFuZGxlT3BlbkJ1aWxkaW5nUGFuZWx9IGFuY2hvclJlY3Q9e2FsbEJ1aWxkaW5nc1BhbmVsLmFuY2hvclJlY3R9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8SW52ZW50b3J5UGFuZWwgaXNPcGVuPXtpbnZlbnRvcnlQYW5lbFN0YXRlLmlzT3Blbn0gb25DbG9zZT17KCkgPT4gc2V0SW52ZW50b3J5UGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSl9IGludmVudG9yeT17aW52ZW50b3J5fSBvblVzZUl0ZW09e2hhbmRsZVVzZUl0ZW19IGFjdGl2ZVRhc2tzPXthY3RpdmVUYXNrc30gYWN0aXZlQnVmZnM9e2FjdGl2ZUJ1ZmZzfSBhbmNob3JSZWN0PXtpbnZlbnRvcnlQYW5lbFN0YXRlLmFuY2hvclJlY3R9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gPFN0YXJ0U2NyZWVuIG9uTmV3R2FtZT17aGFuZGxlU3RhcnROZXdHYW1lfSBvblJlc3VtZUdhbWU9e2hhbmRsZVJlc3VtZUdhbWV9IHNhdmVkR2FtZXM9e2FsbFNhdmVzfSBvbkRlbGV0ZUdhbWU9e2hhbmRsZURlbGV0ZUdhbWV9IC8+O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLXN0b25lLWRhcmsgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC00XCI+XG4gICAgICAgICAgICB7Z2FtZVN0YXRlID09PSBHYW1lU3RhdHVzLlBMQVlJTkcgJiYgKFxuICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZVVubGltaXRlZFJlc291cmNlc30gY2xhc3NOYW1lPVwiZml4ZWQgYm90dG9tLTQgbGVmdC00IHotWzEwMV0gYmctYnJhbmQtZ29sZCB0ZXh0LXN0b25lLWRhcmsgZm9udC1ib2xkIHB5LTEgcHgtMyByb3VuZGVkLWZ1bGwgdGV4dC14cyBzaGFkb3ctbGcgaG92ZXI6c2NhbGUtMTA1IHRyYW5zaXRpb24tdHJhbnNmb3JtXCIgYXJpYS1sYWJlbD1cIlRvZ2dsZSB1bmxpbWl0ZWQgcmVzb3VyY2VzIHRlc3QgbW9kZVwiPlRlc3QgTW9kZToge3VubGltaXRlZFJlc291cmNlcyA/ICdPTicgOiAnT0ZGJ308L2J1dHRvbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8Tm90aWZpY2F0aW9uTWFuYWdlciBub3RpZmljYXRpb25zPXtub3RpZmljYXRpb25zfSBvblJlbW92ZU5vdGlmaWNhdGlvbj17cmVtb3ZlTm90aWZpY2F0aW9ufSAvPlxuICAgICAgICAgICAgPG1haW4gY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LTd4bCBteC1hdXRvXCI+XG4gICAgICAgICAgICAgICAge3JlbmRlckNvbnRlbnQoKX1cbiAgICAgICAgICAgIDwvbWFpbj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdhbWVQYWdlO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZVJlZiIsIkdhbWVTdGF0dXMiLCJnZXRQcmVkZWZpbmVkQ2l2aWxpemF0aW9uIiwiZ2V0UHJlZGVmaW5lZEdhbWVFdmVudCIsInNhdmVHYW1lU3RhdGUiLCJsb2FkR2FtZVN0YXRlIiwiZ2V0QWxsU2F2ZU5hbWVzIiwiZGVsZXRlR2FtZVN0YXRlIiwiZ2V0QWxsQWdlQ29uZmlncyIsImdldEFsbEJ1aWxkaW5nQ29uZmlncyIsImdldFJhbmRvbU5hbWVzIiwiR0FNRV9JVEVNUyIsIkdhbWVVSSIsIlN0YXJ0U2NyZWVuIiwiTG9hZGluZ1NjcmVlbiIsIkJ1aWxkUGFuZWwiLCJOb3RpZmljYXRpb25NYW5hZ2VyIiwiVW5pdE1hbmFnZW1lbnRQYW5lbCIsIkJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsIiwiUmVzb3VyY2VBc3NpZ25tZW50UGFuZWwiLCJDaXZpbGl6YXRpb25QYW5lbCIsIkFsbEJ1aWxkaW5nc1BhbmVsIiwiSW52ZW50b3J5UGFuZWwiLCJVTklUX0lORk8iLCJpZCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsImNvc3QiLCJmb29kIiwiZ29sZCIsInJlcXVpcmVkQnVpbGRpbmciLCJ0cmFpblRpbWUiLCJ3b29kIiwiR0FUSEVSX0lORk8iLCJyYXRlIiwic3RvbmUiLCJpbml0aWFsQnVpbGRpbmdzU3RhdGUiLCJob3VzZXMiLCJiYXJyYWNrcyIsImFyY2hlcnlSYW5nZSIsInN0YWJsZSIsInNpZWdlV29ya3Nob3AiLCJibGFja3NtaXRoIiwid2F0Y2hUb3dlciIsInRvd25DZW50ZXIiLCJNQVBfRElNRU5TSU9OUyIsIndpZHRoIiwiaGVpZ2h0IiwiRkFMTEJBQ0tfQUdFUyIsIkdhbWVQYWdlIiwiYnVpbGRpbmdzIiwiZ2FtZVN0YXRlIiwic2V0R2FtZVN0YXRlIiwiTUVOVSIsImNpdmlsaXphdGlvbiIsInNldENpdmlsaXphdGlvbiIsInJlc291cmNlcyIsInNldFJlc291cmNlcyIsInVuaXRzIiwic2V0VW5pdHMiLCJ2aWxsYWdlcnMiLCJtaWxpdGFyeSIsInNldEJ1aWxkaW5ncyIsImN1cnJlbnRBZ2UiLCJzZXRDdXJyZW50QWdlIiwiZ2FtZUxvZyIsInNldEdhbWVMb2ciLCJjdXJyZW50RXZlbnQiLCJzZXRDdXJyZW50RXZlbnQiLCJyZXNvdXJjZURlbHRhcyIsInNldFJlc291cmNlRGVsdGFzIiwiYWN0aXZpdHlTdGF0dXMiLCJzZXRBY3Rpdml0eVN0YXR1cyIsIm5vdGlmaWNhdGlvbnMiLCJzZXROb3RpZmljYXRpb25zIiwidW5saW1pdGVkUmVzb3VyY2VzIiwic2V0VW5saW1pdGVkUmVzb3VyY2VzIiwiYWxsU2F2ZXMiLCJzZXRBbGxTYXZlcyIsImN1cnJlbnRTYXZlTmFtZSIsInNldEN1cnJlbnRTYXZlTmFtZSIsInBsYXllckFjdGlvbiIsInNldFBsYXllckFjdGlvbiIsImFjdGl2ZVRhc2tzIiwic2V0QWN0aXZlVGFza3MiLCJyZXNvdXJjZU5vZGVzIiwic2V0UmVzb3VyY2VOb2RlcyIsImludmVudG9yeSIsInNldEludmVudG9yeSIsImFjdGl2ZUJ1ZmZzIiwic2V0QWN0aXZlQnVmZnMiLCJyZXNvdXJjZUJvb3N0IiwiYWdlUHJvZ3Jlc3Npb25MaXN0Iiwic2V0QWdlUHJvZ3Jlc3Npb25MaXN0IiwiYnVpbGRpbmdMaXN0Iiwic2V0QnVpbGRpbmdMaXN0IiwiYnVpbGRQYW5lbFN0YXRlIiwic2V0QnVpbGRQYW5lbFN0YXRlIiwiaXNPcGVuIiwidmlsbGFnZXJJZCIsImFuY2hvclJlY3QiLCJ1bml0TWFuYWdlbWVudFBhbmVsIiwic2V0VW5pdE1hbmFnZW1lbnRQYW5lbCIsInR5cGUiLCJidWlsZGluZ01hbmFnZW1lbnRQYW5lbCIsInNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsIiwiYWxsQnVpbGRpbmdzUGFuZWwiLCJzZXRBbGxCdWlsZGluZ3NQYW5lbCIsImFzc2lnbm1lbnRQYW5lbFN0YXRlIiwic2V0QXNzaWdubWVudFBhbmVsU3RhdGUiLCJ0YXJnZXRJZCIsInRhcmdldFR5cGUiLCJjaXZQYW5lbFN0YXRlIiwic2V0Q2l2UGFuZWxTdGF0ZSIsImludmVudG9yeVBhbmVsU3RhdGUiLCJzZXRJbnZlbnRvcnlQYW5lbFN0YXRlIiwiZGVsdGFUaW1lb3V0UmVmIiwiZXZlbnRUaW1lclJlZiIsImxhc3RUaWNrUmVmIiwiRGF0ZSIsIm5vdyIsImFuaW1hdGlvbkZyYW1lUmVmIiwicG9wdWxhdGlvbiIsImN1cnJlbnQiLCJsZW5ndGgiLCJjYXBhY2l0eSIsImZldGNoU2F2ZXNBbmRDb25maWdzIiwibmFtZXMiLCJhbGxBZ2VDb25maWdzIiwiYWN0aXZlQWdlcyIsImZpbHRlciIsImFnZSIsImlzQWN0aXZlIiwibWFwIiwiYSIsImFsbEJ1aWxkaW5nQ29uZmlncyIsImIiLCJQTEFZSU5HIiwiZnVsbFN0YXRlIiwiYWRkTm90aWZpY2F0aW9uIiwibWVzc2FnZSIsIk1hdGgiLCJyYW5kb20iLCJwcmV2IiwicmVtb3ZlTm90aWZpY2F0aW9uIiwibiIsImFkZFRvTG9nIiwiaWNvbiIsInNsaWNlIiwidXBkYXRlUmVzb3VyY2VzIiwiZGVsdGFzIiwibmV3UmVzb3VyY2VzIiwia2V5IiwicmVzb3VyY2VLZXkiLCJtYXgiLCJ3aW5kb3ciLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwibmV3RGVsdGFzIiwiaGFuZGxlVGFza0NvbXBsZXRpb24iLCJ0YXNrIiwicGF5bG9hZCIsInZpbGxhZ2VySWRzIiwidiIsImluY2x1ZGVzIiwiY3VycmVudFRhc2siLCJidWlsZGluZ1R5cGUiLCJwb3NpdGlvbiIsImJ1aWxkaW5nSW5mbyIsImZpbmQiLCJuZXdCdWlsZGluZyIsImN1cnJlbnRIcCIsImhwIiwicCIsImN1cnJlbnRCdWlsZGluZ3MiLCJpY29uSWQiLCJjb3VudCIsIm5ld1ZpbGxhZ2VyTmFtZXMiLCJuZXdWaWxsYWdlcnMiLCJ1bml0VHlwZSIsInVuaXRJbmZvIiwidSIsIm5ld1VuaXROYW1lcyIsIm5ld1VuaXRzIiwidGl0bGUiLCJjdXJyZW50SW5kZXgiLCJmaW5kSW5kZXgiLCJhZ2VSZXN1bHQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImdhbWVMb29wIiwiZGVsdGFUaW1lIiwiY29tcGxldGVkVGFza3MiLCJyZXNvdXJjZURlbHRhc1RoaXNUaWNrIiwibmV3UmVzb3VyY2VCb29zdHMiLCJlbmRUaW1lIiwidGFza3NJblByb2dyZXNzIiwic3RhcnRUaW1lIiwiZHVyYXRpb24iLCJwdXNoIiwibm9kZSIsInJlc291cmNlTm9kZUlkIiwidmlsbGFnZXJDb3VudCIsImJhc2VSYXRlUGVyU2Vjb25kIiwiY2l2Qm9udXNNdWx0aXBsaWVyIiwiYm9udXMiLCJ0b0xvd2VyQ2FzZSIsIm1hdGNoIiwicGFyc2VJbnQiLCJpdGVtQm9vc3RNdWx0aXBsaWVyIiwicmVzb3VyY2UiLCJtdWx0aXBsaWVyIiwiZmluYWxSYXRlUGVyU2Vjb25kIiwiQm9vbGVhbiIsIk9iamVjdCIsImtleXMiLCJwcmV2Tm9kZXMiLCJhbW91bnRUb0RlY3JlbWVudCIsIm5ld0Ftb3VudCIsImFtb3VudCIsInRhc2tJZCIsInQiLCJmbG9vciIsImZpbmFsQWN0aXZlVGFza3MiLCJzb21lIiwiY3QiLCJmb3JFYWNoIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiaGFuZGxlTmV3RXZlbnQiLCJldmVudCIsInNjaGVkdWxlTmV4dEV2ZW50IiwiZ2VuZXJhdGVSZXNvdXJjZU5vZGVzIiwiZXhpc3RpbmdQb3NpdGlvbnMiLCJub2RlcyIsInR5cGVzIiwibnVtTm9kZXMiLCJpIiwicG9zIiwieCIsInkiLCJoYXMiLCJhZGQiLCJoYW5kbGVTdGFydE5ld0dhbWUiLCJzYXZlTmFtZSIsIkxPQURJTkciLCJjaXYiLCJpbml0aWFsVmlsbGFnZXJzIiwidGNQb3NpdGlvbiIsInRjSW5mbyIsImluaXRpYWxUQyIsIlNldCIsImlzVmlsbGFnZXJCdXN5IiwiZ2V0VmlsbGFnZXJUYXNrRGV0YWlscyIsInZpbGxhZ2VyIiwiaGFuZGxlUmVzdW1lR2FtZSIsInNhdmVkU3RhdGUiLCJtaWdyYXRlZFZpbGxhZ2VycyIsInVuZGVmaW5lZCIsIm1pZ3JhdGVkVGFza3MiLCJ2aWQiLCJjb25zdHJ1Y3Rpb25UYXNrcyIsIm9jY3VwaWVkQ2VsbHMiLCJ2YWx1ZXMiLCJmbGF0IiwiZmluYWxCdWlsZGluZ3MiLCJiVHlwZSIsImluZm8iLCJ0Y1BvcyIsImhhbmRsZUV2ZW50Q2hvaWNlIiwiY2hvaWNlIiwibWlzc2luZyIsInJlcyIsImpvaW4iLCJlbnRyaWVzIiwicmVkdWNlIiwiYWNjIiwiayIsImlzU3VjY2VzcyIsInN1Y2Nlc3NDaGFuY2UiLCJlZmZlY3RzIiwic3VjY2Vzc0VmZmVjdHMiLCJmYWlsdXJlRWZmZWN0cyIsImxvZ01lc3NhZ2UiLCJ0ZXh0IiwibG9nIiwicmV3YXJkcyIsInJld2FyZCIsIkFycmF5IiwiaXNBcnJheSIsImFicyIsIml0ZW1JbmZvIiwiaXRlbUlkIiwibmV3SXRlbXMiLCJmcm9tIiwiXyIsImhhbmRsZUluaXRpYXRlQnVpbGQiLCJyZWN0IiwiaGFuZGxlU3RhcnRQbGFjZW1lbnQiLCJidWlsZGluZ0lkIiwiaXNBbHJlYWR5Q29uc3RydWN0aW5nIiwiaXNVbmlxdWUiLCJtb2RlIiwiaGFuZGxlQ29uZmlybVBsYWNlbWVudCIsImJ1aWxkZXIiLCJidWlsZFRpbWUiLCJidWlsZFRpbWVSZWR1Y3Rpb24iLCJwZXJjZW50YWdlIiwidXNlcyIsInRhc2tQYXlsb2FkIiwiaGFuZGxlQ2FuY2VsUGxheWVyQWN0aW9uIiwiaGFuZGxlRGVtb2xpc2hCdWlsZGluZyIsImJ1aWxkaW5nSW5zdGFuY2UiLCJyZWZ1bmQiLCJyIiwiaGFuZGxlVXBkYXRlQnVpbGRpbmciLCJoYW5kbGVUcmFpblZpbGxhZ2VycyIsInRvdGFsQ29zdCIsImhhbmRsZVRyYWluVW5pdHMiLCJ0cmFpbmluZ0J1aWxkaW5nIiwicGVybWFuZW50VHJhaW5UaW1lUmVkdWN0aW9uIiwidHJhaW5UaW1lUmVkdWN0aW9uIiwiYXBwbGljYWJsZSIsIm1pbiIsImhhbmRsZURpc21pc3NTcGVjaWZpY1VuaXQiLCJ1bml0IiwidW5pdFR5cGVOYW1lIiwiaGFuZGxlVXBkYXRlVW5pdCIsImhhbmRsZUFzc2lnblZpbGxhZ2Vyc1RvQ29uc3RydWN0aW9uIiwiY29uc3RydWN0aW9uSWQiLCJpZGxlVmlsbGFnZXJzIiwiY2FwcGVkQ291bnQiLCJ2aWxsYWdlcnNUb0Fzc2lnbiIsIndvcmtEb25lIiwid29ya1JlbWFpbmluZyIsIm5ld1dvcmtlckNvdW50IiwibmV3UmVtYWluaW5nRHVyYXRpb24iLCJoYW5kbGVBc3NpZ25WaWxsYWdlcnMiLCJ0YXJnZXROb2RlIiwiZXhpc3RpbmdUYXNrIiwibm9kZUlkIiwiaGFuZGxlUmVjYWxsVmlsbGFnZXJzIiwidmlsbGFnZXJzVG9SZWNhbGwiLCJyZW1haW5pbmdWaWxsYWdlcnMiLCJoYW5kbGVBZHZhbmNlQWdlIiwiaGFuZGxlRXhpdEdhbWUiLCJoYW5kbGVEZWxldGVHYW1lIiwiaGFuZGxlVG9nZ2xlVW5saW1pdGVkUmVzb3VyY2VzIiwibmV3TW9kZSIsImRlcGxldGVkTm9kZUlkcyIsInNpemUiLCJoYW5kbGVVc2VJdGVtIiwiaXRlbSIsImJhc2VJdGVtSWQiLCJzcGxpdCIsInNvcnQiLCJ0YXNrcyIsImJ1aWxkaW5nQ291bnRzIiwiaWRsZVZpbGxhZ2VyQ291bnQiLCJhc3NpZ25tZW50VGFyZ2V0IiwiY3VycmVudEFnZUluZGV4IiwiYXZhaWxhYmxlQnVpbGRpbmdzIiwidW5sb2NrQWdlSW5kZXgiLCJ1bmxvY2tlZEluQWdlIiwiY2xvc2VBbGxQYW5lbHMiLCJpbnN0YW5jZUlkIiwiaGFuZGxlT3BlbkJ1aWxkaW5nUGFuZWwiLCJoYW5kbGVDbGlja091dHNpZGUiLCJ0YXJnZXQiLCJjbG9zZXN0IiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbmRlckNvbnRlbnQiLCJvbk5ld0dhbWUiLCJvblJlc3VtZUdhbWUiLCJzYXZlZEdhbWVzIiwib25EZWxldGVHYW1lIiwidW5pdExpc3QiLCJvbk9wZW5Vbml0UGFuZWwiLCJvbk9wZW5CdWlsZGluZ1BhbmVsIiwib25PcGVuQWxsQnVpbGRpbmdzUGFuZWwiLCJvbkNvbmZpcm1QbGFjZW1lbnQiLCJvbkNhbmNlbFBsYXllckFjdGlvbiIsIm9uQnVpbGRpbmdDbGljayIsImJ1aWxkaW5nIiwibWFwRGltZW5zaW9ucyIsIm9uRXhpdEdhbWUiLCJvbk9wZW5DaXZQYW5lbCIsIm9uT3BlbkFzc2lnbm1lbnRQYW5lbCIsIm9uT3BlbkNvbnN0cnVjdGlvblBhbmVsIiwiZ2F0aGVySW5mbyIsIm9uRXZlbnRDaG9pY2UiLCJvbk9wZW5JbnZlbnRvcnlQYW5lbCIsIm9uQ2xvc2UiLCJvblN0YXJ0UGxhY2VtZW50Iiwib25VcGRhdGVVbml0Iiwib25EaXNtaXNzVW5pdCIsIm9uSW5pdGlhdGVCdWlsZCIsInBhbmVsU3RhdGUiLCJvblVwZGF0ZUJ1aWxkaW5nIiwib25EZW1vbGlzaEJ1aWxkaW5nIiwib25UcmFpblVuaXRzIiwib25UcmFpblZpbGxhZ2VycyIsIm9uQWR2YW5jZUFnZSIsIm9uQXNzaWduVmlsbGFnZXJzIiwib25SZWNhbGxWaWxsYWdlcnMiLCJvblVzZUl0ZW0iLCJkaXYiLCJjbGFzc05hbWUiLCJidXR0b24iLCJvbkNsaWNrIiwiYXJpYS1sYWJlbCIsIm9uUmVtb3ZlTm90aWZpY2F0aW9uIiwibWFpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./types.ts":
/*!******************!*\
  !*** ./types.ts ***!
  \******************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GameStatus: function() { return /* binding */ GameStatus; }\n/* harmony export */ });\nvar GameStatus;\n(function(GameStatus) {\n    GameStatus[GameStatus[\"MENU\"] = 0] = \"MENU\";\n    GameStatus[GameStatus[\"LOADING\"] = 1] = \"LOADING\";\n    GameStatus[GameStatus[\"PLAYING\"] = 2] = \"PLAYING\";\n    GameStatus[GameStatus[\"GAME_OVER\"] = 3] = \"GAME_OVER\";\n})(GameStatus || (GameStatus = {}));\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3R5cGVzLnRzIiwibWFwcGluZ3MiOiI7Ozs7O1VBR1lBOzs7OztHQUFBQSxlQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi90eXBlcy50cz81NjUyIl0sInNvdXJjZXNDb250ZW50IjpbIlxuXG5cbmV4cG9ydCBlbnVtIEdhbWVTdGF0dXMge1xuICAgIE1FTlUsXG4gICAgTE9BRElORyxcbiAgICBQTEFZSU5HLFxuICAgIEdBTUVfT1ZFUixcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDaXZpbGl6YXRpb24ge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBsb3JlOiBzdHJpbmc7XG4gICAgYm9udXM6IHN0cmluZztcbiAgICB1bmlxdWVVbml0OiB7XG4gICAgICAgIG5hbWU6c3RyaW5nO1xuICAgICAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIH07XG4gICAgYmFubmVyVXJsOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb3VyY2VzIHtcbiAgICBmb29kOiBudW1iZXI7XG4gICAgd29vZDogbnVtYmVyO1xuICAgIGdvbGQ6IG51bWJlcjtcbiAgICBzdG9uZTogbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBSZXNvdXJjZURlbHRhcyA9IFBhcnRpYWw8UmVzb3VyY2VzPjtcblxuZXhwb3J0IGludGVyZmFjZSBWaWxsYWdlciB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgY3VycmVudFRhc2s6IHN0cmluZyB8IG51bGw7IC8vIG51bGwgaWYgaWRsZSwgb3RoZXJ3aXNlIHRoZSBJRCBvZiB0aGUgR2FtZVRhc2tcbn1cblxuZXhwb3J0IHR5cGUgTWlsaXRhcnlVbml0VHlwZSA9ICdzd29yZHNtYW4nIHwgJ2FyY2hlcicgfCAna25pZ2h0JyB8ICdjYXRhcHVsdCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWlsaXRhcnlVbml0IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIHVuaXRUeXBlOiBNaWxpdGFyeVVuaXRUeXBlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVuaXRzIHtcbiAgICB2aWxsYWdlcnM6IFZpbGxhZ2VyW107XG4gICAgbWlsaXRhcnk6IE1pbGl0YXJ5VW5pdFtdO1xufVxuXG5leHBvcnQgdHlwZSBCdWlsZGluZ1R5cGUgPSAnaG91c2VzJyB8ICdiYXJyYWNrcycgfCAnYXJjaGVyeVJhbmdlJyB8ICdzdGFibGUnIHwgJ3NpZWdlV29ya3Nob3AnIHwgJ2JsYWNrc21pdGgnIHwgJ3dhdGNoVG93ZXInIHwgJ3Rvd25DZW50ZXInO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJ1aWxkaW5nSW5zdGFuY2Uge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHBvc2l0aW9uOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyOyB9O1xuICAgIGN1cnJlbnRIcDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJ1aWxkaW5ncyB7XG4gICAgaG91c2VzOiBCdWlsZGluZ0luc3RhbmNlW107XG4gICAgYmFycmFja3M6IEJ1aWxkaW5nSW5zdGFuY2VbXTtcbiAgICBhcmNoZXJ5UmFuZ2U6IEJ1aWxkaW5nSW5zdGFuY2VbXTtcbiAgICBzdGFibGU6IEJ1aWxkaW5nSW5zdGFuY2VbXTtcbiAgICBzaWVnZVdvcmtzaG9wOiBCdWlsZGluZ0luc3RhbmNlW107XG4gICAgYmxhY2tzbWl0aDogQnVpbGRpbmdJbnN0YW5jZVtdO1xuICAgIHdhdGNoVG93ZXI6IEJ1aWxkaW5nSW5zdGFuY2VbXTtcbiAgICBba2V5OiBzdHJpbmddOiBCdWlsZGluZ0luc3RhbmNlW107IC8vIEFsbG93IGZvciBjdXN0b20gYnVpbGRpbmcgdHlwZXNcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHYW1lU3RhdGVQYXlsb2FkIHtcbiAgICBjaXY6IENpdmlsaXphdGlvbjtcbiAgICBhZ2U6IHN0cmluZztcbiAgICByZXM6IFJlc291cmNlcztcbiAgICB1bml0czoge1xuICAgICAgICB2aWxsYWdlcnM6IG51bWJlcjtcbiAgICAgICAgc3dvcmRzbWVuOiBudW1iZXI7XG4gICAgICAgIGFyY2hlcnM6IG51bWJlcjtcbiAgICAgICAga25pZ2h0czogbnVtYmVyO1xuICAgICAgICBjYXRhcHVsdHM6IG51bWJlcjtcbiAgICB9O1xuICAgIGJ1aWxkaW5nczogeyBba2V5IGluIEJ1aWxkaW5nVHlwZV0/OiBudW1iZXIgfTtcbn1cblxuZXhwb3J0IHR5cGUgQnVpbGRpbmdDb3N0cyA9IHsgW2tleSBpbiBrZXlvZiBSZXNvdXJjZXNdPzogbnVtYmVyIH07XG5cbmV4cG9ydCB0eXBlIEl0ZW1SYXJpdHkgPSAnQ29tbW9uJyB8ICdFcGljJyB8ICdMZWdlbmRhcnknIHwgJ1NwaXJpdHVhbCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2FtZUl0ZW0ge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgcmFyaXR5OiBJdGVtUmFyaXR5O1xufVxuXG5leHBvcnQgdHlwZSBSZXdhcmQgPSBcbiAgICB7IHR5cGU6ICdyZXNvdXJjZScsIHJlc291cmNlOiBrZXlvZiBSZXNvdXJjZXMsIGFtb3VudDogbnVtYmVyIHwgW251bWJlciwgbnVtYmVyXSB9IHxcbiAgICB7IHR5cGU6ICdpdGVtJywgaXRlbUlkOiBzdHJpbmcsIGFtb3VudDogbnVtYmVyIH0gfFxuICAgIHsgdHlwZTogJ3VuaXQnLCB1bml0VHlwZTogJ3ZpbGxhZ2VyJywgYW1vdW50OiBudW1iZXIgfTtcblxuZXhwb3J0IGludGVyZmFjZSBHYW1lRXZlbnRDaG9pY2Uge1xuICAgIHRleHQ6IHN0cmluZztcbiAgICBjb3N0PzogQnVpbGRpbmdDb3N0cztcbiAgICBzdWNjZXNzQ2hhbmNlPzogbnVtYmVyOyAvLyAwLTEsIHVuZGVmaW5lZCBtZWFucyAxMDAlXG4gICAgc3VjY2Vzc0VmZmVjdHM6IHsgcmV3YXJkczogUmV3YXJkW10sIGxvZzogc3RyaW5nIH07XG4gICAgZmFpbHVyZUVmZmVjdHM/OiB7IHJld2FyZHM6IFJld2FyZFtdLCBsb2c6IHN0cmluZyB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdhbWVFdmVudCB7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIGNob2ljZXM6IEdhbWVFdmVudENob2ljZVtdO1xufVxuXG5leHBvcnQgdHlwZSBMb2dJY29uVHlwZSA9IGtleW9mIFJlc291cmNlcyB8ICd2aWxsYWdlcicgfCBNaWxpdGFyeVVuaXRUeXBlIHwgJ2FnZScgfCAnZXZlbnQnIHwgJ3N5c3RlbScgfCBCdWlsZGluZ1R5cGUgfCBzdHJpbmcgfCAnaXRlbSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2FtZUxvZ0VudHJ5IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBpY29uOiBMb2dJY29uVHlwZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCdWlsZGluZ0luZm8ge1xuICAgIGlkOiBCdWlsZGluZ1R5cGU7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgY29zdDogQnVpbGRpbmdDb3N0cztcbiAgICBpc1VuaXF1ZTogYm9vbGVhbjtcbiAgICBidWlsZFRpbWU6IG51bWJlcjsgLy8gaW4gc2Vjb25kc1xuICAgIGhwOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVW5pdEluZm8ge1xuICAgIGlkOiBNaWxpdGFyeVVuaXRUeXBlO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIGNvc3Q6IEJ1aWxkaW5nQ29zdHM7XG4gICAgcmVxdWlyZWRCdWlsZGluZzogQnVpbGRpbmdUeXBlO1xuICAgIHRyYWluVGltZTogbnVtYmVyOyAvLyBpbiBzZWNvbmRzIHBlciB1bml0XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVUlOb3RpZmljYXRpb24ge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBSZXNvdXJjZU5vZGVUeXBlID0gJ2Zvb2QnIHwgJ3dvb2QnIHwgJ2dvbGQnIHwgJ3N0b25lJztcblxuZXhwb3J0IGludGVyZmFjZSBSZXNvdXJjZU5vZGUge1xuICBpZDogc3RyaW5nO1xuICB0eXBlOiBSZXNvdXJjZU5vZGVUeXBlO1xuICBwb3NpdGlvbjogeyB4OiBudW1iZXI7IHk6IG51bWJlcjsgfTtcbiAgYW1vdW50OiBudW1iZXI7XG59XG5cbmV4cG9ydCB0eXBlIFRhc2tUeXBlID0gJ2dhdGhlcicgfCAnYnVpbGQnIHwgJ3RyYWluX3ZpbGxhZ2VyJyB8ICd0cmFpbl9taWxpdGFyeScgfCAnYWR2YW5jZV9hZ2UnO1xuXG5leHBvcnQgdHlwZSBQbGF5ZXJBY3Rpb25TdGF0ZSA9IHtcbiAgICBtb2RlOiAnYnVpbGQnO1xuICAgIGJ1aWxkaW5nVHlwZTogQnVpbGRpbmdUeXBlIHwgc3RyaW5nO1xuICAgIHZpbGxhZ2VySWQ6IHN0cmluZztcbn0gfCBudWxsO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgR2FtZVRhc2sge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgdHlwZTogVGFza1R5cGU7XG4gICAgc3RhcnRUaW1lOiBudW1iZXI7XG4gICAgZHVyYXRpb246IG51bWJlcjsgLy8gaW4gbWlsbGlzZWNvbmRzXG4gICAgcGF5bG9hZD86IHtcbiAgICAgICAgLy8gU2hhcmVkXG4gICAgICAgIGJ1aWxkaW5nSWQ/OiBzdHJpbmc7IC8vIElEIG9mIHRoZSBidWlsZGluZyBwZXJmb3JtaW5nIHRoZSBhY3Rpb24gKGUuZy4gVEMgZm9yIHRyYWluaW5nKVxuICAgICAgICB2aWxsYWdlcklkcz86IHN0cmluZ1tdO1xuICAgICAgICBjb3VudD86IG51bWJlcjtcbiAgICAgICAgXG4gICAgICAgIC8vIEJ1aWxkIHRhc2tcbiAgICAgICAgYnVpbGRpbmdUeXBlPzogQnVpbGRpbmdUeXBlIHwgc3RyaW5nO1xuICAgICAgICBwb3NpdGlvbj86IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfTtcbiAgICAgICAgXG4gICAgICAgIC8vIFRyYWluIG1pbGl0YXJ5IHRhc2tcbiAgICAgICAgdW5pdFR5cGU/OiBNaWxpdGFyeVVuaXRUeXBlO1xuICAgICAgICBcbiAgICAgICAgLy8gR2F0aGVyIHRhc2tcbiAgICAgICAgcmVzb3VyY2VOb2RlSWQ/OiBzdHJpbmc7XG4gICAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBY3RpdmVCdWZmcyB7XG4gICAgYnVpbGRUaW1lUmVkdWN0aW9uPzogeyBwZXJjZW50YWdlOiBudW1iZXI7IHVzZXM6IG51bWJlciB9O1xuICAgIHRyYWluVGltZVJlZHVjdGlvbj86IHsgcGVyY2VudGFnZTogbnVtYmVyOyB1c2VzOiBudW1iZXIgfTtcbiAgICByZXNvdXJjZUJvb3N0Pzoge1xuICAgICAgICByZXNvdXJjZToga2V5b2YgUmVzb3VyY2VzO1xuICAgICAgICBtdWx0aXBsaWVyOiBudW1iZXI7XG4gICAgICAgIGVuZFRpbWU6IG51bWJlcjtcbiAgICB9W107XG4gICAgcGVybWFuZW50VHJhaW5UaW1lUmVkdWN0aW9uPzogbnVtYmVyOyAvLyBwZXJjZW50YWdlXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWdlQ29uZmlnIHtcbiAgICBpZDogc3RyaW5nOyAvLyBGb3IgY3VzdG9tIGFnZXMsIGBjdXN0b20tJHt0aW1lc3RhbXB9YC4gRm9yIHByZWRlZmluZWQsIGp1c3QgdGhlIG5hbWUuXG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgaXNBY3RpdmU6IGJvb2xlYW47XG4gICAgaXNQcmVkZWZpbmVkOiBib29sZWFuO1xuICAgIG9yZGVyOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnVpbGRpbmdDb25maWcge1xuICAgIGlkOiBCdWlsZGluZ1R5cGUgfCBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgY29zdDogQnVpbGRpbmdDb3N0cztcbiAgICBpc1VuaXF1ZTogYm9vbGVhbjtcbiAgICBidWlsZFRpbWU6IG51bWJlcjsgLy8gaW4gc2Vjb25kc1xuICAgIGhwOiBudW1iZXI7XG4gICAgdW5sb2NrZWRJbkFnZTogc3RyaW5nOyAvLyBuYW1lIG9mIHRoZSBhZ2VcbiAgICBpY29uSWQ6IHN0cmluZzsgLy8ga2V5IGZyb20gYnVpbGRpbmdJY29uTWFwXG4gICAgaXNBY3RpdmU6IGJvb2xlYW47XG4gICAgaXNQcmVkZWZpbmVkOiBib29sZWFuO1xuICAgIG9yZGVyOiBudW1iZXI7XG59XG5cblxuZXhwb3J0IGludGVyZmFjZSBGdWxsR2FtZVN0YXRlIHtcbiAgICBjaXZpbGl6YXRpb246IENpdmlsaXphdGlvbjtcbiAgICByZXNvdXJjZXM6IFJlc291cmNlcztcbiAgICB1bml0czogVW5pdHM7XG4gICAgYnVpbGRpbmdzOiBCdWlsZGluZ3M7XG4gICAgY3VycmVudEFnZTogc3RyaW5nO1xuICAgIGdhbWVMb2c6IEdhbWVMb2dFbnRyeVtdO1xuICAgIGFjdGl2ZVRhc2tzOiBHYW1lVGFza1tdO1xuICAgIHJlc291cmNlTm9kZXM6IFJlc291cmNlTm9kZVtdO1xuICAgIGludmVudG9yeTogR2FtZUl0ZW1bXTtcbiAgICBhY3RpdmVCdWZmczogQWN0aXZlQnVmZnM7XG59XG4iXSwibmFtZXMiOlsiR2FtZVN0YXR1cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./types.ts\n"));

/***/ })

});