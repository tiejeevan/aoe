"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/GameMap.tsx":
/*!********************************!*\
  !*** ./components/GameMap.tsx ***!
  \********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _GameUI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GameUI */ \"(app-pages-browser)/./components/GameUI.tsx\");\n/* harmony import */ var _ProgressBar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ProgressBar */ \"(app-pages-browser)/./components/ProgressBar.tsx\");\n/* harmony import */ var _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./icons/ResourceIcons */ \"(app-pages-browser)/./components/icons/ResourceIcons.tsx\");\n/* harmony import */ var _icons_iconRegistry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./icons/iconRegistry */ \"(app-pages-browser)/./components/icons/iconRegistry.ts\");\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\n\nconst ConstructionTooltip = (param)=>{\n    let { task, buildingInfo, builderCount } = param;\n    _s();\n    const [remainingTime, setRemainingTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const calculateRemaining = ()=>{\n            const endTime = task.startTime + task.duration;\n            const remaining = Math.max(0, endTime - Date.now());\n            setRemainingTime(Math.ceil(remaining / 1000));\n        };\n        calculateRemaining();\n        const interval = setInterval(calculateRemaining, 1000);\n        return ()=>clearInterval(interval);\n    }, [\n        task\n    ]);\n    if (!buildingInfo) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-stone-dark text-white text-xs rounded py-1 px-2 absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-max opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity z-10\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                children: [\n                    \"Constructing: \",\n                    buildingInfo.name\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                lineNumber: 32,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                children: [\n                    \"Builders: \",\n                    builderCount\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                lineNumber: 33,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                children: [\n                    \"Time remaining: \",\n                    remainingTime,\n                    \"s\"\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                lineNumber: 34,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/GameMap.tsx\",\n        lineNumber: 31,\n        columnNumber: 9\n    }, undefined);\n};\n_s(ConstructionTooltip, \"tVFBxYn2cv5nee/o97sp1du4goI=\");\n_c = ConstructionTooltip;\nconst ResourceNodeTooltip = (param)=>{\n    let { node, gatherInfo, villagerCount } = param;\n    const gatherRate = villagerCount > 0 ? villagerCount * gatherInfo[node.type].rate * (node.richness || 1) : 0;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-stone-dark text-white text-xs rounded py-1 px-2 absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-max opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity z-10\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"capitalize font-bold\",\n                children: [\n                    node.type,\n                    \" \",\n                    node.richness && \"(Rich)\"\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                lineNumber: 44,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                children: [\n                    \"Amount: \",\n                    Math.floor(node.amount)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                lineNumber: 45,\n                columnNumber: 13\n            }, undefined),\n            villagerCount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                        className: \"border-stone-light/20 my-1\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                        lineNumber: 48,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            \"Workers: \",\n                            villagerCount\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                        lineNumber: 49,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            \"Rate: \",\n                            gatherRate.toFixed(1),\n                            \"/s\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                        lineNumber: 50,\n                        columnNumber: 21\n                    }, undefined)\n                ]\n            }, void 0, true)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/GameMap.tsx\",\n        lineNumber: 43,\n        columnNumber: 9\n    }, undefined);\n};\n_c1 = ResourceNodeTooltip;\nconst GameMap = (param)=>{\n    let { buildings, activeTasks, playerAction, onConfirmPlacement, onCancelPlayerAction, onBuildingClick, mapDimensions, buildingList, resourceNodes, units, onOpenAssignmentPanel, onOpenConstructionPanel, gatherInfo } = param;\n    _s1();\n    const [hoveredCell, setHoveredCell] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const constructionTasks = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>activeTasks.filter((t)=>t.type === \"build\"), [\n        activeTasks\n    ]);\n    const upgradeTasks = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>activeTasks.filter((t)=>t.type === \"upgrade_building\"), [\n        activeTasks\n    ]);\n    const occupiedCells = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const cellSet = new Set();\n        Object.values(buildings).flat().forEach((building)=>{\n            cellSet.add(\"\".concat(building.position.x, \",\").concat(building.position.y));\n        });\n        constructionTasks.forEach((task)=>{\n            var _task_payload;\n            if ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.position) {\n                cellSet.add(\"\".concat(task.payload.position.x, \",\").concat(task.payload.position.y));\n            }\n        });\n        resourceNodes.forEach((node)=>{\n            cellSet.add(\"\".concat(node.position.x, \",\").concat(node.position.y));\n        });\n        return cellSet;\n    }, [\n        buildings,\n        constructionTasks,\n        resourceNodes\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleKeyDown = (e)=>{\n            if (e.key === \"Escape\") {\n                onCancelPlayerAction();\n            }\n        };\n        window.addEventListener(\"keydown\", handleKeyDown);\n        return ()=>window.removeEventListener(\"keydown\", handleKeyDown);\n    }, [\n        onCancelPlayerAction\n    ]);\n    const handleCellClick = (x, y)=>{\n        if ((playerAction === null || playerAction === void 0 ? void 0 : playerAction.mode) === \"build\") {\n            if (!occupiedCells.has(\"\".concat(x, \",\").concat(y))) {\n                onConfirmPlacement({\n                    x,\n                    y\n                });\n            }\n        }\n    };\n    const getBuildingAt = (x, y)=>{\n        for(const buildingType in buildings){\n            const found = buildings[buildingType].find((b)=>b.position.x === x && b.position.y === y);\n            if (found) return found;\n        }\n        return undefined;\n    };\n    const getConstructionAt = (x, y)=>{\n        return constructionTasks.find((t)=>{\n            var _t_payload_position, _t_payload, _t_payload_position1, _t_payload1;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : (_t_payload_position = _t_payload.position) === null || _t_payload_position === void 0 ? void 0 : _t_payload_position.x) === x && ((_t_payload1 = t.payload) === null || _t_payload1 === void 0 ? void 0 : (_t_payload_position1 = _t_payload1.position) === null || _t_payload_position1 === void 0 ? void 0 : _t_payload_position1.y) === y;\n        });\n    };\n    const getResourceNodeAt = (x, y)=>{\n        return resourceNodes.find((n)=>n.position.x === x && n.position.y === y);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-black/30 p-2 rounded-lg grid gap-0.5\",\n        style: {\n            gridTemplateColumns: \"repeat(\".concat(mapDimensions.width, \", minmax(0, 1fr))\"),\n            gridTemplateRows: \"repeat(\".concat(mapDimensions.height, \", minmax(0, 1fr))\"),\n            cursor: (playerAction === null || playerAction === void 0 ? void 0 : playerAction.mode) === \"build\" ? \"copy\" : \"default\"\n        },\n        onMouseLeave: ()=>setHoveredCell(null),\n        onContextMenu: (e)=>{\n            e.preventDefault();\n            onCancelPlayerAction();\n        },\n        children: Array.from({\n            length: mapDimensions.width * mapDimensions.height\n        }).map((_, index)=>{\n            var _buildingList_find, _constructionTask_payload_villagerIds, _constructionTask_payload_villagerIds1, _constructionTask_payload_villagerIds2;\n            const x = index % mapDimensions.width;\n            const y = Math.floor(index / mapDimensions.width);\n            const building = getBuildingAt(x, y);\n            const constructionTask = getConstructionAt(x, y);\n            const resourceNode = getResourceNodeAt(x, y);\n            const isOccupied = !!building || !!constructionTask || !!resourceNode;\n            const upgradeTask = building ? upgradeTasks.find((t)=>{\n                var _t_payload;\n                return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.originalBuildingId) === building.id;\n            }) : undefined;\n            const gatherTask = resourceNode ? activeTasks.find((t)=>t.id === \"gather-\".concat(resourceNode.id)) : undefined;\n            const assignedVillagerCount = resourceNode ? units.villagers.filter((v)=>v.currentTask === \"gather-\".concat(resourceNode.id)).length : 0;\n            const buildingInfo = constructionTask ? buildingList.find((b)=>{\n                var _constructionTask_payload;\n                return b.id === ((_constructionTask_payload = constructionTask.payload) === null || _constructionTask_payload === void 0 ? void 0 : _constructionTask_payload.buildingType);\n            }) : undefined;\n            let cellClass = \"bg-stone-dark/20 hover:bg-stone-light/10 transition-colors duration-150\";\n            if ((resourceNode || constructionTask) && !playerAction) {\n                cellClass += \" cursor-pointer hover:bg-brand-blue/20\";\n            }\n            if ((playerAction === null || playerAction === void 0 ? void 0 : playerAction.mode) === \"build\") {\n                const isHovered = (hoveredCell === null || hoveredCell === void 0 ? void 0 : hoveredCell.x) === x && (hoveredCell === null || hoveredCell === void 0 ? void 0 : hoveredCell.y) === y;\n                if (isOccupied) {\n                    cellClass = \"bg-brand-red/40\";\n                } else {\n                    cellClass = \"bg-brand-green/20 hover:bg-brand-green/40\";\n                    if (isHovered) {\n                        cellClass = \"bg-brand-green/40\";\n                    }\n                }\n            }\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative group w-full aspect-square \".concat(cellClass),\n                onMouseEnter: ()=>setHoveredCell({\n                        x,\n                        y\n                    }),\n                onClick: (e)=>{\n                    if (playerAction) {\n                        handleCellClick(x, y);\n                        return;\n                    }\n                    if (resourceNode) {\n                        onOpenAssignmentPanel(resourceNode.id, e.currentTarget.getBoundingClientRect());\n                    } else if (constructionTask) {\n                        onOpenConstructionPanel(constructionTask.id, e.currentTarget.getBoundingClientRect());\n                    } else if (building) {\n                        onBuildingClick(building, e.currentTarget.getBoundingClientRect());\n                    }\n                },\n                children: [\n                    building && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute inset-0 p-1 text-parchment-light cursor-pointer\",\n                        children: [\n                            /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_icons_iconRegistry__WEBPACK_IMPORTED_MODULE_5__.buildingIconMap[((_buildingList_find = buildingList.find((b)=>b.id === Object.keys(buildings).find((key)=>buildings[key].some((b)=>b.id === building.id)))) === null || _buildingList_find === void 0 ? void 0 : _buildingList_find.iconId) || \"default\"] || _icons_iconRegistry__WEBPACK_IMPORTED_MODULE_5__.buildingIconMap.default),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-stone-dark text-white text-xs rounded py-1 px-2 absolute bottom-full left-1/2 -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity z-10\",\n                                children: [\n                                    building.name,\n                                    upgradeTask && \" (Upgrading...)\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                lineNumber: 194,\n                                columnNumber: 33\n                            }, undefined),\n                            upgradeTask && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute bottom-1 w-10/12 left-1/2 -translate-x-1/2 h-1.5\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ProgressBar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                    startTime: upgradeTask.startTime,\n                                    duration: upgradeTask.duration\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                    lineNumber: 200,\n                                    columnNumber: 41\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                lineNumber: 199,\n                                columnNumber: 37\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                        lineNumber: 192,\n                        columnNumber: 30\n                    }, undefined),\n                    constructionTask && buildingInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute inset-0 p-1 text-parchment-light opacity-60 flex flex-col justify-center items-center gap-1 group\",\n                        children: [\n                            /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_icons_iconRegistry__WEBPACK_IMPORTED_MODULE_5__.buildingIconMap[buildingInfo.iconId] || _icons_iconRegistry__WEBPACK_IMPORTED_MODULE_5__.buildingIconMap.default),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ProgressBar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                startTime: constructionTask.startTime,\n                                duration: constructionTask.duration,\n                                className: \"w-10/12 h-1.5\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                lineNumber: 208,\n                                columnNumber: 33\n                            }, undefined),\n                            buildingInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ConstructionTooltip, {\n                                task: constructionTask,\n                                buildingInfo: buildingInfo,\n                                builderCount: ((_constructionTask_payload_villagerIds = constructionTask.payload.villagerIds) === null || _constructionTask_payload_villagerIds === void 0 ? void 0 : _constructionTask_payload_villagerIds.length) || 0\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                lineNumber: 209,\n                                columnNumber: 50\n                            }, undefined),\n                            (((_constructionTask_payload_villagerIds1 = constructionTask.payload.villagerIds) === null || _constructionTask_payload_villagerIds1 === void 0 ? void 0 : _constructionTask_payload_villagerIds1.length) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute top-0.5 right-0.5 flex items-center bg-stone-dark/80 rounded-full px-1.5 py-0.5 text-xs text-brand-blue z-10\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-3 h-3\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_4__.VillagerIcon, {}, void 0, false, {\n                                            fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                            lineNumber: 212,\n                                            columnNumber: 66\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                        lineNumber: 212,\n                                        columnNumber: 41\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"ml-1 font-bold\",\n                                        children: (_constructionTask_payload_villagerIds2 = constructionTask.payload.villagerIds) === null || _constructionTask_payload_villagerIds2 === void 0 ? void 0 : _constructionTask_payload_villagerIds2.length\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                        lineNumber: 213,\n                                        columnNumber: 41\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                lineNumber: 211,\n                                columnNumber: 37\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                        lineNumber: 206,\n                        columnNumber: 29\n                    }, undefined),\n                    resourceNode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute inset-0 p-1.5 text-parchment-light/80 flex flex-col items-center justify-center group\",\n                        children: [\n                            _GameUI__WEBPACK_IMPORTED_MODULE_2__.iconMap[resourceNode.type],\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ResourceNodeTooltip, {\n                                node: resourceNode,\n                                gatherInfo: gatherInfo,\n                                villagerCount: assignedVillagerCount\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                lineNumber: 221,\n                                columnNumber: 33\n                            }, undefined),\n                            gatherTask && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute bottom-0.5 w-10/12 h-1.5\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ProgressBar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                    startTime: gatherTask.startTime,\n                                    duration: gatherTask.duration\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                    lineNumber: 224,\n                                    columnNumber: 41\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                lineNumber: 223,\n                                columnNumber: 37\n                            }, undefined),\n                            assignedVillagerCount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute top-0.5 right-0.5 flex items-center bg-stone-dark/80 rounded-full px-1.5 py-0.5 text-xs text-brand-blue z-10\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-3 h-3\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_4__.VillagerIcon, {}, void 0, false, {\n                                            fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                            lineNumber: 229,\n                                            columnNumber: 66\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                        lineNumber: 229,\n                                        columnNumber: 41\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"ml-1 font-bold\",\n                                        children: assignedVillagerCount\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                        lineNumber: 230,\n                                        columnNumber: 41\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                lineNumber: 228,\n                                columnNumber: 37\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                        lineNumber: 219,\n                        columnNumber: 29\n                    }, undefined),\n                    (playerAction === null || playerAction === void 0 ? void 0 : playerAction.mode) === \"build\" && (hoveredCell === null || hoveredCell === void 0 ? void 0 : hoveredCell.x) === x && (hoveredCell === null || hoveredCell === void 0 ? void 0 : hoveredCell.y) === y && !isOccupied && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute inset-0 p-1 text-parchment-light opacity-50\",\n                        children: /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_icons_iconRegistry__WEBPACK_IMPORTED_MODULE_5__.buildingIconMap[buildingList.find((b)=>b.id === playerAction.buildingType).iconId] || _icons_iconRegistry__WEBPACK_IMPORTED_MODULE_5__.buildingIconMap.default)\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                        lineNumber: 236,\n                        columnNumber: 29\n                    }, undefined)\n                ]\n            }, \"\".concat(x, \"-\").concat(y), true, {\n                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                lineNumber: 173,\n                columnNumber: 21\n            }, undefined);\n        })\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/GameMap.tsx\",\n        lineNumber: 132,\n        columnNumber: 9\n    }, undefined);\n};\n_s1(GameMap, \"z0ZNnbbSg4JaLoxVPJFyYYE7HcA=\");\n_c2 = GameMap;\n/* harmony default export */ __webpack_exports__[\"default\"] = (GameMap);\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"ConstructionTooltip\");\n$RefreshReg$(_c1, \"ResourceNodeTooltip\");\n$RefreshReg$(_c2, \"GameMap\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvR2FtZU1hcC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUk0RDtBQUV6QjtBQUNLO0FBQ2E7QUFDRTtBQUV2RCxNQUFNUSxzQkFBb0g7UUFBQyxFQUFFQyxJQUFJLEVBQUVDLFlBQVksRUFBRUMsWUFBWSxFQUFFOztJQUMzSixNQUFNLENBQUNDLGVBQWVDLGlCQUFpQixHQUFHWiwrQ0FBUUEsQ0FBQztJQUVuREMsZ0RBQVNBLENBQUM7UUFDTixNQUFNWSxxQkFBcUI7WUFDdkIsTUFBTUMsVUFBVU4sS0FBS08sU0FBUyxHQUFHUCxLQUFLUSxRQUFRO1lBQzlDLE1BQU1DLFlBQVlDLEtBQUtDLEdBQUcsQ0FBQyxHQUFHTCxVQUFVTSxLQUFLQyxHQUFHO1lBQ2hEVCxpQkFBaUJNLEtBQUtJLElBQUksQ0FBQ0wsWUFBWTtRQUMzQztRQUVBSjtRQUNBLE1BQU1VLFdBQVdDLFlBQVlYLG9CQUFvQjtRQUVqRCxPQUFPLElBQU1ZLGNBQWNGO0lBQy9CLEdBQUc7UUFBQ2Y7S0FBSztJQUVULElBQUksQ0FBQ0MsY0FBYyxPQUFPO0lBRTFCLHFCQUNJLDhEQUFDaUI7UUFBSUMsV0FBVTs7MEJBQ1gsOERBQUNDOztvQkFBRTtvQkFBZW5CLGFBQWFvQixJQUFJOzs7Ozs7OzBCQUNuQyw4REFBQ0Q7O29CQUFFO29CQUFXbEI7Ozs7Ozs7MEJBQ2QsOERBQUNrQjs7b0JBQUU7b0JBQWlCakI7b0JBQWM7Ozs7Ozs7Ozs7Ozs7QUFHOUM7R0F6Qk1KO0tBQUFBO0FBMkJOLE1BQU11QixzQkFBdUk7UUFBQyxFQUFFQyxJQUFJLEVBQUVDLFVBQVUsRUFBRUMsYUFBYSxFQUFFO0lBQzdLLE1BQU1DLGFBQWFELGdCQUFnQixJQUFJQSxnQkFBZ0JELFVBQVUsQ0FBQ0QsS0FBS0ksSUFBSSxDQUFDLENBQUNDLElBQUksR0FBSUwsQ0FBQUEsS0FBS00sUUFBUSxJQUFJLEtBQUs7SUFFM0cscUJBQ0ksOERBQUNYO1FBQUlDLFdBQVU7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QSxDQUFDMEgsT0FBTzs7Ozs7OztlQS9EckksR0FBUXhELE9BQUxELEdBQUUsS0FBSyxPQUFGQzs7Ozs7UUFvRXpCOzs7Ozs7QUFHWjtJQTNLTTlCO01BQUFBO0FBNktOLCtEQUFlQSxPQUFPQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvR2FtZU1hcC50c3g/MjdiYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcblxuXG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHR5cGUgeyBCdWlsZGluZ3MsIEJ1aWxkaW5nVHlwZSwgQnVpbGRpbmdJbnN0YW5jZSwgR2FtZVRhc2ssIEJ1aWxkaW5nQ29uZmlnLCBQbGF5ZXJBY3Rpb25TdGF0ZSwgUmVzb3VyY2VOb2RlLCBSZXNvdXJjZU5vZGVUeXBlLCBVbml0cywgVmlsbGFnZXIgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpY29uTWFwIH0gZnJvbSAnLi9HYW1lVUknO1xuaW1wb3J0IFByb2dyZXNzQmFyIGZyb20gJy4vUHJvZ3Jlc3NCYXInO1xuaW1wb3J0IHsgVmlsbGFnZXJJY29uIH0gZnJvbSAnLi9pY29ucy9SZXNvdXJjZUljb25zJztcbmltcG9ydCB7IGJ1aWxkaW5nSWNvbk1hcCB9IGZyb20gJy4vaWNvbnMvaWNvblJlZ2lzdHJ5JztcblxuY29uc3QgQ29uc3RydWN0aW9uVG9vbHRpcDogUmVhY3QuRkM8eyB0YXNrOiBHYW1lVGFzazsgYnVpbGRpbmdJbmZvOiBCdWlsZGluZ0NvbmZpZyB8IHVuZGVmaW5lZDsgYnVpbGRlckNvdW50OiBudW1iZXIgfT4gPSAoeyB0YXNrLCBidWlsZGluZ0luZm8sIGJ1aWxkZXJDb3VudCB9KSA9PiB7XG4gICAgY29uc3QgW3JlbWFpbmluZ1RpbWUsIHNldFJlbWFpbmluZ1RpbWVdID0gdXNlU3RhdGUoMCk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBjYWxjdWxhdGVSZW1haW5pbmcgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbmRUaW1lID0gdGFzay5zdGFydFRpbWUgKyB0YXNrLmR1cmF0aW9uO1xuICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nID0gTWF0aC5tYXgoMCwgZW5kVGltZSAtIERhdGUubm93KCkpO1xuICAgICAgICAgICAgc2V0UmVtYWluaW5nVGltZShNYXRoLmNlaWwocmVtYWluaW5nIC8gMTAwMCkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNhbGN1bGF0ZVJlbWFpbmluZygpO1xuICAgICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKGNhbGN1bGF0ZVJlbWFpbmluZywgMTAwMCk7XG5cbiAgICAgICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgIH0sIFt0YXNrXSk7XG5cbiAgICBpZiAoIWJ1aWxkaW5nSW5mbykgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXN0b25lLWRhcmsgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgcHktMSBweC0yIGFic29sdXRlIGJvdHRvbS1mdWxsIGxlZnQtMS8yIC10cmFuc2xhdGUteC0xLzIgbWItMiB3LW1heCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgcG9pbnRlci1ldmVudHMtbm9uZSB0cmFuc2l0aW9uLW9wYWNpdHkgei0xMFwiPlxuICAgICAgICAgICAgPHA+Q29uc3RydWN0aW5nOiB7YnVpbGRpbmdJbmZvLm5hbWV9PC9wPlxuICAgICAgICAgICAgPHA+QnVpbGRlcnM6IHtidWlsZGVyQ291bnR9PC9wPlxuICAgICAgICAgICAgPHA+VGltZSByZW1haW5pbmc6IHtyZW1haW5pbmdUaW1lfXM8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5jb25zdCBSZXNvdXJjZU5vZGVUb29sdGlwOiBSZWFjdC5GQzx7IG5vZGU6IFJlc291cmNlTm9kZTsgZ2F0aGVySW5mbzogUmVjb3JkPFJlc291cmNlTm9kZVR5cGUsIHsgcmF0ZTogbnVtYmVyIH0+OyB2aWxsYWdlckNvdW50OiBudW1iZXIgfT4gPSAoeyBub2RlLCBnYXRoZXJJbmZvLCB2aWxsYWdlckNvdW50IH0pID0+IHtcbiAgICBjb25zdCBnYXRoZXJSYXRlID0gdmlsbGFnZXJDb3VudCA+IDAgPyB2aWxsYWdlckNvdW50ICogZ2F0aGVySW5mb1tub2RlLnR5cGVdLnJhdGUgKiAobm9kZS5yaWNobmVzcyB8fCAxKSA6IDA7XG4gICAgXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1zdG9uZS1kYXJrIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkIHB5LTEgcHgtMiBhYnNvbHV0ZSBib3R0b20tZnVsbCBsZWZ0LTEvMiAtdHJhbnNsYXRlLXgtMS8yIG1iLTIgdy1tYXggb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHBvaW50ZXItZXZlbnRzLW5vbmUgdHJhbnNpdGlvbi1vcGFjaXR5IHotMTBcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImNhcGl0YWxpemUgZm9udC1ib2xkXCI+e25vZGUudHlwZX0ge25vZGUucmljaG5lc3MgJiYgYChSaWNoKWB9PC9wPlxuICAgICAgICAgICAgPHA+QW1vdW50OiB7TWF0aC5mbG9vcihub2RlLmFtb3VudCl9PC9wPlxuICAgICAgICAgICAge3ZpbGxhZ2VyQ291bnQgPiAwICYmIChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICA8aHIgY2xhc3NOYW1lPVwiYm9yZGVyLXN0b25lLWxpZ2h0LzIwIG15LTFcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8cD5Xb3JrZXJzOiB7dmlsbGFnZXJDb3VudH08L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwPlJhdGU6IHtnYXRoZXJSYXRlLnRvRml4ZWQoMSl9L3M8L3A+XG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuXG5pbnRlcmZhY2UgR2FtZU1hcFByb3BzIHtcbiAgICBidWlsZGluZ3M6IEJ1aWxkaW5ncztcbiAgICBhY3RpdmVUYXNrczogR2FtZVRhc2tbXTtcbiAgICBwbGF5ZXJBY3Rpb246IFBsYXllckFjdGlvblN0YXRlO1xuICAgIG9uQ29uZmlybVBsYWNlbWVudDogKHBvc2l0aW9uOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyOyB9KSA9PiB2b2lkO1xuICAgIG9uQ2FuY2VsUGxheWVyQWN0aW9uOiAoKSA9PiB2b2lkO1xuICAgIG9uQnVpbGRpbmdDbGljazogKGJ1aWxkaW5nOiBCdWlsZGluZ0luc3RhbmNlLCByZWN0OiBET01SZWN0KSA9PiB2b2lkO1xuICAgIG1hcERpbWVuc2lvbnM6IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXI7IH07XG4gICAgYnVpbGRpbmdMaXN0OiBCdWlsZGluZ0NvbmZpZ1tdO1xuICAgIHJlc291cmNlTm9kZXM6IFJlc291cmNlTm9kZVtdO1xuICAgIHVuaXRzOiBVbml0cztcbiAgICBvbk9wZW5Bc3NpZ25tZW50UGFuZWw6IChub2RlSWQ6IHN0cmluZywgcmVjdDogRE9NUmVjdCkgPT4gdm9pZDtcbiAgICBvbk9wZW5Db25zdHJ1Y3Rpb25QYW5lbDogKGNvbnN0cnVjdGlvbklkOiBzdHJpbmcsIHJlY3Q6IERPTVJlY3QpID0+IHZvaWQ7XG4gICAgZ2F0aGVySW5mbzogUmVjb3JkPFJlc291cmNlTm9kZVR5cGUsIHsgcmF0ZTogbnVtYmVyIH0+O1xufVxuXG5jb25zdCBHYW1lTWFwOiBSZWFjdC5GQzxHYW1lTWFwUHJvcHM+ID0gKHsgYnVpbGRpbmdzLCBhY3RpdmVUYXNrcywgcGxheWVyQWN0aW9uLCBvbkNvbmZpcm1QbGFjZW1lbnQsIG9uQ2FuY2VsUGxheWVyQWN0aW9uLCBvbkJ1aWxkaW5nQ2xpY2ssIG1hcERpbWVuc2lvbnMsIGJ1aWxkaW5nTGlzdCwgcmVzb3VyY2VOb2RlcywgdW5pdHMsIG9uT3BlbkFzc2lnbm1lbnRQYW5lbCwgb25PcGVuQ29uc3RydWN0aW9uUGFuZWwsIGdhdGhlckluZm8gfSkgPT4ge1xuICAgIGNvbnN0IFtob3ZlcmVkQ2VsbCwgc2V0SG92ZXJlZENlbGxdID0gdXNlU3RhdGU8eyB4OiBudW1iZXI7IHk6IG51bWJlcjsgfSB8IG51bGw+KG51bGwpO1xuXG4gICAgY29uc3QgY29uc3RydWN0aW9uVGFza3MgPSB1c2VNZW1vKCgpID0+IGFjdGl2ZVRhc2tzLmZpbHRlcih0ID0+IHQudHlwZSA9PT0gJ2J1aWxkJyksIFthY3RpdmVUYXNrc10pO1xuICAgIGNvbnN0IHVwZ3JhZGVUYXNrcyA9IHVzZU1lbW8oKCkgPT4gYWN0aXZlVGFza3MuZmlsdGVyKHQgPT4gdC50eXBlID09PSAndXBncmFkZV9idWlsZGluZycpLCBbYWN0aXZlVGFza3NdKTtcblxuICAgIGNvbnN0IG9jY3VwaWVkQ2VsbHMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgY29uc3QgY2VsbFNldCA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICAgICBPYmplY3QudmFsdWVzKGJ1aWxkaW5ncykuZmxhdCgpLmZvckVhY2goYnVpbGRpbmcgPT4ge1xuICAgICAgICAgICAgY2VsbFNldC5hZGQoYCR7YnVpbGRpbmcucG9zaXRpb24ueH0sJHtidWlsZGluZy5wb3NpdGlvbi55fWApO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3RydWN0aW9uVGFza3MuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgICAgIGlmKHRhc2sucGF5bG9hZD8ucG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICBjZWxsU2V0LmFkZChgJHt0YXNrLnBheWxvYWQucG9zaXRpb24ueH0sJHt0YXNrLnBheWxvYWQucG9zaXRpb24ueX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJlc291cmNlTm9kZXMuZm9yRWFjaChub2RlID0+IHtcbiAgICAgICAgICAgIGNlbGxTZXQuYWRkKGAke25vZGUucG9zaXRpb24ueH0sJHtub2RlLnBvc2l0aW9uLnl9YCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2VsbFNldDtcbiAgICB9LCBbYnVpbGRpbmdzLCBjb25zdHJ1Y3Rpb25UYXNrcywgcmVzb3VyY2VOb2Rlc10pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgICAgICAgICAgb25DYW5jZWxQbGF5ZXJBY3Rpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICAgICAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICB9LCBbb25DYW5jZWxQbGF5ZXJBY3Rpb25dKTtcblxuICAgIGNvbnN0IGhhbmRsZUNlbGxDbGljayA9ICh4OiBudW1iZXIsIHk6IG51bWJlcikgPT4ge1xuICAgICAgICBpZiAocGxheWVyQWN0aW9uPy5tb2RlID09PSAnYnVpbGQnKSB7XG4gICAgICAgICAgICBpZiAoIW9jY3VwaWVkQ2VsbHMuaGFzKGAke3h9LCR7eX1gKSkge1xuICAgICAgICAgICAgICAgIG9uQ29uZmlybVBsYWNlbWVudCh7IHgsIHkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGdldEJ1aWxkaW5nQXQgPSAoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBCdWlsZGluZ0luc3RhbmNlIHwgdW5kZWZpbmVkID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBidWlsZGluZ1R5cGUgaW4gYnVpbGRpbmdzKSB7XG4gICAgICAgICAgICBjb25zdCBmb3VuZCA9IGJ1aWxkaW5nc1tidWlsZGluZ1R5cGUgYXMgc3RyaW5nXS5maW5kKGIgPT4gYi5wb3NpdGlvbi54ID09PSB4ICYmIGIucG9zaXRpb24ueSA9PT0geSk7XG4gICAgICAgICAgICBpZiAoZm91bmQpIHJldHVybiBmb3VuZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG5cbiAgICBjb25zdCBnZXRDb25zdHJ1Y3Rpb25BdCA9ICh4OiBudW1iZXIsIHk6IG51bWJlcik6IEdhbWVUYXNrIHwgdW5kZWZpbmVkID0+IHtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdGlvblRhc2tzLmZpbmQodCA9PiB0LnBheWxvYWQ/LnBvc2l0aW9uPy54ID09PSB4ICYmIHQucGF5bG9hZD8ucG9zaXRpb24/LnkgPT09IHkpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBnZXRSZXNvdXJjZU5vZGVBdCA9ICh4OiBudW1iZXIsIHk6IG51bWJlcik6IFJlc291cmNlTm9kZSB8IHVuZGVmaW5lZCA9PiB7XG4gICAgICAgIHJldHVybiByZXNvdXJjZU5vZGVzLmZpbmQobiA9PiBuLnBvc2l0aW9uLnggPT09IHggJiYgbi5wb3NpdGlvbi55ID09PSB5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9e2BiZy1ibGFjay8zMCBwLTIgcm91bmRlZC1sZyBncmlkIGdhcC0wLjVgfVxuICAgICAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgICAgICAgZ3JpZFRlbXBsYXRlQ29sdW1uczogYHJlcGVhdCgke21hcERpbWVuc2lvbnMud2lkdGh9LCBtaW5tYXgoMCwgMWZyKSlgLFxuICAgICAgICAgICAgICAgIGdyaWRUZW1wbGF0ZVJvd3M6IGByZXBlYXQoJHttYXBEaW1lbnNpb25zLmhlaWdodH0sIG1pbm1heCgwLCAxZnIpKWAsXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBwbGF5ZXJBY3Rpb24/Lm1vZGUgPT09ICdidWlsZCcgPyAnY29weScgOiAnZGVmYXVsdCdcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBvbk1vdXNlTGVhdmU9eygpID0+IHNldEhvdmVyZWRDZWxsKG51bGwpfVxuICAgICAgICAgICAgb25Db250ZXh0TWVudT17KGUpID0+IHsgZS5wcmV2ZW50RGVmYXVsdCgpOyBvbkNhbmNlbFBsYXllckFjdGlvbigpOyB9fVxuICAgICAgICA+XG4gICAgICAgICAgICB7QXJyYXkuZnJvbSh7IGxlbmd0aDogbWFwRGltZW5zaW9ucy53aWR0aCAqIG1hcERpbWVuc2lvbnMuaGVpZ2h0IH0pLm1hcCgoXywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gaW5kZXggJSBtYXBEaW1lbnNpb25zLndpZHRoO1xuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBNYXRoLmZsb29yKGluZGV4IC8gbWFwRGltZW5zaW9ucy53aWR0aCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVpbGRpbmcgPSBnZXRCdWlsZGluZ0F0KHgsIHkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnN0cnVjdGlvblRhc2sgPSBnZXRDb25zdHJ1Y3Rpb25BdCh4LCB5KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNvdXJjZU5vZGUgPSBnZXRSZXNvdXJjZU5vZGVBdCh4LCB5KTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc09jY3VwaWVkID0gISFidWlsZGluZyB8fCAhIWNvbnN0cnVjdGlvblRhc2sgfHwgISFyZXNvdXJjZU5vZGU7XG4gICAgICAgICAgICAgICAgY29uc3QgdXBncmFkZVRhc2sgPSBidWlsZGluZyA/IHVwZ3JhZGVUYXNrcy5maW5kKHQgPT4gdC5wYXlsb2FkPy5vcmlnaW5hbEJ1aWxkaW5nSWQgPT09IGJ1aWxkaW5nLmlkKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCBnYXRoZXJUYXNrID0gcmVzb3VyY2VOb2RlID8gYWN0aXZlVGFza3MuZmluZCh0ID0+IHQuaWQgPT09IGBnYXRoZXItJHtyZXNvdXJjZU5vZGUuaWR9YCkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgY29uc3QgYXNzaWduZWRWaWxsYWdlckNvdW50ID0gcmVzb3VyY2VOb2RlID8gdW5pdHMudmlsbGFnZXJzLmZpbHRlcih2ID0+IHYuY3VycmVudFRhc2sgPT09IGBnYXRoZXItJHtyZXNvdXJjZU5vZGUuaWR9YCkubGVuZ3RoIDogMDtcbiAgICAgICAgICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBjb25zdHJ1Y3Rpb25UYXNrID8gYnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSBjb25zdHJ1Y3Rpb25UYXNrLnBheWxvYWQ/LmJ1aWxkaW5nVHlwZSkgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICBsZXQgY2VsbENsYXNzID0gXCJiZy1zdG9uZS1kYXJrLzIwIGhvdmVyOmJnLXN0b25lLWxpZ2h0LzEwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTE1MFwiO1xuICAgICAgICAgICAgICAgIGlmKChyZXNvdXJjZU5vZGUgfHwgY29uc3RydWN0aW9uVGFzaykgJiYgIXBsYXllckFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjZWxsQ2xhc3MgKz0gXCIgY3Vyc29yLXBvaW50ZXIgaG92ZXI6YmctYnJhbmQtYmx1ZS8yMFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyQWN0aW9uPy5tb2RlID09PSAnYnVpbGQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzSG92ZXJlZCA9IGhvdmVyZWRDZWxsPy54ID09PSB4ICYmIGhvdmVyZWRDZWxsPy55ID09PSB5O1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNPY2N1cGllZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbENsYXNzID0gXCJiZy1icmFuZC1yZWQvNDBcIjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxDbGFzcyA9IFwiYmctYnJhbmQtZ3JlZW4vMjAgaG92ZXI6YmctYnJhbmQtZ3JlZW4vNDBcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGlzSG92ZXJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbENsYXNzID0gXCJiZy1icmFuZC1ncmVlbi80MFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtgJHt4fS0ke3l9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHJlbGF0aXZlIGdyb3VwIHctZnVsbCBhc3BlY3Qtc3F1YXJlICR7Y2VsbENsYXNzfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eygpID0+IHNldEhvdmVyZWRDZWxsKHsgeCwgeSB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBsYXllckFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDZWxsQ2xpY2soeCwgeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc291cmNlTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5Bc3NpZ25tZW50UGFuZWwocmVzb3VyY2VOb2RlLmlkLCBlLmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29uc3RydWN0aW9uVGFzaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5Db25zdHJ1Y3Rpb25QYW5lbChjb25zdHJ1Y3Rpb25UYXNrLmlkLCBlLmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYnVpbGRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25CdWlsZGluZ0NsaWNrKGJ1aWxkaW5nLCBlLmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtidWlsZGluZyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBwLTEgdGV4dC1wYXJjaG1lbnQtbGlnaHQgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1JlYWN0LmNyZWF0ZUVsZW1lbnQoYnVpbGRpbmdJY29uTWFwW2J1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gKE9iamVjdC5rZXlzKGJ1aWxkaW5ncykuZmluZChrZXkgPT4gYnVpbGRpbmdzW2tleSBhcyBzdHJpbmddLnNvbWUoYiA9PiBiLmlkID09PSBidWlsZGluZy5pZCkpKSk/Lmljb25JZCB8fCAnZGVmYXVsdCddIHx8IGJ1aWxkaW5nSWNvbk1hcC5kZWZhdWx0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1zdG9uZS1kYXJrIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkIHB5LTEgcHgtMiBhYnNvbHV0ZSBib3R0b20tZnVsbCBsZWZ0LTEvMiAtdHJhbnNsYXRlLXgtMS8yIG1iLTIgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHBvaW50ZXItZXZlbnRzLW5vbmUgdHJhbnNpdGlvbi1vcGFjaXR5IHotMTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtidWlsZGluZy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3VwZ3JhZGVUYXNrICYmICcgKFVwZ3JhZGluZy4uLiknfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3VwZ3JhZGVUYXNrICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTEgdy0xMC8xMiBsZWZ0LTEvMiAtdHJhbnNsYXRlLXgtMS8yIGgtMS41XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFByb2dyZXNzQmFyIHN0YXJ0VGltZT17dXBncmFkZVRhc2suc3RhcnRUaW1lfSBkdXJhdGlvbj17dXBncmFkZVRhc2suZHVyYXRpb259IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2NvbnN0cnVjdGlvblRhc2sgJiYgYnVpbGRpbmdJbmZvICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgcC0xIHRleHQtcGFyY2htZW50LWxpZ2h0IG9wYWNpdHktNjAgZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgZ2FwLTEgZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1JlYWN0LmNyZWF0ZUVsZW1lbnQoYnVpbGRpbmdJY29uTWFwW2J1aWxkaW5nSW5mby5pY29uSWRdIHx8IGJ1aWxkaW5nSWNvbk1hcC5kZWZhdWx0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFByb2dyZXNzQmFyIHN0YXJ0VGltZT17Y29uc3RydWN0aW9uVGFzay5zdGFydFRpbWV9IGR1cmF0aW9uPXtjb25zdHJ1Y3Rpb25UYXNrLmR1cmF0aW9ufSBjbGFzc05hbWU9XCJ3LTEwLzEyIGgtMS41XCIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YnVpbGRpbmdJbmZvICYmIDxDb25zdHJ1Y3Rpb25Ub29sdGlwIHRhc2s9e2NvbnN0cnVjdGlvblRhc2t9IGJ1aWxkaW5nSW5mbz17YnVpbGRpbmdJbmZvfSBidWlsZGVyQ291bnQ9e2NvbnN0cnVjdGlvblRhc2sucGF5bG9hZC52aWxsYWdlcklkcz8ubGVuZ3RoIHx8IDB9IC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KGNvbnN0cnVjdGlvblRhc2sucGF5bG9hZC52aWxsYWdlcklkcz8ubGVuZ3RoIHx8IDApID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0wLjUgcmlnaHQtMC41IGZsZXggaXRlbXMtY2VudGVyIGJnLXN0b25lLWRhcmsvODAgcm91bmRlZC1mdWxsIHB4LTEuNSBweS0wLjUgdGV4dC14cyB0ZXh0LWJyYW5kLWJsdWUgei0xMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0zIGgtM1wiPjxWaWxsYWdlckljb24gLz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0xIGZvbnQtYm9sZFwiPntjb25zdHJ1Y3Rpb25UYXNrLnBheWxvYWQudmlsbGFnZXJJZHM/Lmxlbmd0aH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7cmVzb3VyY2VOb2RlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgcC0xLjUgdGV4dC1wYXJjaG1lbnQtbGlnaHQvODAgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ljb25NYXBbcmVzb3VyY2VOb2RlLnR5cGVdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UmVzb3VyY2VOb2RlVG9vbHRpcCBub2RlPXtyZXNvdXJjZU5vZGV9IGdhdGhlckluZm89e2dhdGhlckluZm99IHZpbGxhZ2VyQ291bnQ9e2Fzc2lnbmVkVmlsbGFnZXJDb3VudH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2dhdGhlclRhc2sgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMC41IHctMTAvMTIgaC0xLjVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UHJvZ3Jlc3NCYXIgc3RhcnRUaW1lPXtnYXRoZXJUYXNrLnN0YXJ0VGltZX0gZHVyYXRpb249e2dhdGhlclRhc2suZHVyYXRpb259Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YXNzaWduZWRWaWxsYWdlckNvdW50ID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0wLjUgcmlnaHQtMC41IGZsZXggaXRlbXMtY2VudGVyIGJnLXN0b25lLWRhcmsvODAgcm91bmRlZC1mdWxsIHB4LTEuNSBweS0wLjUgdGV4dC14cyB0ZXh0LWJyYW5kLWJsdWUgei0xMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0zIGgtM1wiPjxWaWxsYWdlckljb24gLz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0xIGZvbnQtYm9sZFwiPnthc3NpZ25lZFZpbGxhZ2VyQ291bnR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge3BsYXllckFjdGlvbj8ubW9kZSA9PT0gJ2J1aWxkJyAmJiBob3ZlcmVkQ2VsbD8ueCA9PT0geCAmJiBob3ZlcmVkQ2VsbD8ueSA9PT0geSAmJiAhaXNPY2N1cGllZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIHAtMSB0ZXh0LXBhcmNobWVudC1saWdodCBvcGFjaXR5LTUwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1JlYWN0LmNyZWF0ZUVsZW1lbnQoYnVpbGRpbmdJY29uTWFwW2J1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gcGxheWVyQWN0aW9uLmJ1aWxkaW5nVHlwZSkhLmljb25JZF0gfHwgYnVpbGRpbmdJY29uTWFwLmRlZmF1bHQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgR2FtZU1hcDtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlTWVtbyIsImljb25NYXAiLCJQcm9ncmVzc0JhciIsIlZpbGxhZ2VySWNvbiIsImJ1aWxkaW5nSWNvbk1hcCIsIkNvbnN0cnVjdGlvblRvb2x0aXAiLCJ0YXNrIiwiYnVpbGRpbmdJbmZvIiwiYnVpbGRlckNvdW50IiwicmVtYWluaW5nVGltZSIsInNldFJlbWFpbmluZ1RpbWUiLCJjYWxjdWxhdGVSZW1haW5pbmciLCJlbmRUaW1lIiwic3RhcnRUaW1lIiwiZHVyYXRpb24iLCJyZW1haW5pbmciLCJNYXRoIiwibWF4IiwiRGF0ZSIsIm5vdyIsImNlaWwiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImRpdiIsImNsYXNzTmFtZSIsInAiLCJuYW1lIiwiUmVzb3VyY2VOb2RlVG9vbHRpcCIsIm5vZGUiLCJnYXRoZXJJbmZvIiwidmlsbGFnZXJDb3VudCIsImdhdGhlclJhdGUiLCJ0eXBlIiwicmF0ZSIsInJpY2huZXNzIiwiZmxvb3IiLCJhbW91bnQiLCJociIsInRvRml4ZWQiLCJHYW1lTWFwIiwiYnVpbGRpbmdzIiwiYWN0aXZlVGFza3MiLCJwbGF5ZXJBY3Rpb24iLCJvbkNvbmZpcm1QbGFjZW1lbnQiLCJvbkNhbmNlbFBsYXllckFjdGlvbiIsIm9uQnVpbGRpbmdDbGljayIsIm1hcERpbWVuc2lvbnMiLCJidWlsZGluZ0xpc3QiLCJyZXNvdXJjZU5vZGVzIiwidW5pdHMiLCJvbk9wZW5Bc3NpZ25tZW50UGFuZWwiLCJvbk9wZW5Db25zdHJ1Y3Rpb25QYW5lbCIsImhvdmVyZWRDZWxsIiwic2V0SG92ZXJlZENlbGwiLCJjb25zdHJ1Y3Rpb25UYXNrcyIsImZpbHRlciIsInQiLCJ1cGdyYWRlVGFza3MiLCJvY2N1cGllZENlbGxzIiwiY2VsbFNldCIsIlNldCIsIk9iamVjdCIsInZhbHVlcyIsImZsYXQiLCJmb3JFYWNoIiwiYnVpbGRpbmciLCJhZGQiLCJwb3NpdGlvbiIsIngiLCJ5IiwicGF5bG9hZCIsImhhbmRsZUtleURvd24iLCJlIiwia2V5Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVDZWxsQ2xpY2siLCJtb2RlIiwiaGFzIiwiZ2V0QnVpbGRpbmdBdCIsImJ1aWxkaW5nVHlwZSIsImZvdW5kIiwiZmluZCIsImIiLCJ1bmRlZmluZWQiLCJnZXRDb25zdHJ1Y3Rpb25BdCIsImdldFJlc291cmNlTm9kZUF0IiwibiIsInN0eWxlIiwiZ3JpZFRlbXBsYXRlQ29sdW1ucyIsIndpZHRoIiwiZ3JpZFRlbXBsYXRlUm93cyIsImhlaWdodCIsImN1cnNvciIsIm9uTW91c2VMZWF2ZSIsIm9uQ29udGV4dE1lbnUiLCJwcmV2ZW50RGVmYXVsdCIsIkFycmF5IiwiZnJvbSIsImxlbmd0aCIsIm1hcCIsIl8iLCJpbmRleCIsImNvbnN0cnVjdGlvblRhc2siLCJyZXNvdXJjZU5vZGUiLCJpc09jY3VwaWVkIiwidXBncmFkZVRhc2siLCJvcmlnaW5hbEJ1aWxkaW5nSWQiLCJpZCIsImdhdGhlclRhc2siLCJhc3NpZ25lZFZpbGxhZ2VyQ291bnQiLCJ2aWxsYWdlcnMiLCJ2IiwiY3VycmVudFRhc2siLCJjZWxsQ2xhc3MiLCJpc0hvdmVyZWQiLCJvbk1vdXNlRW50ZXIiLCJvbkNsaWNrIiwiY3VycmVudFRhcmdldCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNyZWF0ZUVsZW1lbnQiLCJrZXlzIiwic29tZSIsImljb25JZCIsImRlZmF1bHQiLCJ2aWxsYWdlcklkcyIsInNwYW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/GameMap.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/types */ \"(app-pages-browser)/./types.ts\");\n/* harmony import */ var _services_geminiService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/services/geminiService */ \"(app-pages-browser)/./services/geminiService.ts\");\n/* harmony import */ var _services_dbService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/services/dbService */ \"(app-pages-browser)/./services/dbService.ts\");\n/* harmony import */ var _services_nameService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/services/nameService */ \"(app-pages-browser)/./services/nameService.ts\");\n/* harmony import */ var _data_itemContent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/data/itemContent */ \"(app-pages-browser)/./data/itemContent.ts\");\n/* harmony import */ var _data_ageInfo__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/data/ageInfo */ \"(app-pages-browser)/./data/ageInfo.ts\");\n/* harmony import */ var _data_buildingInfo__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/data/buildingInfo */ \"(app-pages-browser)/./data/buildingInfo.ts\");\n/* harmony import */ var _data_unitInfo__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/data/unitInfo */ \"(app-pages-browser)/./data/unitInfo.ts\");\n/* harmony import */ var _components_GameUI__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/GameUI */ \"(app-pages-browser)/./components/GameUI.tsx\");\n/* harmony import */ var _components_StartScreen__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/StartScreen */ \"(app-pages-browser)/./components/StartScreen.tsx\");\n/* harmony import */ var _components_LoadingScreen__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/components/LoadingScreen */ \"(app-pages-browser)/./components/LoadingScreen.tsx\");\n/* harmony import */ var _components_BuildPanel__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/components/BuildPanel */ \"(app-pages-browser)/./components/BuildPanel.tsx\");\n/* harmony import */ var _components_NotificationManager__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/components/NotificationManager */ \"(app-pages-browser)/./components/NotificationManager.tsx\");\n/* harmony import */ var _components_UnitManagementPanel__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/components/UnitManagementPanel */ \"(app-pages-browser)/./components/UnitManagementPanel.tsx\");\n/* harmony import */ var _components_BuildingManagementPanel__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/components/BuildingManagementPanel */ \"(app-pages-browser)/./components/BuildingManagementPanel.tsx\");\n/* harmony import */ var _components_ResourceAssignmentPanel__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @/components/ResourceAssignmentPanel */ \"(app-pages-browser)/./components/ResourceAssignmentPanel.tsx\");\n/* harmony import */ var _components_CivilizationPanel__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @/components/CivilizationPanel */ \"(app-pages-browser)/./components/CivilizationPanel.tsx\");\n/* harmony import */ var _components_AllBuildingsPanel__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @/components/AllBuildingsPanel */ \"(app-pages-browser)/./components/AllBuildingsPanel.tsx\");\n/* harmony import */ var _components_InventoryPanel__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @/components/InventoryPanel */ \"(app-pages-browser)/./components/InventoryPanel.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst GATHER_INFO = {\n    food: {\n        rate: 10\n    },\n    wood: {\n        rate: 8\n    },\n    gold: {\n        rate: 5\n    },\n    stone: {\n        rate: 6\n    }\n};\nconst initialBuildingsState = {\n    houses: [],\n    barracks: [],\n    archeryRange: [],\n    stable: [],\n    siegeWorkshop: [],\n    blacksmith: [],\n    watchTower: [],\n    townCenter: []\n};\nconst MAP_DIMENSIONS = {\n    width: 25,\n    height: 18\n};\nconst GamePage = ()=>{\n    _s();\n    // Core Game State\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n    const [civilization, setCivilization] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [resources, setResources] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        food: 200,\n        wood: 150,\n        gold: 50,\n        stone: 100\n    });\n    const [units, setUnits] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        villagers: [],\n        military: []\n    });\n    const [buildings, setBuildings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialBuildingsState);\n    const [currentAge, setCurrentAge] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Nomadic Age\");\n    const [gameLog, setGameLog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentEvent, setCurrentEvent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [resourceDeltas, setResourceDeltas] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [activityStatus, setActivityStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Your story begins...\");\n    const [notifications, setNotifications] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [unlimitedResources, setUnlimitedResources] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [allSaves, setAllSaves] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentSaveName, setCurrentSaveName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [playerAction, setPlayerAction] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [activeTasks, setActiveTasks] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [resourceNodes, setResourceNodes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [inventory, setInventory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [activeBuffs, setActiveBuffs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        resourceBoost: []\n    });\n    // Master lists of all configurations from DB\n    const [masterAgeList, setMasterAgeList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [masterBuildingList, setMasterBuildingList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [masterUnitList, setMasterUnitList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // App Loading State\n    const [isAppLoading, setIsAppLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    // Panel States\n    const [buildPanelState, setBuildPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        villagerId: null,\n        anchorRect: null\n    });\n    const [unitManagementPanel, setUnitManagementPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        type: null,\n        anchorRect: null\n    });\n    const [buildingManagementPanel, setBuildingManagementPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        type: null,\n        instanceId: null,\n        anchorRect: null\n    });\n    const [allBuildingsPanel, setAllBuildingsPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const [assignmentPanelState, setAssignmentPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        targetId: null,\n        targetType: null,\n        anchorRect: null\n    });\n    const [civPanelState, setCivPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const [inventoryPanelState, setInventoryPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const deltaTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    const eventTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const lastTickRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(Date.now());\n    const animationFrameRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    // Derived state for active game configurations\n    const ageProgressionList = masterAgeList.filter((age)=>age.isActive);\n    const buildingList = masterBuildingList; // Keep all for lookups, filter on use\n    const unitList = masterUnitList; // Keep all for lookups, filter on use\n    const populationCapacity = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        let capacity = 0;\n        for(const buildingType in buildings){\n            const buildingInfo = masterBuildingList.find((b)=>b.id === buildingType);\n            if (buildingInfo && buildingInfo.populationCapacity) {\n                capacity += buildings[buildingType].length * buildingInfo.populationCapacity;\n            }\n        }\n        return capacity;\n    }, [\n        buildings,\n        masterBuildingList\n    ]);\n    const population = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const militaryPop = units.military.reduce((acc, unit)=>{\n            const unitInfo = masterUnitList.find((u)=>u.id === unit.unitType);\n            return acc + ((unitInfo === null || unitInfo === void 0 ? void 0 : unitInfo.populationCost) || 1);\n        }, 0);\n        return {\n            current: units.villagers.length + militaryPop,\n            capacity: populationCapacity\n        };\n    }, [\n        units,\n        populationCapacity,\n        masterUnitList\n    ]);\n    const fetchSavesAndConfigs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        setIsAppLoading(true);\n        try {\n            var _allAgeConfigs_;\n            const names = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllSaveNames)();\n            setAllSaves(names);\n            // --- Smart Seeding/Updating for Ages ---\n            let allAgeConfigs = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllAgeConfigs)();\n            let ageMap = new Map(allAgeConfigs.map((item)=>[\n                    item.id,\n                    item\n                ]));\n            let agesNeedUpdate = false;\n            for (const [index, pItem] of _data_ageInfo__WEBPACK_IMPORTED_MODULE_7__.INITIAL_AGES.entries()){\n                const existingItem = ageMap.get(pItem.name);\n                var _existingItem_isActive, _existingItem_order;\n                const newItem = {\n                    ...existingItem || {},\n                    ...pItem,\n                    id: pItem.name,\n                    isPredefined: true,\n                    isActive: (_existingItem_isActive = existingItem === null || existingItem === void 0 ? void 0 : existingItem.isActive) !== null && _existingItem_isActive !== void 0 ? _existingItem_isActive : true,\n                    order: (_existingItem_order = existingItem === null || existingItem === void 0 ? void 0 : existingItem.order) !== null && _existingItem_order !== void 0 ? _existingItem_order : index\n                };\n                if (JSON.stringify(existingItem) !== JSON.stringify(newItem)) {\n                    await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.saveAgeConfig)(newItem);\n                    agesNeedUpdate = true;\n                }\n            }\n            if (agesNeedUpdate) allAgeConfigs = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllAgeConfigs)();\n            setMasterAgeList(allAgeConfigs);\n            // --- Smart Seeding/Updating for Buildings ---\n            let allBuildingConfigs = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllBuildingConfigs)();\n            let buildingMap = new Map(allBuildingConfigs.map((item)=>[\n                    item.id,\n                    item\n                ]));\n            let buildingsNeedUpdate = false;\n            const defaultAge = ((_allAgeConfigs_ = allAgeConfigs[0]) === null || _allAgeConfigs_ === void 0 ? void 0 : _allAgeConfigs_.name) || _data_ageInfo__WEBPACK_IMPORTED_MODULE_7__.INITIAL_AGES[0].name;\n            for (const [index, pItem] of _data_buildingInfo__WEBPACK_IMPORTED_MODULE_8__.INITIAL_BUILDINGS.entries()){\n                const existingItem = buildingMap.get(pItem.id);\n                var _existingItem_isActive1, _existingItem_order1, _existingItem_populationCapacity, _existingItem_generatesResource, _existingItem_generationRate, _existingItem_maintenanceCost;\n                const newItem = {\n                    ...pItem,\n                    ...existingItem || {},\n                    id: pItem.id,\n                    isPredefined: true,\n                    unlockedInAge: (existingItem === null || existingItem === void 0 ? void 0 : existingItem.unlockedInAge) || (pItem.id === \"townCenter\" ? _data_ageInfo__WEBPACK_IMPORTED_MODULE_7__.INITIAL_AGES[0].name : defaultAge),\n                    isActive: (_existingItem_isActive1 = existingItem === null || existingItem === void 0 ? void 0 : existingItem.isActive) !== null && _existingItem_isActive1 !== void 0 ? _existingItem_isActive1 : true,\n                    order: (_existingItem_order1 = existingItem === null || existingItem === void 0 ? void 0 : existingItem.order) !== null && _existingItem_order1 !== void 0 ? _existingItem_order1 : index,\n                    treeId: (existingItem === null || existingItem === void 0 ? void 0 : existingItem.treeId) || \"tree-predefined-\".concat(pItem.id),\n                    populationCapacity: (_existingItem_populationCapacity = existingItem === null || existingItem === void 0 ? void 0 : existingItem.populationCapacity) !== null && _existingItem_populationCapacity !== void 0 ? _existingItem_populationCapacity : pItem.populationCapacity,\n                    generatesResource: (_existingItem_generatesResource = existingItem === null || existingItem === void 0 ? void 0 : existingItem.generatesResource) !== null && _existingItem_generatesResource !== void 0 ? _existingItem_generatesResource : pItem.generatesResource,\n                    generationRate: (_existingItem_generationRate = existingItem === null || existingItem === void 0 ? void 0 : existingItem.generationRate) !== null && _existingItem_generationRate !== void 0 ? _existingItem_generationRate : pItem.generationRate,\n                    maintenanceCost: (_existingItem_maintenanceCost = existingItem === null || existingItem === void 0 ? void 0 : existingItem.maintenanceCost) !== null && _existingItem_maintenanceCost !== void 0 ? _existingItem_maintenanceCost : pItem.maintenanceCost\n                };\n                if (JSON.stringify(existingItem) !== JSON.stringify(newItem)) {\n                    await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.saveBuildingConfig)(newItem);\n                    buildingsNeedUpdate = true;\n                }\n            }\n            if (buildingsNeedUpdate) allBuildingConfigs = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllBuildingConfigs)();\n            setMasterBuildingList(allBuildingConfigs);\n            // --- Smart Seeding/Updating for Units ---\n            let allUnitConfigs = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllUnitConfigs)();\n            const unitMap = new Map(allUnitConfigs.map((item)=>[\n                    item.id,\n                    item\n                ]));\n            let unitsNeedUpdate = false;\n            const initialUnitsWithIds = _data_unitInfo__WEBPACK_IMPORTED_MODULE_9__.INITIAL_UNITS.map((u)=>({\n                    ...u,\n                    id: u.name.toLowerCase().replace(/\\s/g, \"\")\n                }));\n            for (const [index, pItem] of initialUnitsWithIds.entries()){\n                const existingItem = unitMap.get(pItem.id);\n                var _existingItem_isActive2, _existingItem_order2, _existingItem_populationCost;\n                const newItem = {\n                    ...pItem,\n                    ...existingItem || {},\n                    id: pItem.id,\n                    isPredefined: true,\n                    isActive: (_existingItem_isActive2 = existingItem === null || existingItem === void 0 ? void 0 : existingItem.isActive) !== null && _existingItem_isActive2 !== void 0 ? _existingItem_isActive2 : true,\n                    order: (_existingItem_order2 = existingItem === null || existingItem === void 0 ? void 0 : existingItem.order) !== null && _existingItem_order2 !== void 0 ? _existingItem_order2 : index,\n                    treeId: (existingItem === null || existingItem === void 0 ? void 0 : existingItem.treeId) || \"utree-predefined-\".concat(pItem.id),\n                    populationCost: (_existingItem_populationCost = existingItem === null || existingItem === void 0 ? void 0 : existingItem.populationCost) !== null && _existingItem_populationCost !== void 0 ? _existingItem_populationCost : pItem.populationCost\n                };\n                if (JSON.stringify(existingItem) !== JSON.stringify(newItem)) {\n                    await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.saveUnitConfig)(newItem);\n                    unitsNeedUpdate = true;\n                }\n            }\n            if (unitsNeedUpdate) allUnitConfigs = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllUnitConfigs)();\n            setMasterUnitList(allUnitConfigs);\n            return {\n                allAgeConfigs,\n                allBuildingConfigs,\n                allUnitConfigs\n            };\n        } catch (error) {\n            console.error(\"Error during initial config fetch:\", error);\n            const ages = _data_ageInfo__WEBPACK_IMPORTED_MODULE_7__.INITIAL_AGES.map((a, i)=>({\n                    ...a,\n                    id: a.name,\n                    isActive: true,\n                    isPredefined: true,\n                    order: i\n                }));\n            const buildings = _data_buildingInfo__WEBPACK_IMPORTED_MODULE_8__.INITIAL_BUILDINGS.map((b, i)=>({\n                    ...b,\n                    isActive: true,\n                    isPredefined: true,\n                    order: i,\n                    unlockedInAge: \"Nomadic Age\"\n                }));\n            const units = _data_unitInfo__WEBPACK_IMPORTED_MODULE_9__.INITIAL_UNITS.map((u, i)=>({\n                    ...u,\n                    id: u.name.toLowerCase().replace(/\\s/g, \"\"),\n                    isActive: true,\n                    isPredefined: true,\n                    order: i\n                }));\n            setMasterAgeList(ages);\n            setMasterBuildingList(buildings);\n            setMasterUnitList(units);\n            return {\n                allAgeConfigs: ages,\n                allBuildingConfigs: buildings,\n                allUnitConfigs: units\n            };\n        } finally{\n            setIsAppLoading(false);\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU);\n        }\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        fetchSavesAndConfigs();\n    }, [\n        fetchSavesAndConfigs\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && civilization && currentSaveName) {\n            const fullState = {\n                civilization,\n                resources,\n                units,\n                buildings,\n                currentAge,\n                gameLog,\n                activeTasks,\n                resourceNodes,\n                inventory,\n                activeBuffs\n            };\n            (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.saveGameState)(currentSaveName, fullState);\n        }\n    }, [\n        civilization,\n        resources,\n        units,\n        buildings,\n        currentAge,\n        gameLog,\n        gameState,\n        currentSaveName,\n        activeTasks,\n        resourceNodes,\n        inventory,\n        activeBuffs\n    ]);\n    const addNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message)=>{\n        const id = \"\".concat(Date.now(), \"-\").concat(Math.random());\n        setNotifications((prev)=>[\n                {\n                    id,\n                    message\n                }\n            ]);\n    }, []);\n    const removeNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id)=>{\n        setNotifications((prev)=>prev.filter((n)=>n.id !== id));\n    }, []);\n    const addToLog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message, icon)=>{\n        setGameLog((prev)=>[\n                {\n                    id: \"\".concat(Date.now(), \"-\").concat(Math.random()),\n                    message,\n                    icon\n                },\n                ...prev.slice(0, 19)\n            ]);\n    }, []);\n    const updateResources = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((deltas)=>{\n        setResources((prev)=>{\n            const newResources = {\n                ...prev\n            };\n            for(const key in deltas){\n                const resourceKey = key;\n                var _deltas_resourceKey;\n                newResources[resourceKey] = Math.max(0, newResources[resourceKey] + ((_deltas_resourceKey = deltas[resourceKey]) !== null && _deltas_resourceKey !== void 0 ? _deltas_resourceKey : 0));\n            }\n            return newResources;\n        });\n        setResourceDeltas((prev)=>({\n                ...prev,\n                ...deltas\n            }));\n        for(const key in deltas){\n            const resourceKey = key;\n            if (deltaTimeoutRef.current[resourceKey]) {\n                window.clearTimeout(deltaTimeoutRef.current[resourceKey]);\n            }\n            deltaTimeoutRef.current[resourceKey] = window.setTimeout(()=>{\n                setResourceDeltas((prev)=>{\n                    const newDeltas = {\n                        ...prev\n                    };\n                    delete newDeltas[resourceKey];\n                    return newDeltas;\n                });\n            }, 1500);\n        }\n    }, []);\n    const handleTaskCompletion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((task)=>{\n        var _task_payload;\n        if (((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.villagerIds) && task.payload.villagerIds.length > 0) {\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>task.payload.villagerIds.includes(v.id) ? {\n                            ...v,\n                            currentTask: null\n                        } : v)\n                }));\n        }\n        switch(task.type){\n            case \"build\":\n                {\n                    const { buildingType, position } = task.payload;\n                    const buildingInfo = buildingList.find((b)=>b.id === buildingType);\n                    const [name] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n                    const newBuilding = {\n                        id: task.id,\n                        name,\n                        position: position,\n                        currentHp: buildingInfo.hp\n                    };\n                    setBuildings((p)=>{\n                        const currentBuildings = p[buildingType] || [];\n                        return {\n                            ...p,\n                            [buildingType]: [\n                                ...currentBuildings,\n                                newBuilding\n                            ]\n                        };\n                    });\n                    addToLog(\"\".concat(task.payload.villagerIds.length, \" builder(s) have constructed \").concat(name, \", a new \").concat(buildingInfo.name, \".\"), buildingInfo.iconId);\n                    setActivityStatus(\"Construction of \".concat(name, \" is complete.\"));\n                    break;\n                }\n            case \"upgrade_building\":\n                {\n                    var _buildings_originalBuildingType;\n                    const { originalBuildingId, originalBuildingType, targetBuildingType } = task.payload;\n                    const originalBuilding = (_buildings_originalBuildingType = buildings[originalBuildingType]) === null || _buildings_originalBuildingType === void 0 ? void 0 : _buildings_originalBuildingType.find((b)=>b.id === originalBuildingId);\n                    const targetBuildingInfo = buildingList.find((b)=>b.id === targetBuildingType);\n                    if (originalBuilding && targetBuildingInfo) {\n                        const newBuilding = {\n                            id: originalBuilding.id,\n                            name: originalBuilding.name,\n                            position: originalBuilding.position,\n                            currentHp: targetBuildingInfo.hp\n                        };\n                        setBuildings((p)=>{\n                            const newBuildings = {\n                                ...p\n                            };\n                            newBuildings[originalBuildingType] = (newBuildings[originalBuildingType] || []).filter((b)=>b.id !== originalBuildingId);\n                            newBuildings[targetBuildingType] = [\n                                ...newBuildings[targetBuildingType] || [],\n                                newBuilding\n                            ];\n                            return newBuildings;\n                        });\n                        addToLog(\"\".concat(originalBuilding.name, \" has been upgraded to a \").concat(targetBuildingInfo.name, \"!\"), targetBuildingInfo.iconId);\n                        setActivityStatus(\"Upgrade to \".concat(targetBuildingInfo.name, \" complete.\"));\n                    }\n                    break;\n                }\n            case \"gather\":\n                break;\n            case \"train_villager\":\n                {\n                    const { count } = task.payload;\n                    const newVillagerNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", count);\n                    const newVillagers = newVillagerNames.map((name)=>({\n                            id: \"\".concat(Date.now(), \"-\").concat(name),\n                            name,\n                            currentTask: null\n                        }));\n                    setUnits((p)=>({\n                            ...p,\n                            villagers: [\n                                ...p.villagers,\n                                ...newVillagers\n                            ]\n                        }));\n                    addToLog(\"\".concat(count, \" new villager(s) have joined your settlement.\"), \"villager\");\n                    setActivityStatus(\"\".concat(count, \" new villager(s) are ready to work.\"));\n                    break;\n                }\n            case \"train_military\":\n                {\n                    const { unitType, count } = task.payload;\n                    const unitInfo = unitList.find((u)=>u.id === unitType);\n                    const newUnitNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"soldier\", count);\n                    const newUnits = newUnitNames.map((name)=>({\n                            id: \"\".concat(Date.now(), \"-\").concat(unitType, \"-\").concat(name),\n                            name,\n                            title: \"\",\n                            unitType: unitType\n                        }));\n                    setUnits((p)=>({\n                            ...p,\n                            military: [\n                                ...p.military,\n                                ...newUnits\n                            ]\n                        }));\n                    addToLog(\"\".concat(count, \" \").concat(unitInfo.name, \"(s) have been trained.\"), unitType);\n                    setActivityStatus(\"\".concat(count, \" new \").concat(unitInfo.name, \"(s) are ready for battle.\"));\n                    break;\n                }\n            case \"advance_age\":\n                {\n                    const activeAges = masterAgeList.filter((a)=>a.isActive);\n                    const currentIndex = activeAges.findIndex((age)=>age.name === currentAge);\n                    const ageResult = activeAges[currentIndex + 1] || {\n                        name: \"Age of Legends\",\n                        description: \"Your civilization transcends history and becomes a legend.\"\n                    };\n                    setCurrentAge(ageResult.name);\n                    addToLog(\"You have advanced to the \".concat(ageResult.name, \"!\"), \"age\");\n                    addToLog(ageResult.description, \"age\");\n                    setActivityStatus(\"Welcome to the \".concat(ageResult.name, \"!\"));\n                    break;\n                }\n        }\n    }, [\n        currentAge,\n        addToLog,\n        buildingList,\n        unitList,\n        masterAgeList,\n        buildings\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState !== _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING) {\n            if (animationFrameRef.current) cancelAnimationFrame(animationFrameRef.current);\n            return;\n        }\n        const gameLoop = ()=>{\n            const now = Date.now();\n            const deltaTime = now - lastTickRef.current;\n            lastTickRef.current = now;\n            let completedTasks = [];\n            let resourceDeltasThisTick = {};\n            // --- Passive Generation and Maintenance ---\n            Object.values(buildings).flat().forEach((instance)=>{\n                const config = masterBuildingList.find((b)=>b.id === Object.keys(buildings).find((key)=>buildings[key].some((bInst)=>bInst.id === instance.id)));\n                if (!config) return;\n                // Passive Generation\n                if (config.generatesResource && config.generatesResource !== \"none\" && config.generationRate) {\n                    const amountPerSecond = config.generationRate / 60;\n                    resourceDeltasThisTick[config.generatesResource] = (resourceDeltasThisTick[config.generatesResource] || 0) + amountPerSecond / 1000 * deltaTime;\n                }\n                // Maintenance Costs\n                if (config.maintenanceCost) {\n                    Object.entries(config.maintenanceCost).forEach((param)=>{\n                        let [res, cost] = param;\n                        const costPerSecond = (cost || 0) / 60;\n                        resourceDeltasThisTick[res] = (resourceDeltasThisTick[res] || 0) - costPerSecond / 1000 * deltaTime;\n                    });\n                }\n            });\n            setActiveBuffs((prev)=>{\n                var _prev_resourceBoost, _prev_resourceBoost1;\n                const newResourceBoosts = (_prev_resourceBoost = prev.resourceBoost) === null || _prev_resourceBoost === void 0 ? void 0 : _prev_resourceBoost.filter((b)=>b.endTime > now);\n                if ((newResourceBoosts === null || newResourceBoosts === void 0 ? void 0 : newResourceBoosts.length) !== ((_prev_resourceBoost1 = prev.resourceBoost) === null || _prev_resourceBoost1 === void 0 ? void 0 : _prev_resourceBoost1.length)) {\n                    addToLog(\"A resource gathering bonus has expired.\", \"system\");\n                }\n                return {\n                    ...prev,\n                    resourceBoost: newResourceBoosts\n                };\n            });\n            const tasksInProgress = activeTasks.map((task)=>{\n                if (now >= task.startTime + task.duration) {\n                    completedTasks.push(task);\n                    return null;\n                }\n                if (task.type === \"gather\") {\n                    var _task_payload_villagerIds, _task_payload, _activeBuffs_resourceBoost_find, _activeBuffs_resourceBoost;\n                    const node = resourceNodes.find((n)=>{\n                        var _task_payload;\n                        return n.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.resourceNodeId);\n                    });\n                    const villagerCount = ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 0;\n                    if (!node || villagerCount === 0) {\n                        completedTasks.push(task);\n                        return null;\n                    }\n                    const baseRatePerSecond = GATHER_INFO[node.type].rate * (node.richness || 1);\n                    let civBonusMultiplier = 1;\n                    if (civilization === null || civilization === void 0 ? void 0 : civilization.bonus.toLowerCase().includes(node.type.toLowerCase())) {\n                        const match = civilization.bonus.match(/(\\d+)%/);\n                        if (match === null || match === void 0 ? void 0 : match[1]) civBonusMultiplier = 1 + parseInt(match[1], 10) / 100;\n                    }\n                    const itemBoostMultiplier = ((_activeBuffs_resourceBoost = activeBuffs.resourceBoost) === null || _activeBuffs_resourceBoost === void 0 ? void 0 : (_activeBuffs_resourceBoost_find = _activeBuffs_resourceBoost.find((b)=>b.resource === node.type)) === null || _activeBuffs_resourceBoost_find === void 0 ? void 0 : _activeBuffs_resourceBoost_find.multiplier) || 1;\n                    const finalRatePerSecond = baseRatePerSecond * civBonusMultiplier * itemBoostMultiplier;\n                    resourceDeltasThisTick[node.type] = (resourceDeltasThisTick[node.type] || 0) + finalRatePerSecond / 1000 * deltaTime * villagerCount;\n                }\n                return task;\n            }).filter(Boolean);\n            if (Object.keys(resourceDeltasThisTick).length > 0) {\n                updateResources(resourceDeltasThisTick);\n                setResourceNodes((prevNodes)=>prevNodes.map((node)=>{\n                        const amountToDecrement = resourceDeltasThisTick[node.type];\n                        if (!amountToDecrement) return node;\n                        const newAmount = node.amount - amountToDecrement;\n                        if (newAmount <= 0) {\n                            const taskId = \"gather-\".concat(node.id);\n                            const task = tasksInProgress.find((t)=>t.id === taskId);\n                            if (task) {\n                                var _task_payload_villagerIds, _task_payload;\n                                addToLog(\"\".concat(((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 0, \" villager(s) depleted a \").concat(node.richness ? \"rich \" : \"\").concat(node.type, \" source, gaining \").concat(Math.floor(node.amount), \" \").concat(node.type, \".\"), node.type);\n                                setActivityStatus(\"A \".concat(node.richness ? \"rich \" : \"\").concat(node.type, \" source has been fully depleted.\"));\n                                completedTasks.push(task);\n                            }\n                            return null;\n                        }\n                        return {\n                            ...node,\n                            amount: newAmount\n                        };\n                    }).filter(Boolean));\n            }\n            const finalActiveTasks = tasksInProgress.filter((t)=>!completedTasks.some((ct)=>ct.id === t.id));\n            setActiveTasks(finalActiveTasks);\n            if (completedTasks.length > 0) completedTasks.forEach(handleTaskCompletion);\n            animationFrameRef.current = requestAnimationFrame(gameLoop);\n        };\n        animationFrameRef.current = requestAnimationFrame(gameLoop);\n        return ()=>{\n            if (animationFrameRef.current) cancelAnimationFrame(animationFrameRef.current);\n        };\n    }, [\n        gameState,\n        activeTasks,\n        resourceNodes,\n        handleTaskCompletion,\n        addToLog,\n        updateResources,\n        units.villagers,\n        civilization,\n        activeBuffs,\n        buildings,\n        masterBuildingList\n    ]);\n    const handleNewEvent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!civilization || currentEvent) return;\n        const event = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedGameEvent)();\n        setCurrentEvent(event);\n        setActivityStatus(\"A new event requires your attention!\");\n    }, [\n        civilization,\n        currentEvent\n    ]);\n    const scheduleNextEvent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (eventTimerRef.current) clearTimeout(eventTimerRef.current);\n        eventTimerRef.current = setTimeout(()=>handleNewEvent(), (10 + Math.random() * 15) * 1000);\n    }, [\n        handleNewEvent\n    ]);\n    const generateResourceNodes = (startPosition)=>{\n        const nodes = [];\n        const occupiedCells = new Set([\n            \"\".concat(startPosition.x, \",\").concat(startPosition.y)\n        ]);\n        const SAFE_RADIUS = 5;\n        const RICH_CHANCE = 0.15; // 15% chance for a node to be rich\n        const placeNode = function(type, amount, richness) {\n            let preferContested = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : false;\n            let placed = false;\n            for(let i = 0; i < 100; i++){\n                const angle = Math.random() * 2 * Math.PI;\n                const distance = preferContested ? SAFE_RADIUS + Math.random() * (Math.min(MAP_DIMENSIONS.width, MAP_DIMENSIONS.height) / 2 - SAFE_RADIUS) : Math.random() * SAFE_RADIUS;\n                const x = Math.round(startPosition.x + Math.cos(angle) * distance);\n                const y = Math.round(startPosition.y + Math.sin(angle) * distance);\n                if (x >= 0 && x < MAP_DIMENSIONS.width && y >= 0 && y < MAP_DIMENSIONS.height && !occupiedCells.has(\"\".concat(x, \",\").concat(y))) {\n                    nodes.push({\n                        id: \"\".concat(Date.now(), \"-node-\").concat(nodes.length),\n                        type,\n                        position: {\n                            x,\n                            y\n                        },\n                        amount,\n                        richness\n                    });\n                    occupiedCells.add(\"\".concat(x, \",\").concat(y));\n                    placed = true;\n                    break;\n                }\n            }\n            return placed;\n        };\n        // Guaranteed starting resources\n        placeNode(\"food\", 1000);\n        placeNode(\"food\", 1000);\n        placeNode(\"wood\", 1500);\n        placeNode(\"wood\", 1500);\n        placeNode(\"wood\", 1500);\n        placeNode(\"stone\", 800);\n        // Contested resources\n        placeNode(\"gold\", 1200, Math.random() < RICH_CHANCE ? 2 : 1, true);\n        placeNode(\"gold\", 1200, Math.random() < RICH_CHANCE ? 2 : 1, true);\n        placeNode(\"stone\", 1000, Math.random() < RICH_CHANCE ? 2 : 1, true);\n        placeNode(\"stone\", 1000, Math.random() < RICH_CHANCE ? 2 : 1, true);\n        // Random filler nodes\n        const totalNodes = 18 + Math.floor(Math.random() * 5);\n        const types = [\n            \"food\",\n            \"wood\",\n            \"gold\",\n            \"stone\"\n        ];\n        while(nodes.length < totalNodes){\n            const type = types[Math.floor(Math.random() * types.length)];\n            const isContested = type === \"gold\" || type === \"stone\" || Math.random() > 0.5;\n            placeNode(type, 800 + Math.random() * 1000, Math.random() < RICH_CHANCE ? 1.5 : 1, isContested);\n        }\n        return nodes;\n    };\n    const handleStartNewGame = async (saveName)=>{\n        var _localAgeProgressionList_;\n        if (allSaves.includes(saveName)) {\n            addNotification('A saga named \"'.concat(saveName, '\" already exists.'));\n            return;\n        }\n        const configs = await fetchSavesAndConfigs();\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n        setCurrentSaveName(saveName);\n        const localAgeProgressionList = configs.allAgeConfigs.filter((a)=>a.isActive);\n        const civ = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedCivilization)();\n        setCivilization(civ);\n        setResources({\n            food: 200,\n            wood: 150,\n            gold: 50,\n            stone: 100\n        });\n        const initialVillagers = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", 3).map((name)=>({\n                id: \"\".concat(Date.now(), \"-\").concat(name),\n                name,\n                currentTask: null\n            }));\n        setUnits({\n            villagers: initialVillagers,\n            military: []\n        });\n        const tcPosition = {\n            x: Math.floor(MAP_DIMENSIONS.width / 2),\n            y: Math.floor(MAP_DIMENSIONS.height / 2)\n        };\n        const tcInfo = configs.allBuildingConfigs.find((b)=>b.id === \"townCenter\");\n        const initialTC = {\n            id: \"\".concat(Date.now(), \"-tc\"),\n            name: (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1)[0],\n            position: tcPosition,\n            currentHp: tcInfo.hp\n        };\n        setBuildings({\n            ...initialBuildingsState,\n            townCenter: [\n                initialTC\n            ]\n        });\n        setResourceNodes(generateResourceNodes(tcPosition));\n        setCurrentAge(((_localAgeProgressionList_ = localAgeProgressionList[0]) === null || _localAgeProgressionList_ === void 0 ? void 0 : _localAgeProgressionList_.name) || _data_ageInfo__WEBPACK_IMPORTED_MODULE_7__.INITIAL_AGES[0].name);\n        setGameLog([]);\n        setCurrentEvent(null);\n        setUnlimitedResources(false);\n        setActiveTasks([]);\n        setInventory([]);\n        setActiveBuffs({\n            resourceBoost: []\n        });\n        addToLog(\"\".concat(civ.name, \" has been founded!\"), \"system\");\n        addToLog(\"Your story begins...\", \"system\");\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING);\n        setActivityStatus(\"Your settlement awaits your command.\");\n    };\n    const isVillagerBusy = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((villagerId)=>{\n        var _units_villagers_find;\n        return !!((_units_villagers_find = units.villagers.find((v)=>v.id === villagerId)) === null || _units_villagers_find === void 0 ? void 0 : _units_villagers_find.currentTask);\n    }, [\n        units.villagers\n    ]);\n    const getVillagerTaskDetails = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((villagerId)=>{\n        var _buildingList_find, _resourceNodes_find;\n        const villager = units.villagers.find((v)=>v.id === villagerId);\n        if (!(villager === null || villager === void 0 ? void 0 : villager.currentTask)) return \"Idle\";\n        const task = activeTasks.find((t)=>t.id === villager.currentTask);\n        if (!task) return \"Idle (Finalizing Task)\";\n        if (task.type === \"build\") return \"Busy: Constructing \".concat(((_buildingList_find = buildingList.find((b)=>b.id === task.payload.buildingType)) === null || _buildingList_find === void 0 ? void 0 : _buildingList_find.name) || \"a building\");\n        if (task.type === \"gather\") return \"Busy: Gathering \".concat(((_resourceNodes_find = resourceNodes.find((n)=>n.id === task.payload.resourceNodeId)) === null || _resourceNodes_find === void 0 ? void 0 : _resourceNodes_find.type) || \"resources\");\n        return \"Idle\";\n    }, [\n        activeTasks,\n        resourceNodes,\n        units.villagers,\n        buildingList\n    ]);\n    const handleResumeGame = async (saveName)=>{\n        const configs = await fetchSavesAndConfigs();\n        const savedState = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.loadGameState)(saveName);\n        if (savedState) {\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n            setCurrentSaveName(saveName);\n            setCivilization(savedState.civilization);\n            setResources(savedState.resources);\n            const migratedVillagers = (savedState.units.villagers || []).map((v)=>({\n                    ...v,\n                    currentTask: v.currentTask !== undefined ? v.currentTask : null\n                }));\n            const migratedTasks = (savedState.activeTasks || []).map((t)=>{\n                var _t_payload;\n                return t.type === \"build\" && !((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.villagerIds) ? {\n                    ...t,\n                    payload: {\n                        ...t.payload,\n                        villagerIds: []\n                    }\n                } : t;\n            });\n            migratedTasks.forEach((task)=>{\n                var _task_payload_villagerIds, _task_payload;\n                return (_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.forEach((vid)=>{\n                    const v = migratedVillagers.find((v)=>v.id === vid);\n                    if (v) v.currentTask = task.id;\n                });\n            });\n            setUnits({\n                ...savedState.units,\n                villagers: migratedVillagers\n            });\n            const constructionTasks = migratedTasks.filter((t)=>t.type === \"build\");\n            const occupiedCells = new Set([\n                ...Object.values(savedState.buildings || {}).flat().map((b)=>\"\".concat(b.position.x, \",\").concat(b.position.y)),\n                ...constructionTasks.map((t)=>\"\".concat(t.payload.position.x, \",\").concat(t.payload.position.y))\n            ]);\n            let finalBuildings = {\n                ...initialBuildingsState,\n                ...savedState.buildings || {}\n            };\n            Object.keys(finalBuildings).forEach((bType)=>{\n                const info = configs.allBuildingConfigs.find((b)=>b.id === bType);\n                if (info) finalBuildings[bType] = finalBuildings[bType].map((b)=>({\n                        ...b,\n                        currentHp: b.currentHp === undefined ? info.hp : b.currentHp\n                    }));\n            });\n            let tcPosition = {\n                x: 10,\n                y: 5\n            };\n            if (!finalBuildings.townCenter || finalBuildings.townCenter.length === 0) {\n                while(occupiedCells.has(\"\".concat(tcPosition.x, \",\").concat(tcPosition.y))){\n                    tcPosition.x++;\n                }\n                const tcInfo = configs.allBuildingConfigs.find((b)=>b.id === \"townCenter\");\n                finalBuildings.townCenter = [\n                    {\n                        id: \"\".concat(Date.now(), \"-tc\"),\n                        name: (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1)[0],\n                        position: tcPosition,\n                        currentHp: tcInfo.hp\n                    }\n                ];\n                occupiedCells.add(\"\".concat(tcPosition.x, \",\").concat(tcPosition.y));\n            } else {\n                tcPosition = finalBuildings.townCenter[0].position;\n            }\n            setBuildings(finalBuildings);\n            setResourceNodes((savedState.resourceNodes || []).length === 0 ? generateResourceNodes(tcPosition) : savedState.resourceNodes || []);\n            setCurrentAge(savedState.currentAge);\n            setGameLog(savedState.gameLog);\n            setActiveTasks(migratedTasks);\n            setInventory(savedState.inventory || []);\n            setActiveBuffs(savedState.activeBuffs || {\n                resourceBoost: []\n            });\n            setCurrentEvent(null);\n            setActivityStatus(\"Welcome back to your saga.\");\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING);\n        } else {\n            addNotification('Could not find a saved game named \"'.concat(saveName, '\".'));\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState !== _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING) return;\n        if (!currentEvent) scheduleNextEvent();\n        else if (eventTimerRef.current) clearTimeout(eventTimerRef.current);\n        return ()=>{\n            if (eventTimerRef.current) clearTimeout(eventTimerRef.current);\n        };\n    }, [\n        gameState,\n        currentEvent,\n        scheduleNextEvent\n    ]);\n    const handleEventChoice = (choice)=>{\n        if (choice.cost) {\n            const missing = Object.keys(choice.cost).filter((res)=>resources[res] < (choice.cost[res] || 0));\n            if (missing.length > 0) {\n                addNotification(\"You lack the required resources: \".concat(missing.join(\", \"), \".\"));\n                return;\n            }\n            updateResources(Object.entries(choice.cost).reduce((acc, param)=>{\n                let [k, v] = param;\n                return {\n                    ...acc,\n                    [k]: -v\n                };\n            }, {}));\n        }\n        const isSuccess = choice.successChance === undefined || Math.random() < choice.successChance;\n        const effects = isSuccess ? choice.successEffects : choice.failureEffects;\n        if (!effects) {\n            setCurrentEvent(null);\n            scheduleNextEvent();\n            return;\n        }\n        let logMessage = 'Decision: \"'.concat(choice.text, '\". Outcome: ').concat(isSuccess ? \"Success\" : \"Failure\", \". \").concat(effects.log);\n        effects.rewards.forEach((reward)=>{\n            if (reward.type === \"resource\") {\n                const amount = Array.isArray(reward.amount) ? Math.floor(Math.random() * (reward.amount[1] - reward.amount[0] + 1)) + reward.amount[0] : reward.amount;\n                if (amount !== 0) {\n                    updateResources({\n                        [reward.resource]: amount\n                    });\n                    logMessage += \" You \".concat(amount > 0 ? \"gained\" : \"lost\", \" \").concat(Math.abs(amount), \" \").concat(reward.resource, \".\");\n                }\n            } else if (reward.type === \"item\") {\n                const itemInfo = _data_itemContent__WEBPACK_IMPORTED_MODULE_6__.GAME_ITEMS[reward.itemId];\n                if (itemInfo) {\n                    const newItems = Array.from({\n                        length: reward.amount\n                    }, (_, i)=>({\n                            ...itemInfo,\n                            id: \"\".concat(reward.itemId, \"-\").concat(Date.now(), \"-\").concat(i)\n                        }));\n                    setInventory((prev)=>[\n                            ...prev,\n                            ...newItems\n                        ]);\n                    logMessage += \" You received \".concat(reward.amount, \"x \").concat(itemInfo.name, \"!\");\n                }\n            } else if (reward.type === \"unit\" && reward.unitType === \"villager\") {\n                const newVillagers = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", reward.amount).map((name)=>({\n                        id: \"\".concat(Date.now(), \"-\").concat(name),\n                        name,\n                        currentTask: null\n                    }));\n                setUnits((p)=>({\n                        ...p,\n                        villagers: [\n                            ...p.villagers,\n                            ...newVillagers\n                        ]\n                    }));\n                logMessage += \" You gained \".concat(reward.amount, \" villager(s).\");\n            } else if (reward.type === \"building\") {\n                const buildingInfo = buildingList.find((b)=>b.id === reward.buildingId);\n                if (buildingInfo) {\n                    const occupiedCells = new Set();\n                    Object.values(buildings).flat().forEach((b)=>occupiedCells.add(\"\".concat(b.position.x, \",\").concat(b.position.y)));\n                    activeTasks.filter((t)=>t.type === \"build\").forEach((t)=>{\n                        var _t_payload;\n                        return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.position) && occupiedCells.add(\"\".concat(t.payload.position.x, \",\").concat(t.payload.position.y));\n                    });\n                    resourceNodes.forEach((n)=>occupiedCells.add(\"\".concat(n.position.x, \",\").concat(n.position.y)));\n                    let placed = false;\n                    for(let i = 0; i < MAP_DIMENSIONS.width * MAP_DIMENSIONS.height; i++){\n                        const x = Math.floor(Math.random() * MAP_DIMENSIONS.width);\n                        const y = Math.floor(Math.random() * MAP_DIMENSIONS.height);\n                        if (!occupiedCells.has(\"\".concat(x, \",\").concat(y))) {\n                            const [name] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n                            const newBuilding = {\n                                id: \"reward-\".concat(Date.now()),\n                                name,\n                                position: {\n                                    x,\n                                    y\n                                },\n                                currentHp: buildingInfo.hp\n                            };\n                            setBuildings((p)=>({\n                                    ...p,\n                                    [reward.buildingId]: [\n                                        ...p[reward.buildingId] || [],\n                                        newBuilding\n                                    ]\n                                }));\n                            logMessage += \" You were gifted a new \".concat(buildingInfo.name, \"!\");\n                            placed = true;\n                            break;\n                        }\n                    }\n                    if (!placed) logMessage += \" You were to be gifted a \".concat(buildingInfo.name, \", but there was no room to build it!\");\n                }\n            }\n        });\n        addToLog(logMessage, \"event\");\n        setActivityStatus(effects.log);\n        setCurrentEvent(null);\n        scheduleNextEvent();\n    };\n    const handleInitiateBuild = (villagerId, rect)=>{\n        if (isVillagerBusy(villagerId)) {\n            addNotification(\"This villager is already busy.\");\n            return;\n        }\n        setBuildPanelState({\n            isOpen: true,\n            villagerId,\n            anchorRect: rect\n        });\n        setUnitManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleStartPlacement = (buildingId)=>{\n        var _buildings_buildingInfo_id;\n        const villagerId = buildPanelState.villagerId;\n        if (!villagerId) return;\n        const buildingInfo = buildingList.find((b)=>b.id === buildingId);\n        if (!buildingInfo) return;\n        const existingCount = ((_buildings_buildingInfo_id = buildings[buildingInfo.id]) === null || _buildings_buildingInfo_id === void 0 ? void 0 : _buildings_buildingInfo_id.length) || 0;\n        const constructingCount = activeTasks.filter((t)=>{\n            var _t_payload;\n            return t.type === \"build\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.buildingType) === buildingInfo.id;\n        }).length;\n        const totalCount = existingCount + constructingCount;\n        const limit = buildingInfo.buildLimit || 0;\n        if (limit > 0 && totalCount >= limit) {\n            addNotification(\"You have reached the build limit for \".concat(buildingInfo.name, \" (\").concat(limit, \").\"));\n            return;\n        }\n        const missing = unlimitedResources ? [] : Object.keys(buildingInfo.cost).filter((res)=>resources[res] < (buildingInfo.cost[res] || 0));\n        if (missing.length > 0) {\n            addNotification(\"Need more \".concat(missing.join(\", \"), \".\"));\n            return;\n        }\n        setPlayerAction({\n            mode: \"build\",\n            buildingType: buildingId,\n            villagerId\n        });\n        setBuildPanelState({\n            isOpen: false,\n            villagerId: null,\n            anchorRect: null\n        });\n        setActivityStatus(\"Select a location to build a \".concat(buildingInfo.name, \". Right-click to cancel.\"));\n    };\n    const handleConfirmPlacement = (position)=>{\n        if ((playerAction === null || playerAction === void 0 ? void 0 : playerAction.mode) !== \"build\") return;\n        const { buildingType, villagerId } = playerAction;\n        const buildingInfo = buildingList.find((b)=>b.id === buildingType);\n        const builder = units.villagers.find((v)=>v.id === villagerId);\n        if (!buildingInfo || !builder) return;\n        if (!unlimitedResources) updateResources(Object.entries(buildingInfo.cost).reduce((acc, param)=>{\n            let [k, v] = param;\n            return {\n                ...acc,\n                [k]: -v\n            };\n        }, {}));\n        let buildTime = buildingInfo.buildTime * 1000;\n        if (activeBuffs.buildTimeReduction) {\n            buildTime *= 1 - activeBuffs.buildTimeReduction.percentage;\n            addToLog(\"A Builder's Charm reduced construction time by \".concat(activeBuffs.buildTimeReduction.percentage * 100, \"%!\"), \"item\");\n            setActiveBuffs((prev)=>({\n                    ...prev,\n                    buildTimeReduction: prev.buildTimeReduction.uses - 1 > 0 ? {\n                        ...prev.buildTimeReduction,\n                        uses: prev.buildTimeReduction.uses - 1\n                    } : undefined\n                }));\n        }\n        const taskId = \"\".concat(Date.now(), \"-build-\").concat(buildingType);\n        const taskPayload = {\n            buildingType,\n            villagerIds: [\n                villagerId\n            ],\n            position\n        };\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: taskId,\n                type: \"build\",\n                startTime: 0,\n                duration: 0,\n                payload: {\n                    ...taskPayload,\n                    position\n                }\n            });\n        } else {\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: taskId,\n                        type: \"build\",\n                        startTime: Date.now(),\n                        duration: buildTime,\n                        payload: taskPayload\n                    }\n                ]);\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>v.id === villagerId ? {\n                            ...v,\n                            currentTask: taskId\n                        } : v)\n                }));\n            setActivityStatus(\"\".concat(builder.name, \" has started constructing a \").concat(buildingInfo.name, \".\"));\n            addToLog(\"\".concat(builder.name, \" began construction of a new \").concat(buildingInfo.name, \".\"), buildingInfo.iconId);\n        }\n        setPlayerAction(null);\n    };\n    const handleCancelPlayerAction = ()=>{\n        setPlayerAction(null);\n        setActivityStatus(\"Command cancelled.\");\n    };\n    const handleDemolishBuilding = (type, id)=>{\n        if (type === \"townCenter\") {\n            addNotification(\"The Town Center is the heart of your civilization and cannot be demolished.\");\n            return;\n        }\n        if (activeTasks.some((task)=>{\n            var _task_payload, _task_payload1;\n            return ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingId) === id || task.type === \"upgrade_building\" && ((_task_payload1 = task.payload) === null || _task_payload1 === void 0 ? void 0 : _task_payload1.originalBuildingId) === id;\n        })) {\n            addNotification(\"Cannot demolish a building with an active task (e.g., training or upgrading).\");\n            return;\n        }\n        const buildingInfo = buildingList.find((b)=>b.id === type);\n        const buildingInstance = buildings[type].find((b)=>b.id === id);\n        if (!buildingInfo || !buildingInstance) return;\n        const capacityWithoutThisBuilding = populationCapacity - (buildingInfo.populationCapacity || 0);\n        if ((buildingInfo.populationCapacity || 0) > 0 && population.current > capacityWithoutThisBuilding) {\n            addNotification(\"Cannot demolish this building, your people would be homeless.\");\n            return;\n        }\n        const refund = Object.entries(buildingInfo.cost).reduce((acc, param)=>{\n            let [res, cost] = param;\n            const amount = Math.floor((cost || 0) * 0.5);\n            if (amount > 0) acc[res] = amount;\n            return acc;\n        }, {});\n        if (Object.keys(refund).length > 0) {\n            updateResources(refund);\n            addNotification(\"Salvaged \".concat(Object.entries(refund).map((param)=>{\n                let [r, a] = param;\n                return \"\".concat(a, \" \").concat(r);\n            }).join(\", \"), \".\"));\n        }\n        setBuildings((prev)=>({\n                ...prev,\n                [type]: prev[type].filter((b)=>b.id !== id)\n            }));\n        addToLog(\"\".concat(buildingInstance.name, \" (\").concat(buildingInfo.name, \") was demolished.\"), buildingInfo.iconId);\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            instanceId: null,\n            anchorRect: null\n        });\n    };\n    const handleUpdateBuilding = (type, id, name)=>{\n        setBuildings((prev)=>({\n                ...prev,\n                [type]: prev[type].map((b)=>b.id === id ? {\n                        ...b,\n                        name\n                    } : b)\n            }));\n        addNotification(\"Building renamed.\");\n    };\n    const handleUpgradeBuilding = (building, upgradePath)=>{\n        if (!unlimitedResources) {\n            const missing = Object.keys(upgradePath.cost).filter((res)=>resources[res] < (upgradePath.cost[res] || 0));\n            if (missing.length > 0) {\n                addNotification(\"Need more \".concat(missing.join(\", \"), \".\"));\n                return;\n            }\n            updateResources(Object.entries(upgradePath.cost).reduce((acc, param)=>{\n                let [k, v] = param;\n                return {\n                    ...acc,\n                    [k]: -(v || 0)\n                };\n            }, {}));\n        }\n        const originalBuildingType = Object.keys(buildings).find((type)=>buildings[type].some((b)=>b.id === building.id));\n        const taskPayload = {\n            originalBuildingId: building.id,\n            originalBuildingType,\n            targetBuildingType: upgradePath.id\n        };\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: \"instant\",\n                type: \"upgrade_building\",\n                startTime: 0,\n                duration: 0,\n                payload: taskPayload\n            });\n        } else {\n            var _buildingList_find;\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: \"\".concat(Date.now(), \"-upgrade-\").concat(building.id),\n                        type: \"upgrade_building\",\n                        startTime: Date.now(),\n                        duration: upgradePath.time * 1000,\n                        payload: taskPayload\n                    }\n                ]);\n            addToLog(\"Upgrading \".concat(building.name, \" to a \").concat((_buildingList_find = buildingList.find((b)=>b.id === upgradePath.id)) === null || _buildingList_find === void 0 ? void 0 : _buildingList_find.name, \".\"), \"system\");\n            setActivityStatus(\"Upgrading \".concat(building.name, \"...\"));\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            instanceId: null,\n            anchorRect: null\n        });\n    };\n    const handleTrainVillagers = (count)=>{\n        var _buildings_townCenter;\n        if (activeTasks.some((t)=>t.type === \"train_villager\") || count <= 0) return;\n        if (population.current + count > population.capacity) {\n            addNotification(\"Need space for \".concat(count, \" more villagers.\"));\n            return;\n        }\n        if (!((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter[0])) {\n            addNotification(\"No Town Center to train villagers.\");\n            return;\n        }\n        if (!unlimitedResources) {\n            const totalCost = 50 * count;\n            if (resources.food < totalCost) {\n                addNotification(\"Need \".concat(totalCost - resources.food, \" more Food.\"));\n                return;\n            }\n            updateResources({\n                food: -totalCost\n            });\n        }\n        if (unlimitedResources) handleTaskCompletion({\n            id: \"instant\",\n            type: \"train_villager\",\n            startTime: 0,\n            duration: 0,\n            payload: {\n                count\n            }\n        });\n        else {\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: \"\".concat(Date.now(), \"-train-villager\"),\n                        type: \"train_villager\",\n                        startTime: Date.now(),\n                        duration: 10000 * count,\n                        payload: {\n                            count,\n                            buildingId: buildings.townCenter[0].id\n                        }\n                    }\n                ]);\n            setActivityStatus(\"Training \".concat(count, \" villager(s)...\"));\n            addToLog(\"Began training \".concat(count, \" new villager(s).\"), \"villager\");\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            instanceId: null,\n            anchorRect: null\n        });\n    };\n    const handleTrainUnits = (unitType, count)=>{\n        var _buildings_unitInfo_requiredBuilding;\n        const unitInfo = unitList.find((u)=>u.id === unitType);\n        if (!unitInfo || activeTasks.some((t)=>{\n            var _t_payload;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.unitType) === unitType;\n        }) || count <= 0) return;\n        const totalPopulationCost = (unitInfo.populationCost || 1) * count;\n        if (population.current + totalPopulationCost > population.capacity) {\n            addNotification(\"Need space for \".concat(totalPopulationCost, \" more population.\"));\n            return;\n        }\n        // Check for required buildings\n        const trainingBuilding = (_buildings_unitInfo_requiredBuilding = buildings[unitInfo.requiredBuilding]) === null || _buildings_unitInfo_requiredBuilding === void 0 ? void 0 : _buildings_unitInfo_requiredBuilding[0];\n        if (!trainingBuilding) {\n            var _buildingList_find;\n            addNotification(\"No \".concat((_buildingList_find = buildingList.find((b)=>b.id === unitInfo.requiredBuilding)) === null || _buildingList_find === void 0 ? void 0 : _buildingList_find.name, \" to train units.\"));\n            return;\n        }\n        if (unitInfo.requiredBuildingIds && unitInfo.requiredBuildingIds.length > 0) {\n            const missingBuildings = unitInfo.requiredBuildingIds.filter((reqId)=>{\n                var _buildings_reqId;\n                return !((_buildings_reqId = buildings[reqId]) === null || _buildings_reqId === void 0 ? void 0 : _buildings_reqId.length);\n            });\n            if (missingBuildings.length > 0) {\n                const missingNames = missingBuildings.map((id)=>{\n                    var _buildingList_find;\n                    return ((_buildingList_find = buildingList.find((b)=>b.id === id)) === null || _buildingList_find === void 0 ? void 0 : _buildingList_find.name) || id;\n                }).join(\", \");\n                addNotification(\"Training this unit requires: \".concat(missingNames, \".\"));\n                return;\n            }\n        }\n        if (!unlimitedResources) {\n            const missing = Object.keys(unitInfo.cost).filter((res)=>resources[res] < (unitInfo.cost[res] || 0) * count);\n            if (missing.length > 0) {\n                addNotification(\"Need more \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n            updateResources(Object.entries(unitInfo.cost).reduce((acc, param)=>{\n                let [k, v] = param;\n                return {\n                    ...acc,\n                    [k]: -(v || 0) * count\n                };\n            }, {}));\n        }\n        let trainTime = unitInfo.trainTime * 1000 * count;\n        if (activeBuffs.permanentTrainTimeReduction) trainTime *= 1 - activeBuffs.permanentTrainTimeReduction;\n        if (activeBuffs.trainTimeReduction) {\n            const applicable = Math.min(count, activeBuffs.trainTimeReduction.uses);\n            trainTime = unitInfo.trainTime * 1000 * applicable * (1 - activeBuffs.trainTimeReduction.percentage) + unitInfo.trainTime * 1000 * (count - applicable);\n            if (activeBuffs.trainTimeReduction.uses - applicable > 0) setActiveBuffs((prev)=>({\n                    ...prev,\n                    trainTimeReduction: {\n                        ...prev.trainTimeReduction,\n                        uses: prev.trainTimeReduction.uses - applicable\n                    }\n                }));\n            else {\n                setActiveBuffs((prev)=>({\n                        ...prev,\n                        trainTimeReduction: undefined\n                    }));\n                addToLog(\"The Drillmaster's Whistle buff has been fully used.\", \"item\");\n            }\n        }\n        if (unlimitedResources) handleTaskCompletion({\n            id: \"instant\",\n            type: \"train_military\",\n            startTime: 0,\n            duration: 0,\n            payload: {\n                unitType,\n                count\n            }\n        });\n        else {\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: \"\".concat(Date.now(), \"-train-\").concat(unitType),\n                        type: \"train_military\",\n                        startTime: Date.now(),\n                        duration: trainTime,\n                        payload: {\n                            unitType,\n                            count,\n                            buildingId: trainingBuilding.id\n                        }\n                    }\n                ]);\n            setActivityStatus(\"Training \".concat(count, \" \").concat(unitInfo.name, \"(s)...\"));\n            addToLog(\"Began training \".concat(count, \" new \").concat(unitInfo.name, \"(s).\"), unitType);\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            instanceId: null,\n            anchorRect: null\n        });\n    };\n    const handleDismissSpecificUnit = (type, id)=>{\n        if (type === \"villagers\" && isVillagerBusy(id)) {\n            addNotification(\"Cannot dismiss a busy villager.\");\n            return;\n        }\n        const unit = units[type].find((u)=>u.id === id);\n        if (!unit) return;\n        if (type === \"villagers\" && units.villagers.length <= 1) {\n            addNotification(\"Cannot dismiss your last villager.\");\n            return;\n        }\n        setUnits((prev)=>({\n                ...prev,\n                [type]: prev[type].filter((u)=>u.id !== id)\n            }));\n        const unitTypeName = type === \"villagers\" ? \"villager\" : unit.unitType;\n        addToLog(\"\".concat(unit.name, \" the \").concat(unitTypeName, \" has been dismissed.\"), type === \"villagers\" ? \"villager\" : unit.unitType);\n        addNotification(\"\".concat(unit.name, \" was dismissed.\"));\n    };\n    const handleUpdateUnit = (type, id, name, title)=>{\n        setUnits((prev)=>({\n                ...prev,\n                [type]: prev[type].map((u)=>u.id === id ? type === \"military\" && title !== undefined ? {\n                        ...u,\n                        name,\n                        title\n                    } : {\n                        ...u,\n                        name\n                    } : u)\n            }));\n        addNotification(\"Unit updated.\");\n    };\n    const handleAssignVillagersToConstruction = (constructionId, count)=>{\n        var _task_payload_villagerIds, _task_payload, _task_payload_villagerIds1, _task_payload1;\n        const idleVillagers = units.villagers.filter((v)=>!v.currentTask);\n        if (count <= 0 || idleVillagers.length === 0) {\n            addNotification(\"No idle villagers available.\");\n            return;\n        }\n        const task = activeTasks.find((t)=>t.id === constructionId);\n        if (!task || task.type !== \"build\") return;\n        const buildingInfo = buildingList.find((b)=>{\n            var _task_payload;\n            return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n        });\n        if (!buildingInfo) return;\n        const cappedCount = Math.min(count, idleVillagers.length);\n        const villagersToAssign = idleVillagers.slice(0, cappedCount).map((v)=>v.id);\n        const workDone = (Date.now() - task.startTime) * (((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 1);\n        const workRemaining = Math.max(0, buildingInfo.buildTime * 1000 - workDone);\n        const newWorkerCount = (((_task_payload1 = task.payload) === null || _task_payload1 === void 0 ? void 0 : (_task_payload_villagerIds1 = _task_payload1.villagerIds) === null || _task_payload_villagerIds1 === void 0 ? void 0 : _task_payload_villagerIds1.length) || 0) + cappedCount;\n        const newRemainingDuration = workRemaining / newWorkerCount;\n        setUnits((prev)=>({\n                ...prev,\n                villagers: prev.villagers.map((v)=>villagersToAssign.includes(v.id) ? {\n                        ...v,\n                        currentTask: constructionId\n                    } : v)\n            }));\n        setActiveTasks((prev)=>prev.map((t)=>t.id === constructionId ? {\n                    ...t,\n                    startTime: Date.now(),\n                    duration: newRemainingDuration,\n                    payload: {\n                        ...t.payload,\n                        villagerIds: [\n                            ...t.payload.villagerIds,\n                            ...villagersToAssign\n                        ]\n                    }\n                } : t));\n        addToLog(\"\".concat(cappedCount, \" villager(s) are now assisting with the \").concat(buildingInfo.name, \".\"), buildingInfo.iconId);\n        setActivityStatus(\"Construction of the \".concat(buildingInfo.name, \" is now faster.\"));\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleAssignVillagers = (targetId, count)=>{\n        if (assignmentPanelState.targetType === \"construction\") return handleAssignVillagersToConstruction(targetId, count);\n        const idleVillagers = units.villagers.filter((v)=>!v.currentTask);\n        if (count <= 0 || idleVillagers.length === 0) {\n            addNotification(\"No idle villagers available.\");\n            return;\n        }\n        const targetNode = resourceNodes.find((n)=>n.id === targetId);\n        if (!targetNode) return;\n        const cappedCount = Math.min(count, idleVillagers.length);\n        const villagersToAssign = idleVillagers.slice(0, cappedCount).map((v)=>v.id);\n        const taskId = \"gather-\".concat(targetId);\n        const existingTask = activeTasks.find((t)=>t.id === taskId);\n        if (unlimitedResources) {\n            updateResources({\n                [targetNode.type]: targetNode.amount\n            });\n            addToLog(\"\".concat(cappedCount, \" villager(s) instantly gathered \").concat(Math.floor(targetNode.amount), \" \").concat(targetNode.type, \".\"), targetNode.type);\n            setResourceNodes((prev)=>prev.filter((n)=>n.id !== targetId));\n        } else {\n            if (existingTask) setActiveTasks((prev)=>prev.map((t)=>t.id === taskId ? {\n                        ...t,\n                        payload: {\n                            ...t.payload,\n                            villagerIds: [\n                                ...new Set([\n                                    ...t.payload.villagerIds,\n                                    ...villagersToAssign\n                                ])\n                            ]\n                        }\n                    } : t));\n            else setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: taskId,\n                        type: \"gather\",\n                        startTime: Date.now(),\n                        duration: 999999999,\n                        payload: {\n                            resourceNodeId: targetId,\n                            villagerIds: villagersToAssign\n                        }\n                    }\n                ]);\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>villagersToAssign.includes(v.id) ? {\n                            ...v,\n                            currentTask: taskId\n                        } : v)\n                }));\n        }\n        addToLog(\"\".concat(cappedCount, \" villager(s) assigned to gather \").concat(targetNode.type, \".\"), targetNode.type);\n        setActivityStatus(\"\".concat(cappedCount, \" villager(s) are now gathering \").concat(targetNode.type, \".\"));\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleRecallVillagers = (targetId, count, type)=>{\n        var _task_payload_villagerIds, _task_payload;\n        const task = activeTasks.find((t)=>t.id === targetId);\n        var _task_payload_villagerIds_length;\n        if (!task || ((_task_payload_villagerIds_length = (_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) !== null && _task_payload_villagerIds_length !== void 0 ? _task_payload_villagerIds_length : 0) < count) return;\n        const villagersToRecall = task.payload.villagerIds.slice(task.payload.villagerIds.length - count);\n        if (type === \"construction\" && villagersToRecall.length === task.payload.villagerIds.length) {\n            addNotification(\"Cannot recall the last builder from a project.\");\n            return;\n        }\n        setUnits((prev)=>({\n                ...prev,\n                villagers: prev.villagers.map((v)=>villagersToRecall.includes(v.id) ? {\n                        ...v,\n                        currentTask: null\n                    } : v)\n            }));\n        const remainingVillagers = task.payload.villagerIds.filter((id)=>!villagersToRecall.includes(id));\n        if (remainingVillagers.length === 0) {\n            setActiveTasks((prev)=>prev.filter((t)=>t.id !== targetId));\n            const node = resourceNodes.find((n)=>n.id === targetId);\n            if (node) addToLog(\"All villagers recalled from gathering \".concat(node.type, \".\"), \"villager\");\n        } else {\n            const buildingInfo = buildingList.find((b)=>{\n                var _task_payload;\n                return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n            });\n            const workDone = (Date.now() - task.startTime) * task.payload.villagerIds.length;\n            const newRemainingDuration = (buildingInfo.buildTime * 1000 - workDone) / remainingVillagers.length;\n            setActiveTasks((prev)=>prev.map((t)=>t.id === targetId ? {\n                        ...t,\n                        startTime: Date.now(),\n                        duration: newRemainingDuration,\n                        payload: {\n                            ...t.payload,\n                            villagerIds: remainingVillagers\n                        }\n                    } : t));\n            if (type === \"construction\") addToLog(\"\".concat(count, \" builder(s) recalled. Construction will now be slower.\"), \"villager\");\n        }\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleAdvanceAge = async ()=>{\n        if (activeTasks.some((t)=>t.type === \"advance_age\")) {\n            addNotification(\"Advancement already in progress.\");\n            return;\n        }\n        if (!unlimitedResources) {\n            const missing = [];\n            if (resources.food < 500) missing.push(\"\".concat(500 - resources.food, \" Food\"));\n            if (resources.gold < 200) missing.push(\"\".concat(200 - resources.gold, \" Gold\"));\n            if (missing.length > 0) {\n                addNotification(\"To advance, you need \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n            updateResources({\n                food: -500,\n                gold: -200\n            });\n        }\n        const activeAges = masterAgeList.filter((a)=>a.isActive);\n        const currentIndex = activeAges.findIndex((age)=>age.name === currentAge);\n        if (currentIndex === -1 || currentIndex + 1 >= activeAges.length) {\n            addNotification(\"You have reached the final available age.\");\n            return;\n        }\n        if (unlimitedResources) handleTaskCompletion({\n            id: \"instant\",\n            type: \"advance_age\",\n            startTime: 0,\n            duration: 0,\n            payload: {}\n        });\n        else {\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: \"\".concat(Date.now(), \"-advance_age\"),\n                        type: \"advance_age\",\n                        startTime: Date.now(),\n                        duration: 60000\n                    }\n                ]);\n            setActivityStatus(\"Your people begin the long journey to a new age.\");\n            setBuildingManagementPanel({\n                isOpen: false,\n                type: null,\n                instanceId: null,\n                anchorRect: null\n            });\n        }\n    };\n    const handleExitGame = async ()=>{\n        setCurrentSaveName(null);\n        await fetchSavesAndConfigs();\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU);\n    };\n    const handleDeleteGame = async (saveName)=>{\n        await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.deleteGameState)(saveName);\n        await fetchSavesAndConfigs();\n        addNotification('Deleted saga: \"'.concat(saveName, '\"'));\n    };\n    const handleToggleUnlimitedResources = ()=>{\n        const newMode = !unlimitedResources;\n        setUnlimitedResources(newMode);\n        if (newMode) {\n            setResources({\n                food: 99999,\n                wood: 99999,\n                gold: 99999,\n                stone: 99999\n            });\n            addNotification(\"Test Mode: ON - All active tasks completed.\");\n            const depletedNodeIds = new Set();\n            activeTasks.forEach((task)=>{\n                var _task_payload;\n                if (task.type === \"gather\" && ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.resourceNodeId)) {\n                    depletedNodeIds.add(task.payload.resourceNodeId);\n                    const node = resourceNodes.find((n)=>n.id === task.payload.resourceNodeId);\n                    if (node) addToLog(\"Instantly gathered all \".concat(node.type, \" from a depleted source.\"), node.type);\n                }\n                handleTaskCompletion(task);\n            });\n            setActiveTasks([]);\n            if (depletedNodeIds.size > 0) setResourceNodes((prev)=>prev.filter((n)=>!depletedNodeIds.has(n.id)));\n        } else addNotification(\"Test Mode: OFF\");\n    };\n    const handleUseItem = (itemId)=>{\n        const item = inventory.find((i)=>i.id === itemId);\n        if (!item) return;\n        const baseItemId = item.id.split(\"-\")[0];\n        const constructionTasks = activeTasks.filter((t)=>t.type === \"build\");\n        switch(baseItemId){\n            case \"scroll_of_haste\":\n            case \"blueprint_of_the_master\":\n                if (constructionTasks.length > 0) {\n                    var _buildingList_find;\n                    const task = constructionTasks.sort((a, b)=>b.startTime + b.duration - (a.startTime + a.duration))[0];\n                    setActiveTasks((p)=>p.map((t)=>t.id === task.id ? {\n                                ...t,\n                                duration: Math.max(0, t.duration - (baseItemId === \"scroll_of_haste\" ? 15000 : 60000))\n                            } : t));\n                    addToLog(\"Used \".concat(item.name, \" on the \").concat((_buildingList_find = buildingList.find((b)=>{\n                        var _task_payload;\n                        return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n                    })) === null || _buildingList_find === void 0 ? void 0 : _buildingList_find.name, \".\"), \"item\");\n                }\n                break;\n            case \"hearty_meal\":\n                updateResources({\n                    food: 75\n                });\n                addToLog(\"Used \".concat(item.name, \" to gain 75 food.\"), \"item\");\n                break;\n            case \"builders_charm\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        buildTimeReduction: {\n                            percentage: 0.1,\n                            uses: 1\n                        }\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Next building is 10% faster.\"), \"item\");\n                break;\n            case \"drillmasters_whistle\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        trainTimeReduction: {\n                            percentage: 0.25,\n                            uses: 5\n                        }\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Next 5 units train 25% faster.\"), \"item\");\n                break;\n            case \"golden_harvest\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        resourceBoost: [\n                            ...p.resourceBoost || [],\n                            {\n                                resource: \"food\",\n                                multiplier: 1.5,\n                                endTime: Date.now() + 60000\n                            }\n                        ]\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Food gathering boosted by 50% for 60s.\"), \"item\");\n                break;\n            case \"shard_of_the_ancients\":\n                if (constructionTasks.length > 0) {\n                    var _buildingList_find1;\n                    const task = constructionTasks.sort((a, b)=>b.startTime + b.duration - (a.startTime + a.duration))[0];\n                    setActiveTasks((p)=>p.filter((t)=>t.id !== task.id));\n                    handleTaskCompletion(task);\n                    addToLog(\"Used \".concat(item.name, \" to instantly complete the \").concat((_buildingList_find1 = buildingList.find((b)=>{\n                        var _task_payload;\n                        return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n                    })) === null || _buildingList_find1 === void 0 ? void 0 : _buildingList_find1.name, \".\"), \"item\");\n                }\n                break;\n            case \"heart_of_the_mountain\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        resourceBoost: [\n                            ...p.resourceBoost || [],\n                            {\n                                resource: \"gold\",\n                                multiplier: 2,\n                                endTime: Date.now() + 120000\n                            },\n                            {\n                                resource: \"stone\",\n                                multiplier: 2,\n                                endTime: Date.now() + 120000\n                            }\n                        ]\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Gold and Stone gathering doubled for 2 minutes.\"), \"item\");\n                break;\n            case \"banner_of_command\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        permanentTrainTimeReduction: (p.permanentTrainTimeReduction || 0) + 0.05\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Military units train 5% faster, permanently.\"), \"item\");\n                break;\n            case \"whisper_of_the_creator\":\n                const tasks = [\n                    ...activeTasks\n                ];\n                setActiveTasks([]);\n                tasks.forEach(handleTaskCompletion);\n                addToLog(\"A divine whisper echoes, and all work is instantly finished.\", \"item\");\n                break;\n        }\n        setInventory((prev)=>prev.filter((i)=>i.id !== itemId));\n        setInventoryPanelState({\n            isOpen: false,\n            anchorRect: null\n        });\n    };\n    const buildingCounts = buildingList.reduce((acc, b)=>{\n        var _buildings_b_id;\n        acc[b.id] = ((_buildings_b_id = buildings[b.id]) === null || _buildings_b_id === void 0 ? void 0 : _buildings_b_id.length) || 0;\n        return acc;\n    }, {});\n    const idleVillagerCount = units.villagers.filter((v)=>!v.currentTask).length;\n    const assignmentTarget = assignmentPanelState.targetType === \"resource\" ? resourceNodes.find((n)=>n.id === assignmentPanelState.targetId) : activeTasks.find((t)=>t.type === \"build\" && t.id === assignmentPanelState.targetId);\n    const currentAgeIndex = ageProgressionList.findIndex((a)=>a.name === currentAge);\n    const availableBuildings = buildingList.filter((b)=>{\n        const unlockAgeIndex = ageProgressionList.findIndex((a)=>a.name === b.unlockedInAge);\n        return b.isActive && !b.isUpgradeOnly && unlockAgeIndex !== -1 && unlockAgeIndex <= currentAgeIndex;\n    });\n    const activeUnits = unitList.filter((u)=>u.isActive);\n    const closeAllPanels = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setUnitManagementPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                type: null,\n                anchorRect: null\n            } : p);\n        setBuildingManagementPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                type: null,\n                instanceId: null,\n                anchorRect: null\n            } : p);\n        setBuildPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                villagerId: null,\n                anchorRect: null\n            } : p);\n        setAssignmentPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                targetId: null,\n                targetType: null,\n                anchorRect: null\n            } : p);\n        setCivPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n        setAllBuildingsPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n        setInventoryPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n    }, []);\n    const handleOpenBuildingPanel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((type, instanceId, rect)=>{\n        closeAllPanels();\n        setBuildingManagementPanel({\n            isOpen: true,\n            type,\n            instanceId,\n            anchorRect: rect\n        });\n    }, [\n        closeAllPanels\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClickOutside = (event)=>{\n            const target = event.target;\n            if (!target.closest(\".sci-fi-panel-popup, [data-radix-popper-content-wrapper]\")) closeAllPanels();\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>document.removeEventListener(\"mousedown\", handleClickOutside);\n    }, [\n        closeAllPanels\n    ]);\n    const renderContent = ()=>{\n        if (isAppLoading) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {}, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 1013,\n                columnNumber: 20\n            }, undefined);\n        }\n        switch(gameState){\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StartScreen__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                    onNewGame: handleStartNewGame,\n                    onResumeGame: handleResumeGame,\n                    savedGames: allSaves,\n                    onDeleteGame: handleDeleteGame\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 1017,\n                    columnNumber: 42\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 1018,\n                    columnNumber: 45\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING:\n                if (!civilization) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 1020,\n                    columnNumber: 43\n                }, undefined);\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_GameUI__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                            civilization: civilization,\n                            resources: resources,\n                            units: units,\n                            buildings: buildings,\n                            population: population,\n                            currentAge: currentAge,\n                            gameLog: gameLog,\n                            resourceDeltas: resourceDeltas,\n                            activityStatus: activityStatus,\n                            unitList: activeUnits,\n                            buildingList: buildingList,\n                            onOpenUnitPanel: (type, rect)=>{\n                                closeAllPanels();\n                                setUnitManagementPanel({\n                                    isOpen: true,\n                                    type,\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenBuildingPanel: handleOpenBuildingPanel,\n                            onOpenAllBuildingsPanel: (rect)=>{\n                                closeAllPanels();\n                                setAllBuildingsPanel({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            playerAction: playerAction,\n                            onConfirmPlacement: handleConfirmPlacement,\n                            onCancelPlayerAction: handleCancelPlayerAction,\n                            onBuildingClick: (building, rect)=>{\n                                closeAllPanels();\n                                const type = Object.keys(buildings).find((key)=>{\n                                    var _buildings_key;\n                                    return (_buildings_key = buildings[key]) === null || _buildings_key === void 0 ? void 0 : _buildings_key.some((b)=>b.id === building.id);\n                                });\n                                if (type) setBuildingManagementPanel({\n                                    isOpen: true,\n                                    type,\n                                    instanceId: building.id,\n                                    anchorRect: rect\n                                });\n                            },\n                            mapDimensions: MAP_DIMENSIONS,\n                            activeTasks: activeTasks,\n                            onExitGame: handleExitGame,\n                            onOpenCivPanel: (rect)=>{\n                                closeAllPanels();\n                                setCivPanelState({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            resourceNodes: resourceNodes,\n                            onOpenAssignmentPanel: (nodeId, rect)=>{\n                                closeAllPanels();\n                                setAssignmentPanelState({\n                                    isOpen: true,\n                                    targetId: nodeId,\n                                    targetType: \"resource\",\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenConstructionPanel: (constructionId, rect)=>{\n                                closeAllPanels();\n                                setAssignmentPanelState({\n                                    isOpen: true,\n                                    targetId: constructionId,\n                                    targetType: \"construction\",\n                                    anchorRect: rect\n                                });\n                            },\n                            gatherInfo: GATHER_INFO,\n                            currentEvent: currentEvent,\n                            onEventChoice: handleEventChoice,\n                            inventory: inventory,\n                            onOpenInventoryPanel: (rect)=>{\n                                closeAllPanels();\n                                setInventoryPanelState({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            }\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1023,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BuildPanel__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                            isOpen: buildPanelState.isOpen,\n                            onClose: ()=>setBuildPanelState({\n                                    isOpen: false,\n                                    villagerId: null,\n                                    anchorRect: null\n                                }),\n                            onStartPlacement: handleStartPlacement,\n                            resources: resources,\n                            buildingCounts: buildingCounts,\n                            buildingList: availableBuildings,\n                            anchorRect: buildPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1038,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_UnitManagementPanel__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                            isOpen: unitManagementPanel.isOpen,\n                            onClose: ()=>setUnitManagementPanel({\n                                    isOpen: false,\n                                    type: null,\n                                    anchorRect: null\n                                }),\n                            type: unitManagementPanel.type,\n                            units: units,\n                            onUpdateUnit: handleUpdateUnit,\n                            onDismissUnit: handleDismissSpecificUnit,\n                            onInitiateBuild: (villagerId, rect)=>{\n                                closeAllPanels();\n                                handleInitiateBuild(villagerId, rect);\n                            },\n                            getVillagerTaskDetails: getVillagerTaskDetails,\n                            anchorRect: unitManagementPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1039,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BuildingManagementPanel__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                            isOpen: buildingManagementPanel.isOpen,\n                            onClose: ()=>setBuildingManagementPanel({\n                                    isOpen: false,\n                                    type: null,\n                                    anchorRect: null\n                                }),\n                            panelState: buildingManagementPanel,\n                            buildings: buildings,\n                            buildingList: buildingList,\n                            onUpdateBuilding: handleUpdateBuilding,\n                            onDemolishBuilding: handleDemolishBuilding,\n                            onTrainUnits: handleTrainUnits,\n                            onTrainVillagers: handleTrainVillagers,\n                            onUpgradeBuilding: handleUpgradeBuilding,\n                            resources: resources,\n                            population: population,\n                            unitList: activeUnits,\n                            onAdvanceAge: handleAdvanceAge,\n                            activeTasks: activeTasks,\n                            anchorRect: buildingManagementPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1040,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ResourceAssignmentPanel__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                            isOpen: assignmentPanelState.isOpen,\n                            onClose: ()=>setAssignmentPanelState({\n                                    isOpen: false,\n                                    targetId: null,\n                                    targetType: null,\n                                    anchorRect: null\n                                }),\n                            assignmentTarget: assignmentTarget || null,\n                            idleVillagerCount: idleVillagerCount,\n                            onAssignVillagers: handleAssignVillagers,\n                            onRecallVillagers: handleRecallVillagers,\n                            gatherInfo: GATHER_INFO,\n                            buildingList: buildingList,\n                            units: units,\n                            anchorRect: assignmentPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1041,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CivilizationPanel__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                            isOpen: civPanelState.isOpen,\n                            onClose: ()=>setCivPanelState({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            civilization: civilization,\n                            anchorRect: civPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1042,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AllBuildingsPanel__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                            isOpen: allBuildingsPanel.isOpen,\n                            onClose: ()=>setAllBuildingsPanel({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            buildingList: buildingList,\n                            buildingCounts: buildingCounts,\n                            activeTasks: activeTasks,\n                            onOpenBuildingPanel: handleOpenBuildingPanel,\n                            anchorRect: allBuildingsPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1043,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_InventoryPanel__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                            isOpen: inventoryPanelState.isOpen,\n                            onClose: ()=>setInventoryPanelState({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            inventory: inventory,\n                            onUseItem: handleUseItem,\n                            activeTasks: activeTasks,\n                            activeBuffs: activeBuffs,\n                            anchorRect: inventoryPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1044,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true);\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StartScreen__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                    onNewGame: handleStartNewGame,\n                    onResumeGame: handleResumeGame,\n                    savedGames: allSaves,\n                    onDeleteGame: handleDeleteGame\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 1047,\n                    columnNumber: 29\n                }, undefined);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-stone-dark flex items-center justify-center p-4\",\n        children: [\n            gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handleToggleUnlimitedResources,\n                className: \"fixed bottom-4 left-4 z-[101] bg-brand-gold text-stone-dark font-bold py-1 px-3 rounded-full text-xs shadow-lg hover:scale-105 transition-transform\",\n                \"aria-label\": \"Toggle unlimited resources test mode\",\n                children: [\n                    \"Test Mode: \",\n                    unlimitedResources ? \"ON\" : \"OFF\"\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 1054,\n                columnNumber: 18\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_NotificationManager__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                notifications: notifications,\n                onRemoveNotification: removeNotification\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 1056,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"w-full max-w-7xl mx-auto\",\n                children: renderContent()\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 1057,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/src/app/page.tsx\",\n        lineNumber: 1052,\n        columnNumber: 9\n    }, undefined);\n};\n_s(GamePage, \"gZnfX5xD65/ekxtK9j57QCGpM7Y=\");\n_c = GamePage;\n/* harmony default export */ __webpack_exports__[\"default\"] = (GamePage);\nvar _c;\n$RefreshReg$(_c, \"GamePage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0JBOzRCQUFnQmpXLGFBQWFBOzRCQUFhdVgscUJBQXFCYjs0QkFBeUJyVixZQUFZTyxrQkFBa0JQLFVBQVU7Ozs7OztzQ0FDM1MsOERBQUMxRSxtRUFBY0E7NEJBQUN3RSxRQUFRaUIsb0JBQW9CakIsTUFBTTs0QkFBRWtYLFNBQVMsSUFBTWhXLHVCQUF1QjtvQ0FBRWxCLFFBQVE7b0NBQU9FLFlBQVk7Z0NBQUs7NEJBQUlqQixXQUFXQTs0QkFBVytZLFdBQVd2RDs0QkFBZTVWLGFBQWFBOzRCQUFhTSxhQUFhQTs0QkFBYWUsWUFBWWUsb0JBQW9CZixVQUFVOzs7Ozs7OztZQUcxUjtnQkFBUyxxQkFBTyw4REFBQ25GLGdFQUFXQTtvQkFBQ2diLFdBQVd0STtvQkFBb0J1SSxjQUFjM0g7b0JBQWtCNEgsWUFBWTFYO29CQUFVMlgsY0FBYzlCOzs7Ozs7UUFDcEk7SUFDSjtJQUVBLHFCQUNJLDhEQUFDNkQ7UUFBSUMsV0FBVTs7WUFDVnRiLGNBQWNoRCw4Q0FBVUEsQ0FBQzZMLE9BQU8sa0JBQzVCLDhEQUFDMFM7Z0JBQU9DLFNBQVMvRDtnQkFBZ0M2RCxXQUFVO2dCQUFzSkcsY0FBVzs7b0JBQXVDO29CQUFZaGEscUJBQXFCLE9BQU87Ozs7Ozs7MEJBRWhULDhEQUFDbkQsd0VBQW1CQTtnQkFBQ2lELGVBQWVBO2dCQUFlbWEsc0JBQXNCdFM7Ozs7OzswQkFDekUsOERBQUN1UztnQkFBS0wsV0FBVTswQkFDWHBDOzs7Ozs7Ozs7Ozs7QUFJakI7R0E1L0JNblo7S0FBQUE7QUE4L0JOLCtEQUFlQSxRQUFRQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcHAvcGFnZS50c3g/ZjY4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcblxuXG5cbid1c2UgY2xpZW50JztcblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBHYW1lU3RhdHVzLCB0eXBlIENpdmlsaXphdGlvbiwgdHlwZSBSZXNvdXJjZXMsIHR5cGUgVW5pdHMsIHR5cGUgQnVpbGRpbmdzLCB0eXBlIEdhbWVFdmVudCwgdHlwZSBHYW1lTG9nRW50cnksIHR5cGUgTG9nSWNvblR5cGUsIHR5cGUgUmVzb3VyY2VEZWx0YXMsIEJ1aWxkaW5nVHlwZSwgVUlOb3RpZmljYXRpb24sIEZ1bGxHYW1lU3RhdGUsIFZpbGxhZ2VyLCBNaWxpdGFyeVVuaXQsIFVuaXRDb25maWcsIE1pbGl0YXJ5VW5pdFR5cGUsIEdhbWVUYXNrLCBUYXNrVHlwZSwgUmVzb3VyY2VOb2RlLCBSZXNvdXJjZU5vZGVUeXBlLCBQbGF5ZXJBY3Rpb25TdGF0ZSwgR2FtZUV2ZW50Q2hvaWNlLCBHYW1lSXRlbSwgUmV3YXJkLCBBY3RpdmVCdWZmcywgQnVpbGRpbmdJbnN0YW5jZSwgQWdlQ29uZmlnLCBCdWlsZGluZ0NvbmZpZywgQnVpbGRpbmdVcGdyYWRlUGF0aCB9IGZyb20gJ0AvdHlwZXMnO1xuaW1wb3J0IHsgZ2V0UHJlZGVmaW5lZENpdmlsaXphdGlvbiwgZ2V0UHJlZGVmaW5lZEdhbWVFdmVudCB9IGZyb20gJ0Avc2VydmljZXMvZ2VtaW5pU2VydmljZSc7XG5pbXBvcnQgeyBzYXZlR2FtZVN0YXRlLCBsb2FkR2FtZVN0YXRlLCBnZXRBbGxTYXZlTmFtZXMsIGRlbGV0ZUdhbWVTdGF0ZSwgZ2V0QWxsQWdlQ29uZmlncywgZ2V0QWxsQnVpbGRpbmdDb25maWdzLCBnZXRBbGxVbml0Q29uZmlncywgc2F2ZUFnZUNvbmZpZywgc2F2ZUJ1aWxkaW5nQ29uZmlnLCBzYXZlVW5pdENvbmZpZyB9IGZyb20gJ0Avc2VydmljZXMvZGJTZXJ2aWNlJztcbmltcG9ydCB7IGdldFJhbmRvbU5hbWVzIH0gZnJvbSAnQC9zZXJ2aWNlcy9uYW1lU2VydmljZSc7XG5pbXBvcnQgeyBHQU1FX0lURU1TIH0gZnJvbSAnQC9kYXRhL2l0ZW1Db250ZW50JztcbmltcG9ydCB7IElOSVRJQUxfQUdFUyB9IGZyb20gJ0AvZGF0YS9hZ2VJbmZvJztcbmltcG9ydCB7IElOSVRJQUxfQlVJTERJTkdTIH0gZnJvbSAnQC9kYXRhL2J1aWxkaW5nSW5mbyc7XG5pbXBvcnQgeyBJTklUSUFMX1VOSVRTIH0gZnJvbSAnQC9kYXRhL3VuaXRJbmZvJztcbmltcG9ydCBHYW1lVUkgZnJvbSAnQC9jb21wb25lbnRzL0dhbWVVSSc7XG5pbXBvcnQgU3RhcnRTY3JlZW4gZnJvbSAnQC9jb21wb25lbnRzL1N0YXJ0U2NyZWVuJztcbmltcG9ydCBMb2FkaW5nU2NyZWVuIGZyb20gJ0AvY29tcG9uZW50cy9Mb2FkaW5nU2NyZWVuJztcbmltcG9ydCBCdWlsZFBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9CdWlsZFBhbmVsJztcbmltcG9ydCBOb3RpZmljYXRpb25NYW5hZ2VyIGZyb20gJ0AvY29tcG9uZW50cy9Ob3RpZmljYXRpb25NYW5hZ2VyJztcbmltcG9ydCBVbml0TWFuYWdlbWVudFBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9Vbml0TWFuYWdlbWVudFBhbmVsJztcbmltcG9ydCBCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvQnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwnO1xuaW1wb3J0IFJlc291cmNlQXNzaWdubWVudFBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9SZXNvdXJjZUFzc2lnbm1lbnRQYW5lbCc7XG5pbXBvcnQgQ2l2aWxpemF0aW9uUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL0NpdmlsaXphdGlvblBhbmVsJztcbmltcG9ydCBBbGxCdWlsZGluZ3NQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvQWxsQnVpbGRpbmdzUGFuZWwnO1xuaW1wb3J0IEludmVudG9yeVBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9JbnZlbnRvcnlQYW5lbCc7XG5cbmNvbnN0IEdBVEhFUl9JTkZPOiBSZWNvcmQ8UmVzb3VyY2VOb2RlVHlwZSwgeyByYXRlOiBudW1iZXIgfT4gPSB7XG4gICAgZm9vZDogeyByYXRlOiAxMCB9LFxuICAgIHdvb2Q6IHsgcmF0ZTogOCB9LFxuICAgIGdvbGQ6IHsgcmF0ZTogNSB9LFxuICAgIHN0b25lOiB7IHJhdGU6IDYgfSxcbn1cblxuY29uc3QgaW5pdGlhbEJ1aWxkaW5nc1N0YXRlOiBCdWlsZGluZ3MgPSB7XG4gICAgaG91c2VzOiBbXSwgYmFycmFja3M6IFtdLCBhcmNoZXJ5UmFuZ2U6IFtdLCBzdGFibGU6IFtdLCBzaWVnZVdvcmtzaG9wOiBbXSwgYmxhY2tzbWl0aDogW10sIHdhdGNoVG93ZXI6IFtdLCB0b3duQ2VudGVyOiBbXVxufTtcblxuY29uc3QgTUFQX0RJTUVOU0lPTlMgPSB7IHdpZHRoOiAyNSwgaGVpZ2h0OiAxOCB9O1xuXG5cbmNvbnN0IEdhbWVQYWdlOiBSZWFjdC5GQyA9ICgpID0+IHtcbiAgICAvLyBDb3JlIEdhbWUgU3RhdGVcbiAgICBjb25zdCBbZ2FtZVN0YXRlLCBzZXRHYW1lU3RhdGVdID0gdXNlU3RhdGU8R2FtZVN0YXR1cz4oR2FtZVN0YXR1cy5MT0FESU5HKTtcbiAgICBjb25zdCBbY2l2aWxpemF0aW9uLCBzZXRDaXZpbGl6YXRpb25dID0gdXNlU3RhdGU8Q2l2aWxpemF0aW9uIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW3Jlc291cmNlcywgc2V0UmVzb3VyY2VzXSA9IHVzZVN0YXRlPFJlc291cmNlcz4oeyBmb29kOiAyMDAsIHdvb2Q6IDE1MCwgZ29sZDogNTAsIHN0b25lOiAxMDAgfSk7XG4gICAgY29uc3QgW3VuaXRzLCBzZXRVbml0c10gPSB1c2VTdGF0ZTxVbml0cz4oeyB2aWxsYWdlcnM6IFtdLCBtaWxpdGFyeTogW10gfSk7XG4gICAgY29uc3QgW2J1aWxkaW5ncywgc2V0QnVpbGRpbmdzXSA9IHVzZVN0YXRlPEJ1aWxkaW5ncz4oaW5pdGlhbEJ1aWxkaW5nc1N0YXRlKTtcbiAgICBjb25zdCBbY3VycmVudEFnZSwgc2V0Q3VycmVudEFnZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCdOb21hZGljIEFnZScpO1xuICAgIGNvbnN0IFtnYW1lTG9nLCBzZXRHYW1lTG9nXSA9IHVzZVN0YXRlPEdhbWVMb2dFbnRyeVtdPihbXSk7XG4gICAgY29uc3QgW2N1cnJlbnRFdmVudCwgc2V0Q3VycmVudEV2ZW50XSA9IHVzZVN0YXRlPEdhbWVFdmVudCB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFtyZXNvdXJjZURlbHRhcywgc2V0UmVzb3VyY2VEZWx0YXNdID0gdXNlU3RhdGU8UmVzb3VyY2VEZWx0YXM+KHt9KTtcbiAgICBjb25zdCBbYWN0aXZpdHlTdGF0dXMsIHNldEFjdGl2aXR5U3RhdHVzXSA9IHVzZVN0YXRlPHN0cmluZz4oJ1lvdXIgc3RvcnkgYmVnaW5zLi4uJyk7XG4gICAgY29uc3QgW25vdGlmaWNhdGlvbnMsIHNldE5vdGlmaWNhdGlvbnNdID0gdXNlU3RhdGU8VUlOb3RpZmljYXRpb25bXT4oW10pO1xuICAgIGNvbnN0IFt1bmxpbWl0ZWRSZXNvdXJjZXMsIHNldFVubGltaXRlZFJlc291cmNlc10gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gICAgY29uc3QgW2FsbFNhdmVzLCBzZXRBbGxTYXZlc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICAgIGNvbnN0IFtjdXJyZW50U2F2ZU5hbWUsIHNldEN1cnJlbnRTYXZlTmFtZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbcGxheWVyQWN0aW9uLCBzZXRQbGF5ZXJBY3Rpb25dID0gdXNlU3RhdGU8UGxheWVyQWN0aW9uU3RhdGU+KG51bGwpO1xuICAgIGNvbnN0IFthY3RpdmVUYXNrcywgc2V0QWN0aXZlVGFza3NdID0gdXNlU3RhdGU8R2FtZVRhc2tbXT4oW10pO1xuICAgIGNvbnN0IFtyZXNvdXJjZU5vZGVzLCBzZXRSZXNvdXJjZU5vZGVzXSA9IHVzZVN0YXRlPFJlc291cmNlTm9kZVtdPihbXSk7XG4gICAgY29uc3QgW2ludmVudG9yeSwgc2V0SW52ZW50b3J5XSA9IHVzZVN0YXRlPEdhbWVJdGVtW10+KFtdKTtcbiAgICBjb25zdCBbYWN0aXZlQnVmZnMsIHNldEFjdGl2ZUJ1ZmZzXSA9IHVzZVN0YXRlPEFjdGl2ZUJ1ZmZzPih7IHJlc291cmNlQm9vc3Q6IFtdIH0pO1xuICAgIFxuICAgIC8vIE1hc3RlciBsaXN0cyBvZiBhbGwgY29uZmlndXJhdGlvbnMgZnJvbSBEQlxuICAgIGNvbnN0IFttYXN0ZXJBZ2VMaXN0LCBzZXRNYXN0ZXJBZ2VMaXN0XSA9IHVzZVN0YXRlPEFnZUNvbmZpZ1tdPihbXSk7XG4gICAgY29uc3QgW21hc3RlckJ1aWxkaW5nTGlzdCwgc2V0TWFzdGVyQnVpbGRpbmdMaXN0XSA9IHVzZVN0YXRlPEJ1aWxkaW5nQ29uZmlnW10+KFtdKTtcbiAgICBjb25zdCBbbWFzdGVyVW5pdExpc3QsIHNldE1hc3RlclVuaXRMaXN0XSA9IHVzZVN0YXRlPFVuaXRDb25maWdbXT4oW10pO1xuXG4gICAgLy8gQXBwIExvYWRpbmcgU3RhdGVcbiAgICBjb25zdCBbaXNBcHBMb2FkaW5nLCBzZXRJc0FwcExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG5cbiAgICBcbiAgICAvLyBQYW5lbCBTdGF0ZXNcbiAgICBjb25zdCBbYnVpbGRQYW5lbFN0YXRlLCBzZXRCdWlsZFBhbmVsU3RhdGVdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IHZpbGxhZ2VySWQ6IHN0cmluZyB8IG51bGw7IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsIH0+KHsgaXNPcGVuOiBmYWxzZSwgdmlsbGFnZXJJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICBjb25zdCBbdW5pdE1hbmFnZW1lbnRQYW5lbCwgc2V0VW5pdE1hbmFnZW1lbnRQYW5lbF0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgdHlwZTogJ3ZpbGxhZ2VycycgfCAnbWlsaXRhcnknIHwgbnVsbDsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7IH0+KHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICBjb25zdCBbYnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwsIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsXSA9IHVzZVN0YXRlPHsgaXNPcGVuOiBib29sZWFuOyB0eXBlOiBCdWlsZGluZ1R5cGUgfCBzdHJpbmcgfCBudWxsOyBpbnN0YW5jZUlkPzogc3RyaW5nOyBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbDsgfT4oeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBpbnN0YW5jZUlkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIGNvbnN0IFthbGxCdWlsZGluZ3NQYW5lbCwgc2V0QWxsQnVpbGRpbmdzUGFuZWxdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsOyB9Pih7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgY29uc3QgW2Fzc2lnbm1lbnRQYW5lbFN0YXRlLCBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZV0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgdGFyZ2V0SWQ6IHN0cmluZyB8IG51bGw7IHRhcmdldFR5cGU6ICdyZXNvdXJjZScgfCAnY29uc3RydWN0aW9uJyB8IG51bGw7IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsOyB9Pih7IGlzT3BlbjogZmFsc2UsIHRhcmdldElkOiBudWxsLCB0YXJnZXRUeXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIGNvbnN0IFtjaXZQYW5lbFN0YXRlLCBzZXRDaXZQYW5lbFN0YXRlXSA9IHVzZVN0YXRlPHsgaXNPcGVuOiBib29sZWFuOyBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbDsgfT4oeyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIGNvbnN0IFtpbnZlbnRvcnlQYW5lbFN0YXRlLCBzZXRJbnZlbnRvcnlQYW5lbFN0YXRlXSA9IHVzZVN0YXRlPHsgaXNPcGVuOiBib29sZWFuOyBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbDsgfT4oeyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuXG4gICAgY29uc3QgZGVsdGFUaW1lb3V0UmVmID0gdXNlUmVmPHsgW2tleSBpbiBrZXlvZiBSZXNvdXJjZXNdPzogbnVtYmVyIH0+KHt9KTtcbiAgICBjb25zdCBldmVudFRpbWVyUmVmID0gdXNlUmVmPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgbGFzdFRpY2tSZWYgPSB1c2VSZWY8bnVtYmVyPihEYXRlLm5vdygpKTtcbiAgICBjb25zdCBhbmltYXRpb25GcmFtZVJlZiA9IHVzZVJlZjxudW1iZXI+KCk7XG4gICAgXG4gICAgLy8gRGVyaXZlZCBzdGF0ZSBmb3IgYWN0aXZlIGdhbWUgY29uZmlndXJhdGlvbnNcbiAgICBjb25zdCBhZ2VQcm9ncmVzc2lvbkxpc3QgPSBtYXN0ZXJBZ2VMaXN0LmZpbHRlcihhZ2UgPT4gYWdlLmlzQWN0aXZlKTtcbiAgICBjb25zdCBidWlsZGluZ0xpc3QgPSBtYXN0ZXJCdWlsZGluZ0xpc3Q7IC8vIEtlZXAgYWxsIGZvciBsb29rdXBzLCBmaWx0ZXIgb24gdXNlXG4gICAgY29uc3QgdW5pdExpc3QgPSBtYXN0ZXJVbml0TGlzdDsgLy8gS2VlcCBhbGwgZm9yIGxvb2t1cHMsIGZpbHRlciBvbiB1c2VcblxuICAgIGNvbnN0IHBvcHVsYXRpb25DYXBhY2l0eSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBsZXQgY2FwYWNpdHkgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1aWxkaW5nVHlwZSBpbiBidWlsZGluZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IG1hc3RlckJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gYnVpbGRpbmdUeXBlKTtcbiAgICAgICAgICAgIGlmIChidWlsZGluZ0luZm8gJiYgYnVpbGRpbmdJbmZvLnBvcHVsYXRpb25DYXBhY2l0eSkge1xuICAgICAgICAgICAgICAgIGNhcGFjaXR5ICs9IGJ1aWxkaW5nc1tidWlsZGluZ1R5cGVdLmxlbmd0aCAqIGJ1aWxkaW5nSW5mby5wb3B1bGF0aW9uQ2FwYWNpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhcGFjaXR5O1xuICAgIH0sIFtidWlsZGluZ3MsIG1hc3RlckJ1aWxkaW5nTGlzdF0pO1xuICAgIFxuICAgIGNvbnN0IHBvcHVsYXRpb24gPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgY29uc3QgbWlsaXRhcnlQb3AgPSB1bml0cy5taWxpdGFyeS5yZWR1Y2UoKGFjYywgdW5pdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdW5pdEluZm8gPSBtYXN0ZXJVbml0TGlzdC5maW5kKHUgPT4gdS5pZCA9PT0gdW5pdC51bml0VHlwZSk7XG4gICAgICAgICAgICByZXR1cm4gYWNjICsgKHVuaXRJbmZvPy5wb3B1bGF0aW9uQ29zdCB8fCAxKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY3VycmVudDogdW5pdHMudmlsbGFnZXJzLmxlbmd0aCArIG1pbGl0YXJ5UG9wLFxuICAgICAgICAgICAgY2FwYWNpdHk6IHBvcHVsYXRpb25DYXBhY2l0eSxcbiAgICAgICAgfTtcbiAgICB9LCBbdW5pdHMsIHBvcHVsYXRpb25DYXBhY2l0eSwgbWFzdGVyVW5pdExpc3RdKTtcbiAgICBcbiAgICBjb25zdCBmZXRjaFNhdmVzQW5kQ29uZmlncyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgc2V0SXNBcHBMb2FkaW5nKHRydWUpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgbmFtZXMgPSBhd2FpdCBnZXRBbGxTYXZlTmFtZXMoKTtcbiAgICAgICAgICAgIHNldEFsbFNhdmVzKG5hbWVzKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gLS0tIFNtYXJ0IFNlZWRpbmcvVXBkYXRpbmcgZm9yIEFnZXMgLS0tXG4gICAgICAgICAgICBsZXQgYWxsQWdlQ29uZmlncyA9IGF3YWl0IGdldEFsbEFnZUNvbmZpZ3MoKTtcbiAgICAgICAgICAgIGxldCBhZ2VNYXAgPSBuZXcgTWFwKGFsbEFnZUNvbmZpZ3MubWFwKGl0ZW0gPT4gW2l0ZW0uaWQsIGl0ZW1dKSk7XG4gICAgICAgICAgICBsZXQgYWdlc05lZWRVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2luZGV4LCBwSXRlbV0gb2YgSU5JVElBTF9BR0VTLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nSXRlbSA9IGFnZU1hcC5nZXQocEl0ZW0ubmFtZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3SXRlbTogQWdlQ29uZmlnID0geyAuLi4oZXhpc3RpbmdJdGVtIHx8IHt9KSwgLi4ucEl0ZW0sIGlkOiBwSXRlbS5uYW1lLCBpc1ByZWRlZmluZWQ6IHRydWUsIGlzQWN0aXZlOiBleGlzdGluZ0l0ZW0/LmlzQWN0aXZlID8/IHRydWUsIG9yZGVyOiBleGlzdGluZ0l0ZW0/Lm9yZGVyID8/IGluZGV4IH07XG4gICAgICAgICAgICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KGV4aXN0aW5nSXRlbSkgIT09IEpTT04uc3RyaW5naWZ5KG5ld0l0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHNhdmVBZ2VDb25maWcobmV3SXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIGFnZXNOZWVkVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWdlc05lZWRVcGRhdGUpIGFsbEFnZUNvbmZpZ3MgPSBhd2FpdCBnZXRBbGxBZ2VDb25maWdzKCk7XG4gICAgICAgICAgICBzZXRNYXN0ZXJBZ2VMaXN0KGFsbEFnZUNvbmZpZ3MpO1xuXG4gICAgICAgICAgICAvLyAtLS0gU21hcnQgU2VlZGluZy9VcGRhdGluZyBmb3IgQnVpbGRpbmdzIC0tLVxuICAgICAgICAgICAgbGV0IGFsbEJ1aWxkaW5nQ29uZmlncyA9IGF3YWl0IGdldEFsbEJ1aWxkaW5nQ29uZmlncygpO1xuICAgICAgICAgICAgbGV0IGJ1aWxkaW5nTWFwID0gbmV3IE1hcChhbGxCdWlsZGluZ0NvbmZpZ3MubWFwKGl0ZW0gPT4gW2l0ZW0uaWQsIGl0ZW1dKSk7XG4gICAgICAgICAgICBsZXQgYnVpbGRpbmdzTmVlZFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdEFnZSA9IGFsbEFnZUNvbmZpZ3NbMF0/Lm5hbWUgfHwgSU5JVElBTF9BR0VTWzBdLm5hbWU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtpbmRleCwgcEl0ZW1dIG9mIElOSVRJQUxfQlVJTERJTkdTLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nSXRlbSA9IGJ1aWxkaW5nTWFwLmdldChwSXRlbS5pZCk7XG4gICAgICAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW06IEJ1aWxkaW5nQ29uZmlnID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi4ocEl0ZW0gYXMgYW55KSwgLy8gQmFzZSBwcmVkZWZpbmVkIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAuLi4oZXhpc3RpbmdJdGVtIHx8IHt9KSwgLy8gT3ZlcndyaXRlIHdpdGggc2F2ZWQgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIGlkOiBwSXRlbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgaXNQcmVkZWZpbmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB1bmxvY2tlZEluQWdlOiBleGlzdGluZ0l0ZW0/LnVubG9ja2VkSW5BZ2UgfHwgKHBJdGVtLmlkID09PSAndG93bkNlbnRlcicgPyBJTklUSUFMX0FHRVNbMF0ubmFtZSA6IGRlZmF1bHRBZ2UpLFxuICAgICAgICAgICAgICAgICAgICBpc0FjdGl2ZTogZXhpc3RpbmdJdGVtPy5pc0FjdGl2ZSA/PyB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBvcmRlcjogZXhpc3RpbmdJdGVtPy5vcmRlciA/PyBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgdHJlZUlkOiBleGlzdGluZ0l0ZW0/LnRyZWVJZCB8fCBgdHJlZS1wcmVkZWZpbmVkLSR7cEl0ZW0uaWR9YCxcbiAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGlvbkNhcGFjaXR5OiBleGlzdGluZ0l0ZW0/LnBvcHVsYXRpb25DYXBhY2l0eSA/PyBwSXRlbS5wb3B1bGF0aW9uQ2FwYWNpdHksXG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlc1Jlc291cmNlOiBleGlzdGluZ0l0ZW0/LmdlbmVyYXRlc1Jlc291cmNlID8/IHBJdGVtLmdlbmVyYXRlc1Jlc291cmNlLFxuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0aW9uUmF0ZTogZXhpc3RpbmdJdGVtPy5nZW5lcmF0aW9uUmF0ZSA/PyBwSXRlbS5nZW5lcmF0aW9uUmF0ZSxcbiAgICAgICAgICAgICAgICAgICAgbWFpbnRlbmFuY2VDb3N0OiBleGlzdGluZ0l0ZW0/Lm1haW50ZW5hbmNlQ29zdCA/PyBwSXRlbS5tYWludGVuYW5jZUNvc3QsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmIChKU09OLnN0cmluZ2lmeShleGlzdGluZ0l0ZW0pICE9PSBKU09OLnN0cmluZ2lmeShuZXdJdGVtKSkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzYXZlQnVpbGRpbmdDb25maWcobmV3SXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nc05lZWRVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChidWlsZGluZ3NOZWVkVXBkYXRlKSBhbGxCdWlsZGluZ0NvbmZpZ3MgPSBhd2FpdCBnZXRBbGxCdWlsZGluZ0NvbmZpZ3MoKTtcbiAgICAgICAgICAgIHNldE1hc3RlckJ1aWxkaW5nTGlzdChhbGxCdWlsZGluZ0NvbmZpZ3MpO1xuXG4gICAgICAgICAgICAvLyAtLS0gU21hcnQgU2VlZGluZy9VcGRhdGluZyBmb3IgVW5pdHMgLS0tXG4gICAgICAgICAgICBsZXQgYWxsVW5pdENvbmZpZ3MgPSBhd2FpdCBnZXRBbGxVbml0Q29uZmlncygpO1xuICAgICAgICAgICAgY29uc3QgdW5pdE1hcCA9IG5ldyBNYXAoYWxsVW5pdENvbmZpZ3MubWFwKGl0ZW0gPT4gW2l0ZW0uaWQsIGl0ZW1dKSk7XG4gICAgICAgICAgICBsZXQgdW5pdHNOZWVkVXBkYXRlID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBpbml0aWFsVW5pdHNXaXRoSWRzID0gSU5JVElBTF9VTklUUy5tYXAodSA9PiAoeyAuLi51LCBpZDogdS5uYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzL2csICcnKSB9KSk7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgW2luZGV4LCBwSXRlbV0gb2YgaW5pdGlhbFVuaXRzV2l0aElkcy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0l0ZW0gPSB1bml0TWFwLmdldChwSXRlbS5pZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3SXRlbTogVW5pdENvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uKHBJdGVtIGFzIGFueSksIC8vIEJhc2UgcHJlZGVmaW5lZCB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgLi4uKGV4aXN0aW5nSXRlbSB8fCB7fSksIC8vIE92ZXJ3cml0ZSB3aXRoIHNhdmVkIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICBpZDogcEl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgIGlzUHJlZGVmaW5lZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmU6IGV4aXN0aW5nSXRlbT8uaXNBY3RpdmUgPz8gdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IGV4aXN0aW5nSXRlbT8ub3JkZXIgPz8gaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIHRyZWVJZDogZXhpc3RpbmdJdGVtPy50cmVlSWQgfHwgYHV0cmVlLXByZWRlZmluZWQtJHtwSXRlbS5pZH1gLFxuICAgICAgICAgICAgICAgICAgICBwb3B1bGF0aW9uQ29zdDogZXhpc3RpbmdJdGVtPy5wb3B1bGF0aW9uQ29zdCA/PyBwSXRlbS5wb3B1bGF0aW9uQ29zdCxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KGV4aXN0aW5nSXRlbSkgIT09IEpTT04uc3RyaW5naWZ5KG5ld0l0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHNhdmVVbml0Q29uZmlnKG5ld0l0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB1bml0c05lZWRVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1bml0c05lZWRVcGRhdGUpIGFsbFVuaXRDb25maWdzID0gYXdhaXQgZ2V0QWxsVW5pdENvbmZpZ3MoKTtcbiAgICAgICAgICAgIHNldE1hc3RlclVuaXRMaXN0KGFsbFVuaXRDb25maWdzKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHsgYWxsQWdlQ29uZmlncywgYWxsQnVpbGRpbmdDb25maWdzLCBhbGxVbml0Q29uZmlncyB9O1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGR1cmluZyBpbml0aWFsIGNvbmZpZyBmZXRjaDpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgY29uc3QgYWdlcyA9IElOSVRJQUxfQUdFUy5tYXAoKGEsIGkpID0+ICh7Li4uYSwgaWQ6IGEubmFtZSwgaXNBY3RpdmU6IHRydWUsIGlzUHJlZGVmaW5lZDogdHJ1ZSwgb3JkZXI6IGl9KSk7XG4gICAgICAgICAgICBjb25zdCBidWlsZGluZ3MgPSBJTklUSUFMX0JVSUxESU5HUy5tYXAoKGIsIGkpID0+ICh7Li4uYiwgaXNBY3RpdmU6IHRydWUsIGlzUHJlZGVmaW5lZDogdHJ1ZSwgb3JkZXI6IGksIHVubG9ja2VkSW5BZ2U6ICdOb21hZGljIEFnZScgfSBhcyBCdWlsZGluZ0NvbmZpZykpO1xuICAgICAgICAgICAgY29uc3QgdW5pdHMgPSBJTklUSUFMX1VOSVRTLm1hcCgodSwgaSkgPT4gKHsuLi51LCBpZDogdS5uYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzL2csICcnKSwgaXNBY3RpdmU6IHRydWUsIGlzUHJlZGVmaW5lZDogdHJ1ZSwgb3JkZXI6IGl9KSk7XG4gICAgICAgICAgICBzZXRNYXN0ZXJBZ2VMaXN0KGFnZXMpO1xuICAgICAgICAgICAgc2V0TWFzdGVyQnVpbGRpbmdMaXN0KGJ1aWxkaW5ncyk7XG4gICAgICAgICAgICBzZXRNYXN0ZXJVbml0TGlzdCh1bml0cyBhcyBVbml0Q29uZmlnW10pO1xuICAgICAgICAgICAgcmV0dXJuIHsgYWxsQWdlQ29uZmlnczogYWdlcywgYWxsQnVpbGRpbmdDb25maWdzOiBidWlsZGluZ3MsIGFsbFVuaXRDb25maWdzOiB1bml0cyBhcyBVbml0Q29uZmlnW10gfTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldElzQXBwTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICBzZXRHYW1lU3RhdGUoR2FtZVN0YXR1cy5NRU5VKTtcbiAgICAgICAgfVxuICAgIH0sIFtdKTtcbiAgICBcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBmZXRjaFNhdmVzQW5kQ29uZmlncygpO1xuICAgIH0sIFtmZXRjaFNhdmVzQW5kQ29uZmlnc10pO1xuICAgIFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChnYW1lU3RhdGUgPT09IEdhbWVTdGF0dXMuUExBWUlORyAmJiBjaXZpbGl6YXRpb24gJiYgY3VycmVudFNhdmVOYW1lKSB7XG4gICAgICAgICAgICBjb25zdCBmdWxsU3RhdGU6IEZ1bGxHYW1lU3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgY2l2aWxpemF0aW9uLFxuICAgICAgICAgICAgICAgIHJlc291cmNlcyxcbiAgICAgICAgICAgICAgICB1bml0cyxcbiAgICAgICAgICAgICAgICBidWlsZGluZ3MsXG4gICAgICAgICAgICAgICAgY3VycmVudEFnZSxcbiAgICAgICAgICAgICAgICBnYW1lTG9nLFxuICAgICAgICAgICAgICAgIGFjdGl2ZVRhc2tzLFxuICAgICAgICAgICAgICAgIHJlc291cmNlTm9kZXMsXG4gICAgICAgICAgICAgICAgaW52ZW50b3J5LFxuICAgICAgICAgICAgICAgIGFjdGl2ZUJ1ZmZzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNhdmVHYW1lU3RhdGUoY3VycmVudFNhdmVOYW1lLCBmdWxsU3RhdGUpO1xuICAgICAgICB9XG4gICAgfSwgW2NpdmlsaXphdGlvbiwgcmVzb3VyY2VzLCB1bml0cywgYnVpbGRpbmdzLCBjdXJyZW50QWdlLCBnYW1lTG9nLCBnYW1lU3RhdGUsIGN1cnJlbnRTYXZlTmFtZSwgYWN0aXZlVGFza3MsIHJlc291cmNlTm9kZXMsIGludmVudG9yeSwgYWN0aXZlQnVmZnNdKTtcblxuICAgIGNvbnN0IGFkZE5vdGlmaWNhdGlvbiA9IHVzZUNhbGxiYWNrKChtZXNzYWdlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgaWQgPSBgJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCl9YDtcbiAgICAgICAgc2V0Tm90aWZpY2F0aW9ucyhwcmV2ID0+IFt7IGlkLCBtZXNzYWdlIH1dKTtcbiAgICB9LCBbXSk7XG5cbiAgICBjb25zdCByZW1vdmVOb3RpZmljYXRpb24gPSB1c2VDYWxsYmFjaygoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBzZXROb3RpZmljYXRpb25zKHByZXYgPT4gcHJldi5maWx0ZXIobiA9PiBuLmlkICE9PSBpZCkpO1xuICAgIH0sIFtdKTtcbiAgICBcbiAgICBjb25zdCBhZGRUb0xvZyA9IHVzZUNhbGxiYWNrKChtZXNzYWdlOiBzdHJpbmcsIGljb246IExvZ0ljb25UeXBlKSA9PiB7XG4gICAgICAgIHNldEdhbWVMb2cocHJldiA9PiBbeyBpZDogYCR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpfWAsIG1lc3NhZ2UsIGljb24gfSwgLi4ucHJldi5zbGljZSgwLCAxOSldKTtcbiAgICB9LCBbXSk7XG4gICAgXG4gICAgY29uc3QgdXBkYXRlUmVzb3VyY2VzID0gdXNlQ2FsbGJhY2soKGRlbHRhczogUmVzb3VyY2VEZWx0YXMpID0+IHtcbiAgICAgICAgc2V0UmVzb3VyY2VzKHByZXYgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3UmVzb3VyY2VzID0geyAuLi5wcmV2IH07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkZWx0YXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNvdXJjZUtleSA9IGtleSBhcyBrZXlvZiBSZXNvdXJjZXM7XG4gICAgICAgICAgICAgICAgbmV3UmVzb3VyY2VzW3Jlc291cmNlS2V5XSA9IE1hdGgubWF4KDAsIG5ld1Jlc291cmNlc1tyZXNvdXJjZUtleV0gKyAoZGVsdGFzW3Jlc291cmNlS2V5XSA/PyAwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3UmVzb3VyY2VzO1xuICAgICAgICB9KTtcblxuICAgICAgICBzZXRSZXNvdXJjZURlbHRhcyhwcmV2ID0+ICh7Li4ucHJldiwgLi4uZGVsdGFzfSkpO1xuXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRlbHRhcykge1xuICAgICAgICAgICAgY29uc3QgcmVzb3VyY2VLZXkgPSBrZXkgYXMga2V5b2YgUmVzb3VyY2VzO1xuICAgICAgICAgICAgaWYgKGRlbHRhVGltZW91dFJlZi5jdXJyZW50W3Jlc291cmNlS2V5XSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoZGVsdGFUaW1lb3V0UmVmLmN1cnJlbnRbcmVzb3VyY2VLZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbHRhVGltZW91dFJlZi5jdXJyZW50W3Jlc291cmNlS2V5XSA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRSZXNvdXJjZURlbHRhcyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3RGVsdGFzID0gey4uLnByZXZ9O1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgbmV3RGVsdGFzW3Jlc291cmNlS2V5XTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld0RlbHRhcztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIDE1MDApO1xuICAgICAgICB9XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgaGFuZGxlVGFza0NvbXBsZXRpb24gPSB1c2VDYWxsYmFjaygodGFzazogR2FtZVRhc2spID0+IHtcbiAgICAgICAgaWYgKHRhc2sucGF5bG9hZD8udmlsbGFnZXJJZHMgJiYgdGFzay5wYXlsb2FkLnZpbGxhZ2VySWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNldFVuaXRzKHByZXYgPT4gKHsgLi4ucHJldiwgdmlsbGFnZXJzOiBwcmV2LnZpbGxhZ2Vycy5tYXAodiA9PiB0YXNrLnBheWxvYWQhLnZpbGxhZ2VySWRzIS5pbmNsdWRlcyh2LmlkKSA/IHsgLi4udiwgY3VycmVudFRhc2s6IG51bGwgfSA6IHYpIH0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAodGFzay50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdidWlsZCc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGJ1aWxkaW5nVHlwZSwgcG9zaXRpb24gfSA9IHRhc2sucGF5bG9hZCE7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVpbGRpbmdJbmZvID0gYnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSBidWlsZGluZ1R5cGUpITtcbiAgICAgICAgICAgICAgICBjb25zdCBbbmFtZV0gPSBnZXRSYW5kb21OYW1lcygnYnVpbGRpbmcnLCAxKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdCdWlsZGluZzogQnVpbGRpbmdJbnN0YW5jZSA9IHsgaWQ6IHRhc2suaWQsIG5hbWUsIHBvc2l0aW9uOiBwb3NpdGlvbiEsIGN1cnJlbnRIcDogYnVpbGRpbmdJbmZvLmhwIH07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgc2V0QnVpbGRpbmdzKHAgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50QnVpbGRpbmdzID0gcFtidWlsZGluZ1R5cGUgYXMgc3RyaW5nXSB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4ucCwgW2J1aWxkaW5nVHlwZSBhcyBzdHJpbmddOiBbLi4uY3VycmVudEJ1aWxkaW5ncywgbmV3QnVpbGRpbmddIH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgYWRkVG9Mb2coYCR7dGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEubGVuZ3RofSBidWlsZGVyKHMpIGhhdmUgY29uc3RydWN0ZWQgJHtuYW1lfSwgYSBuZXcgJHtidWlsZGluZ0luZm8ubmFtZX0uYCwgYnVpbGRpbmdJbmZvLmljb25JZCk7XG4gICAgICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYENvbnN0cnVjdGlvbiBvZiAke25hbWV9IGlzIGNvbXBsZXRlLmApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAndXBncmFkZV9idWlsZGluZyc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG9yaWdpbmFsQnVpbGRpbmdJZCwgb3JpZ2luYWxCdWlsZGluZ1R5cGUsIHRhcmdldEJ1aWxkaW5nVHlwZSB9ID0gdGFzay5wYXlsb2FkITtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbEJ1aWxkaW5nID0gYnVpbGRpbmdzW29yaWdpbmFsQnVpbGRpbmdUeXBlIGFzIHN0cmluZ10/LmZpbmQoYiA9PiBiLmlkID09PSBvcmlnaW5hbEJ1aWxkaW5nSWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldEJ1aWxkaW5nSW5mbyA9IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gdGFyZ2V0QnVpbGRpbmdUeXBlKTtcblxuICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbEJ1aWxkaW5nICYmIHRhcmdldEJ1aWxkaW5nSW5mbykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdCdWlsZGluZzogQnVpbGRpbmdJbnN0YW5jZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBvcmlnaW5hbEJ1aWxkaW5nLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogb3JpZ2luYWxCdWlsZGluZy5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IG9yaWdpbmFsQnVpbGRpbmcucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50SHA6IHRhcmdldEJ1aWxkaW5nSW5mby5ocCxcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBzZXRCdWlsZGluZ3MocCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdCdWlsZGluZ3MgPSB7IC4uLnAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0J1aWxkaW5nc1tvcmlnaW5hbEJ1aWxkaW5nVHlwZSBhcyBzdHJpbmddID0gKG5ld0J1aWxkaW5nc1tvcmlnaW5hbEJ1aWxkaW5nVHlwZSBhcyBzdHJpbmddIHx8IFtdKS5maWx0ZXIoYiA9PiBiLmlkICE9PSBvcmlnaW5hbEJ1aWxkaW5nSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3QnVpbGRpbmdzW3RhcmdldEJ1aWxkaW5nVHlwZSBhcyBzdHJpbmddID0gWy4uLihuZXdCdWlsZGluZ3NbdGFyZ2V0QnVpbGRpbmdUeXBlIGFzIHN0cmluZ10gfHwgW10pLCBuZXdCdWlsZGluZ107XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3QnVpbGRpbmdzO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgIGFkZFRvTG9nKGAke29yaWdpbmFsQnVpbGRpbmcubmFtZX0gaGFzIGJlZW4gdXBncmFkZWQgdG8gYSAke3RhcmdldEJ1aWxkaW5nSW5mby5uYW1lfSFgLCB0YXJnZXRCdWlsZGluZ0luZm8uaWNvbklkKTtcbiAgICAgICAgICAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBVcGdyYWRlIHRvICR7dGFyZ2V0QnVpbGRpbmdJbmZvLm5hbWV9IGNvbXBsZXRlLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2dhdGhlcic6IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndHJhaW5fdmlsbGFnZXInOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBjb3VudCB9ID0gdGFzay5wYXlsb2FkITtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdWaWxsYWdlck5hbWVzID0gZ2V0UmFuZG9tTmFtZXMoJ3ZpbGxhZ2VyJywgY291bnQhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdWaWxsYWdlcnM6IFZpbGxhZ2VyW10gPSBuZXdWaWxsYWdlck5hbWVzLm1hcChuYW1lID0+ICh7IGlkOiBgJHtEYXRlLm5vdygpfS0ke25hbWV9YCwgbmFtZSwgY3VycmVudFRhc2s6IG51bGwgfSkpO1xuICAgICAgICAgICAgICAgIHNldFVuaXRzKHAgPT4gKHsgLi4ucCwgdmlsbGFnZXJzOiBbLi4ucC52aWxsYWdlcnMsIC4uLm5ld1ZpbGxhZ2Vyc10gfSkpO1xuICAgICAgICAgICAgICAgIGFkZFRvTG9nKGAke2NvdW50fSBuZXcgdmlsbGFnZXIocykgaGF2ZSBqb2luZWQgeW91ciBzZXR0bGVtZW50LmAsICd2aWxsYWdlcicpO1xuICAgICAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGAke2NvdW50fSBuZXcgdmlsbGFnZXIocykgYXJlIHJlYWR5IHRvIHdvcmsuYCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICd0cmFpbl9taWxpdGFyeSc6IHtcbiAgICAgICAgICAgICAgICAgY29uc3QgeyB1bml0VHlwZSwgY291bnQgfSA9IHRhc2sucGF5bG9hZCE7XG4gICAgICAgICAgICAgICAgIGNvbnN0IHVuaXRJbmZvID0gdW5pdExpc3QuZmluZCh1ID0+IHUuaWQgPT09IHVuaXRUeXBlKSE7XG4gICAgICAgICAgICAgICAgIGNvbnN0IG5ld1VuaXROYW1lcyA9IGdldFJhbmRvbU5hbWVzKCdzb2xkaWVyJywgY291bnQhKTtcbiAgICAgICAgICAgICAgICAgY29uc3QgbmV3VW5pdHM6IE1pbGl0YXJ5VW5pdFtdID0gbmV3VW5pdE5hbWVzLm1hcChuYW1lID0+ICh7IGlkOiBgJHtEYXRlLm5vdygpfS0ke3VuaXRUeXBlfS0ke25hbWV9YCwgbmFtZSwgdGl0bGU6ICcnLCB1bml0VHlwZTogdW5pdFR5cGUhIH0pKTtcbiAgICAgICAgICAgICAgICAgc2V0VW5pdHMocCA9PiAoeyAuLi5wLCBtaWxpdGFyeTogWy4uLnAubWlsaXRhcnksIC4uLm5ld1VuaXRzXSB9KSk7XG4gICAgICAgICAgICAgICAgIGFkZFRvTG9nKGAke2NvdW50fSAke3VuaXRJbmZvLm5hbWV9KHMpIGhhdmUgYmVlbiB0cmFpbmVkLmAsIHVuaXRUeXBlISk7XG4gICAgICAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGAke2NvdW50fSBuZXcgJHt1bml0SW5mby5uYW1lfShzKSBhcmUgcmVhZHkgZm9yIGJhdHRsZS5gKTtcbiAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdhZHZhbmNlX2FnZSc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVBZ2VzID0gbWFzdGVyQWdlTGlzdC5maWx0ZXIoYSA9PiBhLmlzQWN0aXZlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50SW5kZXggPSBhY3RpdmVBZ2VzLmZpbmRJbmRleChhZ2UgPT4gYWdlLm5hbWUgPT09IGN1cnJlbnRBZ2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFnZVJlc3VsdCA9IGFjdGl2ZUFnZXNbY3VycmVudEluZGV4ICsgMV0gfHwgeyBuYW1lOiAnQWdlIG9mIExlZ2VuZHMnLCBkZXNjcmlwdGlvbjogJ1lvdXIgY2l2aWxpemF0aW9uIHRyYW5zY2VuZHMgaGlzdG9yeSBhbmQgYmVjb21lcyBhIGxlZ2VuZC4nfTtcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50QWdlKGFnZVJlc3VsdC5uYW1lKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhgWW91IGhhdmUgYWR2YW5jZWQgdG8gdGhlICR7YWdlUmVzdWx0Lm5hbWV9IWAsICdhZ2UnKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhhZ2VSZXN1bHQuZGVzY3JpcHRpb24sICdhZ2UnKTtcbiAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgV2VsY29tZSB0byB0aGUgJHthZ2VSZXN1bHQubmFtZX0hYCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBbY3VycmVudEFnZSwgYWRkVG9Mb2csIGJ1aWxkaW5nTGlzdCwgdW5pdExpc3QsIG1hc3RlckFnZUxpc3QsIGJ1aWxkaW5nc10pO1xuICAgIFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChnYW1lU3RhdGUgIT09IEdhbWVTdGF0dXMuUExBWUlORykge1xuICAgICAgICAgICAgaWYgKGFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQpIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZ2FtZUxvb3AgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgY29uc3QgZGVsdGFUaW1lID0gbm93IC0gbGFzdFRpY2tSZWYuY3VycmVudDtcbiAgICAgICAgICAgIGxhc3RUaWNrUmVmLmN1cnJlbnQgPSBub3c7XG5cbiAgICAgICAgICAgIGxldCBjb21wbGV0ZWRUYXNrczogR2FtZVRhc2tbXSA9IFtdO1xuICAgICAgICAgICAgbGV0IHJlc291cmNlRGVsdGFzVGhpc1RpY2s6IFJlc291cmNlRGVsdGFzID0ge307XG5cbiAgICAgICAgICAgIC8vIC0tLSBQYXNzaXZlIEdlbmVyYXRpb24gYW5kIE1haW50ZW5hbmNlIC0tLVxuICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyhidWlsZGluZ3MpLmZsYXQoKS5mb3JFYWNoKGluc3RhbmNlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb25maWcgPSBtYXN0ZXJCdWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IE9iamVjdC5rZXlzKGJ1aWxkaW5ncykuZmluZChrZXkgPT4gYnVpbGRpbmdzW2tleSBhcyBzdHJpbmddLnNvbWUoYkluc3QgPT4gYkluc3QuaWQgPT09IGluc3RhbmNlLmlkKSkpO1xuICAgICAgICAgICAgICAgIGlmICghY29uZmlnKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAvLyBQYXNzaXZlIEdlbmVyYXRpb25cbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmdlbmVyYXRlc1Jlc291cmNlICYmIGNvbmZpZy5nZW5lcmF0ZXNSZXNvdXJjZSAhPT0gJ25vbmUnICYmIGNvbmZpZy5nZW5lcmF0aW9uUmF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbW91bnRQZXJTZWNvbmQgPSBjb25maWcuZ2VuZXJhdGlvblJhdGUgLyA2MDtcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VEZWx0YXNUaGlzVGlja1tjb25maWcuZ2VuZXJhdGVzUmVzb3VyY2VdID0gKHJlc291cmNlRGVsdGFzVGhpc1RpY2tbY29uZmlnLmdlbmVyYXRlc1Jlc291cmNlXSB8fCAwKSArIChhbW91bnRQZXJTZWNvbmQgLyAxMDAwKSAqIGRlbHRhVGltZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBNYWludGVuYW5jZSBDb3N0c1xuICAgICAgICAgICAgICAgIGlmIChjb25maWcubWFpbnRlbmFuY2VDb3N0KSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGNvbmZpZy5tYWludGVuYW5jZUNvc3QpLmZvckVhY2goKFtyZXMsIGNvc3RdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3N0UGVyU2Vjb25kID0gKGNvc3QgfHwgMCkgLyA2MDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlRGVsdGFzVGhpc1RpY2tbcmVzIGFzIGtleW9mIFJlc291cmNlc10gPSAocmVzb3VyY2VEZWx0YXNUaGlzVGlja1tyZXMgYXMga2V5b2YgUmVzb3VyY2VzXSB8fCAwKSAtIChjb3N0UGVyU2Vjb25kIC8gMTAwMCkgKiBkZWx0YVRpbWU7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZXRBY3RpdmVCdWZmcyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdSZXNvdXJjZUJvb3N0cyA9IHByZXYucmVzb3VyY2VCb29zdD8uZmlsdGVyKGIgPT4gYi5lbmRUaW1lID4gbm93KTtcbiAgICAgICAgICAgICAgICBpZiAobmV3UmVzb3VyY2VCb29zdHM/Lmxlbmd0aCAhPT0gcHJldi5yZXNvdXJjZUJvb3N0Py5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkVG9Mb2coXCJBIHJlc291cmNlIGdhdGhlcmluZyBib251cyBoYXMgZXhwaXJlZC5cIiwgJ3N5c3RlbScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5wcmV2LCByZXNvdXJjZUJvb3N0OiBuZXdSZXNvdXJjZUJvb3N0cyB9O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHRhc2tzSW5Qcm9ncmVzcyA9IGFjdGl2ZVRhc2tzLm1hcCh0YXNrID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobm93ID49IHRhc2suc3RhcnRUaW1lICsgdGFzay5kdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRUYXNrcy5wdXNoKHRhc2spO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRhc2sudHlwZSA9PT0gJ2dhdGhlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHJlc291cmNlTm9kZXMuZmluZChuID0+IG4uaWQgPT09IHRhc2sucGF5bG9hZD8ucmVzb3VyY2VOb2RlSWQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWxsYWdlckNvdW50ID0gdGFzay5wYXlsb2FkPy52aWxsYWdlcklkcz8ubGVuZ3RoIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbm9kZSB8fCB2aWxsYWdlckNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRUYXNrcy5wdXNoKHRhc2spOyByZXR1cm4gbnVsbDsgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFzZVJhdGVQZXJTZWNvbmQgPSBHQVRIRVJfSU5GT1tub2RlLnR5cGVdLnJhdGUgKiAobm9kZS5yaWNobmVzcyB8fCAxKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNpdkJvbnVzTXVsdGlwbGllciA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaXZpbGl6YXRpb24/LmJvbnVzLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobm9kZS50eXBlLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IGNpdmlsaXphdGlvbi5ib251cy5tYXRjaCgvKFxcZCspJS8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoPy5bMV0pIGNpdkJvbnVzTXVsdGlwbGllciA9IDEgKyAocGFyc2VJbnQobWF0Y2hbMV0sIDEwKSAvIDEwMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbUJvb3N0TXVsdGlwbGllciA9IGFjdGl2ZUJ1ZmZzLnJlc291cmNlQm9vc3Q/LmZpbmQoYiA9PiBiLnJlc291cmNlID09PSBub2RlLnR5cGUpPy5tdWx0aXBsaWVyIHx8IDE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsUmF0ZVBlclNlY29uZCA9IGJhc2VSYXRlUGVyU2Vjb25kICogY2l2Qm9udXNNdWx0aXBsaWVyICogaXRlbUJvb3N0TXVsdGlwbGllcjtcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VEZWx0YXNUaGlzVGlja1tub2RlLnR5cGVdID0gKHJlc291cmNlRGVsdGFzVGhpc1RpY2tbbm9kZS50eXBlXSB8fCAwKSArIChmaW5hbFJhdGVQZXJTZWNvbmQgLyAxMDAwKSAqIGRlbHRhVGltZSAqIHZpbGxhZ2VyQ291bnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0YXNrO1xuICAgICAgICAgICAgfSkuZmlsdGVyKEJvb2xlYW4pIGFzIEdhbWVUYXNrW107XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhyZXNvdXJjZURlbHRhc1RoaXNUaWNrKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKHJlc291cmNlRGVsdGFzVGhpc1RpY2spO1xuICAgICAgICAgICAgICAgIHNldFJlc291cmNlTm9kZXMocHJldk5vZGVzID0+IHByZXZOb2Rlcy5tYXAobm9kZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudFRvRGVjcmVtZW50ID0gcmVzb3VyY2VEZWx0YXNUaGlzVGlja1tub2RlLnR5cGVdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFtb3VudFRvRGVjcmVtZW50KSByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3QW1vdW50ID0gbm9kZS5hbW91bnQgLSBhbW91bnRUb0RlY3JlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0Ftb3VudCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXNrSWQgPSBgZ2F0aGVyLSR7bm9kZS5pZH1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFzayA9IHRhc2tzSW5Qcm9ncmVzcy5maW5kKHQgPT4gdC5pZCA9PT0gdGFza0lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRhc2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRUb0xvZyhgJHt0YXNrLnBheWxvYWQ/LnZpbGxhZ2VySWRzPy5sZW5ndGggfHwgMH0gdmlsbGFnZXIocykgZGVwbGV0ZWQgYSAke25vZGUucmljaG5lc3MgPyAncmljaCAnIDogJyd9JHtub2RlLnR5cGV9IHNvdXJjZSwgZ2FpbmluZyAke01hdGguZmxvb3Iobm9kZS5hbW91bnQpfSAke25vZGUudHlwZX0uYCwgbm9kZS50eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgQSAke25vZGUucmljaG5lc3MgPyAncmljaCAnIDogJyd9JHtub2RlLnR5cGV9IHNvdXJjZSBoYXMgYmVlbiBmdWxseSBkZXBsZXRlZC5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRUYXNrcy5wdXNoKHRhc2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4ubm9kZSwgYW1vdW50OiBuZXdBbW91bnQgfTtcbiAgICAgICAgICAgICAgICB9KS5maWx0ZXIoQm9vbGVhbikgYXMgUmVzb3VyY2VOb2RlW10pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBmaW5hbEFjdGl2ZVRhc2tzID0gdGFza3NJblByb2dyZXNzLmZpbHRlcih0ID0+ICFjb21wbGV0ZWRUYXNrcy5zb21lKGN0ID0+IGN0LmlkID09PSB0LmlkKSk7XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhmaW5hbEFjdGl2ZVRhc2tzKTtcbiAgICAgICAgICAgIGlmIChjb21wbGV0ZWRUYXNrcy5sZW5ndGggPiAwKSBjb21wbGV0ZWRUYXNrcy5mb3JFYWNoKGhhbmRsZVRhc2tDb21wbGV0aW9uKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgYW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lTG9vcCk7XG4gICAgICAgIH07XG4gICAgICAgIGFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3ApO1xuICAgICAgICByZXR1cm4gKCkgPT4geyBpZiAoYW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCkgY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCk7IH07XG4gICAgfSwgW2dhbWVTdGF0ZSwgYWN0aXZlVGFza3MsIHJlc291cmNlTm9kZXMsIGhhbmRsZVRhc2tDb21wbGV0aW9uLCBhZGRUb0xvZywgdXBkYXRlUmVzb3VyY2VzLCB1bml0cy52aWxsYWdlcnMsIGNpdmlsaXphdGlvbiwgYWN0aXZlQnVmZnMsIGJ1aWxkaW5ncywgbWFzdGVyQnVpbGRpbmdMaXN0XSk7XG5cbiAgICBjb25zdCBoYW5kbGVOZXdFdmVudCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKCFjaXZpbGl6YXRpb24gfHwgY3VycmVudEV2ZW50KSByZXR1cm47XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gZ2V0UHJlZGVmaW5lZEdhbWVFdmVudCgpO1xuICAgICAgICBzZXRDdXJyZW50RXZlbnQoZXZlbnQpO1xuICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cygnQSBuZXcgZXZlbnQgcmVxdWlyZXMgeW91ciBhdHRlbnRpb24hJyk7XG4gICAgfSwgW2NpdmlsaXphdGlvbiwgY3VycmVudEV2ZW50XSk7XG4gICAgXG4gICAgY29uc3Qgc2NoZWR1bGVOZXh0RXZlbnQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmIChldmVudFRpbWVyUmVmLmN1cnJlbnQpIGNsZWFyVGltZW91dChldmVudFRpbWVyUmVmLmN1cnJlbnQpO1xuICAgICAgICBldmVudFRpbWVyUmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IGhhbmRsZU5ld0V2ZW50KCksICgxMCArIE1hdGgucmFuZG9tKCkgKiAxNSkgKiAxMDAwKTtcbiAgICB9LCBbaGFuZGxlTmV3RXZlbnRdKTtcblxuICAgIGNvbnN0IGdlbmVyYXRlUmVzb3VyY2VOb2RlcyA9IChzdGFydFBvc2l0aW9uOiB7IHg6IG51bWJlciwgeTogbnVtYmVyIH0pOiBSZXNvdXJjZU5vZGVbXSA9PiB7XG4gICAgICAgIGNvbnN0IG5vZGVzOiBSZXNvdXJjZU5vZGVbXSA9IFtdO1xuICAgICAgICBjb25zdCBvY2N1cGllZENlbGxzID0gbmV3IFNldDxzdHJpbmc+KFtgJHtzdGFydFBvc2l0aW9uLnh9LCR7c3RhcnRQb3NpdGlvbi55fWBdKTtcbiAgICAgICAgY29uc3QgU0FGRV9SQURJVVMgPSA1O1xuICAgICAgICBjb25zdCBSSUNIX0NIQU5DRSA9IDAuMTU7IC8vIDE1JSBjaGFuY2UgZm9yIGEgbm9kZSB0byBiZSByaWNoXG5cbiAgICAgICAgY29uc3QgcGxhY2VOb2RlID0gKHR5cGU6IFJlc291cmNlTm9kZVR5cGUsIGFtb3VudDogbnVtYmVyLCByaWNobmVzcz86IG51bWJlciwgcHJlZmVyQ29udGVzdGVkID0gZmFsc2UpID0+IHtcbiAgICAgICAgICAgIGxldCBwbGFjZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHsgLy8gTWF4IDEwMCBhdHRlbXB0cyB0byBwbGFjZSBhIG5vZGVcbiAgICAgICAgICAgICAgICBjb25zdCBhbmdsZSA9IE1hdGgucmFuZG9tKCkgKiAyICogTWF0aC5QSTtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IHByZWZlckNvbnRlc3RlZCBcbiAgICAgICAgICAgICAgICAgICAgPyBTQUZFX1JBRElVUyArIE1hdGgucmFuZG9tKCkgKiAoTWF0aC5taW4oTUFQX0RJTUVOU0lPTlMud2lkdGgsIE1BUF9ESU1FTlNJT05TLmhlaWdodCkgLyAyIC0gU0FGRV9SQURJVVMpXG4gICAgICAgICAgICAgICAgICAgIDogTWF0aC5yYW5kb20oKSAqIFNBRkVfUkFESVVTO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IHggPSBNYXRoLnJvdW5kKHN0YXJ0UG9zaXRpb24ueCArIE1hdGguY29zKGFuZ2xlKSAqIGRpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gTWF0aC5yb3VuZChzdGFydFBvc2l0aW9uLnkgKyBNYXRoLnNpbihhbmdsZSkgKiBkaXN0YW5jZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoeCA+PSAwICYmIHggPCBNQVBfRElNRU5TSU9OUy53aWR0aCAmJiB5ID49IDAgJiYgeSA8IE1BUF9ESU1FTlNJT05TLmhlaWdodCAmJiAhb2NjdXBpZWRDZWxscy5oYXMoYCR7eH0sJHt5fWApKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVzLnB1c2goeyBpZDogYCR7RGF0ZS5ub3coKX0tbm9kZS0ke25vZGVzLmxlbmd0aH1gLCB0eXBlLCBwb3NpdGlvbjoge3gseX0sIGFtb3VudCwgcmljaG5lc3MgfSk7XG4gICAgICAgICAgICAgICAgICAgIG9jY3VwaWVkQ2VsbHMuYWRkKGAke3h9LCR7eX1gKTtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBsYWNlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEd1YXJhbnRlZWQgc3RhcnRpbmcgcmVzb3VyY2VzXG4gICAgICAgIHBsYWNlTm9kZSgnZm9vZCcsIDEwMDApO1xuICAgICAgICBwbGFjZU5vZGUoJ2Zvb2QnLCAxMDAwKTtcbiAgICAgICAgcGxhY2VOb2RlKCd3b29kJywgMTUwMCk7XG4gICAgICAgIHBsYWNlTm9kZSgnd29vZCcsIDE1MDApO1xuICAgICAgICBwbGFjZU5vZGUoJ3dvb2QnLCAxNTAwKTtcbiAgICAgICAgcGxhY2VOb2RlKCdzdG9uZScsIDgwMCk7XG5cbiAgICAgICAgLy8gQ29udGVzdGVkIHJlc291cmNlc1xuICAgICAgICBwbGFjZU5vZGUoJ2dvbGQnLCAxMjAwLCBNYXRoLnJhbmRvbSgpIDwgUklDSF9DSEFOQ0UgPyAyIDogMSwgdHJ1ZSk7XG4gICAgICAgIHBsYWNlTm9kZSgnZ29sZCcsIDEyMDAsIE1hdGgucmFuZG9tKCkgPCBSSUNIX0NIQU5DRSA/IDIgOiAxLCB0cnVlKTtcbiAgICAgICAgcGxhY2VOb2RlKCdzdG9uZScsIDEwMDAsIE1hdGgucmFuZG9tKCkgPCBSSUNIX0NIQU5DRSA/IDIgOiAxLCB0cnVlKTtcbiAgICAgICAgcGxhY2VOb2RlKCdzdG9uZScsIDEwMDAsIE1hdGgucmFuZG9tKCkgPCBSSUNIX0NIQU5DRSA/IDIgOiAxLCB0cnVlKTtcblxuICAgICAgICAvLyBSYW5kb20gZmlsbGVyIG5vZGVzXG4gICAgICAgIGNvbnN0IHRvdGFsTm9kZXMgPSAxOCArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUpO1xuICAgICAgICBjb25zdCB0eXBlczogUmVzb3VyY2VOb2RlVHlwZVtdID0gWydmb29kJywgJ3dvb2QnLCAnZ29sZCcsICdzdG9uZSddO1xuICAgICAgICB3aGlsZSAobm9kZXMubGVuZ3RoIDwgdG90YWxOb2Rlcykge1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IHR5cGVzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHR5cGVzLmxlbmd0aCldO1xuICAgICAgICAgICAgY29uc3QgaXNDb250ZXN0ZWQgPSB0eXBlID09PSAnZ29sZCcgfHwgdHlwZSA9PT0gJ3N0b25lJyB8fCBNYXRoLnJhbmRvbSgpID4gMC41O1xuICAgICAgICAgICAgcGxhY2VOb2RlKHR5cGUsIDgwMCArIE1hdGgucmFuZG9tKCkgKiAxMDAwLCBNYXRoLnJhbmRvbSgpIDwgUklDSF9DSEFOQ0UgPyAxLjUgOiAxLCBpc0NvbnRlc3RlZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9kZXM7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVN0YXJ0TmV3R2FtZSA9IGFzeW5jIChzYXZlTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmIChhbGxTYXZlcy5pbmNsdWRlcyhzYXZlTmFtZSkpIHsgYWRkTm90aWZpY2F0aW9uKGBBIHNhZ2EgbmFtZWQgXCIke3NhdmVOYW1lfVwiIGFscmVhZHkgZXhpc3RzLmApOyByZXR1cm47IH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGNvbmZpZ3MgPSBhd2FpdCBmZXRjaFNhdmVzQW5kQ29uZmlncygpO1xuICAgICAgICBzZXRHYW1lU3RhdGUoR2FtZVN0YXR1cy5MT0FESU5HKTtcbiAgICAgICAgc2V0Q3VycmVudFNhdmVOYW1lKHNhdmVOYW1lKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGxvY2FsQWdlUHJvZ3Jlc3Npb25MaXN0ID0gY29uZmlncy5hbGxBZ2VDb25maWdzLmZpbHRlcihhID0+IGEuaXNBY3RpdmUpO1xuXG4gICAgICAgIGNvbnN0IGNpdiA9IGdldFByZWRlZmluZWRDaXZpbGl6YXRpb24oKTtcbiAgICAgICAgc2V0Q2l2aWxpemF0aW9uKGNpdik7XG4gICAgICAgIHNldFJlc291cmNlcyh7IGZvb2Q6IDIwMCwgd29vZDogMTUwLCBnb2xkOiA1MCwgc3RvbmU6IDEwMCB9KTtcbiAgICAgICAgY29uc3QgaW5pdGlhbFZpbGxhZ2VycyA9IGdldFJhbmRvbU5hbWVzKCd2aWxsYWdlcicsIDMpLm1hcChuYW1lID0+ICh7IGlkOiBgJHtEYXRlLm5vdygpfS0ke25hbWV9YCwgbmFtZSwgY3VycmVudFRhc2s6IG51bGwgfSkpO1xuICAgICAgICBzZXRVbml0cyh7IHZpbGxhZ2VyczogaW5pdGlhbFZpbGxhZ2VycywgbWlsaXRhcnk6IFtdIH0pO1xuICAgICAgICBjb25zdCB0Y1Bvc2l0aW9uID0geyB4OiBNYXRoLmZsb29yKE1BUF9ESU1FTlNJT05TLndpZHRoIC8gMiksIHk6IE1hdGguZmxvb3IoTUFQX0RJTUVOU0lPTlMuaGVpZ2h0IC8gMikgfTtcbiAgICAgICAgY29uc3QgdGNJbmZvID0gY29uZmlncy5hbGxCdWlsZGluZ0NvbmZpZ3MuZmluZChiID0+IGIuaWQgPT09ICd0b3duQ2VudGVyJykhO1xuICAgICAgICBjb25zdCBpbml0aWFsVEMgPSB7IGlkOiBgJHtEYXRlLm5vdygpfS10Y2AsIG5hbWU6IGdldFJhbmRvbU5hbWVzKCdidWlsZGluZycsIDEpWzBdLCBwb3NpdGlvbjogdGNQb3NpdGlvbiwgY3VycmVudEhwOiB0Y0luZm8uaHAgfTtcbiAgICAgICAgc2V0QnVpbGRpbmdzKHsuLi5pbml0aWFsQnVpbGRpbmdzU3RhdGUsIHRvd25DZW50ZXI6IFtpbml0aWFsVENdfSk7XG4gICAgICAgIHNldFJlc291cmNlTm9kZXMoZ2VuZXJhdGVSZXNvdXJjZU5vZGVzKHRjUG9zaXRpb24pKTtcbiAgICAgICAgc2V0Q3VycmVudEFnZShsb2NhbEFnZVByb2dyZXNzaW9uTGlzdFswXT8ubmFtZSB8fCBJTklUSUFMX0FHRVNbMF0ubmFtZSk7XG4gICAgICAgIHNldEdhbWVMb2coW10pOyBzZXRDdXJyZW50RXZlbnQobnVsbCk7IHNldFVubGltaXRlZFJlc291cmNlcyhmYWxzZSk7IHNldEFjdGl2ZVRhc2tzKFtdKTsgc2V0SW52ZW50b3J5KFtdKTsgc2V0QWN0aXZlQnVmZnMoeyByZXNvdXJjZUJvb3N0OiBbXSB9KTtcbiAgICAgICAgYWRkVG9Mb2coYCR7Y2l2Lm5hbWV9IGhhcyBiZWVuIGZvdW5kZWQhYCwgJ3N5c3RlbScpO1xuICAgICAgICBhZGRUb0xvZygnWW91ciBzdG9yeSBiZWdpbnMuLi4nLCAnc3lzdGVtJyk7XG4gICAgICAgIHNldEdhbWVTdGF0ZShHYW1lU3RhdHVzLlBMQVlJTkcpO1xuICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cygnWW91ciBzZXR0bGVtZW50IGF3YWl0cyB5b3VyIGNvbW1hbmQuJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGlzVmlsbGFnZXJCdXN5ID0gdXNlQ2FsbGJhY2soKHZpbGxhZ2VySWQ6IHN0cmluZyk6IGJvb2xlYW4gPT4gISF1bml0cy52aWxsYWdlcnMuZmluZCh2ID0+IHYuaWQgPT09IHZpbGxhZ2VySWQpPy5jdXJyZW50VGFzaywgW3VuaXRzLnZpbGxhZ2Vyc10pO1xuXG4gICAgY29uc3QgZ2V0VmlsbGFnZXJUYXNrRGV0YWlscyA9IHVzZUNhbGxiYWNrKCh2aWxsYWdlcklkOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgICAgICBjb25zdCB2aWxsYWdlciA9IHVuaXRzLnZpbGxhZ2Vycy5maW5kKHYgPT4gdi5pZCA9PT0gdmlsbGFnZXJJZCk7XG4gICAgICAgIGlmICghdmlsbGFnZXI/LmN1cnJlbnRUYXNrKSByZXR1cm4gJ0lkbGUnO1xuICAgICAgICBjb25zdCB0YXNrID0gYWN0aXZlVGFza3MuZmluZCh0ID0+IHQuaWQgPT09IHZpbGxhZ2VyLmN1cnJlbnRUYXNrKTtcbiAgICAgICAgaWYgKCF0YXNrKSByZXR1cm4gJ0lkbGUgKEZpbmFsaXppbmcgVGFzayknO1xuICAgICAgICBpZiAodGFzay50eXBlID09PSAnYnVpbGQnKSByZXR1cm4gYEJ1c3k6IENvbnN0cnVjdGluZyAke2J1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gdGFzay5wYXlsb2FkIS5idWlsZGluZ1R5cGUpPy5uYW1lIHx8ICdhIGJ1aWxkaW5nJ31gO1xuICAgICAgICBpZiAodGFzay50eXBlID09PSAnZ2F0aGVyJykgcmV0dXJuIGBCdXN5OiBHYXRoZXJpbmcgJHtyZXNvdXJjZU5vZGVzLmZpbmQobiA9PiBuLmlkID09PSB0YXNrLnBheWxvYWQhLnJlc291cmNlTm9kZUlkKT8udHlwZSB8fCAncmVzb3VyY2VzJ31gO1xuICAgICAgICByZXR1cm4gJ0lkbGUnO1xuICAgIH0sIFthY3RpdmVUYXNrcywgcmVzb3VyY2VOb2RlcywgdW5pdHMudmlsbGFnZXJzLCBidWlsZGluZ0xpc3RdKTtcblxuICAgIGNvbnN0IGhhbmRsZVJlc3VtZUdhbWUgPSBhc3luYyAoc2F2ZU5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBjb25maWdzID0gYXdhaXQgZmV0Y2hTYXZlc0FuZENvbmZpZ3MoKTtcbiAgICAgICAgY29uc3Qgc2F2ZWRTdGF0ZSA9IGF3YWl0IGxvYWRHYW1lU3RhdGUoc2F2ZU5hbWUpIGFzIEZ1bGxHYW1lU3RhdGU7XG4gICAgICAgIGlmIChzYXZlZFN0YXRlKSB7XG4gICAgICAgICAgICBzZXRHYW1lU3RhdGUoR2FtZVN0YXR1cy5MT0FESU5HKTtcbiAgICAgICAgICAgIHNldEN1cnJlbnRTYXZlTmFtZShzYXZlTmFtZSk7XG4gICAgICAgICAgICBzZXRDaXZpbGl6YXRpb24oc2F2ZWRTdGF0ZS5jaXZpbGl6YXRpb24pO1xuICAgICAgICAgICAgc2V0UmVzb3VyY2VzKHNhdmVkU3RhdGUucmVzb3VyY2VzKTtcbiAgICAgICAgICAgIGNvbnN0IG1pZ3JhdGVkVmlsbGFnZXJzID0gKHNhdmVkU3RhdGUudW5pdHMudmlsbGFnZXJzIHx8IFtdKS5tYXAodiA9PiAoey4uLnYsIGN1cnJlbnRUYXNrOiB2LmN1cnJlbnRUYXNrICE9PSB1bmRlZmluZWQgPyB2LmN1cnJlbnRUYXNrIDogbnVsbH0pKTtcbiAgICAgICAgICAgIGNvbnN0IG1pZ3JhdGVkVGFza3MgPSAoc2F2ZWRTdGF0ZS5hY3RpdmVUYXNrcyB8fCBbXSkubWFwKHQgPT4gdC50eXBlID09PSAnYnVpbGQnICYmICF0LnBheWxvYWQ/LnZpbGxhZ2VySWRzID8geyAuLi50LCBwYXlsb2FkOiB7IC4uLnQucGF5bG9hZCwgdmlsbGFnZXJJZHM6IFtdIH0gfSA6IHQpO1xuICAgICAgICAgICAgbWlncmF0ZWRUYXNrcy5mb3JFYWNoKHRhc2sgPT4gdGFzay5wYXlsb2FkPy52aWxsYWdlcklkcz8uZm9yRWFjaCh2aWQgPT4geyBjb25zdCB2ID0gbWlncmF0ZWRWaWxsYWdlcnMuZmluZCh2ID0+IHYuaWQgPT09IHZpZCk7IGlmKHYpIHYuY3VycmVudFRhc2sgPSB0YXNrLmlkOyB9KSk7XG4gICAgICAgICAgICBzZXRVbml0cyh7IC4uLnNhdmVkU3RhdGUudW5pdHMsIHZpbGxhZ2VyczogbWlncmF0ZWRWaWxsYWdlcnMgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGNvbnN0cnVjdGlvblRhc2tzID0gbWlncmF0ZWRUYXNrcy5maWx0ZXIodCA9PiB0LnR5cGUgPT09ICdidWlsZCcpO1xuICAgICAgICAgICAgY29uc3Qgb2NjdXBpZWRDZWxscyA9IG5ldyBTZXQoWy4uLk9iamVjdC52YWx1ZXMoc2F2ZWRTdGF0ZS5idWlsZGluZ3MgfHwge30pLmZsYXQoKS5tYXAoKGI6IGFueSkgPT4gYCR7Yi5wb3NpdGlvbi54fSwke2IucG9zaXRpb24ueX1gKSwgLi4uY29uc3RydWN0aW9uVGFza3MubWFwKHQgPT4gYCR7dC5wYXlsb2FkIS5wb3NpdGlvbiEueH0sJHt0LnBheWxvYWQhLnBvc2l0aW9uIS55fWApXSk7XG4gICAgICAgICAgICBsZXQgZmluYWxCdWlsZGluZ3MgPSB7IC4uLmluaXRpYWxCdWlsZGluZ3NTdGF0ZSwgLi4uKHNhdmVkU3RhdGUuYnVpbGRpbmdzIHx8IHt9KSB9O1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoZmluYWxCdWlsZGluZ3MpLmZvckVhY2goYlR5cGUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZm8gPSBjb25maWdzLmFsbEJ1aWxkaW5nQ29uZmlncy5maW5kKGIgPT4gYi5pZCA9PT0gYlR5cGUpO1xuICAgICAgICAgICAgICAgIGlmKGluZm8pIGZpbmFsQnVpbGRpbmdzW2JUeXBlXSA9IGZpbmFsQnVpbGRpbmdzW2JUeXBlXS5tYXAoYiA9PiAoeyAuLi5iLCBjdXJyZW50SHA6IGIuY3VycmVudEhwID09PSB1bmRlZmluZWQgPyBpbmZvLmhwIDogYi5jdXJyZW50SHAgfSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsZXQgdGNQb3NpdGlvbiA9IHsgeDogMTAsIHk6IDUgfTtcbiAgICAgICAgICAgIGlmICghZmluYWxCdWlsZGluZ3MudG93bkNlbnRlciB8fCBmaW5hbEJ1aWxkaW5ncy50b3duQ2VudGVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICB3aGlsZSAob2NjdXBpZWRDZWxscy5oYXMoYCR7dGNQb3NpdGlvbi54fSwke3RjUG9zaXRpb24ueX1gKSkgeyB0Y1Bvc2l0aW9uLngrKzsgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHRjSW5mbyA9IGNvbmZpZ3MuYWxsQnVpbGRpbmdDb25maWdzLmZpbmQoYiA9PiBiLmlkID09PSAndG93bkNlbnRlcicpITtcbiAgICAgICAgICAgICAgICBmaW5hbEJ1aWxkaW5ncy50b3duQ2VudGVyID0gW3sgaWQ6IGAke0RhdGUubm93KCl9LXRjYCwgbmFtZTogZ2V0UmFuZG9tTmFtZXMoJ2J1aWxkaW5nJywgMSlbMF0sIHBvc2l0aW9uOiB0Y1Bvc2l0aW9uLCBjdXJyZW50SHA6IHRjSW5mby5ocCB9XTtcbiAgICAgICAgICAgICAgICBvY2N1cGllZENlbGxzLmFkZChgJHt0Y1Bvc2l0aW9uLnh9LCR7dGNQb3NpdGlvbi55fWApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0Y1Bvc2l0aW9uID0gZmluYWxCdWlsZGluZ3MudG93bkNlbnRlclswXS5wb3NpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldEJ1aWxkaW5ncyhmaW5hbEJ1aWxkaW5ncyk7XG5cbiAgICAgICAgICAgIHNldFJlc291cmNlTm9kZXMoKHNhdmVkU3RhdGUucmVzb3VyY2VOb2RlcyB8fCBbXSkubGVuZ3RoID09PSAwID8gZ2VuZXJhdGVSZXNvdXJjZU5vZGVzKHRjUG9zaXRpb24pIDogKHNhdmVkU3RhdGUucmVzb3VyY2VOb2RlcyB8fCBbXSkpO1xuICAgICAgICAgICAgc2V0Q3VycmVudEFnZShzYXZlZFN0YXRlLmN1cnJlbnRBZ2UpOyBzZXRHYW1lTG9nKHNhdmVkU3RhdGUuZ2FtZUxvZyk7IHNldEFjdGl2ZVRhc2tzKG1pZ3JhdGVkVGFza3MpO1xuICAgICAgICAgICAgc2V0SW52ZW50b3J5KHNhdmVkU3RhdGUuaW52ZW50b3J5IHx8IFtdKTsgc2V0QWN0aXZlQnVmZnMoc2F2ZWRTdGF0ZS5hY3RpdmVCdWZmcyB8fCB7IHJlc291cmNlQm9vc3Q6IFtdIH0pO1xuICAgICAgICAgICAgc2V0Q3VycmVudEV2ZW50KG51bGwpOyBzZXRBY3Rpdml0eVN0YXR1cygnV2VsY29tZSBiYWNrIHRvIHlvdXIgc2FnYS4nKTtcbiAgICAgICAgICAgIHNldEdhbWVTdGF0ZShHYW1lU3RhdHVzLlBMQVlJTkcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKGBDb3VsZCBub3QgZmluZCBhIHNhdmVkIGdhbWUgbmFtZWQgXCIke3NhdmVOYW1lfVwiLmApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChnYW1lU3RhdGUgIT09IEdhbWVTdGF0dXMuUExBWUlORykgcmV0dXJuO1xuICAgICAgICBpZiAoIWN1cnJlbnRFdmVudCkgc2NoZWR1bGVOZXh0RXZlbnQoKTtcbiAgICAgICAgZWxzZSBpZiAoZXZlbnRUaW1lclJlZi5jdXJyZW50KSBjbGVhclRpbWVvdXQoZXZlbnRUaW1lclJlZi5jdXJyZW50KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHsgaWYgKGV2ZW50VGltZXJSZWYuY3VycmVudCkgY2xlYXJUaW1lb3V0KGV2ZW50VGltZXJSZWYuY3VycmVudCk7IH07XG4gICAgfSwgW2dhbWVTdGF0ZSwgY3VycmVudEV2ZW50LCBzY2hlZHVsZU5leHRFdmVudF0pO1xuXG4gICAgY29uc3QgaGFuZGxlRXZlbnRDaG9pY2UgPSAoY2hvaWNlOiBHYW1lRXZlbnRDaG9pY2UpID0+IHtcbiAgICAgICAgaWYgKGNob2ljZS5jb3N0KSB7XG4gICAgICAgICAgICBjb25zdCBtaXNzaW5nID0gKE9iamVjdC5rZXlzKGNob2ljZS5jb3N0KSBhcyAoa2V5b2YgUmVzb3VyY2VzKVtdKS5maWx0ZXIocmVzID0+IHJlc291cmNlc1tyZXNdIDwgKGNob2ljZS5jb3N0IVtyZXNdIHx8IDApKTtcbiAgICAgICAgICAgIGlmIChtaXNzaW5nLmxlbmd0aCA+IDApIHsgYWRkTm90aWZpY2F0aW9uKGBZb3UgbGFjayB0aGUgcmVxdWlyZWQgcmVzb3VyY2VzOiAke21pc3Npbmcuam9pbignLCAnKX0uYCk7IHJldHVybjsgfVxuICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKE9iamVjdC5lbnRyaWVzKGNob2ljZS5jb3N0KS5yZWR1Y2UoKGFjYywgW2ssIHZdKSA9PiAoey4uLmFjYywgW2tdOiAtdn0pLCB7fSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzU3VjY2VzcyA9IGNob2ljZS5zdWNjZXNzQ2hhbmNlID09PSB1bmRlZmluZWQgfHwgTWF0aC5yYW5kb20oKSA8IGNob2ljZS5zdWNjZXNzQ2hhbmNlO1xuICAgICAgICBjb25zdCBlZmZlY3RzID0gaXNTdWNjZXNzID8gY2hvaWNlLnN1Y2Nlc3NFZmZlY3RzIDogY2hvaWNlLmZhaWx1cmVFZmZlY3RzO1xuICAgICAgICBpZiAoIWVmZmVjdHMpIHsgc2V0Q3VycmVudEV2ZW50KG51bGwpOyBzY2hlZHVsZU5leHRFdmVudCgpOyByZXR1cm47IH1cblxuICAgICAgICBsZXQgbG9nTWVzc2FnZSA9IGBEZWNpc2lvbjogXCIke2Nob2ljZS50ZXh0fVwiLiBPdXRjb21lOiAke2lzU3VjY2VzcyA/ICdTdWNjZXNzJyA6ICdGYWlsdXJlJ30uICR7ZWZmZWN0cy5sb2d9YDtcbiAgICAgICAgZWZmZWN0cy5yZXdhcmRzLmZvckVhY2goKHJld2FyZDogUmV3YXJkKSA9PiB7XG4gICAgICAgICAgICBpZiAocmV3YXJkLnR5cGUgPT09ICdyZXNvdXJjZScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbW91bnQgPSBBcnJheS5pc0FycmF5KHJld2FyZC5hbW91bnQpID8gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHJld2FyZC5hbW91bnRbMV0gLSByZXdhcmQuYW1vdW50WzBdICsgMSkpICsgcmV3YXJkLmFtb3VudFswXSA6IHJld2FyZC5hbW91bnQ7XG4gICAgICAgICAgICAgICAgaWYgKGFtb3VudCAhPT0gMCkgeyB1cGRhdGVSZXNvdXJjZXMoeyBbcmV3YXJkLnJlc291cmNlXTogYW1vdW50IH0pOyBsb2dNZXNzYWdlICs9IGAgWW91ICR7YW1vdW50ID4gMCA/ICdnYWluZWQnIDogJ2xvc3QnfSAke01hdGguYWJzKGFtb3VudCl9ICR7cmV3YXJkLnJlc291cmNlfS5gOyB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJld2FyZC50eXBlID09PSAnaXRlbScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtSW5mbyA9IEdBTUVfSVRFTVNbcmV3YXJkLml0ZW1JZF07XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1JbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW1zID0gQXJyYXkuZnJvbSh7bGVuZ3RoOiByZXdhcmQuYW1vdW50fSwgKF8sIGkpID0+ICh7IC4uLml0ZW1JbmZvLCBpZDogYCR7cmV3YXJkLml0ZW1JZH0tJHtEYXRlLm5vdygpfS0ke2l9YCB9KSk7XG4gICAgICAgICAgICAgICAgICAgIHNldEludmVudG9yeShwcmV2ID0+IFsuLi5wcmV2LCAuLi5uZXdJdGVtc10pO1xuICAgICAgICAgICAgICAgICAgICBsb2dNZXNzYWdlICs9IGAgWW91IHJlY2VpdmVkICR7cmV3YXJkLmFtb3VudH14ICR7aXRlbUluZm8ubmFtZX0hYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJld2FyZC50eXBlID09PSAndW5pdCcgJiYgcmV3YXJkLnVuaXRUeXBlID09PSAndmlsbGFnZXInKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VmlsbGFnZXJzID0gZ2V0UmFuZG9tTmFtZXMoJ3ZpbGxhZ2VyJywgcmV3YXJkLmFtb3VudCkubWFwKG5hbWUgPT4gKHsgaWQ6IGAke0RhdGUubm93KCl9LSR7bmFtZX1gLCBuYW1lLCBjdXJyZW50VGFzazogbnVsbCB9KSk7XG4gICAgICAgICAgICAgICAgc2V0VW5pdHMocCA9PiAoeyAuLi5wLCB2aWxsYWdlcnM6IFsuLi5wLnZpbGxhZ2VycywgLi4ubmV3VmlsbGFnZXJzXSB9KSk7XG4gICAgICAgICAgICAgICAgbG9nTWVzc2FnZSArPSBgIFlvdSBnYWluZWQgJHtyZXdhcmQuYW1vdW50fSB2aWxsYWdlcihzKS5gO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXdhcmQudHlwZSA9PT0gJ2J1aWxkaW5nJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gcmV3YXJkLmJ1aWxkaW5nSWQpO1xuICAgICAgICAgICAgICAgIGlmIChidWlsZGluZ0luZm8pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2NjdXBpZWRDZWxscyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QudmFsdWVzKGJ1aWxkaW5ncykuZmxhdCgpLmZvckVhY2goYiA9PiBvY2N1cGllZENlbGxzLmFkZChgJHtiLnBvc2l0aW9uLnh9LCR7Yi5wb3NpdGlvbi55fWApKTtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlVGFza3MuZmlsdGVyKHQgPT4gdC50eXBlID09PSAnYnVpbGQnKS5mb3JFYWNoKHQgPT4gdC5wYXlsb2FkPy5wb3NpdGlvbiAmJiBvY2N1cGllZENlbGxzLmFkZChgJHt0LnBheWxvYWQucG9zaXRpb24ueH0sJHt0LnBheWxvYWQucG9zaXRpb24ueX1gKSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlTm9kZXMuZm9yRWFjaChuID0+IG9jY3VwaWVkQ2VsbHMuYWRkKGAke24ucG9zaXRpb24ueH0sJHtuLnBvc2l0aW9uLnl9YCkpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBsYWNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE1BUF9ESU1FTlNJT05TLndpZHRoICogTUFQX0RJTUVOU0lPTlMuaGVpZ2h0OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNQVBfRElNRU5TSU9OUy53aWR0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTUFQX0RJTUVOU0lPTlMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb2NjdXBpZWRDZWxscy5oYXMoYCR7eH0sJHt5fWApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgW25hbWVdID0gZ2V0UmFuZG9tTmFtZXMoJ2J1aWxkaW5nJywgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3QnVpbGRpbmc6IEJ1aWxkaW5nSW5zdGFuY2UgPSB7IGlkOiBgcmV3YXJkLSR7RGF0ZS5ub3coKX1gLCBuYW1lLCBwb3NpdGlvbjoge3gseX0sIGN1cnJlbnRIcDogYnVpbGRpbmdJbmZvLmhwIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QnVpbGRpbmdzKHAgPT4gKHsgLi4ucCwgW3Jld2FyZC5idWlsZGluZ0lkIGFzIHN0cmluZ106IFsuLi4ocFtyZXdhcmQuYnVpbGRpbmdJZCBhcyBzdHJpbmddIHx8IFtdKSwgbmV3QnVpbGRpbmddfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ01lc3NhZ2UgKz0gYCBZb3Ugd2VyZSBnaWZ0ZWQgYSBuZXcgJHtidWlsZGluZ0luZm8ubmFtZX0hYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghcGxhY2VkKSBsb2dNZXNzYWdlICs9IGAgWW91IHdlcmUgdG8gYmUgZ2lmdGVkIGEgJHtidWlsZGluZ0luZm8ubmFtZX0sIGJ1dCB0aGVyZSB3YXMgbm8gcm9vbSB0byBidWlsZCBpdCFgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBhZGRUb0xvZyhsb2dNZXNzYWdlLCAnZXZlbnQnKTsgc2V0QWN0aXZpdHlTdGF0dXMoZWZmZWN0cy5sb2cpOyBzZXRDdXJyZW50RXZlbnQobnVsbCk7IHNjaGVkdWxlTmV4dEV2ZW50KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUluaXRpYXRlQnVpbGQgPSAodmlsbGFnZXJJZDogc3RyaW5nLCByZWN0OiBET01SZWN0KSA9PiB7XG4gICAgICAgIGlmIChpc1ZpbGxhZ2VyQnVzeSh2aWxsYWdlcklkKSkgeyBhZGROb3RpZmljYXRpb24oXCJUaGlzIHZpbGxhZ2VyIGlzIGFscmVhZHkgYnVzeS5cIik7IHJldHVybjsgfVxuICAgICAgICBzZXRCdWlsZFBhbmVsU3RhdGUoeyBpc09wZW46IHRydWUsIHZpbGxhZ2VySWQsIGFuY2hvclJlY3Q6IHJlY3QgfSk7XG4gICAgICAgIHNldFVuaXRNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgaGFuZGxlU3RhcnRQbGFjZW1lbnQgPSAoYnVpbGRpbmdJZDogQnVpbGRpbmdUeXBlIHwgc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IHZpbGxhZ2VySWQgPSBidWlsZFBhbmVsU3RhdGUudmlsbGFnZXJJZDsgaWYgKCF2aWxsYWdlcklkKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gYnVpbGRpbmdJZCk7IGlmICghYnVpbGRpbmdJbmZvKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgZXhpc3RpbmdDb3VudCA9IGJ1aWxkaW5nc1tidWlsZGluZ0luZm8uaWQgYXMgc3RyaW5nXT8ubGVuZ3RoIHx8IDA7XG4gICAgICAgIGNvbnN0IGNvbnN0cnVjdGluZ0NvdW50ID0gYWN0aXZlVGFza3MuZmlsdGVyKHQgPT4gdC50eXBlID09PSAnYnVpbGQnICYmIHQucGF5bG9hZD8uYnVpbGRpbmdUeXBlID09PSBidWlsZGluZ0luZm8uaWQpLmxlbmd0aDtcbiAgICAgICAgY29uc3QgdG90YWxDb3VudCA9IGV4aXN0aW5nQ291bnQgKyBjb25zdHJ1Y3RpbmdDb3VudDtcbiAgICAgICAgY29uc3QgbGltaXQgPSBidWlsZGluZ0luZm8uYnVpbGRMaW1pdCB8fCAwO1xuXG4gICAgICAgIGlmIChsaW1pdCA+IDAgJiYgdG90YWxDb3VudCA+PSBsaW1pdCkge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKGBZb3UgaGF2ZSByZWFjaGVkIHRoZSBidWlsZCBsaW1pdCBmb3IgJHtidWlsZGluZ0luZm8ubmFtZX0gKCR7bGltaXR9KS5gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1pc3NpbmcgPSB1bmxpbWl0ZWRSZXNvdXJjZXMgPyBbXSA6IChPYmplY3Qua2V5cyhidWlsZGluZ0luZm8uY29zdCkgYXMgKGtleW9mIFJlc291cmNlcylbXSkuZmlsdGVyKHJlcyA9PiByZXNvdXJjZXNbcmVzXSA8IChidWlsZGluZ0luZm8uY29zdFtyZXNdIHx8IDApKTtcbiAgICAgICAgaWYgKG1pc3NpbmcubGVuZ3RoID4gMCkgeyBhZGROb3RpZmljYXRpb24oYE5lZWQgbW9yZSAke21pc3Npbmcuam9pbignLCAnKX0uYCk7IHJldHVybjsgfVxuICAgICAgICBcbiAgICAgICAgc2V0UGxheWVyQWN0aW9uKHsgbW9kZTogJ2J1aWxkJywgYnVpbGRpbmdUeXBlOiBidWlsZGluZ0lkLCB2aWxsYWdlcklkIH0pO1xuICAgICAgICBzZXRCdWlsZFBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCB2aWxsYWdlcklkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgU2VsZWN0IGEgbG9jYXRpb24gdG8gYnVpbGQgYSAke2J1aWxkaW5nSW5mby5uYW1lfS4gUmlnaHQtY2xpY2sgdG8gY2FuY2VsLmApO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVDb25maXJtUGxhY2VtZW50ID0gKHBvc2l0aW9uOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0pID0+IHtcbiAgICAgICAgaWYgKHBsYXllckFjdGlvbj8ubW9kZSAhPT0gJ2J1aWxkJykgcmV0dXJuO1xuICAgICAgICBjb25zdCB7IGJ1aWxkaW5nVHlwZSwgdmlsbGFnZXJJZCB9ID0gcGxheWVyQWN0aW9uO1xuICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IGJ1aWxkaW5nVHlwZSk7XG4gICAgICAgIGNvbnN0IGJ1aWxkZXIgPSB1bml0cy52aWxsYWdlcnMuZmluZCh2ID0+IHYuaWQgPT09IHZpbGxhZ2VySWQpO1xuICAgICAgICBpZiAoIWJ1aWxkaW5nSW5mbyB8fCAhYnVpbGRlcikgcmV0dXJuO1xuICAgICAgICBpZiAoIXVubGltaXRlZFJlc291cmNlcykgdXBkYXRlUmVzb3VyY2VzKE9iamVjdC5lbnRyaWVzKGJ1aWxkaW5nSW5mby5jb3N0KS5yZWR1Y2UoKGFjYywgW2ssIHZdKSA9PiAoey4uLmFjYywgW2tdOiAtdn0pLCB7fSkpO1xuICAgICAgICBcbiAgICAgICAgbGV0IGJ1aWxkVGltZSA9IGJ1aWxkaW5nSW5mby5idWlsZFRpbWUgKiAxMDAwO1xuICAgICAgICBpZihhY3RpdmVCdWZmcy5idWlsZFRpbWVSZWR1Y3Rpb24pIHtcbiAgICAgICAgICAgIGJ1aWxkVGltZSAqPSAoMSAtIGFjdGl2ZUJ1ZmZzLmJ1aWxkVGltZVJlZHVjdGlvbi5wZXJjZW50YWdlKTtcbiAgICAgICAgICAgIGFkZFRvTG9nKGBBIEJ1aWxkZXIncyBDaGFybSByZWR1Y2VkIGNvbnN0cnVjdGlvbiB0aW1lIGJ5ICR7YWN0aXZlQnVmZnMuYnVpbGRUaW1lUmVkdWN0aW9uLnBlcmNlbnRhZ2UgKiAxMDB9JSFgLCAnaXRlbScpO1xuICAgICAgICAgICAgc2V0QWN0aXZlQnVmZnMocHJldiA9PiAoey4uLnByZXYsIGJ1aWxkVGltZVJlZHVjdGlvbjogcHJldi5idWlsZFRpbWVSZWR1Y3Rpb24hLnVzZXMgLSAxID4gMCA/IHsuLi5wcmV2LmJ1aWxkVGltZVJlZHVjdGlvbiEsIHVzZXM6IHByZXYuYnVpbGRUaW1lUmVkdWN0aW9uIS51c2VzIC0gMX0gOiB1bmRlZmluZWQgfSkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0YXNrSWQgPSBgJHtEYXRlLm5vdygpfS1idWlsZC0ke2J1aWxkaW5nVHlwZX1gO1xuICAgICAgICBjb25zdCB0YXNrUGF5bG9hZCA9IHsgYnVpbGRpbmdUeXBlLCB2aWxsYWdlcklkczogW3ZpbGxhZ2VySWRdLCBwb3NpdGlvbiB9O1xuICAgICAgICBpZiAodW5saW1pdGVkUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICAgaGFuZGxlVGFza0NvbXBsZXRpb24oeyBpZDogdGFza0lkLCB0eXBlOiAnYnVpbGQnLCBzdGFydFRpbWU6IDAsIGR1cmF0aW9uOiAwLCBwYXlsb2FkOiB7IC4uLnRhc2tQYXlsb2FkLCBwb3NpdGlvbiB9IH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBbLi4ucHJldiwgeyBpZDogdGFza0lkLCB0eXBlOiAnYnVpbGQnLCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiBidWlsZFRpbWUsIHBheWxvYWQ6IHRhc2tQYXlsb2FkIH1dKTtcbiAgICAgICAgICAgIHNldFVuaXRzKHByZXYgPT4gKHsuLi5wcmV2LCB2aWxsYWdlcnM6IHByZXYudmlsbGFnZXJzLm1hcCh2ID0+IHYuaWQgPT09IHZpbGxhZ2VySWQgPyB7Li4udiwgY3VycmVudFRhc2s6IHRhc2tJZH0gOiB2KX0pKTtcbiAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGAke2J1aWxkZXIubmFtZX0gaGFzIHN0YXJ0ZWQgY29uc3RydWN0aW5nIGEgJHtidWlsZGluZ0luZm8ubmFtZX0uYCk7XG4gICAgICAgICAgICBhZGRUb0xvZyhgJHtidWlsZGVyLm5hbWV9IGJlZ2FuIGNvbnN0cnVjdGlvbiBvZiBhIG5ldyAke2J1aWxkaW5nSW5mby5uYW1lfS5gLCBidWlsZGluZ0luZm8uaWNvbklkKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRQbGF5ZXJBY3Rpb24obnVsbCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUNhbmNlbFBsYXllckFjdGlvbiA9ICgpID0+IHsgc2V0UGxheWVyQWN0aW9uKG51bGwpOyBzZXRBY3Rpdml0eVN0YXR1cygnQ29tbWFuZCBjYW5jZWxsZWQuJyk7IH07XG5cbiAgICBjb25zdCBoYW5kbGVEZW1vbGlzaEJ1aWxkaW5nID0gKHR5cGU6IEJ1aWxkaW5nVHlwZSB8IHN0cmluZywgaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAodHlwZSA9PT0gJ3Rvd25DZW50ZXInKSB7IGFkZE5vdGlmaWNhdGlvbihcIlRoZSBUb3duIENlbnRlciBpcyB0aGUgaGVhcnQgb2YgeW91ciBjaXZpbGl6YXRpb24gYW5kIGNhbm5vdCBiZSBkZW1vbGlzaGVkLlwiKTsgcmV0dXJuOyB9XG4gICAgICAgIGlmIChhY3RpdmVUYXNrcy5zb21lKHRhc2sgPT4gKHRhc2sucGF5bG9hZD8uYnVpbGRpbmdJZCA9PT0gaWQpIHx8ICh0YXNrLnR5cGUgPT09ICd1cGdyYWRlX2J1aWxkaW5nJyAmJiB0YXNrLnBheWxvYWQ/Lm9yaWdpbmFsQnVpbGRpbmdJZCA9PT0gaWQpKSkgeyBhZGROb3RpZmljYXRpb24oXCJDYW5ub3QgZGVtb2xpc2ggYSBidWlsZGluZyB3aXRoIGFuIGFjdGl2ZSB0YXNrIChlLmcuLCB0cmFpbmluZyBvciB1cGdyYWRpbmcpLlwiKTsgcmV0dXJuOyB9XG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gdHlwZSk7XG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5zdGFuY2UgPSBidWlsZGluZ3NbdHlwZSBhcyBzdHJpbmddLmZpbmQoYiA9PiBiLmlkID09PSBpZCk7XG4gICAgICAgIGlmICghYnVpbGRpbmdJbmZvIHx8ICFidWlsZGluZ0luc3RhbmNlKSByZXR1cm47XG4gICAgICAgIFxuICAgICAgICBjb25zdCBjYXBhY2l0eVdpdGhvdXRUaGlzQnVpbGRpbmcgPSBwb3B1bGF0aW9uQ2FwYWNpdHkgLSAoYnVpbGRpbmdJbmZvLnBvcHVsYXRpb25DYXBhY2l0eSB8fCAwKTtcbiAgICAgICAgaWYgKChidWlsZGluZ0luZm8ucG9wdWxhdGlvbkNhcGFjaXR5IHx8IDApID4gMCAmJiBwb3B1bGF0aW9uLmN1cnJlbnQgPiBjYXBhY2l0eVdpdGhvdXRUaGlzQnVpbGRpbmcpIHtcbiAgICAgICAgICAgICBhZGROb3RpZmljYXRpb24oXCJDYW5ub3QgZGVtb2xpc2ggdGhpcyBidWlsZGluZywgeW91ciBwZW9wbGUgd291bGQgYmUgaG9tZWxlc3MuXCIpOyByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZWZ1bmQgPSBPYmplY3QuZW50cmllcyhidWlsZGluZ0luZm8uY29zdCkucmVkdWNlKChhY2MsIFtyZXMsIGNvc3RdKSA9PiB7IGNvbnN0IGFtb3VudCA9IE1hdGguZmxvb3IoKGNvc3QgfHwgMCkgKiAwLjUpOyBpZiAoYW1vdW50ID4gMCkgYWNjW3JlcyBhcyBrZXlvZiBSZXNvdXJjZXNdID0gYW1vdW50OyByZXR1cm4gYWNjOyB9LCB7fSBhcyBSZXNvdXJjZURlbHRhcyk7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhyZWZ1bmQpLmxlbmd0aCA+IDApIHsgdXBkYXRlUmVzb3VyY2VzKHJlZnVuZCk7IGFkZE5vdGlmaWNhdGlvbihgU2FsdmFnZWQgJHtPYmplY3QuZW50cmllcyhyZWZ1bmQpLm1hcCgoW3IsYV0pID0+IGAke2F9ICR7cn1gKS5qb2luKCcsICcpfS5gKTsgfVxuICAgICAgICBzZXRCdWlsZGluZ3MocHJldiA9PiAoeyAuLi5wcmV2LCBbdHlwZSBhcyBzdHJpbmddOiBwcmV2W3R5cGUgYXMgc3RyaW5nXS5maWx0ZXIoYiA9PiBiLmlkICE9PSBpZCkgfSkpO1xuICAgICAgICBhZGRUb0xvZyhgJHtidWlsZGluZ0luc3RhbmNlLm5hbWV9ICgke2J1aWxkaW5nSW5mby5uYW1lfSkgd2FzIGRlbW9saXNoZWQuYCwgYnVpbGRpbmdJbmZvLmljb25JZCk7XG4gICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHtpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBpbnN0YW5jZUlkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVVcGRhdGVCdWlsZGluZyA9ICh0eXBlOiBCdWlsZGluZ1R5cGUgfCBzdHJpbmcsIGlkOiBzdHJpbmcsIG5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICBzZXRCdWlsZGluZ3MocHJldiA9PiAoeyAuLi5wcmV2LCBbdHlwZSBhcyBzdHJpbmddOiBwcmV2W3R5cGUgYXMgc3RyaW5nXS5tYXAoYiA9PiBiLmlkID09PSBpZCA/IHsgLi4uYiwgbmFtZSB9IDogYikgfSkpO1xuICAgICAgICBhZGROb3RpZmljYXRpb24oXCJCdWlsZGluZyByZW5hbWVkLlwiKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlVXBncmFkZUJ1aWxkaW5nID0gKGJ1aWxkaW5nOiBCdWlsZGluZ0luc3RhbmNlLCB1cGdyYWRlUGF0aDogQnVpbGRpbmdVcGdyYWRlUGF0aCkgPT4ge1xuICAgICAgICBpZiAoIXVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgY29uc3QgbWlzc2luZyA9IChPYmplY3Qua2V5cyh1cGdyYWRlUGF0aC5jb3N0KSBhcyAoa2V5b2YgUmVzb3VyY2VzKVtdKS5maWx0ZXIocmVzID0+IHJlc291cmNlc1tyZXNdIDwgKHVwZ3JhZGVQYXRoLmNvc3RbcmVzXSB8fCAwKSk7XG4gICAgICAgICAgICBpZiAobWlzc2luZy5sZW5ndGggPiAwKSB7IGFkZE5vdGlmaWNhdGlvbihgTmVlZCBtb3JlICR7bWlzc2luZy5qb2luKCcsICcpfS5gKTsgcmV0dXJuOyB9XG4gICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXMoT2JqZWN0LmVudHJpZXModXBncmFkZVBhdGguY29zdCkucmVkdWNlKChhY2MsIFtrLCB2XSkgPT4gKHsgLi4uYWNjLCBba106IC0odiB8fCAwKSB9KSwge30pKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxCdWlsZGluZ1R5cGUgPSBPYmplY3Qua2V5cyhidWlsZGluZ3MpLmZpbmQodHlwZSA9PiBidWlsZGluZ3NbdHlwZSBhcyBzdHJpbmddLnNvbWUoYiA9PiBiLmlkID09PSBidWlsZGluZy5pZCkpO1xuICAgICAgICBjb25zdCB0YXNrUGF5bG9hZCA9IHtcbiAgICAgICAgICAgIG9yaWdpbmFsQnVpbGRpbmdJZDogYnVpbGRpbmcuaWQsXG4gICAgICAgICAgICBvcmlnaW5hbEJ1aWxkaW5nVHlwZSxcbiAgICAgICAgICAgIHRhcmdldEJ1aWxkaW5nVHlwZTogdXBncmFkZVBhdGguaWQsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgaGFuZGxlVGFza0NvbXBsZXRpb24oeyBpZDogJ2luc3RhbnQnLCB0eXBlOiAndXBncmFkZV9idWlsZGluZycsIHN0YXJ0VGltZTogMCwgZHVyYXRpb246IDAsIHBheWxvYWQ6IHRhc2tQYXlsb2FkIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBbLi4ucHJldiwgeyBpZDogYCR7RGF0ZS5ub3coKX0tdXBncmFkZS0ke2J1aWxkaW5nLmlkfWAsIHR5cGU6ICd1cGdyYWRlX2J1aWxkaW5nJywgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBkdXJhdGlvbjogdXBncmFkZVBhdGgudGltZSAqIDEwMDAsIHBheWxvYWQ6IHRhc2tQYXlsb2FkIH1dKTtcbiAgICAgICAgICAgIGFkZFRvTG9nKGBVcGdyYWRpbmcgJHtidWlsZGluZy5uYW1lfSB0byBhICR7YnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSB1cGdyYWRlUGF0aC5pZCk/Lm5hbWV9LmAsICdzeXN0ZW0nKTtcbiAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBVcGdyYWRpbmcgJHtidWlsZGluZy5uYW1lfS4uLmApO1xuICAgICAgICB9XG4gICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgaW5zdGFuY2VJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlVHJhaW5WaWxsYWdlcnMgPSAoY291bnQ6IG51bWJlcikgPT4ge1xuICAgICAgICBpZiAoYWN0aXZlVGFza3Muc29tZSh0ID0+IHQudHlwZSA9PT0gJ3RyYWluX3ZpbGxhZ2VyJykgfHwgY291bnQgPD0gMCkgcmV0dXJuO1xuICAgICAgICBpZiAocG9wdWxhdGlvbi5jdXJyZW50ICsgY291bnQgPiBwb3B1bGF0aW9uLmNhcGFjaXR5KSB7IGFkZE5vdGlmaWNhdGlvbihgTmVlZCBzcGFjZSBmb3IgJHtjb3VudH0gbW9yZSB2aWxsYWdlcnMuYCk7IHJldHVybjsgfVxuICAgICAgICBpZiAoIWJ1aWxkaW5ncy50b3duQ2VudGVyPy5bMF0pIHsgYWRkTm90aWZpY2F0aW9uKGBObyBUb3duIENlbnRlciB0byB0cmFpbiB2aWxsYWdlcnMuYCk7IHJldHVybjsgfVxuICAgICAgICBpZiAoIXVubGltaXRlZFJlc291cmNlcykgeyBjb25zdCB0b3RhbENvc3QgPSA1MCAqIGNvdW50OyBpZiAocmVzb3VyY2VzLmZvb2QgPCB0b3RhbENvc3QpIHsgYWRkTm90aWZpY2F0aW9uKGBOZWVkICR7dG90YWxDb3N0IC0gcmVzb3VyY2VzLmZvb2R9IG1vcmUgRm9vZC5gKTsgcmV0dXJuOyB9IHVwZGF0ZVJlc291cmNlcyh7IGZvb2Q6IC10b3RhbENvc3QgfSk7IH1cbiAgICAgICAgXG4gICAgICAgIGlmKHVubGltaXRlZFJlc291cmNlcykgaGFuZGxlVGFza0NvbXBsZXRpb24oeyBpZDogJ2luc3RhbnQnLCB0eXBlOiAndHJhaW5fdmlsbGFnZXInLCBzdGFydFRpbWU6IDAsIGR1cmF0aW9uOiAwLCBwYXlsb2FkOiB7IGNvdW50IH0gfSk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBbLi4ucHJldiwgeyBpZDogYCR7RGF0ZS5ub3coKX0tdHJhaW4tdmlsbGFnZXJgLCB0eXBlOiAndHJhaW5fdmlsbGFnZXInLCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiAxMDAwMCAqIGNvdW50LCBwYXlsb2FkOiB7IGNvdW50LCBidWlsZGluZ0lkOiBidWlsZGluZ3MudG93bkNlbnRlciFbMF0uaWQgfSB9XSk7XG4gICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgVHJhaW5pbmcgJHtjb3VudH0gdmlsbGFnZXIocykuLi5gKTsgYWRkVG9Mb2coYEJlZ2FuIHRyYWluaW5nICR7Y291bnR9IG5ldyB2aWxsYWdlcihzKS5gLCAndmlsbGFnZXInKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGluc3RhbmNlSWQ6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBoYW5kbGVUcmFpblVuaXRzID0gKHVuaXRUeXBlOiBNaWxpdGFyeVVuaXRUeXBlLCBjb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IHVuaXRJbmZvID0gdW5pdExpc3QuZmluZCh1ID0+IHUuaWQgPT09IHVuaXRUeXBlKTtcbiAgICAgICAgaWYgKCF1bml0SW5mbyB8fCBhY3RpdmVUYXNrcy5zb21lKHQgPT4gdC5wYXlsb2FkPy51bml0VHlwZSA9PT0gdW5pdFR5cGUpIHx8IGNvdW50IDw9IDApIHJldHVybjtcbiAgICAgICAgY29uc3QgdG90YWxQb3B1bGF0aW9uQ29zdCA9ICh1bml0SW5mby5wb3B1bGF0aW9uQ29zdCB8fCAxKSAqIGNvdW50O1xuICAgICAgICBpZiAocG9wdWxhdGlvbi5jdXJyZW50ICsgdG90YWxQb3B1bGF0aW9uQ29zdCA+IHBvcHVsYXRpb24uY2FwYWNpdHkpIHsgYWRkTm90aWZpY2F0aW9uKGBOZWVkIHNwYWNlIGZvciAke3RvdGFsUG9wdWxhdGlvbkNvc3R9IG1vcmUgcG9wdWxhdGlvbi5gKTsgcmV0dXJuOyB9XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBmb3IgcmVxdWlyZWQgYnVpbGRpbmdzXG4gICAgICAgIGNvbnN0IHRyYWluaW5nQnVpbGRpbmcgPSBidWlsZGluZ3NbdW5pdEluZm8ucmVxdWlyZWRCdWlsZGluZyBhcyBCdWlsZGluZ1R5cGVdPy5bMF07XG4gICAgICAgIGlmICghdHJhaW5pbmdCdWlsZGluZykgeyBhZGROb3RpZmljYXRpb24oYE5vICR7YnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSB1bml0SW5mby5yZXF1aXJlZEJ1aWxkaW5nKT8ubmFtZX0gdG8gdHJhaW4gdW5pdHMuYCk7IHJldHVybjsgfVxuXG4gICAgICAgIGlmICh1bml0SW5mby5yZXF1aXJlZEJ1aWxkaW5nSWRzICYmIHVuaXRJbmZvLnJlcXVpcmVkQnVpbGRpbmdJZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgbWlzc2luZ0J1aWxkaW5ncyA9IHVuaXRJbmZvLnJlcXVpcmVkQnVpbGRpbmdJZHMuZmlsdGVyKHJlcUlkID0+ICFidWlsZGluZ3NbcmVxSWRdPy5sZW5ndGgpO1xuICAgICAgICAgICAgaWYgKG1pc3NpbmdCdWlsZGluZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pc3NpbmdOYW1lcyA9IG1pc3NpbmdCdWlsZGluZ3MubWFwKGlkID0+IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gaWQpPy5uYW1lIHx8IGlkKS5qb2luKCcsICcpO1xuICAgICAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihgVHJhaW5pbmcgdGhpcyB1bml0IHJlcXVpcmVzOiAke21pc3NpbmdOYW1lc30uYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pc3NpbmcgPSAoT2JqZWN0LmtleXModW5pdEluZm8uY29zdCkgYXMgKGtleW9mIFJlc291cmNlcylbXSkuZmlsdGVyKHJlcyA9PiByZXNvdXJjZXNbcmVzXSA8ICh1bml0SW5mby5jb3N0W3Jlc10gfHwgMCkgKiBjb3VudCk7XG4gICAgICAgICAgICBpZiAobWlzc2luZy5sZW5ndGggPiAwKSB7IGFkZE5vdGlmaWNhdGlvbihgTmVlZCBtb3JlICR7bWlzc2luZy5qb2luKCcgYW5kICcpfS5gKTsgcmV0dXJuOyB9XG4gICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXMoT2JqZWN0LmVudHJpZXModW5pdEluZm8uY29zdCkucmVkdWNlKChhY2MsIFtrLCB2XSkgPT4gKHsuLi5hY2MsIFtrXTogLSh2IHx8IDApICogY291bnR9KSwge30pKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgbGV0IHRyYWluVGltZSA9IHVuaXRJbmZvLnRyYWluVGltZSAqIDEwMDAgKiBjb3VudDtcbiAgICAgICAgaWYoYWN0aXZlQnVmZnMucGVybWFuZW50VHJhaW5UaW1lUmVkdWN0aW9uKSB0cmFpblRpbWUgKj0gKDEgLSBhY3RpdmVCdWZmcy5wZXJtYW5lbnRUcmFpblRpbWVSZWR1Y3Rpb24pO1xuICAgICAgICBpZiAoYWN0aXZlQnVmZnMudHJhaW5UaW1lUmVkdWN0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBhcHBsaWNhYmxlID0gTWF0aC5taW4oY291bnQsIGFjdGl2ZUJ1ZmZzLnRyYWluVGltZVJlZHVjdGlvbi51c2VzKTtcbiAgICAgICAgICAgIHRyYWluVGltZSA9ICh1bml0SW5mby50cmFpblRpbWUgKiAxMDAwICogYXBwbGljYWJsZSAqICgxIC0gYWN0aXZlQnVmZnMudHJhaW5UaW1lUmVkdWN0aW9uLnBlcmNlbnRhZ2UpKSArICh1bml0SW5mby50cmFpblRpbWUgKiAxMDAwICogKGNvdW50IC0gYXBwbGljYWJsZSkpO1xuICAgICAgICAgICAgaWYgKGFjdGl2ZUJ1ZmZzLnRyYWluVGltZVJlZHVjdGlvbi51c2VzIC0gYXBwbGljYWJsZSA+IDApIHNldEFjdGl2ZUJ1ZmZzKHByZXYgPT4gKHsuLi5wcmV2LCB0cmFpblRpbWVSZWR1Y3Rpb246IHsuLi5wcmV2LnRyYWluVGltZVJlZHVjdGlvbiEsIHVzZXM6IHByZXYudHJhaW5UaW1lUmVkdWN0aW9uIS51c2VzIC0gYXBwbGljYWJsZX19KSk7XG4gICAgICAgICAgICBlbHNlIHsgc2V0QWN0aXZlQnVmZnMocHJldiA9PiAoey4uLnByZXYsIHRyYWluVGltZVJlZHVjdGlvbjogdW5kZWZpbmVkfSkpOyBhZGRUb0xvZyhcIlRoZSBEcmlsbG1hc3RlcidzIFdoaXN0bGUgYnVmZiBoYXMgYmVlbiBmdWxseSB1c2VkLlwiLCAnaXRlbScpOyB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmKHVubGltaXRlZFJlc291cmNlcykgaGFuZGxlVGFza0NvbXBsZXRpb24oeyBpZDogJ2luc3RhbnQnLCB0eXBlOiAndHJhaW5fbWlsaXRhcnknLCBzdGFydFRpbWU6IDAsIGR1cmF0aW9uOiAwLCBwYXlsb2FkOiB7IHVuaXRUeXBlLCBjb3VudCB9IH0pO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gWy4uLnByZXYsIHsgaWQ6IGAke0RhdGUubm93KCl9LXRyYWluLSR7dW5pdFR5cGV9YCwgdHlwZTogJ3RyYWluX21pbGl0YXJ5Jywgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBkdXJhdGlvbjogdHJhaW5UaW1lLCBwYXlsb2FkOiB7IHVuaXRUeXBlLCBjb3VudCwgYnVpbGRpbmdJZDogdHJhaW5pbmdCdWlsZGluZy5pZCB9IH1dKTtcbiAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBUcmFpbmluZyAke2NvdW50fSAke3VuaXRJbmZvLm5hbWV9KHMpLi4uYCk7IGFkZFRvTG9nKGBCZWdhbiB0cmFpbmluZyAke2NvdW50fSBuZXcgJHt1bml0SW5mby5uYW1lfShzKS5gLCB1bml0VHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBpbnN0YW5jZUlkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVEaXNtaXNzU3BlY2lmaWNVbml0ID0gKHR5cGU6ICd2aWxsYWdlcnMnIHwgJ21pbGl0YXJ5JywgaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAodHlwZSA9PT0gJ3ZpbGxhZ2VycycgJiYgaXNWaWxsYWdlckJ1c3koaWQpKSB7IGFkZE5vdGlmaWNhdGlvbihcIkNhbm5vdCBkaXNtaXNzIGEgYnVzeSB2aWxsYWdlci5cIik7IHJldHVybjsgfVxuICAgICAgICBjb25zdCB1bml0ID0gdW5pdHNbdHlwZV0uZmluZCh1ID0+IHUuaWQgPT09IGlkKTsgaWYgKCF1bml0KSByZXR1cm47XG4gICAgICAgIGlmICh0eXBlID09PSAndmlsbGFnZXJzJyAmJiB1bml0cy52aWxsYWdlcnMubGVuZ3RoIDw9IDEpIHsgYWRkTm90aWZpY2F0aW9uKFwiQ2Fubm90IGRpc21pc3MgeW91ciBsYXN0IHZpbGxhZ2VyLlwiKTsgcmV0dXJuOyB9XG4gICAgICAgIHNldFVuaXRzKHByZXYgPT4gKHsgLi4ucHJldiwgW3R5cGVdOiBwcmV2W3R5cGVdLmZpbHRlcih1ID0+IHUuaWQgIT09IGlkKSB9KSk7XG4gICAgICAgIGNvbnN0IHVuaXRUeXBlTmFtZSA9IHR5cGUgPT09ICd2aWxsYWdlcnMnID8gJ3ZpbGxhZ2VyJyA6ICh1bml0IGFzIE1pbGl0YXJ5VW5pdCkudW5pdFR5cGU7XG4gICAgICAgIGFkZFRvTG9nKGAke3VuaXQubmFtZX0gdGhlICR7dW5pdFR5cGVOYW1lfSBoYXMgYmVlbiBkaXNtaXNzZWQuYCwgdHlwZSA9PT0gJ3ZpbGxhZ2VycycgPyAndmlsbGFnZXInIDogKHVuaXQgYXMgTWlsaXRhcnlVbml0KS51bml0VHlwZSk7XG4gICAgICAgIGFkZE5vdGlmaWNhdGlvbihgJHt1bml0Lm5hbWV9IHdhcyBkaXNtaXNzZWQuYCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVVwZGF0ZVVuaXQgPSAodHlwZTogJ3ZpbGxhZ2VycycgfCAnbWlsaXRhcnknLCBpZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIHRpdGxlPzogc3RyaW5nKSA9PiB7XG4gICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7IC4uLnByZXYsIFt0eXBlXTogcHJldlt0eXBlXS5tYXAodSA9PiB1LmlkID09PSBpZCA/ICh0eXBlID09PSAnbWlsaXRhcnknICYmIHRpdGxlICE9PSB1bmRlZmluZWQgPyB7IC4uLnUsIG5hbWUsIHRpdGxlIH0gOiB7IC4uLnUsIG5hbWUgfSkgOiB1KX0pKTtcbiAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiVW5pdCB1cGRhdGVkLlwiKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQXNzaWduVmlsbGFnZXJzVG9Db25zdHJ1Y3Rpb24gPSAoY29uc3RydWN0aW9uSWQ6IHN0cmluZywgY291bnQ6IG51bWJlcikgPT4ge1xuICAgICAgICBjb25zdCBpZGxlVmlsbGFnZXJzID0gdW5pdHMudmlsbGFnZXJzLmZpbHRlcih2ID0+ICF2LmN1cnJlbnRUYXNrKTtcbiAgICAgICAgaWYgKGNvdW50IDw9IDAgfHwgaWRsZVZpbGxhZ2Vycy5sZW5ndGggPT09IDApIHsgYWRkTm90aWZpY2F0aW9uKFwiTm8gaWRsZSB2aWxsYWdlcnMgYXZhaWxhYmxlLlwiKTsgcmV0dXJuOyB9XG4gICAgICAgIGNvbnN0IHRhc2sgPSBhY3RpdmVUYXNrcy5maW5kKHQgPT4gdC5pZCA9PT0gY29uc3RydWN0aW9uSWQpOyBpZiAoIXRhc2sgfHwgdGFzay50eXBlICE9PSAnYnVpbGQnKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gdGFzay5wYXlsb2FkPy5idWlsZGluZ1R5cGUpOyBpZiAoIWJ1aWxkaW5nSW5mbykgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGNhcHBlZENvdW50ID0gTWF0aC5taW4oY291bnQsIGlkbGVWaWxsYWdlcnMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgdmlsbGFnZXJzVG9Bc3NpZ24gPSBpZGxlVmlsbGFnZXJzLnNsaWNlKDAsIGNhcHBlZENvdW50KS5tYXAodiA9PiB2LmlkKTtcbiAgICAgICAgY29uc3Qgd29ya0RvbmUgPSAoRGF0ZS5ub3coKSAtIHRhc2suc3RhcnRUaW1lKSAqICh0YXNrLnBheWxvYWQ/LnZpbGxhZ2VySWRzPy5sZW5ndGggfHwgMSk7XG4gICAgICAgIGNvbnN0IHdvcmtSZW1haW5pbmcgPSBNYXRoLm1heCgwLCAoYnVpbGRpbmdJbmZvLmJ1aWxkVGltZSAqIDEwMDApIC0gd29ya0RvbmUpO1xuICAgICAgICBjb25zdCBuZXdXb3JrZXJDb3VudCA9ICh0YXNrLnBheWxvYWQ/LnZpbGxhZ2VySWRzPy5sZW5ndGggfHwgMCkgKyBjYXBwZWRDb3VudDtcbiAgICAgICAgY29uc3QgbmV3UmVtYWluaW5nRHVyYXRpb24gPSB3b3JrUmVtYWluaW5nIC8gbmV3V29ya2VyQ291bnQ7XG4gICAgICAgIFxuICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7Li4ucHJldiwgdmlsbGFnZXJzOiBwcmV2LnZpbGxhZ2Vycy5tYXAodiA9PiB2aWxsYWdlcnNUb0Fzc2lnbi5pbmNsdWRlcyh2LmlkKSA/IHsuLi52LCBjdXJyZW50VGFzazogY29uc3RydWN0aW9uSWR9IDogdil9KSk7XG4gICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gcHJldi5tYXAodCA9PiB0LmlkID09PSBjb25zdHJ1Y3Rpb25JZCA/IHsgLi4udCwgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBkdXJhdGlvbjogbmV3UmVtYWluaW5nRHVyYXRpb24sIHBheWxvYWQ6IHsgLi4udC5wYXlsb2FkLCB2aWxsYWdlcklkczogWy4uLnQucGF5bG9hZCEudmlsbGFnZXJJZHMhLCAuLi52aWxsYWdlcnNUb0Fzc2lnbl0gfSB9IDogdCkpO1xuICAgICAgICBhZGRUb0xvZyhgJHtjYXBwZWRDb3VudH0gdmlsbGFnZXIocykgYXJlIG5vdyBhc3Npc3Rpbmcgd2l0aCB0aGUgJHtidWlsZGluZ0luZm8ubmFtZX0uYCwgYnVpbGRpbmdJbmZvLmljb25JZCk7XG4gICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBDb25zdHJ1Y3Rpb24gb2YgdGhlICR7YnVpbGRpbmdJbmZvLm5hbWV9IGlzIG5vdyBmYXN0ZXIuYCk7XG4gICAgICAgIHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdGFyZ2V0SWQ6IG51bGwsIHRhcmdldFR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUFzc2lnblZpbGxhZ2VycyA9ICh0YXJnZXRJZDogc3RyaW5nLCBjb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGlmIChhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRUeXBlID09PSAnY29uc3RydWN0aW9uJykgcmV0dXJuIGhhbmRsZUFzc2lnblZpbGxhZ2Vyc1RvQ29uc3RydWN0aW9uKHRhcmdldElkLCBjb3VudCk7XG4gICAgICAgIGNvbnN0IGlkbGVWaWxsYWdlcnMgPSB1bml0cy52aWxsYWdlcnMuZmlsdGVyKHYgPT4gIXYuY3VycmVudFRhc2spO1xuICAgICAgICBpZiAoY291bnQgPD0gMCB8fCBpZGxlVmlsbGFnZXJzLmxlbmd0aCA9PT0gMCkgeyBhZGROb3RpZmljYXRpb24oXCJObyBpZGxlIHZpbGxhZ2VycyBhdmFpbGFibGUuXCIpOyByZXR1cm47IH1cbiAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHJlc291cmNlTm9kZXMuZmluZChuID0+IG4uaWQgPT09IHRhcmdldElkKTsgaWYgKCF0YXJnZXROb2RlKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNhcHBlZENvdW50ID0gTWF0aC5taW4oY291bnQsIGlkbGVWaWxsYWdlcnMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgdmlsbGFnZXJzVG9Bc3NpZ24gPSBpZGxlVmlsbGFnZXJzLnNsaWNlKDAsIGNhcHBlZENvdW50KS5tYXAodiA9PiB2LmlkKTtcbiAgICAgICAgY29uc3QgdGFza0lkID0gYGdhdGhlci0ke3RhcmdldElkfWA7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nVGFzayA9IGFjdGl2ZVRhc2tzLmZpbmQodCA9PiB0LmlkID09PSB0YXNrSWQpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKHsgW3RhcmdldE5vZGUudHlwZV06IHRhcmdldE5vZGUuYW1vdW50IH0pO1xuICAgICAgICAgICAgYWRkVG9Mb2coYCR7Y2FwcGVkQ291bnR9IHZpbGxhZ2VyKHMpIGluc3RhbnRseSBnYXRoZXJlZCAke01hdGguZmxvb3IodGFyZ2V0Tm9kZS5hbW91bnQpfSAke3RhcmdldE5vZGUudHlwZX0uYCwgdGFyZ2V0Tm9kZS50eXBlKTtcbiAgICAgICAgICAgIHNldFJlc291cmNlTm9kZXMocHJldiA9PiBwcmV2LmZpbHRlcihuID0+IG4uaWQgIT09IHRhcmdldElkKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdUYXNrKSBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IHByZXYubWFwKHQgPT4gdC5pZCA9PT0gdGFza0lkID8geyAuLi50LCBwYXlsb2FkOiB7IC4uLnQucGF5bG9hZCwgdmlsbGFnZXJJZHM6IFsuLi5uZXcgU2V0KFsuLi50LnBheWxvYWQhLnZpbGxhZ2VySWRzISwgLi4udmlsbGFnZXJzVG9Bc3NpZ25dKV0gfSB9IDogdCkpO1xuICAgICAgICAgICAgZWxzZSBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IFsuLi5wcmV2LCB7IGlkOiB0YXNrSWQsIHR5cGU6ICdnYXRoZXInLCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiA5OTk5OTk5OTksIHBheWxvYWQ6IHsgcmVzb3VyY2VOb2RlSWQ6IHRhcmdldElkLCB2aWxsYWdlcklkczogdmlsbGFnZXJzVG9Bc3NpZ24gfSB9XSk7XG4gICAgICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7Li4ucHJldiwgdmlsbGFnZXJzOiBwcmV2LnZpbGxhZ2Vycy5tYXAodiA9PiB2aWxsYWdlcnNUb0Fzc2lnbi5pbmNsdWRlcyh2LmlkKSA/IHsuLi52LCBjdXJyZW50VGFzazogdGFza0lkfSA6IHYpfSkpO1xuICAgICAgICB9XG4gICAgICAgIGFkZFRvTG9nKGAke2NhcHBlZENvdW50fSB2aWxsYWdlcihzKSBhc3NpZ25lZCB0byBnYXRoZXIgJHt0YXJnZXROb2RlLnR5cGV9LmAsIHRhcmdldE5vZGUudHlwZSk7XG4gICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGAke2NhcHBlZENvdW50fSB2aWxsYWdlcihzKSBhcmUgbm93IGdhdGhlcmluZyAke3RhcmdldE5vZGUudHlwZX0uYCk7XG4gICAgICAgIHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdGFyZ2V0SWQ6IG51bGwsIHRhcmdldFR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVJlY2FsbFZpbGxhZ2VycyA9ICh0YXJnZXRJZDogc3RyaW5nLCBjb3VudDogbnVtYmVyLCB0eXBlOiAncmVzb3VyY2UnIHwgJ2NvbnN0cnVjdGlvbicpID0+IHtcbiAgICAgICAgY29uc3QgdGFzayA9IGFjdGl2ZVRhc2tzLmZpbmQodCA9PiB0LmlkID09PSB0YXJnZXRJZCk7XG4gICAgICAgIGlmICghdGFzayB8fCAodGFzay5wYXlsb2FkPy52aWxsYWdlcklkcz8ubGVuZ3RoID8/IDApIDwgY291bnQpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHZpbGxhZ2Vyc1RvUmVjYWxsID0gdGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEuc2xpY2UodGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEubGVuZ3RoIC0gY291bnQpO1xuICAgICAgICBpZiAodHlwZSA9PT0gJ2NvbnN0cnVjdGlvbicgJiYgdmlsbGFnZXJzVG9SZWNhbGwubGVuZ3RoID09PSB0YXNrLnBheWxvYWQhLnZpbGxhZ2VySWRzIS5sZW5ndGgpIHsgYWRkTm90aWZpY2F0aW9uKFwiQ2Fubm90IHJlY2FsbCB0aGUgbGFzdCBidWlsZGVyIGZyb20gYSBwcm9qZWN0LlwiKTsgcmV0dXJuOyB9XG5cbiAgICAgICAgc2V0VW5pdHMocHJldiA9PiAoey4uLnByZXYsIHZpbGxhZ2VyczogcHJldi52aWxsYWdlcnMubWFwKHYgPT4gdmlsbGFnZXJzVG9SZWNhbGwuaW5jbHVkZXModi5pZCkgPyB7Li4udiwgY3VycmVudFRhc2s6IG51bGx9IDogdil9KSk7XG4gICAgICAgIGNvbnN0IHJlbWFpbmluZ1ZpbGxhZ2VycyA9IHRhc2sucGF5bG9hZCEudmlsbGFnZXJJZHMhLmZpbHRlcihpZCA9PiAhdmlsbGFnZXJzVG9SZWNhbGwuaW5jbHVkZXMoaWQpKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZW1haW5pbmdWaWxsYWdlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IHByZXYuZmlsdGVyKHQgPT4gdC5pZCAhPT0gdGFyZ2V0SWQpKTtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSByZXNvdXJjZU5vZGVzLmZpbmQobiA9PiBuLmlkID09PSB0YXJnZXRJZCk7XG4gICAgICAgICAgICBpZihub2RlKSBhZGRUb0xvZyhgQWxsIHZpbGxhZ2VycyByZWNhbGxlZCBmcm9tIGdhdGhlcmluZyAke25vZGUudHlwZX0uYCwgJ3ZpbGxhZ2VyJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IHRhc2sucGF5bG9hZD8uYnVpbGRpbmdUeXBlKSE7XG4gICAgICAgICAgICBjb25zdCB3b3JrRG9uZSA9IChEYXRlLm5vdygpIC0gdGFzay5zdGFydFRpbWUpICogdGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgbmV3UmVtYWluaW5nRHVyYXRpb24gPSAoYnVpbGRpbmdJbmZvLmJ1aWxkVGltZSAqIDEwMDAgLSB3b3JrRG9uZSkgLyByZW1haW5pbmdWaWxsYWdlcnMubGVuZ3RoO1xuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBwcmV2Lm1hcCh0ID0+IHQuaWQgPT09IHRhcmdldElkID8geyAuLi50LCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiBuZXdSZW1haW5pbmdEdXJhdGlvbiwgcGF5bG9hZDogeyAuLi50LnBheWxvYWQsIHZpbGxhZ2VySWRzOiByZW1haW5pbmdWaWxsYWdlcnMgfSB9IDogdCkpO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdjb25zdHJ1Y3Rpb24nKSBhZGRUb0xvZyhgJHtjb3VudH0gYnVpbGRlcihzKSByZWNhbGxlZC4gQ29uc3RydWN0aW9uIHdpbGwgbm93IGJlIHNsb3dlci5gLCAndmlsbGFnZXInKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIHRhcmdldElkOiBudWxsLCB0YXJnZXRUeXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVBZHZhbmNlQWdlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoYWN0aXZlVGFza3Muc29tZSh0ID0+IHQudHlwZSA9PT0gJ2FkdmFuY2VfYWdlJykpIHsgYWRkTm90aWZpY2F0aW9uKFwiQWR2YW5jZW1lbnQgYWxyZWFkeSBpbiBwcm9ncmVzcy5cIik7IHJldHVybjsgfVxuICAgICAgICBpZiAoIXVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgY29uc3QgbWlzc2luZyA9IFtdO1xuICAgICAgICAgICAgaWYgKHJlc291cmNlcy5mb29kIDwgNTAwKSBtaXNzaW5nLnB1c2goYCR7NTAwIC0gcmVzb3VyY2VzLmZvb2R9IEZvb2RgKTtcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZXMuZ29sZCA8IDIwMCkgbWlzc2luZy5wdXNoKGAkezIwMCAtIHJlc291cmNlcy5nb2xkfSBHb2xkYCk7XG4gICAgICAgICAgICBpZiAobWlzc2luZy5sZW5ndGggPiAwKSB7IGFkZE5vdGlmaWNhdGlvbihgVG8gYWR2YW5jZSwgeW91IG5lZWQgJHttaXNzaW5nLmpvaW4oJyBhbmQgJyl9LmApOyByZXR1cm47IH1cbiAgICAgICAgICAgIHVwZGF0ZVJlc291cmNlcyh7IGZvb2Q6IC01MDAsIGdvbGQ6IC0yMDAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWN0aXZlQWdlcyA9IG1hc3RlckFnZUxpc3QuZmlsdGVyKGEgPT4gYS5pc0FjdGl2ZSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGFjdGl2ZUFnZXMuZmluZEluZGV4KGFnZSA9PiBhZ2UubmFtZSA9PT0gY3VycmVudEFnZSk7XG4gICAgICAgIGlmIChjdXJyZW50SW5kZXggPT09IC0xIHx8IGN1cnJlbnRJbmRleCArIDEgPj0gYWN0aXZlQWdlcy5sZW5ndGgpIHsgYWRkTm90aWZpY2F0aW9uKFwiWW91IGhhdmUgcmVhY2hlZCB0aGUgZmluYWwgYXZhaWxhYmxlIGFnZS5cIik7IHJldHVybjsgfVxuXG4gICAgICAgIGlmKHVubGltaXRlZFJlc291cmNlcykgaGFuZGxlVGFza0NvbXBsZXRpb24oeyBpZDogJ2luc3RhbnQnLCB0eXBlOiAnYWR2YW5jZV9hZ2UnLCBzdGFydFRpbWU6IDAsIGR1cmF0aW9uOiAwLCBwYXlsb2FkOiB7fSB9KTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IFsuLi5wcmV2LCB7IGlkOiBgJHtEYXRlLm5vdygpfS1hZHZhbmNlX2FnZWAsIHR5cGU6ICdhZHZhbmNlX2FnZScsIHN0YXJ0VGltZTogRGF0ZS5ub3coKSwgZHVyYXRpb246IDYwMDAwIH1dKTtcbiAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBZb3VyIHBlb3BsZSBiZWdpbiB0aGUgbG9uZyBqb3VybmV5IHRvIGEgbmV3IGFnZS5gKTtcbiAgICAgICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgaW5zdGFuY2VJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgY29uc3QgaGFuZGxlRXhpdEdhbWUgPSBhc3luYyAoKSA9PiB7IHNldEN1cnJlbnRTYXZlTmFtZShudWxsKTsgYXdhaXQgZmV0Y2hTYXZlc0FuZENvbmZpZ3MoKTsgc2V0R2FtZVN0YXRlKEdhbWVTdGF0dXMuTUVOVSk7IH07XG4gICAgY29uc3QgaGFuZGxlRGVsZXRlR2FtZSA9IGFzeW5jIChzYXZlTmFtZTogc3RyaW5nKSA9PiB7IGF3YWl0IGRlbGV0ZUdhbWVTdGF0ZShzYXZlTmFtZSk7IGF3YWl0IGZldGNoU2F2ZXNBbmRDb25maWdzKCk7IGFkZE5vdGlmaWNhdGlvbihgRGVsZXRlZCBzYWdhOiBcIiR7c2F2ZU5hbWV9XCJgKTsgfTtcblxuICAgIGNvbnN0IGhhbmRsZVRvZ2dsZVVubGltaXRlZFJlc291cmNlcyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgbmV3TW9kZSA9ICF1bmxpbWl0ZWRSZXNvdXJjZXM7XG4gICAgICAgIHNldFVubGltaXRlZFJlc291cmNlcyhuZXdNb2RlKTtcbiAgICAgICAgaWYgKG5ld01vZGUpIHtcbiAgICAgICAgICAgIHNldFJlc291cmNlcyh7IGZvb2Q6IDk5OTk5LCB3b29kOiA5OTk5OSwgZ29sZDogOTk5OTksIHN0b25lOiA5OTk5OSB9KTtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihcIlRlc3QgTW9kZTogT04gLSBBbGwgYWN0aXZlIHRhc2tzIGNvbXBsZXRlZC5cIik7XG4gICAgICAgICAgICBjb25zdCBkZXBsZXRlZE5vZGVJZHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICAgICAgICAgIGFjdGl2ZVRhc2tzLmZvckVhY2godGFzayA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRhc2sudHlwZSA9PT0gJ2dhdGhlcicgJiYgdGFzay5wYXlsb2FkPy5yZXNvdXJjZU5vZGVJZCkge1xuICAgICAgICAgICAgICAgICAgICBkZXBsZXRlZE5vZGVJZHMuYWRkKHRhc2sucGF5bG9hZC5yZXNvdXJjZU5vZGVJZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSByZXNvdXJjZU5vZGVzLmZpbmQobiA9PiBuLmlkID09PSB0YXNrLnBheWxvYWQucmVzb3VyY2VOb2RlSWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSkgYWRkVG9Mb2coYEluc3RhbnRseSBnYXRoZXJlZCBhbGwgJHtub2RlLnR5cGV9IGZyb20gYSBkZXBsZXRlZCBzb3VyY2UuYCwgbm9kZS50eXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaGFuZGxlVGFza0NvbXBsZXRpb24odGFzayk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKFtdKTtcbiAgICAgICAgICAgIGlmIChkZXBsZXRlZE5vZGVJZHMuc2l6ZSA+IDApIHNldFJlc291cmNlTm9kZXMocHJldiA9PiBwcmV2LmZpbHRlcihuID0+ICFkZXBsZXRlZE5vZGVJZHMuaGFzKG4uaWQpKSk7XG4gICAgICAgIH0gZWxzZSBhZGROb3RpZmljYXRpb24oXCJUZXN0IE1vZGU6IE9GRlwiKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGhhbmRsZVVzZUl0ZW0gPSAoaXRlbUlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGludmVudG9yeS5maW5kKGkgPT4gaS5pZCA9PT0gaXRlbUlkKTsgaWYgKCFpdGVtKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGJhc2VJdGVtSWQgPSBpdGVtLmlkLnNwbGl0KCctJylbMF07XG4gICAgICAgIGNvbnN0IGNvbnN0cnVjdGlvblRhc2tzID0gYWN0aXZlVGFza3MuZmlsdGVyKHQgPT4gdC50eXBlID09PSAnYnVpbGQnKTtcbiAgICAgICAgc3dpdGNoKGJhc2VJdGVtSWQpIHtcbiAgICAgICAgICAgIGNhc2UgJ3Njcm9sbF9vZl9oYXN0ZSc6IGNhc2UgJ2JsdWVwcmludF9vZl90aGVfbWFzdGVyJzpcbiAgICAgICAgICAgICAgICBpZiAoY29uc3RydWN0aW9uVGFza3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXNrID0gY29uc3RydWN0aW9uVGFza3Muc29ydCgoYSxiKSA9PiAoYi5zdGFydFRpbWUgKyBiLmR1cmF0aW9uKSAtIChhLnN0YXJ0VGltZSArIGEuZHVyYXRpb24pKVswXTtcbiAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocCA9PiBwLm1hcCh0ID0+IHQuaWQgPT09IHRhc2suaWQgPyB7IC4uLnQsIGR1cmF0aW9uOiBNYXRoLm1heCgwLCB0LmR1cmF0aW9uIC0gKGJhc2VJdGVtSWQgPT09ICdzY3JvbGxfb2ZfaGFzdGUnID8gMTUwMDAgOiA2MDAwMCkpIH0gOiB0KSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFRvTG9nKGBVc2VkICR7aXRlbS5uYW1lfSBvbiB0aGUgJHtidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IHRhc2sucGF5bG9hZD8uYnVpbGRpbmdUeXBlKT8ubmFtZX0uYCwgJ2l0ZW0nKTtcbiAgICAgICAgICAgICAgICB9IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnaGVhcnR5X21lYWwnOiB1cGRhdGVSZXNvdXJjZXMoeyBmb29kOiA3NSB9KTsgYWRkVG9Mb2coYFVzZWQgJHtpdGVtLm5hbWV9IHRvIGdhaW4gNzUgZm9vZC5gLCAnaXRlbScpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2J1aWxkZXJzX2NoYXJtJzogc2V0QWN0aXZlQnVmZnMocCA9PiAoey4uLnAsIGJ1aWxkVGltZVJlZHVjdGlvbjogeyBwZXJjZW50YWdlOiAwLjEsIHVzZXM6IDEgfX0pKTsgYWRkVG9Mb2coYFVzZWQgJHtpdGVtLm5hbWV9LiBOZXh0IGJ1aWxkaW5nIGlzIDEwJSBmYXN0ZXIuYCwgJ2l0ZW0nKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkcmlsbG1hc3RlcnNfd2hpc3RsZSc6IHNldEFjdGl2ZUJ1ZmZzKHAgPT4gKHsuLi5wLCB0cmFpblRpbWVSZWR1Y3Rpb246IHsgcGVyY2VudGFnZTogMC4yNSwgdXNlczogNSB9fSkpOyBhZGRUb0xvZyhgVXNlZCAke2l0ZW0ubmFtZX0uIE5leHQgNSB1bml0cyB0cmFpbiAyNSUgZmFzdGVyLmAsICdpdGVtJyk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZ29sZGVuX2hhcnZlc3QnOiBzZXRBY3RpdmVCdWZmcyhwID0+ICh7Li4ucCwgcmVzb3VyY2VCb29zdDogWy4uLihwLnJlc291cmNlQm9vc3QgfHwgW10pLCB7IHJlc291cmNlOiAnZm9vZCcsIG11bHRpcGxpZXI6IDEuNSwgZW5kVGltZTogRGF0ZS5ub3coKSArIDYwMDAwIH1dfSkpOyBhZGRUb0xvZyhgVXNlZCAke2l0ZW0ubmFtZX0uIEZvb2QgZ2F0aGVyaW5nIGJvb3N0ZWQgYnkgNTAlIGZvciA2MHMuYCwgJ2l0ZW0nKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzaGFyZF9vZl90aGVfYW5jaWVudHMnOlxuICAgICAgICAgICAgICAgIGlmIChjb25zdHJ1Y3Rpb25UYXNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhc2sgPSBjb25zdHJ1Y3Rpb25UYXNrcy5zb3J0KChhLGIpID0+IChiLnN0YXJ0VGltZSArIGIuZHVyYXRpb24pIC0gKGEuc3RhcnRUaW1lICsgYS5kdXJhdGlvbikpWzBdO1xuICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwID0+IHAuZmlsdGVyKHQgPT4gdC5pZCAhPT0gdGFzay5pZCkpOyBoYW5kbGVUYXNrQ29tcGxldGlvbih0YXNrKTtcbiAgICAgICAgICAgICAgICAgICAgYWRkVG9Mb2coYFVzZWQgJHtpdGVtLm5hbWV9IHRvIGluc3RhbnRseSBjb21wbGV0ZSB0aGUgJHtidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IHRhc2sucGF5bG9hZD8uYnVpbGRpbmdUeXBlKT8ubmFtZX0uYCwgJ2l0ZW0nKTtcbiAgICAgICAgICAgICAgICB9IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnaGVhcnRfb2ZfdGhlX21vdW50YWluJzpcbiAgICAgICAgICAgICAgICBzZXRBY3RpdmVCdWZmcyhwID0+ICh7Li4ucCwgcmVzb3VyY2VCb29zdDogWy4uLihwLnJlc291cmNlQm9vc3QgfHwgW10pLCB7IHJlc291cmNlOiAnZ29sZCcsIG11bHRpcGxpZXI6IDIsIGVuZFRpbWU6IERhdGUubm93KCkgKyAxMjAwMDAgfSwgeyByZXNvdXJjZTogJ3N0b25lJywgbXVsdGlwbGllcjogMiwgZW5kVGltZTogRGF0ZS5ub3coKSArIDEyMDAwMCB9XX0pKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhgVXNlZCAke2l0ZW0ubmFtZX0uIEdvbGQgYW5kIFN0b25lIGdhdGhlcmluZyBkb3VibGVkIGZvciAyIG1pbnV0ZXMuYCwgJ2l0ZW0nKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdiYW5uZXJfb2ZfY29tbWFuZCc6XG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlQnVmZnMocCA9PiAoey4uLnAsIHBlcm1hbmVudFRyYWluVGltZVJlZHVjdGlvbjogKHAucGVybWFuZW50VHJhaW5UaW1lUmVkdWN0aW9uIHx8IDApICsgMC4wNX0pKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhgVXNlZCAke2l0ZW0ubmFtZX0uIE1pbGl0YXJ5IHVuaXRzIHRyYWluIDUlIGZhc3RlciwgcGVybWFuZW50bHkuYCwgJ2l0ZW0nKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd3aGlzcGVyX29mX3RoZV9jcmVhdG9yJzpcbiAgICAgICAgICAgICAgICBjb25zdCB0YXNrcyA9IFsuLi5hY3RpdmVUYXNrc107IHNldEFjdGl2ZVRhc2tzKFtdKTsgdGFza3MuZm9yRWFjaChoYW5kbGVUYXNrQ29tcGxldGlvbik7XG4gICAgICAgICAgICAgICAgYWRkVG9Mb2coYEEgZGl2aW5lIHdoaXNwZXIgZWNob2VzLCBhbmQgYWxsIHdvcmsgaXMgaW5zdGFudGx5IGZpbmlzaGVkLmAsICdpdGVtJyk7IGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHNldEludmVudG9yeShwcmV2ID0+IHByZXYuZmlsdGVyKGkgPT4gaS5pZCAhPT0gaXRlbUlkKSk7IHNldEludmVudG9yeVBhbmVsU3RhdGUoe2lzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGx9KTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGJ1aWxkaW5nQ291bnRzID0gYnVpbGRpbmdMaXN0LnJlZHVjZSgoYWNjLCBiKSA9PiB7IGFjY1tiLmlkXSA9IGJ1aWxkaW5nc1tiLmlkIGFzIHN0cmluZ10/Lmxlbmd0aCB8fCAwOyByZXR1cm4gYWNjOyB9LCB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+KTtcbiAgICBjb25zdCBpZGxlVmlsbGFnZXJDb3VudCA9IHVuaXRzLnZpbGxhZ2Vycy5maWx0ZXIodiA9PiAhdi5jdXJyZW50VGFzaykubGVuZ3RoO1xuICAgIGNvbnN0IGFzc2lnbm1lbnRUYXJnZXQgPSBhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRUeXBlID09PSAncmVzb3VyY2UnID8gcmVzb3VyY2VOb2Rlcy5maW5kKG4gPT4gbi5pZCA9PT0gYXNzaWdubWVudFBhbmVsU3RhdGUudGFyZ2V0SWQpIDogYWN0aXZlVGFza3MuZmluZCh0ID0+IHQudHlwZSA9PT0gJ2J1aWxkJyAmJiB0LmlkID09PSBhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRJZCk7XG4gICAgXG4gICAgY29uc3QgY3VycmVudEFnZUluZGV4ID0gYWdlUHJvZ3Jlc3Npb25MaXN0LmZpbmRJbmRleChhID0+IGEubmFtZSA9PT0gY3VycmVudEFnZSk7XG4gICAgY29uc3QgYXZhaWxhYmxlQnVpbGRpbmdzID0gYnVpbGRpbmdMaXN0LmZpbHRlcihiID0+IHtcbiAgICAgICAgY29uc3QgdW5sb2NrQWdlSW5kZXggPSBhZ2VQcm9ncmVzc2lvbkxpc3QuZmluZEluZGV4KGEgPT4gYS5uYW1lID09PSBiLnVubG9ja2VkSW5BZ2UpO1xuICAgICAgICByZXR1cm4gYi5pc0FjdGl2ZSAmJiAhYi5pc1VwZ3JhZGVPbmx5ICYmIHVubG9ja0FnZUluZGV4ICE9PSAtMSAmJiB1bmxvY2tBZ2VJbmRleCA8PSBjdXJyZW50QWdlSW5kZXg7XG4gICAgfSk7XG5cbiAgICBjb25zdCBhY3RpdmVVbml0cyA9IHVuaXRMaXN0LmZpbHRlcih1ID0+IHUuaXNBY3RpdmUpO1xuXG4gICAgY29uc3QgY2xvc2VBbGxQYW5lbHMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIHNldFVuaXRNYW5hZ2VtZW50UGFuZWwocCA9PiBwLmlzT3BlbiA/IHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGluc3RhbmNlSWQ6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgICAgICBzZXRCdWlsZFBhbmVsU3RhdGUocCA9PiBwLmlzT3BlbiA/IHsgaXNPcGVuOiBmYWxzZSwgdmlsbGFnZXJJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgICAgIHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIHRhcmdldElkOiBudWxsLCB0YXJnZXRUeXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICAgICAgc2V0Q2l2UGFuZWxTdGF0ZShwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICAgICAgc2V0QWxsQnVpbGRpbmdzUGFuZWwocCA9PiBwLmlzT3BlbiA/IHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgICAgIHNldEludmVudG9yeVBhbmVsU3RhdGUocCA9PiBwLmlzT3BlbiA/IHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgaGFuZGxlT3BlbkJ1aWxkaW5nUGFuZWwgPSB1c2VDYWxsYmFjaygodHlwZTogQnVpbGRpbmdUeXBlIHwgc3RyaW5nLCBpbnN0YW5jZUlkOiBzdHJpbmcsIHJlY3Q6IERPTVJlY3QpID0+IHtcbiAgICAgICAgY2xvc2VBbGxQYW5lbHMoKTtcbiAgICAgICAgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IHRydWUsIHR5cGUsIGluc3RhbmNlSWQsIGFuY2hvclJlY3Q6IHJlY3QgfSk7XG4gICAgfSwgW2Nsb3NlQWxsUGFuZWxzXSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBoYW5kbGVDbGlja091dHNpZGUgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBFbGVtZW50O1xuICAgICAgICAgICAgaWYgKCF0YXJnZXQuY2xvc2VzdCgnLnNjaS1maS1wYW5lbC1wb3B1cCwgW2RhdGEtcmFkaXgtcG9wcGVyLWNvbnRlbnQtd3JhcHBlcl0nKSkgY2xvc2VBbGxQYW5lbHMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgfSwgW2Nsb3NlQWxsUGFuZWxzXSk7XG5cbiAgICBjb25zdCByZW5kZXJDb250ZW50ID0gKCkgPT4ge1xuICAgICAgICBpZiAoaXNBcHBMb2FkaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gPExvYWRpbmdTY3JlZW4gLz47XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKGdhbWVTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lU3RhdHVzLk1FTlU6IHJldHVybiA8U3RhcnRTY3JlZW4gb25OZXdHYW1lPXtoYW5kbGVTdGFydE5ld0dhbWV9IG9uUmVzdW1lR2FtZT17aGFuZGxlUmVzdW1lR2FtZX0gc2F2ZWRHYW1lcz17YWxsU2F2ZXN9IG9uRGVsZXRlR2FtZT17aGFuZGxlRGVsZXRlR2FtZX0gLz47XG4gICAgICAgICAgICBjYXNlIEdhbWVTdGF0dXMuTE9BRElORzogcmV0dXJuIDxMb2FkaW5nU2NyZWVuIC8+O1xuICAgICAgICAgICAgY2FzZSBHYW1lU3RhdHVzLlBMQVlJTkc6XG4gICAgICAgICAgICAgICAgaWYgKCFjaXZpbGl6YXRpb24pIHJldHVybiA8TG9hZGluZ1NjcmVlbiAvPjtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEdhbWVVSVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpdmlsaXphdGlvbj17Y2l2aWxpemF0aW9ufSByZXNvdXJjZXM9e3Jlc291cmNlc30gdW5pdHM9e3VuaXRzfSBidWlsZGluZ3M9e2J1aWxkaW5nc30gcG9wdWxhdGlvbj17cG9wdWxhdGlvbn0gY3VycmVudEFnZT17Y3VycmVudEFnZX0gZ2FtZUxvZz17Z2FtZUxvZ30gcmVzb3VyY2VEZWx0YXM9e3Jlc291cmNlRGVsdGFzfSBhY3Rpdml0eVN0YXR1cz17YWN0aXZpdHlTdGF0dXN9IHVuaXRMaXN0PXthY3RpdmVVbml0c30gYnVpbGRpbmdMaXN0PXtidWlsZGluZ0xpc3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuVW5pdFBhbmVsPXsodHlwZSwgcmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRVbml0TWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiB0cnVlLCB0eXBlLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkJ1aWxkaW5nUGFuZWw9e2hhbmRsZU9wZW5CdWlsZGluZ1BhbmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkFsbEJ1aWxkaW5nc1BhbmVsPXsocmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRBbGxCdWlsZGluZ3NQYW5lbCh7IGlzT3BlbjogdHJ1ZSwgYW5jaG9yUmVjdDogcmVjdCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJBY3Rpb249e3BsYXllckFjdGlvbn0gb25Db25maXJtUGxhY2VtZW50PXtoYW5kbGVDb25maXJtUGxhY2VtZW50fSBvbkNhbmNlbFBsYXllckFjdGlvbj17aGFuZGxlQ2FuY2VsUGxheWVyQWN0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQnVpbGRpbmdDbGljaz17KGJ1aWxkaW5nLCByZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IGNvbnN0IHR5cGUgPSBPYmplY3Qua2V5cyhidWlsZGluZ3MpLmZpbmQoa2V5ID0+IGJ1aWxkaW5nc1trZXkgYXMgc3RyaW5nXT8uc29tZShiID0+IGIuaWQgPT09IGJ1aWxkaW5nLmlkKSk7IGlmKHR5cGUpIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiB0cnVlLCB0eXBlLCBpbnN0YW5jZUlkOiBidWlsZGluZy5pZCwgYW5jaG9yUmVjdDogcmVjdCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBEaW1lbnNpb25zPXtNQVBfRElNRU5TSU9OU30gYWN0aXZlVGFza3M9e2FjdGl2ZVRhc2tzfSBvbkV4aXRHYW1lPXtoYW5kbGVFeGl0R2FtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5DaXZQYW5lbD17KHJlY3QpID0+IHsgY2xvc2VBbGxQYW5lbHMoKTsgc2V0Q2l2UGFuZWxTdGF0ZSh7IGlzT3BlbjogdHJ1ZSwgYW5jaG9yUmVjdDogcmVjdCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZU5vZGVzPXtyZXNvdXJjZU5vZGVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkFzc2lnbm1lbnRQYW5lbD17KG5vZGVJZCwgcmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZSh7IGlzT3BlbjogdHJ1ZSwgdGFyZ2V0SWQ6IG5vZGVJZCwgdGFyZ2V0VHlwZTogJ3Jlc291cmNlJywgYW5jaG9yUmVjdDogcmVjdCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5Db25zdHJ1Y3Rpb25QYW5lbD17KGNvbnN0cnVjdGlvbklkLCByZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiB0cnVlLCB0YXJnZXRJZDogY29uc3RydWN0aW9uSWQsIHRhcmdldFR5cGU6ICdjb25zdHJ1Y3Rpb24nLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhdGhlckluZm89e0dBVEhFUl9JTkZPfSBjdXJyZW50RXZlbnQ9e2N1cnJlbnRFdmVudH0gb25FdmVudENob2ljZT17aGFuZGxlRXZlbnRDaG9pY2V9IGludmVudG9yeT17aW52ZW50b3J5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkludmVudG9yeVBhbmVsPXsocmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRJbnZlbnRvcnlQYW5lbFN0YXRlKHsgaXNPcGVuOiB0cnVlLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdWlsZFBhbmVsIGlzT3Blbj17YnVpbGRQYW5lbFN0YXRlLmlzT3Blbn0gb25DbG9zZT17KCkgPT4gc2V0QnVpbGRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdmlsbGFnZXJJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KX0gb25TdGFydFBsYWNlbWVudD17aGFuZGxlU3RhcnRQbGFjZW1lbnR9IHJlc291cmNlcz17cmVzb3VyY2VzfSBidWlsZGluZ0NvdW50cz17YnVpbGRpbmdDb3VudHN9IGJ1aWxkaW5nTGlzdD17YXZhaWxhYmxlQnVpbGRpbmdzfSBhbmNob3JSZWN0PXtidWlsZFBhbmVsU3RhdGUuYW5jaG9yUmVjdH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxVbml0TWFuYWdlbWVudFBhbmVsIGlzT3Blbj17dW5pdE1hbmFnZW1lbnRQYW5lbC5pc09wZW59IG9uQ2xvc2U9eygpID0+IHNldFVuaXRNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pfSB0eXBlPXt1bml0TWFuYWdlbWVudFBhbmVsLnR5cGV9IHVuaXRzPXt1bml0c30gb25VcGRhdGVVbml0PXtoYW5kbGVVcGRhdGVVbml0fSBvbkRpc21pc3NVbml0PXtoYW5kbGVEaXNtaXNzU3BlY2lmaWNVbml0fSBvbkluaXRpYXRlQnVpbGQ9eyh2aWxsYWdlcklkLCByZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IGhhbmRsZUluaXRpYXRlQnVpbGQodmlsbGFnZXJJZCwgcmVjdCk7IH19IGdldFZpbGxhZ2VyVGFza0RldGFpbHM9e2dldFZpbGxhZ2VyVGFza0RldGFpbHN9IGFuY2hvclJlY3Q9e3VuaXRNYW5hZ2VtZW50UGFuZWwuYW5jaG9yUmVjdH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCBpc09wZW49e2J1aWxkaW5nTWFuYWdlbWVudFBhbmVsLmlzT3Blbn0gb25DbG9zZT17KCkgPT4gc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pfSBwYW5lbFN0YXRlPXtidWlsZGluZ01hbmFnZW1lbnRQYW5lbH0gYnVpbGRpbmdzPXtidWlsZGluZ3N9IGJ1aWxkaW5nTGlzdD17YnVpbGRpbmdMaXN0fSBvblVwZGF0ZUJ1aWxkaW5nPXtoYW5kbGVVcGRhdGVCdWlsZGluZ30gb25EZW1vbGlzaEJ1aWxkaW5nPXtoYW5kbGVEZW1vbGlzaEJ1aWxkaW5nfSBvblRyYWluVW5pdHM9e2hhbmRsZVRyYWluVW5pdHN9IG9uVHJhaW5WaWxsYWdlcnM9e2hhbmRsZVRyYWluVmlsbGFnZXJzfSBvblVwZ3JhZGVCdWlsZGluZz17aGFuZGxlVXBncmFkZUJ1aWxkaW5nfSByZXNvdXJjZXM9e3Jlc291cmNlc30gcG9wdWxhdGlvbj17cG9wdWxhdGlvbn0gdW5pdExpc3Q9e2FjdGl2ZVVuaXRzfSBvbkFkdmFuY2VBZ2U9e2hhbmRsZUFkdmFuY2VBZ2V9IGFjdGl2ZVRhc2tzPXthY3RpdmVUYXNrc30gYW5jaG9yUmVjdD17YnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwuYW5jaG9yUmVjdH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxSZXNvdXJjZUFzc2lnbm1lbnRQYW5lbCBpc09wZW49e2Fzc2lnbm1lbnRQYW5lbFN0YXRlLmlzT3Blbn0gb25DbG9zZT17KCkgPT4gc2V0QXNzaWdubWVudFBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KX0gYXNzaWdubWVudFRhcmdldD17YXNzaWdubWVudFRhcmdldCB8fCBudWxsfSBpZGxlVmlsbGFnZXJDb3VudD17aWRsZVZpbGxhZ2VyQ291bnR9IG9uQXNzaWduVmlsbGFnZXJzPXtoYW5kbGVBc3NpZ25WaWxsYWdlcnN9IG9uUmVjYWxsVmlsbGFnZXJzPXtoYW5kbGVSZWNhbGxWaWxsYWdlcnN9IGdhdGhlckluZm89e0dBVEhFUl9JTkZPfSBidWlsZGluZ0xpc3Q9e2J1aWxkaW5nTGlzdH0gdW5pdHM9e3VuaXRzfSBhbmNob3JSZWN0PXthc3NpZ25tZW50UGFuZWxTdGF0ZS5hbmNob3JSZWN0fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPENpdmlsaXphdGlvblBhbmVsIGlzT3Blbj17Y2l2UGFuZWxTdGF0ZS5pc09wZW59IG9uQ2xvc2U9eygpID0+IHNldENpdlBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0pfSBjaXZpbGl6YXRpb249e2NpdmlsaXphdGlvbn0gYW5jaG9yUmVjdD17Y2l2UGFuZWxTdGF0ZS5hbmNob3JSZWN0fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEFsbEJ1aWxkaW5nc1BhbmVsIGlzT3Blbj17YWxsQnVpbGRpbmdzUGFuZWwuaXNPcGVufSBvbkNsb3NlPXsoKSA9PiBzZXRBbGxCdWlsZGluZ3NQYW5lbCh7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSl9IGJ1aWxkaW5nTGlzdD17YnVpbGRpbmdMaXN0fSBidWlsZGluZ0NvdW50cz17YnVpbGRpbmdDb3VudHN9IGFjdGl2ZVRhc2tzPXthY3RpdmVUYXNrc30gb25PcGVuQnVpbGRpbmdQYW5lbD17aGFuZGxlT3BlbkJ1aWxkaW5nUGFuZWx9IGFuY2hvclJlY3Q9e2FsbEJ1aWxkaW5nc1BhbmVsLmFuY2hvclJlY3R9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8SW52ZW50b3J5UGFuZWwgaXNPcGVuPXtpbnZlbnRvcnlQYW5lbFN0YXRlLmlzT3Blbn0gb25DbG9zZT17KCkgPT4gc2V0SW52ZW50b3J5UGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSl9IGludmVudG9yeT17aW52ZW50b3J5fSBvblVzZUl0ZW09e2hhbmRsZVVzZUl0ZW19IGFjdGl2ZVRhc2tzPXthY3RpdmVUYXNrc30gYWN0aXZlQnVmZnM9e2FjdGl2ZUJ1ZmZzfSBhbmNob3JSZWN0PXtpbnZlbnRvcnlQYW5lbFN0YXRlLmFuY2hvclJlY3R9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gPFN0YXJ0U2NyZWVuIG9uTmV3R2FtZT17aGFuZGxlU3RhcnROZXdHYW1lfSBvblJlc3VtZUdhbWU9e2hhbmRsZVJlc3VtZUdhbWV9IHNhdmVkR2FtZXM9e2FsbFNhdmVzfSBvbkRlbGV0ZUdhbWU9e2hhbmRsZURlbGV0ZUdhbWV9IC8+O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLXN0b25lLWRhcmsgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC00XCI+XG4gICAgICAgICAgICB7Z2FtZVN0YXRlID09PSBHYW1lU3RhdHVzLlBMQVlJTkcgJiYgKFxuICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZVVubGltaXRlZFJlc291cmNlc30gY2xhc3NOYW1lPVwiZml4ZWQgYm90dG9tLTQgbGVmdC00IHotWzEwMV0gYmctYnJhbmQtZ29sZCB0ZXh0LXN0b25lLWRhcmsgZm9udC1ib2xkIHB5LTEgcHgtMyByb3VuZGVkLWZ1bGwgdGV4dC14cyBzaGFkb3ctbGcgaG92ZXI6c2NhbGUtMTA1IHRyYW5zaXRpb24tdHJhbnNmb3JtXCIgYXJpYS1sYWJlbD1cIlRvZ2dsZSB1bmxpbWl0ZWQgcmVzb3VyY2VzIHRlc3QgbW9kZVwiPlRlc3QgTW9kZToge3VubGltaXRlZFJlc291cmNlcyA/ICdPTicgOiAnT0ZGJ308L2J1dHRvbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8Tm90aWZpY2F0aW9uTWFuYWdlciBub3RpZmljYXRpb25zPXtub3RpZmljYXRpb25zfSBvblJlbW92ZU5vdGlmaWNhdGlvbj17cmVtb3ZlTm90aWZpY2F0aW9ufSAvPlxuICAgICAgICAgICAgPG1haW4gY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LTd4bCBteC1hdXRvXCI+XG4gICAgICAgICAgICAgICAge3JlbmRlckNvbnRlbnQoKX1cbiAgICAgICAgICAgIDwvbWFpbj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdhbWVQYWdlO1xuXG5cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VNZW1vIiwiR2FtZVN0YXR1cyIsImdldFByZWRlZmluZWRDaXZpbGl6YXRpb24iLCJnZXRQcmVkZWZpbmVkR2FtZUV2ZW50Iiwic2F2ZUdhbWVTdGF0ZSIsImxvYWRHYW1lU3RhdGUiLCJnZXRBbGxTYXZlTmFtZXMiLCJkZWxldGVHYW1lU3RhdGUiLCJnZXRBbGxBZ2VDb25maWdzIiwiZ2V0QWxsQnVpbGRpbmdDb25maWdzIiwiZ2V0QWxsVW5pdENvbmZpZ3MiLCJzYXZlQWdlQ29uZmlnIiwic2F2ZUJ1aWxkaW5nQ29uZmlnIiwic2F2ZVVuaXRDb25maWciLCJnZXRSYW5kb21OYW1lcyIsIkdBTUVfSVRFTVMiLCJJTklUSUFMX0FHRVMiLCJJTklUSUFMX0JVSUxESU5HUyIsIklOSVRJQUxfVU5JVFMiLCJHYW1lVUkiLCJTdGFydFNjcmVlbiIsIkxvYWRpbmdTY3JlZW4iLCJCdWlsZFBhbmVsIiwiTm90aWZpY2F0aW9uTWFuYWdlciIsIlVuaXRNYW5hZ2VtZW50UGFuZWwiLCJCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCIsIlJlc291cmNlQXNzaWdubWVudFBhbmVsIiwiQ2l2aWxpemF0aW9uUGFuZWwiLCJBbGxCdWlsZGluZ3NQYW5lbCIsIkludmVudG9yeVBhbmVsIiwiR0FUSEVSX0lORk8iLCJmb29kIiwicmF0ZSIsIndvb2QiLCJnb2xkIiwic3RvbmUiLCJpbml0aWFsQnVpbGRpbmdzU3RhdGUiLCJob3VzZXMiLCJiYXJyYWNrcyIsImFyY2hlcnlSYW5nZSIsInN0YWJsZSIsInNpZWdlV29ya3Nob3AiLCJibGFja3NtaXRoIiwid2F0Y2hUb3dlciIsInRvd25DZW50ZXIiLCJNQVBfRElNRU5TSU9OUyIsIndpZHRoIiwiaGVpZ2h0IiwiR2FtZVBhZ2UiLCJnYW1lU3RhdGUiLCJzZXRHYW1lU3RhdGUiLCJMT0FESU5HIiwiY2l2aWxpemF0aW9uIiwic2V0Q2l2aWxpemF0aW9uIiwicmVzb3VyY2VzIiwic2V0UmVzb3VyY2VzIiwidW5pdHMiLCJzZXRVbml0cyIsInZpbGxhZ2VycyIsIm1pbGl0YXJ5IiwiYnVpbGRpbmdzIiwic2V0QnVpbGRpbmdzIiwiY3VycmVudEFnZSIsInNldEN1cnJlbnRBZ2UiLCJnYW1lTG9nIiwic2V0R2FtZUxvZyIsImN1cnJlbnRFdmVudCIsInNldEN1cnJlbnRFdmVudCIsInJlc291cmNlRGVsdGFzIiwic2V0UmVzb3VyY2VEZWx0YXMiLCJhY3Rpdml0eVN0YXR1cyIsInNldEFjdGl2aXR5U3RhdHVzIiwibm90aWZpY2F0aW9ucyIsInNldE5vdGlmaWNhdGlvbnMiLCJ1bmxpbWl0ZWRSZXNvdXJjZXMiLCJzZXRVbmxpbWl0ZWRSZXNvdXJjZXMiLCJhbGxTYXZlcyIsInNldEFsbFNhdmVzIiwiY3VycmVudFNhdmVOYW1lIiwic2V0Q3VycmVudFNhdmVOYW1lIiwicGxheWVyQWN0aW9uIiwic2V0UGxheWVyQWN0aW9uIiwiYWN0aXZlVGFza3MiLCJzZXRBY3RpdmVUYXNrcyIsInJlc291cmNlTm9kZXMiLCJzZXRSZXNvdXJjZU5vZGVzIiwiaW52ZW50b3J5Iiwic2V0SW52ZW50b3J5IiwiYWN0aXZlQnVmZnMiLCJzZXRBY3RpdmVCdWZmcyIsInJlc291cmNlQm9vc3QiLCJtYXN0ZXJBZ2VMaXN0Iiwic2V0TWFzdGVyQWdlTGlzdCIsIm1hc3RlckJ1aWxkaW5nTGlzdCIsInNldE1hc3RlckJ1aWxkaW5nTGlzdCIsIm1hc3RlclVuaXRMaXN0Iiwic2V0TWFzdGVyVW5pdExpc3QiLCJpc0FwcExvYWRpbmciLCJzZXRJc0FwcExvYWRpbmciLCJidWlsZFBhbmVsU3RhdGUiLCJzZXRCdWlsZFBhbmVsU3RhdGUiLCJpc09wZW4iLCJ2aWxsYWdlcklkIiwiYW5jaG9yUmVjdCIsInVuaXRNYW5hZ2VtZW50UGFuZWwiLCJzZXRVbml0TWFuYWdlbWVudFBhbmVsIiwidHlwZSIsImJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsIiwic2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwiLCJpbnN0YW5jZUlkIiwiYWxsQnVpbGRpbmdzUGFuZWwiLCJzZXRBbGxCdWlsZGluZ3NQYW5lbCIsImFzc2lnbm1lbnRQYW5lbFN0YXRlIiwic2V0QXNzaWdubWVudFBhbmVsU3RhdGUiLCJ0YXJnZXRJZCIsInRhcmdldFR5cGUiLCJjaXZQYW5lbFN0YXRlIiwic2V0Q2l2UGFuZWxTdGF0ZSIsImludmVudG9yeVBhbmVsU3RhdGUiLCJzZXRJbnZlbnRvcnlQYW5lbFN0YXRlIiwiZGVsdGFUaW1lb3V0UmVmIiwiZXZlbnRUaW1lclJlZiIsImxhc3RUaWNrUmVmIiwiRGF0ZSIsIm5vdyIsImFuaW1hdGlvbkZyYW1lUmVmIiwiYWdlUHJvZ3Jlc3Npb25MaXN0IiwiZmlsdGVyIiwiYWdlIiwiaXNBY3RpdmUiLCJidWlsZGluZ0xpc3QiLCJ1bml0TGlzdCIsInBvcHVsYXRpb25DYXBhY2l0eSIsImNhcGFjaXR5IiwiYnVpbGRpbmdUeXBlIiwiYnVpbGRpbmdJbmZvIiwiZmluZCIsImIiLCJpZCIsImxlbmd0aCIsInBvcHVsYXRpb24iLCJtaWxpdGFyeVBvcCIsInJlZHVjZSIsImFjYyIsInVuaXQiLCJ1bml0SW5mbyIsInUiLCJ1bml0VHlwZSIsInBvcHVsYXRpb25Db3N0IiwiY3VycmVudCIsImZldGNoU2F2ZXNBbmRDb25maWdzIiwiYWxsQWdlQ29uZmlncyIsIm5hbWVzIiwiYWdlTWFwIiwiTWFwIiwibWFwIiwiaXRlbSIsImFnZXNOZWVkVXBkYXRlIiwiaW5kZXgiLCJwSXRlbSIsImVudHJpZXMiLCJleGlzdGluZ0l0ZW0iLCJnZXQiLCJuYW1lIiwibmV3SXRlbSIsImlzUHJlZGVmaW5lZCIsIm9yZGVyIiwiSlNPTiIsInN0cmluZ2lmeSIsImFsbEJ1aWxkaW5nQ29uZmlncyIsImJ1aWxkaW5nTWFwIiwiYnVpbGRpbmdzTmVlZFVwZGF0ZSIsImRlZmF1bHRBZ2UiLCJ1bmxvY2tlZEluQWdlIiwidHJlZUlkIiwiZ2VuZXJhdGVzUmVzb3VyY2UiLCJnZW5lcmF0aW9uUmF0ZSIsIm1haW50ZW5hbmNlQ29zdCIsImFsbFVuaXRDb25maWdzIiwidW5pdE1hcCIsInVuaXRzTmVlZFVwZGF0ZSIsImluaXRpYWxVbml0c1dpdGhJZHMiLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJlcnJvciIsImNvbnNvbGUiLCJhZ2VzIiwiYSIsImkiLCJNRU5VIiwiUExBWUlORyIsImZ1bGxTdGF0ZSIsImFkZE5vdGlmaWNhdGlvbiIsIm1lc3NhZ2UiLCJNYXRoIiwicmFuZG9tIiwicHJldiIsInJlbW92ZU5vdGlmaWNhdGlvbiIsIm4iLCJhZGRUb0xvZyIsImljb24iLCJzbGljZSIsInVwZGF0ZVJlc291cmNlcyIsImRlbHRhcyIsIm5ld1Jlc291cmNlcyIsImtleSIsInJlc291cmNlS2V5IiwibWF4Iiwid2luZG93IiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsIm5ld0RlbHRhcyIsImhhbmRsZVRhc2tDb21wbGV0aW9uIiwidGFzayIsInBheWxvYWQiLCJ2aWxsYWdlcklkcyIsInYiLCJpbmNsdWRlcyIsImN1cnJlbnRUYXNrIiwicG9zaXRpb24iLCJuZXdCdWlsZGluZyIsImN1cnJlbnRIcCIsImhwIiwicCIsImN1cnJlbnRCdWlsZGluZ3MiLCJpY29uSWQiLCJvcmlnaW5hbEJ1aWxkaW5nSWQiLCJvcmlnaW5hbEJ1aWxkaW5nVHlwZSIsInRhcmdldEJ1aWxkaW5nVHlwZSIsIm9yaWdpbmFsQnVpbGRpbmciLCJ0YXJnZXRCdWlsZGluZ0luZm8iLCJuZXdCdWlsZGluZ3MiLCJjb3VudCIsIm5ld1ZpbGxhZ2VyTmFtZXMiLCJuZXdWaWxsYWdlcnMiLCJuZXdVbml0TmFtZXMiLCJuZXdVbml0cyIsInRpdGxlIiwiYWN0aXZlQWdlcyIsImN1cnJlbnRJbmRleCIsImZpbmRJbmRleCIsImFnZVJlc3VsdCIsImRlc2NyaXB0aW9uIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJnYW1lTG9vcCIsImRlbHRhVGltZSIsImNvbXBsZXRlZFRhc2tzIiwicmVzb3VyY2VEZWx0YXNUaGlzVGljayIsIk9iamVjdCIsInZhbHVlcyIsImZsYXQiLCJmb3JFYWNoIiwiaW5zdGFuY2UiLCJjb25maWciLCJrZXlzIiwic29tZSIsImJJbnN0IiwiYW1vdW50UGVyU2Vjb25kIiwicmVzIiwiY29zdCIsImNvc3RQZXJTZWNvbmQiLCJuZXdSZXNvdXJjZUJvb3N0cyIsImVuZFRpbWUiLCJ0YXNrc0luUHJvZ3Jlc3MiLCJzdGFydFRpbWUiLCJkdXJhdGlvbiIsInB1c2giLCJub2RlIiwicmVzb3VyY2VOb2RlSWQiLCJ2aWxsYWdlckNvdW50IiwiYmFzZVJhdGVQZXJTZWNvbmQiLCJyaWNobmVzcyIsImNpdkJvbnVzTXVsdGlwbGllciIsImJvbnVzIiwibWF0Y2giLCJwYXJzZUludCIsIml0ZW1Cb29zdE11bHRpcGxpZXIiLCJyZXNvdXJjZSIsIm11bHRpcGxpZXIiLCJmaW5hbFJhdGVQZXJTZWNvbmQiLCJCb29sZWFuIiwicHJldk5vZGVzIiwiYW1vdW50VG9EZWNyZW1lbnQiLCJuZXdBbW91bnQiLCJhbW91bnQiLCJ0YXNrSWQiLCJ0IiwiZmxvb3IiLCJmaW5hbEFjdGl2ZVRhc2tzIiwiY3QiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJoYW5kbGVOZXdFdmVudCIsImV2ZW50Iiwic2NoZWR1bGVOZXh0RXZlbnQiLCJnZW5lcmF0ZVJlc291cmNlTm9kZXMiLCJzdGFydFBvc2l0aW9uIiwibm9kZXMiLCJvY2N1cGllZENlbGxzIiwiU2V0IiwieCIsInkiLCJTQUZFX1JBRElVUyIsIlJJQ0hfQ0hBTkNFIiwicGxhY2VOb2RlIiwicHJlZmVyQ29udGVzdGVkIiwicGxhY2VkIiwiYW5nbGUiLCJQSSIsImRpc3RhbmNlIiwibWluIiwicm91bmQiLCJjb3MiLCJzaW4iLCJoYXMiLCJhZGQiLCJ0b3RhbE5vZGVzIiwidHlwZXMiLCJpc0NvbnRlc3RlZCIsImhhbmRsZVN0YXJ0TmV3R2FtZSIsInNhdmVOYW1lIiwibG9jYWxBZ2VQcm9ncmVzc2lvbkxpc3QiLCJjb25maWdzIiwiY2l2IiwiaW5pdGlhbFZpbGxhZ2VycyIsInRjUG9zaXRpb24iLCJ0Y0luZm8iLCJpbml0aWFsVEMiLCJpc1ZpbGxhZ2VyQnVzeSIsImdldFZpbGxhZ2VyVGFza0RldGFpbHMiLCJ2aWxsYWdlciIsImhhbmRsZVJlc3VtZUdhbWUiLCJzYXZlZFN0YXRlIiwibWlncmF0ZWRWaWxsYWdlcnMiLCJ1bmRlZmluZWQiLCJtaWdyYXRlZFRhc2tzIiwidmlkIiwiY29uc3RydWN0aW9uVGFza3MiLCJmaW5hbEJ1aWxkaW5ncyIsImJUeXBlIiwiaW5mbyIsImhhbmRsZUV2ZW50Q2hvaWNlIiwiY2hvaWNlIiwibWlzc2luZyIsImpvaW4iLCJrIiwiaXNTdWNjZXNzIiwic3VjY2Vzc0NoYW5jZSIsImVmZmVjdHMiLCJzdWNjZXNzRWZmZWN0cyIsImZhaWx1cmVFZmZlY3RzIiwibG9nTWVzc2FnZSIsInRleHQiLCJsb2ciLCJyZXdhcmRzIiwicmV3YXJkIiwiQXJyYXkiLCJpc0FycmF5IiwiYWJzIiwiaXRlbUluZm8iLCJpdGVtSWQiLCJuZXdJdGVtcyIsImZyb20iLCJfIiwiYnVpbGRpbmdJZCIsImhhbmRsZUluaXRpYXRlQnVpbGQiLCJyZWN0IiwiaGFuZGxlU3RhcnRQbGFjZW1lbnQiLCJleGlzdGluZ0NvdW50IiwiY29uc3RydWN0aW5nQ291bnQiLCJ0b3RhbENvdW50IiwibGltaXQiLCJidWlsZExpbWl0IiwibW9kZSIsImhhbmRsZUNvbmZpcm1QbGFjZW1lbnQiLCJidWlsZGVyIiwiYnVpbGRUaW1lIiwiYnVpbGRUaW1lUmVkdWN0aW9uIiwicGVyY2VudGFnZSIsInVzZXMiLCJ0YXNrUGF5bG9hZCIsImhhbmRsZUNhbmNlbFBsYXllckFjdGlvbiIsImhhbmRsZURlbW9saXNoQnVpbGRpbmciLCJidWlsZGluZ0luc3RhbmNlIiwiY2FwYWNpdHlXaXRob3V0VGhpc0J1aWxkaW5nIiwicmVmdW5kIiwiciIsImhhbmRsZVVwZGF0ZUJ1aWxkaW5nIiwiaGFuZGxlVXBncmFkZUJ1aWxkaW5nIiwiYnVpbGRpbmciLCJ1cGdyYWRlUGF0aCIsInRpbWUiLCJoYW5kbGVUcmFpblZpbGxhZ2VycyIsInRvdGFsQ29zdCIsImhhbmRsZVRyYWluVW5pdHMiLCJ0b3RhbFBvcHVsYXRpb25Db3N0IiwidHJhaW5pbmdCdWlsZGluZyIsInJlcXVpcmVkQnVpbGRpbmciLCJyZXF1aXJlZEJ1aWxkaW5nSWRzIiwibWlzc2luZ0J1aWxkaW5ncyIsInJlcUlkIiwibWlzc2luZ05hbWVzIiwidHJhaW5UaW1lIiwicGVybWFuZW50VHJhaW5UaW1lUmVkdWN0aW9uIiwidHJhaW5UaW1lUmVkdWN0aW9uIiwiYXBwbGljYWJsZSIsImhhbmRsZURpc21pc3NTcGVjaWZpY1VuaXQiLCJ1bml0VHlwZU5hbWUiLCJoYW5kbGVVcGRhdGVVbml0IiwiaGFuZGxlQXNzaWduVmlsbGFnZXJzVG9Db25zdHJ1Y3Rpb24iLCJjb25zdHJ1Y3Rpb25JZCIsImlkbGVWaWxsYWdlcnMiLCJjYXBwZWRDb3VudCIsInZpbGxhZ2Vyc1RvQXNzaWduIiwid29ya0RvbmUiLCJ3b3JrUmVtYWluaW5nIiwibmV3V29ya2VyQ291bnQiLCJuZXdSZW1haW5pbmdEdXJhdGlvbiIsImhhbmRsZUFzc2lnblZpbGxhZ2VycyIsInRhcmdldE5vZGUiLCJleGlzdGluZ1Rhc2siLCJoYW5kbGVSZWNhbGxWaWxsYWdlcnMiLCJ2aWxsYWdlcnNUb1JlY2FsbCIsInJlbWFpbmluZ1ZpbGxhZ2VycyIsImhhbmRsZUFkdmFuY2VBZ2UiLCJoYW5kbGVFeGl0R2FtZSIsImhhbmRsZURlbGV0ZUdhbWUiLCJoYW5kbGVUb2dnbGVVbmxpbWl0ZWRSZXNvdXJjZXMiLCJuZXdNb2RlIiwiZGVwbGV0ZWROb2RlSWRzIiwic2l6ZSIsImhhbmRsZVVzZUl0ZW0iLCJiYXNlSXRlbUlkIiwic3BsaXQiLCJzb3J0IiwidGFza3MiLCJidWlsZGluZ0NvdW50cyIsImlkbGVWaWxsYWdlckNvdW50IiwiYXNzaWdubWVudFRhcmdldCIsImN1cnJlbnRBZ2VJbmRleCIsImF2YWlsYWJsZUJ1aWxkaW5ncyIsInVubG9ja0FnZUluZGV4IiwiaXNVcGdyYWRlT25seSIsImFjdGl2ZVVuaXRzIiwiY2xvc2VBbGxQYW5lbHMiLCJoYW5kbGVPcGVuQnVpbGRpbmdQYW5lbCIsImhhbmRsZUNsaWNrT3V0c2lkZSIsInRhcmdldCIsImNsb3Nlc3QiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVuZGVyQ29udGVudCIsIm9uTmV3R2FtZSIsIm9uUmVzdW1lR2FtZSIsInNhdmVkR2FtZXMiLCJvbkRlbGV0ZUdhbWUiLCJvbk9wZW5Vbml0UGFuZWwiLCJvbk9wZW5CdWlsZGluZ1BhbmVsIiwib25PcGVuQWxsQnVpbGRpbmdzUGFuZWwiLCJvbkNvbmZpcm1QbGFjZW1lbnQiLCJvbkNhbmNlbFBsYXllckFjdGlvbiIsIm9uQnVpbGRpbmdDbGljayIsIm1hcERpbWVuc2lvbnMiLCJvbkV4aXRHYW1lIiwib25PcGVuQ2l2UGFuZWwiLCJvbk9wZW5Bc3NpZ25tZW50UGFuZWwiLCJub2RlSWQiLCJvbk9wZW5Db25zdHJ1Y3Rpb25QYW5lbCIsImdhdGhlckluZm8iLCJvbkV2ZW50Q2hvaWNlIiwib25PcGVuSW52ZW50b3J5UGFuZWwiLCJvbkNsb3NlIiwib25TdGFydFBsYWNlbWVudCIsIm9uVXBkYXRlVW5pdCIsIm9uRGlzbWlzc1VuaXQiLCJvbkluaXRpYXRlQnVpbGQiLCJwYW5lbFN0YXRlIiwib25VcGRhdGVCdWlsZGluZyIsIm9uRGVtb2xpc2hCdWlsZGluZyIsIm9uVHJhaW5Vbml0cyIsIm9uVHJhaW5WaWxsYWdlcnMiLCJvblVwZ3JhZGVCdWlsZGluZyIsIm9uQWR2YW5jZUFnZSIsIm9uQXNzaWduVmlsbGFnZXJzIiwib25SZWNhbGxWaWxsYWdlcnMiLCJvblVzZUl0ZW0iLCJkaXYiLCJjbGFzc05hbWUiLCJidXR0b24iLCJvbkNsaWNrIiwiYXJpYS1sYWJlbCIsIm9uUmVtb3ZlTm90aWZpY2F0aW9uIiwibWFpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./types.ts":
/*!******************!*\
  !*** ./types.ts ***!
  \******************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GameStatus: function() { return /* binding */ GameStatus; }\n/* harmony export */ });\nvar GameStatus;\n(function(GameStatus) {\n    GameStatus[GameStatus[\"MENU\"] = 0] = \"MENU\";\n    GameStatus[GameStatus[\"LOADING\"] = 1] = \"LOADING\";\n    GameStatus[GameStatus[\"PLAYING\"] = 2] = \"PLAYING\";\n    GameStatus[GameStatus[\"GAME_OVER\"] = 3] = \"GAME_OVER\";\n})(GameStatus || (GameStatus = {}));\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3R5cGVzLnRzIiwibWFwcGluZ3MiOiI7Ozs7O1VBZVlBOzs7OztHQUFBQSxlQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi90eXBlcy50cz81NjUyIl0sInNvdXJjZXNDb250ZW50IjpbIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmV4cG9ydCBlbnVtIEdhbWVTdGF0dXMge1xuICAgIE1FTlUsXG4gICAgTE9BRElORyxcbiAgICBQTEFZSU5HLFxuICAgIEdBTUVfT1ZFUixcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDaXZpbGl6YXRpb24ge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBsb3JlOiBzdHJpbmc7XG4gICAgYm9udXM6IHN0cmluZztcbiAgICB1bmlxdWVVbml0OiB7XG4gICAgICAgIG5hbWU6c3RyaW5nO1xuICAgICAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIH07XG4gICAgYmFubmVyVXJsOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb3VyY2VzIHtcbiAgICBmb29kOiBudW1iZXI7XG4gICAgd29vZDogbnVtYmVyO1xuICAgIGdvbGQ6IG51bWJlcjtcbiAgICBzdG9uZTogbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBSZXNvdXJjZURlbHRhcyA9IFBhcnRpYWw8UmVzb3VyY2VzPjtcblxuZXhwb3J0IGludGVyZmFjZSBWaWxsYWdlciB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgY3VycmVudFRhc2s6IHN0cmluZyB8IG51bGw7IC8vIG51bGwgaWYgaWRsZSwgb3RoZXJ3aXNlIHRoZSBJRCBvZiB0aGUgR2FtZVRhc2tcbn1cblxuZXhwb3J0IHR5cGUgTWlsaXRhcnlVbml0VHlwZSA9ICdzd29yZHNtYW4nIHwgJ2FyY2hlcicgfCAna25pZ2h0JyB8ICdjYXRhcHVsdCcgfCBzdHJpbmc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWlsaXRhcnlVbml0IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIHVuaXRUeXBlOiBNaWxpdGFyeVVuaXRUeXBlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVuaXRzIHtcbiAgICB2aWxsYWdlcnM6IFZpbGxhZ2VyW107XG4gICAgbWlsaXRhcnk6IE1pbGl0YXJ5VW5pdFtdO1xufVxuXG5leHBvcnQgdHlwZSBCdWlsZGluZ1R5cGUgPSAnaG91c2VzJyB8ICdiYXJyYWNrcycgfCAnYXJjaGVyeVJhbmdlJyB8ICdzdGFibGUnIHwgJ3NpZWdlV29ya3Nob3AnIHwgJ2JsYWNrc21pdGgnIHwgJ3dhdGNoVG93ZXInIHwgJ3Rvd25DZW50ZXInO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJ1aWxkaW5nSW5zdGFuY2Uge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHBvc2l0aW9uOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyOyB9O1xuICAgIGN1cnJlbnRIcDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJ1aWxkaW5ncyB7XG4gICAgaG91c2VzOiBCdWlsZGluZ0luc3RhbmNlW107XG4gICAgYmFycmFja3M6IEJ1aWxkaW5nSW5zdGFuY2VbXTtcbiAgICBhcmNoZXJ5UmFuZ2U6IEJ1aWxkaW5nSW5zdGFuY2VbXTtcbiAgICBzdGFibGU6IEJ1aWxkaW5nSW5zdGFuY2VbXTtcbiAgICBzaWVnZVdvcmtzaG9wOiBCdWlsZGluZ0luc3RhbmNlW107XG4gICAgYmxhY2tzbWl0aDogQnVpbGRpbmdJbnN0YW5jZVtdO1xuICAgIHdhdGNoVG93ZXI6IEJ1aWxkaW5nSW5zdGFuY2VbXTtcbiAgICBba2V5OiBzdHJpbmddOiBCdWlsZGluZ0luc3RhbmNlW107IC8vIEFsbG93IGZvciBjdXN0b20gYnVpbGRpbmcgdHlwZXNcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHYW1lU3RhdGVQYXlsb2FkIHtcbiAgICBjaXY6IENpdmlsaXphdGlvbjtcbiAgICBhZ2U6IHN0cmluZztcbiAgICByZXM6IFJlc291cmNlcztcbiAgICB1bml0czoge1xuICAgICAgICB2aWxsYWdlcnM6IG51bWJlcjtcbiAgICAgICAgc3dvcmRzbWVuOiBudW1iZXI7XG4gICAgICAgIGFyY2hlcnM6IG51bWJlcjtcbiAgICAgICAga25pZ2h0czogbnVtYmVyO1xuICAgICAgICBjYXRhcHVsdHM6IG51bWJlcjtcbiAgICB9O1xuICAgIGJ1aWxkaW5nczogeyBba2V5IGluIEJ1aWxkaW5nVHlwZV0/OiBudW1iZXIgfTtcbn1cblxuZXhwb3J0IHR5cGUgQnVpbGRpbmdDb3N0cyA9IHsgW2tleSBpbiBrZXlvZiBSZXNvdXJjZXNdPzogbnVtYmVyIH07XG5cbmV4cG9ydCB0eXBlIEl0ZW1SYXJpdHkgPSAnQ29tbW9uJyB8ICdFcGljJyB8ICdMZWdlbmRhcnknIHwgJ1NwaXJpdHVhbCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2FtZUl0ZW0ge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgcmFyaXR5OiBJdGVtUmFyaXR5O1xufVxuXG5leHBvcnQgdHlwZSBSZXdhcmQgPSBcbiAgICB7IHR5cGU6ICdyZXNvdXJjZScsIHJlc291cmNlOiBrZXlvZiBSZXNvdXJjZXMsIGFtb3VudDogbnVtYmVyIHwgW251bWJlciwgbnVtYmVyXSB9IHxcbiAgICB7IHR5cGU6ICdpdGVtJywgaXRlbUlkOiBzdHJpbmcsIGFtb3VudDogbnVtYmVyIH0gfFxuICAgIHsgdHlwZTogJ3VuaXQnLCB1bml0VHlwZTogJ3ZpbGxhZ2VyJywgYW1vdW50OiBudW1iZXIgfSB8XG4gICAgeyB0eXBlOiAnYnVpbGRpbmcnLCBidWlsZGluZ0lkOiBzdHJpbmcsIGFtb3VudDogbnVtYmVyIH07XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2FtZUV2ZW50Q2hvaWNlIHtcbiAgICB0ZXh0OiBzdHJpbmc7XG4gICAgY29zdD86IEJ1aWxkaW5nQ29zdHM7XG4gICAgc3VjY2Vzc0NoYW5jZT86IG51bWJlcjsgLy8gMC0xLCB1bmRlZmluZWQgbWVhbnMgMTAwJVxuICAgIHN1Y2Nlc3NFZmZlY3RzOiB7IHJld2FyZHM6IFJld2FyZFtdLCBsb2c6IHN0cmluZyB9O1xuICAgIGZhaWx1cmVFZmZlY3RzPzogeyByZXdhcmRzOiBSZXdhcmRbXSwgbG9nOiBzdHJpbmcgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHYW1lRXZlbnQge1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBjaG9pY2VzOiBHYW1lRXZlbnRDaG9pY2VbXTtcbn1cblxuZXhwb3J0IHR5cGUgTG9nSWNvblR5cGUgPSBrZXlvZiBSZXNvdXJjZXMgfCAndmlsbGFnZXInIHwgTWlsaXRhcnlVbml0VHlwZSB8ICdhZ2UnIHwgJ2V2ZW50JyB8ICdzeXN0ZW0nIHwgQnVpbGRpbmdUeXBlIHwgc3RyaW5nIHwgJ2l0ZW0nO1xuXG5leHBvcnQgaW50ZXJmYWNlIEdhbWVMb2dFbnRyeSB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgaWNvbjogTG9nSWNvblR5cGU7XG59XG5cbmV4cG9ydCB0eXBlIFVuaXRDbGFzc2lmaWNhdGlvbiA9ICdpbmZhbnRyeScgfCAnY2F2YWxyeScgfCAnYXJjaGVyJyB8ICdzaWVnZScgfCAnc2hpcCcgfCAnc3VwcG9ydCcgfCAnbXl0aGljYWwnO1xuZXhwb3J0IHR5cGUgQXJtb3JDbGFzc2lmaWNhdGlvbiA9ICdtZWxlZScgfCAncGllcmNlJyB8ICdzaWVnZScgfCAnbWFnaWMnIHwgJ2VsZW1lbnRhbCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXJtb3JWYWx1ZSB7XG4gICAgdHlwZTogQXJtb3JDbGFzc2lmaWNhdGlvbjtcbiAgICB2YWx1ZTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEF0dGFja0JvbnVzIHtcbiAgICB0YXJnZXRUeXBlOiBVbml0Q2xhc3NpZmljYXRpb247XG4gICAgYm9udXM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEYW1hZ2VUeXBlIHtcbiAgICB0eXBlOiBzdHJpbmc7IC8vIGUuZy4sICdzbGFzaCcsICdwaWVyY2UnLCAnZmlyZScsICdtYWdpYydcbiAgICB2YWx1ZTogbnVtYmVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBUZXJyYWluTW9kaWZpZXIge1xuICAgIHRlcnJhaW5UeXBlOiBzdHJpbmc7IC8vIGUuZy4sICdmb3Jlc3QnLCAnZGVzZXJ0JywgJ3BsYWlucydcbiAgICBzcGVlZEJvbnVzOiBudW1iZXI7IC8vIHBlcmNlbnRhZ2UsIGNhbiBiZSBuZWdhdGl2ZVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVuaXRVcGdyYWRlUGF0aCB7XG4gICAgdGFyZ2V0VW5pdElkOiBzdHJpbmc7XG4gICAgY29zdDogQnVpbGRpbmdDb3N0cztcbiAgICB0aW1lOiBudW1iZXI7XG4gICAgcmVzZWFyY2hSZXF1aXJlZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVbml0Q29uZmlnIHtcbiAgICBpZDogTWlsaXRhcnlVbml0VHlwZTtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgICBjb3N0OiBCdWlsZGluZ0Nvc3RzO1xuICAgIHRyYWluVGltZTogbnVtYmVyOyAvLyBpbiBzZWNvbmRzXG4gICAgaHA6IG51bWJlcjtcbiAgICBpY29uSWQ6IHN0cmluZztcbiAgICByZXF1aXJlZEJ1aWxkaW5nOiBzdHJpbmc7XG4gICAgaXNBY3RpdmU6IGJvb2xlYW47XG4gICAgaXNQcmVkZWZpbmVkOiBib29sZWFuO1xuICAgIG9yZGVyOiBudW1iZXI7XG5cbiAgICAvLyAtLS0gQ29yZSBDb21iYXQgLS0tXG4gICAgYXR0YWNrPzogbnVtYmVyOyAvLyBNYWluIGF0dGFjayB2YWx1ZSwgY2FuIGJlIG92ZXJyaWRkZW4gYnkgZGFtYWdlVHlwZXNcbiAgICBhdHRhY2tSYXRlPzogbnVtYmVyOyAvLyBhdHRhY2tzIHBlciBzZWNvbmRcbiAgICBhdHRhY2tSYW5nZT86IG51bWJlcjsgLy8gaW4gZ3JpZCBjZWxsc1xuICAgIGRhbWFnZVR5cGVzPzogRGFtYWdlVHlwZVtdO1xuICAgIGFybW9yVmFsdWVzPzogQXJtb3JWYWx1ZVtdO1xuICAgIGFybW9yUGVuZXRyYXRpb24/OiBudW1iZXI7IC8vIHBlcmNlbnRhZ2VcbiAgICBjcml0aWNhbENoYW5jZT86IG51bWJlcjsgLy8gcGVyY2VudGFnZVxuICAgIFxuICAgIC8vIC0tLSBNb2JpbGl0eSAtLS1cbiAgICBtb3ZlbWVudFNwZWVkPzogbnVtYmVyOyAvLyBpbiBncmlkIGNlbGxzIHBlciBzZWNvbmRcbiAgICB0ZXJyYWluTW9kaWZpZXJzPzogVGVycmFpbk1vZGlmaWVyW107XG4gICAgc3RhbWluYT86IG51bWJlcjtcbiAgICBcbiAgICAvLyAtLS0gVW5pdCBDbGFzc2lmaWNhdGlvbiAmIENvdW50ZXJzIC0tLVxuICAgIHVuaXRUeXBlPzogVW5pdENsYXNzaWZpY2F0aW9uO1xuICAgIGF0dGFja0JvbnVzZXM/OiBBdHRhY2tCb251c1tdO1xuICAgIFxuICAgIC8vIC0tLSBFY29ub215ICYgTWV0YSAtLS1cbiAgICBwb3B1bGF0aW9uQ29zdD86IG51bWJlcjtcbiAgICBtYWludGVuYW5jZUNvc3Q/OiBCdWlsZGluZ0Nvc3RzO1xuICAgIHNlYXNvbmFsQXZhaWxhYmlsaXR5Pzogc3RyaW5nW107IC8vIGUuZy4sIFsnU3VtbWVyJywgJ1dpbnRlciddIG9yIGV2ZW50IG5hbWVzXG4gICAgbW9kVGFncz86IHN0cmluZ1tdO1xuXG4gICAgLy8gLS0tIFVwZ3JhZGVzICYgVGVjaCBUcmVlIC0tLVxuICAgIHRyZWVJZD86IHN0cmluZztcbiAgICB1cGdyYWRlc1RvPzogVW5pdFVwZ3JhZGVQYXRoW107XG4gICAgaXNVcGdyYWRlT25seT86IGJvb2xlYW47XG4gICAgcmVxdWlyZWRCdWlsZGluZ0lkcz86IHN0cmluZ1tdOyAvLyBBZGRpdGlvbmFsIGJ1aWxkaW5ncyB0aGF0IG11c3QgZXhpc3QgdG8gZW5hYmxlIHRyYWluaW5nXG4gICAgcmVxdWlyZWRSZXNlYXJjaElkcz86IHN0cmluZ1tdO1xufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgVUlOb3RpZmljYXRpb24ge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBSZXNvdXJjZU5vZGVUeXBlID0gJ2Zvb2QnIHwgJ3dvb2QnIHwgJ2dvbGQnIHwgJ3N0b25lJztcblxuZXhwb3J0IGludGVyZmFjZSBSZXNvdXJjZU5vZGUge1xuICBpZDogc3RyaW5nO1xuICB0eXBlOiBSZXNvdXJjZU5vZGVUeXBlO1xuICBwb3NpdGlvbjogeyB4OiBudW1iZXI7IHk6IG51bWJlcjsgfTtcbiAgYW1vdW50OiBudW1iZXI7XG4gIHJpY2huZXNzPzogbnVtYmVyOyAvLyBlLmcuLCAxIGZvciBub3JtYWwsIDIgZm9yIHJpY2hcbn1cblxuZXhwb3J0IHR5cGUgVGFza1R5cGUgPSAnZ2F0aGVyJyB8ICdidWlsZCcgfCAndHJhaW5fdmlsbGFnZXInIHwgJ3RyYWluX21pbGl0YXJ5JyB8ICdhZHZhbmNlX2FnZScgfCAndXBncmFkZV9idWlsZGluZyc7XG5cbmV4cG9ydCB0eXBlIFBsYXllckFjdGlvblN0YXRlID0ge1xuICAgIG1vZGU6ICdidWlsZCc7XG4gICAgYnVpbGRpbmdUeXBlOiBCdWlsZGluZ1R5cGUgfCBzdHJpbmc7XG4gICAgdmlsbGFnZXJJZDogc3RyaW5nO1xufSB8IG51bGw7XG5cblxuZXhwb3J0IGludGVyZmFjZSBHYW1lVGFzayB7XG4gICAgaWQ6IHN0cmluZztcbiAgICB0eXBlOiBUYXNrVHlwZTtcbiAgICBzdGFydFRpbWU6IG51bWJlcjtcbiAgICBkdXJhdGlvbjogbnVtYmVyOyAvLyBpbiBtaWxsaXNlY29uZHNcbiAgICBwYXlsb2FkPzoge1xuICAgICAgICAvLyBTaGFyZWRcbiAgICAgICAgYnVpbGRpbmdJZD86IHN0cmluZzsgLy8gSUQgb2YgdGhlIGJ1aWxkaW5nIHBlcmZvcm1pbmcgdGhlIGFjdGlvbiAoZS5nLiBUQyBmb3IgdHJhaW5pbmcpXG4gICAgICAgIHZpbGxhZ2VySWRzPzogc3RyaW5nW107XG4gICAgICAgIGNvdW50PzogbnVtYmVyO1xuICAgICAgICBcbiAgICAgICAgLy8gQnVpbGQgdGFza1xuICAgICAgICBidWlsZGluZ1R5cGU/OiBCdWlsZGluZ1R5cGUgfCBzdHJpbmc7XG4gICAgICAgIHBvc2l0aW9uPzogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9O1xuICAgICAgICBcbiAgICAgICAgLy8gVHJhaW4gbWlsaXRhcnkgdGFza1xuICAgICAgICB1bml0VHlwZT86IE1pbGl0YXJ5VW5pdFR5cGU7XG4gICAgICAgIFxuICAgICAgICAvLyBHYXRoZXIgdGFza1xuICAgICAgICByZXNvdXJjZU5vZGVJZD86IHN0cmluZztcblxuICAgICAgICAvLyBVcGdyYWRlIFRhc2tcbiAgICAgICAgb3JpZ2luYWxCdWlsZGluZ0lkPzogc3RyaW5nO1xuICAgICAgICBvcmlnaW5hbEJ1aWxkaW5nVHlwZT86IHN0cmluZztcbiAgICAgICAgdGFyZ2V0QnVpbGRpbmdUeXBlPzogc3RyaW5nO1xuICAgIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWN0aXZlQnVmZnMge1xuICAgIGJ1aWxkVGltZVJlZHVjdGlvbj86IHsgcGVyY2VudGFnZTogbnVtYmVyOyB1c2VzOiBudW1iZXIgfTtcbiAgICB0cmFpblRpbWVSZWR1Y3Rpb24/OiB7IHBlcmNlbnRhZ2U6IG51bWJlcjsgdXNlczogbnVtYmVyIH07XG4gICAgcmVzb3VyY2VCb29zdD86IHtcbiAgICAgICAgcmVzb3VyY2U6IGtleW9mIFJlc291cmNlcztcbiAgICAgICAgbXVsdGlwbGllcjogbnVtYmVyO1xuICAgICAgICBlbmRUaW1lOiBudW1iZXI7XG4gICAgfVtdO1xuICAgIHBlcm1hbmVudFRyYWluVGltZVJlZHVjdGlvbj86IG51bWJlcjsgLy8gcGVyY2VudGFnZVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFnZUNvbmZpZyB7XG4gICAgaWQ6IHN0cmluZzsgLy8gRm9yIGN1c3RvbSBhZ2VzLCBgY3VzdG9tLSR7dGltZXN0YW1wfWAuIEZvciBwcmVkZWZpbmVkLCBqdXN0IHRoZSBuYW1lLlxuICAgIG5hbWU6IHN0cmluZztcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIGlzQWN0aXZlOiBib29sZWFuO1xuICAgIGlzUHJlZGVmaW5lZDogYm9vbGVhbjtcbiAgICBvcmRlcjogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJ1aWxkaW5nVXBncmFkZVBhdGgge1xuICAgIGlkOiBzdHJpbmc7IC8vIFRoZSBJRCBvZiB0aGUgYnVpbGRpbmcgdGhpcyBvbmUgdXBncmFkZXMgdG9cbiAgICBjb3N0OiBCdWlsZGluZ0Nvc3RzO1xuICAgIHRpbWU6IG51bWJlcjsgLy8gaW4gc2Vjb25kc1xuICAgIHJlc2VhcmNoUmVxdWlyZWQ/OiBzdHJpbmc7IC8vIEZ1dHVyZSB1c2Vcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCdWlsZGluZ0NvbmZpZyB7XG4gICAgaWQ6IEJ1aWxkaW5nVHlwZSB8IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgICBjb3N0OiBCdWlsZGluZ0Nvc3RzO1xuICAgIGlzVW5pcXVlOiBib29sZWFuO1xuICAgIGJ1aWxkTGltaXQ/OiBudW1iZXI7XG4gICAgYnVpbGRUaW1lOiBudW1iZXI7IC8vIGluIHNlY29uZHNcbiAgICBocDogbnVtYmVyO1xuICAgIHVubG9ja2VkSW5BZ2U6IHN0cmluZzsgLy8gbmFtZSBvZiB0aGUgYWdlXG4gICAgaWNvbklkOiBzdHJpbmc7IC8vIGtleSBmcm9tIGJ1aWxkaW5nSWNvbk1hcFxuICAgIGlzQWN0aXZlOiBib29sZWFuO1xuICAgIGlzUHJlZGVmaW5lZDogYm9vbGVhbjtcbiAgICBvcmRlcjogbnVtYmVyO1xuICAgIGNhblRyYWluVW5pdHM6IGJvb2xlYW47XG4gICAgaXNVcGdyYWRlT25seT86IGJvb2xlYW47XG4gICAgdXBncmFkZXNUbz86IEJ1aWxkaW5nVXBncmFkZVBhdGhbXTtcbiAgICB0cmVlSWQ/OiBzdHJpbmc7IC8vIFVuaXF1ZSBJRCBmb3IgYW4gdXBncmFkZSBmYW1pbHkgb2YgYnVpbGRpbmdzLlxuICAgIFxuICAgIC8vIENvbXByZWhlbnNpdmUgQXR0cmlidXRlc1xuICAgIHBvcHVsYXRpb25DYXBhY2l0eT86IG51bWJlcjtcbiAgICBnYXJyaXNvbkNhcGFjaXR5PzogbnVtYmVyO1xuICAgIGdlbmVyYXRlc1Jlc291cmNlPzoga2V5b2YgUmVzb3VyY2VzIHwgJ25vbmUnO1xuICAgIGdlbmVyYXRpb25SYXRlPzogbnVtYmVyOyAvLyBwZXIgbWludXRlXG4gICAgYXR0YWNrPzogbnVtYmVyO1xuICAgIGF0dGFja1JhdGU/OiBudW1iZXI7IC8vIGF0dGFja3MgcGVyIHNlY29uZFxuICAgIGF0dGFja1JhbmdlPzogbnVtYmVyO1xuICAgIGhlYWxSYXRlPzogbnVtYmVyOyAvLyBocCBwZXIgc2Vjb25kIGZvciBnYXJyaXNvbmVkIHVuaXRzXG4gICAgdmlzaW9uUmFuZ2U/OiBudW1iZXI7XG4gICAgcmVxdWlyZWRCdWlsZGluZ0lkPzogc3RyaW5nO1xuICAgIFxuICAgIC8vIEZ1dHVyZS1Qcm9vZmluZyBBdHRyaWJ1dGVzXG4gICAgcmVzZWFyY2hDb3N0PzogQnVpbGRpbmdDb3N0cztcbiAgICByZXNlYXJjaFRpbWU/OiBudW1iZXI7IC8vIGluIHNlY29uZHNcbiAgICB1bmxvY2tzUmVzZWFyY2hJZHM/OiBzdHJpbmdbXTtcbiAgICByZXF1aXJlc1Jlc2VhcmNoPzogYm9vbGVhbjtcblxuICAgIGF3YXJkUG9pbnRzPzogbnVtYmVyO1xuICAgIGF3YXJkVGllcj86ICdCcm9uemUnIHwgJ1NpbHZlcicgfCAnR29sZCc7XG4gICAgXG4gICAgY3VzdG9tTW9kZWxJZD86IHN0cmluZztcbiAgICBwbGFjZW1lbnRSYWRpdXM/OiBudW1iZXI7IC8vIG1pbmltdW0gZGlzdGFuY2UgZnJvbSBhbm90aGVyIGJ1aWxkaW5nIG9mIHRoZSBzYW1lIHR5cGVcbiAgICBcbiAgICBzZWFzb25hbFZhcmlhbnRJZHM/OiBzdHJpbmdbXTtcbiAgICBtYWludGVuYW5jZUNvc3Q/OiBCdWlsZGluZ0Nvc3RzOyAvLyBwZXIgbWludXRlXG4gICAgZGVjYXlSYXRlPzogbnVtYmVyOyAvLyBocCBsb3NzIHBlciBtaW51dGVcbn1cblxuXG5leHBvcnQgaW50ZXJmYWNlIEZ1bGxHYW1lU3RhdGUge1xuICAgIGNpdmlsaXphdGlvbjogQ2l2aWxpemF0aW9uO1xuICAgIHJlc291cmNlczogUmVzb3VyY2VzO1xuICAgIHVuaXRzOiBVbml0cztcbiAgICBidWlsZGluZ3M6IEJ1aWxkaW5ncztcbiAgICBjdXJyZW50QWdlOiBzdHJpbmc7XG4gICAgZ2FtZUxvZzogR2FtZUxvZ0VudHJ5W107XG4gICAgYWN0aXZlVGFza3M6IEdhbWVUYXNrW107XG4gICAgcmVzb3VyY2VOb2RlczogUmVzb3VyY2VOb2RlW107XG4gICAgaW52ZW50b3J5OiBHYW1lSXRlbVtdO1xuICAgIGFjdGl2ZUJ1ZmZzOiBBY3RpdmVCdWZmcztcbn1cbiJdLCJuYW1lcyI6WyJHYW1lU3RhdHVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./types.ts\n"));

/***/ })

});