"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/types */ \"(app-pages-browser)/./types.ts\");\n/* harmony import */ var _services_geminiService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/services/geminiService */ \"(app-pages-browser)/./services/geminiService.ts\");\n/* harmony import */ var _services_dbService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/services/dbService */ \"(app-pages-browser)/./services/dbService.ts\");\n/* harmony import */ var _services_nameService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/services/nameService */ \"(app-pages-browser)/./services/nameService.ts\");\n/* harmony import */ var _data_itemContent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/data/itemContent */ \"(app-pages-browser)/./data/itemContent.ts\");\n/* harmony import */ var _data_ageInfo__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/data/ageInfo */ \"(app-pages-browser)/./data/ageInfo.ts\");\n/* harmony import */ var _data_buildingInfo__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/data/buildingInfo */ \"(app-pages-browser)/./data/buildingInfo.ts\");\n/* harmony import */ var _data_unitInfo__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/data/unitInfo */ \"(app-pages-browser)/./data/unitInfo.ts\");\n/* harmony import */ var _components_GameUI__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/GameUI */ \"(app-pages-browser)/./components/GameUI.tsx\");\n/* harmony import */ var _components_StartScreen__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/StartScreen */ \"(app-pages-browser)/./components/StartScreen.tsx\");\n/* harmony import */ var _components_LoadingScreen__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/components/LoadingScreen */ \"(app-pages-browser)/./components/LoadingScreen.tsx\");\n/* harmony import */ var _components_BuildPanel__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/components/BuildPanel */ \"(app-pages-browser)/./components/BuildPanel.tsx\");\n/* harmony import */ var _components_NotificationManager__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/components/NotificationManager */ \"(app-pages-browser)/./components/NotificationManager.tsx\");\n/* harmony import */ var _components_UnitManagementPanel__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/components/UnitManagementPanel */ \"(app-pages-browser)/./components/UnitManagementPanel.tsx\");\n/* harmony import */ var _components_BuildingManagementPanel__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/components/BuildingManagementPanel */ \"(app-pages-browser)/./components/BuildingManagementPanel.tsx\");\n/* harmony import */ var _components_ResourceAssignmentPanel__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @/components/ResourceAssignmentPanel */ \"(app-pages-browser)/./components/ResourceAssignmentPanel.tsx\");\n/* harmony import */ var _components_CivilizationPanel__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @/components/CivilizationPanel */ \"(app-pages-browser)/./components/CivilizationPanel.tsx\");\n/* harmony import */ var _components_AllBuildingsPanel__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @/components/AllBuildingsPanel */ \"(app-pages-browser)/./components/AllBuildingsPanel.tsx\");\n/* harmony import */ var _components_InventoryPanel__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @/components/InventoryPanel */ \"(app-pages-browser)/./components/InventoryPanel.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst GATHER_INFO = {\n    food: {\n        rate: 10\n    },\n    wood: {\n        rate: 8\n    },\n    gold: {\n        rate: 5\n    },\n    stone: {\n        rate: 6\n    }\n};\nconst initialBuildingsState = {\n    houses: [],\n    barracks: [],\n    archeryRange: [],\n    stable: [],\n    siegeWorkshop: [],\n    blacksmith: [],\n    watchTower: [],\n    townCenter: []\n};\nconst MAP_DIMENSIONS = {\n    width: 25,\n    height: 18\n};\nconst GamePage = ()=>{\n    var _buildings_townCenter, _buildings_houses;\n    _s();\n    // Core Game State\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n    const [civilization, setCivilization] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [resources, setResources] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        food: 200,\n        wood: 150,\n        gold: 50,\n        stone: 100\n    });\n    const [units, setUnits] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        villagers: [],\n        military: []\n    });\n    const [buildings, setBuildings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialBuildingsState);\n    const [currentAge, setCurrentAge] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Nomadic Age\");\n    const [gameLog, setGameLog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentEvent, setCurrentEvent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [resourceDeltas, setResourceDeltas] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [activityStatus, setActivityStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Your story begins...\");\n    const [notifications, setNotifications] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [unlimitedResources, setUnlimitedResources] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [allSaves, setAllSaves] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentSaveName, setCurrentSaveName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [playerAction, setPlayerAction] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [activeTasks, setActiveTasks] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [resourceNodes, setResourceNodes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [inventory, setInventory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [activeBuffs, setActiveBuffs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        resourceBoost: []\n    });\n    // Master lists of all configurations from DB\n    const [masterAgeList, setMasterAgeList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [masterBuildingList, setMasterBuildingList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [masterUnitList, setMasterUnitList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // App Loading State\n    const [isAppLoading, setIsAppLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    // Panel States\n    const [buildPanelState, setBuildPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        villagerId: null,\n        anchorRect: null\n    });\n    const [unitManagementPanel, setUnitManagementPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        type: null,\n        anchorRect: null\n    });\n    const [buildingManagementPanel, setBuildingManagementPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        type: null,\n        instanceId: null,\n        anchorRect: null\n    });\n    const [allBuildingsPanel, setAllBuildingsPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const [assignmentPanelState, setAssignmentPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        targetId: null,\n        targetType: null,\n        anchorRect: null\n    });\n    const [civPanelState, setCivPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const [inventoryPanelState, setInventoryPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const deltaTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    const eventTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const lastTickRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(Date.now());\n    const animationFrameRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    // Derived state for active game configurations\n    const ageProgressionList = masterAgeList.filter((age)=>age.isActive);\n    const buildingList = masterBuildingList; // Keep all for lookups, filter on use\n    const unitList = masterUnitList; // Keep all for lookups, filter on use\n    const population = {\n        current: units.villagers.length + units.military.length,\n        capacity: (((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter.length) > 0 ? 20 : 0) + (((_buildings_houses = buildings.houses) === null || _buildings_houses === void 0 ? void 0 : _buildings_houses.length) || 0) * 5\n    };\n    const fetchSavesAndConfigs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        try {\n            const names = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllSaveNames)();\n            setAllSaves(names);\n            let allAgeConfigs = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllAgeConfigs)();\n            if (allAgeConfigs.length === 0) {\n                allAgeConfigs = [];\n                for (const [index, pa] of _data_ageInfo__WEBPACK_IMPORTED_MODULE_7__.INITIAL_AGES.entries()){\n                    const newPredefinedAge = {\n                        id: pa.name,\n                        name: pa.name,\n                        description: pa.description,\n                        isActive: true,\n                        isPredefined: true,\n                        order: index\n                    };\n                    await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.saveAgeConfig)(newPredefinedAge);\n                    allAgeConfigs.push(newPredefinedAge);\n                }\n            }\n            setMasterAgeList(allAgeConfigs);\n            let allBuildingConfigs = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllBuildingConfigs)();\n            if (allBuildingConfigs.length === 0) {\n                var _allAgeConfigs_find;\n                allBuildingConfigs = [];\n                const defaultAge = ((_allAgeConfigs_find = allAgeConfigs.find((a)=>a.order === 0)) === null || _allAgeConfigs_find === void 0 ? void 0 : _allAgeConfigs_find.name) || \"Nomadic Age\";\n                for (const [index, pb] of _data_buildingInfo__WEBPACK_IMPORTED_MODULE_8__.INITIAL_BUILDINGS.entries()){\n                    const newPredefinedBuilding = {\n                        ...pb,\n                        buildLimit: pb.isUnique ? 1 : pb.buildLimit || 0,\n                        isActive: true,\n                        isPredefined: true,\n                        order: index,\n                        unlockedInAge: defaultAge,\n                        iconId: pb.id,\n                        canTrainUnits: pb.canTrainUnits,\n                        upgradesTo: pb.upgradesTo || []\n                    };\n                    await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.saveBuildingConfig)(newPredefinedBuilding);\n                    allBuildingConfigs.push(newPredefinedBuilding);\n                }\n            }\n            setMasterBuildingList(allBuildingConfigs);\n            let allUnitConfigs = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllUnitConfigs)();\n            if (allUnitConfigs.length === 0) {\n                allUnitConfigs = [];\n                for (const [index, pu] of _data_unitInfo__WEBPACK_IMPORTED_MODULE_9__.INITIAL_UNITS.entries()){\n                    const newPredefinedUnit = {\n                        ...pu,\n                        isActive: true,\n                        isPredefined: true,\n                        order: index\n                    };\n                    await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.saveUnitConfig)(newPredefinedUnit);\n                    allUnitConfigs.push(newPredefinedUnit);\n                }\n            }\n            setMasterUnitList(allUnitConfigs);\n            return {\n                allAgeConfigs,\n                allBuildingConfigs,\n                allUnitConfigs\n            };\n        } catch (error) {\n            console.error(\"Error during initial config fetch:\", error);\n            // In case of a catastrophic DB failure, we can use fallbacks\n            setMasterAgeList(_data_ageInfo__WEBPACK_IMPORTED_MODULE_7__.INITIAL_AGES.map((a, i)=>({\n                    ...a,\n                    id: a.name,\n                    isActive: true,\n                    isPredefined: true,\n                    order: i\n                })));\n            setMasterBuildingList(_data_buildingInfo__WEBPACK_IMPORTED_MODULE_8__.INITIAL_BUILDINGS.map((b, i)=>({\n                    ...b,\n                    buildLimit: b.isUnique ? 1 : 0,\n                    isActive: true,\n                    isPredefined: true,\n                    order: i,\n                    unlockedInAge: \"Nomadic Age\",\n                    iconId: b.id,\n                    canTrainUnits: b.canTrainUnits,\n                    upgradesTo: b.upgradesTo || []\n                })));\n            setMasterUnitList(_data_unitInfo__WEBPACK_IMPORTED_MODULE_9__.INITIAL_UNITS.map((u, i)=>({\n                    ...u,\n                    isActive: true,\n                    isPredefined: true,\n                    order: i\n                })));\n            return {\n                allAgeConfigs: [],\n                allBuildingConfigs: [],\n                allUnitConfigs: []\n            }; // Return empty to signal fallback\n        } finally{\n            setIsAppLoading(false);\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU);\n        }\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        fetchSavesAndConfigs();\n    }, [\n        fetchSavesAndConfigs\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && civilization && currentSaveName) {\n            const fullState = {\n                civilization,\n                resources,\n                units,\n                buildings,\n                currentAge,\n                gameLog,\n                activeTasks,\n                resourceNodes,\n                inventory,\n                activeBuffs\n            };\n            (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.saveGameState)(currentSaveName, fullState);\n        }\n    }, [\n        civilization,\n        resources,\n        units,\n        buildings,\n        currentAge,\n        gameLog,\n        gameState,\n        currentSaveName,\n        activeTasks,\n        resourceNodes,\n        inventory,\n        activeBuffs\n    ]);\n    const addNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message)=>{\n        const id = \"\".concat(Date.now(), \"-\").concat(Math.random());\n        setNotifications((prev)=>[\n                {\n                    id,\n                    message\n                }\n            ]);\n    }, []);\n    const removeNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id)=>{\n        setNotifications((prev)=>prev.filter((n)=>n.id !== id));\n    }, []);\n    const addToLog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message, icon)=>{\n        setGameLog((prev)=>[\n                {\n                    id: \"\".concat(Date.now(), \"-\").concat(Math.random()),\n                    message,\n                    icon\n                },\n                ...prev.slice(0, 19)\n            ]);\n    }, []);\n    const updateResources = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((deltas)=>{\n        setResources((prev)=>{\n            const newResources = {\n                ...prev\n            };\n            for(const key in deltas){\n                const resourceKey = key;\n                var _deltas_resourceKey;\n                newResources[resourceKey] = Math.max(0, newResources[resourceKey] + ((_deltas_resourceKey = deltas[resourceKey]) !== null && _deltas_resourceKey !== void 0 ? _deltas_resourceKey : 0));\n            }\n            return newResources;\n        });\n        setResourceDeltas((prev)=>({\n                ...prev,\n                ...deltas\n            }));\n        for(const key in deltas){\n            const resourceKey = key;\n            if (deltaTimeoutRef.current[resourceKey]) {\n                window.clearTimeout(deltaTimeoutRef.current[resourceKey]);\n            }\n            deltaTimeoutRef.current[resourceKey] = window.setTimeout(()=>{\n                setResourceDeltas((prev)=>{\n                    const newDeltas = {\n                        ...prev\n                    };\n                    delete newDeltas[resourceKey];\n                    return newDeltas;\n                });\n            }, 1500);\n        }\n    }, []);\n    const handleTaskCompletion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((task)=>{\n        var _task_payload;\n        if (((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.villagerIds) && task.payload.villagerIds.length > 0) {\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>task.payload.villagerIds.includes(v.id) ? {\n                            ...v,\n                            currentTask: null\n                        } : v)\n                }));\n        }\n        switch(task.type){\n            case \"build\":\n                {\n                    const { buildingType, position } = task.payload;\n                    const buildingInfo = buildingList.find((b)=>b.id === buildingType);\n                    const [name] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n                    const newBuilding = {\n                        id: task.id,\n                        name,\n                        position: position,\n                        currentHp: buildingInfo.hp\n                    };\n                    setBuildings((p)=>{\n                        const currentBuildings = p[buildingType] || [];\n                        return {\n                            ...p,\n                            [buildingType]: [\n                                ...currentBuildings,\n                                newBuilding\n                            ]\n                        };\n                    });\n                    addToLog(\"\".concat(task.payload.villagerIds.length, \" builder(s) have constructed \").concat(name, \", a new \").concat(buildingInfo.name, \".\"), buildingInfo.iconId);\n                    setActivityStatus(\"Construction of \".concat(name, \" is complete.\"));\n                    break;\n                }\n            case \"gather\":\n                break;\n            case \"train_villager\":\n                {\n                    const { count } = task.payload;\n                    const newVillagerNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", count);\n                    const newVillagers = newVillagerNames.map((name)=>({\n                            id: \"\".concat(Date.now(), \"-\").concat(name),\n                            name,\n                            currentTask: null\n                        }));\n                    setUnits((p)=>({\n                            ...p,\n                            villagers: [\n                                ...p.villagers,\n                                ...newVillagers\n                            ]\n                        }));\n                    addToLog(\"\".concat(count, \" new villager(s) have joined your settlement.\"), \"villager\");\n                    setActivityStatus(\"\".concat(count, \" new villager(s) are ready to work.\"));\n                    break;\n                }\n            case \"train_military\":\n                {\n                    const { unitType, count } = task.payload;\n                    const unitInfo = unitList.find((u)=>u.id === unitType);\n                    const newUnitNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"soldier\", count);\n                    const newUnits = newUnitNames.map((name)=>({\n                            id: \"\".concat(Date.now(), \"-\").concat(unitType, \"-\").concat(name),\n                            name,\n                            title: \"\",\n                            unitType: unitType\n                        }));\n                    setUnits((p)=>({\n                            ...p,\n                            military: [\n                                ...p.military,\n                                ...newUnits\n                            ]\n                        }));\n                    addToLog(\"\".concat(count, \" \").concat(unitInfo.name, \"(s) have been trained.\"), unitType);\n                    setActivityStatus(\"\".concat(count, \" new \").concat(unitInfo.name, \"(s) are ready for battle.\"));\n                    break;\n                }\n            case \"advance_age\":\n                {\n                    const activeAges = masterAgeList.filter((a)=>a.isActive);\n                    const currentIndex = activeAges.findIndex((age)=>age.name === currentAge);\n                    const ageResult = activeAges[currentIndex + 1] || {\n                        name: \"Age of Legends\",\n                        description: \"Your civilization transcends history and becomes a legend.\"\n                    };\n                    setCurrentAge(ageResult.name);\n                    addToLog(\"You have advanced to the \".concat(ageResult.name, \"!\"), \"age\");\n                    addToLog(ageResult.description, \"age\");\n                    setActivityStatus(\"Welcome to the \".concat(ageResult.name, \"!\"));\n                    break;\n                }\n        }\n    }, [\n        currentAge,\n        addToLog,\n        buildingList,\n        unitList,\n        masterAgeList\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState !== _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING) {\n            if (animationFrameRef.current) cancelAnimationFrame(animationFrameRef.current);\n            return;\n        }\n        const gameLoop = ()=>{\n            const now = Date.now();\n            const deltaTime = now - lastTickRef.current;\n            lastTickRef.current = now;\n            let completedTasks = [];\n            let resourceDeltasThisTick = {};\n            setActiveBuffs((prev)=>{\n                var _prev_resourceBoost, _prev_resourceBoost1;\n                const newResourceBoosts = (_prev_resourceBoost = prev.resourceBoost) === null || _prev_resourceBoost === void 0 ? void 0 : _prev_resourceBoost.filter((b)=>b.endTime > now);\n                if ((newResourceBoosts === null || newResourceBoosts === void 0 ? void 0 : newResourceBoosts.length) !== ((_prev_resourceBoost1 = prev.resourceBoost) === null || _prev_resourceBoost1 === void 0 ? void 0 : _prev_resourceBoost1.length)) {\n                    addToLog(\"A resource gathering bonus has expired.\", \"system\");\n                }\n                return {\n                    ...prev,\n                    resourceBoost: newResourceBoosts\n                };\n            });\n            const tasksInProgress = activeTasks.map((task)=>{\n                if (now >= task.startTime + task.duration) {\n                    completedTasks.push(task);\n                    return null;\n                }\n                if (task.type === \"gather\") {\n                    var _task_payload_villagerIds, _task_payload, _activeBuffs_resourceBoost_find, _activeBuffs_resourceBoost;\n                    const node = resourceNodes.find((n)=>{\n                        var _task_payload;\n                        return n.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.resourceNodeId);\n                    });\n                    const villagerCount = ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 0;\n                    if (!node || villagerCount === 0) {\n                        completedTasks.push(task);\n                        return null;\n                    }\n                    const baseRatePerSecond = GATHER_INFO[node.type].rate;\n                    let civBonusMultiplier = 1;\n                    if (civilization === null || civilization === void 0 ? void 0 : civilization.bonus.toLowerCase().includes(node.type.toLowerCase())) {\n                        const match = civilization.bonus.match(/(\\d+)%/);\n                        if (match === null || match === void 0 ? void 0 : match[1]) civBonusMultiplier = 1 + parseInt(match[1], 10) / 100;\n                    }\n                    const itemBoostMultiplier = ((_activeBuffs_resourceBoost = activeBuffs.resourceBoost) === null || _activeBuffs_resourceBoost === void 0 ? void 0 : (_activeBuffs_resourceBoost_find = _activeBuffs_resourceBoost.find((b)=>b.resource === node.type)) === null || _activeBuffs_resourceBoost_find === void 0 ? void 0 : _activeBuffs_resourceBoost_find.multiplier) || 1;\n                    const finalRatePerSecond = baseRatePerSecond * civBonusMultiplier * itemBoostMultiplier;\n                    resourceDeltasThisTick[node.type] = (resourceDeltasThisTick[node.type] || 0) + finalRatePerSecond / 1000 * deltaTime * villagerCount;\n                }\n                return task;\n            }).filter(Boolean);\n            if (Object.keys(resourceDeltasThisTick).length > 0) {\n                updateResources(resourceDeltasThisTick);\n                setResourceNodes((prevNodes)=>prevNodes.map((node)=>{\n                        const amountToDecrement = resourceDeltasThisTick[node.type];\n                        if (!amountToDecrement) return node;\n                        const newAmount = node.amount - amountToDecrement;\n                        if (newAmount <= 0) {\n                            const taskId = \"gather-\".concat(node.id);\n                            const task = tasksInProgress.find((t)=>t.id === taskId);\n                            if (task) {\n                                var _task_payload_villagerIds, _task_payload;\n                                addToLog(\"\".concat(((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 0, \" villager(s) depleted a \").concat(node.type, \" source, gaining \").concat(Math.floor(node.amount), \" \").concat(node.type, \".\"), node.type);\n                                setActivityStatus(\"A \".concat(node.type, \" source has been fully depleted.\"));\n                                completedTasks.push(task);\n                            }\n                            return null;\n                        }\n                        return {\n                            ...node,\n                            amount: newAmount\n                        };\n                    }).filter(Boolean));\n            }\n            const finalActiveTasks = tasksInProgress.filter((t)=>!completedTasks.some((ct)=>ct.id === t.id));\n            setActiveTasks(finalActiveTasks);\n            if (completedTasks.length > 0) completedTasks.forEach(handleTaskCompletion);\n            animationFrameRef.current = requestAnimationFrame(gameLoop);\n        };\n        animationFrameRef.current = requestAnimationFrame(gameLoop);\n        return ()=>{\n            if (animationFrameRef.current) cancelAnimationFrame(animationFrameRef.current);\n        };\n    }, [\n        gameState,\n        activeTasks,\n        resourceNodes,\n        handleTaskCompletion,\n        addToLog,\n        updateResources,\n        units.villagers,\n        civilization,\n        activeBuffs\n    ]);\n    const handleNewEvent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!civilization || currentEvent) return;\n        const event = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedGameEvent)();\n        setCurrentEvent(event);\n        setActivityStatus(\"A new event requires your attention!\");\n    }, [\n        civilization,\n        currentEvent\n    ]);\n    const scheduleNextEvent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (eventTimerRef.current) clearTimeout(eventTimerRef.current);\n        eventTimerRef.current = setTimeout(()=>handleNewEvent(), (10 + Math.random() * 15) * 1000);\n    }, [\n        handleNewEvent\n    ]);\n    const generateResourceNodes = (existingPositions)=>{\n        const nodes = [];\n        const types = [\n            \"food\",\n            \"wood\",\n            \"gold\",\n            \"stone\"\n        ];\n        const numNodes = 20 + Math.floor(Math.random() * 10);\n        for(let i = 0; i < numNodes; i++){\n            let pos;\n            do {\n                pos = {\n                    x: Math.floor(Math.random() * MAP_DIMENSIONS.width),\n                    y: Math.floor(Math.random() * MAP_DIMENSIONS.height)\n                };\n            }while (existingPositions.has(\"\".concat(pos.x, \",\").concat(pos.y)));\n            existingPositions.add(\"\".concat(pos.x, \",\").concat(pos.y));\n            const type = types[Math.floor(Math.random() * types.length)];\n            nodes.push({\n                id: \"\".concat(Date.now(), \"-node-\").concat(i),\n                type,\n                position: pos,\n                amount: Math.floor(Math.random() * 2001) + 500\n            });\n        }\n        return nodes;\n    };\n    const handleStartNewGame = async (saveName)=>{\n        var _localAgeProgressionList_;\n        if (allSaves.includes(saveName)) {\n            addNotification('A saga named \"'.concat(saveName, '\" already exists.'));\n            return;\n        }\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n        setCurrentSaveName(saveName);\n        const localAgeProgressionList = masterAgeList.filter((a)=>a.isActive);\n        const civ = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedCivilization)();\n        setCivilization(civ);\n        setResources({\n            food: 200,\n            wood: 150,\n            gold: 50,\n            stone: 100\n        });\n        const initialVillagers = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", 3).map((name)=>({\n                id: \"\".concat(Date.now(), \"-\").concat(name),\n                name,\n                currentTask: null\n            }));\n        setUnits({\n            villagers: initialVillagers,\n            military: []\n        });\n        const tcPosition = {\n            x: Math.floor(MAP_DIMENSIONS.width / 2),\n            y: Math.floor(MAP_DIMENSIONS.height / 2)\n        };\n        const tcInfo = masterBuildingList.find((b)=>b.id === \"townCenter\");\n        const initialTC = {\n            id: \"\".concat(Date.now(), \"-tc\"),\n            name: (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1)[0],\n            position: tcPosition,\n            currentHp: tcInfo.hp\n        };\n        setBuildings({\n            ...initialBuildingsState,\n            townCenter: [\n                initialTC\n            ]\n        });\n        setResourceNodes(generateResourceNodes(new Set([\n            \"\".concat(tcPosition.x, \",\").concat(tcPosition.y)\n        ])));\n        setCurrentAge(((_localAgeProgressionList_ = localAgeProgressionList[0]) === null || _localAgeProgressionList_ === void 0 ? void 0 : _localAgeProgressionList_.name) || _data_ageInfo__WEBPACK_IMPORTED_MODULE_7__.INITIAL_AGES[0].name);\n        setGameLog([]);\n        setCurrentEvent(null);\n        setUnlimitedResources(false);\n        setActiveTasks([]);\n        setInventory([]);\n        setActiveBuffs({\n            resourceBoost: []\n        });\n        addToLog(\"\".concat(civ.name, \" has been founded!\"), \"system\");\n        addToLog(\"Your story begins...\", \"system\");\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING);\n        setActivityStatus(\"Your settlement awaits your command.\");\n    };\n    const isVillagerBusy = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((villagerId)=>{\n        var _units_villagers_find;\n        return !!((_units_villagers_find = units.villagers.find((v)=>v.id === villagerId)) === null || _units_villagers_find === void 0 ? void 0 : _units_villagers_find.currentTask);\n    }, [\n        units.villagers\n    ]);\n    const getVillagerTaskDetails = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((villagerId)=>{\n        var _buildingList_find, _resourceNodes_find;\n        const villager = units.villagers.find((v)=>v.id === villagerId);\n        if (!(villager === null || villager === void 0 ? void 0 : villager.currentTask)) return \"Idle\";\n        const task = activeTasks.find((t)=>t.id === villager.currentTask);\n        if (!task) return \"Idle (Finalizing Task)\";\n        if (task.type === \"build\") return \"Busy: Constructing \".concat(((_buildingList_find = buildingList.find((b)=>b.id === task.payload.buildingType)) === null || _buildingList_find === void 0 ? void 0 : _buildingList_find.name) || \"a building\");\n        if (task.type === \"gather\") return \"Busy: Gathering \".concat(((_resourceNodes_find = resourceNodes.find((n)=>n.id === task.payload.resourceNodeId)) === null || _resourceNodes_find === void 0 ? void 0 : _resourceNodes_find.type) || \"resources\");\n        return \"Idle\";\n    }, [\n        activeTasks,\n        resourceNodes,\n        units.villagers,\n        buildingList\n    ]);\n    const handleResumeGame = async (saveName)=>{\n        const savedState = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.loadGameState)(saveName);\n        if (savedState) {\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n            setCurrentSaveName(saveName);\n            setCivilization(savedState.civilization);\n            setResources(savedState.resources);\n            const migratedVillagers = (savedState.units.villagers || []).map((v)=>({\n                    ...v,\n                    currentTask: v.currentTask !== undefined ? v.currentTask : null\n                }));\n            const migratedTasks = (savedState.activeTasks || []).map((t)=>{\n                var _t_payload;\n                return t.type === \"build\" && !((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.villagerIds) ? {\n                    ...t,\n                    payload: {\n                        ...t.payload,\n                        villagerIds: []\n                    }\n                } : t;\n            });\n            migratedTasks.forEach((task)=>{\n                var _task_payload_villagerIds, _task_payload;\n                return (_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.forEach((vid)=>{\n                    const v = migratedVillagers.find((v)=>v.id === vid);\n                    if (v) v.currentTask = task.id;\n                });\n            });\n            setUnits({\n                ...savedState.units,\n                villagers: migratedVillagers\n            });\n            const constructionTasks = migratedTasks.filter((t)=>t.type === \"build\");\n            const occupiedCells = new Set([\n                ...Object.values(savedState.buildings || {}).flat().map((b)=>\"\".concat(b.position.x, \",\").concat(b.position.y)),\n                ...constructionTasks.map((t)=>\"\".concat(t.payload.position.x, \",\").concat(t.payload.position.y))\n            ]);\n            let finalBuildings = {\n                ...initialBuildingsState,\n                ...savedState.buildings || {}\n            };\n            Object.keys(finalBuildings).forEach((bType)=>{\n                const info = masterBuildingList.find((b)=>b.id === bType);\n                if (info) finalBuildings[bType] = finalBuildings[bType].map((b)=>({\n                        ...b,\n                        currentHp: b.currentHp === undefined ? info.hp : b.currentHp\n                    }));\n            });\n            if (!finalBuildings.townCenter || finalBuildings.townCenter.length === 0) {\n                let tcPos = {\n                    x: 10,\n                    y: 5\n                };\n                while(occupiedCells.has(\"\".concat(tcPos.x, \",\").concat(tcPos.y))){\n                    tcPos.x++;\n                }\n                const tcInfo = masterBuildingList.find((b)=>b.id === \"townCenter\");\n                finalBuildings.townCenter = [\n                    {\n                        id: \"\".concat(Date.now(), \"-tc\"),\n                        name: (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1)[0],\n                        position: tcPos,\n                        currentHp: tcInfo.hp\n                    }\n                ];\n                occupiedCells.add(\"\".concat(tcPos.x, \",\").concat(tcPos.y));\n            }\n            setBuildings(finalBuildings);\n            setResourceNodes((savedState.resourceNodes || []).length === 0 ? generateResourceNodes(occupiedCells) : savedState.resourceNodes || []);\n            setCurrentAge(savedState.currentAge);\n            setGameLog(savedState.gameLog);\n            setActiveTasks(migratedTasks);\n            setInventory(savedState.inventory || []);\n            setActiveBuffs(savedState.activeBuffs || {\n                resourceBoost: []\n            });\n            setCurrentEvent(null);\n            setActivityStatus(\"Welcome back to your saga.\");\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING);\n        } else {\n            addNotification('Could not find a saved game named \"'.concat(saveName, '\".'));\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState !== _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING) return;\n        if (!currentEvent) scheduleNextEvent();\n        else if (eventTimerRef.current) clearTimeout(eventTimerRef.current);\n        return ()=>{\n            if (eventTimerRef.current) clearTimeout(eventTimerRef.current);\n        };\n    }, [\n        gameState,\n        currentEvent,\n        scheduleNextEvent\n    ]);\n    const handleEventChoice = (choice)=>{\n        if (choice.cost) {\n            const missing = Object.keys(choice.cost).filter((res)=>resources[res] < (choice.cost[res] || 0));\n            if (missing.length > 0) {\n                addNotification(\"You lack the required resources: \".concat(missing.join(\", \"), \".\"));\n                return;\n            }\n            updateResources(Object.entries(choice.cost).reduce((acc, param)=>{\n                let [k, v] = param;\n                return {\n                    ...acc,\n                    [k]: -v\n                };\n            }, {}));\n        }\n        const isSuccess = choice.successChance === undefined || Math.random() < choice.successChance;\n        const effects = isSuccess ? choice.successEffects : choice.failureEffects;\n        if (!effects) {\n            setCurrentEvent(null);\n            scheduleNextEvent();\n            return;\n        }\n        let logMessage = 'Decision: \"'.concat(choice.text, '\". Outcome: ').concat(isSuccess ? \"Success\" : \"Failure\", \". \").concat(effects.log);\n        effects.rewards.forEach((reward)=>{\n            if (reward.type === \"resource\") {\n                const amount = Array.isArray(reward.amount) ? Math.floor(Math.random() * (reward.amount[1] - reward.amount[0] + 1)) + reward.amount[0] : reward.amount;\n                if (amount !== 0) {\n                    updateResources({\n                        [reward.resource]: amount\n                    });\n                    logMessage += \" You \".concat(amount > 0 ? \"gained\" : \"lost\", \" \").concat(Math.abs(amount), \" \").concat(reward.resource, \".\");\n                }\n            } else if (reward.type === \"item\") {\n                const itemInfo = _data_itemContent__WEBPACK_IMPORTED_MODULE_6__.GAME_ITEMS[reward.itemId];\n                if (itemInfo) {\n                    const newItems = Array.from({\n                        length: reward.amount\n                    }, (_, i)=>({\n                            ...itemInfo,\n                            id: \"\".concat(reward.itemId, \"-\").concat(Date.now(), \"-\").concat(i)\n                        }));\n                    setInventory((prev)=>[\n                            ...prev,\n                            ...newItems\n                        ]);\n                    logMessage += \" You received \".concat(reward.amount, \"x \").concat(itemInfo.name, \"!\");\n                }\n            } else if (reward.type === \"unit\" && reward.unitType === \"villager\") {\n                const newVillagers = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", reward.amount).map((name)=>({\n                        id: \"\".concat(Date.now(), \"-\").concat(name),\n                        name,\n                        currentTask: null\n                    }));\n                setUnits((p)=>({\n                        ...p,\n                        villagers: [\n                            ...p.villagers,\n                            ...newVillagers\n                        ]\n                    }));\n                logMessage += \" You gained \".concat(reward.amount, \" villager(s).\");\n            } else if (reward.type === \"building\") {\n                const buildingInfo = buildingList.find((b)=>b.id === reward.buildingId);\n                if (buildingInfo) {\n                    const occupiedCells = new Set();\n                    Object.values(buildings).flat().forEach((b)=>occupiedCells.add(\"\".concat(b.position.x, \",\").concat(b.position.y)));\n                    activeTasks.filter((t)=>t.type === \"build\").forEach((t)=>{\n                        var _t_payload;\n                        return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.position) && occupiedCells.add(\"\".concat(t.payload.position.x, \",\").concat(t.payload.position.y));\n                    });\n                    resourceNodes.forEach((n)=>occupiedCells.add(\"\".concat(n.position.x, \",\").concat(n.position.y)));\n                    let placed = false;\n                    for(let i = 0; i < MAP_DIMENSIONS.width * MAP_DIMENSIONS.height; i++){\n                        const x = Math.floor(Math.random() * MAP_DIMENSIONS.width);\n                        const y = Math.floor(Math.random() * MAP_DIMENSIONS.height);\n                        if (!occupiedCells.has(\"\".concat(x, \",\").concat(y))) {\n                            const [name] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n                            const newBuilding = {\n                                id: \"reward-\".concat(Date.now()),\n                                name,\n                                position: {\n                                    x,\n                                    y\n                                },\n                                currentHp: buildingInfo.hp\n                            };\n                            setBuildings((p)=>({\n                                    ...p,\n                                    [reward.buildingId]: [\n                                        ...p[reward.buildingId] || [],\n                                        newBuilding\n                                    ]\n                                }));\n                            logMessage += \" You were gifted a new \".concat(buildingInfo.name, \"!\");\n                            placed = true;\n                            break;\n                        }\n                    }\n                    if (!placed) logMessage += \" You were to be gifted a \".concat(buildingInfo.name, \", but there was no room to build it!\");\n                }\n            }\n        });\n        addToLog(logMessage, \"event\");\n        setActivityStatus(effects.log);\n        setCurrentEvent(null);\n        scheduleNextEvent();\n    };\n    const handleInitiateBuild = (villagerId, rect)=>{\n        if (isVillagerBusy(villagerId)) {\n            addNotification(\"This villager is already busy.\");\n            return;\n        }\n        setBuildPanelState({\n            isOpen: true,\n            villagerId,\n            anchorRect: rect\n        });\n        setUnitManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleStartPlacement = (buildingId)=>{\n        var _buildings_buildingInfo_id;\n        const villagerId = buildPanelState.villagerId;\n        if (!villagerId) return;\n        const buildingInfo = buildingList.find((b)=>b.id === buildingId);\n        if (!buildingInfo) return;\n        const existingCount = ((_buildings_buildingInfo_id = buildings[buildingInfo.id]) === null || _buildings_buildingInfo_id === void 0 ? void 0 : _buildings_buildingInfo_id.length) || 0;\n        const constructingCount = activeTasks.filter((t)=>{\n            var _t_payload;\n            return t.type === \"build\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.buildingType) === buildingInfo.id;\n        }).length;\n        const totalCount = existingCount + constructingCount;\n        const limit = buildingInfo.buildLimit || 0;\n        if (limit > 0 && totalCount >= limit) {\n            addNotification(\"You have reached the build limit for \".concat(buildingInfo.name, \" (\").concat(limit, \").\"));\n            return;\n        }\n        const missing = unlimitedResources ? [] : Object.keys(buildingInfo.cost).filter((res)=>resources[res] < (buildingInfo.cost[res] || 0));\n        if (missing.length > 0) {\n            addNotification(\"Need more \".concat(missing.join(\", \"), \".\"));\n            return;\n        }\n        setPlayerAction({\n            mode: \"build\",\n            buildingType: buildingId,\n            villagerId\n        });\n        setBuildPanelState({\n            isOpen: false,\n            villagerId: null,\n            anchorRect: null\n        });\n        setActivityStatus(\"Select a location to build a \".concat(buildingInfo.name, \". Right-click to cancel.\"));\n    };\n    const handleConfirmPlacement = (position)=>{\n        if ((playerAction === null || playerAction === void 0 ? void 0 : playerAction.mode) !== \"build\") return;\n        const { buildingType, villagerId } = playerAction;\n        const buildingInfo = buildingList.find((b)=>b.id === buildingType);\n        const builder = units.villagers.find((v)=>v.id === villagerId);\n        if (!buildingInfo || !builder) return;\n        if (!unlimitedResources) updateResources(Object.entries(buildingInfo.cost).reduce((acc, param)=>{\n            let [k, v] = param;\n            return {\n                ...acc,\n                [k]: -v\n            };\n        }, {}));\n        let buildTime = buildingInfo.buildTime * 1000;\n        if (activeBuffs.buildTimeReduction) {\n            buildTime *= 1 - activeBuffs.buildTimeReduction.percentage;\n            addToLog(\"A Builder's Charm reduced construction time by \".concat(activeBuffs.buildTimeReduction.percentage * 100, \"%!\"), \"item\");\n            setActiveBuffs((prev)=>({\n                    ...prev,\n                    buildTimeReduction: prev.buildTimeReduction.uses - 1 > 0 ? {\n                        ...prev.buildTimeReduction,\n                        uses: prev.buildTimeReduction.uses - 1\n                    } : undefined\n                }));\n        }\n        const taskId = \"\".concat(Date.now(), \"-build-\").concat(buildingType);\n        const taskPayload = {\n            buildingType,\n            villagerIds: [\n                villagerId\n            ],\n            position\n        };\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: taskId,\n                type: \"build\",\n                startTime: 0,\n                duration: 0,\n                payload: {\n                    ...taskPayload,\n                    position\n                }\n            });\n        } else {\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: taskId,\n                        type: \"build\",\n                        startTime: Date.now(),\n                        duration: buildTime,\n                        payload: taskPayload\n                    }\n                ]);\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>v.id === villagerId ? {\n                            ...v,\n                            currentTask: taskId\n                        } : v)\n                }));\n            setActivityStatus(\"\".concat(builder.name, \" has started constructing a \").concat(buildingInfo.name, \".\"));\n            addToLog(\"\".concat(builder.name, \" began construction of a new \").concat(buildingInfo.name, \".\"), buildingInfo.iconId);\n        }\n        setPlayerAction(null);\n    };\n    const handleCancelPlayerAction = ()=>{\n        setPlayerAction(null);\n        setActivityStatus(\"Command cancelled.\");\n    };\n    const handleDemolishBuilding = (type, id)=>{\n        var _buildings_townCenter;\n        if (type === \"townCenter\") {\n            addNotification(\"The Town Center is the heart of your civilization and cannot be demolished.\");\n            return;\n        }\n        if (activeTasks.some((t)=>{\n            var _t_payload;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.buildingId) === id;\n        })) {\n            addNotification(\"Cannot demolish a building with an active task.\");\n            return;\n        }\n        const buildingInfo = buildingList.find((b)=>b.id === type);\n        const buildingInstance = buildings[type].find((b)=>b.id === id);\n        if (!buildingInfo || !buildingInstance) return;\n        if (type === \"houses\" && population.current > (((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter.length) > 0 ? 20 : 0) + (buildings.houses.length - 1) * 5) {\n            addNotification(\"Cannot demolish this house, your people would be homeless.\");\n            return;\n        }\n        const refund = Object.entries(buildingInfo.cost).reduce((acc, param)=>{\n            let [res, cost] = param;\n            const amount = Math.floor((cost || 0) * 0.5);\n            if (amount > 0) acc[res] = amount;\n            return acc;\n        }, {});\n        if (Object.keys(refund).length > 0) {\n            updateResources(refund);\n            addNotification(\"Salvaged \".concat(Object.entries(refund).map((param)=>{\n                let [r, a] = param;\n                return \"\".concat(a, \" \").concat(r);\n            }).join(\", \"), \".\"));\n        }\n        setBuildings((prev)=>({\n                ...prev,\n                [type]: prev[type].filter((b)=>b.id !== id)\n            }));\n        addToLog(\"\".concat(buildingInstance.name, \" (\").concat(buildingInfo.name, \") was demolished.\"), buildingInfo.iconId);\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            instanceId: null,\n            anchorRect: null\n        });\n    };\n    const handleUpdateBuilding = (type, id, name)=>{\n        setBuildings((prev)=>({\n                ...prev,\n                [type]: prev[type].map((b)=>b.id === id ? {\n                        ...b,\n                        name\n                    } : b)\n            }));\n        addNotification(\"Building renamed.\");\n    };\n    const handleTrainVillagers = (count)=>{\n        var _buildings_townCenter;\n        if (activeTasks.some((t)=>t.type === \"train_villager\") || count <= 0) return;\n        if (population.current + count > population.capacity) {\n            addNotification(\"Need space for \".concat(count, \" more villagers.\"));\n            return;\n        }\n        if (!((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter[0])) {\n            addNotification(\"No Town Center to train villagers.\");\n            return;\n        }\n        if (!unlimitedResources) {\n            const totalCost = 50 * count;\n            if (resources.food < totalCost) {\n                addNotification(\"Need \".concat(totalCost - resources.food, \" more Food.\"));\n                return;\n            }\n            updateResources({\n                food: -totalCost\n            });\n        }\n        if (unlimitedResources) handleTaskCompletion({\n            id: \"instant\",\n            type: \"train_villager\",\n            startTime: 0,\n            duration: 0,\n            payload: {\n                count\n            }\n        });\n        else {\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: \"\".concat(Date.now(), \"-train-villager\"),\n                        type: \"train_villager\",\n                        startTime: Date.now(),\n                        duration: 10000 * count,\n                        payload: {\n                            count,\n                            buildingId: buildings.townCenter[0].id\n                        }\n                    }\n                ]);\n            setActivityStatus(\"Training \".concat(count, \" villager(s)...\"));\n            addToLog(\"Began training \".concat(count, \" new villager(s).\"), \"villager\");\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            instanceId: null,\n            anchorRect: null\n        });\n    };\n    const handleTrainUnits = (unitType, count)=>{\n        var _buildings_unitInfo_requiredBuilding;\n        const unitInfo = unitList.find((u)=>u.id === unitType);\n        if (!unitInfo || activeTasks.some((t)=>{\n            var _t_payload;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.unitType) === unitType;\n        }) || count <= 0) return;\n        if (population.current + count > population.capacity) {\n            addNotification(\"Need space for \".concat(count, \" more units.\"));\n            return;\n        }\n        const trainingBuilding = (_buildings_unitInfo_requiredBuilding = buildings[unitInfo.requiredBuilding]) === null || _buildings_unitInfo_requiredBuilding === void 0 ? void 0 : _buildings_unitInfo_requiredBuilding[0];\n        if (!trainingBuilding) {\n            var _buildingList_find;\n            addNotification(\"No \".concat((_buildingList_find = buildingList.find((b)=>b.id === unitInfo.requiredBuilding)) === null || _buildingList_find === void 0 ? void 0 : _buildingList_find.name, \" to train units.\"));\n            return;\n        }\n        if (!unlimitedResources) {\n            const missing = Object.keys(unitInfo.cost).filter((res)=>resources[res] < (unitInfo.cost[res] || 0) * count);\n            if (missing.length > 0) {\n                addNotification(\"Need more \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n            updateResources(Object.entries(unitInfo.cost).reduce((acc, param)=>{\n                let [k, v] = param;\n                return {\n                    ...acc,\n                    [k]: -(v || 0) * count\n                };\n            }, {}));\n        }\n        let trainTime = unitInfo.trainTime * 1000 * count;\n        if (activeBuffs.permanentTrainTimeReduction) trainTime *= 1 - activeBuffs.permanentTrainTimeReduction;\n        if (activeBuffs.trainTimeReduction) {\n            const applicable = Math.min(count, activeBuffs.trainTimeReduction.uses);\n            trainTime = unitInfo.trainTime * 1000 * applicable * (1 - activeBuffs.trainTimeReduction.percentage) + unitInfo.trainTime * 1000 * (count - applicable);\n            if (activeBuffs.trainTimeReduction.uses - applicable > 0) setActiveBuffs((prev)=>({\n                    ...prev,\n                    trainTimeReduction: {\n                        ...prev.trainTimeReduction,\n                        uses: prev.trainTimeReduction.uses - applicable\n                    }\n                }));\n            else {\n                setActiveBuffs((prev)=>({\n                        ...prev,\n                        trainTimeReduction: undefined\n                    }));\n                addToLog(\"The Drillmaster's Whistle buff has been fully used.\", \"item\");\n            }\n        }\n        if (unlimitedResources) handleTaskCompletion({\n            id: \"instant\",\n            type: \"train_military\",\n            startTime: 0,\n            duration: 0,\n            payload: {\n                unitType,\n                count\n            }\n        });\n        else {\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: \"\".concat(Date.now(), \"-train-\").concat(unitType),\n                        type: \"train_military\",\n                        startTime: Date.now(),\n                        duration: trainTime,\n                        payload: {\n                            unitType,\n                            count,\n                            buildingId: trainingBuilding.id\n                        }\n                    }\n                ]);\n            setActivityStatus(\"Training \".concat(count, \" \").concat(unitInfo.name, \"(s)...\"));\n            addToLog(\"Began training \".concat(count, \" new \").concat(unitInfo.name, \"(s).\"), unitType);\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            instanceId: null,\n            anchorRect: null\n        });\n    };\n    const handleDismissSpecificUnit = (type, id)=>{\n        if (type === \"villagers\" && isVillagerBusy(id)) {\n            addNotification(\"Cannot dismiss a busy villager.\");\n            return;\n        }\n        const unit = units[type].find((u)=>u.id === id);\n        if (!unit) return;\n        if (type === \"villagers\" && units.villagers.length <= 1) {\n            addNotification(\"Cannot dismiss your last villager.\");\n            return;\n        }\n        setUnits((prev)=>({\n                ...prev,\n                [type]: prev[type].filter((u)=>u.id !== id)\n            }));\n        const unitTypeName = type === \"villagers\" ? \"villager\" : unit.unitType;\n        addToLog(\"\".concat(unit.name, \" the \").concat(unitTypeName, \" has been dismissed.\"), type === \"villagers\" ? \"villager\" : unit.unitType);\n        addNotification(\"\".concat(unit.name, \" was dismissed.\"));\n    };\n    const handleUpdateUnit = (type, id, name, title)=>{\n        setUnits((prev)=>({\n                ...prev,\n                [type]: prev[type].map((u)=>u.id === id ? type === \"military\" && title !== undefined ? {\n                        ...u,\n                        name,\n                        title\n                    } : {\n                        ...u,\n                        name\n                    } : u)\n            }));\n        addNotification(\"Unit updated.\");\n    };\n    const handleAssignVillagersToConstruction = (constructionId, count)=>{\n        var _task_payload_villagerIds, _task_payload, _task_payload_villagerIds1, _task_payload1;\n        const idleVillagers = units.villagers.filter((v)=>!v.currentTask);\n        if (count <= 0 || idleVillagers.length === 0) {\n            addNotification(\"No idle villagers available.\");\n            return;\n        }\n        const task = activeTasks.find((t)=>t.id === constructionId);\n        if (!task || task.type !== \"build\") return;\n        const buildingInfo = buildingList.find((b)=>{\n            var _task_payload;\n            return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n        });\n        if (!buildingInfo) return;\n        const cappedCount = Math.min(count, idleVillagers.length);\n        const villagersToAssign = idleVillagers.slice(0, cappedCount).map((v)=>v.id);\n        const workDone = (Date.now() - task.startTime) * (((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 1);\n        const workRemaining = Math.max(0, buildingInfo.buildTime * 1000 - workDone);\n        const newWorkerCount = (((_task_payload1 = task.payload) === null || _task_payload1 === void 0 ? void 0 : (_task_payload_villagerIds1 = _task_payload1.villagerIds) === null || _task_payload_villagerIds1 === void 0 ? void 0 : _task_payload_villagerIds1.length) || 0) + cappedCount;\n        const newRemainingDuration = workRemaining / newWorkerCount;\n        setUnits((prev)=>({\n                ...prev,\n                villagers: prev.villagers.map((v)=>villagersToAssign.includes(v.id) ? {\n                        ...v,\n                        currentTask: constructionId\n                    } : v)\n            }));\n        setActiveTasks((prev)=>prev.map((t)=>t.id === constructionId ? {\n                    ...t,\n                    startTime: Date.now(),\n                    duration: newRemainingDuration,\n                    payload: {\n                        ...t.payload,\n                        villagerIds: [\n                            ...t.payload.villagerIds,\n                            ...villagersToAssign\n                        ]\n                    }\n                } : t));\n        addToLog(\"\".concat(cappedCount, \" villager(s) are now assisting with the \").concat(buildingInfo.name, \".\"), buildingInfo.iconId);\n        setActivityStatus(\"Construction of the \".concat(buildingInfo.name, \" is now faster.\"));\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleAssignVillagers = (targetId, count)=>{\n        if (assignmentPanelState.targetType === \"construction\") return handleAssignVillagersToConstruction(targetId, count);\n        const idleVillagers = units.villagers.filter((v)=>!v.currentTask);\n        if (count <= 0 || idleVillagers.length === 0) {\n            addNotification(\"No idle villagers available.\");\n            return;\n        }\n        const targetNode = resourceNodes.find((n)=>n.id === targetId);\n        if (!targetNode) return;\n        const cappedCount = Math.min(count, idleVillagers.length);\n        const villagersToAssign = idleVillagers.slice(0, cappedCount).map((v)=>v.id);\n        const taskId = \"gather-\".concat(targetId);\n        const existingTask = activeTasks.find((t)=>t.id === taskId);\n        if (unlimitedResources) {\n            updateResources({\n                [targetNode.type]: targetNode.amount\n            });\n            addToLog(\"\".concat(cappedCount, \" villager(s) instantly gathered \").concat(Math.floor(targetNode.amount), \" \").concat(targetNode.type, \".\"), targetNode.type);\n            setResourceNodes((prev)=>prev.filter((n)=>n.id !== targetId));\n        } else {\n            if (existingTask) setActiveTasks((prev)=>prev.map((t)=>t.id === taskId ? {\n                        ...t,\n                        payload: {\n                            ...t.payload,\n                            villagerIds: [\n                                ...new Set([\n                                    ...t.payload.villagerIds,\n                                    ...villagersToAssign\n                                ])\n                            ]\n                        }\n                    } : t));\n            else setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: taskId,\n                        type: \"gather\",\n                        startTime: Date.now(),\n                        duration: 999999999,\n                        payload: {\n                            resourceNodeId: targetId,\n                            villagerIds: villagersToAssign\n                        }\n                    }\n                ]);\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>villagersToAssign.includes(v.id) ? {\n                            ...v,\n                            currentTask: taskId\n                        } : v)\n                }));\n        }\n        addToLog(\"\".concat(cappedCount, \" villager(s) assigned to gather \").concat(targetNode.type, \".\"), targetNode.type);\n        setActivityStatus(\"\".concat(cappedCount, \" villager(s) are now gathering \").concat(targetNode.type, \".\"));\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleRecallVillagers = (targetId, count, type)=>{\n        var _task_payload_villagerIds, _task_payload;\n        const task = activeTasks.find((t)=>t.id === targetId);\n        var _task_payload_villagerIds_length;\n        if (!task || ((_task_payload_villagerIds_length = (_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) !== null && _task_payload_villagerIds_length !== void 0 ? _task_payload_villagerIds_length : 0) < count) return;\n        const villagersToRecall = task.payload.villagerIds.slice(task.payload.villagerIds.length - count);\n        if (type === \"construction\" && villagersToRecall.length === task.payload.villagerIds.length) {\n            addNotification(\"Cannot recall the last builder from a project.\");\n            return;\n        }\n        setUnits((prev)=>({\n                ...prev,\n                villagers: prev.villagers.map((v)=>villagersToRecall.includes(v.id) ? {\n                        ...v,\n                        currentTask: null\n                    } : v)\n            }));\n        const remainingVillagers = task.payload.villagerIds.filter((id)=>!villagersToRecall.includes(id));\n        if (remainingVillagers.length === 0) {\n            setActiveTasks((prev)=>prev.filter((t)=>t.id !== targetId));\n            const node = resourceNodes.find((n)=>n.id === targetId);\n            if (node) addToLog(\"All villagers recalled from gathering \".concat(node.type, \".\"), \"villager\");\n        } else {\n            const buildingInfo = buildingList.find((b)=>{\n                var _task_payload;\n                return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n            });\n            const workDone = (Date.now() - task.startTime) * task.payload.villagerIds.length;\n            const newRemainingDuration = (buildingInfo.buildTime * 1000 - workDone) / remainingVillagers.length;\n            setActiveTasks((prev)=>prev.map((t)=>t.id === targetId ? {\n                        ...t,\n                        startTime: Date.now(),\n                        duration: newRemainingDuration,\n                        payload: {\n                            ...t.payload,\n                            villagerIds: remainingVillagers\n                        }\n                    } : t));\n            if (type === \"construction\") addToLog(\"\".concat(count, \" builder(s) recalled. Construction will now be slower.\"), \"villager\");\n        }\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleAdvanceAge = async ()=>{\n        if (activeTasks.some((t)=>t.type === \"advance_age\")) {\n            addNotification(\"Advancement already in progress.\");\n            return;\n        }\n        if (!unlimitedResources) {\n            const missing = [];\n            if (resources.food < 500) missing.push(\"\".concat(500 - resources.food, \" Food\"));\n            if (resources.gold < 200) missing.push(\"\".concat(200 - resources.gold, \" Gold\"));\n            if (missing.length > 0) {\n                addNotification(\"To advance, you need \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n            updateResources({\n                food: -500,\n                gold: -200\n            });\n        }\n        const activeAges = masterAgeList.filter((a)=>a.isActive);\n        const currentIndex = activeAges.findIndex((age)=>age.name === currentAge);\n        if (currentIndex === -1 || currentIndex + 1 >= activeAges.length) {\n            addNotification(\"You have reached the final available age.\");\n            return;\n        }\n        if (unlimitedResources) handleTaskCompletion({\n            id: \"instant\",\n            type: \"advance_age\",\n            startTime: 0,\n            duration: 0,\n            payload: {}\n        });\n        else {\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: \"\".concat(Date.now(), \"-advance_age\"),\n                        type: \"advance_age\",\n                        startTime: Date.now(),\n                        duration: 60000\n                    }\n                ]);\n            setActivityStatus(\"Your people begin the long journey to a new age.\");\n            setBuildingManagementPanel({\n                isOpen: false,\n                type: null,\n                instanceId: null,\n                anchorRect: null\n            });\n        }\n    };\n    const handleExitGame = async ()=>{\n        setCurrentSaveName(null);\n        await fetchSavesAndConfigs();\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU);\n    };\n    const handleDeleteGame = async (saveName)=>{\n        await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.deleteGameState)(saveName);\n        await fetchSavesAndConfigs();\n        addNotification('Deleted saga: \"'.concat(saveName, '\"'));\n    };\n    const handleToggleUnlimitedResources = ()=>{\n        const newMode = !unlimitedResources;\n        setUnlimitedResources(newMode);\n        if (newMode) {\n            setResources({\n                food: 99999,\n                wood: 99999,\n                gold: 99999,\n                stone: 99999\n            });\n            addNotification(\"Test Mode: ON - All active tasks completed.\");\n            const depletedNodeIds = new Set();\n            activeTasks.forEach((task)=>{\n                var _task_payload;\n                if (task.type === \"gather\" && ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.resourceNodeId)) {\n                    depletedNodeIds.add(task.payload.resourceNodeId);\n                    const node = resourceNodes.find((n)=>n.id === task.payload.resourceNodeId);\n                    if (node) addToLog(\"Instantly gathered all \".concat(node.type, \" from a depleted source.\"), node.type);\n                }\n                handleTaskCompletion(task);\n            });\n            setActiveTasks([]);\n            if (depletedNodeIds.size > 0) setResourceNodes((prev)=>prev.filter((n)=>!depletedNodeIds.has(n.id)));\n        } else addNotification(\"Test Mode: OFF\");\n    };\n    const handleUseItem = (itemId)=>{\n        const item = inventory.find((i)=>i.id === itemId);\n        if (!item) return;\n        const baseItemId = item.id.split(\"-\")[0];\n        const constructionTasks = activeTasks.filter((t)=>t.type === \"build\");\n        switch(baseItemId){\n            case \"scroll_of_haste\":\n            case \"blueprint_of_the_master\":\n                if (constructionTasks.length > 0) {\n                    var _buildingList_find;\n                    const task = constructionTasks.sort((a, b)=>b.startTime + b.duration - (a.startTime + a.duration))[0];\n                    setActiveTasks((p)=>p.map((t)=>t.id === task.id ? {\n                                ...t,\n                                duration: Math.max(0, t.duration - (baseItemId === \"scroll_of_haste\" ? 15000 : 60000))\n                            } : t));\n                    addToLog(\"Used \".concat(item.name, \" on the \").concat((_buildingList_find = buildingList.find((b)=>{\n                        var _task_payload;\n                        return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n                    })) === null || _buildingList_find === void 0 ? void 0 : _buildingList_find.name, \".\"), \"item\");\n                }\n                break;\n            case \"hearty_meal\":\n                updateResources({\n                    food: 75\n                });\n                addToLog(\"Used \".concat(item.name, \" to gain 75 food.\"), \"item\");\n                break;\n            case \"builders_charm\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        buildTimeReduction: {\n                            percentage: 0.1,\n                            uses: 1\n                        }\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Next building is 10% faster.\"), \"item\");\n                break;\n            case \"drillmasters_whistle\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        trainTimeReduction: {\n                            percentage: 0.25,\n                            uses: 5\n                        }\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Next 5 units train 25% faster.\"), \"item\");\n                break;\n            case \"golden_harvest\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        resourceBoost: [\n                            ...p.resourceBoost || [],\n                            {\n                                resource: \"food\",\n                                multiplier: 1.5,\n                                endTime: Date.now() + 60000\n                            }\n                        ]\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Food gathering boosted by 50% for 60s.\"), \"item\");\n                break;\n            case \"shard_of_the_ancients\":\n                if (constructionTasks.length > 0) {\n                    var _buildingList_find1;\n                    const task = constructionTasks.sort((a, b)=>b.startTime + b.duration - (a.startTime + a.duration))[0];\n                    setActiveTasks((p)=>p.filter((t)=>t.id !== task.id));\n                    handleTaskCompletion(task);\n                    addToLog(\"Used \".concat(item.name, \" to instantly complete the \").concat((_buildingList_find1 = buildingList.find((b)=>{\n                        var _task_payload;\n                        return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n                    })) === null || _buildingList_find1 === void 0 ? void 0 : _buildingList_find1.name, \".\"), \"item\");\n                }\n                break;\n            case \"heart_of_the_mountain\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        resourceBoost: [\n                            ...p.resourceBoost || [],\n                            {\n                                resource: \"gold\",\n                                multiplier: 2,\n                                endTime: Date.now() + 120000\n                            },\n                            {\n                                resource: \"stone\",\n                                multiplier: 2,\n                                endTime: Date.now() + 120000\n                            }\n                        ]\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Gold and Stone gathering doubled for 2 minutes.\"), \"item\");\n                break;\n            case \"banner_of_command\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        permanentTrainTimeReduction: (p.permanentTrainTimeReduction || 0) + 0.05\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Military units train 5% faster, permanently.\"), \"item\");\n                break;\n            case \"whisper_of_the_creator\":\n                const tasks = [\n                    ...activeTasks\n                ];\n                setActiveTasks([]);\n                tasks.forEach(handleTaskCompletion);\n                addToLog(\"A divine whisper echoes, and all work is instantly finished.\", \"item\");\n                break;\n        }\n        setInventory((prev)=>prev.filter((i)=>i.id !== itemId));\n        setInventoryPanelState({\n            isOpen: false,\n            anchorRect: null\n        });\n    };\n    const buildingCounts = buildingList.reduce((acc, b)=>{\n        var _buildings_b_id;\n        acc[b.id] = ((_buildings_b_id = buildings[b.id]) === null || _buildings_b_id === void 0 ? void 0 : _buildings_b_id.length) || 0;\n        return acc;\n    }, {});\n    const idleVillagerCount = units.villagers.filter((v)=>!v.currentTask).length;\n    const assignmentTarget = assignmentPanelState.targetType === \"resource\" ? resourceNodes.find((n)=>n.id === assignmentPanelState.targetId) : activeTasks.find((t)=>t.type === \"build\" && t.id === assignmentPanelState.targetId);\n    const currentAgeIndex = ageProgressionList.findIndex((a)=>a.name === currentAge);\n    const availableBuildings = buildingList.filter((b)=>{\n        const unlockAgeIndex = ageProgressionList.findIndex((a)=>a.name === b.unlockedInAge);\n        return b.isActive && unlockAgeIndex !== -1 && unlockAgeIndex <= currentAgeIndex;\n    });\n    const activeUnits = unitList.filter((u)=>u.isActive);\n    const closeAllPanels = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setUnitManagementPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                type: null,\n                anchorRect: null\n            } : p);\n        setBuildingManagementPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                type: null,\n                instanceId: null,\n                anchorRect: null\n            } : p);\n        setBuildPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                villagerId: null,\n                anchorRect: null\n            } : p);\n        setAssignmentPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                targetId: null,\n                targetType: null,\n                anchorRect: null\n            } : p);\n        setCivPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n        setAllBuildingsPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n        setInventoryPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n    }, []);\n    const handleOpenBuildingPanel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((type, instanceId, rect)=>{\n        closeAllPanels();\n        setBuildingManagementPanel({\n            isOpen: true,\n            type,\n            instanceId,\n            anchorRect: rect\n        });\n    }, [\n        closeAllPanels\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClickOutside = (event)=>{\n            const target = event.target;\n            if (!target.closest(\".sci-fi-panel-popup\")) closeAllPanels();\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>document.removeEventListener(\"mousedown\", handleClickOutside);\n    }, [\n        closeAllPanels\n    ]);\n    const renderContent = ()=>{\n        if (isAppLoading) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {}, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 837,\n                columnNumber: 20\n            }, undefined);\n        }\n        switch(gameState){\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StartScreen__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                    onNewGame: handleStartNewGame,\n                    onResumeGame: handleResumeGame,\n                    savedGames: allSaves,\n                    onDeleteGame: handleDeleteGame\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 841,\n                    columnNumber: 42\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 842,\n                    columnNumber: 45\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING:\n                if (!civilization) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 844,\n                    columnNumber: 43\n                }, undefined);\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_GameUI__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                            civilization: civilization,\n                            resources: resources,\n                            units: units,\n                            buildings: buildings,\n                            population: population,\n                            currentAge: currentAge,\n                            gameLog: gameLog,\n                            resourceDeltas: resourceDeltas,\n                            activityStatus: activityStatus,\n                            unitList: activeUnits,\n                            buildingList: buildingList,\n                            onOpenUnitPanel: (type, rect)=>{\n                                closeAllPanels();\n                                setUnitManagementPanel({\n                                    isOpen: true,\n                                    type,\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenBuildingPanel: handleOpenBuildingPanel,\n                            onOpenAllBuildingsPanel: (rect)=>{\n                                closeAllPanels();\n                                setAllBuildingsPanel({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            playerAction: playerAction,\n                            onConfirmPlacement: handleConfirmPlacement,\n                            onCancelPlayerAction: handleCancelPlayerAction,\n                            onBuildingClick: (building, rect)=>{\n                                closeAllPanels();\n                                const type = Object.keys(buildings).find((key)=>{\n                                    var _buildings_key;\n                                    return (_buildings_key = buildings[key]) === null || _buildings_key === void 0 ? void 0 : _buildings_key.some((b)=>b.id === building.id);\n                                });\n                                if (type) setBuildingManagementPanel({\n                                    isOpen: true,\n                                    type,\n                                    instanceId: building.id,\n                                    anchorRect: rect\n                                });\n                            },\n                            mapDimensions: MAP_DIMENSIONS,\n                            activeTasks: activeTasks,\n                            onExitGame: handleExitGame,\n                            onOpenCivPanel: (rect)=>{\n                                closeAllPanels();\n                                setCivPanelState({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            resourceNodes: resourceNodes,\n                            onOpenAssignmentPanel: (nodeId, rect)=>{\n                                closeAllPanels();\n                                setAssignmentPanelState({\n                                    isOpen: true,\n                                    targetId: nodeId,\n                                    targetType: \"resource\",\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenConstructionPanel: (constructionId, rect)=>{\n                                closeAllPanels();\n                                setAssignmentPanelState({\n                                    isOpen: true,\n                                    targetId: constructionId,\n                                    targetType: \"construction\",\n                                    anchorRect: rect\n                                });\n                            },\n                            gatherInfo: GATHER_INFO,\n                            currentEvent: currentEvent,\n                            onEventChoice: handleEventChoice,\n                            inventory: inventory,\n                            onOpenInventoryPanel: (rect)=>{\n                                closeAllPanels();\n                                setInventoryPanelState({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            }\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 847,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BuildPanel__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                            isOpen: buildPanelState.isOpen,\n                            onClose: ()=>setBuildPanelState({\n                                    isOpen: false,\n                                    villagerId: null,\n                                    anchorRect: null\n                                }),\n                            onStartPlacement: handleStartPlacement,\n                            resources: resources,\n                            buildingCounts: buildingCounts,\n                            buildingList: availableBuildings,\n                            anchorRect: buildPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 862,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_UnitManagementPanel__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                            isOpen: unitManagementPanel.isOpen,\n                            onClose: ()=>setUnitManagementPanel({\n                                    isOpen: false,\n                                    type: null,\n                                    anchorRect: null\n                                }),\n                            type: unitManagementPanel.type,\n                            units: units,\n                            onUpdateUnit: handleUpdateUnit,\n                            onDismissUnit: handleDismissSpecificUnit,\n                            onInitiateBuild: (villagerId, rect)=>{\n                                closeAllPanels();\n                                handleInitiateBuild(villagerId, rect);\n                            },\n                            getVillagerTaskDetails: getVillagerTaskDetails,\n                            anchorRect: unitManagementPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 863,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BuildingManagementPanel__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                            isOpen: buildingManagementPanel.isOpen,\n                            onClose: ()=>setBuildingManagementPanel({\n                                    isOpen: false,\n                                    type: null,\n                                    anchorRect: null\n                                }),\n                            panelState: buildingManagementPanel,\n                            buildings: buildings,\n                            buildingList: buildingList,\n                            onUpdateBuilding: handleUpdateBuilding,\n                            onDemolishBuilding: handleDemolishBuilding,\n                            onTrainUnits: handleTrainUnits,\n                            onTrainVillagers: handleTrainVillagers,\n                            resources: resources,\n                            population: population,\n                            unitList: activeUnits,\n                            onAdvanceAge: handleAdvanceAge,\n                            activeTasks: activeTasks,\n                            anchorRect: buildingManagementPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 864,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ResourceAssignmentPanel__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                            isOpen: assignmentPanelState.isOpen,\n                            onClose: ()=>setAssignmentPanelState({\n                                    isOpen: false,\n                                    targetId: null,\n                                    targetType: null,\n                                    anchorRect: null\n                                }),\n                            assignmentTarget: assignmentTarget || null,\n                            idleVillagerCount: idleVillagerCount,\n                            onAssignVillagers: handleAssignVillagers,\n                            onRecallVillagers: handleRecallVillagers,\n                            gatherInfo: GATHER_INFO,\n                            buildingList: buildingList,\n                            units: units,\n                            anchorRect: assignmentPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 865,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CivilizationPanel__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                            isOpen: civPanelState.isOpen,\n                            onClose: ()=>setCivPanelState({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            civilization: civilization,\n                            anchorRect: civPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 866,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AllBuildingsPanel__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                            isOpen: allBuildingsPanel.isOpen,\n                            onClose: ()=>setAllBuildingsPanel({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            buildingList: buildingList,\n                            buildingCounts: buildingCounts,\n                            activeTasks: activeTasks,\n                            onOpenBuildingPanel: handleOpenBuildingPanel,\n                            anchorRect: allBuildingsPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 867,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_InventoryPanel__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                            isOpen: inventoryPanelState.isOpen,\n                            onClose: ()=>setInventoryPanelState({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            inventory: inventory,\n                            onUseItem: handleUseItem,\n                            activeTasks: activeTasks,\n                            activeBuffs: activeBuffs,\n                            anchorRect: inventoryPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 868,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true);\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StartScreen__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                    onNewGame: handleStartNewGame,\n                    onResumeGame: handleResumeGame,\n                    savedGames: allSaves,\n                    onDeleteGame: handleDeleteGame\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 871,\n                    columnNumber: 29\n                }, undefined);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-stone-dark flex items-center justify-center p-4\",\n        children: [\n            gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handleToggleUnlimitedResources,\n                className: \"fixed bottom-4 left-4 z-[101] bg-brand-gold text-stone-dark font-bold py-1 px-3 rounded-full text-xs shadow-lg hover:scale-105 transition-transform\",\n                \"aria-label\": \"Toggle unlimited resources test mode\",\n                children: [\n                    \"Test Mode: \",\n                    unlimitedResources ? \"ON\" : \"OFF\"\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 878,\n                columnNumber: 18\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_NotificationManager__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                notifications: notifications,\n                onRemoveNotification: removeNotification\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 880,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"w-full max-w-7xl mx-auto\",\n                children: renderContent()\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 881,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/src/app/page.tsx\",\n        lineNumber: 876,\n        columnNumber: 9\n    }, undefined);\n};\n_s(GamePage, \"IqFYC9yokIIoqL3RUEuHUkAHYjI=\");\n_c = GamePage;\n/* harmony default export */ __webpack_exports__[\"default\"] = (GamePage);\nvar _c;\n$RefreshReg$(_c, \"GamePage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFZO2dDQUFLOzRCQUFJMkIsY0FBY0E7NEJBQWNtUSxnQkFBZ0JBOzRCQUFnQm5ULGFBQWFBOzRCQUFhd1UscUJBQXFCYjs0QkFBeUJ0UyxZQUFZTyxrQkFBa0JQLFVBQVU7Ozs7OztzQ0FDM1MsOERBQUMxRSxtRUFBY0E7NEJBQUN3RSxRQUFRaUIsb0JBQW9CakIsTUFBTTs0QkFBRW9VLFNBQVMsSUFBTWxULHVCQUF1QjtvQ0FBRWxCLFFBQVE7b0NBQU9FLFlBQVk7Z0NBQUs7NEJBQUlqQixXQUFXQTs0QkFBV2dXLFdBQVd2RDs0QkFBZTdTLGFBQWFBOzRCQUFhTSxhQUFhQTs0QkFBYWUsWUFBWWUsb0JBQW9CZixVQUFVOzs7Ozs7OztZQUcxUjtnQkFBUyxxQkFBTyw4REFBQ25GLGdFQUFXQTtvQkFBQ2lZLFdBQVd0STtvQkFBb0J1SSxjQUFjM0g7b0JBQWtCNEgsWUFBWTNVO29CQUFVNFUsY0FBYzlCOzs7Ozs7UUFDcEk7SUFDSjtJQUVBLHFCQUNJLDhEQUFDNkQ7UUFBSUMsV0FBVTs7WUFDVnRZLGNBQWNqRCw4Q0FBVUEsQ0FBQzBLLE9BQU8sa0JBQzVCLDhEQUFDOFE7Z0JBQU9DLFNBQVMvRDtnQkFBZ0M2RCxXQUFVO2dCQUFzSkcsY0FBVzs7b0JBQXVDO29CQUFZalgscUJBQXFCLE9BQU87Ozs7Ozs7MEJBRWhULDhEQUFDbkQsd0VBQW1CQTtnQkFBQ2lELGVBQWVBO2dCQUFlb1gsc0JBQXNCMVE7Ozs7OzswQkFDekUsOERBQUMyUTtnQkFBS0wsV0FBVTswQkFDWHBDOzs7Ozs7Ozs7Ozs7QUFJakI7R0E5MEJNcFc7S0FBQUE7QUFnMUJOLCtEQUFlQSxRQUFRQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcHAvcGFnZS50c3g/ZjY4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcblxuJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEdhbWVTdGF0dXMsIHR5cGUgQ2l2aWxpemF0aW9uLCB0eXBlIFJlc291cmNlcywgdHlwZSBVbml0cywgdHlwZSBCdWlsZGluZ3MsIHR5cGUgR2FtZUV2ZW50LCB0eXBlIEdhbWVMb2dFbnRyeSwgdHlwZSBMb2dJY29uVHlwZSwgdHlwZSBSZXNvdXJjZURlbHRhcywgQnVpbGRpbmdUeXBlLCBVSU5vdGlmaWNhdGlvbiwgRnVsbEdhbWVTdGF0ZSwgVmlsbGFnZXIsIE1pbGl0YXJ5VW5pdCwgVW5pdENvbmZpZywgTWlsaXRhcnlVbml0VHlwZSwgR2FtZVRhc2ssIFRhc2tUeXBlLCBSZXNvdXJjZU5vZGUsIFJlc291cmNlTm9kZVR5cGUsIFBsYXllckFjdGlvblN0YXRlLCBHYW1lRXZlbnRDaG9pY2UsIEdhbWVJdGVtLCBSZXdhcmQsIEFjdGl2ZUJ1ZmZzLCBCdWlsZGluZ0luc3RhbmNlLCBBZ2VDb25maWcsIEJ1aWxkaW5nQ29uZmlnIH0gZnJvbSAnQC90eXBlcyc7XG5pbXBvcnQgeyBnZXRQcmVkZWZpbmVkQ2l2aWxpemF0aW9uLCBnZXRQcmVkZWZpbmVkR2FtZUV2ZW50IH0gZnJvbSAnQC9zZXJ2aWNlcy9nZW1pbmlTZXJ2aWNlJztcbmltcG9ydCB7IHNhdmVHYW1lU3RhdGUsIGxvYWRHYW1lU3RhdGUsIGdldEFsbFNhdmVOYW1lcywgZGVsZXRlR2FtZVN0YXRlLCBnZXRBbGxBZ2VDb25maWdzLCBnZXRBbGxCdWlsZGluZ0NvbmZpZ3MsIGdldEFsbFVuaXRDb25maWdzLCBzYXZlQWdlQ29uZmlnLCBzYXZlQnVpbGRpbmdDb25maWcsIHNhdmVVbml0Q29uZmlnIH0gZnJvbSAnQC9zZXJ2aWNlcy9kYlNlcnZpY2UnO1xuaW1wb3J0IHsgZ2V0UmFuZG9tTmFtZXMgfSBmcm9tICdAL3NlcnZpY2VzL25hbWVTZXJ2aWNlJztcbmltcG9ydCB7IEdBTUVfSVRFTVMgfSBmcm9tICdAL2RhdGEvaXRlbUNvbnRlbnQnO1xuaW1wb3J0IHsgSU5JVElBTF9BR0VTIH0gZnJvbSAnQC9kYXRhL2FnZUluZm8nO1xuaW1wb3J0IHsgSU5JVElBTF9CVUlMRElOR1MgfSBmcm9tICdAL2RhdGEvYnVpbGRpbmdJbmZvJztcbmltcG9ydCB7IElOSVRJQUxfVU5JVFMgfSBmcm9tICdAL2RhdGEvdW5pdEluZm8nO1xuaW1wb3J0IEdhbWVVSSBmcm9tICdAL2NvbXBvbmVudHMvR2FtZVVJJztcbmltcG9ydCBTdGFydFNjcmVlbiBmcm9tICdAL2NvbXBvbmVudHMvU3RhcnRTY3JlZW4nO1xuaW1wb3J0IExvYWRpbmdTY3JlZW4gZnJvbSAnQC9jb21wb25lbnRzL0xvYWRpbmdTY3JlZW4nO1xuaW1wb3J0IEJ1aWxkUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL0J1aWxkUGFuZWwnO1xuaW1wb3J0IE5vdGlmaWNhdGlvbk1hbmFnZXIgZnJvbSAnQC9jb21wb25lbnRzL05vdGlmaWNhdGlvbk1hbmFnZXInO1xuaW1wb3J0IFVuaXRNYW5hZ2VtZW50UGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL1VuaXRNYW5hZ2VtZW50UGFuZWwnO1xuaW1wb3J0IEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9CdWlsZGluZ01hbmFnZW1lbnRQYW5lbCc7XG5pbXBvcnQgUmVzb3VyY2VBc3NpZ25tZW50UGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL1Jlc291cmNlQXNzaWdubWVudFBhbmVsJztcbmltcG9ydCBDaXZpbGl6YXRpb25QYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvQ2l2aWxpemF0aW9uUGFuZWwnO1xuaW1wb3J0IEFsbEJ1aWxkaW5nc1BhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9BbGxCdWlsZGluZ3NQYW5lbCc7XG5pbXBvcnQgSW52ZW50b3J5UGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL0ludmVudG9yeVBhbmVsJztcblxuY29uc3QgR0FUSEVSX0lORk86IFJlY29yZDxSZXNvdXJjZU5vZGVUeXBlLCB7IHJhdGU6IG51bWJlciB9PiA9IHtcbiAgICBmb29kOiB7IHJhdGU6IDEwIH0sXG4gICAgd29vZDogeyByYXRlOiA4IH0sXG4gICAgZ29sZDogeyByYXRlOiA1IH0sXG4gICAgc3RvbmU6IHsgcmF0ZTogNiB9LFxufVxuXG5jb25zdCBpbml0aWFsQnVpbGRpbmdzU3RhdGU6IEJ1aWxkaW5ncyA9IHtcbiAgICBob3VzZXM6IFtdLCBiYXJyYWNrczogW10sIGFyY2hlcnlSYW5nZTogW10sIHN0YWJsZTogW10sIHNpZWdlV29ya3Nob3A6IFtdLCBibGFja3NtaXRoOiBbXSwgd2F0Y2hUb3dlcjogW10sIHRvd25DZW50ZXI6IFtdXG59O1xuXG5jb25zdCBNQVBfRElNRU5TSU9OUyA9IHsgd2lkdGg6IDI1LCBoZWlnaHQ6IDE4IH07XG5cblxuY29uc3QgR2FtZVBhZ2U6IFJlYWN0LkZDID0gKCkgPT4ge1xuICAgIC8vIENvcmUgR2FtZSBTdGF0ZVxuICAgIGNvbnN0IFtnYW1lU3RhdGUsIHNldEdhbWVTdGF0ZV0gPSB1c2VTdGF0ZTxHYW1lU3RhdHVzPihHYW1lU3RhdHVzLkxPQURJTkcpO1xuICAgIGNvbnN0IFtjaXZpbGl6YXRpb24sIHNldENpdmlsaXphdGlvbl0gPSB1c2VTdGF0ZTxDaXZpbGl6YXRpb24gfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbcmVzb3VyY2VzLCBzZXRSZXNvdXJjZXNdID0gdXNlU3RhdGU8UmVzb3VyY2VzPih7IGZvb2Q6IDIwMCwgd29vZDogMTUwLCBnb2xkOiA1MCwgc3RvbmU6IDEwMCB9KTtcbiAgICBjb25zdCBbdW5pdHMsIHNldFVuaXRzXSA9IHVzZVN0YXRlPFVuaXRzPih7IHZpbGxhZ2VyczogW10sIG1pbGl0YXJ5OiBbXSB9KTtcbiAgICBjb25zdCBbYnVpbGRpbmdzLCBzZXRCdWlsZGluZ3NdID0gdXNlU3RhdGU8QnVpbGRpbmdzPihpbml0aWFsQnVpbGRpbmdzU3RhdGUpO1xuICAgIGNvbnN0IFtjdXJyZW50QWdlLCBzZXRDdXJyZW50QWdlXSA9IHVzZVN0YXRlPHN0cmluZz4oJ05vbWFkaWMgQWdlJyk7XG4gICAgY29uc3QgW2dhbWVMb2csIHNldEdhbWVMb2ddID0gdXNlU3RhdGU8R2FtZUxvZ0VudHJ5W10+KFtdKTtcbiAgICBjb25zdCBbY3VycmVudEV2ZW50LCBzZXRDdXJyZW50RXZlbnRdID0gdXNlU3RhdGU8R2FtZUV2ZW50IHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW3Jlc291cmNlRGVsdGFzLCBzZXRSZXNvdXJjZURlbHRhc10gPSB1c2VTdGF0ZTxSZXNvdXJjZURlbHRhcz4oe30pO1xuICAgIGNvbnN0IFthY3Rpdml0eVN0YXR1cywgc2V0QWN0aXZpdHlTdGF0dXNdID0gdXNlU3RhdGU8c3RyaW5nPignWW91ciBzdG9yeSBiZWdpbnMuLi4nKTtcbiAgICBjb25zdCBbbm90aWZpY2F0aW9ucywgc2V0Tm90aWZpY2F0aW9uc10gPSB1c2VTdGF0ZTxVSU5vdGlmaWNhdGlvbltdPihbXSk7XG4gICAgY29uc3QgW3VubGltaXRlZFJlc291cmNlcywgc2V0VW5saW1pdGVkUmVzb3VyY2VzXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgICBjb25zdCBbYWxsU2F2ZXMsIHNldEFsbFNhdmVzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG4gICAgY29uc3QgW2N1cnJlbnRTYXZlTmFtZSwgc2V0Q3VycmVudFNhdmVOYW1lXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFtwbGF5ZXJBY3Rpb24sIHNldFBsYXllckFjdGlvbl0gPSB1c2VTdGF0ZTxQbGF5ZXJBY3Rpb25TdGF0ZT4obnVsbCk7XG4gICAgY29uc3QgW2FjdGl2ZVRhc2tzLCBzZXRBY3RpdmVUYXNrc10gPSB1c2VTdGF0ZTxHYW1lVGFza1tdPihbXSk7XG4gICAgY29uc3QgW3Jlc291cmNlTm9kZXMsIHNldFJlc291cmNlTm9kZXNdID0gdXNlU3RhdGU8UmVzb3VyY2VOb2RlW10+KFtdKTtcbiAgICBjb25zdCBbaW52ZW50b3J5LCBzZXRJbnZlbnRvcnldID0gdXNlU3RhdGU8R2FtZUl0ZW1bXT4oW10pO1xuICAgIGNvbnN0IFthY3RpdmVCdWZmcywgc2V0QWN0aXZlQnVmZnNdID0gdXNlU3RhdGU8QWN0aXZlQnVmZnM+KHsgcmVzb3VyY2VCb29zdDogW10gfSk7XG4gICAgXG4gICAgLy8gTWFzdGVyIGxpc3RzIG9mIGFsbCBjb25maWd1cmF0aW9ucyBmcm9tIERCXG4gICAgY29uc3QgW21hc3RlckFnZUxpc3QsIHNldE1hc3RlckFnZUxpc3RdID0gdXNlU3RhdGU8QWdlQ29uZmlnW10+KFtdKTtcbiAgICBjb25zdCBbbWFzdGVyQnVpbGRpbmdMaXN0LCBzZXRNYXN0ZXJCdWlsZGluZ0xpc3RdID0gdXNlU3RhdGU8QnVpbGRpbmdDb25maWdbXT4oW10pO1xuICAgIGNvbnN0IFttYXN0ZXJVbml0TGlzdCwgc2V0TWFzdGVyVW5pdExpc3RdID0gdXNlU3RhdGU8VW5pdENvbmZpZ1tdPihbXSk7XG5cbiAgICAvLyBBcHAgTG9hZGluZyBTdGF0ZVxuICAgIGNvbnN0IFtpc0FwcExvYWRpbmcsIHNldElzQXBwTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcblxuICAgIFxuICAgIC8vIFBhbmVsIFN0YXRlc1xuICAgIGNvbnN0IFtidWlsZFBhbmVsU3RhdGUsIHNldEJ1aWxkUGFuZWxTdGF0ZV0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgdmlsbGFnZXJJZDogc3RyaW5nIHwgbnVsbDsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGwgfT4oeyBpc09wZW46IGZhbHNlLCB2aWxsYWdlcklkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIGNvbnN0IFt1bml0TWFuYWdlbWVudFBhbmVsLCBzZXRVbml0TWFuYWdlbWVudFBhbmVsXSA9IHVzZVN0YXRlPHsgaXNPcGVuOiBib29sZWFuOyB0eXBlOiAndmlsbGFnZXJzJyB8ICdtaWxpdGFyeScgfCBudWxsOyBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbDsgfT4oeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIGNvbnN0IFtidWlsZGluZ01hbmFnZW1lbnRQYW5lbCwgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWxdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IHR5cGU6IEJ1aWxkaW5nVHlwZSB8IHN0cmluZyB8IG51bGw7IGluc3RhbmNlSWQ/OiBzdHJpbmc7IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsOyB9Pih7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGluc3RhbmNlSWQ6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgY29uc3QgW2FsbEJ1aWxkaW5nc1BhbmVsLCBzZXRBbGxCdWlsZGluZ3NQYW5lbF0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7IH0+KHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICBjb25zdCBbYXNzaWdubWVudFBhbmVsU3RhdGUsIHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlXSA9IHVzZVN0YXRlPHsgaXNPcGVuOiBib29sZWFuOyB0YXJnZXRJZDogc3RyaW5nIHwgbnVsbDsgdGFyZ2V0VHlwZTogJ3Jlc291cmNlJyB8ICdjb25zdHJ1Y3Rpb24nIHwgbnVsbDsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7IH0+KHsgaXNPcGVuOiBmYWxzZSwgdGFyZ2V0SWQ6IG51bGwsIHRhcmdldFR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgY29uc3QgW2NpdlBhbmVsU3RhdGUsIHNldENpdlBhbmVsU3RhdGVdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsOyB9Pih7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgY29uc3QgW2ludmVudG9yeVBhbmVsU3RhdGUsIHNldEludmVudG9yeVBhbmVsU3RhdGVdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsOyB9Pih7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG5cbiAgICBjb25zdCBkZWx0YVRpbWVvdXRSZWYgPSB1c2VSZWY8eyBba2V5IGluIGtleW9mIFJlc291cmNlc10/OiBudW1iZXIgfT4oe30pO1xuICAgIGNvbnN0IGV2ZW50VGltZXJSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBsYXN0VGlja1JlZiA9IHVzZVJlZjxudW1iZXI+KERhdGUubm93KCkpO1xuICAgIGNvbnN0IGFuaW1hdGlvbkZyYW1lUmVmID0gdXNlUmVmPG51bWJlcj4oKTtcbiAgICBcbiAgICAvLyBEZXJpdmVkIHN0YXRlIGZvciBhY3RpdmUgZ2FtZSBjb25maWd1cmF0aW9uc1xuICAgIGNvbnN0IGFnZVByb2dyZXNzaW9uTGlzdCA9IG1hc3RlckFnZUxpc3QuZmlsdGVyKGFnZSA9PiBhZ2UuaXNBY3RpdmUpO1xuICAgIGNvbnN0IGJ1aWxkaW5nTGlzdCA9IG1hc3RlckJ1aWxkaW5nTGlzdDsgLy8gS2VlcCBhbGwgZm9yIGxvb2t1cHMsIGZpbHRlciBvbiB1c2VcbiAgICBjb25zdCB1bml0TGlzdCA9IG1hc3RlclVuaXRMaXN0OyAvLyBLZWVwIGFsbCBmb3IgbG9va3VwcywgZmlsdGVyIG9uIHVzZVxuXG4gICAgY29uc3QgcG9wdWxhdGlvbiA9IHtcbiAgICAgICAgY3VycmVudDogdW5pdHMudmlsbGFnZXJzLmxlbmd0aCArIHVuaXRzLm1pbGl0YXJ5Lmxlbmd0aCxcbiAgICAgICAgY2FwYWNpdHk6IChidWlsZGluZ3MudG93bkNlbnRlcj8ubGVuZ3RoID4gMCA/IDIwIDogMCkgKyAoYnVpbGRpbmdzLmhvdXNlcz8ubGVuZ3RoIHx8IDApICogNSxcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGZldGNoU2F2ZXNBbmRDb25maWdzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgbmFtZXMgPSBhd2FpdCBnZXRBbGxTYXZlTmFtZXMoKTtcbiAgICAgICAgICAgIHNldEFsbFNhdmVzKG5hbWVzKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IGFsbEFnZUNvbmZpZ3MgPSBhd2FpdCBnZXRBbGxBZ2VDb25maWdzKCk7XG4gICAgICAgICAgICBpZiAoYWxsQWdlQ29uZmlncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBhbGxBZ2VDb25maWdzID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbaW5kZXgsIHBhXSBvZiBJTklUSUFMX0FHRVMuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdQcmVkZWZpbmVkQWdlOiBBZ2VDb25maWcgPSB7IGlkOiBwYS5uYW1lLCBuYW1lOiBwYS5uYW1lLCBkZXNjcmlwdGlvbjogcGEuZGVzY3JpcHRpb24sIGlzQWN0aXZlOiB0cnVlLCBpc1ByZWRlZmluZWQ6IHRydWUsIG9yZGVyOiBpbmRleCB9O1xuICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2F2ZUFnZUNvbmZpZyhuZXdQcmVkZWZpbmVkQWdlKTtcbiAgICAgICAgICAgICAgICAgICAgIGFsbEFnZUNvbmZpZ3MucHVzaChuZXdQcmVkZWZpbmVkQWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRNYXN0ZXJBZ2VMaXN0KGFsbEFnZUNvbmZpZ3MpO1xuXG4gICAgICAgICAgICBsZXQgYWxsQnVpbGRpbmdDb25maWdzID0gYXdhaXQgZ2V0QWxsQnVpbGRpbmdDb25maWdzKCk7XG4gICAgICAgICAgICBpZiAoYWxsQnVpbGRpbmdDb25maWdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGFsbEJ1aWxkaW5nQ29uZmlncyA9IFtdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRBZ2UgPSBhbGxBZ2VDb25maWdzLmZpbmQoYSA9PiBhLm9yZGVyID09PSAwKT8ubmFtZSB8fCAnTm9tYWRpYyBBZ2UnO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2luZGV4LCBwYl0gb2YgSU5JVElBTF9CVUlMRElOR1MuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ByZWRlZmluZWRCdWlsZGluZzogQnVpbGRpbmdDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5wYixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkTGltaXQ6IHBiLmlzVW5pcXVlID8gMSA6IChwYi5idWlsZExpbWl0IHx8IDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1ByZWRlZmluZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmRlcjogaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmxvY2tlZEluQWdlOiBkZWZhdWx0QWdlLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25JZDogcGIuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5UcmFpblVuaXRzOiBwYi5jYW5UcmFpblVuaXRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXBncmFkZXNUbzogcGIudXBncmFkZXNUbyB8fCBbXVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzYXZlQnVpbGRpbmdDb25maWcobmV3UHJlZGVmaW5lZEJ1aWxkaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgYWxsQnVpbGRpbmdDb25maWdzLnB1c2gobmV3UHJlZGVmaW5lZEJ1aWxkaW5nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRNYXN0ZXJCdWlsZGluZ0xpc3QoYWxsQnVpbGRpbmdDb25maWdzKTtcblxuICAgICAgICAgICAgbGV0IGFsbFVuaXRDb25maWdzID0gYXdhaXQgZ2V0QWxsVW5pdENvbmZpZ3MoKTtcbiAgICAgICAgICAgIGlmIChhbGxVbml0Q29uZmlncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBhbGxVbml0Q29uZmlncyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2luZGV4LCBwdV0gb2YgSU5JVElBTF9VTklUUy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ByZWRlZmluZWRVbml0OiBVbml0Q29uZmlnID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUHJlZGVmaW5lZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyOiBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2F2ZVVuaXRDb25maWcobmV3UHJlZGVmaW5lZFVuaXQpO1xuICAgICAgICAgICAgICAgICAgICBhbGxVbml0Q29uZmlncy5wdXNoKG5ld1ByZWRlZmluZWRVbml0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRNYXN0ZXJVbml0TGlzdChhbGxVbml0Q29uZmlncyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiB7IGFsbEFnZUNvbmZpZ3MsIGFsbEJ1aWxkaW5nQ29uZmlncywgYWxsVW5pdENvbmZpZ3MgfTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkdXJpbmcgaW5pdGlhbCBjb25maWcgZmV0Y2g6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIC8vIEluIGNhc2Ugb2YgYSBjYXRhc3Ryb3BoaWMgREIgZmFpbHVyZSwgd2UgY2FuIHVzZSBmYWxsYmFja3NcbiAgICAgICAgICAgIHNldE1hc3RlckFnZUxpc3QoSU5JVElBTF9BR0VTLm1hcCgoYSwgaSkgPT4gKHsuLi5hLCBpZDogYS5uYW1lLCBpc0FjdGl2ZTogdHJ1ZSwgaXNQcmVkZWZpbmVkOiB0cnVlLCBvcmRlcjogaX0pKSk7XG4gICAgICAgICAgICBzZXRNYXN0ZXJCdWlsZGluZ0xpc3QoSU5JVElBTF9CVUlMRElOR1MubWFwKChiLCBpKSA9PiAoey4uLmIsIGJ1aWxkTGltaXQ6IGIuaXNVbmlxdWUgPyAxIDogMCwgaXNBY3RpdmU6IHRydWUsIGlzUHJlZGVmaW5lZDogdHJ1ZSwgb3JkZXI6IGksIHVubG9ja2VkSW5BZ2U6ICdOb21hZGljIEFnZScsIGljb25JZDogYi5pZCwgY2FuVHJhaW5Vbml0czogYi5jYW5UcmFpblVuaXRzLCB1cGdyYWRlc1RvOiBiLnVwZ3JhZGVzVG8gfHwgW119KSkpO1xuICAgICAgICAgICAgc2V0TWFzdGVyVW5pdExpc3QoSU5JVElBTF9VTklUUy5tYXAoKHUsIGkpID0+ICh7Li4udSwgaXNBY3RpdmU6IHRydWUsIGlzUHJlZGVmaW5lZDogdHJ1ZSwgb3JkZXI6IGl9KSkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgYWxsQWdlQ29uZmlnczogW10sIGFsbEJ1aWxkaW5nQ29uZmlnczogW10sIGFsbFVuaXRDb25maWdzOiBbXSB9OyAvLyBSZXR1cm4gZW1wdHkgdG8gc2lnbmFsIGZhbGxiYWNrXG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRJc0FwcExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgc2V0R2FtZVN0YXRlKEdhbWVTdGF0dXMuTUVOVSk7XG4gICAgICAgIH1cbiAgICB9LCBbXSk7XG4gICAgXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgZmV0Y2hTYXZlc0FuZENvbmZpZ3MoKTtcbiAgICB9LCBbZmV0Y2hTYXZlc0FuZENvbmZpZ3NdKTtcbiAgICBcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZ2FtZVN0YXRlID09PSBHYW1lU3RhdHVzLlBMQVlJTkcgJiYgY2l2aWxpemF0aW9uICYmIGN1cnJlbnRTYXZlTmFtZSkge1xuICAgICAgICAgICAgY29uc3QgZnVsbFN0YXRlOiBGdWxsR2FtZVN0YXRlID0ge1xuICAgICAgICAgICAgICAgIGNpdmlsaXphdGlvbixcbiAgICAgICAgICAgICAgICByZXNvdXJjZXMsXG4gICAgICAgICAgICAgICAgdW5pdHMsXG4gICAgICAgICAgICAgICAgYnVpbGRpbmdzLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRBZ2UsXG4gICAgICAgICAgICAgICAgZ2FtZUxvZyxcbiAgICAgICAgICAgICAgICBhY3RpdmVUYXNrcyxcbiAgICAgICAgICAgICAgICByZXNvdXJjZU5vZGVzLFxuICAgICAgICAgICAgICAgIGludmVudG9yeSxcbiAgICAgICAgICAgICAgICBhY3RpdmVCdWZmcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzYXZlR2FtZVN0YXRlKGN1cnJlbnRTYXZlTmFtZSwgZnVsbFN0YXRlKTtcbiAgICAgICAgfVxuICAgIH0sIFtjaXZpbGl6YXRpb24sIHJlc291cmNlcywgdW5pdHMsIGJ1aWxkaW5ncywgY3VycmVudEFnZSwgZ2FtZUxvZywgZ2FtZVN0YXRlLCBjdXJyZW50U2F2ZU5hbWUsIGFjdGl2ZVRhc2tzLCByZXNvdXJjZU5vZGVzLCBpbnZlbnRvcnksIGFjdGl2ZUJ1ZmZzXSk7XG5cbiAgICBjb25zdCBhZGROb3RpZmljYXRpb24gPSB1c2VDYWxsYmFjaygobWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkID0gYCR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpfWA7XG4gICAgICAgIHNldE5vdGlmaWNhdGlvbnMocHJldiA9PiBbeyBpZCwgbWVzc2FnZSB9XSk7XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgcmVtb3ZlTm90aWZpY2F0aW9uID0gdXNlQ2FsbGJhY2soKGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgc2V0Tm90aWZpY2F0aW9ucyhwcmV2ID0+IHByZXYuZmlsdGVyKG4gPT4gbi5pZCAhPT0gaWQpKTtcbiAgICB9LCBbXSk7XG4gICAgXG4gICAgY29uc3QgYWRkVG9Mb2cgPSB1c2VDYWxsYmFjaygobWVzc2FnZTogc3RyaW5nLCBpY29uOiBMb2dJY29uVHlwZSkgPT4ge1xuICAgICAgICBzZXRHYW1lTG9nKHByZXYgPT4gW3sgaWQ6IGAke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKX1gLCBtZXNzYWdlLCBpY29uIH0sIC4uLnByZXYuc2xpY2UoMCwgMTkpXSk7XG4gICAgfSwgW10pO1xuICAgIFxuICAgIGNvbnN0IHVwZGF0ZVJlc291cmNlcyA9IHVzZUNhbGxiYWNrKChkZWx0YXM6IFJlc291cmNlRGVsdGFzKSA9PiB7XG4gICAgICAgIHNldFJlc291cmNlcyhwcmV2ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Jlc291cmNlcyA9IHsgLi4ucHJldiB9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGVsdGFzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzb3VyY2VLZXkgPSBrZXkgYXMga2V5b2YgUmVzb3VyY2VzO1xuICAgICAgICAgICAgICAgIG5ld1Jlc291cmNlc1tyZXNvdXJjZUtleV0gPSBNYXRoLm1heCgwLCBuZXdSZXNvdXJjZXNbcmVzb3VyY2VLZXldICsgKGRlbHRhc1tyZXNvdXJjZUtleV0gPz8gMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ld1Jlc291cmNlcztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2V0UmVzb3VyY2VEZWx0YXMocHJldiA9PiAoey4uLnByZXYsIC4uLmRlbHRhc30pKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkZWx0YXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc291cmNlS2V5ID0ga2V5IGFzIGtleW9mIFJlc291cmNlcztcbiAgICAgICAgICAgIGlmIChkZWx0YVRpbWVvdXRSZWYuY3VycmVudFtyZXNvdXJjZUtleV0pIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGRlbHRhVGltZW91dFJlZi5jdXJyZW50W3Jlc291cmNlS2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWx0YVRpbWVvdXRSZWYuY3VycmVudFtyZXNvdXJjZUtleV0gPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0UmVzb3VyY2VEZWx0YXMocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0RlbHRhcyA9IHsuLi5wcmV2fTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG5ld0RlbHRhc1tyZXNvdXJjZUtleV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdEZWx0YXM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCAxNTAwKTtcbiAgICAgICAgfVxuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IGhhbmRsZVRhc2tDb21wbGV0aW9uID0gdXNlQ2FsbGJhY2soKHRhc2s6IEdhbWVUYXNrKSA9PiB7XG4gICAgICAgIGlmICh0YXNrLnBheWxvYWQ/LnZpbGxhZ2VySWRzICYmIHRhc2sucGF5bG9hZC52aWxsYWdlcklkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7IC4uLnByZXYsIHZpbGxhZ2VyczogcHJldi52aWxsYWdlcnMubWFwKHYgPT4gdGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEuaW5jbHVkZXModi5pZCkgPyB7IC4uLnYsIGN1cnJlbnRUYXNrOiBudWxsIH0gOiB2KSB9KSk7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHRhc2sudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnYnVpbGQnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBidWlsZGluZ1R5cGUsIHBvc2l0aW9uIH0gPSB0YXNrLnBheWxvYWQhO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gYnVpbGRpbmdUeXBlKSE7XG4gICAgICAgICAgICAgICAgY29uc3QgW25hbWVdID0gZ2V0UmFuZG9tTmFtZXMoJ2J1aWxkaW5nJywgMSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3QnVpbGRpbmc6IEJ1aWxkaW5nSW5zdGFuY2UgPSB7IGlkOiB0YXNrLmlkLCBuYW1lLCBwb3NpdGlvbjogcG9zaXRpb24hLCBjdXJyZW50SHA6IGJ1aWxkaW5nSW5mby5ocCB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHNldEJ1aWxkaW5ncyhwID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEJ1aWxkaW5ncyA9IHBbYnVpbGRpbmdUeXBlIGFzIHN0cmluZ10gfHwgW107XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnAsIFtidWlsZGluZ1R5cGUgYXMgc3RyaW5nXTogWy4uLmN1cnJlbnRCdWlsZGluZ3MsIG5ld0J1aWxkaW5nXSB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGFkZFRvTG9nKGAke3Rhc2sucGF5bG9hZCEudmlsbGFnZXJJZHMhLmxlbmd0aH0gYnVpbGRlcihzKSBoYXZlIGNvbnN0cnVjdGVkICR7bmFtZX0sIGEgbmV3ICR7YnVpbGRpbmdJbmZvLm5hbWV9LmAsIGJ1aWxkaW5nSW5mby5pY29uSWQpO1xuICAgICAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBDb25zdHJ1Y3Rpb24gb2YgJHtuYW1lfSBpcyBjb21wbGV0ZS5gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2dhdGhlcic6IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndHJhaW5fdmlsbGFnZXInOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBjb3VudCB9ID0gdGFzay5wYXlsb2FkITtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdWaWxsYWdlck5hbWVzID0gZ2V0UmFuZG9tTmFtZXMoJ3ZpbGxhZ2VyJywgY291bnQhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdWaWxsYWdlcnM6IFZpbGxhZ2VyW10gPSBuZXdWaWxsYWdlck5hbWVzLm1hcChuYW1lID0+ICh7IGlkOiBgJHtEYXRlLm5vdygpfS0ke25hbWV9YCwgbmFtZSwgY3VycmVudFRhc2s6IG51bGwgfSkpO1xuICAgICAgICAgICAgICAgIHNldFVuaXRzKHAgPT4gKHsgLi4ucCwgdmlsbGFnZXJzOiBbLi4ucC52aWxsYWdlcnMsIC4uLm5ld1ZpbGxhZ2Vyc10gfSkpO1xuICAgICAgICAgICAgICAgIGFkZFRvTG9nKGAke2NvdW50fSBuZXcgdmlsbGFnZXIocykgaGF2ZSBqb2luZWQgeW91ciBzZXR0bGVtZW50LmAsICd2aWxsYWdlcicpO1xuICAgICAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGAke2NvdW50fSBuZXcgdmlsbGFnZXIocykgYXJlIHJlYWR5IHRvIHdvcmsuYCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICd0cmFpbl9taWxpdGFyeSc6IHtcbiAgICAgICAgICAgICAgICAgY29uc3QgeyB1bml0VHlwZSwgY291bnQgfSA9IHRhc2sucGF5bG9hZCE7XG4gICAgICAgICAgICAgICAgIGNvbnN0IHVuaXRJbmZvID0gdW5pdExpc3QuZmluZCh1ID0+IHUuaWQgPT09IHVuaXRUeXBlKSE7XG4gICAgICAgICAgICAgICAgIGNvbnN0IG5ld1VuaXROYW1lcyA9IGdldFJhbmRvbU5hbWVzKCdzb2xkaWVyJywgY291bnQhKTtcbiAgICAgICAgICAgICAgICAgY29uc3QgbmV3VW5pdHM6IE1pbGl0YXJ5VW5pdFtdID0gbmV3VW5pdE5hbWVzLm1hcChuYW1lID0+ICh7IGlkOiBgJHtEYXRlLm5vdygpfS0ke3VuaXRUeXBlfS0ke25hbWV9YCwgbmFtZSwgdGl0bGU6ICcnLCB1bml0VHlwZTogdW5pdFR5cGUhIH0pKTtcbiAgICAgICAgICAgICAgICAgc2V0VW5pdHMocCA9PiAoeyAuLi5wLCBtaWxpdGFyeTogWy4uLnAubWlsaXRhcnksIC4uLm5ld1VuaXRzXSB9KSk7XG4gICAgICAgICAgICAgICAgIGFkZFRvTG9nKGAke2NvdW50fSAke3VuaXRJbmZvLm5hbWV9KHMpIGhhdmUgYmVlbiB0cmFpbmVkLmAsIHVuaXRUeXBlISk7XG4gICAgICAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGAke2NvdW50fSBuZXcgJHt1bml0SW5mby5uYW1lfShzKSBhcmUgcmVhZHkgZm9yIGJhdHRsZS5gKTtcbiAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdhZHZhbmNlX2FnZSc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVBZ2VzID0gbWFzdGVyQWdlTGlzdC5maWx0ZXIoYSA9PiBhLmlzQWN0aXZlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50SW5kZXggPSBhY3RpdmVBZ2VzLmZpbmRJbmRleChhZ2UgPT4gYWdlLm5hbWUgPT09IGN1cnJlbnRBZ2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFnZVJlc3VsdCA9IGFjdGl2ZUFnZXNbY3VycmVudEluZGV4ICsgMV0gfHwgeyBuYW1lOiAnQWdlIG9mIExlZ2VuZHMnLCBkZXNjcmlwdGlvbjogJ1lvdXIgY2l2aWxpemF0aW9uIHRyYW5zY2VuZHMgaGlzdG9yeSBhbmQgYmVjb21lcyBhIGxlZ2VuZC4nfTtcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50QWdlKGFnZVJlc3VsdC5uYW1lKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhgWW91IGhhdmUgYWR2YW5jZWQgdG8gdGhlICR7YWdlUmVzdWx0Lm5hbWV9IWAsICdhZ2UnKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhhZ2VSZXN1bHQuZGVzY3JpcHRpb24sICdhZ2UnKTtcbiAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgV2VsY29tZSB0byB0aGUgJHthZ2VSZXN1bHQubmFtZX0hYCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBbY3VycmVudEFnZSwgYWRkVG9Mb2csIGJ1aWxkaW5nTGlzdCwgdW5pdExpc3QsIG1hc3RlckFnZUxpc3RdKTtcbiAgICBcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZ2FtZVN0YXRlICE9PSBHYW1lU3RhdHVzLlBMQVlJTkcpIHtcbiAgICAgICAgICAgIGlmIChhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50KSBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGdhbWVMb29wID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhVGltZSA9IG5vdyAtIGxhc3RUaWNrUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICBsYXN0VGlja1JlZi5jdXJyZW50ID0gbm93O1xuXG4gICAgICAgICAgICBsZXQgY29tcGxldGVkVGFza3M6IEdhbWVUYXNrW10gPSBbXTtcbiAgICAgICAgICAgIGxldCByZXNvdXJjZURlbHRhc1RoaXNUaWNrOiBSZXNvdXJjZURlbHRhcyA9IHt9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZXRBY3RpdmVCdWZmcyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdSZXNvdXJjZUJvb3N0cyA9IHByZXYucmVzb3VyY2VCb29zdD8uZmlsdGVyKGIgPT4gYi5lbmRUaW1lID4gbm93KTtcbiAgICAgICAgICAgICAgICBpZiAobmV3UmVzb3VyY2VCb29zdHM/Lmxlbmd0aCAhPT0gcHJldi5yZXNvdXJjZUJvb3N0Py5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkVG9Mb2coXCJBIHJlc291cmNlIGdhdGhlcmluZyBib251cyBoYXMgZXhwaXJlZC5cIiwgJ3N5c3RlbScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5wcmV2LCByZXNvdXJjZUJvb3N0OiBuZXdSZXNvdXJjZUJvb3N0cyB9O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHRhc2tzSW5Qcm9ncmVzcyA9IGFjdGl2ZVRhc2tzLm1hcCh0YXNrID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobm93ID49IHRhc2suc3RhcnRUaW1lICsgdGFzay5kdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRUYXNrcy5wdXNoKHRhc2spO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRhc2sudHlwZSA9PT0gJ2dhdGhlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHJlc291cmNlTm9kZXMuZmluZChuID0+IG4uaWQgPT09IHRhc2sucGF5bG9hZD8ucmVzb3VyY2VOb2RlSWQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWxsYWdlckNvdW50ID0gdGFzay5wYXlsb2FkPy52aWxsYWdlcklkcz8ubGVuZ3RoIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbm9kZSB8fCB2aWxsYWdlckNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRUYXNrcy5wdXNoKHRhc2spOyByZXR1cm4gbnVsbDsgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFzZVJhdGVQZXJTZWNvbmQgPSBHQVRIRVJfSU5GT1tub2RlLnR5cGVdLnJhdGU7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjaXZCb251c011bHRpcGxpZXIgPSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2l2aWxpemF0aW9uPy5ib251cy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKG5vZGUudHlwZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBjaXZpbGl6YXRpb24uYm9udXMubWF0Y2goLyhcXGQrKSUvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaD8uWzFdKSBjaXZCb251c011bHRpcGxpZXIgPSAxICsgKHBhcnNlSW50KG1hdGNoWzFdLCAxMCkgLyAxMDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1Cb29zdE11bHRpcGxpZXIgPSBhY3RpdmVCdWZmcy5yZXNvdXJjZUJvb3N0Py5maW5kKGIgPT4gYi5yZXNvdXJjZSA9PT0gbm9kZS50eXBlKT8ubXVsdGlwbGllciB8fCAxO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5hbFJhdGVQZXJTZWNvbmQgPSBiYXNlUmF0ZVBlclNlY29uZCAqIGNpdkJvbnVzTXVsdGlwbGllciAqIGl0ZW1Cb29zdE11bHRpcGxpZXI7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlRGVsdGFzVGhpc1RpY2tbbm9kZS50eXBlXSA9IChyZXNvdXJjZURlbHRhc1RoaXNUaWNrW25vZGUudHlwZV0gfHwgMCkgKyAoZmluYWxSYXRlUGVyU2Vjb25kIC8gMTAwMCkgKiBkZWx0YVRpbWUgKiB2aWxsYWdlckNvdW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGFzaztcbiAgICAgICAgICAgIH0pLmZpbHRlcihCb29sZWFuKSBhcyBHYW1lVGFza1tdO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMocmVzb3VyY2VEZWx0YXNUaGlzVGljaykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVJlc291cmNlcyhyZXNvdXJjZURlbHRhc1RoaXNUaWNrKTtcbiAgICAgICAgICAgICAgICBzZXRSZXNvdXJjZU5vZGVzKHByZXZOb2RlcyA9PiBwcmV2Tm9kZXMubWFwKG5vZGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbW91bnRUb0RlY3JlbWVudCA9IHJlc291cmNlRGVsdGFzVGhpc1RpY2tbbm9kZS50eXBlXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbW91bnRUb0RlY3JlbWVudCkgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0Ftb3VudCA9IG5vZGUuYW1vdW50IC0gYW1vdW50VG9EZWNyZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdBbW91bnQgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFza0lkID0gYGdhdGhlci0ke25vZGUuaWR9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhc2sgPSB0YXNrc0luUHJvZ3Jlc3MuZmluZCh0ID0+IHQuaWQgPT09IHRhc2tJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0YXNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9Mb2coYCR7dGFzay5wYXlsb2FkPy52aWxsYWdlcklkcz8ubGVuZ3RoIHx8IDB9IHZpbGxhZ2VyKHMpIGRlcGxldGVkIGEgJHtub2RlLnR5cGV9IHNvdXJjZSwgZ2FpbmluZyAke01hdGguZmxvb3Iobm9kZS5hbW91bnQpfSAke25vZGUudHlwZX0uYCwgbm9kZS50eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgQSAke25vZGUudHlwZX0gc291cmNlIGhhcyBiZWVuIGZ1bGx5IGRlcGxldGVkLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZFRhc2tzLnB1c2godGFzayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5ub2RlLCBhbW91bnQ6IG5ld0Ftb3VudCB9O1xuICAgICAgICAgICAgICAgIH0pLmZpbHRlcihCb29sZWFuKSBhcyBSZXNvdXJjZU5vZGVbXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGZpbmFsQWN0aXZlVGFza3MgPSB0YXNrc0luUHJvZ3Jlc3MuZmlsdGVyKHQgPT4gIWNvbXBsZXRlZFRhc2tzLnNvbWUoY3QgPT4gY3QuaWQgPT09IHQuaWQpKTtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKGZpbmFsQWN0aXZlVGFza3MpO1xuICAgICAgICAgICAgaWYgKGNvbXBsZXRlZFRhc2tzLmxlbmd0aCA+IDApIGNvbXBsZXRlZFRhc2tzLmZvckVhY2goaGFuZGxlVGFza0NvbXBsZXRpb24pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGdhbWVMb29wKTtcbiAgICAgICAgfTtcbiAgICAgICAgYW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lTG9vcCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7IGlmIChhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50KSBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50KTsgfTtcbiAgICB9LCBbZ2FtZVN0YXRlLCBhY3RpdmVUYXNrcywgcmVzb3VyY2VOb2RlcywgaGFuZGxlVGFza0NvbXBsZXRpb24sIGFkZFRvTG9nLCB1cGRhdGVSZXNvdXJjZXMsIHVuaXRzLnZpbGxhZ2VycywgY2l2aWxpemF0aW9uLCBhY3RpdmVCdWZmc10pO1xuXG4gICAgY29uc3QgaGFuZGxlTmV3RXZlbnQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmICghY2l2aWxpemF0aW9uIHx8IGN1cnJlbnRFdmVudCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBldmVudCA9IGdldFByZWRlZmluZWRHYW1lRXZlbnQoKTtcbiAgICAgICAgc2V0Q3VycmVudEV2ZW50KGV2ZW50KTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoJ0EgbmV3IGV2ZW50IHJlcXVpcmVzIHlvdXIgYXR0ZW50aW9uIScpO1xuICAgIH0sIFtjaXZpbGl6YXRpb24sIGN1cnJlbnRFdmVudF0pO1xuICAgIFxuICAgIGNvbnN0IHNjaGVkdWxlTmV4dEV2ZW50ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnRUaW1lclJlZi5jdXJyZW50KSBjbGVhclRpbWVvdXQoZXZlbnRUaW1lclJlZi5jdXJyZW50KTtcbiAgICAgICAgZXZlbnRUaW1lclJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiBoYW5kbGVOZXdFdmVudCgpLCAoMTAgKyBNYXRoLnJhbmRvbSgpICogMTUpICogMTAwMCk7XG4gICAgfSwgW2hhbmRsZU5ld0V2ZW50XSk7XG5cbiAgICBjb25zdCBnZW5lcmF0ZVJlc291cmNlTm9kZXMgPSAoZXhpc3RpbmdQb3NpdGlvbnM6IFNldDxzdHJpbmc+KTogUmVzb3VyY2VOb2RlW10gPT4ge1xuICAgICAgICBjb25zdCBub2RlczogUmVzb3VyY2VOb2RlW10gPSBbXTtcbiAgICAgICAgY29uc3QgdHlwZXM6IFJlc291cmNlTm9kZVR5cGVbXSA9IFsnZm9vZCcsICd3b29kJywgJ2dvbGQnLCAnc3RvbmUnXTtcbiAgICAgICAgY29uc3QgbnVtTm9kZXMgPSAyMCArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1Ob2RlczsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcG9zOiB7eDogbnVtYmVyLCB5OiBudW1iZXJ9O1xuICAgICAgICAgICAgZG8geyBwb3MgPSB7IHg6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE1BUF9ESU1FTlNJT05TLndpZHRoKSwgeTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTUFQX0RJTUVOU0lPTlMuaGVpZ2h0KSB9IH0gd2hpbGUgKGV4aXN0aW5nUG9zaXRpb25zLmhhcyhgJHtwb3MueH0sJHtwb3MueX1gKSk7XG4gICAgICAgICAgICBleGlzdGluZ1Bvc2l0aW9ucy5hZGQoYCR7cG9zLnh9LCR7cG9zLnl9YCk7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gdHlwZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdHlwZXMubGVuZ3RoKV07XG4gICAgICAgICAgICBub2Rlcy5wdXNoKHsgaWQ6IGAke0RhdGUubm93KCl9LW5vZGUtJHtpfWAsIHR5cGUsIHBvc2l0aW9uOiBwb3MsIGFtb3VudDogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjAwMSkgKyA1MDAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGVzO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVTdGFydE5ld0dhbWUgPSBhc3luYyAoc2F2ZU5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAoYWxsU2F2ZXMuaW5jbHVkZXMoc2F2ZU5hbWUpKSB7IGFkZE5vdGlmaWNhdGlvbihgQSBzYWdhIG5hbWVkIFwiJHtzYXZlTmFtZX1cIiBhbHJlYWR5IGV4aXN0cy5gKTsgcmV0dXJuOyB9XG4gICAgICAgIHNldEdhbWVTdGF0ZShHYW1lU3RhdHVzLkxPQURJTkcpO1xuICAgICAgICBzZXRDdXJyZW50U2F2ZU5hbWUoc2F2ZU5hbWUpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgbG9jYWxBZ2VQcm9ncmVzc2lvbkxpc3QgPSBtYXN0ZXJBZ2VMaXN0LmZpbHRlcihhID0+IGEuaXNBY3RpdmUpO1xuXG4gICAgICAgIGNvbnN0IGNpdiA9IGdldFByZWRlZmluZWRDaXZpbGl6YXRpb24oKTtcbiAgICAgICAgc2V0Q2l2aWxpemF0aW9uKGNpdik7XG4gICAgICAgIHNldFJlc291cmNlcyh7IGZvb2Q6IDIwMCwgd29vZDogMTUwLCBnb2xkOiA1MCwgc3RvbmU6IDEwMCB9KTtcbiAgICAgICAgY29uc3QgaW5pdGlhbFZpbGxhZ2VycyA9IGdldFJhbmRvbU5hbWVzKCd2aWxsYWdlcicsIDMpLm1hcChuYW1lID0+ICh7IGlkOiBgJHtEYXRlLm5vdygpfS0ke25hbWV9YCwgbmFtZSwgY3VycmVudFRhc2s6IG51bGwgfSkpO1xuICAgICAgICBzZXRVbml0cyh7IHZpbGxhZ2VyczogaW5pdGlhbFZpbGxhZ2VycywgbWlsaXRhcnk6IFtdIH0pO1xuICAgICAgICBjb25zdCB0Y1Bvc2l0aW9uID0geyB4OiBNYXRoLmZsb29yKE1BUF9ESU1FTlNJT05TLndpZHRoIC8gMiksIHk6IE1hdGguZmxvb3IoTUFQX0RJTUVOU0lPTlMuaGVpZ2h0IC8gMikgfTtcbiAgICAgICAgY29uc3QgdGNJbmZvID0gbWFzdGVyQnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSAndG93bkNlbnRlcicpITtcbiAgICAgICAgY29uc3QgaW5pdGlhbFRDID0geyBpZDogYCR7RGF0ZS5ub3coKX0tdGNgLCBuYW1lOiBnZXRSYW5kb21OYW1lcygnYnVpbGRpbmcnLCAxKVswXSwgcG9zaXRpb246IHRjUG9zaXRpb24sIGN1cnJlbnRIcDogdGNJbmZvLmhwIH07XG4gICAgICAgIHNldEJ1aWxkaW5ncyh7Li4uaW5pdGlhbEJ1aWxkaW5nc1N0YXRlLCB0b3duQ2VudGVyOiBbaW5pdGlhbFRDXX0pO1xuICAgICAgICBzZXRSZXNvdXJjZU5vZGVzKGdlbmVyYXRlUmVzb3VyY2VOb2RlcyhuZXcgU2V0KFtgJHt0Y1Bvc2l0aW9uLnh9LCR7dGNQb3NpdGlvbi55fWBdKSkpO1xuICAgICAgICBzZXRDdXJyZW50QWdlKGxvY2FsQWdlUHJvZ3Jlc3Npb25MaXN0WzBdPy5uYW1lIHx8IElOSVRJQUxfQUdFU1swXS5uYW1lKTtcbiAgICAgICAgc2V0R2FtZUxvZyhbXSk7IHNldEN1cnJlbnRFdmVudChudWxsKTsgc2V0VW5saW1pdGVkUmVzb3VyY2VzKGZhbHNlKTsgc2V0QWN0aXZlVGFza3MoW10pOyBzZXRJbnZlbnRvcnkoW10pOyBzZXRBY3RpdmVCdWZmcyh7IHJlc291cmNlQm9vc3Q6IFtdIH0pO1xuICAgICAgICBhZGRUb0xvZyhgJHtjaXYubmFtZX0gaGFzIGJlZW4gZm91bmRlZCFgLCAnc3lzdGVtJyk7XG4gICAgICAgIGFkZFRvTG9nKCdZb3VyIHN0b3J5IGJlZ2lucy4uLicsICdzeXN0ZW0nKTtcbiAgICAgICAgc2V0R2FtZVN0YXRlKEdhbWVTdGF0dXMuUExBWUlORyk7XG4gICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKCdZb3VyIHNldHRsZW1lbnQgYXdhaXRzIHlvdXIgY29tbWFuZC4nKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaXNWaWxsYWdlckJ1c3kgPSB1c2VDYWxsYmFjaygodmlsbGFnZXJJZDogc3RyaW5nKTogYm9vbGVhbiA9PiAhIXVuaXRzLnZpbGxhZ2Vycy5maW5kKHYgPT4gdi5pZCA9PT0gdmlsbGFnZXJJZCk/LmN1cnJlbnRUYXNrLCBbdW5pdHMudmlsbGFnZXJzXSk7XG5cbiAgICBjb25zdCBnZXRWaWxsYWdlclRhc2tEZXRhaWxzID0gdXNlQ2FsbGJhY2soKHZpbGxhZ2VySWQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgICAgIGNvbnN0IHZpbGxhZ2VyID0gdW5pdHMudmlsbGFnZXJzLmZpbmQodiA9PiB2LmlkID09PSB2aWxsYWdlcklkKTtcbiAgICAgICAgaWYgKCF2aWxsYWdlcj8uY3VycmVudFRhc2spIHJldHVybiAnSWRsZSc7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBhY3RpdmVUYXNrcy5maW5kKHQgPT4gdC5pZCA9PT0gdmlsbGFnZXIuY3VycmVudFRhc2spO1xuICAgICAgICBpZiAoIXRhc2spIHJldHVybiAnSWRsZSAoRmluYWxpemluZyBUYXNrKSc7XG4gICAgICAgIGlmICh0YXNrLnR5cGUgPT09ICdidWlsZCcpIHJldHVybiBgQnVzeTogQ29uc3RydWN0aW5nICR7YnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSB0YXNrLnBheWxvYWQhLmJ1aWxkaW5nVHlwZSk/Lm5hbWUgfHwgJ2EgYnVpbGRpbmcnfWA7XG4gICAgICAgIGlmICh0YXNrLnR5cGUgPT09ICdnYXRoZXInKSByZXR1cm4gYEJ1c3k6IEdhdGhlcmluZyAke3Jlc291cmNlTm9kZXMuZmluZChuID0+IG4uaWQgPT09IHRhc2sucGF5bG9hZCEucmVzb3VyY2VOb2RlSWQpPy50eXBlIHx8ICdyZXNvdXJjZXMnfWA7XG4gICAgICAgIHJldHVybiAnSWRsZSc7XG4gICAgfSwgW2FjdGl2ZVRhc2tzLCByZXNvdXJjZU5vZGVzLCB1bml0cy52aWxsYWdlcnMsIGJ1aWxkaW5nTGlzdF0pO1xuXG4gICAgY29uc3QgaGFuZGxlUmVzdW1lR2FtZSA9IGFzeW5jIChzYXZlTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IHNhdmVkU3RhdGUgPSBhd2FpdCBsb2FkR2FtZVN0YXRlKHNhdmVOYW1lKSBhcyBGdWxsR2FtZVN0YXRlO1xuICAgICAgICBpZiAoc2F2ZWRTdGF0ZSkge1xuICAgICAgICAgICAgc2V0R2FtZVN0YXRlKEdhbWVTdGF0dXMuTE9BRElORyk7XG4gICAgICAgICAgICBzZXRDdXJyZW50U2F2ZU5hbWUoc2F2ZU5hbWUpO1xuICAgICAgICAgICAgc2V0Q2l2aWxpemF0aW9uKHNhdmVkU3RhdGUuY2l2aWxpemF0aW9uKTtcbiAgICAgICAgICAgIHNldFJlc291cmNlcyhzYXZlZFN0YXRlLnJlc291cmNlcyk7XG4gICAgICAgICAgICBjb25zdCBtaWdyYXRlZFZpbGxhZ2VycyA9IChzYXZlZFN0YXRlLnVuaXRzLnZpbGxhZ2VycyB8fCBbXSkubWFwKHYgPT4gKHsuLi52LCBjdXJyZW50VGFzazogdi5jdXJyZW50VGFzayAhPT0gdW5kZWZpbmVkID8gdi5jdXJyZW50VGFzayA6IG51bGx9KSk7XG4gICAgICAgICAgICBjb25zdCBtaWdyYXRlZFRhc2tzID0gKHNhdmVkU3RhdGUuYWN0aXZlVGFza3MgfHwgW10pLm1hcCh0ID0+IHQudHlwZSA9PT0gJ2J1aWxkJyAmJiAhdC5wYXlsb2FkPy52aWxsYWdlcklkcyA/IHsgLi4udCwgcGF5bG9hZDogeyAuLi50LnBheWxvYWQsIHZpbGxhZ2VySWRzOiBbXSB9IH0gOiB0KTtcbiAgICAgICAgICAgIG1pZ3JhdGVkVGFza3MuZm9yRWFjaCh0YXNrID0+IHRhc2sucGF5bG9hZD8udmlsbGFnZXJJZHM/LmZvckVhY2godmlkID0+IHsgY29uc3QgdiA9IG1pZ3JhdGVkVmlsbGFnZXJzLmZpbmQodiA9PiB2LmlkID09PSB2aWQpOyBpZih2KSB2LmN1cnJlbnRUYXNrID0gdGFzay5pZDsgfSkpO1xuICAgICAgICAgICAgc2V0VW5pdHMoeyAuLi5zYXZlZFN0YXRlLnVuaXRzLCB2aWxsYWdlcnM6IG1pZ3JhdGVkVmlsbGFnZXJzIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBjb25zdHJ1Y3Rpb25UYXNrcyA9IG1pZ3JhdGVkVGFza3MuZmlsdGVyKHQgPT4gdC50eXBlID09PSAnYnVpbGQnKTtcbiAgICAgICAgICAgIGNvbnN0IG9jY3VwaWVkQ2VsbHMgPSBuZXcgU2V0KFsuLi5PYmplY3QudmFsdWVzKHNhdmVkU3RhdGUuYnVpbGRpbmdzIHx8IHt9KS5mbGF0KCkubWFwKChiOiBhbnkpID0+IGAke2IucG9zaXRpb24ueH0sJHtiLnBvc2l0aW9uLnl9YCksIC4uLmNvbnN0cnVjdGlvblRhc2tzLm1hcCh0ID0+IGAke3QucGF5bG9hZCEucG9zaXRpb24hLnh9LCR7dC5wYXlsb2FkIS5wb3NpdGlvbiEueX1gKV0pO1xuICAgICAgICAgICAgbGV0IGZpbmFsQnVpbGRpbmdzID0geyAuLi5pbml0aWFsQnVpbGRpbmdzU3RhdGUsIC4uLihzYXZlZFN0YXRlLmJ1aWxkaW5ncyB8fCB7fSkgfTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGZpbmFsQnVpbGRpbmdzKS5mb3JFYWNoKGJUeXBlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmZvID0gbWFzdGVyQnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSBiVHlwZSk7XG4gICAgICAgICAgICAgICAgaWYoaW5mbykgZmluYWxCdWlsZGluZ3NbYlR5cGVdID0gZmluYWxCdWlsZGluZ3NbYlR5cGVdLm1hcChiID0+ICh7IC4uLmIsIGN1cnJlbnRIcDogYi5jdXJyZW50SHAgPT09IHVuZGVmaW5lZCA/IGluZm8uaHAgOiBiLmN1cnJlbnRIcCB9KSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghZmluYWxCdWlsZGluZ3MudG93bkNlbnRlciB8fCBmaW5hbEJ1aWxkaW5ncy50b3duQ2VudGVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGxldCB0Y1BvcyA9IHsgeDogMTAsIHk6IDUgfTsgd2hpbGUgKG9jY3VwaWVkQ2VsbHMuaGFzKGAke3RjUG9zLnh9LCR7dGNQb3MueX1gKSkgeyB0Y1Bvcy54Kys7IH1cbiAgICAgICAgICAgICAgICBjb25zdCB0Y0luZm8gPSBtYXN0ZXJCdWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09ICd0b3duQ2VudGVyJykhO1xuICAgICAgICAgICAgICAgIGZpbmFsQnVpbGRpbmdzLnRvd25DZW50ZXIgPSBbeyBpZDogYCR7RGF0ZS5ub3coKX0tdGNgLCBuYW1lOiBnZXRSYW5kb21OYW1lcygnYnVpbGRpbmcnLCAxKVswXSwgcG9zaXRpb246IHRjUG9zLCBjdXJyZW50SHA6IHRjSW5mby5ocCB9XTtcbiAgICAgICAgICAgICAgICBvY2N1cGllZENlbGxzLmFkZChgJHt0Y1Bvcy54fSwke3RjUG9zLnl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRCdWlsZGluZ3MoZmluYWxCdWlsZGluZ3MpO1xuXG4gICAgICAgICAgICBzZXRSZXNvdXJjZU5vZGVzKChzYXZlZFN0YXRlLnJlc291cmNlTm9kZXMgfHwgW10pLmxlbmd0aCA9PT0gMCA/IGdlbmVyYXRlUmVzb3VyY2VOb2RlcyhvY2N1cGllZENlbGxzKSA6IChzYXZlZFN0YXRlLnJlc291cmNlTm9kZXMgfHwgW10pKTtcbiAgICAgICAgICAgIHNldEN1cnJlbnRBZ2Uoc2F2ZWRTdGF0ZS5jdXJyZW50QWdlKTsgc2V0R2FtZUxvZyhzYXZlZFN0YXRlLmdhbWVMb2cpOyBzZXRBY3RpdmVUYXNrcyhtaWdyYXRlZFRhc2tzKTtcbiAgICAgICAgICAgIHNldEludmVudG9yeShzYXZlZFN0YXRlLmludmVudG9yeSB8fCBbXSk7IHNldEFjdGl2ZUJ1ZmZzKHNhdmVkU3RhdGUuYWN0aXZlQnVmZnMgfHwgeyByZXNvdXJjZUJvb3N0OiBbXSB9KTtcbiAgICAgICAgICAgIHNldEN1cnJlbnRFdmVudChudWxsKTsgc2V0QWN0aXZpdHlTdGF0dXMoJ1dlbGNvbWUgYmFjayB0byB5b3VyIHNhZ2EuJyk7XG4gICAgICAgICAgICBzZXRHYW1lU3RhdGUoR2FtZVN0YXR1cy5QTEFZSU5HKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihgQ291bGQgbm90IGZpbmQgYSBzYXZlZCBnYW1lIG5hbWVkIFwiJHtzYXZlTmFtZX1cIi5gKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZ2FtZVN0YXRlICE9PSBHYW1lU3RhdHVzLlBMQVlJTkcpIHJldHVybjtcbiAgICAgICAgaWYgKCFjdXJyZW50RXZlbnQpIHNjaGVkdWxlTmV4dEV2ZW50KCk7XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50VGltZXJSZWYuY3VycmVudCkgY2xlYXJUaW1lb3V0KGV2ZW50VGltZXJSZWYuY3VycmVudCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7IGlmIChldmVudFRpbWVyUmVmLmN1cnJlbnQpIGNsZWFyVGltZW91dChldmVudFRpbWVyUmVmLmN1cnJlbnQpOyB9O1xuICAgIH0sIFtnYW1lU3RhdGUsIGN1cnJlbnRFdmVudCwgc2NoZWR1bGVOZXh0RXZlbnRdKTtcblxuICAgIGNvbnN0IGhhbmRsZUV2ZW50Q2hvaWNlID0gKGNob2ljZTogR2FtZUV2ZW50Q2hvaWNlKSA9PiB7XG4gICAgICAgIGlmIChjaG9pY2UuY29zdCkge1xuICAgICAgICAgICAgY29uc3QgbWlzc2luZyA9IChPYmplY3Qua2V5cyhjaG9pY2UuY29zdCkgYXMgKGtleW9mIFJlc291cmNlcylbXSkuZmlsdGVyKHJlcyA9PiByZXNvdXJjZXNbcmVzXSA8IChjaG9pY2UuY29zdCFbcmVzXSB8fCAwKSk7XG4gICAgICAgICAgICBpZiAobWlzc2luZy5sZW5ndGggPiAwKSB7IGFkZE5vdGlmaWNhdGlvbihgWW91IGxhY2sgdGhlIHJlcXVpcmVkIHJlc291cmNlczogJHttaXNzaW5nLmpvaW4oJywgJyl9LmApOyByZXR1cm47IH1cbiAgICAgICAgICAgIHVwZGF0ZVJlc291cmNlcyhPYmplY3QuZW50cmllcyhjaG9pY2UuY29zdCkucmVkdWNlKChhY2MsIFtrLCB2XSkgPT4gKHsuLi5hY2MsIFtrXTogLXZ9KSwge30pKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc1N1Y2Nlc3MgPSBjaG9pY2Uuc3VjY2Vzc0NoYW5jZSA9PT0gdW5kZWZpbmVkIHx8IE1hdGgucmFuZG9tKCkgPCBjaG9pY2Uuc3VjY2Vzc0NoYW5jZTtcbiAgICAgICAgY29uc3QgZWZmZWN0cyA9IGlzU3VjY2VzcyA/IGNob2ljZS5zdWNjZXNzRWZmZWN0cyA6IGNob2ljZS5mYWlsdXJlRWZmZWN0cztcbiAgICAgICAgaWYgKCFlZmZlY3RzKSB7IHNldEN1cnJlbnRFdmVudChudWxsKTsgc2NoZWR1bGVOZXh0RXZlbnQoKTsgcmV0dXJuOyB9XG5cbiAgICAgICAgbGV0IGxvZ01lc3NhZ2UgPSBgRGVjaXNpb246IFwiJHtjaG9pY2UudGV4dH1cIi4gT3V0Y29tZTogJHtpc1N1Y2Nlc3MgPyAnU3VjY2VzcycgOiAnRmFpbHVyZSd9LiAke2VmZmVjdHMubG9nfWA7XG4gICAgICAgIGVmZmVjdHMucmV3YXJkcy5mb3JFYWNoKChyZXdhcmQ6IFJld2FyZCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJld2FyZC50eXBlID09PSAncmVzb3VyY2UnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gQXJyYXkuaXNBcnJheShyZXdhcmQuYW1vdW50KSA/IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChyZXdhcmQuYW1vdW50WzFdIC0gcmV3YXJkLmFtb3VudFswXSArIDEpKSArIHJld2FyZC5hbW91bnRbMF0gOiByZXdhcmQuYW1vdW50O1xuICAgICAgICAgICAgICAgIGlmIChhbW91bnQgIT09IDApIHsgdXBkYXRlUmVzb3VyY2VzKHsgW3Jld2FyZC5yZXNvdXJjZV06IGFtb3VudCB9KTsgbG9nTWVzc2FnZSArPSBgIFlvdSAke2Ftb3VudCA+IDAgPyAnZ2FpbmVkJyA6ICdsb3N0J30gJHtNYXRoLmFicyhhbW91bnQpfSAke3Jld2FyZC5yZXNvdXJjZX0uYDsgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXdhcmQudHlwZSA9PT0gJ2l0ZW0nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbUluZm8gPSBHQU1FX0lURU1TW3Jld2FyZC5pdGVtSWRdO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtSW5mbykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdJdGVtcyA9IEFycmF5LmZyb20oe2xlbmd0aDogcmV3YXJkLmFtb3VudH0sIChfLCBpKSA9PiAoeyAuLi5pdGVtSW5mbywgaWQ6IGAke3Jld2FyZC5pdGVtSWR9LSR7RGF0ZS5ub3coKX0tJHtpfWAgfSkpO1xuICAgICAgICAgICAgICAgICAgICBzZXRJbnZlbnRvcnkocHJldiA9PiBbLi4ucHJldiwgLi4ubmV3SXRlbXNdKTtcbiAgICAgICAgICAgICAgICAgICAgbG9nTWVzc2FnZSArPSBgIFlvdSByZWNlaXZlZCAke3Jld2FyZC5hbW91bnR9eCAke2l0ZW1JbmZvLm5hbWV9IWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXdhcmQudHlwZSA9PT0gJ3VuaXQnICYmIHJld2FyZC51bml0VHlwZSA9PT0gJ3ZpbGxhZ2VyJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZpbGxhZ2VycyA9IGdldFJhbmRvbU5hbWVzKCd2aWxsYWdlcicsIHJld2FyZC5hbW91bnQpLm1hcChuYW1lID0+ICh7IGlkOiBgJHtEYXRlLm5vdygpfS0ke25hbWV9YCwgbmFtZSwgY3VycmVudFRhc2s6IG51bGwgfSkpO1xuICAgICAgICAgICAgICAgIHNldFVuaXRzKHAgPT4gKHsgLi4ucCwgdmlsbGFnZXJzOiBbLi4ucC52aWxsYWdlcnMsIC4uLm5ld1ZpbGxhZ2Vyc10gfSkpO1xuICAgICAgICAgICAgICAgIGxvZ01lc3NhZ2UgKz0gYCBZb3UgZ2FpbmVkICR7cmV3YXJkLmFtb3VudH0gdmlsbGFnZXIocykuYDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmV3YXJkLnR5cGUgPT09ICdidWlsZGluZycpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IHJld2FyZC5idWlsZGluZ0lkKTtcbiAgICAgICAgICAgICAgICBpZiAoYnVpbGRpbmdJbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9jY3VwaWVkQ2VsbHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyhidWlsZGluZ3MpLmZsYXQoKS5mb3JFYWNoKGIgPT4gb2NjdXBpZWRDZWxscy5hZGQoYCR7Yi5wb3NpdGlvbi54fSwke2IucG9zaXRpb24ueX1gKSk7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZVRhc2tzLmZpbHRlcih0ID0+IHQudHlwZSA9PT0gJ2J1aWxkJykuZm9yRWFjaCh0ID0+IHQucGF5bG9hZD8ucG9zaXRpb24gJiYgb2NjdXBpZWRDZWxscy5hZGQoYCR7dC5wYXlsb2FkLnBvc2l0aW9uLnh9LCR7dC5wYXlsb2FkLnBvc2l0aW9uLnl9YCkpO1xuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZU5vZGVzLmZvckVhY2gobiA9PiBvY2N1cGllZENlbGxzLmFkZChgJHtuLnBvc2l0aW9uLnh9LCR7bi5wb3NpdGlvbi55fWApKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGxldCBwbGFjZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNQVBfRElNRU5TSU9OUy53aWR0aCAqIE1BUF9ESU1FTlNJT05TLmhlaWdodDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTUFQX0RJTUVOU0lPTlMud2lkdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE1BUF9ESU1FTlNJT05TLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9jY3VwaWVkQ2VsbHMuaGFzKGAke3h9LCR7eX1gKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFtuYW1lXSA9IGdldFJhbmRvbU5hbWVzKCdidWlsZGluZycsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0J1aWxkaW5nOiBCdWlsZGluZ0luc3RhbmNlID0geyBpZDogYHJld2FyZC0ke0RhdGUubm93KCl9YCwgbmFtZSwgcG9zaXRpb246IHt4LHl9LCBjdXJyZW50SHA6IGJ1aWxkaW5nSW5mby5ocCB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEJ1aWxkaW5ncyhwID0+ICh7IC4uLnAsIFtyZXdhcmQuYnVpbGRpbmdJZCBhcyBzdHJpbmddOiBbLi4uKHBbcmV3YXJkLmJ1aWxkaW5nSWQgYXMgc3RyaW5nXSB8fCBbXSksIG5ld0J1aWxkaW5nXX0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dNZXNzYWdlICs9IGAgWW91IHdlcmUgZ2lmdGVkIGEgbmV3ICR7YnVpbGRpbmdJbmZvLm5hbWV9IWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXBsYWNlZCkgbG9nTWVzc2FnZSArPSBgIFlvdSB3ZXJlIHRvIGJlIGdpZnRlZCBhICR7YnVpbGRpbmdJbmZvLm5hbWV9LCBidXQgdGhlcmUgd2FzIG5vIHJvb20gdG8gYnVpbGQgaXQhYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgYWRkVG9Mb2cobG9nTWVzc2FnZSwgJ2V2ZW50Jyk7IHNldEFjdGl2aXR5U3RhdHVzKGVmZmVjdHMubG9nKTsgc2V0Q3VycmVudEV2ZW50KG51bGwpOyBzY2hlZHVsZU5leHRFdmVudCgpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVJbml0aWF0ZUJ1aWxkID0gKHZpbGxhZ2VySWQ6IHN0cmluZywgcmVjdDogRE9NUmVjdCkgPT4ge1xuICAgICAgICBpZiAoaXNWaWxsYWdlckJ1c3kodmlsbGFnZXJJZCkpIHsgYWRkTm90aWZpY2F0aW9uKFwiVGhpcyB2aWxsYWdlciBpcyBhbHJlYWR5IGJ1c3kuXCIpOyByZXR1cm47IH1cbiAgICAgICAgc2V0QnVpbGRQYW5lbFN0YXRlKHsgaXNPcGVuOiB0cnVlLCB2aWxsYWdlcklkLCBhbmNob3JSZWN0OiByZWN0IH0pO1xuICAgICAgICBzZXRVbml0TWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGhhbmRsZVN0YXJ0UGxhY2VtZW50ID0gKGJ1aWxkaW5nSWQ6IEJ1aWxkaW5nVHlwZSB8IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCB2aWxsYWdlcklkID0gYnVpbGRQYW5lbFN0YXRlLnZpbGxhZ2VySWQ7IGlmICghdmlsbGFnZXJJZCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IGJ1aWxkaW5nSWQpOyBpZiAoIWJ1aWxkaW5nSW5mbykgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nQ291bnQgPSBidWlsZGluZ3NbYnVpbGRpbmdJbmZvLmlkIGFzIHN0cmluZ10/Lmxlbmd0aCB8fCAwO1xuICAgICAgICBjb25zdCBjb25zdHJ1Y3RpbmdDb3VudCA9IGFjdGl2ZVRhc2tzLmZpbHRlcih0ID0+IHQudHlwZSA9PT0gJ2J1aWxkJyAmJiB0LnBheWxvYWQ/LmJ1aWxkaW5nVHlwZSA9PT0gYnVpbGRpbmdJbmZvLmlkKS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHRvdGFsQ291bnQgPSBleGlzdGluZ0NvdW50ICsgY29uc3RydWN0aW5nQ291bnQ7XG4gICAgICAgIGNvbnN0IGxpbWl0ID0gYnVpbGRpbmdJbmZvLmJ1aWxkTGltaXQgfHwgMDtcblxuICAgICAgICBpZiAobGltaXQgPiAwICYmIHRvdGFsQ291bnQgPj0gbGltaXQpIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihgWW91IGhhdmUgcmVhY2hlZCB0aGUgYnVpbGQgbGltaXQgZm9yICR7YnVpbGRpbmdJbmZvLm5hbWV9ICgke2xpbWl0fSkuYCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtaXNzaW5nID0gdW5saW1pdGVkUmVzb3VyY2VzID8gW10gOiAoT2JqZWN0LmtleXMoYnVpbGRpbmdJbmZvLmNvc3QpIGFzIChrZXlvZiBSZXNvdXJjZXMpW10pLmZpbHRlcihyZXMgPT4gcmVzb3VyY2VzW3Jlc10gPCAoYnVpbGRpbmdJbmZvLmNvc3RbcmVzXSB8fCAwKSk7XG4gICAgICAgIGlmIChtaXNzaW5nLmxlbmd0aCA+IDApIHsgYWRkTm90aWZpY2F0aW9uKGBOZWVkIG1vcmUgJHttaXNzaW5nLmpvaW4oJywgJyl9LmApOyByZXR1cm47IH1cbiAgICAgICAgXG4gICAgICAgIHNldFBsYXllckFjdGlvbih7IG1vZGU6ICdidWlsZCcsIGJ1aWxkaW5nVHlwZTogYnVpbGRpbmdJZCwgdmlsbGFnZXJJZCB9KTtcbiAgICAgICAgc2V0QnVpbGRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdmlsbGFnZXJJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYFNlbGVjdCBhIGxvY2F0aW9uIHRvIGJ1aWxkIGEgJHtidWlsZGluZ0luZm8ubmFtZX0uIFJpZ2h0LWNsaWNrIHRvIGNhbmNlbC5gKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQ29uZmlybVBsYWNlbWVudCA9IChwb3NpdGlvbjogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9KSA9PiB7XG4gICAgICAgIGlmIChwbGF5ZXJBY3Rpb24/Lm1vZGUgIT09ICdidWlsZCcpIHJldHVybjtcbiAgICAgICAgY29uc3QgeyBidWlsZGluZ1R5cGUsIHZpbGxhZ2VySWQgfSA9IHBsYXllckFjdGlvbjtcbiAgICAgICAgY29uc3QgYnVpbGRpbmdJbmZvID0gYnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSBidWlsZGluZ1R5cGUpO1xuICAgICAgICBjb25zdCBidWlsZGVyID0gdW5pdHMudmlsbGFnZXJzLmZpbmQodiA9PiB2LmlkID09PSB2aWxsYWdlcklkKTtcbiAgICAgICAgaWYgKCFidWlsZGluZ0luZm8gfHwgIWJ1aWxkZXIpIHJldHVybjtcbiAgICAgICAgaWYgKCF1bmxpbWl0ZWRSZXNvdXJjZXMpIHVwZGF0ZVJlc291cmNlcyhPYmplY3QuZW50cmllcyhidWlsZGluZ0luZm8uY29zdCkucmVkdWNlKChhY2MsIFtrLCB2XSkgPT4gKHsuLi5hY2MsIFtrXTogLXZ9KSwge30pKTtcbiAgICAgICAgXG4gICAgICAgIGxldCBidWlsZFRpbWUgPSBidWlsZGluZ0luZm8uYnVpbGRUaW1lICogMTAwMDtcbiAgICAgICAgaWYoYWN0aXZlQnVmZnMuYnVpbGRUaW1lUmVkdWN0aW9uKSB7XG4gICAgICAgICAgICBidWlsZFRpbWUgKj0gKDEgLSBhY3RpdmVCdWZmcy5idWlsZFRpbWVSZWR1Y3Rpb24ucGVyY2VudGFnZSk7XG4gICAgICAgICAgICBhZGRUb0xvZyhgQSBCdWlsZGVyJ3MgQ2hhcm0gcmVkdWNlZCBjb25zdHJ1Y3Rpb24gdGltZSBieSAke2FjdGl2ZUJ1ZmZzLmJ1aWxkVGltZVJlZHVjdGlvbi5wZXJjZW50YWdlICogMTAwfSUhYCwgJ2l0ZW0nKTtcbiAgICAgICAgICAgIHNldEFjdGl2ZUJ1ZmZzKHByZXYgPT4gKHsuLi5wcmV2LCBidWlsZFRpbWVSZWR1Y3Rpb246IHByZXYuYnVpbGRUaW1lUmVkdWN0aW9uIS51c2VzIC0gMSA+IDAgPyB7Li4ucHJldi5idWlsZFRpbWVSZWR1Y3Rpb24hLCB1c2VzOiBwcmV2LmJ1aWxkVGltZVJlZHVjdGlvbiEudXNlcyAtIDF9IDogdW5kZWZpbmVkIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgdGFza0lkID0gYCR7RGF0ZS5ub3coKX0tYnVpbGQtJHtidWlsZGluZ1R5cGV9YDtcbiAgICAgICAgY29uc3QgdGFza1BheWxvYWQgPSB7IGJ1aWxkaW5nVHlwZSwgdmlsbGFnZXJJZHM6IFt2aWxsYWdlcklkXSwgcG9zaXRpb24gfTtcbiAgICAgICAgaWYgKHVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgIGhhbmRsZVRhc2tDb21wbGV0aW9uKHsgaWQ6IHRhc2tJZCwgdHlwZTogJ2J1aWxkJywgc3RhcnRUaW1lOiAwLCBkdXJhdGlvbjogMCwgcGF5bG9hZDogeyAuLi50YXNrUGF5bG9hZCwgcG9zaXRpb24gfSB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gWy4uLnByZXYsIHsgaWQ6IHRhc2tJZCwgdHlwZTogJ2J1aWxkJywgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBkdXJhdGlvbjogYnVpbGRUaW1lLCBwYXlsb2FkOiB0YXNrUGF5bG9hZCB9XSk7XG4gICAgICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7Li4ucHJldiwgdmlsbGFnZXJzOiBwcmV2LnZpbGxhZ2Vycy5tYXAodiA9PiB2LmlkID09PSB2aWxsYWdlcklkID8gey4uLnYsIGN1cnJlbnRUYXNrOiB0YXNrSWR9IDogdil9KSk7XG4gICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgJHtidWlsZGVyLm5hbWV9IGhhcyBzdGFydGVkIGNvbnN0cnVjdGluZyBhICR7YnVpbGRpbmdJbmZvLm5hbWV9LmApO1xuICAgICAgICAgICAgYWRkVG9Mb2coYCR7YnVpbGRlci5uYW1lfSBiZWdhbiBjb25zdHJ1Y3Rpb24gb2YgYSBuZXcgJHtidWlsZGluZ0luZm8ubmFtZX0uYCwgYnVpbGRpbmdJbmZvLmljb25JZCk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0UGxheWVyQWN0aW9uKG51bGwpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVDYW5jZWxQbGF5ZXJBY3Rpb24gPSAoKSA9PiB7IHNldFBsYXllckFjdGlvbihudWxsKTsgc2V0QWN0aXZpdHlTdGF0dXMoJ0NvbW1hbmQgY2FuY2VsbGVkLicpOyB9O1xuXG4gICAgY29uc3QgaGFuZGxlRGVtb2xpc2hCdWlsZGluZyA9ICh0eXBlOiBCdWlsZGluZ1R5cGUgfCBzdHJpbmcsIGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgaWYgKHR5cGUgPT09ICd0b3duQ2VudGVyJykgeyBhZGROb3RpZmljYXRpb24oXCJUaGUgVG93biBDZW50ZXIgaXMgdGhlIGhlYXJ0IG9mIHlvdXIgY2l2aWxpemF0aW9uIGFuZCBjYW5ub3QgYmUgZGVtb2xpc2hlZC5cIik7IHJldHVybjsgfVxuICAgICAgICBpZihhY3RpdmVUYXNrcy5zb21lKHQgPT4gdC5wYXlsb2FkPy5idWlsZGluZ0lkID09PSBpZCkpIHsgYWRkTm90aWZpY2F0aW9uKFwiQ2Fubm90IGRlbW9saXNoIGEgYnVpbGRpbmcgd2l0aCBhbiBhY3RpdmUgdGFzay5cIik7IHJldHVybjsgfVxuICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IHR5cGUpO1xuICAgICAgICBjb25zdCBidWlsZGluZ0luc3RhbmNlID0gYnVpbGRpbmdzW3R5cGUgYXMgc3RyaW5nXS5maW5kKGIgPT4gYi5pZCA9PT0gaWQpO1xuICAgICAgICBpZiAoIWJ1aWxkaW5nSW5mbyB8fCAhYnVpbGRpbmdJbnN0YW5jZSkgcmV0dXJuO1xuICAgICAgICBpZiAodHlwZSA9PT0gJ2hvdXNlcycgJiYgcG9wdWxhdGlvbi5jdXJyZW50ID4gKGJ1aWxkaW5ncy50b3duQ2VudGVyPy5sZW5ndGggPiAwID8gMjAgOiAwKSArIChidWlsZGluZ3MuaG91c2VzLmxlbmd0aCAtIDEpICogNSkgeyBhZGROb3RpZmljYXRpb24oXCJDYW5ub3QgZGVtb2xpc2ggdGhpcyBob3VzZSwgeW91ciBwZW9wbGUgd291bGQgYmUgaG9tZWxlc3MuXCIpOyByZXR1cm47IH1cbiAgICAgICAgY29uc3QgcmVmdW5kID0gT2JqZWN0LmVudHJpZXMoYnVpbGRpbmdJbmZvLmNvc3QpLnJlZHVjZSgoYWNjLCBbcmVzLCBjb3N0XSkgPT4geyBjb25zdCBhbW91bnQgPSBNYXRoLmZsb29yKChjb3N0IHx8IDApICogMC41KTsgaWYgKGFtb3VudCA+IDApIGFjY1tyZXMgYXMga2V5b2YgUmVzb3VyY2VzXSA9IGFtb3VudDsgcmV0dXJuIGFjYzsgfSwge30gYXMgUmVzb3VyY2VEZWx0YXMpO1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMocmVmdW5kKS5sZW5ndGggPiAwKSB7IHVwZGF0ZVJlc291cmNlcyhyZWZ1bmQpOyBhZGROb3RpZmljYXRpb24oYFNhbHZhZ2VkICR7T2JqZWN0LmVudHJpZXMocmVmdW5kKS5tYXAoKFtyLGFdKSA9PiBgJHthfSAke3J9YCkuam9pbignLCAnKX0uYCk7IH1cbiAgICAgICAgc2V0QnVpbGRpbmdzKHByZXYgPT4gKHsgLi4ucHJldiwgW3R5cGUgYXMgc3RyaW5nXTogcHJldlt0eXBlIGFzIHN0cmluZ10uZmlsdGVyKGIgPT4gYi5pZCAhPT0gaWQpIH0pKTtcbiAgICAgICAgYWRkVG9Mb2coYCR7YnVpbGRpbmdJbnN0YW5jZS5uYW1lfSAoJHtidWlsZGluZ0luZm8ubmFtZX0pIHdhcyBkZW1vbGlzaGVkLmAsIGJ1aWxkaW5nSW5mby5pY29uSWQpO1xuICAgICAgICBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7aXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgaW5zdGFuY2VJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlVXBkYXRlQnVpbGRpbmcgPSAodHlwZTogQnVpbGRpbmdUeXBlIHwgc3RyaW5nLCBpZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgc2V0QnVpbGRpbmdzKHByZXYgPT4gKHsgLi4ucHJldiwgW3R5cGUgYXMgc3RyaW5nXTogcHJldlt0eXBlIGFzIHN0cmluZ10ubWFwKGIgPT4gYi5pZCA9PT0gaWQgPyB7IC4uLmIsIG5hbWUgfSA6IGIpIH0pKTtcbiAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiQnVpbGRpbmcgcmVuYW1lZC5cIik7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVRyYWluVmlsbGFnZXJzID0gKGNvdW50OiBudW1iZXIpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZVRhc2tzLnNvbWUodCA9PiB0LnR5cGUgPT09ICd0cmFpbl92aWxsYWdlcicpIHx8IGNvdW50IDw9IDApIHJldHVybjtcbiAgICAgICAgaWYgKHBvcHVsYXRpb24uY3VycmVudCArIGNvdW50ID4gcG9wdWxhdGlvbi5jYXBhY2l0eSkgeyBhZGROb3RpZmljYXRpb24oYE5lZWQgc3BhY2UgZm9yICR7Y291bnR9IG1vcmUgdmlsbGFnZXJzLmApOyByZXR1cm47IH1cbiAgICAgICAgaWYgKCFidWlsZGluZ3MudG93bkNlbnRlcj8uWzBdKSB7IGFkZE5vdGlmaWNhdGlvbihgTm8gVG93biBDZW50ZXIgdG8gdHJhaW4gdmlsbGFnZXJzLmApOyByZXR1cm47IH1cbiAgICAgICAgaWYgKCF1bmxpbWl0ZWRSZXNvdXJjZXMpIHsgY29uc3QgdG90YWxDb3N0ID0gNTAgKiBjb3VudDsgaWYgKHJlc291cmNlcy5mb29kIDwgdG90YWxDb3N0KSB7IGFkZE5vdGlmaWNhdGlvbihgTmVlZCAke3RvdGFsQ29zdCAtIHJlc291cmNlcy5mb29kfSBtb3JlIEZvb2QuYCk7IHJldHVybjsgfSB1cGRhdGVSZXNvdXJjZXMoeyBmb29kOiAtdG90YWxDb3N0IH0pOyB9XG4gICAgICAgIFxuICAgICAgICBpZih1bmxpbWl0ZWRSZXNvdXJjZXMpIGhhbmRsZVRhc2tDb21wbGV0aW9uKHsgaWQ6ICdpbnN0YW50JywgdHlwZTogJ3RyYWluX3ZpbGxhZ2VyJywgc3RhcnRUaW1lOiAwLCBkdXJhdGlvbjogMCwgcGF5bG9hZDogeyBjb3VudCB9IH0pO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gWy4uLnByZXYsIHsgaWQ6IGAke0RhdGUubm93KCl9LXRyYWluLXZpbGxhZ2VyYCwgdHlwZTogJ3RyYWluX3ZpbGxhZ2VyJywgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBkdXJhdGlvbjogMTAwMDAgKiBjb3VudCwgcGF5bG9hZDogeyBjb3VudCwgYnVpbGRpbmdJZDogYnVpbGRpbmdzLnRvd25DZW50ZXIhWzBdLmlkIH0gfV0pO1xuICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYFRyYWluaW5nICR7Y291bnR9IHZpbGxhZ2VyKHMpLi4uYCk7IGFkZFRvTG9nKGBCZWdhbiB0cmFpbmluZyAke2NvdW50fSBuZXcgdmlsbGFnZXIocykuYCwgJ3ZpbGxhZ2VyJyk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBpbnN0YW5jZUlkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgaGFuZGxlVHJhaW5Vbml0cyA9ICh1bml0VHlwZTogTWlsaXRhcnlVbml0VHlwZSwgY291bnQ6IG51bWJlcikgPT4ge1xuICAgICAgICBjb25zdCB1bml0SW5mbyA9IHVuaXRMaXN0LmZpbmQodSA9PiB1LmlkID09PSB1bml0VHlwZSk7XG4gICAgICAgIGlmICghdW5pdEluZm8gfHwgYWN0aXZlVGFza3Muc29tZSh0ID0+IHQucGF5bG9hZD8udW5pdFR5cGUgPT09IHVuaXRUeXBlKSB8fCBjb3VudCA8PSAwKSByZXR1cm47XG4gICAgICAgIGlmIChwb3B1bGF0aW9uLmN1cnJlbnQgKyBjb3VudCA+IHBvcHVsYXRpb24uY2FwYWNpdHkpIHsgYWRkTm90aWZpY2F0aW9uKGBOZWVkIHNwYWNlIGZvciAke2NvdW50fSBtb3JlIHVuaXRzLmApOyByZXR1cm47IH1cbiAgICAgICAgY29uc3QgdHJhaW5pbmdCdWlsZGluZyA9IGJ1aWxkaW5nc1t1bml0SW5mby5yZXF1aXJlZEJ1aWxkaW5nIGFzIEJ1aWxkaW5nVHlwZV0/LlswXTtcbiAgICAgICAgaWYgKCF0cmFpbmluZ0J1aWxkaW5nKSB7IGFkZE5vdGlmaWNhdGlvbihgTm8gJHtidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IHVuaXRJbmZvLnJlcXVpcmVkQnVpbGRpbmcpPy5uYW1lfSB0byB0cmFpbiB1bml0cy5gKTsgcmV0dXJuOyB9XG5cbiAgICAgICAgaWYgKCF1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pc3NpbmcgPSAoT2JqZWN0LmtleXModW5pdEluZm8uY29zdCkgYXMgKGtleW9mIFJlc291cmNlcylbXSkuZmlsdGVyKHJlcyA9PiByZXNvdXJjZXNbcmVzXSA8ICh1bml0SW5mby5jb3N0W3Jlc10gfHwgMCkgKiBjb3VudCk7XG4gICAgICAgICAgICBpZiAobWlzc2luZy5sZW5ndGggPiAwKSB7IGFkZE5vdGlmaWNhdGlvbihgTmVlZCBtb3JlICR7bWlzc2luZy5qb2luKCcgYW5kICcpfS5gKTsgcmV0dXJuOyB9XG4gICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXMoT2JqZWN0LmVudHJpZXModW5pdEluZm8uY29zdCkucmVkdWNlKChhY2MsIFtrLCB2XSkgPT4gKHsuLi5hY2MsIFtrXTogLSh2IHx8IDApICogY291bnR9KSwge30pKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgbGV0IHRyYWluVGltZSA9IHVuaXRJbmZvLnRyYWluVGltZSAqIDEwMDAgKiBjb3VudDtcbiAgICAgICAgaWYoYWN0aXZlQnVmZnMucGVybWFuZW50VHJhaW5UaW1lUmVkdWN0aW9uKSB0cmFpblRpbWUgKj0gKDEgLSBhY3RpdmVCdWZmcy5wZXJtYW5lbnRUcmFpblRpbWVSZWR1Y3Rpb24pO1xuICAgICAgICBpZiAoYWN0aXZlQnVmZnMudHJhaW5UaW1lUmVkdWN0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBhcHBsaWNhYmxlID0gTWF0aC5taW4oY291bnQsIGFjdGl2ZUJ1ZmZzLnRyYWluVGltZVJlZHVjdGlvbi51c2VzKTtcbiAgICAgICAgICAgIHRyYWluVGltZSA9ICh1bml0SW5mby50cmFpblRpbWUgKiAxMDAwICogYXBwbGljYWJsZSAqICgxIC0gYWN0aXZlQnVmZnMudHJhaW5UaW1lUmVkdWN0aW9uLnBlcmNlbnRhZ2UpKSArICh1bml0SW5mby50cmFpblRpbWUgKiAxMDAwICogKGNvdW50IC0gYXBwbGljYWJsZSkpO1xuICAgICAgICAgICAgaWYgKGFjdGl2ZUJ1ZmZzLnRyYWluVGltZVJlZHVjdGlvbi51c2VzIC0gYXBwbGljYWJsZSA+IDApIHNldEFjdGl2ZUJ1ZmZzKHByZXYgPT4gKHsuLi5wcmV2LCB0cmFpblRpbWVSZWR1Y3Rpb246IHsuLi5wcmV2LnRyYWluVGltZVJlZHVjdGlvbiEsIHVzZXM6IHByZXYudHJhaW5UaW1lUmVkdWN0aW9uIS51c2VzIC0gYXBwbGljYWJsZX19KSk7XG4gICAgICAgICAgICBlbHNlIHsgc2V0QWN0aXZlQnVmZnMocHJldiA9PiAoey4uLnByZXYsIHRyYWluVGltZVJlZHVjdGlvbjogdW5kZWZpbmVkfSkpOyBhZGRUb0xvZyhcIlRoZSBEcmlsbG1hc3RlcidzIFdoaXN0bGUgYnVmZiBoYXMgYmVlbiBmdWxseSB1c2VkLlwiLCAnaXRlbScpOyB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmKHVubGltaXRlZFJlc291cmNlcykgaGFuZGxlVGFza0NvbXBsZXRpb24oeyBpZDogJ2luc3RhbnQnLCB0eXBlOiAndHJhaW5fbWlsaXRhcnknLCBzdGFydFRpbWU6IDAsIGR1cmF0aW9uOiAwLCBwYXlsb2FkOiB7IHVuaXRUeXBlLCBjb3VudCB9IH0pO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gWy4uLnByZXYsIHsgaWQ6IGAke0RhdGUubm93KCl9LXRyYWluLSR7dW5pdFR5cGV9YCwgdHlwZTogJ3RyYWluX21pbGl0YXJ5Jywgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBkdXJhdGlvbjogdHJhaW5UaW1lLCBwYXlsb2FkOiB7IHVuaXRUeXBlLCBjb3VudCwgYnVpbGRpbmdJZDogdHJhaW5pbmdCdWlsZGluZy5pZCB9IH1dKTtcbiAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBUcmFpbmluZyAke2NvdW50fSAke3VuaXRJbmZvLm5hbWV9KHMpLi4uYCk7IGFkZFRvTG9nKGBCZWdhbiB0cmFpbmluZyAke2NvdW50fSBuZXcgJHt1bml0SW5mby5uYW1lfShzKS5gLCB1bml0VHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBpbnN0YW5jZUlkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVEaXNtaXNzU3BlY2lmaWNVbml0ID0gKHR5cGU6ICd2aWxsYWdlcnMnIHwgJ21pbGl0YXJ5JywgaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAodHlwZSA9PT0gJ3ZpbGxhZ2VycycgJiYgaXNWaWxsYWdlckJ1c3koaWQpKSB7IGFkZE5vdGlmaWNhdGlvbihcIkNhbm5vdCBkaXNtaXNzIGEgYnVzeSB2aWxsYWdlci5cIik7IHJldHVybjsgfVxuICAgICAgICBjb25zdCB1bml0ID0gdW5pdHNbdHlwZV0uZmluZCh1ID0+IHUuaWQgPT09IGlkKTsgaWYgKCF1bml0KSByZXR1cm47XG4gICAgICAgIGlmICh0eXBlID09PSAndmlsbGFnZXJzJyAmJiB1bml0cy52aWxsYWdlcnMubGVuZ3RoIDw9IDEpIHsgYWRkTm90aWZpY2F0aW9uKFwiQ2Fubm90IGRpc21pc3MgeW91ciBsYXN0IHZpbGxhZ2VyLlwiKTsgcmV0dXJuOyB9XG4gICAgICAgIHNldFVuaXRzKHByZXYgPT4gKHsgLi4ucHJldiwgW3R5cGVdOiBwcmV2W3R5cGVdLmZpbHRlcih1ID0+IHUuaWQgIT09IGlkKSB9KSk7XG4gICAgICAgIGNvbnN0IHVuaXRUeXBlTmFtZSA9IHR5cGUgPT09ICd2aWxsYWdlcnMnID8gJ3ZpbGxhZ2VyJyA6ICh1bml0IGFzIE1pbGl0YXJ5VW5pdCkudW5pdFR5cGU7XG4gICAgICAgIGFkZFRvTG9nKGAke3VuaXQubmFtZX0gdGhlICR7dW5pdFR5cGVOYW1lfSBoYXMgYmVlbiBkaXNtaXNzZWQuYCwgdHlwZSA9PT0gJ3ZpbGxhZ2VycycgPyAndmlsbGFnZXInIDogKHVuaXQgYXMgTWlsaXRhcnlVbml0KS51bml0VHlwZSk7XG4gICAgICAgIGFkZE5vdGlmaWNhdGlvbihgJHt1bml0Lm5hbWV9IHdhcyBkaXNtaXNzZWQuYCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVVwZGF0ZVVuaXQgPSAodHlwZTogJ3ZpbGxhZ2VycycgfCAnbWlsaXRhcnknLCBpZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIHRpdGxlPzogc3RyaW5nKSA9PiB7XG4gICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7IC4uLnByZXYsIFt0eXBlXTogcHJldlt0eXBlXS5tYXAodSA9PiB1LmlkID09PSBpZCA/ICh0eXBlID09PSAnbWlsaXRhcnknICYmIHRpdGxlICE9PSB1bmRlZmluZWQgPyB7IC4uLnUsIG5hbWUsIHRpdGxlIH0gOiB7IC4uLnUsIG5hbWUgfSkgOiB1KX0pKTtcbiAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiVW5pdCB1cGRhdGVkLlwiKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQXNzaWduVmlsbGFnZXJzVG9Db25zdHJ1Y3Rpb24gPSAoY29uc3RydWN0aW9uSWQ6IHN0cmluZywgY291bnQ6IG51bWJlcikgPT4ge1xuICAgICAgICBjb25zdCBpZGxlVmlsbGFnZXJzID0gdW5pdHMudmlsbGFnZXJzLmZpbHRlcih2ID0+ICF2LmN1cnJlbnRUYXNrKTtcbiAgICAgICAgaWYgKGNvdW50IDw9IDAgfHwgaWRsZVZpbGxhZ2Vycy5sZW5ndGggPT09IDApIHsgYWRkTm90aWZpY2F0aW9uKFwiTm8gaWRsZSB2aWxsYWdlcnMgYXZhaWxhYmxlLlwiKTsgcmV0dXJuOyB9XG4gICAgICAgIGNvbnN0IHRhc2sgPSBhY3RpdmVUYXNrcy5maW5kKHQgPT4gdC5pZCA9PT0gY29uc3RydWN0aW9uSWQpOyBpZiAoIXRhc2sgfHwgdGFzay50eXBlICE9PSAnYnVpbGQnKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gdGFzay5wYXlsb2FkPy5idWlsZGluZ1R5cGUpOyBpZiAoIWJ1aWxkaW5nSW5mbykgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGNhcHBlZENvdW50ID0gTWF0aC5taW4oY291bnQsIGlkbGVWaWxsYWdlcnMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgdmlsbGFnZXJzVG9Bc3NpZ24gPSBpZGxlVmlsbGFnZXJzLnNsaWNlKDAsIGNhcHBlZENvdW50KS5tYXAodiA9PiB2LmlkKTtcbiAgICAgICAgY29uc3Qgd29ya0RvbmUgPSAoRGF0ZS5ub3coKSAtIHRhc2suc3RhcnRUaW1lKSAqICh0YXNrLnBheWxvYWQ/LnZpbGxhZ2VySWRzPy5sZW5ndGggfHwgMSk7XG4gICAgICAgIGNvbnN0IHdvcmtSZW1haW5pbmcgPSBNYXRoLm1heCgwLCAoYnVpbGRpbmdJbmZvLmJ1aWxkVGltZSAqIDEwMDApIC0gd29ya0RvbmUpO1xuICAgICAgICBjb25zdCBuZXdXb3JrZXJDb3VudCA9ICh0YXNrLnBheWxvYWQ/LnZpbGxhZ2VySWRzPy5sZW5ndGggfHwgMCkgKyBjYXBwZWRDb3VudDtcbiAgICAgICAgY29uc3QgbmV3UmVtYWluaW5nRHVyYXRpb24gPSB3b3JrUmVtYWluaW5nIC8gbmV3V29ya2VyQ291bnQ7XG4gICAgICAgIFxuICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7Li4ucHJldiwgdmlsbGFnZXJzOiBwcmV2LnZpbGxhZ2Vycy5tYXAodiA9PiB2aWxsYWdlcnNUb0Fzc2lnbi5pbmNsdWRlcyh2LmlkKSA/IHsuLi52LCBjdXJyZW50VGFzazogY29uc3RydWN0aW9uSWR9IDogdil9KSk7XG4gICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gcHJldi5tYXAodCA9PiB0LmlkID09PSBjb25zdHJ1Y3Rpb25JZCA/IHsgLi4udCwgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBkdXJhdGlvbjogbmV3UmVtYWluaW5nRHVyYXRpb24sIHBheWxvYWQ6IHsgLi4udC5wYXlsb2FkLCB2aWxsYWdlcklkczogWy4uLnQucGF5bG9hZCEudmlsbGFnZXJJZHMhLCAuLi52aWxsYWdlcnNUb0Fzc2lnbl0gfSB9IDogdCkpO1xuICAgICAgICBhZGRUb0xvZyhgJHtjYXBwZWRDb3VudH0gdmlsbGFnZXIocykgYXJlIG5vdyBhc3Npc3Rpbmcgd2l0aCB0aGUgJHtidWlsZGluZ0luZm8ubmFtZX0uYCwgYnVpbGRpbmdJbmZvLmljb25JZCk7XG4gICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBDb25zdHJ1Y3Rpb24gb2YgdGhlICR7YnVpbGRpbmdJbmZvLm5hbWV9IGlzIG5vdyBmYXN0ZXIuYCk7XG4gICAgICAgIHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdGFyZ2V0SWQ6IG51bGwsIHRhcmdldFR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUFzc2lnblZpbGxhZ2VycyA9ICh0YXJnZXRJZDogc3RyaW5nLCBjb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGlmIChhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRUeXBlID09PSAnY29uc3RydWN0aW9uJykgcmV0dXJuIGhhbmRsZUFzc2lnblZpbGxhZ2Vyc1RvQ29uc3RydWN0aW9uKHRhcmdldElkLCBjb3VudCk7XG4gICAgICAgIGNvbnN0IGlkbGVWaWxsYWdlcnMgPSB1bml0cy52aWxsYWdlcnMuZmlsdGVyKHYgPT4gIXYuY3VycmVudFRhc2spO1xuICAgICAgICBpZiAoY291bnQgPD0gMCB8fCBpZGxlVmlsbGFnZXJzLmxlbmd0aCA9PT0gMCkgeyBhZGROb3RpZmljYXRpb24oXCJObyBpZGxlIHZpbGxhZ2VycyBhdmFpbGFibGUuXCIpOyByZXR1cm47IH1cbiAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHJlc291cmNlTm9kZXMuZmluZChuID0+IG4uaWQgPT09IHRhcmdldElkKTsgaWYgKCF0YXJnZXROb2RlKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNhcHBlZENvdW50ID0gTWF0aC5taW4oY291bnQsIGlkbGVWaWxsYWdlcnMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgdmlsbGFnZXJzVG9Bc3NpZ24gPSBpZGxlVmlsbGFnZXJzLnNsaWNlKDAsIGNhcHBlZENvdW50KS5tYXAodiA9PiB2LmlkKTtcbiAgICAgICAgY29uc3QgdGFza0lkID0gYGdhdGhlci0ke3RhcmdldElkfWA7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nVGFzayA9IGFjdGl2ZVRhc2tzLmZpbmQodCA9PiB0LmlkID09PSB0YXNrSWQpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKHsgW3RhcmdldE5vZGUudHlwZV06IHRhcmdldE5vZGUuYW1vdW50IH0pO1xuICAgICAgICAgICAgYWRkVG9Mb2coYCR7Y2FwcGVkQ291bnR9IHZpbGxhZ2VyKHMpIGluc3RhbnRseSBnYXRoZXJlZCAke01hdGguZmxvb3IodGFyZ2V0Tm9kZS5hbW91bnQpfSAke3RhcmdldE5vZGUudHlwZX0uYCwgdGFyZ2V0Tm9kZS50eXBlKTtcbiAgICAgICAgICAgIHNldFJlc291cmNlTm9kZXMocHJldiA9PiBwcmV2LmZpbHRlcihuID0+IG4uaWQgIT09IHRhcmdldElkKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdUYXNrKSBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IHByZXYubWFwKHQgPT4gdC5pZCA9PT0gdGFza0lkID8geyAuLi50LCBwYXlsb2FkOiB7IC4uLnQucGF5bG9hZCwgdmlsbGFnZXJJZHM6IFsuLi5uZXcgU2V0KFsuLi50LnBheWxvYWQhLnZpbGxhZ2VySWRzISwgLi4udmlsbGFnZXJzVG9Bc3NpZ25dKV0gfSB9IDogdCkpO1xuICAgICAgICAgICAgZWxzZSBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IFsuLi5wcmV2LCB7IGlkOiB0YXNrSWQsIHR5cGU6ICdnYXRoZXInLCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiA5OTk5OTk5OTksIHBheWxvYWQ6IHsgcmVzb3VyY2VOb2RlSWQ6IHRhcmdldElkLCB2aWxsYWdlcklkczogdmlsbGFnZXJzVG9Bc3NpZ24gfSB9XSk7XG4gICAgICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7Li4ucHJldiwgdmlsbGFnZXJzOiBwcmV2LnZpbGxhZ2Vycy5tYXAodiA9PiB2aWxsYWdlcnNUb0Fzc2lnbi5pbmNsdWRlcyh2LmlkKSA/IHsuLi52LCBjdXJyZW50VGFzazogdGFza0lkfSA6IHYpfSkpO1xuICAgICAgICB9XG4gICAgICAgIGFkZFRvTG9nKGAke2NhcHBlZENvdW50fSB2aWxsYWdlcihzKSBhc3NpZ25lZCB0byBnYXRoZXIgJHt0YXJnZXROb2RlLnR5cGV9LmAsIHRhcmdldE5vZGUudHlwZSk7XG4gICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGAke2NhcHBlZENvdW50fSB2aWxsYWdlcihzKSBhcmUgbm93IGdhdGhlcmluZyAke3RhcmdldE5vZGUudHlwZX0uYCk7XG4gICAgICAgIHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdGFyZ2V0SWQ6IG51bGwsIHRhcmdldFR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVJlY2FsbFZpbGxhZ2VycyA9ICh0YXJnZXRJZDogc3RyaW5nLCBjb3VudDogbnVtYmVyLCB0eXBlOiAncmVzb3VyY2UnIHwgJ2NvbnN0cnVjdGlvbicpID0+IHtcbiAgICAgICAgY29uc3QgdGFzayA9IGFjdGl2ZVRhc2tzLmZpbmQodCA9PiB0LmlkID09PSB0YXJnZXRJZCk7XG4gICAgICAgIGlmICghdGFzayB8fCAodGFzay5wYXlsb2FkPy52aWxsYWdlcklkcz8ubGVuZ3RoID8/IDApIDwgY291bnQpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHZpbGxhZ2Vyc1RvUmVjYWxsID0gdGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEuc2xpY2UodGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEubGVuZ3RoIC0gY291bnQpO1xuICAgICAgICBpZiAodHlwZSA9PT0gJ2NvbnN0cnVjdGlvbicgJiYgdmlsbGFnZXJzVG9SZWNhbGwubGVuZ3RoID09PSB0YXNrLnBheWxvYWQhLnZpbGxhZ2VySWRzIS5sZW5ndGgpIHsgYWRkTm90aWZpY2F0aW9uKFwiQ2Fubm90IHJlY2FsbCB0aGUgbGFzdCBidWlsZGVyIGZyb20gYSBwcm9qZWN0LlwiKTsgcmV0dXJuOyB9XG5cbiAgICAgICAgc2V0VW5pdHMocHJldiA9PiAoey4uLnByZXYsIHZpbGxhZ2VyczogcHJldi52aWxsYWdlcnMubWFwKHYgPT4gdmlsbGFnZXJzVG9SZWNhbGwuaW5jbHVkZXModi5pZCkgPyB7Li4udiwgY3VycmVudFRhc2s6IG51bGx9IDogdil9KSk7XG4gICAgICAgIGNvbnN0IHJlbWFpbmluZ1ZpbGxhZ2VycyA9IHRhc2sucGF5bG9hZCEudmlsbGFnZXJJZHMhLmZpbHRlcihpZCA9PiAhdmlsbGFnZXJzVG9SZWNhbGwuaW5jbHVkZXMoaWQpKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZW1haW5pbmdWaWxsYWdlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IHByZXYuZmlsdGVyKHQgPT4gdC5pZCAhPT0gdGFyZ2V0SWQpKTtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSByZXNvdXJjZU5vZGVzLmZpbmQobiA9PiBuLmlkID09PSB0YXJnZXRJZCk7XG4gICAgICAgICAgICBpZihub2RlKSBhZGRUb0xvZyhgQWxsIHZpbGxhZ2VycyByZWNhbGxlZCBmcm9tIGdhdGhlcmluZyAke25vZGUudHlwZX0uYCwgJ3ZpbGxhZ2VyJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IHRhc2sucGF5bG9hZD8uYnVpbGRpbmdUeXBlKSE7XG4gICAgICAgICAgICBjb25zdCB3b3JrRG9uZSA9IChEYXRlLm5vdygpIC0gdGFzay5zdGFydFRpbWUpICogdGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgbmV3UmVtYWluaW5nRHVyYXRpb24gPSAoYnVpbGRpbmdJbmZvLmJ1aWxkVGltZSAqIDEwMDAgLSB3b3JrRG9uZSkgLyByZW1haW5pbmdWaWxsYWdlcnMubGVuZ3RoO1xuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBwcmV2Lm1hcCh0ID0+IHQuaWQgPT09IHRhcmdldElkID8geyAuLi50LCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiBuZXdSZW1haW5pbmdEdXJhdGlvbiwgcGF5bG9hZDogeyAuLi50LnBheWxvYWQsIHZpbGxhZ2VySWRzOiByZW1haW5pbmdWaWxsYWdlcnMgfSB9IDogdCkpO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdjb25zdHJ1Y3Rpb24nKSBhZGRUb0xvZyhgJHtjb3VudH0gYnVpbGRlcihzKSByZWNhbGxlZC4gQ29uc3RydWN0aW9uIHdpbGwgbm93IGJlIHNsb3dlci5gLCAndmlsbGFnZXInKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIHRhcmdldElkOiBudWxsLCB0YXJnZXRUeXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVBZHZhbmNlQWdlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoYWN0aXZlVGFza3Muc29tZSh0ID0+IHQudHlwZSA9PT0gJ2FkdmFuY2VfYWdlJykpIHsgYWRkTm90aWZpY2F0aW9uKFwiQWR2YW5jZW1lbnQgYWxyZWFkeSBpbiBwcm9ncmVzcy5cIik7IHJldHVybjsgfVxuICAgICAgICBpZiAoIXVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgY29uc3QgbWlzc2luZyA9IFtdO1xuICAgICAgICAgICAgaWYgKHJlc291cmNlcy5mb29kIDwgNTAwKSBtaXNzaW5nLnB1c2goYCR7NTAwIC0gcmVzb3VyY2VzLmZvb2R9IEZvb2RgKTtcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZXMuZ29sZCA8IDIwMCkgbWlzc2luZy5wdXNoKGAkezIwMCAtIHJlc291cmNlcy5nb2xkfSBHb2xkYCk7XG4gICAgICAgICAgICBpZiAobWlzc2luZy5sZW5ndGggPiAwKSB7IGFkZE5vdGlmaWNhdGlvbihgVG8gYWR2YW5jZSwgeW91IG5lZWQgJHttaXNzaW5nLmpvaW4oJyBhbmQgJyl9LmApOyByZXR1cm47IH1cbiAgICAgICAgICAgIHVwZGF0ZVJlc291cmNlcyh7IGZvb2Q6IC01MDAsIGdvbGQ6IC0yMDAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWN0aXZlQWdlcyA9IG1hc3RlckFnZUxpc3QuZmlsdGVyKGEgPT4gYS5pc0FjdGl2ZSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGFjdGl2ZUFnZXMuZmluZEluZGV4KGFnZSA9PiBhZ2UubmFtZSA9PT0gY3VycmVudEFnZSk7XG4gICAgICAgIGlmIChjdXJyZW50SW5kZXggPT09IC0xIHx8IGN1cnJlbnRJbmRleCArIDEgPj0gYWN0aXZlQWdlcy5sZW5ndGgpIHsgYWRkTm90aWZpY2F0aW9uKFwiWW91IGhhdmUgcmVhY2hlZCB0aGUgZmluYWwgYXZhaWxhYmxlIGFnZS5cIik7IHJldHVybjsgfVxuXG4gICAgICAgIGlmKHVubGltaXRlZFJlc291cmNlcykgaGFuZGxlVGFza0NvbXBsZXRpb24oeyBpZDogJ2luc3RhbnQnLCB0eXBlOiAnYWR2YW5jZV9hZ2UnLCBzdGFydFRpbWU6IDAsIGR1cmF0aW9uOiAwLCBwYXlsb2FkOiB7fSB9KTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IFsuLi5wcmV2LCB7IGlkOiBgJHtEYXRlLm5vdygpfS1hZHZhbmNlX2FnZWAsIHR5cGU6ICdhZHZhbmNlX2FnZScsIHN0YXJ0VGltZTogRGF0ZS5ub3coKSwgZHVyYXRpb246IDYwMDAwIH1dKTtcbiAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBZb3VyIHBlb3BsZSBiZWdpbiB0aGUgbG9uZyBqb3VybmV5IHRvIGEgbmV3IGFnZS5gKTtcbiAgICAgICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgaW5zdGFuY2VJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgY29uc3QgaGFuZGxlRXhpdEdhbWUgPSBhc3luYyAoKSA9PiB7IHNldEN1cnJlbnRTYXZlTmFtZShudWxsKTsgYXdhaXQgZmV0Y2hTYXZlc0FuZENvbmZpZ3MoKTsgc2V0R2FtZVN0YXRlKEdhbWVTdGF0dXMuTUVOVSk7IH07XG4gICAgY29uc3QgaGFuZGxlRGVsZXRlR2FtZSA9IGFzeW5jIChzYXZlTmFtZTogc3RyaW5nKSA9PiB7IGF3YWl0IGRlbGV0ZUdhbWVTdGF0ZShzYXZlTmFtZSk7IGF3YWl0IGZldGNoU2F2ZXNBbmRDb25maWdzKCk7IGFkZE5vdGlmaWNhdGlvbihgRGVsZXRlZCBzYWdhOiBcIiR7c2F2ZU5hbWV9XCJgKTsgfTtcblxuICAgIGNvbnN0IGhhbmRsZVRvZ2dsZVVubGltaXRlZFJlc291cmNlcyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgbmV3TW9kZSA9ICF1bmxpbWl0ZWRSZXNvdXJjZXM7XG4gICAgICAgIHNldFVubGltaXRlZFJlc291cmNlcyhuZXdNb2RlKTtcbiAgICAgICAgaWYgKG5ld01vZGUpIHtcbiAgICAgICAgICAgIHNldFJlc291cmNlcyh7IGZvb2Q6IDk5OTk5LCB3b29kOiA5OTk5OSwgZ29sZDogOTk5OTksIHN0b25lOiA5OTk5OSB9KTtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihcIlRlc3QgTW9kZTogT04gLSBBbGwgYWN0aXZlIHRhc2tzIGNvbXBsZXRlZC5cIik7XG4gICAgICAgICAgICBjb25zdCBkZXBsZXRlZE5vZGVJZHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICAgICAgICAgIGFjdGl2ZVRhc2tzLmZvckVhY2godGFzayA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRhc2sudHlwZSA9PT0gJ2dhdGhlcicgJiYgdGFzay5wYXlsb2FkPy5yZXNvdXJjZU5vZGVJZCkge1xuICAgICAgICAgICAgICAgICAgICBkZXBsZXRlZE5vZGVJZHMuYWRkKHRhc2sucGF5bG9hZC5yZXNvdXJjZU5vZGVJZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSByZXNvdXJjZU5vZGVzLmZpbmQobiA9PiBuLmlkID09PSB0YXNrLnBheWxvYWQucmVzb3VyY2VOb2RlSWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSkgYWRkVG9Mb2coYEluc3RhbnRseSBnYXRoZXJlZCBhbGwgJHtub2RlLnR5cGV9IGZyb20gYSBkZXBsZXRlZCBzb3VyY2UuYCwgbm9kZS50eXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaGFuZGxlVGFza0NvbXBsZXRpb24odGFzayk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKFtdKTtcbiAgICAgICAgICAgIGlmIChkZXBsZXRlZE5vZGVJZHMuc2l6ZSA+IDApIHNldFJlc291cmNlTm9kZXMocHJldiA9PiBwcmV2LmZpbHRlcihuID0+ICFkZXBsZXRlZE5vZGVJZHMuaGFzKG4uaWQpKSk7XG4gICAgICAgIH0gZWxzZSBhZGROb3RpZmljYXRpb24oXCJUZXN0IE1vZGU6IE9GRlwiKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGhhbmRsZVVzZUl0ZW0gPSAoaXRlbUlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGludmVudG9yeS5maW5kKGkgPT4gaS5pZCA9PT0gaXRlbUlkKTsgaWYgKCFpdGVtKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGJhc2VJdGVtSWQgPSBpdGVtLmlkLnNwbGl0KCctJylbMF07XG4gICAgICAgIGNvbnN0IGNvbnN0cnVjdGlvblRhc2tzID0gYWN0aXZlVGFza3MuZmlsdGVyKHQgPT4gdC50eXBlID09PSAnYnVpbGQnKTtcbiAgICAgICAgc3dpdGNoKGJhc2VJdGVtSWQpIHtcbiAgICAgICAgICAgIGNhc2UgJ3Njcm9sbF9vZl9oYXN0ZSc6IGNhc2UgJ2JsdWVwcmludF9vZl90aGVfbWFzdGVyJzpcbiAgICAgICAgICAgICAgICBpZiAoY29uc3RydWN0aW9uVGFza3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXNrID0gY29uc3RydWN0aW9uVGFza3Muc29ydCgoYSxiKSA9PiAoYi5zdGFydFRpbWUgKyBiLmR1cmF0aW9uKSAtIChhLnN0YXJ0VGltZSArIGEuZHVyYXRpb24pKVswXTtcbiAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocCA9PiBwLm1hcCh0ID0+IHQuaWQgPT09IHRhc2suaWQgPyB7IC4uLnQsIGR1cmF0aW9uOiBNYXRoLm1heCgwLCB0LmR1cmF0aW9uIC0gKGJhc2VJdGVtSWQgPT09ICdzY3JvbGxfb2ZfaGFzdGUnID8gMTUwMDAgOiA2MDAwMCkpIH0gOiB0KSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFRvTG9nKGBVc2VkICR7aXRlbS5uYW1lfSBvbiB0aGUgJHtidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IHRhc2sucGF5bG9hZD8uYnVpbGRpbmdUeXBlKT8ubmFtZX0uYCwgJ2l0ZW0nKTtcbiAgICAgICAgICAgICAgICB9IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnaGVhcnR5X21lYWwnOiB1cGRhdGVSZXNvdXJjZXMoeyBmb29kOiA3NSB9KTsgYWRkVG9Mb2coYFVzZWQgJHtpdGVtLm5hbWV9IHRvIGdhaW4gNzUgZm9vZC5gLCAnaXRlbScpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2J1aWxkZXJzX2NoYXJtJzogc2V0QWN0aXZlQnVmZnMocCA9PiAoey4uLnAsIGJ1aWxkVGltZVJlZHVjdGlvbjogeyBwZXJjZW50YWdlOiAwLjEsIHVzZXM6IDEgfX0pKTsgYWRkVG9Mb2coYFVzZWQgJHtpdGVtLm5hbWV9LiBOZXh0IGJ1aWxkaW5nIGlzIDEwJSBmYXN0ZXIuYCwgJ2l0ZW0nKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkcmlsbG1hc3RlcnNfd2hpc3RsZSc6IHNldEFjdGl2ZUJ1ZmZzKHAgPT4gKHsuLi5wLCB0cmFpblRpbWVSZWR1Y3Rpb246IHsgcGVyY2VudGFnZTogMC4yNSwgdXNlczogNSB9fSkpOyBhZGRUb0xvZyhgVXNlZCAke2l0ZW0ubmFtZX0uIE5leHQgNSB1bml0cyB0cmFpbiAyNSUgZmFzdGVyLmAsICdpdGVtJyk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZ29sZGVuX2hhcnZlc3QnOiBzZXRBY3RpdmVCdWZmcyhwID0+ICh7Li4ucCwgcmVzb3VyY2VCb29zdDogWy4uLihwLnJlc291cmNlQm9vc3QgfHwgW10pLCB7IHJlc291cmNlOiAnZm9vZCcsIG11bHRpcGxpZXI6IDEuNSwgZW5kVGltZTogRGF0ZS5ub3coKSArIDYwMDAwIH1dfSkpOyBhZGRUb0xvZyhgVXNlZCAke2l0ZW0ubmFtZX0uIEZvb2QgZ2F0aGVyaW5nIGJvb3N0ZWQgYnkgNTAlIGZvciA2MHMuYCwgJ2l0ZW0nKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzaGFyZF9vZl90aGVfYW5jaWVudHMnOlxuICAgICAgICAgICAgICAgIGlmIChjb25zdHJ1Y3Rpb25UYXNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhc2sgPSBjb25zdHJ1Y3Rpb25UYXNrcy5zb3J0KChhLGIpID0+IChiLnN0YXJ0VGltZSArIGIuZHVyYXRpb24pIC0gKGEuc3RhcnRUaW1lICsgYS5kdXJhdGlvbikpWzBdO1xuICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwID0+IHAuZmlsdGVyKHQgPT4gdC5pZCAhPT0gdGFzay5pZCkpOyBoYW5kbGVUYXNrQ29tcGxldGlvbih0YXNrKTtcbiAgICAgICAgICAgICAgICAgICAgYWRkVG9Mb2coYFVzZWQgJHtpdGVtLm5hbWV9IHRvIGluc3RhbnRseSBjb21wbGV0ZSB0aGUgJHtidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IHRhc2sucGF5bG9hZD8uYnVpbGRpbmdUeXBlKT8ubmFtZX0uYCwgJ2l0ZW0nKTtcbiAgICAgICAgICAgICAgICB9IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnaGVhcnRfb2ZfdGhlX21vdW50YWluJzpcbiAgICAgICAgICAgICAgICBzZXRBY3RpdmVCdWZmcyhwID0+ICh7Li4ucCwgcmVzb3VyY2VCb29zdDogWy4uLihwLnJlc291cmNlQm9vc3QgfHwgW10pLCB7IHJlc291cmNlOiAnZ29sZCcsIG11bHRpcGxpZXI6IDIsIGVuZFRpbWU6IERhdGUubm93KCkgKyAxMjAwMDAgfSwgeyByZXNvdXJjZTogJ3N0b25lJywgbXVsdGlwbGllcjogMiwgZW5kVGltZTogRGF0ZS5ub3coKSArIDEyMDAwMCB9XX0pKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhgVXNlZCAke2l0ZW0ubmFtZX0uIEdvbGQgYW5kIFN0b25lIGdhdGhlcmluZyBkb3VibGVkIGZvciAyIG1pbnV0ZXMuYCwgJ2l0ZW0nKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdiYW5uZXJfb2ZfY29tbWFuZCc6XG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlQnVmZnMocCA9PiAoey4uLnAsIHBlcm1hbmVudFRyYWluVGltZVJlZHVjdGlvbjogKHAucGVybWFuZW50VHJhaW5UaW1lUmVkdWN0aW9uIHx8IDApICsgMC4wNX0pKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhgVXNlZCAke2l0ZW0ubmFtZX0uIE1pbGl0YXJ5IHVuaXRzIHRyYWluIDUlIGZhc3RlciwgcGVybWFuZW50bHkuYCwgJ2l0ZW0nKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd3aGlzcGVyX29mX3RoZV9jcmVhdG9yJzpcbiAgICAgICAgICAgICAgICBjb25zdCB0YXNrcyA9IFsuLi5hY3RpdmVUYXNrc107IHNldEFjdGl2ZVRhc2tzKFtdKTsgdGFza3MuZm9yRWFjaChoYW5kbGVUYXNrQ29tcGxldGlvbik7XG4gICAgICAgICAgICAgICAgYWRkVG9Mb2coYEEgZGl2aW5lIHdoaXNwZXIgZWNob2VzLCBhbmQgYWxsIHdvcmsgaXMgaW5zdGFudGx5IGZpbmlzaGVkLmAsICdpdGVtJyk7IGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHNldEludmVudG9yeShwcmV2ID0+IHByZXYuZmlsdGVyKGkgPT4gaS5pZCAhPT0gaXRlbUlkKSk7IHNldEludmVudG9yeVBhbmVsU3RhdGUoe2lzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGx9KTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGJ1aWxkaW5nQ291bnRzID0gYnVpbGRpbmdMaXN0LnJlZHVjZSgoYWNjLCBiKSA9PiB7IGFjY1tiLmlkXSA9IGJ1aWxkaW5nc1tiLmlkIGFzIHN0cmluZ10/Lmxlbmd0aCB8fCAwOyByZXR1cm4gYWNjOyB9LCB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+KTtcbiAgICBjb25zdCBpZGxlVmlsbGFnZXJDb3VudCA9IHVuaXRzLnZpbGxhZ2Vycy5maWx0ZXIodiA9PiAhdi5jdXJyZW50VGFzaykubGVuZ3RoO1xuICAgIGNvbnN0IGFzc2lnbm1lbnRUYXJnZXQgPSBhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRUeXBlID09PSAncmVzb3VyY2UnID8gcmVzb3VyY2VOb2Rlcy5maW5kKG4gPT4gbi5pZCA9PT0gYXNzaWdubWVudFBhbmVsU3RhdGUudGFyZ2V0SWQpIDogYWN0aXZlVGFza3MuZmluZCh0ID0+IHQudHlwZSA9PT0gJ2J1aWxkJyAmJiB0LmlkID09PSBhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRJZCk7XG4gICAgXG4gICAgY29uc3QgY3VycmVudEFnZUluZGV4ID0gYWdlUHJvZ3Jlc3Npb25MaXN0LmZpbmRJbmRleChhID0+IGEubmFtZSA9PT0gY3VycmVudEFnZSk7XG4gICAgY29uc3QgYXZhaWxhYmxlQnVpbGRpbmdzID0gYnVpbGRpbmdMaXN0LmZpbHRlcihiID0+IHtcbiAgICAgICAgY29uc3QgdW5sb2NrQWdlSW5kZXggPSBhZ2VQcm9ncmVzc2lvbkxpc3QuZmluZEluZGV4KGEgPT4gYS5uYW1lID09PSBiLnVubG9ja2VkSW5BZ2UpO1xuICAgICAgICByZXR1cm4gYi5pc0FjdGl2ZSAmJiB1bmxvY2tBZ2VJbmRleCAhPT0gLTEgJiYgdW5sb2NrQWdlSW5kZXggPD0gY3VycmVudEFnZUluZGV4O1xuICAgIH0pO1xuXG4gICAgY29uc3QgYWN0aXZlVW5pdHMgPSB1bml0TGlzdC5maWx0ZXIodSA9PiB1LmlzQWN0aXZlKTtcblxuICAgIGNvbnN0IGNsb3NlQWxsUGFuZWxzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBzZXRVbml0TWFuYWdlbWVudFBhbmVsKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgICAgICBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbChwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBpbnN0YW5jZUlkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICAgICAgc2V0QnVpbGRQYW5lbFN0YXRlKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIHZpbGxhZ2VySWQ6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgICAgICBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZShwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgICAgIHNldENpdlBhbmVsU3RhdGUocCA9PiBwLmlzT3BlbiA/IHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgICAgIHNldEFsbEJ1aWxkaW5nc1BhbmVsKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgICAgICBzZXRJbnZlbnRvcnlQYW5lbFN0YXRlKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IGhhbmRsZU9wZW5CdWlsZGluZ1BhbmVsID0gdXNlQ2FsbGJhY2soKHR5cGU6IEJ1aWxkaW5nVHlwZSB8IHN0cmluZywgaW5zdGFuY2VJZDogc3RyaW5nLCByZWN0OiBET01SZWN0KSA9PiB7XG4gICAgICAgIGNsb3NlQWxsUGFuZWxzKCk7XG4gICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiB0cnVlLCB0eXBlLCBpbnN0YW5jZUlkLCBhbmNob3JSZWN0OiByZWN0IH0pO1xuICAgIH0sIFtjbG9zZUFsbFBhbmVsc10pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgaGFuZGxlQ2xpY2tPdXRzaWRlID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgRWxlbWVudDtcbiAgICAgICAgICAgIGlmICghdGFyZ2V0LmNsb3Nlc3QoJy5zY2ktZmktcGFuZWwtcG9wdXAnKSkgY2xvc2VBbGxQYW5lbHMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgfSwgW2Nsb3NlQWxsUGFuZWxzXSk7XG5cbiAgICBjb25zdCByZW5kZXJDb250ZW50ID0gKCkgPT4ge1xuICAgICAgICBpZiAoaXNBcHBMb2FkaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gPExvYWRpbmdTY3JlZW4gLz47XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKGdhbWVTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lU3RhdHVzLk1FTlU6IHJldHVybiA8U3RhcnRTY3JlZW4gb25OZXdHYW1lPXtoYW5kbGVTdGFydE5ld0dhbWV9IG9uUmVzdW1lR2FtZT17aGFuZGxlUmVzdW1lR2FtZX0gc2F2ZWRHYW1lcz17YWxsU2F2ZXN9IG9uRGVsZXRlR2FtZT17aGFuZGxlRGVsZXRlR2FtZX0gLz47XG4gICAgICAgICAgICBjYXNlIEdhbWVTdGF0dXMuTE9BRElORzogcmV0dXJuIDxMb2FkaW5nU2NyZWVuIC8+O1xuICAgICAgICAgICAgY2FzZSBHYW1lU3RhdHVzLlBMQVlJTkc6XG4gICAgICAgICAgICAgICAgaWYgKCFjaXZpbGl6YXRpb24pIHJldHVybiA8TG9hZGluZ1NjcmVlbiAvPjtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEdhbWVVSVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpdmlsaXphdGlvbj17Y2l2aWxpemF0aW9ufSByZXNvdXJjZXM9e3Jlc291cmNlc30gdW5pdHM9e3VuaXRzfSBidWlsZGluZ3M9e2J1aWxkaW5nc30gcG9wdWxhdGlvbj17cG9wdWxhdGlvbn0gY3VycmVudEFnZT17Y3VycmVudEFnZX0gZ2FtZUxvZz17Z2FtZUxvZ30gcmVzb3VyY2VEZWx0YXM9e3Jlc291cmNlRGVsdGFzfSBhY3Rpdml0eVN0YXR1cz17YWN0aXZpdHlTdGF0dXN9IHVuaXRMaXN0PXthY3RpdmVVbml0c30gYnVpbGRpbmdMaXN0PXtidWlsZGluZ0xpc3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuVW5pdFBhbmVsPXsodHlwZSwgcmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRVbml0TWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiB0cnVlLCB0eXBlLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkJ1aWxkaW5nUGFuZWw9e2hhbmRsZU9wZW5CdWlsZGluZ1BhbmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkFsbEJ1aWxkaW5nc1BhbmVsPXsocmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRBbGxCdWlsZGluZ3NQYW5lbCh7IGlzT3BlbjogdHJ1ZSwgYW5jaG9yUmVjdDogcmVjdCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJBY3Rpb249e3BsYXllckFjdGlvbn0gb25Db25maXJtUGxhY2VtZW50PXtoYW5kbGVDb25maXJtUGxhY2VtZW50fSBvbkNhbmNlbFBsYXllckFjdGlvbj17aGFuZGxlQ2FuY2VsUGxheWVyQWN0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQnVpbGRpbmdDbGljaz17KGJ1aWxkaW5nLCByZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IGNvbnN0IHR5cGUgPSBPYmplY3Qua2V5cyhidWlsZGluZ3MpLmZpbmQoa2V5ID0+IGJ1aWxkaW5nc1trZXkgYXMgc3RyaW5nXT8uc29tZShiID0+IGIuaWQgPT09IGJ1aWxkaW5nLmlkKSk7IGlmKHR5cGUpIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiB0cnVlLCB0eXBlLCBpbnN0YW5jZUlkOiBidWlsZGluZy5pZCwgYW5jaG9yUmVjdDogcmVjdCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBEaW1lbnNpb25zPXtNQVBfRElNRU5TSU9OU30gYWN0aXZlVGFza3M9e2FjdGl2ZVRhc2tzfSBvbkV4aXRHYW1lPXtoYW5kbGVFeGl0R2FtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5DaXZQYW5lbD17KHJlY3QpID0+IHsgY2xvc2VBbGxQYW5lbHMoKTsgc2V0Q2l2UGFuZWxTdGF0ZSh7IGlzT3BlbjogdHJ1ZSwgYW5jaG9yUmVjdDogcmVjdCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZU5vZGVzPXtyZXNvdXJjZU5vZGVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkFzc2lnbm1lbnRQYW5lbD17KG5vZGVJZCwgcmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZSh7IGlzT3BlbjogdHJ1ZSwgdGFyZ2V0SWQ6IG5vZGVJZCwgdGFyZ2V0VHlwZTogJ3Jlc291cmNlJywgYW5jaG9yUmVjdDogcmVjdCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5Db25zdHJ1Y3Rpb25QYW5lbD17KGNvbnN0cnVjdGlvbklkLCByZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiB0cnVlLCB0YXJnZXRJZDogY29uc3RydWN0aW9uSWQsIHRhcmdldFR5cGU6ICdjb25zdHJ1Y3Rpb24nLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhdGhlckluZm89e0dBVEhFUl9JTkZPfSBjdXJyZW50RXZlbnQ9e2N1cnJlbnRFdmVudH0gb25FdmVudENob2ljZT17aGFuZGxlRXZlbnRDaG9pY2V9IGludmVudG9yeT17aW52ZW50b3J5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkludmVudG9yeVBhbmVsPXsocmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRJbnZlbnRvcnlQYW5lbFN0YXRlKHsgaXNPcGVuOiB0cnVlLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdWlsZFBhbmVsIGlzT3Blbj17YnVpbGRQYW5lbFN0YXRlLmlzT3Blbn0gb25DbG9zZT17KCkgPT4gc2V0QnVpbGRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdmlsbGFnZXJJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KX0gb25TdGFydFBsYWNlbWVudD17aGFuZGxlU3RhcnRQbGFjZW1lbnR9IHJlc291cmNlcz17cmVzb3VyY2VzfSBidWlsZGluZ0NvdW50cz17YnVpbGRpbmdDb3VudHN9IGJ1aWxkaW5nTGlzdD17YXZhaWxhYmxlQnVpbGRpbmdzfSBhbmNob3JSZWN0PXtidWlsZFBhbmVsU3RhdGUuYW5jaG9yUmVjdH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxVbml0TWFuYWdlbWVudFBhbmVsIGlzT3Blbj17dW5pdE1hbmFnZW1lbnRQYW5lbC5pc09wZW59IG9uQ2xvc2U9eygpID0+IHNldFVuaXRNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pfSB0eXBlPXt1bml0TWFuYWdlbWVudFBhbmVsLnR5cGV9IHVuaXRzPXt1bml0c30gb25VcGRhdGVVbml0PXtoYW5kbGVVcGRhdGVVbml0fSBvbkRpc21pc3NVbml0PXtoYW5kbGVEaXNtaXNzU3BlY2lmaWNVbml0fSBvbkluaXRpYXRlQnVpbGQ9eyh2aWxsYWdlcklkLCByZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IGhhbmRsZUluaXRpYXRlQnVpbGQodmlsbGFnZXJJZCwgcmVjdCk7IH19IGdldFZpbGxhZ2VyVGFza0RldGFpbHM9e2dldFZpbGxhZ2VyVGFza0RldGFpbHN9IGFuY2hvclJlY3Q9e3VuaXRNYW5hZ2VtZW50UGFuZWwuYW5jaG9yUmVjdH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCBpc09wZW49e2J1aWxkaW5nTWFuYWdlbWVudFBhbmVsLmlzT3Blbn0gb25DbG9zZT17KCkgPT4gc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pfSBwYW5lbFN0YXRlPXtidWlsZGluZ01hbmFnZW1lbnRQYW5lbH0gYnVpbGRpbmdzPXtidWlsZGluZ3N9IGJ1aWxkaW5nTGlzdD17YnVpbGRpbmdMaXN0fSBvblVwZGF0ZUJ1aWxkaW5nPXtoYW5kbGVVcGRhdGVCdWlsZGluZ30gb25EZW1vbGlzaEJ1aWxkaW5nPXtoYW5kbGVEZW1vbGlzaEJ1aWxkaW5nfSBvblRyYWluVW5pdHM9e2hhbmRsZVRyYWluVW5pdHN9IG9uVHJhaW5WaWxsYWdlcnM9e2hhbmRsZVRyYWluVmlsbGFnZXJzfSByZXNvdXJjZXM9e3Jlc291cmNlc30gcG9wdWxhdGlvbj17cG9wdWxhdGlvbn0gdW5pdExpc3Q9e2FjdGl2ZVVuaXRzfSBvbkFkdmFuY2VBZ2U9e2hhbmRsZUFkdmFuY2VBZ2V9IGFjdGl2ZVRhc2tzPXthY3RpdmVUYXNrc30gYW5jaG9yUmVjdD17YnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwuYW5jaG9yUmVjdH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxSZXNvdXJjZUFzc2lnbm1lbnRQYW5lbCBpc09wZW49e2Fzc2lnbm1lbnRQYW5lbFN0YXRlLmlzT3Blbn0gb25DbG9zZT17KCkgPT4gc2V0QXNzaWdubWVudFBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KX0gYXNzaWdubWVudFRhcmdldD17YXNzaWdubWVudFRhcmdldCB8fCBudWxsfSBpZGxlVmlsbGFnZXJDb3VudD17aWRsZVZpbGxhZ2VyQ291bnR9IG9uQXNzaWduVmlsbGFnZXJzPXtoYW5kbGVBc3NpZ25WaWxsYWdlcnN9IG9uUmVjYWxsVmlsbGFnZXJzPXtoYW5kbGVSZWNhbGxWaWxsYWdlcnN9IGdhdGhlckluZm89e0dBVEhFUl9JTkZPfSBidWlsZGluZ0xpc3Q9e2J1aWxkaW5nTGlzdH0gdW5pdHM9e3VuaXRzfSBhbmNob3JSZWN0PXthc3NpZ25tZW50UGFuZWxTdGF0ZS5hbmNob3JSZWN0fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPENpdmlsaXphdGlvblBhbmVsIGlzT3Blbj17Y2l2UGFuZWxTdGF0ZS5pc09wZW59IG9uQ2xvc2U9eygpID0+IHNldENpdlBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0pfSBjaXZpbGl6YXRpb249e2NpdmlsaXphdGlvbn0gYW5jaG9yUmVjdD17Y2l2UGFuZWxTdGF0ZS5hbmNob3JSZWN0fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEFsbEJ1aWxkaW5nc1BhbmVsIGlzT3Blbj17YWxsQnVpbGRpbmdzUGFuZWwuaXNPcGVufSBvbkNsb3NlPXsoKSA9PiBzZXRBbGxCdWlsZGluZ3NQYW5lbCh7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSl9IGJ1aWxkaW5nTGlzdD17YnVpbGRpbmdMaXN0fSBidWlsZGluZ0NvdW50cz17YnVpbGRpbmdDb3VudHN9IGFjdGl2ZVRhc2tzPXthY3RpdmVUYXNrc30gb25PcGVuQnVpbGRpbmdQYW5lbD17aGFuZGxlT3BlbkJ1aWxkaW5nUGFuZWx9IGFuY2hvclJlY3Q9e2FsbEJ1aWxkaW5nc1BhbmVsLmFuY2hvclJlY3R9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8SW52ZW50b3J5UGFuZWwgaXNPcGVuPXtpbnZlbnRvcnlQYW5lbFN0YXRlLmlzT3Blbn0gb25DbG9zZT17KCkgPT4gc2V0SW52ZW50b3J5UGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSl9IGludmVudG9yeT17aW52ZW50b3J5fSBvblVzZUl0ZW09e2hhbmRsZVVzZUl0ZW19IGFjdGl2ZVRhc2tzPXthY3RpdmVUYXNrc30gYWN0aXZlQnVmZnM9e2FjdGl2ZUJ1ZmZzfSBhbmNob3JSZWN0PXtpbnZlbnRvcnlQYW5lbFN0YXRlLmFuY2hvclJlY3R9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gPFN0YXJ0U2NyZWVuIG9uTmV3R2FtZT17aGFuZGxlU3RhcnROZXdHYW1lfSBvblJlc3VtZUdhbWU9e2hhbmRsZVJlc3VtZUdhbWV9IHNhdmVkR2FtZXM9e2FsbFNhdmVzfSBvbkRlbGV0ZUdhbWU9e2hhbmRsZURlbGV0ZUdhbWV9IC8+O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLXN0b25lLWRhcmsgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC00XCI+XG4gICAgICAgICAgICB7Z2FtZVN0YXRlID09PSBHYW1lU3RhdHVzLlBMQVlJTkcgJiYgKFxuICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZVVubGltaXRlZFJlc291cmNlc30gY2xhc3NOYW1lPVwiZml4ZWQgYm90dG9tLTQgbGVmdC00IHotWzEwMV0gYmctYnJhbmQtZ29sZCB0ZXh0LXN0b25lLWRhcmsgZm9udC1ib2xkIHB5LTEgcHgtMyByb3VuZGVkLWZ1bGwgdGV4dC14cyBzaGFkb3ctbGcgaG92ZXI6c2NhbGUtMTA1IHRyYW5zaXRpb24tdHJhbnNmb3JtXCIgYXJpYS1sYWJlbD1cIlRvZ2dsZSB1bmxpbWl0ZWQgcmVzb3VyY2VzIHRlc3QgbW9kZVwiPlRlc3QgTW9kZToge3VubGltaXRlZFJlc291cmNlcyA/ICdPTicgOiAnT0ZGJ308L2J1dHRvbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8Tm90aWZpY2F0aW9uTWFuYWdlciBub3RpZmljYXRpb25zPXtub3RpZmljYXRpb25zfSBvblJlbW92ZU5vdGlmaWNhdGlvbj17cmVtb3ZlTm90aWZpY2F0aW9ufSAvPlxuICAgICAgICAgICAgPG1haW4gY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LTd4bCBteC1hdXRvXCI+XG4gICAgICAgICAgICAgICAge3JlbmRlckNvbnRlbnQoKX1cbiAgICAgICAgICAgIDwvbWFpbj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdhbWVQYWdlO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZVJlZiIsIkdhbWVTdGF0dXMiLCJnZXRQcmVkZWZpbmVkQ2l2aWxpemF0aW9uIiwiZ2V0UHJlZGVmaW5lZEdhbWVFdmVudCIsInNhdmVHYW1lU3RhdGUiLCJsb2FkR2FtZVN0YXRlIiwiZ2V0QWxsU2F2ZU5hbWVzIiwiZGVsZXRlR2FtZVN0YXRlIiwiZ2V0QWxsQWdlQ29uZmlncyIsImdldEFsbEJ1aWxkaW5nQ29uZmlncyIsImdldEFsbFVuaXRDb25maWdzIiwic2F2ZUFnZUNvbmZpZyIsInNhdmVCdWlsZGluZ0NvbmZpZyIsInNhdmVVbml0Q29uZmlnIiwiZ2V0UmFuZG9tTmFtZXMiLCJHQU1FX0lURU1TIiwiSU5JVElBTF9BR0VTIiwiSU5JVElBTF9CVUlMRElOR1MiLCJJTklUSUFMX1VOSVRTIiwiR2FtZVVJIiwiU3RhcnRTY3JlZW4iLCJMb2FkaW5nU2NyZWVuIiwiQnVpbGRQYW5lbCIsIk5vdGlmaWNhdGlvbk1hbmFnZXIiLCJVbml0TWFuYWdlbWVudFBhbmVsIiwiQnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwiLCJSZXNvdXJjZUFzc2lnbm1lbnRQYW5lbCIsIkNpdmlsaXphdGlvblBhbmVsIiwiQWxsQnVpbGRpbmdzUGFuZWwiLCJJbnZlbnRvcnlQYW5lbCIsIkdBVEhFUl9JTkZPIiwiZm9vZCIsInJhdGUiLCJ3b29kIiwiZ29sZCIsInN0b25lIiwiaW5pdGlhbEJ1aWxkaW5nc1N0YXRlIiwiaG91c2VzIiwiYmFycmFja3MiLCJhcmNoZXJ5UmFuZ2UiLCJzdGFibGUiLCJzaWVnZVdvcmtzaG9wIiwiYmxhY2tzbWl0aCIsIndhdGNoVG93ZXIiLCJ0b3duQ2VudGVyIiwiTUFQX0RJTUVOU0lPTlMiLCJ3aWR0aCIsImhlaWdodCIsIkdhbWVQYWdlIiwiYnVpbGRpbmdzIiwiZ2FtZVN0YXRlIiwic2V0R2FtZVN0YXRlIiwiTE9BRElORyIsImNpdmlsaXphdGlvbiIsInNldENpdmlsaXphdGlvbiIsInJlc291cmNlcyIsInNldFJlc291cmNlcyIsInVuaXRzIiwic2V0VW5pdHMiLCJ2aWxsYWdlcnMiLCJtaWxpdGFyeSIsInNldEJ1aWxkaW5ncyIsImN1cnJlbnRBZ2UiLCJzZXRDdXJyZW50QWdlIiwiZ2FtZUxvZyIsInNldEdhbWVMb2ciLCJjdXJyZW50RXZlbnQiLCJzZXRDdXJyZW50RXZlbnQiLCJyZXNvdXJjZURlbHRhcyIsInNldFJlc291cmNlRGVsdGFzIiwiYWN0aXZpdHlTdGF0dXMiLCJzZXRBY3Rpdml0eVN0YXR1cyIsIm5vdGlmaWNhdGlvbnMiLCJzZXROb3RpZmljYXRpb25zIiwidW5saW1pdGVkUmVzb3VyY2VzIiwic2V0VW5saW1pdGVkUmVzb3VyY2VzIiwiYWxsU2F2ZXMiLCJzZXRBbGxTYXZlcyIsImN1cnJlbnRTYXZlTmFtZSIsInNldEN1cnJlbnRTYXZlTmFtZSIsInBsYXllckFjdGlvbiIsInNldFBsYXllckFjdGlvbiIsImFjdGl2ZVRhc2tzIiwic2V0QWN0aXZlVGFza3MiLCJyZXNvdXJjZU5vZGVzIiwic2V0UmVzb3VyY2VOb2RlcyIsImludmVudG9yeSIsInNldEludmVudG9yeSIsImFjdGl2ZUJ1ZmZzIiwic2V0QWN0aXZlQnVmZnMiLCJyZXNvdXJjZUJvb3N0IiwibWFzdGVyQWdlTGlzdCIsInNldE1hc3RlckFnZUxpc3QiLCJtYXN0ZXJCdWlsZGluZ0xpc3QiLCJzZXRNYXN0ZXJCdWlsZGluZ0xpc3QiLCJtYXN0ZXJVbml0TGlzdCIsInNldE1hc3RlclVuaXRMaXN0IiwiaXNBcHBMb2FkaW5nIiwic2V0SXNBcHBMb2FkaW5nIiwiYnVpbGRQYW5lbFN0YXRlIiwic2V0QnVpbGRQYW5lbFN0YXRlIiwiaXNPcGVuIiwidmlsbGFnZXJJZCIsImFuY2hvclJlY3QiLCJ1bml0TWFuYWdlbWVudFBhbmVsIiwic2V0VW5pdE1hbmFnZW1lbnRQYW5lbCIsInR5cGUiLCJidWlsZGluZ01hbmFnZW1lbnRQYW5lbCIsInNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsIiwiaW5zdGFuY2VJZCIsImFsbEJ1aWxkaW5nc1BhbmVsIiwic2V0QWxsQnVpbGRpbmdzUGFuZWwiLCJhc3NpZ25tZW50UGFuZWxTdGF0ZSIsInNldEFzc2lnbm1lbnRQYW5lbFN0YXRlIiwidGFyZ2V0SWQiLCJ0YXJnZXRUeXBlIiwiY2l2UGFuZWxTdGF0ZSIsInNldENpdlBhbmVsU3RhdGUiLCJpbnZlbnRvcnlQYW5lbFN0YXRlIiwic2V0SW52ZW50b3J5UGFuZWxTdGF0ZSIsImRlbHRhVGltZW91dFJlZiIsImV2ZW50VGltZXJSZWYiLCJsYXN0VGlja1JlZiIsIkRhdGUiLCJub3ciLCJhbmltYXRpb25GcmFtZVJlZiIsImFnZVByb2dyZXNzaW9uTGlzdCIsImZpbHRlciIsImFnZSIsImlzQWN0aXZlIiwiYnVpbGRpbmdMaXN0IiwidW5pdExpc3QiLCJwb3B1bGF0aW9uIiwiY3VycmVudCIsImxlbmd0aCIsImNhcGFjaXR5IiwiZmV0Y2hTYXZlc0FuZENvbmZpZ3MiLCJuYW1lcyIsImFsbEFnZUNvbmZpZ3MiLCJpbmRleCIsInBhIiwiZW50cmllcyIsIm5ld1ByZWRlZmluZWRBZ2UiLCJpZCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsImlzUHJlZGVmaW5lZCIsIm9yZGVyIiwicHVzaCIsImFsbEJ1aWxkaW5nQ29uZmlncyIsImRlZmF1bHRBZ2UiLCJmaW5kIiwiYSIsInBiIiwibmV3UHJlZGVmaW5lZEJ1aWxkaW5nIiwiYnVpbGRMaW1pdCIsImlzVW5pcXVlIiwidW5sb2NrZWRJbkFnZSIsImljb25JZCIsImNhblRyYWluVW5pdHMiLCJ1cGdyYWRlc1RvIiwiYWxsVW5pdENvbmZpZ3MiLCJwdSIsIm5ld1ByZWRlZmluZWRVbml0IiwiZXJyb3IiLCJjb25zb2xlIiwibWFwIiwiaSIsImIiLCJ1IiwiTUVOVSIsIlBMQVlJTkciLCJmdWxsU3RhdGUiLCJhZGROb3RpZmljYXRpb24iLCJtZXNzYWdlIiwiTWF0aCIsInJhbmRvbSIsInByZXYiLCJyZW1vdmVOb3RpZmljYXRpb24iLCJuIiwiYWRkVG9Mb2ciLCJpY29uIiwic2xpY2UiLCJ1cGRhdGVSZXNvdXJjZXMiLCJkZWx0YXMiLCJuZXdSZXNvdXJjZXMiLCJrZXkiLCJyZXNvdXJjZUtleSIsIm1heCIsIndpbmRvdyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJuZXdEZWx0YXMiLCJoYW5kbGVUYXNrQ29tcGxldGlvbiIsInRhc2siLCJwYXlsb2FkIiwidmlsbGFnZXJJZHMiLCJ2IiwiaW5jbHVkZXMiLCJjdXJyZW50VGFzayIsImJ1aWxkaW5nVHlwZSIsInBvc2l0aW9uIiwiYnVpbGRpbmdJbmZvIiwibmV3QnVpbGRpbmciLCJjdXJyZW50SHAiLCJocCIsInAiLCJjdXJyZW50QnVpbGRpbmdzIiwiY291bnQiLCJuZXdWaWxsYWdlck5hbWVzIiwibmV3VmlsbGFnZXJzIiwidW5pdFR5cGUiLCJ1bml0SW5mbyIsIm5ld1VuaXROYW1lcyIsIm5ld1VuaXRzIiwidGl0bGUiLCJhY3RpdmVBZ2VzIiwiY3VycmVudEluZGV4IiwiZmluZEluZGV4IiwiYWdlUmVzdWx0IiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJnYW1lTG9vcCIsImRlbHRhVGltZSIsImNvbXBsZXRlZFRhc2tzIiwicmVzb3VyY2VEZWx0YXNUaGlzVGljayIsIm5ld1Jlc291cmNlQm9vc3RzIiwiZW5kVGltZSIsInRhc2tzSW5Qcm9ncmVzcyIsInN0YXJ0VGltZSIsImR1cmF0aW9uIiwibm9kZSIsInJlc291cmNlTm9kZUlkIiwidmlsbGFnZXJDb3VudCIsImJhc2VSYXRlUGVyU2Vjb25kIiwiY2l2Qm9udXNNdWx0aXBsaWVyIiwiYm9udXMiLCJ0b0xvd2VyQ2FzZSIsIm1hdGNoIiwicGFyc2VJbnQiLCJpdGVtQm9vc3RNdWx0aXBsaWVyIiwicmVzb3VyY2UiLCJtdWx0aXBsaWVyIiwiZmluYWxSYXRlUGVyU2Vjb25kIiwiQm9vbGVhbiIsIk9iamVjdCIsImtleXMiLCJwcmV2Tm9kZXMiLCJhbW91bnRUb0RlY3JlbWVudCIsIm5ld0Ftb3VudCIsImFtb3VudCIsInRhc2tJZCIsInQiLCJmbG9vciIsImZpbmFsQWN0aXZlVGFza3MiLCJzb21lIiwiY3QiLCJmb3JFYWNoIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiaGFuZGxlTmV3RXZlbnQiLCJldmVudCIsInNjaGVkdWxlTmV4dEV2ZW50IiwiZ2VuZXJhdGVSZXNvdXJjZU5vZGVzIiwiZXhpc3RpbmdQb3NpdGlvbnMiLCJub2RlcyIsInR5cGVzIiwibnVtTm9kZXMiLCJwb3MiLCJ4IiwieSIsImhhcyIsImFkZCIsImhhbmRsZVN0YXJ0TmV3R2FtZSIsInNhdmVOYW1lIiwibG9jYWxBZ2VQcm9ncmVzc2lvbkxpc3QiLCJjaXYiLCJpbml0aWFsVmlsbGFnZXJzIiwidGNQb3NpdGlvbiIsInRjSW5mbyIsImluaXRpYWxUQyIsIlNldCIsImlzVmlsbGFnZXJCdXN5IiwiZ2V0VmlsbGFnZXJUYXNrRGV0YWlscyIsInZpbGxhZ2VyIiwiaGFuZGxlUmVzdW1lR2FtZSIsInNhdmVkU3RhdGUiLCJtaWdyYXRlZFZpbGxhZ2VycyIsInVuZGVmaW5lZCIsIm1pZ3JhdGVkVGFza3MiLCJ2aWQiLCJjb25zdHJ1Y3Rpb25UYXNrcyIsIm9jY3VwaWVkQ2VsbHMiLCJ2YWx1ZXMiLCJmbGF0IiwiZmluYWxCdWlsZGluZ3MiLCJiVHlwZSIsImluZm8iLCJ0Y1BvcyIsImhhbmRsZUV2ZW50Q2hvaWNlIiwiY2hvaWNlIiwiY29zdCIsIm1pc3NpbmciLCJyZXMiLCJqb2luIiwicmVkdWNlIiwiYWNjIiwiayIsImlzU3VjY2VzcyIsInN1Y2Nlc3NDaGFuY2UiLCJlZmZlY3RzIiwic3VjY2Vzc0VmZmVjdHMiLCJmYWlsdXJlRWZmZWN0cyIsImxvZ01lc3NhZ2UiLCJ0ZXh0IiwibG9nIiwicmV3YXJkcyIsInJld2FyZCIsIkFycmF5IiwiaXNBcnJheSIsImFicyIsIml0ZW1JbmZvIiwiaXRlbUlkIiwibmV3SXRlbXMiLCJmcm9tIiwiXyIsImJ1aWxkaW5nSWQiLCJwbGFjZWQiLCJoYW5kbGVJbml0aWF0ZUJ1aWxkIiwicmVjdCIsImhhbmRsZVN0YXJ0UGxhY2VtZW50IiwiZXhpc3RpbmdDb3VudCIsImNvbnN0cnVjdGluZ0NvdW50IiwidG90YWxDb3VudCIsImxpbWl0IiwibW9kZSIsImhhbmRsZUNvbmZpcm1QbGFjZW1lbnQiLCJidWlsZGVyIiwiYnVpbGRUaW1lIiwiYnVpbGRUaW1lUmVkdWN0aW9uIiwicGVyY2VudGFnZSIsInVzZXMiLCJ0YXNrUGF5bG9hZCIsImhhbmRsZUNhbmNlbFBsYXllckFjdGlvbiIsImhhbmRsZURlbW9saXNoQnVpbGRpbmciLCJidWlsZGluZ0luc3RhbmNlIiwicmVmdW5kIiwiciIsImhhbmRsZVVwZGF0ZUJ1aWxkaW5nIiwiaGFuZGxlVHJhaW5WaWxsYWdlcnMiLCJ0b3RhbENvc3QiLCJoYW5kbGVUcmFpblVuaXRzIiwidHJhaW5pbmdCdWlsZGluZyIsInJlcXVpcmVkQnVpbGRpbmciLCJ0cmFpblRpbWUiLCJwZXJtYW5lbnRUcmFpblRpbWVSZWR1Y3Rpb24iLCJ0cmFpblRpbWVSZWR1Y3Rpb24iLCJhcHBsaWNhYmxlIiwibWluIiwiaGFuZGxlRGlzbWlzc1NwZWNpZmljVW5pdCIsInVuaXQiLCJ1bml0VHlwZU5hbWUiLCJoYW5kbGVVcGRhdGVVbml0IiwiaGFuZGxlQXNzaWduVmlsbGFnZXJzVG9Db25zdHJ1Y3Rpb24iLCJjb25zdHJ1Y3Rpb25JZCIsImlkbGVWaWxsYWdlcnMiLCJjYXBwZWRDb3VudCIsInZpbGxhZ2Vyc1RvQXNzaWduIiwid29ya0RvbmUiLCJ3b3JrUmVtYWluaW5nIiwibmV3V29ya2VyQ291bnQiLCJuZXdSZW1haW5pbmdEdXJhdGlvbiIsImhhbmRsZUFzc2lnblZpbGxhZ2VycyIsInRhcmdldE5vZGUiLCJleGlzdGluZ1Rhc2siLCJoYW5kbGVSZWNhbGxWaWxsYWdlcnMiLCJ2aWxsYWdlcnNUb1JlY2FsbCIsInJlbWFpbmluZ1ZpbGxhZ2VycyIsImhhbmRsZUFkdmFuY2VBZ2UiLCJoYW5kbGVFeGl0R2FtZSIsImhhbmRsZURlbGV0ZUdhbWUiLCJoYW5kbGVUb2dnbGVVbmxpbWl0ZWRSZXNvdXJjZXMiLCJuZXdNb2RlIiwiZGVwbGV0ZWROb2RlSWRzIiwic2l6ZSIsImhhbmRsZVVzZUl0ZW0iLCJpdGVtIiwiYmFzZUl0ZW1JZCIsInNwbGl0Iiwic29ydCIsInRhc2tzIiwiYnVpbGRpbmdDb3VudHMiLCJpZGxlVmlsbGFnZXJDb3VudCIsImFzc2lnbm1lbnRUYXJnZXQiLCJjdXJyZW50QWdlSW5kZXgiLCJhdmFpbGFibGVCdWlsZGluZ3MiLCJ1bmxvY2tBZ2VJbmRleCIsImFjdGl2ZVVuaXRzIiwiY2xvc2VBbGxQYW5lbHMiLCJoYW5kbGVPcGVuQnVpbGRpbmdQYW5lbCIsImhhbmRsZUNsaWNrT3V0c2lkZSIsInRhcmdldCIsImNsb3Nlc3QiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVuZGVyQ29udGVudCIsIm9uTmV3R2FtZSIsIm9uUmVzdW1lR2FtZSIsInNhdmVkR2FtZXMiLCJvbkRlbGV0ZUdhbWUiLCJvbk9wZW5Vbml0UGFuZWwiLCJvbk9wZW5CdWlsZGluZ1BhbmVsIiwib25PcGVuQWxsQnVpbGRpbmdzUGFuZWwiLCJvbkNvbmZpcm1QbGFjZW1lbnQiLCJvbkNhbmNlbFBsYXllckFjdGlvbiIsIm9uQnVpbGRpbmdDbGljayIsImJ1aWxkaW5nIiwibWFwRGltZW5zaW9ucyIsIm9uRXhpdEdhbWUiLCJvbk9wZW5DaXZQYW5lbCIsIm9uT3BlbkFzc2lnbm1lbnRQYW5lbCIsIm5vZGVJZCIsIm9uT3BlbkNvbnN0cnVjdGlvblBhbmVsIiwiZ2F0aGVySW5mbyIsIm9uRXZlbnRDaG9pY2UiLCJvbk9wZW5JbnZlbnRvcnlQYW5lbCIsIm9uQ2xvc2UiLCJvblN0YXJ0UGxhY2VtZW50Iiwib25VcGRhdGVVbml0Iiwib25EaXNtaXNzVW5pdCIsIm9uSW5pdGlhdGVCdWlsZCIsInBhbmVsU3RhdGUiLCJvblVwZGF0ZUJ1aWxkaW5nIiwib25EZW1vbGlzaEJ1aWxkaW5nIiwib25UcmFpblVuaXRzIiwib25UcmFpblZpbGxhZ2VycyIsIm9uQWR2YW5jZUFnZSIsIm9uQXNzaWduVmlsbGFnZXJzIiwib25SZWNhbGxWaWxsYWdlcnMiLCJvblVzZUl0ZW0iLCJkaXYiLCJjbGFzc05hbWUiLCJidXR0b24iLCJvbkNsaWNrIiwiYXJpYS1sYWJlbCIsIm9uUmVtb3ZlTm90aWZpY2F0aW9uIiwibWFpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/page.tsx\n"));

/***/ })

});