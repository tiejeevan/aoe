"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/AllBuildingsPanel.tsx":
/*!******************************************!*\
  !*** ./components/AllBuildingsPanel.tsx ***!
  \******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _GameUI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GameUI */ \"(app-pages-browser)/./components/GameUI.tsx\");\n\nvar _s = $RefreshSig$();\n\n\n// StatBox component copied from GameUI for reuse in this panel.\nconst StatBox = (param)=>{\n    let { icon, label, value, colorClass, onActionClick } = param;\n    const Component = onActionClick ? \"button\" : \"div\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n        onClick: onActionClick,\n        className: \"relative flex items-center space-x-3 w-full p-2 rounded-lg border border-stone-light/50 transition-colors duration-200\\n            bg-stone-dark/50 \".concat(colorClass, \"\\n            \").concat(onActionClick ? \"hover:bg-stone-light/10 cursor-pointer\" : \"\", \"\\n            overflow-hidden text-left\"),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-8 h-8\",\n                children: icon\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                lineNumber: 24,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"font-bold text-lg leading-tight\",\n                        children: value\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                        lineNumber: 26,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-xs text-parchment-dark leading-tight\",\n                        children: label\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                        lineNumber: 27,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                lineNumber: 25,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n        lineNumber: 17,\n        columnNumber: 9\n    }, undefined);\n};\n_c = StatBox;\nconst AllBuildingsPanel = (param)=>{\n    let { isOpen, onClose, buildingList, buildingCounts, constructingBuildings, onOpenBuildingPanel, anchorRect } = param;\n    _s();\n    const [isClosing, setIsClosing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentData, setCurrentData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        anchorRect\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen || isClosing) {\n            setCurrentData({\n                anchorRect\n            });\n        }\n    }, [\n        anchorRect,\n        isOpen,\n        isClosing\n    ]);\n    const handleClose = ()=>{\n        setIsClosing(true);\n        setTimeout(()=>{\n            onClose();\n            setIsClosing(false);\n        }, 300);\n    };\n    if (!isOpen && !isClosing) return null;\n    const { anchorRect: currentAnchor } = currentData;\n    if (!currentAnchor) return null;\n    const panelWidth = 288; // from w-72\n    const panelGap = 8;\n    const panelStyle = {\n        transformOrigin: \"bottom center\",\n        maxHeight: \"\".concat(currentAnchor.top - 24, \"px\")\n    };\n    panelStyle.bottom = \"\".concat(window.innerHeight - currentAnchor.top + panelGap, \"px\");\n    let leftPos = currentAnchor.left + currentAnchor.width / 2 - panelWidth / 2;\n    if (leftPos + panelWidth > window.innerWidth - panelGap) {\n        leftPos = window.innerWidth - panelWidth - panelGap;\n    }\n    if (leftPos < panelGap) {\n        leftPos = panelGap;\n    }\n    panelStyle.left = \"\".concat(leftPos, \"px\");\n    const totalBuildings = Object.values(buildingCounts).reduce((a, b)=>a + b, 0);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: panelStyle,\n        className: \"fixed z-40 w-72 transform transition-all duration-300 ease-in-out \".concat(isOpen && !isClosing ? \"opacity-100 scale-100\" : \"opacity-0 scale-95\"),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"sci-fi-panel-popup sci-fi-grid p-4 h-full flex flex-col\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center mb-4 flex-shrink-0\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-serif\",\n                            children: [\n                                \"Structures (\",\n                                totalBuildings,\n                                \")\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                            lineNumber: 95,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleClose,\n                            className: \"text-3xl font-bold sci-fi-close-button\",\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                            lineNumber: 96,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                    lineNumber: 94,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-2 flex-grow overflow-y-auto pr-2\",\n                    children: totalBuildings > 0 || constructingBuildings.length > 0 ? Object.entries(buildingCounts).sort((param, param1)=>{\n                        let [typeA] = param, [typeB] = param1;\n                        const order = [\n                            \"townCenter\",\n                            \"houses\"\n                        ];\n                        const indexA = order.indexOf(typeA);\n                        const indexB = order.indexOf(typeB);\n                        if (indexA !== -1 && indexB !== -1) return indexA - indexB;\n                        if (indexA !== -1) return -1;\n                        if (indexB !== -1) return 1;\n                        return typeA.localeCompare(typeB);\n                    }).map((param)=>{\n                        let [type, count] = param;\n                        if (count === 0 && constructingBuildings.every((b)=>b.type !== type)) return null;\n                        const info = buildingList.find((b)=>b.id === type);\n                        if (!info) return null;\n                        const Icon = _GameUI__WEBPACK_IMPORTED_MODULE_2__.iconMap[type];\n                        if (!Icon) return null;\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StatBox, {\n                            icon: Icon,\n                            label: info.name,\n                            value: count > 0 ? count : \"0\",\n                            colorClass: \"text-parchment-dark\",\n                            onActionClick: count > 0 ? (e)=>{\n                                onOpenBuildingPanel(type, \"\", e.currentTarget.getBoundingClientRect());\n                            } : undefined\n                        }, type, false, {\n                            fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                            lineNumber: 121,\n                            columnNumber: 37\n                        }, undefined);\n                    }) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-center text-parchment-dark py-8\",\n                        children: \"You have no buildings.\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                        lineNumber: 134,\n                        columnNumber: 25\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                    lineNumber: 99,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n            lineNumber: 93,\n            columnNumber: 14\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n        lineNumber: 89,\n        columnNumber: 9\n    }, undefined);\n};\n_s(AllBuildingsPanel, \"blhWDG9yiUBLxE17R6xsfLJ8ZIs=\");\n_c1 = AllBuildingsPanel;\n/* harmony default export */ __webpack_exports__[\"default\"] = (AllBuildingsPanel);\nvar _c, _c1;\n$RefreshReg$(_c, \"StatBox\");\n$RefreshReg$(_c1, \"AllBuildingsPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvQWxsQnVpbGRpbmdzUGFuZWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDbUQ7QUFFaEI7QUFFbkMsZ0VBQWdFO0FBQ2hFLE1BQU1JLFVBTUQ7UUFBQyxFQUFFQyxJQUFJLEVBQUVDLEtBQUssRUFBRUMsS0FBSyxFQUFFQyxVQUFVLEVBQUVDLGFBQWEsRUFBRTtJQUNuRCxNQUFNQyxZQUFZRCxnQkFBZ0IsV0FBVztJQUU3QyxxQkFDSSw4REFBQ0M7UUFDR0MsU0FBU0Y7UUFDVEcsV0FBVyx3SkFFVEgsT0FEaUJELFlBQVcsa0JBQ2tDLE9BQTlEQyxnQkFBZ0IsMkNBQTJDLElBQUc7OzBCQUdoRSw4REFBQ0k7Z0JBQUlELFdBQVU7MEJBQVdQOzs7Ozs7MEJBQzFCLDhEQUFDUTtnQkFBSUQsV0FBVTs7a0NBQ1gsOERBQUNFO3dCQUFLRixXQUFVO2tDQUFtQ0w7Ozs7OztrQ0FDbkQsOERBQUNPO3dCQUFLRixXQUFVO2tDQUE2Q047Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUk3RTtLQXhCTUY7QUFxQ04sTUFBTVcsb0JBQXNEO1FBQUMsRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUVDLFlBQVksRUFBRUMsY0FBYyxFQUFFQyxxQkFBcUIsRUFBRUMsbUJBQW1CLEVBQUVDLFVBQVUsRUFBRTs7SUFDbEssTUFBTSxDQUFDQyxXQUFXQyxhQUFhLEdBQUd2QiwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUN3QixhQUFhQyxlQUFlLEdBQUd6QiwrQ0FBUUEsQ0FBQztRQUFFcUI7SUFBVztJQUU1RHBCLGdEQUFTQSxDQUFDO1FBQ04sSUFBSWMsVUFBVU8sV0FBVztZQUNyQkcsZUFBZTtnQkFBRUo7WUFBVztRQUNoQztJQUNKLEdBQUc7UUFBQ0E7UUFBWU47UUFBUU87S0FBVTtJQUVsQyxNQUFNSSxjQUFjO1FBQ2hCSCxhQUFhO1FBQ2JJLFdBQVc7WUFDUFg7WUFDQU8sYUFBYTtRQUNqQixHQUFHO0lBQ1A7SUFFQSxJQUFJ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LFdBQVU7a0NBQXVDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTTVFO0dBaEdNRztNQUFBQTtBQWlHTiwrREFBZUEsaUJBQWlCQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvQWxsQnVpbGRpbmdzUGFuZWwudHN4P2UxYzAiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB0eXBlIHsgQnVpbGRpbmdUeXBlLCBCdWlsZGluZ0luZm8sIENvbnN0cnVjdGluZ0J1aWxkaW5nIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaWNvbk1hcCB9IGZyb20gJy4vR2FtZVVJJztcblxuLy8gU3RhdEJveCBjb21wb25lbnQgY29waWVkIGZyb20gR2FtZVVJIGZvciByZXVzZSBpbiB0aGlzIHBhbmVsLlxuY29uc3QgU3RhdEJveDogUmVhY3QuRkM8eyBcbiAgICBpY29uOiBSZWFjdC5SZWFjdE5vZGU7IFxuICAgIGxhYmVsOiBzdHJpbmc7IFxuICAgIHZhbHVlOiBzdHJpbmcgfCBudW1iZXI7IFxuICAgIGNvbG9yQ2xhc3M6IHN0cmluZztcbiAgICBvbkFjdGlvbkNsaWNrPzogKGV2ZW50OiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxFbGVtZW50PikgPT4gdm9pZDsgXG59PiA9ICh7IGljb24sIGxhYmVsLCB2YWx1ZSwgY29sb3JDbGFzcywgb25BY3Rpb25DbGljayB9KSA9PiB7XG4gICAgY29uc3QgQ29tcG9uZW50ID0gb25BY3Rpb25DbGljayA/ICdidXR0b24nIDogJ2Rpdic7XG4gICAgXG4gICAgcmV0dXJuIChcbiAgICAgICAgPENvbXBvbmVudFxuICAgICAgICAgICAgb25DbGljaz17b25BY3Rpb25DbGlja31cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHJlbGF0aXZlIGZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMyB3LWZ1bGwgcC0yIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zdG9uZS1saWdodC81MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcbiAgICAgICAgICAgIGJnLXN0b25lLWRhcmsvNTAgJHtjb2xvckNsYXNzfVxuICAgICAgICAgICAgJHtvbkFjdGlvbkNsaWNrID8gJ2hvdmVyOmJnLXN0b25lLWxpZ2h0LzEwIGN1cnNvci1wb2ludGVyJyA6ICcnfVxuICAgICAgICAgICAgb3ZlcmZsb3ctaGlkZGVuIHRleHQtbGVmdGB9XG4gICAgICAgID5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04IGgtOFwiPntpY29ufTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtbGcgbGVhZGluZy10aWdodFwiPnt2YWx1ZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXBhcmNobWVudC1kYXJrIGxlYWRpbmctdGlnaHRcIj57bGFiZWx9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvQ29tcG9uZW50PlxuICAgICk7XG59O1xuXG5pbnRlcmZhY2UgQWxsQnVpbGRpbmdzUGFuZWxQcm9wcyB7XG4gICAgaXNPcGVuOiBib29sZWFuO1xuICAgIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XG4gICAgYnVpbGRpbmdMaXN0OiBCdWlsZGluZ0luZm9bXTtcbiAgICBidWlsZGluZ0NvdW50czogUmVjb3JkPEJ1aWxkaW5nVHlwZSwgbnVtYmVyPjtcbiAgICBjb25zdHJ1Y3RpbmdCdWlsZGluZ3M6IENvbnN0cnVjdGluZ0J1aWxkaW5nW107XG4gICAgb25PcGVuQnVpbGRpbmdQYW5lbDogKHR5cGU6IEJ1aWxkaW5nVHlwZSwgaW5zdGFuY2VJZDogc3RyaW5nLCByZWN0OiBET01SZWN0KSA9PiB2b2lkO1xuICAgIGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsO1xufVxuXG5cbmNvbnN0IEFsbEJ1aWxkaW5nc1BhbmVsOiBSZWFjdC5GQzxBbGxCdWlsZGluZ3NQYW5lbFByb3BzPiA9ICh7IGlzT3Blbiwgb25DbG9zZSwgYnVpbGRpbmdMaXN0LCBidWlsZGluZ0NvdW50cywgY29uc3RydWN0aW5nQnVpbGRpbmdzLCBvbk9wZW5CdWlsZGluZ1BhbmVsLCBhbmNob3JSZWN0IH0pID0+IHtcbiAgICBjb25zdCBbaXNDbG9zaW5nLCBzZXRJc0Nsb3NpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtjdXJyZW50RGF0YSwgc2V0Q3VycmVudERhdGFdID0gdXNlU3RhdGUoeyBhbmNob3JSZWN0IH0pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGlzT3BlbiB8fCBpc0Nsb3NpbmcpIHtcbiAgICAgICAgICAgIHNldEN1cnJlbnREYXRhKHsgYW5jaG9yUmVjdCB9KTtcbiAgICAgICAgfVxuICAgIH0sIFthbmNob3JSZWN0LCBpc09wZW4sIGlzQ2xvc2luZ10pO1xuXG4gICAgY29uc3QgaGFuZGxlQ2xvc2UgPSAoKSA9PiB7XG4gICAgICAgIHNldElzQ2xvc2luZyh0cnVlKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgICAgICBzZXRJc0Nsb3NpbmcoZmFsc2UpOyBcbiAgICAgICAgfSwgMzAwKTsgXG4gICAgfTtcbiAgICBcbiAgICBpZiAoIWlzT3BlbiAmJiAhaXNDbG9zaW5nKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IHsgYW5jaG9yUmVjdDogY3VycmVudEFuY2hvciB9ID0gY3VycmVudERhdGE7XG4gICAgaWYgKCFjdXJyZW50QW5jaG9yKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IHBhbmVsV2lkdGggPSAyODg7IC8vIGZyb20gdy03MlxuICAgIGNvbnN0IHBhbmVsR2FwID0gODtcblxuICAgIGNvbnN0IHBhbmVsU3R5bGU6IFJlYWN0LkNTU1Byb3BlcnRpZXMgPSB7XG4gICAgICAgIHRyYW5zZm9ybU9yaWdpbjogJ2JvdHRvbSBjZW50ZXInLFxuICAgICAgICBtYXhIZWlnaHQ6IGAke2N1cnJlbnRBbmNob3IudG9wIC0gMjR9cHhgLFxuICAgIH07XG4gICAgXG4gICAgcGFuZWxTdHlsZS5ib3R0b20gPSBgJHt3aW5kb3cuaW5uZXJIZWlnaHQgLSBjdXJyZW50QW5jaG9yLnRvcCArIHBhbmVsR2FwfXB4YDtcblxuICAgIGxldCBsZWZ0UG9zID0gY3VycmVudEFuY2hvci5sZWZ0ICsgY3VycmVudEFuY2hvci53aWR0aCAvIDIgLSBwYW5lbFdpZHRoIC8gMjtcbiAgICBpZiAobGVmdFBvcyArIHBhbmVsV2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCAtIHBhbmVsR2FwKSB7XG4gICAgICAgIGxlZnRQb3MgPSB3aW5kb3cuaW5uZXJXaWR0aCAtIHBhbmVsV2lkdGggLSBwYW5lbEdhcDtcbiAgICB9XG4gICAgaWYgKGxlZnRQb3MgPCBwYW5lbEdhcCkge1xuICAgICAgICBsZWZ0UG9zID0gcGFuZWxHYXA7XG4gICAgfVxuICAgIHBhbmVsU3R5bGUubGVmdCA9IGAke2xlZnRQb3N9cHhgO1xuICAgIFxuICAgIGNvbnN0IHRvdGFsQnVpbGRpbmdzID0gT2JqZWN0LnZhbHVlcyhidWlsZGluZ0NvdW50cykucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17cGFuZWxTdHlsZX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YGZpeGVkIHotNDAgdy03MiB0cmFuc2Zvcm0gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGVhc2UtaW4tb3V0ICR7aXNPcGVuICYmICFpc0Nsb3NpbmcgPyAnb3BhY2l0eS0xMDAgc2NhbGUtMTAwJyA6ICdvcGFjaXR5LTAgc2NhbGUtOTUnfWB9XG4gICAgICAgID5cbiAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNjaS1maS1wYW5lbC1wb3B1cCBzY2ktZmktZ3JpZCBwLTQgaC1mdWxsIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi00IGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtc2VyaWZcIj5TdHJ1Y3R1cmVzICh7dG90YWxCdWlsZGluZ3N9KTwvaDI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlQ2xvc2V9IGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCBzY2ktZmktY2xvc2UtYnV0dG9uXCI+JnRpbWVzOzwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTIgZmxleC1ncm93IG92ZXJmbG93LXktYXV0byBwci0yXCI+XG4gICAgICAgICAgICAgICAgICAgIHsodG90YWxCdWlsZGluZ3MgPiAwIHx8IGNvbnN0cnVjdGluZ0J1aWxkaW5ncy5sZW5ndGggPiAwKSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGJ1aWxkaW5nQ291bnRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zb3J0KChbdHlwZUFdLCBbdHlwZUJdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yZGVyID0gWyd0b3duQ2VudGVyJywgJ2hvdXNlcyddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleEEgPSBvcmRlci5pbmRleE9mKHR5cGVBKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXhCID0gb3JkZXIuaW5kZXhPZih0eXBlQik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGluZGV4QSAhPT0gLTEgJiYgaW5kZXhCICE9PSAtMSkgcmV0dXJuIGluZGV4QSAtIGluZGV4QjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW5kZXhBICE9PSAtMSkgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpbmRleEIgIT09IC0xKSByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVBLmxvY2FsZUNvbXBhcmUodHlwZUIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoW3R5cGUsIGNvdW50XSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjb3VudCA9PT0gMCAmJiBjb25zdHJ1Y3RpbmdCdWlsZGluZ3MuZXZlcnkoYiA9PiBiLnR5cGUgIT09IHR5cGUpKSByZXR1cm4gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmZvID0gYnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSB0eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbmZvKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IEljb24gPSBpY29uTWFwW3R5cGUgYXMgQnVpbGRpbmdUeXBlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFJY29uKSByZXR1cm4gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN0YXRCb3ggXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXt0eXBlfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPXtJY29ufSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17aW5mby5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjb3VudCA+IDAgPyBjb3VudCA6ICcwJ30gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JDbGFzcz1cInRleHQtcGFyY2htZW50LWRhcmtcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkFjdGlvbkNsaWNrPXtjb3VudCA+IDAgPyAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5CdWlsZGluZ1BhbmVsKHR5cGUgYXMgQnVpbGRpbmdUeXBlLCAnJywgZS5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC1wYXJjaG1lbnQtZGFyayBweS04XCI+WW91IGhhdmUgbm8gYnVpbGRpbmdzLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcbmV4cG9ydCBkZWZhdWx0IEFsbEJ1aWxkaW5nc1BhbmVsO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJpY29uTWFwIiwiU3RhdEJveCIsImljb24iLCJsYWJlbCIsInZhbHVlIiwiY29sb3JDbGFzcyIsIm9uQWN0aW9uQ2xpY2siLCJDb21wb25lbnQiLCJvbkNsaWNrIiwiY2xhc3NOYW1lIiwiZGl2Iiwic3BhbiIsIkFsbEJ1aWxkaW5nc1BhbmVsIiwiaXNPcGVuIiwib25DbG9zZSIsImJ1aWxkaW5nTGlzdCIsImJ1aWxkaW5nQ291bnRzIiwiY29uc3RydWN0aW5nQnVpbGRpbmdzIiwib25PcGVuQnVpbGRpbmdQYW5lbCIsImFuY2hvclJlY3QiLCJpc0Nsb3NpbmciLCJzZXRJc0Nsb3NpbmciLCJjdXJyZW50RGF0YSIsInNldEN1cnJlbnREYXRhIiwiaGFuZGxlQ2xvc2UiLCJzZXRUaW1lb3V0IiwiY3VycmVudEFuY2hvciIsInBhbmVsV2lkdGgiLCJwYW5lbEdhcCIsInBhbmVsU3R5bGUiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJtYXhIZWlnaHQiLCJ0b3AiLCJib3R0b20iLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsImxlZnRQb3MiLCJsZWZ0Iiwid2lkdGgiLCJpbm5lcldpZHRoIiwidG90YWxCdWlsZGluZ3MiLCJPYmplY3QiLCJ2YWx1ZXMiLCJyZWR1Y2UiLCJhIiwiYiIsInN0eWxlIiwiaDIiLCJidXR0b24iLCJsZW5ndGgiLCJlbnRyaWVzIiwic29ydCIsInR5cGVBIiwidHlwZUIiLCJvcmRlciIsImluZGV4QSIsImluZGV4T2YiLCJpbmRleEIiLCJsb2NhbGVDb21wYXJlIiwibWFwIiwidHlwZSIsImNvdW50IiwiZXZlcnkiLCJpbmZvIiwiZmluZCIsImlkIiwiSWNvbiIsIm5hbWUiLCJlIiwiY3VycmVudFRhcmdldCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInVuZGVmaW5lZCIsInAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/AllBuildingsPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/BuildPanel.tsx":
/*!***********************************!*\
  !*** ./components/BuildPanel.tsx ***!
  \***********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./icons/ResourceIcons */ \"(app-pages-browser)/./components/icons/ResourceIcons.tsx\");\n\nvar _s = $RefreshSig$();\n\n\nconst buildingIcons = {\n    houses: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.HouseIcon,\n    barracks: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BarracksIcon,\n    archeryRange: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.ArcheryRangeIcon,\n    stable: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.StableIcon,\n    siegeWorkshop: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.SiegeWorkshopIcon,\n    blacksmith: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BlacksmithIcon,\n    watchTower: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.WatchTowerIcon,\n    townCenter: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.TownCenterIcon\n};\nconst CostDisplay = (param)=>{\n    let { cost, resources } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-wrap gap-x-3 gap-y-1 text-xs\",\n        children: Object.entries(cost).map((param)=>{\n            let [resource, amount] = param;\n            if (!amount) return null;\n            const hasEnough = resources[resource] >= amount;\n            const Icon = {\n                food: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.FoodIcon,\n                wood: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.WoodIcon,\n                gold: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GoldIcon,\n                stone: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.StoneIcon\n            }[resource];\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"flex items-center \".concat(hasEnough ? \"\" : \"text-brand-red\"),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-4 h-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Icon, {}, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                            lineNumber: 35,\n                            columnNumber: 50\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                        lineNumber: 35,\n                        columnNumber: 25\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"ml-1\",\n                        children: amount\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                        lineNumber: 36,\n                        columnNumber: 25\n                    }, undefined)\n                ]\n            }, resource, true, {\n                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                lineNumber: 34,\n                columnNumber: 21\n            }, undefined);\n        })\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n        lineNumber: 28,\n        columnNumber: 9\n    }, undefined);\n};\n_c = CostDisplay;\nconst BuildPanel = (param)=>{\n    let { isOpen, onClose, onStartPlacement, resources, buildingCounts, buildingList, anchorRect } = param;\n    _s();\n    const constructibleBuildings = buildingList.filter((b)=>b.id !== \"townCenter\");\n    var _constructibleBuildings_;\n    const [selectedBuilding, setSelectedBuilding] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((_constructibleBuildings_ = constructibleBuildings[0]) !== null && _constructibleBuildings_ !== void 0 ? _constructibleBuildings_ : null);\n    const [isClosing, setIsClosing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentData, setCurrentData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        anchorRect,\n        buildingList\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen && !selectedBuilding) {\n            var _constructibleBuildings_;\n            setSelectedBuilding((_constructibleBuildings_ = constructibleBuildings[0]) !== null && _constructibleBuildings_ !== void 0 ? _constructibleBuildings_ : null);\n        }\n    }, [\n        isOpen,\n        selectedBuilding,\n        constructibleBuildings\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen || isClosing) {\n            setCurrentData({\n                anchorRect,\n                buildingList\n            });\n        }\n    }, [\n        anchorRect,\n        buildingList,\n        isOpen,\n        isClosing\n    ]);\n    const handleClose = ()=>{\n        setIsClosing(true);\n        setTimeout(()=>{\n            onClose();\n            setIsClosing(false);\n        }, 300);\n    };\n    if (!isOpen && !isClosing) return null;\n    const { anchorRect: currentAnchor } = currentData;\n    if (!currentAnchor) return null;\n    const isAffordable = selectedBuilding ? Object.entries(selectedBuilding.cost).every((param)=>{\n        let [res, cost] = param;\n        return resources[res] >= (cost || 0);\n    }) : false;\n    const isBuilt = selectedBuilding ? selectedBuilding.isUnique && buildingCounts[selectedBuilding.id] > 0 : false;\n    const canBuild = isAffordable && !isBuilt;\n    const panelWidth = 500;\n    const panelHeightEstimate = 300;\n    const panelGap = 8;\n    const panelStyle = {};\n    const spaceBelow = window.innerHeight - currentAnchor.bottom;\n    const spaceAbove = currentAnchor.top;\n    if (spaceBelow < panelHeightEstimate && spaceAbove > spaceBelow) {\n        panelStyle.bottom = \"\".concat(window.innerHeight - currentAnchor.top + panelGap, \"px\");\n        panelStyle.transformOrigin = \"bottom center\";\n    } else {\n        panelStyle.top = \"\".concat(currentAnchor.bottom + panelGap, \"px\");\n        panelStyle.transformOrigin = \"top center\";\n    }\n    let leftPos = currentAnchor.left + currentAnchor.width / 2 - panelWidth / 2;\n    if (leftPos + panelWidth > window.innerWidth - panelGap) {\n        leftPos = window.innerWidth - panelWidth - panelGap;\n    }\n    if (leftPos < panelGap) {\n        leftPos = panelGap;\n    }\n    panelStyle.left = \"\".concat(leftPos, \"px\");\n    const constructButtonTooltip = isBuilt ? \"Already Built\" : !isAffordable ? \"Insufficient Resources\" : \"Construct \".concat(selectedBuilding === null || selectedBuilding === void 0 ? void 0 : selectedBuilding.name);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: panelStyle,\n        className: \"fixed z-40 w-[500px] transform transition-all duration-300 ease-in-out \".concat(isOpen && !isClosing ? \"opacity-100 scale-100\" : \"opacity-0 scale-95\"),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"sci-fi-panel-popup sci-fi-grid p-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-serif\",\n                            children: \"Construct Building\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                            lineNumber: 115,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleClose,\n                            className: \"text-3xl font-bold sci-fi-close-button\",\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                            lineNumber: 116,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                    lineNumber: 114,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex gap-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-2/5 pr-4 border-r border-stone-light/20\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"grid grid-cols-3 gap-2\",\n                                children: constructibleBuildings.map((building)=>{\n                                    const Icon = buildingIcons[building.id];\n                                    const isSelected = (selectedBuilding === null || selectedBuilding === void 0 ? void 0 : selectedBuilding.id) === building.id;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative group\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setSelectedBuilding(building),\n                                                className: \"w-full aspect-square p-1.5 bg-stone-dark/50 rounded-md border-2 transition-all duration-150\\n                                                \".concat(isSelected ? \"border-brand-gold bg-stone-light/20\" : \"border-stone-light/50 hover:border-brand-gold/70\", \"\\n                                            \"),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-full h-full \".concat(isSelected ? \"text-brand-gold\" : \"text-parchment-dark group-hover:text-c9d1d9\"),\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Icon, {}, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                        lineNumber: 135,\n                                                        columnNumber: 49\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                    lineNumber: 134,\n                                                    columnNumber: 45\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 128,\n                                                columnNumber: 42\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute bottom-full mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                children: building.name\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 138,\n                                                columnNumber: 41\n                                            }, undefined)\n                                        ]\n                                    }, building.id, true, {\n                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                        lineNumber: 127,\n                                        columnNumber: 37\n                                    }, undefined);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                lineNumber: 122,\n                                columnNumber: 26\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                            lineNumber: 121,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-3/5 flex flex-col\",\n                            children: selectedBuilding ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-grow\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                className: \"text-xl font-serif text-brand-gold\",\n                                                children: selectedBuilding.name\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 152,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-parchment-dark mt-1 mb-3 h-10\",\n                                                children: selectedBuilding.description\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 153,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                                                className: \"border-stone-light/20 my-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 155,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                        className: \"font-serif text-base\",\n                                                        children: \"Cost:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                        lineNumber: 158,\n                                                        columnNumber: 41\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CostDisplay, {\n                                                        cost: selectedBuilding.cost,\n                                                        resources: resources\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                        lineNumber: 159,\n                                                        columnNumber: 41\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 157,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-2 mt-2 text-xs\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-4 h-4 text-parchment-dark\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.ClockIcon, {}, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                            lineNumber: 162,\n                                                            columnNumber: 86\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                        lineNumber: 162,\n                                                        columnNumber: 41\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: [\n                                                            \"Build Time: \",\n                                                            selectedBuilding.buildTime,\n                                                            \"s\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                        lineNumber: 163,\n                                                        columnNumber: 41\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 161,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            selectedBuilding.isUnique && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-brand-blue mt-2\",\n                                                children: [\n                                                    \"Unique Building (\",\n                                                    buildingCounts[selectedBuilding.id],\n                                                    \" / 1 built)\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 166,\n                                                columnNumber: 41\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                        lineNumber: 151,\n                                        columnNumber: 33\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative group self-end\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    if (canBuild) onStartPlacement(selectedBuilding.id);\n                                                },\n                                                disabled: !canBuild,\n                                                className: \"sci-fi-action-button\",\n                                                \"aria-label\": constructButtonTooltip,\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-8 h-8\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BuildIcon, {}, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                        lineNumber: 179,\n                                                        columnNumber: 66\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                    lineNumber: 179,\n                                                    columnNumber: 41\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 173,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                children: constructButtonTooltip\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                                lineNumber: 181,\n                                                columnNumber: 37\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                        lineNumber: 172,\n                                        columnNumber: 33\n                                    }, undefined)\n                                ]\n                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-center h-full text-parchment-dark\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: \"Select a building.\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                    lineNumber: 188,\n                                    columnNumber: 33\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                                lineNumber: 187,\n                                columnNumber: 29\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                            lineNumber: 148,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n                    lineNumber: 119,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n            lineNumber: 113,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/BuildPanel.tsx\",\n        lineNumber: 109,\n        columnNumber: 9\n    }, undefined);\n};\n_s(BuildPanel, \"x0ZC5Bbt0+e3BdFqn6SCSeX6XDU=\");\n_c1 = BuildPanel;\n/* harmony default export */ __webpack_exports__[\"default\"] = (BuildPanel);\nvar _c, _c1;\n$RefreshReg$(_c, \"CostDisplay\");\n$RefreshReg$(_c1, \"BuildPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvQnVpbGRQYW5lbC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFtRDtBQUU2SztBQVloTyxNQUFNaUIsZ0JBQWdEO0lBQ2xEQyxRQUFRViwyREFBU0E7SUFDakJXLFVBQVVaLDhEQUFZQTtJQUN0QmEsY0FBY1gsa0VBQWdCQTtJQUM5QlksUUFBUVgsNERBQVVBO0lBQ2xCWSxlQUFlWCxtRUFBaUJBO0lBQ2hDWSxZQUFZWCxnRUFBY0E7SUFDMUJZLFlBQVlYLGdFQUFjQTtJQUMxQlksWUFBWVgsZ0VBQWNBO0FBQzlCO0FBRUEsTUFBTVksY0FBdUU7UUFBQyxFQUFFQyxJQUFJLEVBQUVDLFNBQVMsRUFBRTtJQUM3RixxQkFDSSw4REFBQ0M7UUFBSUMsV0FBVTtrQkFDVixPQUFRRSxPQUFPLENBQUNMLE1BQXNDTSxHQUFHLENBQUM7Z0JBQUMsQ0FBQ0MsVUFBVUMsT0FBTztZQUMxRSxJQUFJLENBQUNBLFFBQVEsT0FBTztZQUNwQixNQUFNQyxZQUFZUixTQUFTLENBQUNNLFNBQVMsSUFBSUM7WUFDekMsTUFBTUUsT0FBTztnQkFBRUMsTUFBTW5DLDBEQUFRQTtnQkFBRW9DLE1BQU1uQywwREFBUUE7Z0JBQUVvQyxNQUFNbkMsMERBQVFBO2dCQUFFb0MsT0FBT25DLDJEQUFTQTtZQUFDLENBQUMsQ0FBQzRCLFNBQVM7WUFDM0YscUJBQ0ksOERBQUNRO2dCQUFvQlosV0FBVyxxQkFBdUQsT0FBbENNLFlBQVksS0FBSzs7a0NBQ2xFLDhEQUFDUDt3QkFBSUMsV0FBVTtrQ0FBVSw0RUFBQ087Ozs7Ozs7Ozs7a0NBQzFCLDhEQUFDSzt3QkFBS1osV0FBVTtrQ0FBUUs7Ozs7Ozs7ZUFGakJEOzs7OztRQUtuQjs7Ozs7O0FBR1o7S0FoQk1SO0FBa0JOLE1BQU1pQixhQUF3QztRQUFDLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFQyxnQkFBZ0IsRUFBRWxCLFNBQVMsRUFBRW1CLGNBQWMsRUFBRUMsWUFBWSxFQUFF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LFdBQVU7Ozs7OzswREFFZCw4REFBQ0Q7Z0RBQUlDLFdBQVU7O2tFQUNYLDhEQUFDa0U7d0RBQUdsRSxXQUFVO2tFQUF1Qjs7Ozs7O2tFQUNyQyw4REFBQ0o7d0RBQVlDLE1BQU0yQixpQkFBaUIzQixJQUFJO3dEQUFFQyxXQUFXQTs7Ozs7Ozs7Ozs7OzBEQUV6RCw4REFBQ0M7Z0RBQUlDLFdBQVU7O2tFQUNYLDhEQUFDRDt3REFBSUMsV0FBVTtrRUFBOEIsNEVBQUNmLDJEQUFTQTs7Ozs7Ozs7OztrRUFDdkQsOERBQUMyQjs7NERBQUs7NERBQWFZLGlCQUFpQjJDLFNBQVM7NERBQUM7Ozs7Ozs7Ozs7Ozs7NENBRWhEM0MsaUJBQWlCYSxRQUFRLGtCQUN2Qiw4REFBQzBCO2dEQUFFL0QsV0FBVTs7b0RBQStCO29EQUN0QmlCLGNBQWMsQ0FBQ08saUJBQWlCRCxFQUFFLENBQUM7b0RBQUM7Ozs7Ozs7Ozs7Ozs7a0RBS2xFLDhEQUFDeEI7d0NBQUlDLFdBQVU7OzBEQUNYLDhEQUFDMEQ7Z0RBQ0dDLFNBQVM7b0RBQVEsSUFBR3JCLFVBQVV0QixpQkFBaUJRLGlCQUFpQkQsRUFBRTtnREFBRztnREFDckU2QyxVQUFVLENBQUM5QjtnREFDWHRDLFdBQVU7Z0RBQ1ZxRSxjQUFZZjswREFFWiw0RUFBQ3ZEO29EQUFJQyxXQUFVOzhEQUFVLDRFQUFDZCwyREFBU0E7Ozs7Ozs7Ozs7Ozs7OzswREFFdkMsOERBQUNhO2dEQUFJQyxXQUFVOzBEQUNWc0Q7Ozs7Ozs7Ozs7Ozs7NkRBS2IsOERBQUN2RDtnQ0FBSUMsV0FBVTswQ0FDWCw0RUFBQytEOzhDQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRbkM7R0F4Sk1sRDtNQUFBQTtBQTBKTiwrREFBZUEsVUFBVUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL0J1aWxkUGFuZWwudHN4P2IxMzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdHlwZSB7IEJ1aWxkaW5nSW5mbywgQnVpbGRpbmdUeXBlLCBSZXNvdXJjZXMsIEJ1aWxkaW5nQ29zdHMgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBGb29kSWNvbiwgV29vZEljb24sIEdvbGRJY29uLCBTdG9uZUljb24sIEJhcnJhY2tzSWNvbiwgSG91c2VJY29uLCBBcmNoZXJ5UmFuZ2VJY29uLCBTdGFibGVJY29uLCBTaWVnZVdvcmtzaG9wSWNvbiwgQmxhY2tzbWl0aEljb24sIFdhdGNoVG93ZXJJY29uLCBUb3duQ2VudGVySWNvbiwgQ2xvY2tJY29uLCBCdWlsZEljb24gfSBmcm9tICcuL2ljb25zL1Jlc291cmNlSWNvbnMnO1xuXG5pbnRlcmZhY2UgQnVpbGRQYW5lbFByb3BzIHtcbiAgICBpc09wZW46IGJvb2xlYW47XG4gICAgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgICBvblN0YXJ0UGxhY2VtZW50OiAoYnVpbGRpbmdJZDogQnVpbGRpbmdUeXBlKSA9PiB2b2lkO1xuICAgIHJlc291cmNlczogUmVzb3VyY2VzO1xuICAgIGJ1aWxkaW5nQ291bnRzOiBSZWNvcmQ8QnVpbGRpbmdUeXBlLCBudW1iZXI+O1xuICAgIGJ1aWxkaW5nTGlzdDogQnVpbGRpbmdJbmZvW107XG4gICAgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7XG59XG5cbmNvbnN0IGJ1aWxkaW5nSWNvbnM6IFJlY29yZDxCdWlsZGluZ1R5cGUsIFJlYWN0LkZDPiA9IHtcbiAgICBob3VzZXM6IEhvdXNlSWNvbixcbiAgICBiYXJyYWNrczogQmFycmFja3NJY29uLFxuICAgIGFyY2hlcnlSYW5nZTogQXJjaGVyeVJhbmdlSWNvbixcbiAgICBzdGFibGU6IFN0YWJsZUljb24sXG4gICAgc2llZ2VXb3Jrc2hvcDogU2llZ2VXb3Jrc2hvcEljb24sXG4gICAgYmxhY2tzbWl0aDogQmxhY2tzbWl0aEljb24sXG4gICAgd2F0Y2hUb3dlcjogV2F0Y2hUb3dlckljb24sXG4gICAgdG93bkNlbnRlcjogVG93bkNlbnRlckljb24sXG59O1xuXG5jb25zdCBDb3N0RGlzcGxheTogUmVhY3QuRkM8eyBjb3N0OiBCdWlsZGluZ0Nvc3RzLCByZXNvdXJjZXM6IFJlc291cmNlcyB9PiA9ICh7IGNvc3QsIHJlc291cmNlcyB9KSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBnYXAteC0zIGdhcC15LTEgdGV4dC14c1wiPlxuICAgICAgICAgICAgeyhPYmplY3QuZW50cmllcyhjb3N0KSBhcyBba2V5b2YgUmVzb3VyY2VzLCBudW1iZXJdW10pLm1hcCgoW3Jlc291cmNlLCBhbW91bnRdKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFhbW91bnQpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhc0Vub3VnaCA9IHJlc291cmNlc1tyZXNvdXJjZV0gPj0gYW1vdW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IEljb24gPSB7IGZvb2Q6IEZvb2RJY29uLCB3b29kOiBXb29kSWNvbiwgZ29sZDogR29sZEljb24sIHN0b25lOiBTdG9uZUljb24gfVtyZXNvdXJjZV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4ga2V5PXtyZXNvdXJjZX0gY2xhc3NOYW1lPXtgZmxleCBpdGVtcy1jZW50ZXIgJHtoYXNFbm91Z2ggPyAnJyA6ICd0ZXh0LWJyYW5kLXJlZCd9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNCBoLTRcIj48SWNvbiAvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMVwiPnthbW91bnR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuY29uc3QgQnVpbGRQYW5lbDogUmVhY3QuRkM8QnVpbGRQYW5lbFByb3BzPiA9ICh7IGlzT3Blbiwgb25DbG9zZSwgb25TdGFydFBsYWNlbWVudCwgcmVzb3VyY2VzLCBidWlsZGluZ0NvdW50cywgYnVpbGRpbmdMaXN0LCBhbmNob3JSZWN0IH0pID0+IHtcbiAgICBjb25zdCBjb25zdHJ1Y3RpYmxlQnVpbGRpbmdzID0gYnVpbGRpbmdMaXN0LmZpbHRlcihiID0+IGIuaWQgIT09ICd0b3duQ2VudGVyJyk7XG4gICAgY29uc3QgW3NlbGVjdGVkQnVpbGRpbmcsIHNldFNlbGVjdGVkQnVpbGRpbmddID0gdXNlU3RhdGU8QnVpbGRpbmdJbmZvPihjb25zdHJ1Y3RpYmxlQnVpbGRpbmdzWzBdID8/IG51bGwpO1xuICAgIFxuICAgIGNvbnN0IFtpc0Nsb3NpbmcsIHNldElzQ2xvc2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2N1cnJlbnREYXRhLCBzZXRDdXJyZW50RGF0YV0gPSB1c2VTdGF0ZSh7IGFuY2hvclJlY3QsIGJ1aWxkaW5nTGlzdCB9KTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpc09wZW4gJiYgIXNlbGVjdGVkQnVpbGRpbmcpIHtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkQnVpbGRpbmcoY29uc3RydWN0aWJsZUJ1aWxkaW5nc1swXSA/PyBudWxsKTtcbiAgICAgICAgfVxuICAgIH0sIFtpc09wZW4sIHNlbGVjdGVkQnVpbGRpbmcsIGNvbnN0cnVjdGlibGVCdWlsZGluZ3NdKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpc09wZW4gfHwgaXNDbG9zaW5nKSB7XG4gICAgICAgICAgICBzZXRDdXJyZW50RGF0YSh7IGFuY2hvclJlY3QsIGJ1aWxkaW5nTGlzdCB9KTtcbiAgICAgICAgfVxuICAgIH0sIFthbmNob3JSZWN0LCBidWlsZGluZ0xpc3QsIGlzT3BlbiwgaXNDbG9zaW5nXSk7XG5cbiAgICBjb25zdCBoYW5kbGVDbG9zZSA9ICgpID0+IHtcbiAgICAgICAgc2V0SXNDbG9zaW5nKHRydWUpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgICAgIHNldElzQ2xvc2luZyhmYWxzZSk7XG4gICAgICAgIH0sIDMwMCk7XG4gICAgfTtcblxuICAgIGlmICghaXNPcGVuICYmICFpc0Nsb3NpbmcpIHJldHVybiBudWxsO1xuICAgIFxuICAgIGNvbnN0IHsgYW5jaG9yUmVjdDogY3VycmVudEFuY2hvciB9ID0gY3VycmVudERhdGE7XG4gICAgaWYgKCFjdXJyZW50QW5jaG9yKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IGlzQWZmb3JkYWJsZSA9IHNlbGVjdGVkQnVpbGRpbmcgPyBPYmplY3QuZW50cmllcyhzZWxlY3RlZEJ1aWxkaW5nLmNvc3QpLmV2ZXJ5KChbcmVzLCBjb3N0XSkgPT4gcmVzb3VyY2VzW3JlcyBhcyBrZXlvZiBSZXNvdXJjZXNdID49IChjb3N0IHx8IDApKSA6IGZhbHNlO1xuICAgIGNvbnN0IGlzQnVpbHQgPSBzZWxlY3RlZEJ1aWxkaW5nID8gc2VsZWN0ZWRCdWlsZGluZy5pc1VuaXF1ZSAmJiBidWlsZGluZ0NvdW50c1tzZWxlY3RlZEJ1aWxkaW5nLmlkXSA+IDAgOiBmYWxzZTtcbiAgICBjb25zdCBjYW5CdWlsZCA9IGlzQWZmb3JkYWJsZSAmJiAhaXNCdWlsdDtcblxuICAgIGNvbnN0IHBhbmVsV2lkdGggPSA1MDA7XG4gICAgY29uc3QgcGFuZWxIZWlnaHRFc3RpbWF0ZSA9IDMwMDtcbiAgICBjb25zdCBwYW5lbEdhcCA9IDg7XG5cbiAgICBjb25zdCBwYW5lbFN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzID0ge307XG5cbiAgICBjb25zdCBzcGFjZUJlbG93ID0gd2luZG93LmlubmVySGVpZ2h0IC0gY3VycmVudEFuY2hvci5ib3R0b207XG4gICAgY29uc3Qgc3BhY2VBYm92ZSA9IGN1cnJlbnRBbmNob3IudG9wO1xuXG4gICAgaWYgKHNwYWNlQmVsb3cgPCBwYW5lbEhlaWdodEVzdGltYXRlICYmIHNwYWNlQWJvdmUgPiBzcGFjZUJlbG93KSB7XG4gICAgICAgIHBhbmVsU3R5bGUuYm90dG9tID0gYCR7d2luZG93LmlubmVySGVpZ2h0IC0gY3VycmVudEFuY2hvci50b3AgKyBwYW5lbEdhcH1weGA7XG4gICAgICAgIHBhbmVsU3R5bGUudHJhbnNmb3JtT3JpZ2luID0gJ2JvdHRvbSBjZW50ZXInO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHBhbmVsU3R5bGUudG9wID0gYCR7Y3VycmVudEFuY2hvci5ib3R0b20gKyBwYW5lbEdhcH1weGA7XG4gICAgICAgIHBhbmVsU3R5bGUudHJhbnNmb3JtT3JpZ2luID0gJ3RvcCBjZW50ZXInO1xuICAgIH1cblxuICAgIGxldCBsZWZ0UG9zID0gY3VycmVudEFuY2hvci5sZWZ0ICsgY3VycmVudEFuY2hvci53aWR0aCAvIDIgLSBwYW5lbFdpZHRoIC8gMjtcbiAgICBpZiAobGVmdFBvcyArIHBhbmVsV2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCAtIHBhbmVsR2FwKSB7XG4gICAgICAgIGxlZnRQb3MgPSB3aW5kb3cuaW5uZXJXaWR0aCAtIHBhbmVsV2lkdGggLSBwYW5lbEdhcDtcbiAgICB9XG4gICAgaWYgKGxlZnRQb3MgPCBwYW5lbEdhcCkge1xuICAgICAgICBsZWZ0UG9zID0gcGFuZWxHYXA7XG4gICAgfVxuICAgIHBhbmVsU3R5bGUubGVmdCA9IGAke2xlZnRQb3N9cHhgO1xuICAgIFxuICAgIGNvbnN0IGNvbnN0cnVjdEJ1dHRvblRvb2x0aXAgPSBpc0J1aWx0ID8gJ0FscmVhZHkgQnVpbHQnIDogIWlzQWZmb3JkYWJsZSA/ICdJbnN1ZmZpY2llbnQgUmVzb3VyY2VzJyA6IGBDb25zdHJ1Y3QgJHtzZWxlY3RlZEJ1aWxkaW5nPy5uYW1lfWA7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgc3R5bGU9e3BhbmVsU3R5bGV9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2BmaXhlZCB6LTQwIHctWzUwMHB4XSB0cmFuc2Zvcm0gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGVhc2UtaW4tb3V0ICR7aXNPcGVuICYmICFpc0Nsb3NpbmcgPyAnb3BhY2l0eS0xMDAgc2NhbGUtMTAwJyA6ICdvcGFjaXR5LTAgc2NhbGUtOTUnfWB9XG4gICAgICAgID5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2NpLWZpLXBhbmVsLXBvcHVwIHNjaS1maS1ncmlkIHAtNFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtc2VyaWZcIj5Db25zdHJ1Y3QgQnVpbGRpbmc8L2gyPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUNsb3NlfSBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgc2NpLWZpLWNsb3NlLWJ1dHRvblwiPiZ0aW1lczs8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtNFwiPlxuICAgICAgICAgICAgICAgICAgICB7LyogTGVmdDogQnVpbGRpbmcgR3JpZCAqL31cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTIvNSBwci00IGJvcmRlci1yIGJvcmRlci1zdG9uZS1saWdodC8yMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMyBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjb25zdHJ1Y3RpYmxlQnVpbGRpbmdzLm1hcCgoYnVpbGRpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgSWNvbiA9IGJ1aWxkaW5nSWNvbnNbYnVpbGRpbmcuaWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1NlbGVjdGVkID0gc2VsZWN0ZWRCdWlsZGluZz8uaWQgPT09IGJ1aWxkaW5nLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2J1aWxkaW5nLmlkfSBjbGFzc05hbWU9XCJyZWxhdGl2ZSBncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkQnVpbGRpbmcoYnVpbGRpbmcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgYXNwZWN0LXNxdWFyZSBwLTEuNSBiZy1zdG9uZS1kYXJrLzUwIHJvdW5kZWQtbWQgYm9yZGVyLTIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2lzU2VsZWN0ZWQgPyAnYm9yZGVyLWJyYW5kLWdvbGQgYmctc3RvbmUtbGlnaHQvMjAnIDogJ2JvcmRlci1zdG9uZS1saWdodC81MCBob3Zlcjpib3JkZXItYnJhbmQtZ29sZC83MCd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHctZnVsbCBoLWZ1bGwgJHtpc1NlbGVjdGVkID8gJ3RleHQtYnJhbmQtZ29sZCcgOiAndGV4dC1wYXJjaG1lbnQtZGFyayBncm91cC1ob3Zlcjp0ZXh0LWM5ZDFkOSd9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIG1iLTIgdy1tYXggcHgtMiBweS0xIGJnLXN0b25lLWRhcmsgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBwb2ludGVyLWV2ZW50cy1ub25lIHotMTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2J1aWxkaW5nLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICB7LyogUmlnaHQ6IERldGFpbHMgKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0zLzUgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkQnVpbGRpbmcgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LWdyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VyaWYgdGV4dC1icmFuZC1nb2xkXCI+e3NlbGVjdGVkQnVpbGRpbmcubmFtZX08L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXBhcmNobWVudC1kYXJrIG10LTEgbWItMyBoLTEwXCI+e3NlbGVjdGVkQnVpbGRpbmcuZGVzY3JpcHRpb259PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgY2xhc3NOYW1lPVwiYm9yZGVyLXN0b25lLWxpZ2h0LzIwIG15LTJcIiAvPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LXNlcmlmIHRleHQtYmFzZVwiPkNvc3Q6PC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29zdERpc3BsYXkgY29zdD17c2VsZWN0ZWRCdWlsZGluZy5jb3N0fSByZXNvdXJjZXM9e3Jlc291cmNlc30vPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG10LTIgdGV4dC14c1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LXBhcmNobWVudC1kYXJrXCI+PENsb2NrSWNvbiAvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkJ1aWxkIFRpbWU6IHtzZWxlY3RlZEJ1aWxkaW5nLmJ1aWxkVGltZX1zPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkQnVpbGRpbmcuaXNVbmlxdWUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1icmFuZC1ibHVlIG10LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVW5pcXVlIEJ1aWxkaW5nICh7YnVpbGRpbmdDb3VudHNbc2VsZWN0ZWRCdWlsZGluZy5pZF19IC8gMSBidWlsdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGdyb3VwIHNlbGYtZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4geyBpZihjYW5CdWlsZCkgb25TdGFydFBsYWNlbWVudChzZWxlY3RlZEJ1aWxkaW5nLmlkKTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWNhbkJ1aWxkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNjaS1maS1hY3Rpb24tYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtjb25zdHJ1Y3RCdXR0b25Ub29sdGlwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04IGgtOFwiPjxCdWlsZEljb24gLz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tZnVsbCByaWdodC0wIG1iLTIgdy1tYXggcHgtMiBweS0xIGJnLXN0b25lLWRhcmsgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBwb2ludGVyLWV2ZW50cy1ub25lIHotMTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29uc3RydWN0QnV0dG9uVG9vbHRpcH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBoLWZ1bGwgdGV4dC1wYXJjaG1lbnQtZGFya1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5TZWxlY3QgYSBidWlsZGluZy48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQnVpbGRQYW5lbDtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiRm9vZEljb24iLCJXb29kSWNvbiIsIkdvbGRJY29uIiwiU3RvbmVJY29uIiwiQmFycmFja3NJY29uIiwiSG91c2VJY29uIiwiQXJjaGVyeVJhbmdlSWNvbiIsIlN0YWJsZUljb24iLCJTaWVnZVdvcmtzaG9wSWNvbiIsIkJsYWNrc21pdGhJY29uIiwiV2F0Y2hUb3dlckljb24iLCJUb3duQ2VudGVySWNvbiIsIkNsb2NrSWNvbiIsIkJ1aWxkSWNvbiIsImJ1aWxkaW5nSWNvbnMiLCJob3VzZXMiLCJiYXJyYWNrcyIsImFyY2hlcnlSYW5nZSIsInN0YWJsZSIsInNpZWdlV29ya3Nob3AiLCJibGFja3NtaXRoIiwid2F0Y2hUb3dlciIsInRvd25DZW50ZXIiLCJDb3N0RGlzcGxheSIsImNvc3QiLCJyZXNvdXJjZXMiLCJkaXYiLCJjbGFzc05hbWUiLCJPYmplY3QiLCJlbnRyaWVzIiwibWFwIiwicmVzb3VyY2UiLCJhbW91bnQiLCJoYXNFbm91Z2giLCJJY29uIiwiZm9vZCIsIndvb2QiLCJnb2xkIiwic3RvbmUiLCJzcGFuIiwiQnVpbGRQYW5lbCIsImlzT3BlbiIsIm9uQ2xvc2UiLCJvblN0YXJ0UGxhY2VtZW50IiwiYnVpbGRpbmdDb3VudHMiLCJidWlsZGluZ0xpc3QiLCJhbmNob3JSZWN0IiwiY29uc3RydWN0aWJsZUJ1aWxkaW5ncyIsImZpbHRlciIsImIiLCJpZCIsInNlbGVjdGVkQnVpbGRpbmciLCJzZXRTZWxlY3RlZEJ1aWxkaW5nIiwiaXNDbG9zaW5nIiwic2V0SXNDbG9zaW5nIiwiY3VycmVudERhdGEiLCJzZXRDdXJyZW50RGF0YSIsImhhbmRsZUNsb3NlIiwic2V0VGltZW91dCIsImN1cnJlbnRBbmNob3IiLCJpc0FmZm9yZGFibGUiLCJldmVyeSIsInJlcyIsImlzQnVpbHQiLCJpc1VuaXF1ZSIsImNhbkJ1aWxkIiwicGFuZWxXaWR0aCIsInBhbmVsSGVpZ2h0RXN0aW1hdGUiLCJwYW5lbEdhcCIsInBhbmVsU3R5bGUiLCJzcGFjZUJlbG93Iiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJib3R0b20iLCJzcGFjZUFib3ZlIiwidG9wIiwidHJhbnNmb3JtT3JpZ2luIiwibGVmdFBvcyIsImxlZnQiLCJ3aWR0aCIsImlubmVyV2lkdGgiLCJjb25zdHJ1Y3RCdXR0b25Ub29sdGlwIiwibmFtZSIsInN0eWxlIiwiaDIiLCJidXR0b24iLCJvbkNsaWNrIiwiYnVpbGRpbmciLCJpc1NlbGVjdGVkIiwiaDMiLCJwIiwiZGVzY3JpcHRpb24iLCJociIsImg0IiwiYnVpbGRUaW1lIiwiZGlzYWJsZWQiLCJhcmlhLWxhYmVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/BuildPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/BuildingManagementPanel.tsx":
/*!************************************************!*\
  !*** ./components/BuildingManagementPanel.tsx ***!
  \************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./icons/ResourceIcons */ \"(app-pages-browser)/./components/icons/ResourceIcons.tsx\");\n/* harmony import */ var _ProgressBar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ProgressBar */ \"(app-pages-browser)/./components/ProgressBar.tsx\");\n/* harmony import */ var _GameUI__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GameUI */ \"(app-pages-browser)/./components/GameUI.tsx\");\n/* harmony import */ var _barrel_optimize_names_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trash-2.js\");\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\n\nconst BuildingRow = (param)=>{\n    let { building, type, onUpdate, onDemolish } = param;\n    _s();\n    const [isEditing, setIsEditing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [name, setName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(building.name);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isEditing) {\n            var _inputRef_current, _inputRef_current1;\n            (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n            (_inputRef_current1 = inputRef.current) === null || _inputRef_current1 === void 0 ? void 0 : _inputRef_current1.select();\n        }\n    }, [\n        isEditing\n    ]);\n    const handleSave = ()=>{\n        if (name.trim() && name.trim() !== building.name) {\n            onUpdate(type, building.id, name.trim());\n        }\n        setIsEditing(false);\n    };\n    const handleKeyDown = (e)=>{\n        if (e.key === \"Enter\") {\n            handleSave();\n        } else if (e.key === \"Escape\") {\n            setName(building.name);\n            setIsEditing(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"sci-fi-unit-row flex items-center gap-2 p-2 justify-between\",\n        children: isEditing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n            ref: inputRef,\n            type: \"text\",\n            value: name,\n            onChange: (e)=>setName(e.target.value),\n            onBlur: handleSave,\n            onKeyDown: handleKeyDown,\n            className: \"sci-fi-input w-full !text-base\"\n        }, void 0, false, {\n            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n            lineNumber: 66,\n            columnNumber: 17\n        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-grow cursor-pointer\",\n                    onDoubleClick: ()=>setIsEditing(true),\n                    title: \"Double-click to rename\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-base font-bold\",\n                        children: building.name\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                        lineNumber: 82,\n                        columnNumber: 25\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                    lineNumber: 77,\n                    columnNumber: 21\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"relative group flex-shrink-0\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>onDemolish(type, building.id),\n                            className: \"p-1.5 text-parchment-dark/60 hover:text-brand-red rounded-full transition-colors focus:outline-none focus:ring-1 focus:ring-brand-red/50\",\n                            \"aria-label\": \"Demolish\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                className: \"w-4 h-4\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                lineNumber: 90,\n                                columnNumber: 29\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                            lineNumber: 85,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute bottom-full right-1/2 translate-x-1/2 mb-1 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                            children: \"Demolish\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                            lineNumber: 92,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                    lineNumber: 84,\n                    columnNumber: 21\n                }, undefined)\n            ]\n        }, void 0, true)\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n        lineNumber: 64,\n        columnNumber: 9\n    }, undefined);\n};\n_s(BuildingRow, \"ix8JKsNrueda/cGiLeHwh+G5/Ig=\");\n_c = BuildingRow;\nconst CostDisplay = (param)=>{\n    let { cost, resources } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-wrap gap-x-3 gap-y-1 text-xs\",\n        children: Object.entries(cost).map((param)=>{\n            let [resource, amount] = param;\n            if (!amount) return null;\n            const hasEnough = resources[resource] >= amount;\n            const Icon = {\n                food: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.FoodIcon,\n                wood: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.WoodIcon,\n                gold: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GoldIcon,\n                stone: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.StoneIcon\n            }[resource];\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"flex items-center \".concat(hasEnough ? \"\" : \"text-brand-red\"),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-4 h-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Icon, {}, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                            lineNumber: 111,\n                            columnNumber: 46\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                        lineNumber: 111,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"ml-1 font-mono\",\n                        children: amount\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                        lineNumber: 112,\n                        columnNumber: 21\n                    }, undefined)\n                ]\n            }, resource, true, {\n                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                lineNumber: 110,\n                columnNumber: 17\n            }, undefined);\n        })\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n        lineNumber: 104,\n        columnNumber: 5\n    }, undefined);\n};\n_c1 = CostDisplay;\nconst BuildingManagementPanel = (props)=>{\n    var _buildingInfo_name, _activeVillagerTask_payload, _activeTrainTask_payload;\n    _s1();\n    const { isOpen, onClose, panelState, buildings, buildingList, onUpdateBuilding, onDemolishBuilding, onTrainUnits, onTrainVillagers, resources, population, unitList, onAdvanceAge, activeTasks, anchorRect } = props;\n    const [isClosing, setIsClosing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentData, setCurrentData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        panelState,\n        buildings,\n        anchorRect\n    });\n    const [trainCount, setTrainCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isOpen) return;\n        const popSpace = population.capacity - population.current;\n        const currentCount = trainCount;\n        if (currentCount > popSpace) {\n            setTrainCount(Math.max(0, popSpace));\n        } else if (currentCount === 0 && popSpace > 0) {\n            setTrainCount(1);\n        } else if (popSpace === 0) {\n            setTrainCount(0);\n        }\n    }, [\n        isOpen,\n        panelState.type,\n        population.capacity,\n        population.current,\n        trainCount\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen || isClosing) {\n            setCurrentData({\n                panelState,\n                buildings,\n                anchorRect\n            });\n        }\n    }, [\n        panelState,\n        buildings,\n        anchorRect,\n        isOpen,\n        isClosing\n    ]);\n    const handleClose = ()=>{\n        setIsClosing(true);\n        setTimeout(()=>{\n            onClose();\n            setIsClosing(false);\n        }, 300);\n    };\n    if (!isOpen && !isClosing) return null;\n    const { panelState: currentPanelState, buildings: currentBuildings, anchorRect: currentAnchor } = currentData;\n    const { type } = currentPanelState;\n    if (!type || !currentAnchor) return null;\n    const buildingInfo = buildingList.find((b)=>b.id === type);\n    const buildingInstances = currentBuildings[type];\n    const unitToTrain = unitList.find((u)=>u.requiredBuilding === type);\n    const activeTrainTask = unitToTrain ? activeTasks.find((t)=>{\n        var _t_payload;\n        return t.type === \"train_military\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.unitType) === (unitToTrain === null || unitToTrain === void 0 ? void 0 : unitToTrain.id);\n    }) : undefined;\n    const activeVillagerTask = activeTasks.find((t)=>t.type === \"train_villager\");\n    const activeAgeTask = activeTasks.find((t)=>t.type === \"advance_age\");\n    const popSpace = population.capacity - population.current;\n    const hasPopCapacity = popSpace >= trainCount;\n    const totalUnitCost = unitToTrain ? Object.entries(unitToTrain.cost).reduce((acc, param)=>{\n        let [res, val] = param;\n        return {\n            ...acc,\n            [res]: (val || 0) * trainCount\n        };\n    }, {}) : {};\n    const canAffordUnit = unitToTrain ? Object.entries(totalUnitCost).every((param)=>{\n        let [res, cost] = param;\n        return resources[res] >= cost;\n    }) : false;\n    const canTrainUnit = unitToTrain && canAffordUnit && hasPopCapacity && !activeTrainTask;\n    const totalVillagerCost = {\n        food: 50 * trainCount\n    };\n    const canAffordVillagers = resources.food >= totalVillagerCost.food;\n    const canTrainVillagers = canAffordVillagers && hasPopCapacity && !activeVillagerTask;\n    const panelWidth = 384; // from w-96\n    const panelHeightEstimate = 400; // A safe estimate\n    const panelGap = 8;\n    const panelStyle = {};\n    const spaceBelow = window.innerHeight - currentAnchor.bottom;\n    const spaceAbove = currentAnchor.top;\n    if (spaceBelow < panelHeightEstimate && spaceAbove > spaceBelow) {\n        panelStyle.bottom = \"\".concat(window.innerHeight - currentAnchor.top + panelGap, \"px\");\n        panelStyle.transformOrigin = \"bottom center\";\n    } else {\n        panelStyle.top = \"\".concat(currentAnchor.bottom + panelGap, \"px\");\n        panelStyle.transformOrigin = \"top center\";\n    }\n    let leftPos = currentAnchor.left + currentAnchor.width / 2 - panelWidth / 2;\n    if (leftPos + panelWidth > window.innerWidth - panelGap) {\n        leftPos = window.innerWidth - panelWidth - panelGap;\n    }\n    if (leftPos < panelGap) {\n        leftPos = panelGap;\n    }\n    panelStyle.left = \"\".concat(leftPos, \"px\");\n    // --- Tooltip Text Generation ---\n    const getTrainUnitTooltip = ()=>{\n        if (!unitToTrain) return \"\";\n        if (activeTrainTask) return \"Training in progress...\";\n        if (!hasPopCapacity) return \"Need \".concat(trainCount - popSpace, \" more housing.\");\n        if (!canAffordUnit) return \"Insufficient Resources.\";\n        return \"Train \".concat(trainCount, \" \").concat(unitToTrain.name, \"(s)\");\n    };\n    const getTrainVillagerTooltip = ()=>{\n        if (activeVillagerTask) return \"Training in progress...\";\n        if (!hasPopCapacity) return \"Need \".concat(trainCount - popSpace, \" more housing.\");\n        if (!canAffordVillagers) return \"Insufficient Food.\";\n        return \"Train \".concat(trainCount, \" Villager(s)\");\n    };\n    const getAdvanceAgeTooltip = ()=>{\n        if (activeAgeTask) return \"Advancement in progress.\";\n        if (resources.food < 500 || resources.gold < 200) return \"Insufficient resources to advance.\";\n        return \"Advance to the next age (60s)\";\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: panelStyle,\n        className: \"fixed z-40 w-96 transform transition-all duration-300 ease-in-out \".concat(isOpen && !isClosing ? \"opacity-100 scale-100\" : \"opacity-0 scale-95\"),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"sci-fi-panel-popup sci-fi-grid p-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-serif\",\n                            children: [\n                                buildingInfo === null || buildingInfo === void 0 ? void 0 : buildingInfo.name,\n                                !(buildingInfo === null || buildingInfo === void 0 ? void 0 : buildingInfo.isUnique) ? \"s\" : \"\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                            lineNumber: 233,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleClose,\n                            className: \"text-3xl font-bold sci-fi-close-button\",\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                            lineNumber: 234,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                    lineNumber: 232,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-2 max-h-48 overflow-y-auto pr-2\",\n                    children: buildingInstances.length > 0 ? buildingInstances.map((instance)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BuildingRow, {\n                            building: instance,\n                            type: type,\n                            onUpdate: onUpdateBuilding,\n                            onDemolish: onDemolishBuilding\n                        }, instance.id, false, {\n                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                            lineNumber: 240,\n                            columnNumber: 29\n                        }, undefined)) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-center text-parchment-dark py-4\",\n                        children: [\n                            \"You have no \",\n                            buildingInfo === null || buildingInfo === void 0 ? void 0 : (_buildingInfo_name = buildingInfo.name) === null || _buildingInfo_name === void 0 ? void 0 : _buildingInfo_name.toLowerCase(),\n                            \"s.\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                        lineNumber: 242,\n                        columnNumber: 27\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                    lineNumber: 237,\n                    columnNumber: 17\n                }, undefined),\n                (type === \"townCenter\" || unitToTrain) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                    className: \"border-stone-light/20 my-3\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                    lineNumber: 245,\n                    columnNumber: 60\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-3\",\n                    children: [\n                        type === \"townCenter\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                activeVillagerTask ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-14 flex flex-col justify-center items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-parchment-dark mb-2\",\n                                            children: [\n                                                \"Training \",\n                                                (_activeVillagerTask_payload = activeVillagerTask.payload) === null || _activeVillagerTask_payload === void 0 ? void 0 : _activeVillagerTask_payload.count,\n                                                \" Villager(s)...\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 251,\n                                            columnNumber: 97\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ProgressBar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                            startTime: activeVillagerTask.startTime,\n                                            duration: activeVillagerTask.duration,\n                                            className: \"w-full h-2\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 251,\n                                            columnNumber: 208\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                    lineNumber: 251,\n                                    columnNumber: 33\n                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"sci-fi-unit-row !p-2 flex items-center gap-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-8 h-8 p-1 bg-black/30 rounded-md text-brand-blue\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.VillagerIcon, {}, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                lineNumber: 254,\n                                                columnNumber: 105\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 254,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-grow\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CostDisplay, {\n                                                cost: totalVillagerCost,\n                                                resources: resources\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                lineNumber: 255,\n                                                columnNumber: 64\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 255,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"range\",\n                                            min: \"1\",\n                                            max: Math.max(1, popSpace),\n                                            value: trainCount,\n                                            onChange: (e)=>setTrainCount(Math.min(Number(e.target.value), popSpace)),\n                                            className: \"sci-fi-slider w-24\",\n                                            disabled: popSpace <= 0\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 256,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"font-bold text-base w-8 text-center bg-black/20 p-1 rounded-md\",\n                                            children: popSpace > 0 ? trainCount : 0\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 257,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative group\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>onTrainVillagers(trainCount),\n                                                    disabled: !canTrainVillagers,\n                                                    className: \"sci-fi-action-button\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-6 h-6\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.VillagerIcon, {}, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                            lineNumber: 259,\n                                                            columnNumber: 182\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                        lineNumber: 259,\n                                                        columnNumber: 157\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                    lineNumber: 259,\n                                                    columnNumber: 41\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                    children: getTrainVillagerTooltip()\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                    lineNumber: 260,\n                                                    columnNumber: 41\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 258,\n                                            columnNumber: 37\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                    lineNumber: 253,\n                                    columnNumber: 33\n                                }, undefined),\n                                activeAgeTask ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-12 mt-2 flex flex-col justify-center items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-parchment-dark mb-2\",\n                                            children: \"Advancing to the next age...\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 265,\n                                            columnNumber: 102\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ProgressBar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                            startTime: activeAgeTask.startTime,\n                                            duration: activeAgeTask.duration,\n                                            className: \"w-full h-2\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 265,\n                                            columnNumber: 182\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                    lineNumber: 265,\n                                    columnNumber: 33\n                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"sci-fi-unit-row !p-2 flex items-center gap-3 mt-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-8 h-8 p-1 bg-black/30 rounded-md text-brand-gold\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.AgeIcon, {}, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                lineNumber: 268,\n                                                columnNumber: 105\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 268,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-grow\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CostDisplay, {\n                                                cost: {\n                                                    food: 500,\n                                                    gold: 200\n                                                },\n                                                resources: resources\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                lineNumber: 269,\n                                                columnNumber: 64\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 269,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative group\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: onAdvanceAge,\n                                                    disabled: !!activeAgeTask || resources.food < 500 || resources.gold < 200,\n                                                    className: \"sci-fi-action-button\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-6 h-6\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.AgeIcon, {}, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                            lineNumber: 271,\n                                                            columnNumber: 205\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                        lineNumber: 271,\n                                                        columnNumber: 180\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                    lineNumber: 271,\n                                                    columnNumber: 41\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                    children: getAdvanceAgeTooltip()\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                    lineNumber: 272,\n                                                    columnNumber: 41\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 270,\n                                            columnNumber: 38\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                    lineNumber: 267,\n                                    columnNumber: 33\n                                }, undefined)\n                            ]\n                        }, void 0, true),\n                        unitToTrain && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: activeTrainTask ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"h-16 flex flex-col justify-center items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-parchment-dark mb-2\",\n                                        children: [\n                                            \"Training \",\n                                            (_activeTrainTask_payload = activeTrainTask.payload) === null || _activeTrainTask_payload === void 0 ? void 0 : _activeTrainTask_payload.count,\n                                            \" \",\n                                            unitToTrain.name,\n                                            \"(s)...\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                        lineNumber: 281,\n                                        columnNumber: 97\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ProgressBar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                        startTime: activeTrainTask.startTime,\n                                        duration: activeTrainTask.duration,\n                                        className: \"w-full h-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                        lineNumber: 281,\n                                        columnNumber: 215\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                lineNumber: 281,\n                                columnNumber: 33\n                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"sci-fi-unit-row !p-2 flex items-center gap-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-8 h-8 p-1 bg-black/30 rounded-md text-brand-red\",\n                                        children: _GameUI__WEBPACK_IMPORTED_MODULE_4__.iconMap[unitToTrain.id]\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                        lineNumber: 284,\n                                        columnNumber: 37\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-grow\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CostDisplay, {\n                                            cost: totalUnitCost,\n                                            resources: resources\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                            lineNumber: 285,\n                                            columnNumber: 65\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                        lineNumber: 285,\n                                        columnNumber: 38\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        min: \"1\",\n                                        max: Math.max(1, popSpace),\n                                        value: trainCount,\n                                        onChange: (e)=>setTrainCount(Math.min(Number(e.target.value), popSpace)),\n                                        className: \"sci-fi-slider w-24\",\n                                        disabled: popSpace <= 0\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                        lineNumber: 286,\n                                        columnNumber: 38\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"font-bold text-base w-8 text-center bg-black/20 p-1 rounded-md\",\n                                        children: popSpace > 0 ? trainCount : 0\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                        lineNumber: 287,\n                                        columnNumber: 38\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative group\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>onTrainUnits(unitToTrain.id, trainCount),\n                                                disabled: !canTrainUnit,\n                                                className: \"sci-fi-action-button\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-6 h-6\",\n                                                    children: _GameUI__WEBPACK_IMPORTED_MODULE_4__.iconMap[unitToTrain.id]\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                    lineNumber: 289,\n                                                    columnNumber: 165\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                lineNumber: 289,\n                                                columnNumber: 42\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                children: getTrainUnitTooltip()\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                                lineNumber: 290,\n                                                columnNumber: 42\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                        lineNumber: 288,\n                                        columnNumber: 38\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                                lineNumber: 283,\n                                columnNumber: 34\n                            }, undefined)\n                        }, void 0, false)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n                    lineNumber: 247,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n            lineNumber: 231,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/BuildingManagementPanel.tsx\",\n        lineNumber: 230,\n        columnNumber: 9\n    }, undefined);\n};\n_s1(BuildingManagementPanel, \"oP+IBHzZ9Zmf/uZKPJlyyyl14AA=\");\n_c2 = BuildingManagementPanel;\n/* harmony default export */ __webpack_exports__[\"default\"] = (BuildingManagementPanel);\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"BuildingRow\");\n$RefreshReg$(_c1, \"CostDisplay\");\n$RefreshReg$(_c2, \"BuildingManagementPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvQnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBMkQ7QUFFNEM7QUFDL0Q7QUFDTDtBQUNHO0FBd0J0QyxNQUFNYSxjQUtEO1FBQUMsRUFBRUMsUUFBUSxFQUFFQyxJQUFJLEVBQUVDLFFBQVEsRUFBRUMsVUFBVSxFQUFFOztJQUMxQyxNQUFNLENBQUNDLFdBQVdDLGFBQWEsR0FBR2xCLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ21CLE1BQU1DLFFBQVEsR0FBR3BCLCtDQUFRQSxDQUFDYSxTQUFTTSxJQUFJO0lBQzlDLE1BQU1FLFdBQVduQiw2Q0FBTUEsQ0FBbUI7SUFFMUNELGdEQUFTQSxDQUFDO1FBQ04sSUFBSWdCLFdBQVc7Z0JBQ1hJLG1CQUNBQTthQURBQSxvQkFBQUEsU0FBU0MsT0FBTyxjQUFoQkQsd0NBQUFBLGtCQUFrQkUsS0FBSzthQUN2QkYscUJBQUFBLFNBQVNDLE9BQU8sY0FBaEJELHlDQUFBQSxtQkFBa0JHLE1BQU07UUFDNUI7SUFDSixHQUFHO1FBQUNQO0tBQVU7SUFFZCxNQUFNUSxhQUFhO1FBQ2YsSUFBSU4sS0FBS08sSUFBSSxNQUFNUCxLQUFLTyxJQUFJLE9BQU9iLFNBQVNNLElBQUksRUFBRTtZQUM5Q0osU0FBU0QsTUFBTUQsU0FBU2MsRUFBRSxFQUFFUixLQUFLTyxJQUFJO1FBQ3pDO1FBQ0FSLGFBQWE7SUFDakI7SUFFQSxNQUFNVSxnQkFBZ0IsQ0FBQ0M7UUFDbkIsSUFBSUEsRUFBRUMsR0FBRyxLQUFLLFNBQVM7WUFDbkJMO1FBQ0osT0FBTyxJQUFJSSxFQUFFQyxHQUFHLEtBQUssVUFBVTtZQUMzQlYsUUFBUVAsU0FBU00sSUFBSTtZQUNyQkQsYUFBYTtRQUNqQjtJQUNKO0lBRUEscUJBQ0ksOERBQUNhO1FBQUlDLFdBQVU7a0JBQ1ZmLDBCQUNHLDhEQUFDZ0I7WUFDR0MsS0FBS2I7WUFDTFAsTUFBSztZQUNMcUIs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LENBQUNGLEtBQUssR0FBR21EO3dDQUFZdEQsV0FBVTt3Q0FBcUJxSCxVQUFVL0QsWUFBWTs7Ozs7O2tEQUM1TSw4REFBQzFCO3dDQUFLNUIsV0FBVTtrREFBa0VzRCxXQUFXLElBQUlGLGFBQWE7Ozs7OztrREFDOUcsOERBQUNyRDt3Q0FBSUMsV0FBVTs7MERBQ1gsOERBQUNXO2dEQUFPQyxTQUFTLElBQU02QixhQUFhMEIsWUFBWXhFLEVBQUUsRUFBRXlEO2dEQUFhaUUsVUFBVSxDQUFDbEM7Z0RBQWNuRixXQUFVOzBEQUF1Qiw0RUFBQ0Q7b0RBQUlDLFdBQVU7OERBQVd0Qiw0Q0FBTyxDQUFDeUYsWUFBWXhFLEVBQUUsQ0FBQzs7Ozs7Ozs7Ozs7MERBQzVLLDhEQUFDSTtnREFBSUMsV0FBVTswREFBNEtzRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBVXBPO0lBcExNekU7TUFBQUE7QUFzTE4sK0RBQWVBLHVCQUF1QkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL0J1aWxkaW5nTWFuYWdlbWVudFBhbmVsLnRzeD9jMWE1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdHlwZSB7IEJ1aWxkaW5ncywgQnVpbGRpbmdJbnN0YW5jZSwgQnVpbGRpbmdUeXBlLCBCdWlsZGluZ0luZm8sIFJlc291cmNlcywgVW5pdEluZm8sIE1pbGl0YXJ5VW5pdFR5cGUsIEdhbWVUYXNrIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgRm9vZEljb24sIEdvbGRJY29uLCBTdG9uZUljb24sIFdvb2RJY29uLCBBZ2VJY29uLCBWaWxsYWdlckljb24gfSBmcm9tICcuL2ljb25zL1Jlc291cmNlSWNvbnMnO1xuaW1wb3J0IFByb2dyZXNzQmFyIGZyb20gJy4vUHJvZ3Jlc3NCYXInO1xuaW1wb3J0IHsgaWNvbk1hcCB9IGZyb20gJy4vR2FtZVVJJztcbmltcG9ydCB7IFRyYXNoMiB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5cbmludGVyZmFjZSBCdWlsZGluZ01hbmFnZW1lbnRQYW5lbFByb3BzIHtcbiAgICBpc09wZW46IGJvb2xlYW47XG4gICAgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgICBwYW5lbFN0YXRlOiB7XG4gICAgICAgIHR5cGU6IEJ1aWxkaW5nVHlwZSB8IG51bGw7XG4gICAgICAgIGluc3RhbmNlSWQ/OiBzdHJpbmc7XG4gICAgfTtcbiAgICBidWlsZGluZ3M6IEJ1aWxkaW5ncztcbiAgICBidWlsZGluZ0xpc3Q6IEJ1aWxkaW5nSW5mb1tdO1xuICAgIG9uVXBkYXRlQnVpbGRpbmc6ICh0eXBlOiBCdWlsZGluZ1R5cGUsIGlkOiBzdHJpbmcsIG5hbWU6IHN0cmluZykgPT4gdm9pZDtcbiAgICBvbkRlbW9saXNoQnVpbGRpbmc6ICh0eXBlOiBCdWlsZGluZ1R5cGUsIGlkOiBzdHJpbmcpID0+IHZvaWQ7XG4gICAgb25UcmFpblVuaXRzOiAodW5pdFR5cGU6IE1pbGl0YXJ5VW5pdFR5cGUsIGNvdW50OiBudW1iZXIpID0+IHZvaWQ7XG4gICAgb25UcmFpblZpbGxhZ2VyczogKGNvdW50OiBudW1iZXIpID0+IHZvaWQ7XG4gICAgcmVzb3VyY2VzOiBSZXNvdXJjZXM7XG4gICAgcG9wdWxhdGlvbjogeyBjdXJyZW50OiBudW1iZXI7IGNhcGFjaXR5OiBudW1iZXIgfTtcbiAgICB1bml0TGlzdDogVW5pdEluZm9bXTtcbiAgICBvbkFkdmFuY2VBZ2U6ICgpID0+IHZvaWQ7XG4gICAgYWN0aXZlVGFza3M6IEdhbWVUYXNrW107XG4gICAgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7XG59XG5cblxuY29uc3QgQnVpbGRpbmdSb3c6IFJlYWN0LkZDPHtcbiAgICBidWlsZGluZzogQnVpbGRpbmdJbnN0YW5jZTtcbiAgICB0eXBlOiBCdWlsZGluZ1R5cGU7XG4gICAgb25VcGRhdGU6ICh0eXBlOiBCdWlsZGluZ1R5cGUsIGlkOiBzdHJpbmcsIG5hbWU6IHN0cmluZykgPT4gdm9pZDtcbiAgICBvbkRlbW9saXNoOiAodHlwZTogQnVpbGRpbmdUeXBlLCBpZDogc3RyaW5nKSA9PiB2b2lkO1xufT4gPSAoeyBidWlsZGluZywgdHlwZSwgb25VcGRhdGUsIG9uRGVtb2xpc2ggfSkgPT4ge1xuICAgIGNvbnN0IFtpc0VkaXRpbmcsIHNldElzRWRpdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW25hbWUsIHNldE5hbWVdID0gdXNlU3RhdGUoYnVpbGRpbmcubmFtZSk7XG4gICAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNFZGl0aW5nKSB7XG4gICAgICAgICAgICBpbnB1dFJlZi5jdXJyZW50Py5mb2N1cygpO1xuICAgICAgICAgICAgaW5wdXRSZWYuY3VycmVudD8uc2VsZWN0KCk7XG4gICAgICAgIH1cbiAgICB9LCBbaXNFZGl0aW5nXSk7XG5cbiAgICBjb25zdCBoYW5kbGVTYXZlID0gKCkgPT4ge1xuICAgICAgICBpZiAobmFtZS50cmltKCkgJiYgbmFtZS50cmltKCkgIT09IGJ1aWxkaW5nLm5hbWUpIHtcbiAgICAgICAgICAgIG9uVXBkYXRlKHR5cGUsIGJ1aWxkaW5nLmlkLCBuYW1lLnRyaW0oKSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0SXNFZGl0aW5nKGZhbHNlKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgICAgaGFuZGxlU2F2ZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICAgICAgc2V0TmFtZShidWlsZGluZy5uYW1lKTtcbiAgICAgICAgICAgIHNldElzRWRpdGluZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzY2ktZmktdW5pdC1yb3cgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcC0yIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAge2lzRWRpdGluZyA/IChcbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgcmVmPXtpbnB1dFJlZn1cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bmFtZX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROYW1lKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgb25CbHVyPXtoYW5kbGVTYXZlfVxuICAgICAgICAgICAgICAgICAgICBvbktleURvd249e2hhbmRsZUtleURvd259XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNjaS1maS1pbnB1dCB3LWZ1bGwgIXRleHQtYmFzZVwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtZ3JvdyBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkRvdWJsZUNsaWNrPXsoKSA9PiBzZXRJc0VkaXRpbmcodHJ1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkRvdWJsZS1jbGljayB0byByZW5hbWVcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWJhc2UgZm9udC1ib2xkXCI+e2J1aWxkaW5nLm5hbWV9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBncm91cCBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25EZW1vbGlzaCh0eXBlLCBidWlsZGluZy5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0xLjUgdGV4dC1wYXJjaG1lbnQtZGFyay82MCBob3Zlcjp0ZXh0LWJyYW5kLXJlZCByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1jb2xvcnMgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMSBmb2N1czpyaW5nLWJyYW5kLXJlZC81MFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkRlbW9saXNoXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHJhc2gyIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIHJpZ2h0LTEvMiB0cmFuc2xhdGUteC0xLzIgbWItMSB3LW1heCBweC0yIHB5LTEgYmctc3RvbmUtZGFyayB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IHBvaW50ZXItZXZlbnRzLW5vbmUgei0xMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlbW9saXNoXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuXG5jb25zdCBDb3N0RGlzcGxheTogUmVhY3QuRkM8eyBjb3N0OiB7IFtrZXkgaW4ga2V5b2YgUmVzb3VyY2VzXT86IG51bWJlciB9LCByZXNvdXJjZXM6IFJlc291cmNlcyB9PiA9ICh7IGNvc3QsIHJlc291cmNlcyB9KSA9PiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBnYXAteC0zIGdhcC15LTEgdGV4dC14c1wiPlxuICAgICAgICB7KE9iamVjdC5lbnRyaWVzKGNvc3QpIGFzIFtrZXlvZiBSZXNvdXJjZXMsIG51bWJlcl1bXSkubWFwKChbcmVzb3VyY2UsIGFtb3VudF0pID0+IHtcbiAgICAgICAgICAgIGlmICghYW1vdW50KSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IGhhc0Vub3VnaCA9IHJlc291cmNlc1tyZXNvdXJjZV0gPj0gYW1vdW50O1xuICAgICAgICAgICAgY29uc3QgSWNvbiA9IHsgZm9vZDogRm9vZEljb24sIHdvb2Q6IFdvb2RJY29uLCBnb2xkOiBHb2xkSWNvbiwgc3RvbmU6IFN0b25lSWNvbiB9W3Jlc291cmNlXTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPHNwYW4ga2V5PXtyZXNvdXJjZX0gY2xhc3NOYW1lPXtgZmxleCBpdGVtcy1jZW50ZXIgJHtoYXNFbm91Z2ggPyAnJyA6ICd0ZXh0LWJyYW5kLXJlZCd9YH0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy00IGgtNFwiPjxJY29uIC8+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTEgZm9udC1tb25vXCI+e2Ftb3VudH08L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSl9XG4gICAgPC9kaXY+XG4pO1xuXG5cbmNvbnN0IEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsOiBSZWFjdC5GQzxCdWlsZGluZ01hbmFnZW1lbnRQYW5lbFByb3BzPiA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgaXNPcGVuLCBvbkNsb3NlLCBwYW5lbFN0YXRlLCBidWlsZGluZ3MsIGJ1aWxkaW5nTGlzdCwgb25VcGRhdGVCdWlsZGluZywgb25EZW1vbGlzaEJ1aWxkaW5nLCBvblRyYWluVW5pdHMsIG9uVHJhaW5WaWxsYWdlcnMsIHJlc291cmNlcywgcG9wdWxhdGlvbiwgdW5pdExpc3QsIG9uQWR2YW5jZUFnZSwgYWN0aXZlVGFza3MsIGFuY2hvclJlY3QgfSA9IHByb3BzO1xuICAgIFxuICAgIGNvbnN0IFtpc0Nsb3NpbmcsIHNldElzQ2xvc2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2N1cnJlbnREYXRhLCBzZXRDdXJyZW50RGF0YV0gPSB1c2VTdGF0ZSh7IHBhbmVsU3RhdGUsIGJ1aWxkaW5ncywgYW5jaG9yUmVjdCB9KTtcbiAgICBjb25zdCBbdHJhaW5Db3VudCwgc2V0VHJhaW5Db3VudF0gPSB1c2VTdGF0ZSgxKTtcblxuICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWlzT3BlbikgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHBvcFNwYWNlID0gcG9wdWxhdGlvbi5jYXBhY2l0eSAtIHBvcHVsYXRpb24uY3VycmVudDtcbiAgICAgICAgY29uc3QgY3VycmVudENvdW50ID0gdHJhaW5Db3VudDtcblxuICAgICAgICBpZiAoY3VycmVudENvdW50ID4gcG9wU3BhY2UpIHtcbiAgICAgICAgICAgICBzZXRUcmFpbkNvdW50KE1hdGgubWF4KDAsIHBvcFNwYWNlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudENvdW50ID09PSAwICYmIHBvcFNwYWNlID4gMCkge1xuICAgICAgICAgICAgIHNldFRyYWluQ291bnQoMSk7XG4gICAgICAgIH0gZWxzZSBpZiAocG9wU3BhY2UgPT09IDApIHtcbiAgICAgICAgICAgIHNldFRyYWluQ291bnQoMCk7XG4gICAgICAgIH1cblxuICAgIH0sIFtpc09wZW4sIHBhbmVsU3RhdGUudHlwZSwgcG9wdWxhdGlvbi5jYXBhY2l0eSwgcG9wdWxhdGlvbi5jdXJyZW50LCB0cmFpbkNvdW50XSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNPcGVuIHx8IGlzQ2xvc2luZykge1xuICAgICAgICAgICAgc2V0Q3VycmVudERhdGEoeyBwYW5lbFN0YXRlLCBidWlsZGluZ3MsIGFuY2hvclJlY3QgfSk7XG4gICAgICAgIH1cbiAgICB9LCBbcGFuZWxTdGF0ZSwgYnVpbGRpbmdzLCBhbmNob3JSZWN0LCBpc09wZW4sIGlzQ2xvc2luZ10pO1xuXG4gICAgY29uc3QgaGFuZGxlQ2xvc2UgPSAoKSA9PiB7XG4gICAgICAgIHNldElzQ2xvc2luZyh0cnVlKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IG9uQ2xvc2UoKTsgc2V0SXNDbG9zaW5nKGZhbHNlKTsgfSwgMzAwKTtcbiAgICB9O1xuXG4gICAgaWYgKCFpc09wZW4gJiYgIWlzQ2xvc2luZykgcmV0dXJuIG51bGw7XG5cbiAgICBjb25zdCB7IHBhbmVsU3RhdGU6IGN1cnJlbnRQYW5lbFN0YXRlLCBidWlsZGluZ3M6IGN1cnJlbnRCdWlsZGluZ3MsIGFuY2hvclJlY3Q6IGN1cnJlbnRBbmNob3IgfSA9IGN1cnJlbnREYXRhO1xuICAgIGNvbnN0IHsgdHlwZSB9ID0gY3VycmVudFBhbmVsU3RhdGU7XG5cbiAgICBpZiAoIXR5cGUgfHwgIWN1cnJlbnRBbmNob3IpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgYnVpbGRpbmdJbmZvID0gYnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSB0eXBlKTtcbiAgICBjb25zdCBidWlsZGluZ0luc3RhbmNlcyA9IGN1cnJlbnRCdWlsZGluZ3NbdHlwZV07XG4gICAgY29uc3QgdW5pdFRvVHJhaW4gPSB1bml0TGlzdC5maW5kKHUgPT4gdS5yZXF1aXJlZEJ1aWxkaW5nID09PSB0eXBlKTtcbiAgICBcbiAgICBjb25zdCBhY3RpdmVUcmFpblRhc2sgPSB1bml0VG9UcmFpbiA/IGFjdGl2ZVRhc2tzLmZpbmQodCA9PiB0LnR5cGUgPT09ICd0cmFpbl9taWxpdGFyeScgJiYgdC5wYXlsb2FkPy51bml0VHlwZSA9PT0gdW5pdFRvVHJhaW4/LmlkKSA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBhY3RpdmVWaWxsYWdlclRhc2sgPSBhY3RpdmVUYXNrcy5maW5kKHQgPT4gdC50eXBlID09PSAndHJhaW5fdmlsbGFnZXInKTtcbiAgICBjb25zdCBhY3RpdmVBZ2VUYXNrID0gYWN0aXZlVGFza3MuZmluZCh0ID0+IHQudHlwZSA9PT0gJ2FkdmFuY2VfYWdlJyk7XG5cbiAgICBjb25zdCBwb3BTcGFjZSA9IHBvcHVsYXRpb24uY2FwYWNpdHkgLSBwb3B1bGF0aW9uLmN1cnJlbnQ7XG4gICAgY29uc3QgaGFzUG9wQ2FwYWNpdHkgPSBwb3BTcGFjZSA+PSB0cmFpbkNvdW50O1xuXG4gICAgY29uc3QgdG90YWxVbml0Q29zdCA9IHVuaXRUb1RyYWluID8gT2JqZWN0LmVudHJpZXModW5pdFRvVHJhaW4uY29zdCkucmVkdWNlKChhY2MsIFtyZXMsIHZhbF0pID0+ICh7IC4uLmFjYywgW3Jlc106ICh2YWwgfHwgMCkgKiB0cmFpbkNvdW50IH0pLCB7fSBhcyBhbnkpIDoge307XG4gICAgY29uc3QgY2FuQWZmb3JkVW5pdCA9IHVuaXRUb1RyYWluID8gT2JqZWN0LmVudHJpZXModG90YWxVbml0Q29zdCkuZXZlcnkoKFtyZXMsIGNvc3RdKSA9PiByZXNvdXJjZXNbcmVzIGFzIGtleW9mIFJlc291cmNlc10gPj0gKGNvc3QgYXMgbnVtYmVyKSkgOiBmYWxzZTtcbiAgICBjb25zdCBjYW5UcmFpblVuaXQgPSB1bml0VG9UcmFpbiAmJiBjYW5BZmZvcmRVbml0ICYmIGhhc1BvcENhcGFjaXR5ICYmICFhY3RpdmVUcmFpblRhc2s7XG5cbiAgICBjb25zdCB0b3RhbFZpbGxhZ2VyQ29zdCA9IHsgZm9vZDogNTAgKiB0cmFpbkNvdW50IH07XG4gICAgY29uc3QgY2FuQWZmb3JkVmlsbGFnZXJzID0gcmVzb3VyY2VzLmZvb2QgPj0gdG90YWxWaWxsYWdlckNvc3QuZm9vZDtcbiAgICBjb25zdCBjYW5UcmFpblZpbGxhZ2VycyA9IGNhbkFmZm9yZFZpbGxhZ2VycyAmJiBoYXNQb3BDYXBhY2l0eSAmJiAhYWN0aXZlVmlsbGFnZXJUYXNrO1xuXG4gICAgY29uc3QgcGFuZWxXaWR0aCA9IDM4NDsgLy8gZnJvbSB3LTk2XG4gICAgY29uc3QgcGFuZWxIZWlnaHRFc3RpbWF0ZSA9IDQwMDsgLy8gQSBzYWZlIGVzdGltYXRlXG4gICAgY29uc3QgcGFuZWxHYXAgPSA4O1xuXG4gICAgY29uc3QgcGFuZWxTdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHt9O1xuXG4gICAgY29uc3Qgc3BhY2VCZWxvdyA9IHdpbmRvdy5pbm5lckhlaWdodCAtIGN1cnJlbnRBbmNob3IuYm90dG9tO1xuICAgIGNvbnN0IHNwYWNlQWJvdmUgPSBjdXJyZW50QW5jaG9yLnRvcDtcblxuICAgIGlmIChzcGFjZUJlbG93IDwgcGFuZWxIZWlnaHRFc3RpbWF0ZSAmJiBzcGFjZUFib3ZlID4gc3BhY2VCZWxvdykge1xuICAgICAgICBwYW5lbFN0eWxlLmJvdHRvbSA9IGAke3dpbmRvdy5pbm5lckhlaWdodCAtIGN1cnJlbnRBbmNob3IudG9wICsgcGFuZWxHYXB9cHhgO1xuICAgICAgICBwYW5lbFN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9ICdib3R0b20gY2VudGVyJztcbiAgICB9IGVsc2Uge1xuICAgICAgICBwYW5lbFN0eWxlLnRvcCA9IGAke2N1cnJlbnRBbmNob3IuYm90dG9tICsgcGFuZWxHYXB9cHhgO1xuICAgICAgICBwYW5lbFN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9ICd0b3AgY2VudGVyJztcbiAgICB9XG5cbiAgICBsZXQgbGVmdFBvcyA9IGN1cnJlbnRBbmNob3IubGVmdCArIGN1cnJlbnRBbmNob3Iud2lkdGggLyAyIC0gcGFuZWxXaWR0aCAvIDI7XG4gICAgaWYgKGxlZnRQb3MgKyBwYW5lbFdpZHRoID4gd2luZG93LmlubmVyV2lkdGggLSBwYW5lbEdhcCkge1xuICAgICAgICBsZWZ0UG9zID0gd2luZG93LmlubmVyV2lkdGggLSBwYW5lbFdpZHRoIC0gcGFuZWxHYXA7XG4gICAgfVxuICAgIGlmIChsZWZ0UG9zIDwgcGFuZWxHYXApIHtcbiAgICAgICAgbGVmdFBvcyA9IHBhbmVsR2FwO1xuICAgIH1cbiAgICBwYW5lbFN0eWxlLmxlZnQgPSBgJHtsZWZ0UG9zfXB4YDtcblxuXG4gICAgLy8gLS0tIFRvb2x0aXAgVGV4dCBHZW5lcmF0aW9uIC0tLVxuICAgIGNvbnN0IGdldFRyYWluVW5pdFRvb2x0aXAgPSAoKSA9PiB7XG4gICAgICAgIGlmICghdW5pdFRvVHJhaW4pIHJldHVybiAnJztcbiAgICAgICAgaWYgKGFjdGl2ZVRyYWluVGFzaykgcmV0dXJuICdUcmFpbmluZyBpbiBwcm9ncmVzcy4uLic7XG4gICAgICAgIGlmICghaGFzUG9wQ2FwYWNpdHkpIHJldHVybiBgTmVlZCAke3RyYWluQ291bnQgLSBwb3BTcGFjZX0gbW9yZSBob3VzaW5nLmA7XG4gICAgICAgIGlmICghY2FuQWZmb3JkVW5pdCkgcmV0dXJuICdJbnN1ZmZpY2llbnQgUmVzb3VyY2VzLic7XG4gICAgICAgIHJldHVybiBgVHJhaW4gJHt0cmFpbkNvdW50fSAke3VuaXRUb1RyYWluLm5hbWV9KHMpYDtcbiAgICB9O1xuXG4gICAgY29uc3QgZ2V0VHJhaW5WaWxsYWdlclRvb2x0aXAgPSAoKSA9PiB7XG4gICAgICAgIGlmIChhY3RpdmVWaWxsYWdlclRhc2spIHJldHVybiAnVHJhaW5pbmcgaW4gcHJvZ3Jlc3MuLi4nO1xuICAgICAgICBpZiAoIWhhc1BvcENhcGFjaXR5KSByZXR1cm4gYE5lZWQgJHt0cmFpbkNvdW50IC0gcG9wU3BhY2V9IG1vcmUgaG91c2luZy5gO1xuICAgICAgICBpZiAoIWNhbkFmZm9yZFZpbGxhZ2VycykgcmV0dXJuICdJbnN1ZmZpY2llbnQgRm9vZC4nO1xuICAgICAgICByZXR1cm4gYFRyYWluICR7dHJhaW5Db3VudH0gVmlsbGFnZXIocylgO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgZ2V0QWR2YW5jZUFnZVRvb2x0aXAgPSAoKSA9PiB7XG4gICAgICAgIGlmIChhY3RpdmVBZ2VUYXNrKSByZXR1cm4gJ0FkdmFuY2VtZW50IGluIHByb2dyZXNzLic7XG4gICAgICAgIGlmIChyZXNvdXJjZXMuZm9vZCA8IDUwMCB8fCByZXNvdXJjZXMuZ29sZCA8IDIwMCkgcmV0dXJuICdJbnN1ZmZpY2llbnQgcmVzb3VyY2VzIHRvIGFkdmFuY2UuJztcbiAgICAgICAgcmV0dXJuICdBZHZhbmNlIHRvIHRoZSBuZXh0IGFnZSAoNjBzKSc7XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgc3R5bGU9e3BhbmVsU3R5bGV9IGNsYXNzTmFtZT17YGZpeGVkIHotNDAgdy05NiB0cmFuc2Zvcm0gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGVhc2UtaW4tb3V0ICR7aXNPcGVuICYmICFpc0Nsb3NpbmcgPyAnb3BhY2l0eS0xMDAgc2NhbGUtMTAwJyA6ICdvcGFjaXR5LTAgc2NhbGUtOTUnfWB9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzY2ktZmktcGFuZWwtcG9wdXAgc2NpLWZpLWdyaWQgcC00XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItNFwiPlxuICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1zZXJpZlwiPntidWlsZGluZ0luZm8/Lm5hbWV9eyFidWlsZGluZ0luZm8/LmlzVW5pcXVlID8gJ3MnIDogJyd9PC9oMj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVDbG9zZX0gY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHNjaS1maS1jbG9zZS1idXR0b25cIj4mdGltZXM7PC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMiBtYXgtaC00OCBvdmVyZmxvdy15LWF1dG8gcHItMlwiPlxuICAgICAgICAgICAgICAgICAgICB7YnVpbGRpbmdJbnN0YW5jZXMubGVuZ3RoID4gMCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nSW5zdGFuY2VzLm1hcChpbnN0YW5jZSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1aWxkaW5nUm93IGtleT17aW5zdGFuY2UuaWR9IGJ1aWxkaW5nPXtpbnN0YW5jZX0gdHlwZT17dHlwZX0gb25VcGRhdGU9e29uVXBkYXRlQnVpbGRpbmd9IG9uRGVtb2xpc2g9e29uRGVtb2xpc2hCdWlsZGluZ30gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgICkgOiAoIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtcGFyY2htZW50LWRhcmsgcHktNFwiPllvdSBoYXZlIG5vIHtidWlsZGluZ0luZm8/Lm5hbWU/LnRvTG93ZXJDYXNlKCl9cy48L3A+ICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7KHR5cGUgPT09ICd0b3duQ2VudGVyJyB8fCB1bml0VG9UcmFpbikgJiYgPGhyIGNsYXNzTmFtZT1cImJvcmRlci1zdG9uZS1saWdodC8yMCBteS0zXCIgLz59XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAge3R5cGUgPT09ICd0b3duQ2VudGVyJyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YWN0aXZlVmlsbGFnZXJUYXNrID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtMTQgZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXJcIj48cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcGFyY2htZW50LWRhcmsgbWItMlwiPlRyYWluaW5nIHthY3RpdmVWaWxsYWdlclRhc2sucGF5bG9hZD8uY291bnR9IFZpbGxhZ2VyKHMpLi4uPC9wPjxQcm9ncmVzc0JhciBzdGFydFRpbWU9e2FjdGl2ZVZpbGxhZ2VyVGFzay5zdGFydFRpbWV9IGR1cmF0aW9uPXthY3RpdmVWaWxsYWdlclRhc2suZHVyYXRpb259IGNsYXNzTmFtZT1cInctZnVsbCBoLTJcIi8+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzY2ktZmktdW5pdC1yb3cgIXAtMiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC04IHAtMSBiZy1ibGFjay8zMCByb3VuZGVkLW1kIHRleHQtYnJhbmQtYmx1ZVwiPjxWaWxsYWdlckljb24vPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LWdyb3dcIj48Q29zdERpc3BsYXkgY29zdD17dG90YWxWaWxsYWdlckNvc3R9IHJlc291cmNlcz17cmVzb3VyY2VzfSAvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYW5nZVwiIG1pbj1cIjFcIiBtYXg9e01hdGgubWF4KDEsIHBvcFNwYWNlKX0gdmFsdWU9e3RyYWluQ291bnR9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0VHJhaW5Db3VudChNYXRoLm1pbihOdW1iZXIoZS50YXJnZXQudmFsdWUpLCBwb3BTcGFjZSkpfSBjbGFzc05hbWU9XCJzY2ktZmktc2xpZGVyIHctMjRcIiBkaXNhYmxlZD17cG9wU3BhY2UgPD0gMH0vPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtYmFzZSB3LTggdGV4dC1jZW50ZXIgYmctYmxhY2svMjAgcC0xIHJvdW5kZWQtbWRcIj57cG9wU3BhY2UgPiAwID8gdHJhaW5Db3VudCA6IDB9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gb25UcmFpblZpbGxhZ2Vycyh0cmFpbkNvdW50KX0gZGlzYWJsZWQ9eyFjYW5UcmFpblZpbGxhZ2Vyc30gY2xhc3NOYW1lPVwic2NpLWZpLWFjdGlvbi1idXR0b25cIj48ZGl2IGNsYXNzTmFtZT1cInctNiBoLTZcIj48VmlsbGFnZXJJY29uLz48L2Rpdj48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIHJpZ2h0LTAgbWItMiB3LW1heCBweC0yIHB5LTEgYmctc3RvbmUtZGFyayB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IHBvaW50ZXItZXZlbnRzLW5vbmUgei0xMFwiPntnZXRUcmFpblZpbGxhZ2VyVG9vbHRpcCgpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHthY3RpdmVBZ2VUYXNrID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtMTIgbXQtMiBmbGV4IGZsZXgtY29sIGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlclwiPjxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1wYXJjaG1lbnQtZGFyayBtYi0yXCI+QWR2YW5jaW5nIHRvIHRoZSBuZXh0IGFnZS4uLjwvcD48UHJvZ3Jlc3NCYXIgc3RhcnRUaW1lPXthY3RpdmVBZ2VUYXNrLnN0YXJ0VGltZX0gZHVyYXRpb249e2FjdGl2ZUFnZVRhc2suZHVyYXRpb259IGNsYXNzTmFtZT1cInctZnVsbCBoLTJcIi8+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzY2ktZmktdW5pdC1yb3cgIXAtMiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBtdC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOCBoLTggcC0xIGJnLWJsYWNrLzMwIHJvdW5kZWQtbWQgdGV4dC1icmFuZC1nb2xkXCI+PEFnZUljb24vPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LWdyb3dcIj48Q29zdERpc3BsYXkgY29zdD17eyBmb29kOiA1MDAsIGdvbGQ6IDIwMCB9fSByZXNvdXJjZXM9e3Jlc291cmNlc30gLz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvbkFkdmFuY2VBZ2V9IGRpc2FibGVkPXshIWFjdGl2ZUFnZVRhc2sgfHwgcmVzb3VyY2VzLmZvb2QgPCA1MDAgfHwgcmVzb3VyY2VzLmdvbGQgPCAyMDB9IGNsYXNzTmFtZT1cInNjaS1maS1hY3Rpb24tYnV0dG9uXCI+PGRpdiBjbGFzc05hbWU9XCJ3LTYgaC02XCI+PEFnZUljb24gLz48L2Rpdj48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIHJpZ2h0LTAgbWItMiB3LW1heCBweC0yIHB5LTEgYmctc3RvbmUtZGFyayB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IHBvaW50ZXItZXZlbnRzLW5vbmUgei0xMFwiPntnZXRBZHZhbmNlQWdlVG9vbHRpcCgpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAge3VuaXRUb1RyYWluICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2FjdGl2ZVRyYWluVGFzayA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTE2IGZsZXggZmxleC1jb2wganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyXCI+PHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXBhcmNobWVudC1kYXJrIG1iLTJcIj5UcmFpbmluZyB7YWN0aXZlVHJhaW5UYXNrLnBheWxvYWQ/LmNvdW50fSB7dW5pdFRvVHJhaW4ubmFtZX0ocykuLi48L3A+PFByb2dyZXNzQmFyIHN0YXJ0VGltZT17YWN0aXZlVHJhaW5UYXNrLnN0YXJ0VGltZX0gZHVyYXRpb249e2FjdGl2ZVRyYWluVGFzay5kdXJhdGlvbn0gY2xhc3NOYW1lPVwidy1mdWxsIGgtMlwiLz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzY2ktZmktdW5pdC1yb3cgIXAtMiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC04IHAtMSBiZy1ibGFjay8zMCByb3VuZGVkLW1kIHRleHQtYnJhbmQtcmVkXCI+e2ljb25NYXBbdW5pdFRvVHJhaW4uaWRdfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1ncm93XCI+PENvc3REaXNwbGF5IGNvc3Q9e3RvdGFsVW5pdENvc3R9IHJlc291cmNlcz17cmVzb3VyY2VzfSAvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBtaW49XCIxXCIgbWF4PXtNYXRoLm1heCgxLCBwb3BTcGFjZSl9IHZhbHVlPXt0cmFpbkNvdW50fSBvbkNoYW5nZT17KGUpID0+IHNldFRyYWluQ291bnQoTWF0aC5taW4oTnVtYmVyKGUudGFyZ2V0LnZhbHVlKSwgcG9wU3BhY2UpKX0gY2xhc3NOYW1lPVwic2NpLWZpLXNsaWRlciB3LTI0XCIgZGlzYWJsZWQ9e3BvcFNwYWNlIDw9IDB9Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1iYXNlIHctOCB0ZXh0LWNlbnRlciBiZy1ibGFjay8yMCBwLTEgcm91bmRlZC1tZFwiPntwb3BTcGFjZSA+IDAgPyB0cmFpbkNvdW50IDogMH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IG9uVHJhaW5Vbml0cyh1bml0VG9UcmFpbi5pZCwgdHJhaW5Db3VudCl9IGRpc2FibGVkPXshY2FuVHJhaW5Vbml0fSBjbGFzc05hbWU9XCJzY2ktZmktYWN0aW9uLWJ1dHRvblwiPjxkaXYgY2xhc3NOYW1lPVwidy02IGgtNlwiPntpY29uTWFwW3VuaXRUb1RyYWluLmlkXX08L2Rpdj48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tZnVsbCByaWdodC0wIG1iLTIgdy1tYXggcHgtMiBweS0xIGJnLXN0b25lLWRhcmsgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBwb2ludGVyLWV2ZW50cy1ub25lIHotMTBcIj57Z2V0VHJhaW5Vbml0VG9vbHRpcCgpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJGb29kSWNvbiIsIkdvbGRJY29uIiwiU3RvbmVJY29uIiwiV29vZEljb24iLCJBZ2VJY29uIiwiVmlsbGFnZXJJY29uIiwiUHJvZ3Jlc3NCYXIiLCJpY29uTWFwIiwiVHJhc2gyIiwiQnVpbGRpbmdSb3ciLCJidWlsZGluZyIsInR5cGUiLCJvblVwZGF0ZSIsIm9uRGVtb2xpc2giLCJpc0VkaXRpbmciLCJzZXRJc0VkaXRpbmciLCJuYW1lIiwic2V0TmFtZSIsImlucHV0UmVmIiwiY3VycmVudCIsImZvY3VzIiwic2VsZWN0IiwiaGFuZGxlU2F2ZSIsInRyaW0iLCJpZCIsImhhbmRsZUtleURvd24iLCJlIiwia2V5IiwiZGl2IiwiY2xhc3NOYW1lIiwiaW5wdXQiLCJyZWYiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwidGFyZ2V0Iiwib25CbHVyIiwib25LZXlEb3duIiwib25Eb3VibGVDbGljayIsInRpdGxlIiwicCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJhcmlhLWxhYmVsIiwiQ29zdERpc3BsYXkiLCJjb3N0IiwicmVzb3VyY2VzIiwiT2JqZWN0IiwiZW50cmllcyIsIm1hcCIsInJlc291cmNlIiwiYW1vdW50IiwiaGFzRW5vdWdoIiwiSWNvbiIsImZvb2QiLCJ3b29kIiwiZ29sZCIsInN0b25lIiwic3BhbiIsIkJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsIiwicHJvcHMiLCJidWlsZGluZ0luZm8iLCJhY3RpdmVWaWxsYWdlclRhc2siLCJhY3RpdmVUcmFpblRhc2siLCJpc09wZW4iLCJvbkNsb3NlIiwicGFuZWxTdGF0ZSIsImJ1aWxkaW5ncyIsImJ1aWxkaW5nTGlzdCIsIm9uVXBkYXRlQnVpbGRpbmciLCJvbkRlbW9saXNoQnVpbGRpbmciLCJvblRyYWluVW5pdHMiLCJvblRyYWluVmlsbGFnZXJzIiwicG9wdWxhdGlvbiIsInVuaXRMaXN0Iiwib25BZHZhbmNlQWdlIiwiYWN0aXZlVGFza3MiLCJhbmNob3JSZWN0IiwiaXNDbG9zaW5nIiwic2V0SXNDbG9zaW5nIiwiY3VycmVudERhdGEiLCJzZXRDdXJyZW50RGF0YSIsInRyYWluQ291bnQiLCJzZXRUcmFpbkNvdW50IiwicG9wU3BhY2UiLCJjYXBhY2l0eSIsImN1cnJlbnRDb3VudCIsIk1hdGgiLCJtYXgiLCJoYW5kbGVDbG9zZSIsInNldFRpbWVvdXQiLCJjdXJyZW50UGFuZWxTdGF0ZSIsImN1cnJlbnRCdWlsZGluZ3MiLCJjdXJyZW50QW5jaG9yIiwiZmluZCIsImIiLCJidWlsZGluZ0luc3RhbmNlcyIsInVuaXRUb1RyYWluIiwidSIsInJlcXVpcmVkQnVpbGRpbmciLCJ0IiwicGF5bG9hZCIsInVuaXRUeXBlIiwidW5kZWZpbmVkIiwiYWN0aXZlQWdlVGFzayIsImhhc1BvcENhcGFjaXR5IiwidG90YWxVbml0Q29zdCIsInJlZHVjZSIsImFjYyIsInJlcyIsInZhbCIsImNhbkFmZm9yZFVuaXQiLCJldmVyeSIsImNhblRyYWluVW5pdCIsInRvdGFsVmlsbGFnZXJDb3N0IiwiY2FuQWZmb3JkVmlsbGFnZXJzIiwiY2FuVHJhaW5WaWxsYWdlcnMiLCJwYW5lbFdpZHRoIiwicGFuZWxIZWlnaHRFc3RpbWF0ZSIsInBhbmVsR2FwIiwicGFuZWxTdHlsZSIsInNwYWNlQmVsb3ciLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsImJvdHRvbSIsInNwYWNlQWJvdmUiLCJ0b3AiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJsZWZ0UG9zIiwibGVmdCIsIndpZHRoIiwiaW5uZXJXaWR0aCIsImdldFRyYWluVW5pdFRvb2x0aXAiLCJnZXRUcmFpblZpbGxhZ2VyVG9vbHRpcCIsImdldEFkdmFuY2VBZ2VUb29sdGlwIiwic3R5bGUiLCJoMiIsImlzVW5pcXVlIiwibGVuZ3RoIiwiaW5zdGFuY2UiLCJ0b0xvd2VyQ2FzZSIsImhyIiwiY291bnQiLCJzdGFydFRpbWUiLCJkdXJhdGlvbiIsIm1pbiIsIk51bWJlciIsImRpc2FibGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/BuildingManagementPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/CivilizationPanel.tsx":
/*!******************************************!*\
  !*** ./components/CivilizationPanel.tsx ***!
  \******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\nvar _s = $RefreshSig$();\n\nconst CivilizationPanel = (param)=>{\n    let { isOpen, onClose, civilization, anchorRect } = param;\n    _s();\n    const [isClosing, setIsClosing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentData, setCurrentData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        civilization,\n        anchorRect\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen || isClosing) {\n            setCurrentData({\n                civilization,\n                anchorRect\n            });\n        }\n    }, [\n        civilization,\n        anchorRect,\n        isOpen,\n        isClosing\n    ]);\n    const handleClose = ()=>{\n        setIsClosing(true);\n        setTimeout(()=>{\n            onClose();\n            setIsClosing(false);\n        }, 300);\n    };\n    if (!isOpen && !isClosing || !currentData.civilization || !currentData.anchorRect) return null;\n    const { civilization: currentCiv, anchorRect: currentAnchor } = currentData;\n    const panelWidth = 384; // from w-96\n    const panelGap = 8;\n    const panelStyle = {};\n    panelStyle.top = \"\".concat(currentAnchor.bottom + panelGap, \"px\");\n    let leftPos = currentAnchor.left;\n    if (leftPos + panelWidth > window.innerWidth - panelGap) {\n        leftPos = window.innerWidth - panelWidth - panelGap;\n        panelStyle.transformOrigin = \"top right\";\n    } else {\n        panelStyle.transformOrigin = \"top left\";\n    }\n    if (leftPos < panelGap) {\n        leftPos = panelGap;\n    }\n    panelStyle.left = \"\".concat(leftPos, \"px\");\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: panelStyle,\n        className: \"fixed z-40 w-96 transform transition-all duration-300 ease-in-out \".concat(isOpen && !isClosing ? \"opacity-100 scale-100\" : \"opacity-0 scale-95\"),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"sci-fi-panel-popup sci-fi-grid p-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-serif\",\n                            children: currentCiv.name\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                            lineNumber: 60,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleClose,\n                            className: \"text-3xl font-bold sci-fi-close-button\",\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                            lineNumber: 61,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                    lineNumber: 59,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex gap-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-1/3 flex-shrink-0\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: currentCiv.bannerUrl,\n                                alt: \"\".concat(currentCiv.name, \" banner\"),\n                                className: \"w-full h-auto rounded-md object-cover border-2 border-brand-gold shadow-lg\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                                lineNumber: 66,\n                                columnNumber: 25\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                            lineNumber: 65,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-2/3 text-sm text-parchment-dark space-y-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: currentCiv.lore\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                                    lineNumber: 69,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                                    className: \"border-stone-light/20\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                                    lineNumber: 70,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                            children: \"Bonus:\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                                            lineNumber: 71,\n                                            columnNumber: 28\n                                        }, undefined),\n                                        \" \",\n                                        currentCiv.bonus\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                                    lineNumber: 71,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                            children: \"Unique Unit:\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                                            lineNumber: 72,\n                                            columnNumber: 28\n                                        }, undefined),\n                                        \" \",\n                                        currentCiv.uniqueUnit.name,\n                                        \" - \",\n                                        currentCiv.uniqueUnit.description\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                                    lineNumber: 72,\n                                    columnNumber: 25\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                            lineNumber: 68,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n                    lineNumber: 64,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n            lineNumber: 58,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/CivilizationPanel.tsx\",\n        lineNumber: 54,\n        columnNumber: 9\n    }, undefined);\n};\n_s(CivilizationPanel, \"ExDy3lGS2vrGcYFVraivYnyc+IQ=\");\n_c = CivilizationPanel;\n/* harmony default export */ __webpack_exports__[\"default\"] = (CivilizationPanel);\nvar _c;\n$RefreshReg$(_c, \"CivilizationPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvQ2l2aWxpemF0aW9uUGFuZWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7OztBQUFtRDtBQVVuRCxNQUFNRyxvQkFBc0Q7UUFBQyxFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsWUFBWSxFQUFFQyxVQUFVLEVBQUU7O0lBQ3RHLE1BQU0sQ0FBQ0MsV0FBV0MsYUFBYSxHQUFHUiwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNTLGFBQWFDLGVBQWUsR0FBR1YsK0NBQVFBLENBQUM7UUFBRUs7UUFBY0M7SUFBVztJQUUxRUwsZ0RBQVNBLENBQUM7UUFDTixJQUFJRSxVQUFVSSxXQUFXO1lBQ3JCRyxlQUFlO2dCQUFFTDtnQkFBY0M7WUFBVztRQUM5QztJQUNKLEdBQUc7UUFBQ0Q7UUFBY0M7UUFBWUg7UUFBUUk7S0FBVTtJQUVoRCxNQUFNSSxjQUFjO1FBQ2hCSCxhQUFhO1FBQ2JJLFdBQVc7WUFDUFI7WUFDQUksYUFBYTtRQUNqQixHQUFHO0lBQ1A7SUFFQSxJQUFJLENBQUVMLFVBQVUsQ0FBQ0ksYUFBYyxDQUFDRSxZQUFZSixZQUFZLElBQUksQ0FBQ0ksWUFBWUgsVUFBVSxFQUFFLE9BQU87SUFFNUYsTUFBTSxFQUFFRCxjQUFjUSxVQUFVLEVBQUVQLFlBQVlRLGFBQWEsRUFBRSxHQUFHTDtJQUVoRSxNQUFNTSxhQUFhLEtBQUssWUFBWTtJQUNwQyxNQUFNQyxXQUFXO0lBRWpCLE1BQU1DLGFBQWtDLENBQUM7SUFFekNBLFdBQVdDLEdBQUcsR0FBRyxHQUFtQyxPQUFoQ0osY0FBY0ssTUFBTSxHQUFHSCxVQUFTO0lBRXBELElBQUlJLFVBQVVOLGNBQWNPLElBQUk7SUFDaEMsSUFBSUQsVUFBVUwsYUFBYU8sT0FBT0MsVUFBVSxHQUFHUCxVQUFVO1FBQ3JESSxVQUFVRSxPQUFPQyxVQUFVLEdBQUdSLGFBQWFDO1FBQzNDQyxXQUFXTyxlQUFlLEdBQUc7SUFDakMsT0FBTztRQUNIUCxXQUFXTyxlQUFlLEdBQUc7SUFDakM7SUFDQSxJQUFJSixVQUFVSixVQUFVO1FBQ3BCSSxVQUFVSjtJQUNkO0lBQ0FDLFdBQVdJLElBQUksR0FBRyxHQUFXLE9BQVJELFNBQVE7SUFHN0IscUJBQ0ksOERBQUNLO1FBQ0dDLE9BQU9UO1FBQ1BVLFdBQVcscUVBQTJJLE9BQXRFeEIsVUFBVSxDQUFDSSxZQUFZLDBCQUEwQjtrQkFFakksNEVBQUNrQjtZQUFJRSxXQUFVOzs4QkFDWCw4REFBQ0Y7b0JBQUlFLFdBQVU7O3NDQUNYLDhEQUFDQzs0QkFBR0QsV0FBVTtzQ0FBdUJkLFdBQVdnQixJQUFJOzs7Ozs7c0NBQ3BELDhEQUFDQzs0QkFBT0MsU0FBU3BCOzRCQUFhZ0IsV0FBVTtzQ0FBeUM7Ozs7Ozs7Ozs7Ozs4QkFHckYsOERBQUNGO29CQUFJRSxXQUFVOztzQ0FDWCw4REFBQ0Y7NEJBQUlFLFdBQVU7c0NBQ1gsNEVBQUNLO2dDQUFJQyxLQUFLcEIsV0FBV3FCLFNBQVM7Z0NBQUVDLEtBQUssR0FBbUIsT0FBaEJ0QixXQUFXZ0IsSUFBSSxFQUFDO2dDQUFVRixXQUFVOzs7Ozs7Ozs7OztzQ0FFaEYsOERBQUNGOzRCQUFJRSxXQUFVOzs4Q0FDWCw4REFBQ1M7OENBQUd2QixXQUFXd0IsSUFBSTs7Ozs7OzhDQUNuQiw4REFBQ0M7b0NBQUdYLFdBQVU7Ozs7Ozs4Q0FDZCw4REFBQ1M7O3NEQUFFLDhEQUFDRztzREFBTzs7Ozs7O3dDQUFlO3dDQUFFMUIsV0FBVzJCLEtBQUs7Ozs7Ozs7OENBQzVDLDhEQUFDSjs7c0RBQUUsOERBQUNHO3NEQUFPOzs7Ozs7d0NBQXFCO3dDQUFFMUIsV0FBVzRCLFVBQVUsQ0FBQ1osSUFBSTt3Q0FBQzt3Q0FBSWhCLFdBQVc0QixVQUFVLENBQUNDLFdBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU0xSDtHQW5FTXhDO0tBQUFBO0FBcUVOLCtEQUFlQSxpQkFBaUJBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9DaXZpbGl6YXRpb25QYW5lbC50c3g/YWRiMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB0eXBlIHsgQ2l2aWxpemF0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbnRlcmZhY2UgQ2l2aWxpemF0aW9uUGFuZWxQcm9wcyB7XG4gICAgaXNPcGVuOiBib29sZWFuO1xuICAgIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XG4gICAgY2l2aWxpemF0aW9uOiBDaXZpbGl6YXRpb24gfCBudWxsO1xuICAgIGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsO1xufVxuXG5jb25zdCBDaXZpbGl6YXRpb25QYW5lbDogUmVhY3QuRkM8Q2l2aWxpemF0aW9uUGFuZWxQcm9wcz4gPSAoeyBpc09wZW4sIG9uQ2xvc2UsIGNpdmlsaXphdGlvbiwgYW5jaG9yUmVjdCB9KSA9PiB7XG4gICAgY29uc3QgW2lzQ2xvc2luZywgc2V0SXNDbG9zaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbY3VycmVudERhdGEsIHNldEN1cnJlbnREYXRhXSA9IHVzZVN0YXRlKHsgY2l2aWxpemF0aW9uLCBhbmNob3JSZWN0IH0pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGlzT3BlbiB8fCBpc0Nsb3NpbmcpIHtcbiAgICAgICAgICAgIHNldEN1cnJlbnREYXRhKHsgY2l2aWxpemF0aW9uLCBhbmNob3JSZWN0IH0pO1xuICAgICAgICB9XG4gICAgfSwgW2NpdmlsaXphdGlvbiwgYW5jaG9yUmVjdCwgaXNPcGVuLCBpc0Nsb3NpbmddKTtcblxuICAgIGNvbnN0IGhhbmRsZUNsb3NlID0gKCkgPT4ge1xuICAgICAgICBzZXRJc0Nsb3NpbmcodHJ1ZSk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgb25DbG9zZSgpO1xuICAgICAgICAgICAgc2V0SXNDbG9zaW5nKGZhbHNlKTtcbiAgICAgICAgfSwgMzAwKTtcbiAgICB9O1xuXG4gICAgaWYgKCghaXNPcGVuICYmICFpc0Nsb3NpbmcpIHx8ICFjdXJyZW50RGF0YS5jaXZpbGl6YXRpb24gfHwgIWN1cnJlbnREYXRhLmFuY2hvclJlY3QpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgeyBjaXZpbGl6YXRpb246IGN1cnJlbnRDaXYsIGFuY2hvclJlY3Q6IGN1cnJlbnRBbmNob3IgfSA9IGN1cnJlbnREYXRhO1xuICAgIFxuICAgIGNvbnN0IHBhbmVsV2lkdGggPSAzODQ7IC8vIGZyb20gdy05NlxuICAgIGNvbnN0IHBhbmVsR2FwID0gODtcblxuICAgIGNvbnN0IHBhbmVsU3R5bGU6IFJlYWN0LkNTU1Byb3BlcnRpZXMgPSB7fTtcbiAgICBcbiAgICBwYW5lbFN0eWxlLnRvcCA9IGAke2N1cnJlbnRBbmNob3IuYm90dG9tICsgcGFuZWxHYXB9cHhgO1xuXG4gICAgbGV0IGxlZnRQb3MgPSBjdXJyZW50QW5jaG9yLmxlZnQ7XG4gICAgaWYgKGxlZnRQb3MgKyBwYW5lbFdpZHRoID4gd2luZG93LmlubmVyV2lkdGggLSBwYW5lbEdhcCkge1xuICAgICAgICBsZWZ0UG9zID0gd2luZG93LmlubmVyV2lkdGggLSBwYW5lbFdpZHRoIC0gcGFuZWxHYXA7XG4gICAgICAgIHBhbmVsU3R5bGUudHJhbnNmb3JtT3JpZ2luID0gJ3RvcCByaWdodCc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcGFuZWxTdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSAndG9wIGxlZnQnO1xuICAgIH1cbiAgICBpZiAobGVmdFBvcyA8IHBhbmVsR2FwKSB7XG4gICAgICAgIGxlZnRQb3MgPSBwYW5lbEdhcDtcbiAgICB9XG4gICAgcGFuZWxTdHlsZS5sZWZ0ID0gYCR7bGVmdFBvc31weGA7XG5cblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgICBzdHlsZT17cGFuZWxTdHlsZX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YGZpeGVkIHotNDAgdy05NiB0cmFuc2Zvcm0gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGVhc2UtaW4tb3V0ICR7aXNPcGVuICYmICFpc0Nsb3NpbmcgPyAnb3BhY2l0eS0xMDAgc2NhbGUtMTAwJyA6ICdvcGFjaXR5LTAgc2NhbGUtOTUnfWB9XG4gICAgICAgID5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2NpLWZpLXBhbmVsLXBvcHVwIHNjaS1maS1ncmlkIHAtNFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtc2VyaWZcIj57Y3VycmVudENpdi5uYW1lfTwvaDI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlQ2xvc2V9IGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCBzY2ktZmktY2xvc2UtYnV0dG9uXCI+JnRpbWVzOzwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xLzMgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9e2N1cnJlbnRDaXYuYmFubmVyVXJsfSBhbHQ9e2Ake2N1cnJlbnRDaXYubmFtZX0gYmFubmVyYH0gY2xhc3NOYW1lPVwidy1mdWxsIGgtYXV0byByb3VuZGVkLW1kIG9iamVjdC1jb3ZlciBib3JkZXItMiBib3JkZXItYnJhbmQtZ29sZCBzaGFkb3ctbGdcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTIvMyB0ZXh0LXNtIHRleHQtcGFyY2htZW50LWRhcmsgc3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD57Y3VycmVudENpdi5sb3JlfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxociBjbGFzc05hbWU9XCJib3JkZXItc3RvbmUtbGlnaHQvMjBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+PHN0cm9uZz5Cb251czo8L3N0cm9uZz4ge2N1cnJlbnRDaXYuYm9udXN9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+PHN0cm9uZz5VbmlxdWUgVW5pdDo8L3N0cm9uZz4ge2N1cnJlbnRDaXYudW5pcXVlVW5pdC5uYW1lfSAtIHtjdXJyZW50Q2l2LnVuaXF1ZVVuaXQuZGVzY3JpcHRpb259PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2l2aWxpemF0aW9uUGFuZWw7XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIkNpdmlsaXphdGlvblBhbmVsIiwiaXNPcGVuIiwib25DbG9zZSIsImNpdmlsaXphdGlvbiIsImFuY2hvclJlY3QiLCJpc0Nsb3NpbmciLCJzZXRJc0Nsb3NpbmciLCJjdXJyZW50RGF0YSIsInNldEN1cnJlbnREYXRhIiwiaGFuZGxlQ2xvc2UiLCJzZXRUaW1lb3V0IiwiY3VycmVudENpdiIsImN1cnJlbnRBbmNob3IiLCJwYW5lbFdpZHRoIiwicGFuZWxHYXAiLCJwYW5lbFN0eWxlIiwidG9wIiwiYm90dG9tIiwibGVmdFBvcyIsImxlZnQiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwidHJhbnNmb3JtT3JpZ2luIiwiZGl2Iiwic3R5bGUiLCJjbGFzc05hbWUiLCJoMiIsIm5hbWUiLCJidXR0b24iLCJvbkNsaWNrIiwiaW1nIiwic3JjIiwiYmFubmVyVXJsIiwiYWx0IiwicCIsImxvcmUiLCJociIsInN0cm9uZyIsImJvbnVzIiwidW5pcXVlVW5pdCIsImRlc2NyaXB0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/CivilizationPanel.tsx\n"));

/***/ })

});