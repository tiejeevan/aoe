"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/UnitManagementPanel.tsx":
/*!********************************************!*\
  !*** ./components/UnitManagementPanel.tsx ***!
  \********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./icons/ResourceIcons */ \"(app-pages-browser)/./components/icons/ResourceIcons.tsx\");\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\nconst ActionButton = (param)=>{\n    let { onClick, disabled, title, children } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative group\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: onClick,\n                disabled: disabled,\n                className: \"sci-fi-action-button\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-5 h-5\",\n                    children: children\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                    lineNumber: 32,\n                    columnNumber: 13\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                lineNumber: 27,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                children: title\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                lineNumber: 34,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n        lineNumber: 26,\n        columnNumber: 5\n    }, undefined);\n};\n_c = ActionButton;\nconst UnitRow = (param)=>{\n    let { unit, type, onUpdate, onDismiss, onBuild, canDismiss, taskDetails } = param;\n    _s();\n    const [isEditing, setIsEditing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [name, setName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(unit.name);\n    const [title, setTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"title\" in unit ? unit.title : \"\");\n    const isBusy = taskDetails !== \"Idle\";\n    const handleSave = ()=>{\n        if (name.trim()) {\n            onUpdate(unit.id, name.trim(), title.trim());\n            setIsEditing(false);\n        }\n    };\n    const handleCancel = ()=>{\n        setName(unit.name);\n        setTitle(\"title\" in unit ? unit.title : \"\");\n        setIsEditing(false);\n    };\n    if (isEditing) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"sci-fi-unit-row editing flex flex-col sm:flex-row items-center gap-2\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-grow w-full\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"text\",\n                            value: name,\n                            onChange: (e)=>setName(e.target.value),\n                            className: \"sci-fi-input w-full\",\n                            placeholder: \"Name\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                            lineNumber: 72,\n                            columnNumber: 21\n                        }, undefined),\n                        type === \"military\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"text\",\n                            value: title,\n                            onChange: (e)=>setTitle(e.target.value),\n                            className: \"sci-fi-input w-full mt-1\",\n                            placeholder: \"Title (e.g., 'The Brave')\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                            lineNumber: 80,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                    lineNumber: 71,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex gap-1 self-end sm:self-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleSave,\n                            title: \"Save\",\n                            className: \"bg-brand-green/80 hover:bg-brand-green text-white px-2 py-0.5 text-xs rounded-md\",\n                            children: \"âœ“\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                            lineNumber: 90,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleCancel,\n                            title: \"Cancel\",\n                            className: \"bg-stone-light/80 hover:bg-stone-light text-white px-2 py-0.5 text-xs rounded-md\",\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                            lineNumber: 91,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                    lineNumber: 89,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n            lineNumber: 70,\n            columnNumber: 13\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"sci-fi-unit-row flex items-center gap-4 \".concat(isBusy ? \"busy\" : \"\"),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-grow\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"font-bold\",\n                        children: unit.name\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                        lineNumber: 100,\n                        columnNumber: 17\n                    }, undefined),\n                    type === \"military\" && \"title\" in unit && unit.title && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-brand-gold italic\",\n                        children: [\n                            '\"',\n                            unit.title,\n                            '\"'\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                        lineNumber: 102,\n                        columnNumber: 21\n                    }, undefined),\n                    type === \"military\" && \"unitType\" in unit && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-brand-blue capitalize\",\n                        children: unit.unitType\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                        lineNumber: 105,\n                        columnNumber: 21\n                    }, undefined),\n                    isBusy && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-brand-gold italic\",\n                        children: taskDetails\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                        lineNumber: 107,\n                        columnNumber: 28\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                lineNumber: 99,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center gap-1\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                        onClick: ()=>setIsEditing(true),\n                        title: isBusy ? taskDetails : \"Edit Name/Title\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.EditIcon, {}, void 0, false, {\n                            fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                            lineNumber: 111,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                        lineNumber: 110,\n                        columnNumber: 17\n                    }, undefined),\n                    type === \"villagers\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                        onClick: (e)=>onBuild(unit.id, e.currentTarget.getBoundingClientRect()),\n                        title: isBusy ? taskDetails : \"Construct Building\",\n                        disabled: isBusy,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BuildIcon, {}, void 0, false, {\n                            fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                            lineNumber: 115,\n                            columnNumber: 25\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                        lineNumber: 114,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                        onClick: ()=>onDismiss(unit.id),\n                        disabled: !canDismiss || isBusy,\n                        title: isBusy ? taskDetails : canDismiss ? \"Dismiss\" : \"Cannot dismiss\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.DismissIcon, {}, void 0, false, {\n                            fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                            lineNumber: 123,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                        lineNumber: 118,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                lineNumber: 109,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n        lineNumber: 98,\n        columnNumber: 9\n    }, undefined);\n};\n_s(UnitRow, \"e+JJDCPc02/IVwsi7KlJ7HPEJjw=\");\n_c1 = UnitRow;\nconst UnitManagementPanel = (param)=>{\n    let { isOpen, onClose, units, type, onUpdateUnit, onDismissUnit, onInitiateBuild, getVillagerTaskDetails, anchorRect, panelOpacity } = param;\n    _s1();\n    const [isClosing, setIsClosing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentData, setCurrentData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        type,\n        units,\n        anchorRect\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen || isClosing) {\n            setCurrentData({\n                type,\n                units,\n                anchorRect\n            });\n        }\n    }, [\n        type,\n        units,\n        anchorRect,\n        isOpen,\n        isClosing\n    ]);\n    const handleClose = ()=>{\n        setIsClosing(true);\n        setTimeout(()=>{\n            onClose();\n            setIsClosing(false);\n        }, 300);\n    };\n    if (!isOpen && !isClosing) return null;\n    const { type: currentType, units: currentUnits, anchorRect: currentAnchor } = currentData;\n    if (!currentType || !currentAnchor) return null;\n    const unitList = currentType === \"villagers\" ? currentUnits.villagers : currentUnits.military;\n    const titleText = currentType === \"villagers\" ? \"Your Villagers\" : \"Your Military Forces\";\n    const panelStyle = {\n        top: \"\".concat(currentAnchor.bottom + 8, \"px\"),\n        left: \"\".concat(currentAnchor.left, \"px\"),\n        transformOrigin: \"top left\",\n        \"--panel-opacity\": panelOpacity,\n        maxHeight: \"calc(100vh - \".concat(currentAnchor.bottom + 24, \"px)\")\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: panelStyle,\n        className: \"fixed z-40 w-80 transform transition-all duration-300 ease-in-out \".concat(isOpen && !isClosing ? \"opacity-100 scale-100\" : \"opacity-0 scale-95\"),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"sci-fi-panel-popup sci-fi-grid p-4 h-full flex flex-col\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center mb-4 flex-shrink-0\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-serif\",\n                            children: titleText\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                            lineNumber: 173,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleClose,\n                            className: \"text-3xl font-bold sci-fi-close-button\",\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                            lineNumber: 174,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                    lineNumber: 172,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-2 flex-grow overflow-y-auto pr-2\",\n                    children: unitList.length > 0 ? unitList.map((unit)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(UnitRow, {\n                            unit: unit,\n                            type: currentType,\n                            onUpdate: (id, name, title)=>onUpdateUnit(currentType, id, name, title),\n                            onDismiss: (id)=>onDismissUnit(currentType, id),\n                            onBuild: onInitiateBuild,\n                            canDismiss: currentType !== \"villagers\" || currentUnits.villagers.length > 1,\n                            taskDetails: currentType === \"villagers\" ? getVillagerTaskDetails(unit.id) : \"Idle\"\n                        }, unit.id, false, {\n                            fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                            lineNumber: 180,\n                            columnNumber: 29\n                        }, undefined)) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-center text-parchment-dark py-8\",\n                        children: [\n                            \"You have no \",\n                            currentType,\n                            \".\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                        lineNumber: 192,\n                        columnNumber: 25\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n                    lineNumber: 177,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n            lineNumber: 171,\n            columnNumber: 14\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/UnitManagementPanel.tsx\",\n        lineNumber: 167,\n        columnNumber: 9\n    }, undefined);\n};\n_s1(UnitManagementPanel, \"EevUlky033bJu99HNUmRdR/KR1U=\");\n_c2 = UnitManagementPanel;\n/* harmony default export */ __webpack_exports__[\"default\"] = (UnitManagementPanel);\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"ActionButton\");\n$RefreshReg$(_c1, \"UnitRow\");\n$RefreshReg$(_c2, \"UnitManagementPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvVW5pdE1hbmFnZW1lbnRQYW5lbC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFtRDtBQUVzQjtBQWlCekUsTUFBTU0sZUFLRDtRQUFDLEVBQUVDLE9BQU8sRUFBRUMsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLFFBQVEsRUFBRTt5QkFDeEMsOERBQUNDO1FBQUlDLFdBQVU7OzBCQUNYLDhEQUFDQztnQkFDR04sU0FBU0E7Z0JBQ1RDLFVBQVVBO2dCQUNWSSxXQUFVOzBCQUVWLDRFQUFDRDtvQkFBSUMsV0FBVTs4QkFBV0Y7Ozs7Ozs7Ozs7OzBCQUU5Qiw4REFBQ0M7Z0JBQUlDLFdBQVU7MEJBQ1ZIOzs7Ozs7Ozs7Ozs7O0tBZlBIO0FBb0JOLE1BQU1RLFVBUUQ7UUFBQyxFQUFFQyxJQUFJLEVBQUVDLElBQUksRUFBRUMsUUFBUSxFQUFFQyxTQUFTLEVBQUVDLE9BQU8sRUFBRUMsVUFBVSxFQUFFQyxXQUFXLEVBQUU7O0lBQ3ZFLE1BQU0sQ0FBQ0MsV0FBV0MsYUFBYSxHQUFHdEIsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDdUIsTUFBTUMsUUFBUSxHQUFHeEIsK0NBQVFBLENBQUNjLEtBQUtTLElBQUk7SUFDMUMsTUFBTSxDQUFDZixPQUFPaUIsU0FBUyxHQUFHekIsK0NBQVFBLENBQUMsV0FBV2MsT0FBT0EsS0FBS04sS0FBSyxHQUFHO0lBRWxFLE1BQU1rQixTQUFTTixnQkFBZ0I7SUFFL0IsTUFBTU8sYUFBYTtRQUNmLElBQUlKLEtBQUtLLElBQUksSUFBSTtZQUNiWixTQUFTRixLQUFLZSxFQUFFLEVBQUVOLEtBQUtLLElBQUksSUFBSXBCLE1BQU1vQixJQUFJO1lBQ3pDTixhQUFhO1FBQ2pCO0lBQ0o7SUFFQSxNQUFNUSxlQUFlO1FBQ2pCTixRQUFRVixLQUFLUyxJQUFJO1FBQ2pCRSxTQUFTLFdBQVdYLE9BQU9BLEtBQUtOLEtBQUssR0FBRztRQUN4Q2MsYUFBYTtJQUNqQjtJQUVBLElBQUlE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YUFBYTVCOzRCQUM5Q1gsU0FBUzZCOzRCQUNUNUIsWUFBWXNDLGdCQUFnQixlQUFlQyxhQUFhRyxTQUFTLENBQUNXLE1BQU0sR0FBRzs0QkFDM0VwRCxhQUFhcUMsZ0JBQWdCLGNBQWNULHVCQUF1QmxDLEtBQUtlLEVBQUUsSUFBSTsyQkFQeEVmLEtBQUtlLEVBQUU7Ozs7dURBV3BCLDhEQUFDUTt3QkFBRTFCLFdBQVU7OzRCQUF1Qzs0QkFBYThDOzRCQUFZOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1yRztJQW5FTWhCO01BQUFBO0FBcUVOLCtEQUFlQSxtQkFBbUJBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9Vbml0TWFuYWdlbWVudFBhbmVsLnRzeD9iMjFiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHR5cGUgeyBVbml0cywgVmlsbGFnZXIsIE1pbGl0YXJ5VW5pdCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IERpc21pc3NJY29uLCBFZGl0SWNvbiwgQnVpbGRJY29uIH0gZnJvbSAnLi9pY29ucy9SZXNvdXJjZUljb25zJztcblxudHlwZSBVbml0VHlwZSA9ICd2aWxsYWdlcnMnIHwgJ21pbGl0YXJ5JztcblxuaW50ZXJmYWNlIFVuaXRNYW5hZ2VtZW50UGFuZWxQcm9wcyB7XG4gICAgaXNPcGVuOiBib29sZWFuO1xuICAgIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XG4gICAgdW5pdHM6IFVuaXRzO1xuICAgIHR5cGU6IFVuaXRUeXBlIHwgbnVsbDtcbiAgICBvblVwZGF0ZVVuaXQ6ICh0eXBlOiBVbml0VHlwZSwgaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCB0aXRsZT86IHN0cmluZykgPT4gdm9pZDtcbiAgICBvbkRpc21pc3NVbml0OiAodHlwZTogVW5pdFR5cGUsIGlkOiBzdHJpbmcpID0+IHZvaWQ7XG4gICAgb25Jbml0aWF0ZUJ1aWxkOiAodmlsbGFnZXJJZDogc3RyaW5nLCByZWN0OiBET01SZWN0KSA9PiB2b2lkO1xuICAgIGdldFZpbGxhZ2VyVGFza0RldGFpbHM6ICh2aWxsYWdlcklkOiBzdHJpbmcpID0+IHN0cmluZztcbiAgICBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbDtcbiAgICBwYW5lbE9wYWNpdHk6IG51bWJlcjtcbn1cblxuY29uc3QgQWN0aW9uQnV0dG9uOiBSZWFjdC5GQzx7XG4gICAgb25DbGljazogKGV2ZW50OiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxCdXR0b25FbGVtZW50PikgPT4gdm9pZDtcbiAgICBkaXNhYmxlZD86IGJvb2xlYW47XG4gICAgdGl0bGU6IHN0cmluZztcbiAgICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xufT4gPSAoeyBvbkNsaWNrLCBkaXNhYmxlZCwgdGl0bGUsIGNoaWxkcmVuIH0pID0+IChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGdyb3VwXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJzY2ktZmktYWN0aW9uLWJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy01IGgtNVwiPntjaGlsZHJlbn08L2Rpdj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLWZ1bGwgcmlnaHQtMCBtYi0yIHctbWF4IHB4LTIgcHktMSBiZy1zdG9uZS1kYXJrIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkIG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLW9wYWNpdHkgcG9pbnRlci1ldmVudHMtbm9uZSB6LTEwXCI+XG4gICAgICAgICAgICB7dGl0bGV9XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuKTtcblxuY29uc3QgVW5pdFJvdzogUmVhY3QuRkM8e1xuICAgIHVuaXQ6IFZpbGxhZ2VyIHwgTWlsaXRhcnlVbml0O1xuICAgIHR5cGU6IFVuaXRUeXBlO1xuICAgIG9uVXBkYXRlOiAoaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCB0aXRsZT86IHN0cmluZykgPT4gdm9pZDtcbiAgICBvbkRpc21pc3M6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xuICAgIG9uQnVpbGQ6IChpZDogc3RyaW5nLCByZWN0OiBET01SZWN0KSA9PiB2b2lkO1xuICAgIGNhbkRpc21pc3M6IGJvb2xlYW47XG4gICAgdGFza0RldGFpbHM6IHN0cmluZztcbn0+ID0gKHsgdW5pdCwgdHlwZSwgb25VcGRhdGUsIG9uRGlzbWlzcywgb25CdWlsZCwgY2FuRGlzbWlzcywgdGFza0RldGFpbHMgfSkgPT4ge1xuICAgIGNvbnN0IFtpc0VkaXRpbmcsIHNldElzRWRpdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW25hbWUsIHNldE5hbWVdID0gdXNlU3RhdGUodW5pdC5uYW1lKTtcbiAgICBjb25zdCBbdGl0bGUsIHNldFRpdGxlXSA9IHVzZVN0YXRlKCd0aXRsZScgaW4gdW5pdCA/IHVuaXQudGl0bGUgOiAnJyk7XG5cbiAgICBjb25zdCBpc0J1c3kgPSB0YXNrRGV0YWlscyAhPT0gJ0lkbGUnO1xuXG4gICAgY29uc3QgaGFuZGxlU2F2ZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKG5hbWUudHJpbSgpKSB7XG4gICAgICAgICAgICBvblVwZGF0ZSh1bml0LmlkLCBuYW1lLnRyaW0oKSwgdGl0bGUudHJpbSgpKTtcbiAgICAgICAgICAgIHNldElzRWRpdGluZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQ2FuY2VsID0gKCkgPT4ge1xuICAgICAgICBzZXROYW1lKHVuaXQubmFtZSk7XG4gICAgICAgIHNldFRpdGxlKCd0aXRsZScgaW4gdW5pdCA/IHVuaXQudGl0bGUgOiAnJyk7XG4gICAgICAgIHNldElzRWRpdGluZyhmYWxzZSk7XG4gICAgfTtcblxuICAgIGlmIChpc0VkaXRpbmcpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2NpLWZpLXVuaXQtcm93IGVkaXRpbmcgZmxleCBmbGV4LWNvbCBzbTpmbGV4LXJvdyBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtZ3JvdyB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmFtZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzY2ktZmktaW5wdXQgdy1mdWxsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTmFtZVwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIHt0eXBlID09PSAnbWlsaXRhcnknICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGl0bGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRUaXRsZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2NpLWZpLWlucHV0IHctZnVsbCBtdC0xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlRpdGxlIChlLmcuLCAnVGhlIEJyYXZlJylcIlxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTEgc2VsZi1lbmQgc206c2VsZi1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVTYXZlfSB0aXRsZT1cIlNhdmVcIiBjbGFzc05hbWU9XCJiZy1icmFuZC1ncmVlbi84MCBob3ZlcjpiZy1icmFuZC1ncmVlbiB0ZXh0LXdoaXRlIHB4LTIgcHktMC41IHRleHQteHMgcm91bmRlZC1tZFwiPuKckzwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUNhbmNlbH0gdGl0bGU9XCJDYW5jZWxcIiBjbGFzc05hbWU9XCJiZy1zdG9uZS1saWdodC84MCBob3ZlcjpiZy1zdG9uZS1saWdodCB0ZXh0LXdoaXRlIHB4LTIgcHktMC41IHRleHQteHMgcm91bmRlZC1tZFwiPsOXPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHNjaS1maS11bml0LXJvdyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNCAke2lzQnVzeSA/ICdidXN5JyA6ICcnfWB9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LWdyb3dcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LWJvbGRcIj57dW5pdC5uYW1lfTwvcD5cbiAgICAgICAgICAgICAgICB7dHlwZSA9PT0gJ21pbGl0YXJ5JyAmJiAndGl0bGUnIGluIHVuaXQgJiYgdW5pdC50aXRsZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1icmFuZC1nb2xkIGl0YWxpY1wiPlwie3VuaXQudGl0bGV9XCI8L3A+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAge3R5cGUgPT09ICdtaWxpdGFyeScgJiYgJ3VuaXRUeXBlJyBpbiB1bml0ICYmIChcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWJyYW5kLWJsdWUgY2FwaXRhbGl6ZVwiPnt1bml0LnVuaXRUeXBlfTwvcD5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHtpc0J1c3kgJiYgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWJyYW5kLWdvbGQgaXRhbGljXCI+e3Rhc2tEZXRhaWxzfTwvcD59XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICA8QWN0aW9uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldElzRWRpdGluZyh0cnVlKX0gdGl0bGU9e2lzQnVzeSA/IHRhc2tEZXRhaWxzIDogJ0VkaXQgTmFtZS9UaXRsZSd9PlxuICAgICAgICAgICAgICAgICAgICA8RWRpdEljb24gLz5cbiAgICAgICAgICAgICAgICA8L0FjdGlvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICB7dHlwZSA9PT0gJ3ZpbGxhZ2VycycgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8QWN0aW9uQnV0dG9uIG9uQ2xpY2s9eyhlKSA9PiBvbkJ1aWxkKHVuaXQuaWQsIGUuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSl9IHRpdGxlPXtpc0J1c3kgPyB0YXNrRGV0YWlscyA6ICdDb25zdHJ1Y3QgQnVpbGRpbmcnfSBkaXNhYmxlZD17aXNCdXN5fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdWlsZEljb24gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9BY3Rpb25CdXR0b24+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8QWN0aW9uQnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbkRpc21pc3ModW5pdC5pZCl9IFxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWNhbkRpc21pc3MgfHwgaXNCdXN5fSBcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2lzQnVzeSA/IHRhc2tEZXRhaWxzIDogKGNhbkRpc21pc3MgPyBcIkRpc21pc3NcIiA6IFwiQ2Fubm90IGRpc21pc3NcIil9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8RGlzbWlzc0ljb24gLz5cbiAgICAgICAgICAgICAgICA8L0FjdGlvbkJ1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuXG5jb25zdCBVbml0TWFuYWdlbWVudFBhbmVsOiBSZWFjdC5GQzxVbml0TWFuYWdlbWVudFBhbmVsUHJvcHM+ID0gKHsgaXNPcGVuLCBvbkNsb3NlLCB1bml0cywgdHlwZSwgb25VcGRhdGVVbml0LCBvbkRpc21pc3NVbml0LCBvbkluaXRpYXRlQnVpbGQsIGdldFZpbGxhZ2VyVGFza0RldGFpbHMsIGFuY2hvclJlY3QsIHBhbmVsT3BhY2l0eSB9KSA9PiB7XG4gICAgXG4gICAgY29uc3QgW2lzQ2xvc2luZywgc2V0SXNDbG9zaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbY3VycmVudERhdGEsIHNldEN1cnJlbnREYXRhXSA9IHVzZVN0YXRlKHsgdHlwZSwgdW5pdHMsIGFuY2hvclJlY3QgfSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNPcGVuIHx8IGlzQ2xvc2luZykge1xuICAgICAgICAgICAgc2V0Q3VycmVudERhdGEoeyB0eXBlLCB1bml0cywgYW5jaG9yUmVjdCB9KTtcbiAgICAgICAgfVxuICAgIH0sIFt0eXBlLCB1bml0cywgYW5jaG9yUmVjdCwgaXNPcGVuLCBpc0Nsb3NpbmddKTtcblxuICAgIGNvbnN0IGhhbmRsZUNsb3NlID0gKCkgPT4ge1xuICAgICAgICBzZXRJc0Nsb3NpbmcodHJ1ZSk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgb25DbG9zZSgpO1xuICAgICAgICAgICAgc2V0SXNDbG9zaW5nKGZhbHNlKTsgXG4gICAgICAgIH0sIDMwMCk7IFxuICAgIH07XG5cbiAgICBpZiAoIWlzT3BlbiAmJiAhaXNDbG9zaW5nKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IHsgdHlwZTogY3VycmVudFR5cGUsIHVuaXRzOiBjdXJyZW50VW5pdHMsIGFuY2hvclJlY3Q6IGN1cnJlbnRBbmNob3IgfSA9IGN1cnJlbnREYXRhO1xuICAgIGlmICghY3VycmVudFR5cGUgfHwgIWN1cnJlbnRBbmNob3IpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgdW5pdExpc3QgPSBjdXJyZW50VHlwZSA9PT0gJ3ZpbGxhZ2VycycgPyBjdXJyZW50VW5pdHMudmlsbGFnZXJzIDogY3VycmVudFVuaXRzLm1pbGl0YXJ5O1xuICAgIGNvbnN0IHRpdGxlVGV4dCA9IGN1cnJlbnRUeXBlID09PSAndmlsbGFnZXJzJyA/ICdZb3VyIFZpbGxhZ2VycycgOiAnWW91ciBNaWxpdGFyeSBGb3JjZXMnO1xuXG4gICAgY29uc3QgcGFuZWxTdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHtcbiAgICAgICAgdG9wOiBgJHtjdXJyZW50QW5jaG9yLmJvdHRvbSArIDh9cHhgLFxuICAgICAgICBsZWZ0OiBgJHtjdXJyZW50QW5jaG9yLmxlZnR9cHhgLFxuICAgICAgICB0cmFuc2Zvcm1PcmlnaW46ICd0b3AgbGVmdCcsXG4gICAgICAgICctLXBhbmVsLW9wYWNpdHknOiBwYW5lbE9wYWNpdHksXG4gICAgICAgIG1heEhlaWdodDogYGNhbGMoMTAwdmggLSAke2N1cnJlbnRBbmNob3IuYm90dG9tICsgMjR9cHgpYCxcbiAgICB9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXM7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17cGFuZWxTdHlsZX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YGZpeGVkIHotNDAgdy04MCB0cmFuc2Zvcm0gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGVhc2UtaW4tb3V0ICR7aXNPcGVuICYmICFpc0Nsb3NpbmcgPyAnb3BhY2l0eS0xMDAgc2NhbGUtMTAwJyA6ICdvcGFjaXR5LTAgc2NhbGUtOTUnfWB9XG4gICAgICAgID5cbiAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNjaS1maS1wYW5lbC1wb3B1cCBzY2ktZmktZ3JpZCBwLTQgaC1mdWxsIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi00IGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtc2VyaWZcIj57dGl0bGVUZXh0fTwvaDI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlQ2xvc2V9IGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCBzY2ktZmktY2xvc2UtYnV0dG9uXCI+JnRpbWVzOzwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTIgZmxleC1ncm93IG92ZXJmbG93LXktYXV0byBwci0yXCI+XG4gICAgICAgICAgICAgICAgICAgIHt1bml0TGlzdC5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgdW5pdExpc3QubWFwKHVuaXQgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxVbml0Um93XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17dW5pdC5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pdD17dW5pdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT17Y3VycmVudFR5cGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlPXsoaWQsIG5hbWUsIHRpdGxlKSA9PiBvblVwZGF0ZVVuaXQoY3VycmVudFR5cGUsIGlkLCBuYW1lLCB0aXRsZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRGlzbWlzcz17KGlkKSA9PiBvbkRpc21pc3NVbml0KGN1cnJlbnRUeXBlLCBpZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQnVpbGQ9e29uSW5pdGlhdGVCdWlsZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuRGlzbWlzcz17Y3VycmVudFR5cGUgIT09ICd2aWxsYWdlcnMnIHx8IGN1cnJlbnRVbml0cy52aWxsYWdlcnMubGVuZ3RoID4gMX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFza0RldGFpbHM9e2N1cnJlbnRUeXBlID09PSAndmlsbGFnZXJzJyA/IGdldFZpbGxhZ2VyVGFza0RldGFpbHModW5pdC5pZCkgOiAnSWRsZSd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LXBhcmNobWVudC1kYXJrIHB5LThcIj5Zb3UgaGF2ZSBubyB7Y3VycmVudFR5cGV9LjwvcD5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVW5pdE1hbmFnZW1lbnRQYW5lbDtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiRGlzbWlzc0ljb24iLCJFZGl0SWNvbiIsIkJ1aWxkSWNvbiIsIkFjdGlvbkJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsInRpdGxlIiwiY2hpbGRyZW4iLCJkaXYiLCJjbGFzc05hbWUiLCJidXR0b24iLCJVbml0Um93IiwidW5pdCIsInR5cGUiLCJvblVwZGF0ZSIsIm9uRGlzbWlzcyIsIm9uQnVpbGQiLCJjYW5EaXNtaXNzIiwidGFza0RldGFpbHMiLCJpc0VkaXRpbmciLCJzZXRJc0VkaXRpbmciLCJuYW1lIiwic2V0TmFtZSIsInNldFRpdGxlIiwiaXNCdXN5IiwiaGFuZGxlU2F2ZSIsInRyaW0iLCJpZCIsImhhbmRsZUNhbmNlbCIsImlucHV0IiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJwbGFjZWhvbGRlciIsInAiLCJ1bml0VHlwZSIsImN1cnJlbnRUYXJnZXQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJVbml0TWFuYWdlbWVudFBhbmVsIiwiaXNPcGVuIiwib25DbG9zZSIsInVuaXRzIiwib25VcGRhdGVVbml0Iiwib25EaXNtaXNzVW5pdCIsIm9uSW5pdGlhdGVCdWlsZCIsImdldFZpbGxhZ2VyVGFza0RldGFpbHMiLCJhbmNob3JSZWN0IiwicGFuZWxPcGFjaXR5IiwiaXNDbG9zaW5nIiwic2V0SXNDbG9zaW5nIiwiY3VycmVudERhdGEiLCJzZXRDdXJyZW50RGF0YSIsImhhbmRsZUNsb3NlIiwic2V0VGltZW91dCIsImN1cnJlbnRUeXBlIiwiY3VycmVudFVuaXRzIiwiY3VycmVudEFuY2hvciIsInVuaXRMaXN0IiwidmlsbGFnZXJzIiwibWlsaXRhcnkiLCJ0aXRsZVRleHQiLCJwYW5lbFN0eWxlIiwidG9wIiwiYm90dG9tIiwibGVmdCIsInRyYW5zZm9ybU9yaWdpbiIsIm1heEhlaWdodCIsInN0eWxlIiwiaDIiLCJsZW5ndGgiLCJtYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/UnitManagementPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/types */ \"(app-pages-browser)/./types.ts\");\n/* harmony import */ var _services_geminiService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/services/geminiService */ \"(app-pages-browser)/./services/geminiService.ts\");\n/* harmony import */ var _services_dbService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/services/dbService */ \"(app-pages-browser)/./services/dbService.ts\");\n/* harmony import */ var _services_nameService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/services/nameService */ \"(app-pages-browser)/./services/nameService.ts\");\n/* harmony import */ var _components_GameUI__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/GameUI */ \"(app-pages-browser)/./components/GameUI.tsx\");\n/* harmony import */ var _components_StartScreen__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/StartScreen */ \"(app-pages-browser)/./components/StartScreen.tsx\");\n/* harmony import */ var _components_LoadingScreen__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/LoadingScreen */ \"(app-pages-browser)/./components/LoadingScreen.tsx\");\n/* harmony import */ var _components_BuildPanel__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/BuildPanel */ \"(app-pages-browser)/./components/BuildPanel.tsx\");\n/* harmony import */ var _components_NotificationManager__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/NotificationManager */ \"(app-pages-browser)/./components/NotificationManager.tsx\");\n/* harmony import */ var _components_UnitManagementPanel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/UnitManagementPanel */ \"(app-pages-browser)/./components/UnitManagementPanel.tsx\");\n/* harmony import */ var _components_BuildingManagementPanel__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/components/BuildingManagementPanel */ \"(app-pages-browser)/./components/BuildingManagementPanel.tsx\");\n/* harmony import */ var _components_ResourceAssignmentPanel__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/components/ResourceAssignmentPanel */ \"(app-pages-browser)/./components/ResourceAssignmentPanel.tsx\");\n/* harmony import */ var _components_SettingsPanel__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/components/SettingsPanel */ \"(app-pages-browser)/./components/SettingsPanel.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst BUILDINGS_INFO = [\n    {\n        id: \"houses\",\n        name: \"House\",\n        description: \"Increases population capacity by 5.\",\n        cost: {\n            wood: 50\n        },\n        isUnique: false,\n        buildTime: 15\n    },\n    {\n        id: \"barracks\",\n        name: \"Barracks\",\n        description: \"Allows training of Swordsmen.\",\n        cost: {\n            wood: 150,\n            stone: 50\n        },\n        isUnique: true,\n        buildTime: 60\n    },\n    {\n        id: \"archeryRange\",\n        name: \"Archery Range\",\n        description: \"Allows training of Archers.\",\n        cost: {\n            wood: 175\n        },\n        isUnique: true,\n        buildTime: 60\n    },\n    {\n        id: \"stable\",\n        name: \"Stables\",\n        description: \"Allows training of Knights.\",\n        cost: {\n            wood: 175,\n            gold: 75\n        },\n        isUnique: true,\n        buildTime: 75\n    },\n    {\n        id: \"siegeWorkshop\",\n        name: \"Siege Workshop\",\n        description: \"Constructs powerful Catapults.\",\n        cost: {\n            wood: 200,\n            gold: 150\n        },\n        isUnique: true,\n        buildTime: 90\n    },\n    {\n        id: \"blacksmith\",\n        name: \"Blacksmith\",\n        description: \"Researches infantry and cavalry upgrades.\",\n        cost: {\n            wood: 100,\n            gold: 100\n        },\n        isUnique: true,\n        buildTime: 45\n    },\n    {\n        id: \"watchTower\",\n        name: \"Watch Tower\",\n        description: \"Provides defense against raids.\",\n        cost: {\n            stone: 125\n        },\n        isUnique: true,\n        buildTime: 45\n    },\n    {\n        id: \"townCenter\",\n        name: \"Town Center\",\n        description: \"The heart of your settlement.\",\n        cost: {},\n        isUnique: true,\n        buildTime: 0\n    }\n];\nconst UNIT_INFO = [\n    {\n        id: \"swordsman\",\n        name: \"Swordsman\",\n        description: \"Basic melee infantry.\",\n        cost: {\n            food: 60,\n            gold: 20\n        },\n        requiredBuilding: \"barracks\",\n        trainTime: 22\n    },\n    {\n        id: \"archer\",\n        name: \"Archer\",\n        description: \"Ranged unit effective against infantry.\",\n        cost: {\n            food: 30,\n            wood: 40\n        },\n        requiredBuilding: \"archeryRange\",\n        trainTime: 25\n    },\n    {\n        id: \"knight\",\n        name: \"Knight\",\n        description: \"Fast and powerful cavalry.\",\n        cost: {\n            food: 60,\n            gold: 75\n        },\n        requiredBuilding: \"stable\",\n        trainTime: 30\n    },\n    {\n        id: \"catapult\",\n        name: \"Catapult\",\n        description: \"Siege engine devastating to buildings.\",\n        cost: {\n            wood: 150,\n            gold: 150\n        },\n        requiredBuilding: \"siegeWorkshop\",\n        trainTime: 45\n    }\n];\nconst GATHER_INFO = {\n    food: {\n        rate: 10\n    },\n    wood: {\n        rate: 8\n    },\n    gold: {\n        rate: 5\n    },\n    stone: {\n        rate: 6\n    }\n};\nconst initialBuildingsState = {\n    houses: [],\n    barracks: [],\n    archeryRange: [],\n    stable: [],\n    siegeWorkshop: [],\n    blacksmith: [],\n    watchTower: [],\n    townCenter: []\n};\nconst MAP_DIMENSIONS = {\n    width: 25,\n    height: 18\n};\nconst GamePage = ()=>{\n    var _buildings_townCenter;\n    _s();\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU);\n    const [civilization, setCivilization] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [resources, setResources] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        food: 200,\n        wood: 150,\n        gold: 50,\n        stone: 100\n    });\n    const [units, setUnits] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        villagers: [],\n        military: []\n    });\n    const [buildings, setBuildings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialBuildingsState);\n    const [currentAge, setCurrentAge] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Nomadic Age\");\n    const [gameLog, setGameLog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentEvent, setCurrentEvent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [resourceDeltas, setResourceDeltas] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [activityStatus, setActivityStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Your story begins...\");\n    const [notifications, setNotifications] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [unlimitedResources, setUnlimitedResources] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [allSaves, setAllSaves] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentSaveName, setCurrentSaveName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [playerAction, setPlayerAction] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [activeTasks, setActiveTasks] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [constructingBuildings, setConstructingBuildings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [resourceNodes, setResourceNodes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [panelOpacity, setPanelOpacity] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1.0);\n    // Panel States\n    const [buildPanelState, setBuildPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        villagerId: null,\n        anchorRect: null\n    });\n    const [unitManagementPanel, setUnitManagementPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        type: null,\n        anchorRect: null\n    });\n    const [buildingManagementPanel, setBuildingManagementPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        type: null,\n        anchorRect: null\n    });\n    const [assignmentPanelState, setAssignmentPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        targetId: null,\n        targetType: null,\n        anchorRect: null\n    });\n    const [settingsPanelState, setSettingsPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const deltaTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    const population = {\n        current: units.villagers.length + units.military.length,\n        capacity: (((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter.length) > 0 ? 20 : 0) + buildings.houses.length * 5\n    };\n    const fetchSaves = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        const names = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllSaveNames)();\n        setAllSaves(names);\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        fetchSaves();\n    }, [\n        fetchSaves\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && civilization && currentSaveName) {\n            const fullState = {\n                civilization,\n                resources,\n                units,\n                buildings,\n                currentAge,\n                gameLog,\n                activeTasks,\n                constructingBuildings,\n                resourceNodes\n            };\n            (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.saveGameState)(currentSaveName, fullState);\n        }\n    }, [\n        civilization,\n        resources,\n        units,\n        buildings,\n        currentAge,\n        gameLog,\n        gameState,\n        currentSaveName,\n        activeTasks,\n        constructingBuildings,\n        resourceNodes\n    ]);\n    const addNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message)=>{\n        const id = \"\".concat(Date.now(), \"-\").concat(Math.random());\n        setNotifications((prev)=>[\n                ...prev,\n                {\n                    id,\n                    message\n                }\n            ]);\n    }, []);\n    const removeNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id)=>{\n        setNotifications((prev)=>prev.filter((n)=>n.id !== id));\n    }, []);\n    const addToLog = (message, icon)=>{\n        setGameLog((prev)=>[\n                {\n                    id: \"\".concat(Date.now(), \"-\").concat(Math.random()),\n                    message,\n                    icon\n                },\n                ...prev.slice(0, 19)\n            ]);\n    };\n    const updateResources = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((deltas)=>{\n        setResources((prev)=>{\n            const newResources = {\n                ...prev\n            };\n            for(const key in deltas){\n                const resourceKey = key;\n                var _deltas_resourceKey;\n                newResources[resourceKey] = Math.max(0, newResources[resourceKey] + ((_deltas_resourceKey = deltas[resourceKey]) !== null && _deltas_resourceKey !== void 0 ? _deltas_resourceKey : 0));\n            }\n            return newResources;\n        });\n        setResourceDeltas((prev)=>({\n                ...prev,\n                ...deltas\n            }));\n        for(const key in deltas){\n            const resourceKey = key;\n            if (deltaTimeoutRef.current[resourceKey]) {\n                window.clearTimeout(deltaTimeoutRef.current[resourceKey]);\n            }\n            deltaTimeoutRef.current[resourceKey] = window.setTimeout(()=>{\n                setResourceDeltas((prev)=>{\n                    const newDeltas = {\n                        ...prev\n                    };\n                    delete newDeltas[resourceKey];\n                    return newDeltas;\n                });\n            }, 1500);\n        }\n    }, []);\n    const handleNewEvent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!civilization || currentEvent || activeTasks.length > 0) return;\n        addToLog(\"A new chapter unfolds...\", \"event\");\n        const event = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedGameEvent)();\n        setCurrentEvent(event);\n        setActivityStatus(\"A new event requires your attention!\");\n    }, [\n        civilization,\n        currentEvent,\n        activeTasks.length\n    ]);\n    const generateResourceNodes = (existingPositions)=>{\n        const nodes = [];\n        const types = [\n            \"food\",\n            \"wood\",\n            \"gold\",\n            \"stone\"\n        ];\n        const numNodes = 20 + Math.floor(Math.random() * 10);\n        for(let i = 0; i < numNodes; i++){\n            let pos;\n            do {\n                pos = {\n                    x: Math.floor(Math.random() * MAP_DIMENSIONS.width),\n                    y: Math.floor(Math.random() * MAP_DIMENSIONS.height)\n                };\n            }while (existingPositions.has(\"\".concat(pos.x, \",\").concat(pos.y)));\n            existingPositions.add(\"\".concat(pos.x, \",\").concat(pos.y));\n            const type = types[Math.floor(Math.random() * types.length)];\n            const amount = Math.floor(Math.random() * (2500 - 500 + 1)) + 500;\n            nodes.push({\n                id: \"\".concat(Date.now(), \"-node-\").concat(i),\n                type,\n                position: pos,\n                amount,\n                assignedVillagers: []\n            });\n        }\n        return nodes;\n    };\n    const handleStartNewGame = (saveName)=>{\n        if (allSaves.includes(saveName)) {\n            addNotification('A saga named \"'.concat(saveName, '\" already exists.'));\n            return;\n        }\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n        setCurrentSaveName(saveName);\n        const civ = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedCivilization)();\n        setCivilization(civ);\n        setResources({\n            food: 200,\n            wood: 150,\n            gold: 50,\n            stone: 100\n        });\n        const initialVillagerNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", 3);\n        const initialVillagers = initialVillagerNames.map((name)=>({\n                id: \"\".concat(Date.now(), \"-\").concat(name),\n                name\n            }));\n        setUnits({\n            villagers: initialVillagers,\n            military: []\n        });\n        const [initialTCName] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n        const tcPosition = {\n            x: Math.floor(MAP_DIMENSIONS.width / 2),\n            y: Math.floor(MAP_DIMENSIONS.height / 2)\n        };\n        const initialTC = {\n            id: \"\".concat(Date.now(), \"-tc\"),\n            name: initialTCName,\n            position: tcPosition\n        };\n        setBuildings({\n            ...initialBuildingsState,\n            townCenter: [\n                initialTC\n            ]\n        });\n        setResourceNodes(generateResourceNodes(new Set([\n            \"\".concat(tcPosition.x, \",\").concat(tcPosition.y)\n        ])));\n        setCurrentAge(\"Nomadic Age\");\n        setGameLog([]);\n        setCurrentEvent(null);\n        setUnlimitedResources(false);\n        setActiveTasks([]);\n        setConstructingBuildings([]);\n        addToLog(\"\".concat(civ.name, \" has been founded!\"), \"system\");\n        addToLog(\"Your story begins...\", \"system\");\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING);\n        setActivityStatus(\"Your settlement awaits your command.\");\n        fetchSaves();\n    };\n    const getVillagerTaskDetails = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((villagerId)=>{\n        const task = activeTasks.find((t)=>{\n            var _t_payload_villagerIds, _t_payload;\n            return (_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : (_t_payload_villagerIds = _t_payload.villagerIds) === null || _t_payload_villagerIds === void 0 ? void 0 : _t_payload_villagerIds.includes(villagerId);\n        });\n        if (task) {\n            if (task.type === \"build\") {\n                const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === task.payload.buildingType);\n                return \"Busy: Constructing \".concat((buildingInfo === null || buildingInfo === void 0 ? void 0 : buildingInfo.name) || \"a building\");\n            }\n            if (task.type === \"gather\") {\n                const node = resourceNodes.find((n)=>n.id === task.payload.resourceNodeId);\n                return \"Busy: Gathering \".concat((node === null || node === void 0 ? void 0 : node.type) || \"resources\");\n            }\n        }\n        return \"Idle\";\n    }, [\n        activeTasks,\n        resourceNodes\n    ]);\n    const isVillagerBusy = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((villagerId)=>{\n        return getVillagerTaskDetails(villagerId) !== \"Idle\";\n    }, [\n        getVillagerTaskDetails\n    ]);\n    const handleResumeGame = async (saveName)=>{\n        const savedState = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.loadGameState)(saveName);\n        if (savedState) {\n            var _savedState_units;\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n            setCurrentSaveName(saveName);\n            setCivilization(savedState.civilization);\n            setResources(savedState.resources);\n            if ((_savedState_units = savedState.units) === null || _savedState_units === void 0 ? void 0 : _savedState_units.soldiers) {\n                const migratedMilitary = savedState.units.soldiers.map((s)=>({\n                        ...s,\n                        unitType: \"swordsman\"\n                    }));\n                setUnits({\n                    villagers: savedState.units.villagers || [],\n                    military: migratedMilitary\n                });\n            } else {\n                setUnits(savedState.units || {\n                    villagers: [],\n                    military: []\n                });\n            }\n            let finalBuildings = {\n                ...initialBuildingsState,\n                ...savedState.buildings || {}\n            };\n            const occupiedCells = new Set(Object.values(finalBuildings).flat().map((b)=>\"\".concat(b.position.x, \",\").concat(b.position.y)));\n            if (!finalBuildings.townCenter || finalBuildings.townCenter.length === 0) {\n                let tcPos = {\n                    x: 10,\n                    y: 5\n                };\n                while(occupiedCells.has(\"\".concat(tcPos.x, \",\").concat(tcPos.y))){\n                    tcPos.x++;\n                }\n                const [tcName] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n                finalBuildings.townCenter = [\n                    {\n                        id: \"\".concat(Date.now(), \"-tc\"),\n                        name: tcName,\n                        position: tcPos\n                    }\n                ];\n                occupiedCells.add(\"\".concat(tcPos.x, \",\").concat(tcPos.y));\n            }\n            const firstBuilding = Object.values(finalBuildings).flat()[0];\n            if (firstBuilding && typeof firstBuilding === \"object\" && !(\"position\" in firstBuilding)) {\n                const migrated = {\n                    ...initialBuildingsState\n                };\n                let y = 3;\n                Object.entries(finalBuildings).forEach((param)=>{\n                    let [type, instances] = param;\n                    let x = 5;\n                    instances.forEach((inst)=>{\n                        while(occupiedCells.has(\"\".concat(x, \",\").concat(y))){\n                            x++;\n                        }\n                        migrated[type].push({\n                            ...inst,\n                            position: {\n                                x,\n                                y\n                            }\n                        });\n                        occupiedCells.add(\"\".concat(x, \",\").concat(y));\n                        x++;\n                    });\n                });\n                finalBuildings = migrated;\n            }\n            setBuildings(finalBuildings);\n            const nodesToSet = (savedState.resourceNodes || []).map((n)=>({\n                    ...n,\n                    assignedVillagers: n.assignedVillagers || []\n                }));\n            if (nodesToSet.length === 0) {\n                setResourceNodes(generateResourceNodes(occupiedCells));\n            } else {\n                setResourceNodes(nodesToSet);\n            }\n            setCurrentAge(savedState.currentAge);\n            setGameLog(savedState.gameLog);\n            setActiveTasks((savedState.activeTasks || []).map((t)=>{\n                var _t_payload;\n                // Migration for old save format\n                if (t.type === \"build\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.villagerId)) {\n                    return {\n                        ...t,\n                        payload: {\n                            ...t.payload,\n                            villagerIds: [\n                                t.payload.villagerId\n                            ],\n                            villagerId: undefined\n                        }\n                    };\n                }\n                return t;\n            }));\n            setConstructingBuildings((savedState.constructingBuildings || []).map((c)=>{\n                // Migration for old save format\n                if (c.villagerId) {\n                    return {\n                        ...c,\n                        villagerIds: [\n                            c.villagerId\n                        ],\n                        villagerId: undefined\n                    };\n                }\n                return c;\n            }));\n            setCurrentEvent(null);\n            setActivityStatus(\"Welcome back to your saga.\");\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING);\n        } else {\n            addNotification('Could not find a saved game named \"'.concat(saveName, '\".'));\n        }\n    };\n    const handleTaskCompletion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((task)=>{\n        switch(task.type){\n            case \"build\":\n                {\n                    const { buildingType, position, villagerIds } = task.payload;\n                    const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === buildingType);\n                    const [name] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n                    const newBuilding = {\n                        id: task.id,\n                        name,\n                        position: position\n                    };\n                    setConstructingBuildings((prev)=>prev.filter((b)=>b.id !== task.id));\n                    setBuildings((p)=>({\n                            ...p,\n                            [buildingType]: [\n                                ...p[buildingType],\n                                newBuilding\n                            ]\n                        }));\n                    if (villagerIds && villagerIds.length > 0) {\n                        addToLog(\"\".concat(villagerIds.length, \" builder(s) have constructed \").concat(name, \", a new \").concat(buildingInfo.name, \".\"), buildingType);\n                        setActivityStatus(\"Construction of \".concat(name, \" is complete.\"));\n                    }\n                    break;\n                }\n            case \"gather\":\n                {\n                    const { resourceNodeId } = task.payload;\n                    setResourceNodes((prevNodes)=>{\n                        const node = prevNodes.find((n)=>n.id === resourceNodeId);\n                        if (!node) {\n                            console.warn(\"Gather task completed for a non-existent or already processed node: \".concat(resourceNodeId));\n                            return prevNodes;\n                        }\n                        const amountToAdd = Math.floor(node.amount);\n                        if (amountToAdd > 0) {\n                            updateResources({\n                                [node.type]: amountToAdd\n                            });\n                            addToLog(\"\".concat(node.assignedVillagers.length, \" villager(s) depleted a \").concat(node.type, \" source, gaining \").concat(amountToAdd, \" \").concat(node.type, \".\"), node.type);\n                            setActivityStatus(\"A \".concat(node.type, \" source has been fully depleted.\"));\n                        }\n                        return prevNodes.filter((n)=>n.id !== resourceNodeId);\n                    });\n                    break;\n                }\n            case \"train_villager\":\n                {\n                    const { count } = task.payload;\n                    const newVillagerNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", count);\n                    const newVillagers = newVillagerNames.map((name)=>({\n                            id: \"\".concat(Date.now(), \"-\").concat(name),\n                            name\n                        }));\n                    setUnits((p)=>({\n                            ...p,\n                            villagers: [\n                                ...p.villagers,\n                                ...newVillagers\n                            ]\n                        }));\n                    addToLog(\"\".concat(count, \" new villager(s) have joined your settlement.\"), \"villager\");\n                    setActivityStatus(\"\".concat(count, \" new villager(s) are ready to work.\"));\n                    break;\n                }\n            case \"train_military\":\n                {\n                    const { unitType, count } = task.payload;\n                    const unitInfo = UNIT_INFO.find((u)=>u.id === unitType);\n                    const newUnitNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"soldier\", count);\n                    const newUnits = newUnitNames.map((name)=>({\n                            id: \"\".concat(Date.now(), \"-\").concat(unitType, \"-\").concat(name),\n                            name,\n                            title: \"\",\n                            unitType: unitType\n                        }));\n                    setUnits((p)=>({\n                            ...p,\n                            military: [\n                                ...p.military,\n                                ...newUnits\n                            ]\n                        }));\n                    addToLog(\"\".concat(count, \" \").concat(unitInfo.name, \"(s) have been trained.\"), unitType);\n                    setActivityStatus(\"\".concat(count, \" new \").concat(unitInfo.name, \"(s) are ready for battle.\"));\n                    break;\n                }\n            case \"advance_age\":\n                {\n                    const ageResult = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedAge)(currentAge);\n                    setCurrentAge(ageResult.nextAgeName);\n                    addToLog(\"You have advanced to the \".concat(ageResult.nextAgeName, \"!\"), \"age\");\n                    addToLog(ageResult.description, \"age\");\n                    setActivityStatus(\"Welcome to the \".concat(ageResult.nextAgeName, \"!\"));\n                    break;\n                }\n        }\n    }, [\n        currentAge,\n        updateResources\n    ]);\n    // Game Loop\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const gameLoop = setInterval(()=>{\n            const now = Date.now();\n            const completedTasks = [];\n            setActiveTasks((currentTasks)=>{\n                return currentTasks.filter((task)=>{\n                    if (now >= task.startTime + task.duration) {\n                        completedTasks.push(task);\n                        return false;\n                    }\n                    return true;\n                });\n            });\n            if (completedTasks.length > 0) {\n                completedTasks.forEach(handleTaskCompletion);\n            }\n        }, 1000);\n        return ()=>clearInterval(gameLoop);\n    }, [\n        handleTaskCompletion\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && !currentEvent && !playerAction && activeTasks.length === 0) {\n            const timer = setTimeout(()=>handleNewEvent(), 30000);\n            return ()=>clearTimeout(timer);\n        }\n    }, [\n        gameState,\n        currentEvent,\n        handleNewEvent,\n        playerAction,\n        activeTasks\n    ]);\n    const handleEventChoice = (choice)=>{\n        addToLog(\"Choice: \".concat(choice.text, \".\"), \"event\");\n        setActivityStatus(choice.effects.log);\n        addToLog(choice.effects.log, choice.effects.resource !== \"none\" ? choice.effects.resource : \"system\");\n        if (choice.effects.resource !== \"none\") {\n            updateResources({\n                [choice.effects.resource]: choice.effects.amount\n            });\n        }\n        setCurrentEvent(null);\n    };\n    const handleInitiateBuild = (villagerId, rect)=>{\n        if (isVillagerBusy(villagerId)) {\n            addNotification(\"This villager is already busy.\");\n            return;\n        }\n        setBuildPanelState({\n            isOpen: true,\n            villagerId,\n            anchorRect: rect\n        });\n        setUnitManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleStartPlacement = (buildingId)=>{\n        const villagerId = buildPanelState.villagerId;\n        if (!villagerId) return;\n        const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === buildingId);\n        if (!buildingInfo) return;\n        if (buildingInfo.isUnique && (buildings[buildingInfo.id].length > 0 || constructingBuildings.some((b)=>b.type === buildingInfo.id))) {\n            addNotification(\"You can only build one \".concat(buildingInfo.name, \".\"));\n            return;\n        }\n        const cost = buildingInfo.cost;\n        if (!unlimitedResources) {\n            const missing = [];\n            for(const res in cost){\n                const resourceKey = res;\n                var _cost_resourceKey;\n                if (resources[resourceKey] < ((_cost_resourceKey = cost[resourceKey]) !== null && _cost_resourceKey !== void 0 ? _cost_resourceKey : 0)) {\n                    var _cost_resourceKey1;\n                    missing.push(\"\".concat(((_cost_resourceKey1 = cost[resourceKey]) !== null && _cost_resourceKey1 !== void 0 ? _cost_resourceKey1 : 0) - resources[resourceKey], \" \").concat(resourceKey));\n                }\n            }\n            if (missing.length > 0) {\n                addNotification(\"Need \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n        }\n        setPlayerAction({\n            mode: \"build\",\n            buildingType: buildingId,\n            villagerId\n        });\n        setBuildPanelState({\n            isOpen: false,\n            villagerId: null,\n            anchorRect: null\n        });\n        setActivityStatus(\"Select a location to build a \".concat(buildingInfo.name, \". Right-click to cancel.\"));\n    };\n    const handleConfirmPlacement = (position)=>{\n        if ((playerAction === null || playerAction === void 0 ? void 0 : playerAction.mode) !== \"build\") return;\n        const { buildingType, villagerId } = playerAction;\n        const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === buildingType);\n        const builder = units.villagers.find((v)=>v.id === villagerId);\n        if (!buildingInfo || !builder) return;\n        if (!unlimitedResources) {\n            const cost = buildingInfo.cost;\n            const negativeCost = {};\n            for(const resource in cost){\n                negativeCost[resource] = -(cost[resource] || 0);\n            }\n            updateResources(negativeCost);\n        }\n        const buildTime = buildingInfo.buildTime * 1000;\n        const taskPayload = {\n            buildingType,\n            villagerIds: [\n                villagerId\n            ],\n            position\n        };\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: \"\".concat(Date.now(), \"-instant-build\"),\n                type: \"build\",\n                startTime: 0,\n                duration: 0,\n                payload: taskPayload\n            });\n        } else {\n            const taskId = \"\".concat(Date.now(), \"-build-\").concat(buildingType);\n            const newConstruction = {\n                id: taskId,\n                type: buildingType,\n                position,\n                villagerIds: [\n                    villagerId\n                ]\n            };\n            setConstructingBuildings((prev)=>[\n                    ...prev,\n                    newConstruction\n                ]);\n            const newTask = {\n                id: taskId,\n                type: \"build\",\n                startTime: Date.now(),\n                duration: buildTime,\n                payload: taskPayload\n            };\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    newTask\n                ]);\n            setActivityStatus(\"\".concat(builder.name, \" has started constructing a \").concat(buildingInfo.name, \".\"));\n            addToLog(\"\".concat(builder.name, \" began construction of a new \").concat(buildingInfo.name, \".\"), buildingType);\n        }\n        setPlayerAction(null);\n    };\n    const handleCancelPlayerAction = ()=>{\n        setPlayerAction(null);\n        setActivityStatus(\"Command cancelled.\");\n    };\n    const handleDemolishBuilding = (type, id)=>{\n        var _buildings_townCenter;\n        if (activeTasks.some((t)=>{\n            var _t_payload;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.buildingId) === id;\n        })) {\n            addNotification(\"Cannot demolish a building with an active task.\");\n            return;\n        }\n        const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === type);\n        const buildingInstance = buildings[type].find((b)=>b.id === id);\n        if (!buildingInfo || !buildingInstance) return;\n        if (type === \"houses\" && population.current > (((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter.length) > 0 ? 20 : 0) + (buildings.houses.length - 1) * 5) {\n            addNotification(\"Cannot demolish this house, your people would be homeless.\");\n            return;\n        }\n        const refund = {};\n        let refundMessageParts = [];\n        for(const res in buildingInfo.cost){\n            const resourceKey = res;\n            const cost = buildingInfo.cost[resourceKey] || 0;\n            const amount = Math.floor(cost * 0.5);\n            if (amount > 0) {\n                refund[resourceKey] = amount;\n                refundMessageParts.push(\"\".concat(amount, \" \").concat(resourceKey));\n            }\n        }\n        updateResources(refund);\n        setBuildings((prev)=>({\n                ...prev,\n                [type]: prev[type].filter((b)=>b.id !== id)\n            }));\n        addToLog(\"\".concat(buildingInstance.name, \" (\").concat(buildingInfo.name, \") was demolished.\"), type);\n        if (refundMessageParts.length > 0) {\n            addNotification(\"Salvaged \".concat(refundMessageParts.join(\", \"), \".\"));\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleUpdateBuilding = (type, id, name)=>{\n        setBuildings((prev)=>({\n                ...prev,\n                [type]: prev[type].map((b)=>b.id === id ? {\n                        ...b,\n                        name\n                    } : b)\n            }));\n        addNotification(\"Building renamed.\");\n    };\n    const handleTrainVillagers = (count)=>{\n        var _buildings_townCenter;\n        if (activeTasks.some((t)=>t.type === \"train_villager\") || count <= 0) return;\n        const villagerCost = 50;\n        const totalCost = villagerCost * count;\n        if (population.current + count > population.capacity) {\n            addNotification(\"Need space for \".concat(count, \" more villagers.\"));\n            return;\n        }\n        const townCenter = (_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter[0];\n        if (!townCenter) {\n            addNotification(\"No Town Center to train villagers.\");\n            return;\n        }\n        if (!unlimitedResources) {\n            if (resources.food < totalCost) {\n                addNotification(\"Need \".concat(totalCost - resources.food, \" more Food.\"));\n                return;\n            }\n            updateResources({\n                food: -totalCost\n            });\n        }\n        const trainTime = 10000 * count; // 10s per villager\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: \"instant\",\n                type: \"train_villager\",\n                startTime: 0,\n                duration: 0,\n                payload: {\n                    count\n                }\n            });\n        } else {\n            const taskId = \"\".concat(Date.now(), \"-train-villager\");\n            const newTask = {\n                id: taskId,\n                type: \"train_villager\",\n                startTime: Date.now(),\n                duration: trainTime,\n                payload: {\n                    count,\n                    buildingId: townCenter.id\n                }\n            };\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    newTask\n                ]);\n            setActivityStatus(\"Training \".concat(count, \" villager(s)...\"));\n            addToLog(\"Began training \".concat(count, \" new villager(s).\"), \"villager\");\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleTrainUnits = (unitType, count)=>{\n        var _buildings_unitInfo_requiredBuilding;\n        const unitInfo = UNIT_INFO.find((u)=>u.id === unitType);\n        if (!unitInfo || activeTasks.some((t)=>{\n            var _t_payload;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.unitType) === unitType;\n        }) || count <= 0) return;\n        if (population.current + count > population.capacity) {\n            addNotification(\"Need space for \".concat(count, \" more units.\"));\n            return;\n        }\n        const trainingBuilding = (_buildings_unitInfo_requiredBuilding = buildings[unitInfo.requiredBuilding]) === null || _buildings_unitInfo_requiredBuilding === void 0 ? void 0 : _buildings_unitInfo_requiredBuilding[0];\n        if (!trainingBuilding) {\n            addNotification(\"No \".concat(unitInfo.requiredBuilding, \" to train units.\"));\n            return;\n        }\n        if (!unlimitedResources) {\n            const totalCost = {};\n            const missing = [];\n            for(const res in unitInfo.cost){\n                const resourceKey = res;\n                const cost = (unitInfo.cost[resourceKey] || 0) * count;\n                totalCost[resourceKey] = -cost;\n                if (resources[resourceKey] < cost) missing.push(\"\".concat(cost - resources[resourceKey], \" \").concat(resourceKey));\n            }\n            if (missing.length > 0) {\n                addNotification(\"Need \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n            updateResources(totalCost);\n        }\n        const trainTime = unitInfo.trainTime * 1000 * count;\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: \"instant\",\n                type: \"train_military\",\n                startTime: 0,\n                duration: 0,\n                payload: {\n                    unitType,\n                    count\n                }\n            });\n        } else {\n            const taskId = \"\".concat(Date.now(), \"-train-\").concat(unitType);\n            const newTask = {\n                id: taskId,\n                type: \"train_military\",\n                startTime: Date.now(),\n                duration: trainTime,\n                payload: {\n                    unitType,\n                    count,\n                    buildingId: trainingBuilding.id\n                }\n            };\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    newTask\n                ]);\n            setActivityStatus(\"Training \".concat(count, \" \").concat(unitInfo.name, \"(s)...\"));\n            addToLog(\"Began training \".concat(count, \" new \").concat(unitInfo.name, \"(s).\"), unitType);\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleDismissSpecificUnit = (type, id)=>{\n        if (type === \"villagers\" && isVillagerBusy(id)) {\n            addNotification(\"Cannot dismiss a busy villager.\");\n            return;\n        }\n        const unit = units[type].find((u)=>u.id === id);\n        if (!unit) return;\n        if (type === \"villagers\" && units.villagers.length <= 1) {\n            addNotification(\"Cannot dismiss your last villager.\");\n            return;\n        }\n        setUnits((prev)=>({\n                ...prev,\n                [type]: prev[type].filter((u)=>u.id !== id)\n            }));\n        const unitTypeName = type === \"villagers\" ? \"villager\" : unit.unitType;\n        addToLog(\"\".concat(unit.name, \" the \").concat(unitTypeName, \" has been dismissed.\"), type === \"villagers\" ? \"villager\" : unit.unitType);\n        addNotification(\"\".concat(unit.name, \" was dismissed.\"));\n    };\n    const handleUpdateUnit = (type, id, name, title)=>{\n        setUnits((prev)=>({\n                ...prev,\n                [type]: prev[type].map((u)=>{\n                    if (u.id === id) {\n                        const updatedUnit = {\n                            ...u,\n                            name\n                        };\n                        if (type === \"military\" && title !== undefined) {\n                            updatedUnit.title = title;\n                        }\n                        return updatedUnit;\n                    }\n                    return u;\n                })\n            }));\n        addNotification(\"Unit updated.\");\n    };\n    const handleAssignVillagersToNode = (nodeId, count)=>{\n        const idleVillagers = units.villagers.filter((v)=>!isVillagerBusy(v.id));\n        if (count <= 0) return;\n        let cappedCount = Math.min(count, idleVillagers.length);\n        if (cappedCount === 0) {\n            addNotification(\"No idle villagers available.\");\n            return;\n        }\n        const villagersToAssign = idleVillagers.slice(0, cappedCount);\n        const villagerIdsToAssign = villagersToAssign.map((v)=>v.id);\n        const targetNode = resourceNodes.find((n)=>n.id === nodeId);\n        if (!targetNode) return;\n        setResourceNodes((prevNodes)=>prevNodes.map((n)=>n.id === nodeId ? {\n                    ...n,\n                    assignedVillagers: [\n                        ...new Set([\n                            ...n.assignedVillagers,\n                            ...villagerIdsToAssign\n                        ])\n                    ]\n                } : n));\n        const existingTask = activeTasks.find((t)=>{\n            var _t_payload;\n            return t.type === \"gather\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.resourceNodeId) === nodeId;\n        });\n        const gatherRatePerVillager = GATHER_INFO[targetNode.type].rate;\n        if (unlimitedResources) {\n            updateResources({\n                [targetNode.type]: targetNode.amount\n            });\n            addToLog(\"\".concat(cappedCount, \" villager(s) instantly gathered \").concat(Math.floor(targetNode.amount), \" \").concat(targetNode.type, \".\"), targetNode.type);\n            setResourceNodes((prev)=>prev.filter((n)=>n.id !== nodeId));\n        } else {\n            const amountPerSecond = gatherRatePerVillager / 10;\n            const gatherInterval = setInterval(()=>{\n                let nodeIsDepleted = false;\n                setResourceNodes((prev)=>prev.map((n)=>{\n                        if (n.id === nodeId) {\n                            const newAmount = n.amount - amountPerSecond;\n                            if (newAmount <= 0) {\n                                nodeIsDepleted = true;\n                                updateResources({\n                                    [n.type]: n.amount\n                                });\n                                addToLog(\"\".concat(n.assignedVillagers.length, \" villager(s) depleted a \").concat(n.type, \" source.\"), n.type);\n                                return null;\n                            }\n                            updateResources({\n                                [n.type]: amountPerSecond\n                            });\n                            return {\n                                ...n,\n                                amount: newAmount\n                            };\n                        }\n                        return n;\n                    }).filter(Boolean));\n                if (nodeIsDepleted) {\n                    clearInterval(gatherInterval);\n                    setActiveTasks((prev)=>prev.filter((t)=>t.id !== \"gather-\".concat(nodeId)));\n                }\n            }, 100);\n            const newTask = {\n                id: \"gather-\".concat(nodeId),\n                type: \"gather\",\n                startTime: Date.now(),\n                duration: 99999999,\n                payload: {\n                    resourceNodeId: nodeId,\n                    villagerIds: villagersToAssign.map((v)=>v.id)\n                }\n            };\n            setActiveTasks((prev)=>[\n                    ...prev.filter((t)=>t.id !== \"gather-\".concat(nodeId)),\n                    newTask\n                ]);\n        }\n        addToLog(\"\".concat(cappedCount, \" villager(s) assigned to gather \").concat(targetNode.type, \".\"), targetNode.type);\n        setActivityStatus(\"\".concat(cappedCount, \" villager(s) are now gathering \").concat(targetNode.type, \".\"));\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleAssignVillagersToConstruction = (constructionId, count)=>{\n        var _task_payload_villagerIds, _task_payload;\n        const idleVillagers = units.villagers.filter((v)=>!isVillagerBusy(v.id));\n        if (count <= 0) return;\n        let cappedCount = Math.min(count, idleVillagers.length);\n        if (cappedCount === 0) {\n            addNotification(\"No idle villagers available to assist.\");\n            return;\n        }\n        const villagersToAssign = idleVillagers.slice(0, cappedCount).map((v)=>v.id);\n        const task = activeTasks.find((t)=>t.id === constructionId);\n        const construction = constructingBuildings.find((c)=>c.id === constructionId);\n        if (!task || !construction) return;\n        const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === construction.type);\n        if (!buildingInfo) return;\n        const baseDuration = buildingInfo.buildTime * 1000;\n        const oldWorkerCount = ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 1;\n        const timeElapsed = Date.now() - task.startTime;\n        const workDone = timeElapsed * oldWorkerCount;\n        const totalWork = baseDuration;\n        const workRemaining = Math.max(0, totalWork - workDone);\n        const newWorkerCount = oldWorkerCount + cappedCount;\n        const newRemainingDuration = workRemaining / newWorkerCount;\n        const updatedVillagerIds = [\n            ...task.payload.villagerIds,\n            ...villagersToAssign\n        ];\n        setActiveTasks((prev)=>prev.map((t)=>t.id === constructionId ? {\n                    ...t,\n                    startTime: Date.now(),\n                    duration: newRemainingDuration,\n                    payload: {\n                        ...t.payload,\n                        villagerIds: updatedVillagerIds\n                    }\n                } : t));\n        setConstructingBuildings((prev)=>prev.map((c)=>c.id === constructionId ? {\n                    ...c,\n                    villagerIds: updatedVillagerIds\n                } : c));\n        addToLog(\"\".concat(cappedCount, \" villager(s) are now assisting with the \").concat(buildingInfo.name, \".\"), buildingInfo.id);\n        setActivityStatus(\"Construction of the \".concat(buildingInfo.name, \" is now faster.\"));\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleAssignVillagers = (targetId, count)=>{\n        if (assignmentPanelState.targetType === \"resource\") {\n            handleAssignVillagersToNode(targetId, count);\n        } else if (assignmentPanelState.targetType === \"construction\") {\n            handleAssignVillagersToConstruction(targetId, count);\n        }\n    };\n    const handleAdvanceAge = async ()=>{\n        if (activeTasks.some((t)=>t.type === \"advance_age\")) {\n            addNotification(\"Advancement already in progress.\");\n            return;\n        }\n        if (!unlimitedResources) {\n            if (resources.food < 500 || resources.gold < 200) {\n                const missing = [];\n                if (resources.food < 500) missing.push(\"\".concat(500 - resources.food, \" Food\"));\n                if (resources.gold < 200) missing.push(\"\".concat(200 - resources.gold, \" Gold\"));\n                addNotification(\"To advance, you need \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n            updateResources({\n                food: -500,\n                gold: -200\n            });\n        }\n        const duration = 60000;\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: \"instant\",\n                type: \"advance_age\",\n                startTime: 0,\n                duration: 0\n            });\n        } else {\n            const taskId = \"\".concat(Date.now(), \"-advance_age\");\n            const newTask = {\n                id: taskId,\n                type: \"advance_age\",\n                startTime: Date.now(),\n                duration\n            };\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    newTask\n                ]);\n            setActivityStatus(\"Your people begin the long journey to a new age.\");\n            setBuildingManagementPanel({\n                isOpen: false,\n                type: null,\n                anchorRect: null\n            });\n        }\n    };\n    const handleExitGame = async ()=>{\n        setCurrentSaveName(null);\n        await fetchSaves();\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU);\n    };\n    const handleToggleUnlimitedResources = ()=>{\n        const newMode = !unlimitedResources;\n        setUnlimitedResources(newMode);\n        if (newMode) {\n            setResources({\n                food: 99999,\n                wood: 99999,\n                gold: 99999,\n                stone: 99999\n            });\n            addNotification(\"Test Mode: ON\");\n        } else {\n            addNotification(\"Test Mode: OFF\");\n        }\n    };\n    const buildingCounts = Object.keys(buildings).reduce((acc, key)=>{\n        const buildingType = key;\n        acc[buildingType] = buildings[buildingType].length;\n        return acc;\n    }, {});\n    const idleVillagerCount = units.villagers.filter((v)=>!isVillagerBusy(v.id)).length;\n    const assignmentTarget = assignmentPanelState.targetType === \"resource\" ? resourceNodes.find((n)=>n.id === assignmentPanelState.targetId) : constructingBuildings.find((c)=>c.id === assignmentPanelState.targetId);\n    const closeAllPanels = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setUnitManagementPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                type: null,\n                anchorRect: null\n            } : p);\n        setBuildingManagementPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                type: null,\n                instanceId: undefined,\n                anchorRect: null\n            } : p);\n        setBuildPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                villagerId: null,\n                anchorRect: null\n            } : p);\n        setAssignmentPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                targetId: null,\n                targetType: null,\n                anchorRect: null\n            } : p);\n        setSettingsPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClickOutside = (event)=>{\n            const isAnyPanelOpen = unitManagementPanel.isOpen || buildingManagementPanel.isOpen || buildPanelState.isOpen || assignmentPanelState.isOpen || settingsPanelState.isOpen;\n            if (!isAnyPanelOpen) {\n                return;\n            }\n            const target = event.target;\n            if (target.closest(\".sci-fi-panel-popup\")) {\n                return;\n            }\n            closeAllPanels();\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>{\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n    }, [\n        unitManagementPanel.isOpen,\n        buildingManagementPanel.isOpen,\n        buildPanelState.isOpen,\n        assignmentPanelState.isOpen,\n        settingsPanelState.isOpen,\n        closeAllPanels\n    ]);\n    const renderContent = ()=>{\n        switch(gameState){\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StartScreen__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                    onNewGame: handleStartNewGame,\n                    onResumeGame: handleResumeGame,\n                    savedGames: allSaves\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 830,\n                    columnNumber: 24\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 832,\n                    columnNumber: 24\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING:\n                if (!civilization) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 834,\n                    columnNumber: 43\n                }, undefined);\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_GameUI__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                            civilization: civilization,\n                            resources: resources,\n                            units: units,\n                            buildings: buildings,\n                            population: population,\n                            currentAge: currentAge,\n                            gameLog: gameLog,\n                            currentEvent: currentEvent,\n                            onEventChoice: handleEventChoice,\n                            resourceDeltas: resourceDeltas,\n                            activityStatus: activityStatus,\n                            unitList: UNIT_INFO,\n                            buildingList: BUILDINGS_INFO,\n                            onOpenUnitPanel: (type, rect)=>{\n                                closeAllPanels();\n                                setUnitManagementPanel({\n                                    isOpen: true,\n                                    type,\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenBuildingPanel: (type, instanceId, rect)=>{\n                                closeAllPanels();\n                                setBuildingManagementPanel({\n                                    isOpen: true,\n                                    type,\n                                    instanceId,\n                                    anchorRect: rect\n                                });\n                            },\n                            playerAction: playerAction,\n                            onConfirmPlacement: handleConfirmPlacement,\n                            onCancelPlayerAction: handleCancelPlayerAction,\n                            onBuildingClick: (building, rect)=>{\n                                closeAllPanels();\n                                const type = Object.keys(buildings).find((key)=>buildings[key].some((b)=>b.id === building.id));\n                                if (type) setBuildingManagementPanel({\n                                    isOpen: true,\n                                    type,\n                                    instanceId: building.id,\n                                    anchorRect: rect\n                                });\n                            },\n                            mapDimensions: MAP_DIMENSIONS,\n                            constructingBuildings: constructingBuildings,\n                            activeTasks: activeTasks,\n                            onExitGame: handleExitGame,\n                            onOpenSettingsPanel: (rect)=>{\n                                closeAllPanels();\n                                setSettingsPanelState({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            resourceNodes: resourceNodes,\n                            onOpenAssignmentPanel: (nodeId, rect)=>{\n                                closeAllPanels();\n                                setAssignmentPanelState({\n                                    isOpen: true,\n                                    targetId: nodeId,\n                                    targetType: \"resource\",\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenConstructionPanel: (constructionId, rect)=>{\n                                closeAllPanels();\n                                setAssignmentPanelState({\n                                    isOpen: true,\n                                    targetId: constructionId,\n                                    targetType: \"construction\",\n                                    anchorRect: rect\n                                });\n                            },\n                            gatherInfo: GATHER_INFO\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 837,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BuildPanel__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                            isOpen: buildPanelState.isOpen,\n                            onClose: ()=>setBuildPanelState({\n                                    isOpen: false,\n                                    villagerId: null,\n                                    anchorRect: null\n                                }),\n                            onStartPlacement: handleStartPlacement,\n                            resources: resources,\n                            buildingCounts: buildingCounts,\n                            buildingList: BUILDINGS_INFO,\n                            anchorRect: buildPanelState.anchorRect,\n                            panelOpacity: panelOpacity\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 871,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_UnitManagementPanel__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                            isOpen: unitManagementPanel.isOpen,\n                            onClose: ()=>setUnitManagementPanel({\n                                    isOpen: false,\n                                    type: null,\n                                    anchorRect: null\n                                }),\n                            type: unitManagementPanel.type,\n                            units: units,\n                            onUpdateUnit: handleUpdateUnit,\n                            onDismissUnit: handleDismissSpecificUnit,\n                            onInitiateBuild: (villagerId, rect)=>{\n                                closeAllPanels();\n                                handleInitiateBuild(villagerId, rect);\n                            },\n                            getVillagerTaskDetails: getVillagerTaskDetails,\n                            anchorRect: unitManagementPanel.anchorRect,\n                            panelOpacity: panelOpacity\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 881,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BuildingManagementPanel__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                            isOpen: buildingManagementPanel.isOpen,\n                            onClose: ()=>setBuildingManagementPanel({\n                                    isOpen: false,\n                                    type: null,\n                                    anchorRect: null\n                                }),\n                            panelState: buildingManagementPanel,\n                            buildings: buildings,\n                            buildingList: BUILDINGS_INFO,\n                            onUpdateBuilding: handleUpdateBuilding,\n                            onDemolishBuilding: handleDemolishBuilding,\n                            onTrainUnits: handleTrainUnits,\n                            onTrainVillagers: handleTrainVillagers,\n                            resources: resources,\n                            population: population,\n                            unitList: UNIT_INFO,\n                            onAdvanceAge: handleAdvanceAge,\n                            activeTasks: activeTasks,\n                            anchorRect: buildingManagementPanel.anchorRect,\n                            panelOpacity: panelOpacity\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 893,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ResourceAssignmentPanel__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                            isOpen: assignmentPanelState.isOpen,\n                            onClose: ()=>setAssignmentPanelState({\n                                    isOpen: false,\n                                    targetId: null,\n                                    targetType: null,\n                                    anchorRect: null\n                                }),\n                            assignmentTarget: assignmentTarget || null,\n                            idleVillagerCount: idleVillagerCount,\n                            onAssignVillagers: handleAssignVillagers,\n                            gatherInfo: GATHER_INFO,\n                            buildingList: BUILDINGS_INFO,\n                            anchorRect: assignmentPanelState.anchorRect,\n                            panelOpacity: panelOpacity\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 911,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_SettingsPanel__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                            isOpen: settingsPanelState.isOpen,\n                            onClose: ()=>setSettingsPanelState({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            anchorRect: settingsPanelState.anchorRect,\n                            opacity: panelOpacity,\n                            onOpacityChange: setPanelOpacity\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 922,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true);\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StartScreen__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                    onNewGame: handleStartNewGame,\n                    onResumeGame: handleResumeGame,\n                    savedGames: allSaves\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 932,\n                    columnNumber: 24\n                }, undefined);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-stone-dark flex items-center justify-center p-4\",\n        children: [\n            gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handleToggleUnlimitedResources,\n                className: \"fixed bottom-4 left-4 z-[101] bg-brand-gold text-stone-dark font-bold py-1 px-3 rounded-full text-xs shadow-lg hover:scale-105 transition-transform\",\n                \"aria-label\": \"Toggle unlimited resources test mode\",\n                children: [\n                    \"Test Mode: \",\n                    unlimitedResources ? \"ON\" : \"OFF\"\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 939,\n                columnNumber: 18\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_NotificationManager__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                notifications: notifications,\n                onRemoveNotification: removeNotification\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 947,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"w-full max-w-7xl mx-auto\",\n                children: renderContent()\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 948,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/src/app/page.tsx\",\n        lineNumber: 937,\n        columnNumber: 9\n    }, undefined);\n};\n_s(GamePage, \"OoQkfbaTzSujf7G4xUOImQ3zvtc=\");\n_c = GamePage;\n/* harmony default export */ __webpack_exports__[\"default\"] = (GamePage);\nvar _c;\n$RefreshReg$(_c, \"GamePage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFdBQVU7Z0JBQ1ZHLGNBQVc7O29CQUNkO29CQUNlcFIscUJBQXFCLE9BQU87Ozs7Ozs7MEJBR2hELDhEQUFDM0Qsd0VBQW1CQTtnQkFBQ3lELGVBQWVBO2dCQUFldVIsc0JBQXNCck87Ozs7OzswQkFDekUsOERBQUNzTztnQkFBS0wsV0FBVTswQkFDWGxDOzs7Ozs7Ozs7Ozs7QUFJakI7R0F2NEJNelE7S0FBQUE7QUF5NEJOLCtEQUFlQSxRQUFRQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcHAvcGFnZS50c3g/ZjY4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbid1c2UgY2xpZW50JztcblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBHYW1lU3RhdHVzLCB0eXBlIENpdmlsaXphdGlvbiwgdHlwZSBSZXNvdXJjZXMsIHR5cGUgVW5pdHMsIHR5cGUgQnVpbGRpbmdzLCB0eXBlIEdhbWVFdmVudCwgdHlwZSBHYW1lTG9nRW50cnksIHR5cGUgTG9nSWNvblR5cGUsIHR5cGUgUmVzb3VyY2VEZWx0YXMsIEJ1aWxkaW5nVHlwZSwgQnVpbGRpbmdJbmZvLCBVSU5vdGlmaWNhdGlvbiwgRnVsbEdhbWVTdGF0ZSwgVmlsbGFnZXIsIE1pbGl0YXJ5VW5pdCwgQnVpbGRpbmdJbnN0YW5jZSwgVW5pdEluZm8sIE1pbGl0YXJ5VW5pdFR5cGUsIEdhbWVUYXNrLCBDb25zdHJ1Y3RpbmdCdWlsZGluZywgVGFza1R5cGUsIFJlc291cmNlTm9kZSwgUmVzb3VyY2VOb2RlVHlwZSwgUGxheWVyQWN0aW9uU3RhdGUgfSBmcm9tICdAL3R5cGVzJztcbmltcG9ydCB7IGdldFByZWRlZmluZWRDaXZpbGl6YXRpb24sIGdldFByZWRlZmluZWRHYW1lRXZlbnQsIGdldFByZWRlZmluZWRBZ2UgfSBmcm9tICdAL3NlcnZpY2VzL2dlbWluaVNlcnZpY2UnO1xuaW1wb3J0IHsgc2F2ZUdhbWVTdGF0ZSwgbG9hZEdhbWVTdGF0ZSwgZ2V0QWxsU2F2ZU5hbWVzIH0gZnJvbSAnQC9zZXJ2aWNlcy9kYlNlcnZpY2UnO1xuaW1wb3J0IHsgZ2V0UmFuZG9tTmFtZXMgfSBmcm9tICdAL3NlcnZpY2VzL25hbWVTZXJ2aWNlJztcbmltcG9ydCBHYW1lVUkgZnJvbSAnQC9jb21wb25lbnRzL0dhbWVVSSc7XG5pbXBvcnQgU3RhcnRTY3JlZW4gZnJvbSAnQC9jb21wb25lbnRzL1N0YXJ0U2NyZWVuJztcbmltcG9ydCBMb2FkaW5nU2NyZWVuIGZyb20gJ0AvY29tcG9uZW50cy9Mb2FkaW5nU2NyZWVuJztcbmltcG9ydCBCdWlsZFBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9CdWlsZFBhbmVsJztcbmltcG9ydCBOb3RpZmljYXRpb25NYW5hZ2VyIGZyb20gJ0AvY29tcG9uZW50cy9Ob3RpZmljYXRpb25NYW5hZ2VyJztcbmltcG9ydCBVbml0TWFuYWdlbWVudFBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9Vbml0TWFuYWdlbWVudFBhbmVsJztcbmltcG9ydCBCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvQnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwnO1xuaW1wb3J0IFJlc291cmNlQXNzaWdubWVudFBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9SZXNvdXJjZUFzc2lnbm1lbnRQYW5lbCc7XG5pbXBvcnQgU2V0dGluZ3NQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvU2V0dGluZ3NQYW5lbCc7XG5cbmNvbnN0IEJVSUxESU5HU19JTkZPOiBCdWlsZGluZ0luZm9bXSA9IFtcbiAgICB7IGlkOiAnaG91c2VzJywgbmFtZTogJ0hvdXNlJywgZGVzY3JpcHRpb246ICdJbmNyZWFzZXMgcG9wdWxhdGlvbiBjYXBhY2l0eSBieSA1LicsIGNvc3Q6IHsgd29vZDogNTAgfSwgaXNVbmlxdWU6IGZhbHNlLCBidWlsZFRpbWU6IDE1IH0sXG4gICAgeyBpZDogJ2JhcnJhY2tzJywgbmFtZTogJ0JhcnJhY2tzJywgZGVzY3JpcHRpb246ICdBbGxvd3MgdHJhaW5pbmcgb2YgU3dvcmRzbWVuLicsIGNvc3Q6IHsgd29vZDogMTUwLCBzdG9uZTogNTAgfSwgaXNVbmlxdWU6IHRydWUsIGJ1aWxkVGltZTogNjAgfSxcbiAgICB7IGlkOiAnYXJjaGVyeVJhbmdlJywgbmFtZTogJ0FyY2hlcnkgUmFuZ2UnLCBkZXNjcmlwdGlvbjogJ0FsbG93cyB0cmFpbmluZyBvZiBBcmNoZXJzLicsIGNvc3Q6IHsgd29vZDogMTc1IH0sIGlzVW5pcXVlOiB0cnVlLCBidWlsZFRpbWU6IDYwIH0sXG4gICAgeyBpZDogJ3N0YWJsZScsIG5hbWU6ICdTdGFibGVzJywgZGVzY3JpcHRpb246ICdBbGxvd3MgdHJhaW5pbmcgb2YgS25pZ2h0cy4nLCBjb3N0OiB7IHdvb2Q6IDE3NSwgZ29sZDogNzUgfSwgaXNVbmlxdWU6IHRydWUsIGJ1aWxkVGltZTogNzUgfSxcbiAgICB7IGlkOiAnc2llZ2VXb3Jrc2hvcCcsIG5hbWU6ICdTaWVnZSBXb3Jrc2hvcCcsIGRlc2NyaXB0aW9uOiAnQ29uc3RydWN0cyBwb3dlcmZ1bCBDYXRhcHVsdHMuJywgY29zdDogeyB3b29kOiAyMDAsIGdvbGQ6IDE1MCB9LCBpc1VuaXF1ZTogdHJ1ZSwgYnVpbGRUaW1lOiA5MCB9LFxuICAgIHsgaWQ6ICdibGFja3NtaXRoJywgbmFtZTogJ0JsYWNrc21pdGgnLCBkZXNjcmlwdGlvbjogJ1Jlc2VhcmNoZXMgaW5mYW50cnkgYW5kIGNhdmFscnkgdXBncmFkZXMuJywgY29zdDogeyB3b29kOiAxMDAsIGdvbGQ6IDEwMCB9LCBpc1VuaXF1ZTogdHJ1ZSwgYnVpbGRUaW1lOiA0NSB9LFxuICAgIHsgaWQ6ICd3YXRjaFRvd2VyJywgbmFtZTogJ1dhdGNoIFRvd2VyJywgZGVzY3JpcHRpb246ICdQcm92aWRlcyBkZWZlbnNlIGFnYWluc3QgcmFpZHMuJywgY29zdDogeyBzdG9uZTogMTI1IH0sIGlzVW5pcXVlOiB0cnVlLCBidWlsZFRpbWU6IDQ1IH0sXG4gICAgeyBpZDogJ3Rvd25DZW50ZXInLCBuYW1lOiAnVG93biBDZW50ZXInLCBkZXNjcmlwdGlvbjogJ1RoZSBoZWFydCBvZiB5b3VyIHNldHRsZW1lbnQuJywgY29zdDoge30sIGlzVW5pcXVlOiB0cnVlLCBidWlsZFRpbWU6IDAgfVxuXTtcblxuY29uc3QgVU5JVF9JTkZPOiBVbml0SW5mb1tdID0gW1xuICAgIHsgaWQ6ICdzd29yZHNtYW4nLCBuYW1lOiAnU3dvcmRzbWFuJywgZGVzY3JpcHRpb246ICdCYXNpYyBtZWxlZSBpbmZhbnRyeS4nLCBjb3N0OiB7IGZvb2Q6IDYwLCBnb2xkOiAyMCB9LCByZXF1aXJlZEJ1aWxkaW5nOiAnYmFycmFja3MnLCB0cmFpblRpbWU6IDIyIH0sXG4gICAgeyBpZDogJ2FyY2hlcicsIG5hbWU6ICdBcmNoZXInLCBkZXNjcmlwdGlvbjogJ1JhbmdlZCB1bml0IGVmZmVjdGl2ZSBhZ2FpbnN0IGluZmFudHJ5LicsIGNvc3Q6IHsgZm9vZDogMzAsIHdvb2Q6IDQwIH0sIHJlcXVpcmVkQnVpbGRpbmc6ICdhcmNoZXJ5UmFuZ2UnLCB0cmFpblRpbWU6IDI1IH0sXG4gICAgeyBpZDogJ2tuaWdodCcsIG5hbWU6ICdLbmlnaHQnLCBkZXNjcmlwdGlvbjogJ0Zhc3QgYW5kIHBvd2VyZnVsIGNhdmFscnkuJywgY29zdDogeyBmb29kOiA2MCwgZ29sZDogNzUgfSwgcmVxdWlyZWRCdWlsZGluZzogJ3N0YWJsZScsIHRyYWluVGltZTogMzAgfSxcbiAgICB7IGlkOiAnY2F0YXB1bHQnLCBuYW1lOiAnQ2F0YXB1bHQnLCBkZXNjcmlwdGlvbjogJ1NpZWdlIGVuZ2luZSBkZXZhc3RhdGluZyB0byBidWlsZGluZ3MuJywgY29zdDogeyB3b29kOiAxNTAsIGdvbGQ6IDE1MCB9LCByZXF1aXJlZEJ1aWxkaW5nOiAnc2llZ2VXb3Jrc2hvcCcsIHRyYWluVGltZTogNDUgfSxcbl07XG5cbmNvbnN0IEdBVEhFUl9JTkZPOiBSZWNvcmQ8UmVzb3VyY2VOb2RlVHlwZSwgeyByYXRlOiBudW1iZXIgfT4gPSB7XG4gICAgZm9vZDogeyByYXRlOiAxMCB9LFxuICAgIHdvb2Q6IHsgcmF0ZTogOCB9LFxuICAgIGdvbGQ6IHsgcmF0ZTogNSB9LFxuICAgIHN0b25lOiB7IHJhdGU6IDYgfSxcbn1cblxuY29uc3QgaW5pdGlhbEJ1aWxkaW5nc1N0YXRlOiBCdWlsZGluZ3MgPSB7XG4gICAgaG91c2VzOiBbXSwgYmFycmFja3M6IFtdLCBhcmNoZXJ5UmFuZ2U6IFtdLCBzdGFibGU6IFtdLCBzaWVnZVdvcmtzaG9wOiBbXSwgYmxhY2tzbWl0aDogW10sIHdhdGNoVG93ZXI6IFtdLCB0b3duQ2VudGVyOiBbXVxufTtcblxuY29uc3QgTUFQX0RJTUVOU0lPTlMgPSB7IHdpZHRoOiAyNSwgaGVpZ2h0OiAxOCB9O1xuXG5jb25zdCBHYW1lUGFnZTogUmVhY3QuRkMgPSAoKSA9PiB7XG4gICAgY29uc3QgW2dhbWVTdGF0ZSwgc2V0R2FtZVN0YXRlXSA9IHVzZVN0YXRlPEdhbWVTdGF0dXM+KEdhbWVTdGF0dXMuTUVOVSk7XG4gICAgY29uc3QgW2NpdmlsaXphdGlvbiwgc2V0Q2l2aWxpemF0aW9uXSA9IHVzZVN0YXRlPENpdmlsaXphdGlvbiB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFtyZXNvdXJjZXMsIHNldFJlc291cmNlc10gPSB1c2VTdGF0ZTxSZXNvdXJjZXM+KHsgZm9vZDogMjAwLCB3b29kOiAxNTAsIGdvbGQ6IDUwLCBzdG9uZTogMTAwIH0pO1xuICAgIGNvbnN0IFt1bml0cywgc2V0VW5pdHNdID0gdXNlU3RhdGU8VW5pdHM+KHsgdmlsbGFnZXJzOiBbXSwgbWlsaXRhcnk6IFtdIH0pO1xuICAgIGNvbnN0IFtidWlsZGluZ3MsIHNldEJ1aWxkaW5nc10gPSB1c2VTdGF0ZTxCdWlsZGluZ3M+KGluaXRpYWxCdWlsZGluZ3NTdGF0ZSk7XG4gICAgY29uc3QgW2N1cnJlbnRBZ2UsIHNldEN1cnJlbnRBZ2VdID0gdXNlU3RhdGU8c3RyaW5nPignTm9tYWRpYyBBZ2UnKTtcbiAgICBjb25zdCBbZ2FtZUxvZywgc2V0R2FtZUxvZ10gPSB1c2VTdGF0ZTxHYW1lTG9nRW50cnlbXT4oW10pO1xuICAgIGNvbnN0IFtjdXJyZW50RXZlbnQsIHNldEN1cnJlbnRFdmVudF0gPSB1c2VTdGF0ZTxHYW1lRXZlbnQgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbcmVzb3VyY2VEZWx0YXMsIHNldFJlc291cmNlRGVsdGFzXSA9IHVzZVN0YXRlPFJlc291cmNlRGVsdGFzPih7fSk7XG4gICAgY29uc3QgW2FjdGl2aXR5U3RhdHVzLCBzZXRBY3Rpdml0eVN0YXR1c10gPSB1c2VTdGF0ZTxzdHJpbmc+KCdZb3VyIHN0b3J5IGJlZ2lucy4uLicpO1xuICAgIGNvbnN0IFtub3RpZmljYXRpb25zLCBzZXROb3RpZmljYXRpb25zXSA9IHVzZVN0YXRlPFVJTm90aWZpY2F0aW9uW10+KFtdKTtcbiAgICBjb25zdCBbdW5saW1pdGVkUmVzb3VyY2VzLCBzZXRVbmxpbWl0ZWRSZXNvdXJjZXNdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICAgIGNvbnN0IFthbGxTYXZlcywgc2V0QWxsU2F2ZXNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgICBjb25zdCBbY3VycmVudFNhdmVOYW1lLCBzZXRDdXJyZW50U2F2ZU5hbWVdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW3BsYXllckFjdGlvbiwgc2V0UGxheWVyQWN0aW9uXSA9IHVzZVN0YXRlPFBsYXllckFjdGlvblN0YXRlPihudWxsKTtcbiAgICBjb25zdCBbYWN0aXZlVGFza3MsIHNldEFjdGl2ZVRhc2tzXSA9IHVzZVN0YXRlPEdhbWVUYXNrW10+KFtdKTtcbiAgICBjb25zdCBbY29uc3RydWN0aW5nQnVpbGRpbmdzLCBzZXRDb25zdHJ1Y3RpbmdCdWlsZGluZ3NdID0gdXNlU3RhdGU8Q29uc3RydWN0aW5nQnVpbGRpbmdbXT4oW10pO1xuICAgIGNvbnN0IFtyZXNvdXJjZU5vZGVzLCBzZXRSZXNvdXJjZU5vZGVzXSA9IHVzZVN0YXRlPFJlc291cmNlTm9kZVtdPihbXSk7XG4gICAgY29uc3QgW3BhbmVsT3BhY2l0eSwgc2V0UGFuZWxPcGFjaXR5XSA9IHVzZVN0YXRlKDEuMCk7XG4gICAgXG4gICAgLy8gUGFuZWwgU3RhdGVzXG4gICAgY29uc3QgW2J1aWxkUGFuZWxTdGF0ZSwgc2V0QnVpbGRQYW5lbFN0YXRlXSA9IHVzZVN0YXRlPHsgaXNPcGVuOiBib29sZWFuOyB2aWxsYWdlcklkOiBzdHJpbmcgfCBudWxsOyBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbCB9Pih7IGlzT3BlbjogZmFsc2UsIHZpbGxhZ2VySWQ6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgY29uc3QgW3VuaXRNYW5hZ2VtZW50UGFuZWwsIHNldFVuaXRNYW5hZ2VtZW50UGFuZWxdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IHR5cGU6ICd2aWxsYWdlcnMnIHwgJ21pbGl0YXJ5JyB8IG51bGw7IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsOyB9Pih7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgY29uc3QgW2J1aWxkaW5nTWFuYWdlbWVudFBhbmVsLCBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbF0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgdHlwZTogQnVpbGRpbmdUeXBlIHwgbnVsbDsgaW5zdGFuY2VJZD86IHN0cmluZzsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7IH0+KHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICBjb25zdCBbYXNzaWdubWVudFBhbmVsU3RhdGUsIHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlXSA9IHVzZVN0YXRlPHsgaXNPcGVuOiBib29sZWFuOyB0YXJnZXRJZDogc3RyaW5nIHwgbnVsbDsgdGFyZ2V0VHlwZTogJ3Jlc291cmNlJyB8ICdjb25zdHJ1Y3Rpb24nIHwgbnVsbDsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7IH0+KHsgaXNPcGVuOiBmYWxzZSwgdGFyZ2V0SWQ6IG51bGwsIHRhcmdldFR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgY29uc3QgW3NldHRpbmdzUGFuZWxTdGF0ZSwgc2V0U2V0dGluZ3NQYW5lbFN0YXRlXSA9IHVzZVN0YXRlPHsgaXNPcGVuOiBib29sZWFuOyBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbDsgfT4oeyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuXG5cbiAgICBjb25zdCBkZWx0YVRpbWVvdXRSZWYgPSB1c2VSZWY8eyBba2V5IGluIGtleW9mIFJlc291cmNlc10/OiBudW1iZXIgfT4oe30pO1xuXG4gICAgY29uc3QgcG9wdWxhdGlvbiA9IHtcbiAgICAgICAgY3VycmVudDogdW5pdHMudmlsbGFnZXJzLmxlbmd0aCArIHVuaXRzLm1pbGl0YXJ5Lmxlbmd0aCxcbiAgICAgICAgY2FwYWNpdHk6IChidWlsZGluZ3MudG93bkNlbnRlcj8ubGVuZ3RoID4gMCA/IDIwIDogMCkgKyBidWlsZGluZ3MuaG91c2VzLmxlbmd0aCAqIDUsXG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBmZXRjaFNhdmVzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBuYW1lcyA9IGF3YWl0IGdldEFsbFNhdmVOYW1lcygpO1xuICAgICAgICBzZXRBbGxTYXZlcyhuYW1lcyk7XG4gICAgfSwgW10pO1xuICAgIFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGZldGNoU2F2ZXMoKTtcbiAgICB9LCBbZmV0Y2hTYXZlc10pO1xuICAgIFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChnYW1lU3RhdGUgPT09IEdhbWVTdGF0dXMuUExBWUlORyAmJiBjaXZpbGl6YXRpb24gJiYgY3VycmVudFNhdmVOYW1lKSB7XG4gICAgICAgICAgICBjb25zdCBmdWxsU3RhdGU6IEZ1bGxHYW1lU3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgY2l2aWxpemF0aW9uLFxuICAgICAgICAgICAgICAgIHJlc291cmNlcyxcbiAgICAgICAgICAgICAgICB1bml0cyxcbiAgICAgICAgICAgICAgICBidWlsZGluZ3MsXG4gICAgICAgICAgICAgICAgY3VycmVudEFnZSxcbiAgICAgICAgICAgICAgICBnYW1lTG9nLFxuICAgICAgICAgICAgICAgIGFjdGl2ZVRhc2tzLFxuICAgICAgICAgICAgICAgIGNvbnN0cnVjdGluZ0J1aWxkaW5ncyxcbiAgICAgICAgICAgICAgICByZXNvdXJjZU5vZGVzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNhdmVHYW1lU3RhdGUoY3VycmVudFNhdmVOYW1lLCBmdWxsU3RhdGUpO1xuICAgICAgICB9XG4gICAgfSwgW2NpdmlsaXphdGlvbiwgcmVzb3VyY2VzLCB1bml0cywgYnVpbGRpbmdzLCBjdXJyZW50QWdlLCBnYW1lTG9nLCBnYW1lU3RhdGUsIGN1cnJlbnRTYXZlTmFtZSwgYWN0aXZlVGFza3MsIGNvbnN0cnVjdGluZ0J1aWxkaW5ncywgcmVzb3VyY2VOb2Rlc10pO1xuXG4gICAgY29uc3QgYWRkTm90aWZpY2F0aW9uID0gdXNlQ2FsbGJhY2soKG1lc3NhZ2U6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBpZCA9IGAke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKX1gO1xuICAgICAgICBzZXROb3RpZmljYXRpb25zKHByZXYgPT4gWy4uLnByZXYsIHsgaWQsIG1lc3NhZ2UgfV0pO1xuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IHJlbW92ZU5vdGlmaWNhdGlvbiA9IHVzZUNhbGxiYWNrKChpZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIHNldE5vdGlmaWNhdGlvbnMocHJldiA9PiBwcmV2LmZpbHRlcihuID0+IG4uaWQgIT09IGlkKSk7XG4gICAgfSwgW10pO1xuICAgIFxuICAgIGNvbnN0IGFkZFRvTG9nID0gKG1lc3NhZ2U6IHN0cmluZywgaWNvbjogTG9nSWNvblR5cGUpID0+IHtcbiAgICAgICAgc2V0R2FtZUxvZyhwcmV2ID0+IFt7IGlkOiBgJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCl9YCwgbWVzc2FnZSwgaWNvbiB9LCAuLi5wcmV2LnNsaWNlKDAsIDE5KV0pO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgdXBkYXRlUmVzb3VyY2VzID0gdXNlQ2FsbGJhY2soKGRlbHRhczogUmVzb3VyY2VEZWx0YXMpID0+IHtcbiAgICAgICAgc2V0UmVzb3VyY2VzKHByZXYgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3UmVzb3VyY2VzID0geyAuLi5wcmV2IH07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkZWx0YXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNvdXJjZUtleSA9IGtleSBhcyBrZXlvZiBSZXNvdXJjZXM7XG4gICAgICAgICAgICAgICAgbmV3UmVzb3VyY2VzW3Jlc291cmNlS2V5XSA9IE1hdGgubWF4KDAsIG5ld1Jlc291cmNlc1tyZXNvdXJjZUtleV0gKyAoZGVsdGFzW3Jlc291cmNlS2V5XSA/PyAwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3UmVzb3VyY2VzO1xuICAgICAgICB9KTtcblxuICAgICAgICBzZXRSZXNvdXJjZURlbHRhcyhwcmV2ID0+ICh7Li4ucHJldiwgLi4uZGVsdGFzfSkpO1xuXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRlbHRhcykge1xuICAgICAgICAgICAgY29uc3QgcmVzb3VyY2VLZXkgPSBrZXkgYXMga2V5b2YgUmVzb3VyY2VzO1xuICAgICAgICAgICAgaWYgKGRlbHRhVGltZW91dFJlZi5jdXJyZW50W3Jlc291cmNlS2V5XSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoZGVsdGFUaW1lb3V0UmVmLmN1cnJlbnRbcmVzb3VyY2VLZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbHRhVGltZW91dFJlZi5jdXJyZW50W3Jlc291cmNlS2V5XSA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRSZXNvdXJjZURlbHRhcyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3RGVsdGFzID0gey4uLnByZXZ9O1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgbmV3RGVsdGFzW3Jlc291cmNlS2V5XTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld0RlbHRhcztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIDE1MDApO1xuICAgICAgICB9XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgaGFuZGxlTmV3RXZlbnQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmICghY2l2aWxpemF0aW9uIHx8IGN1cnJlbnRFdmVudCB8fCBhY3RpdmVUYXNrcy5sZW5ndGggPiAwKSByZXR1cm47XG4gICAgICAgIFxuICAgICAgICBhZGRUb0xvZygnQSBuZXcgY2hhcHRlciB1bmZvbGRzLi4uJywgJ2V2ZW50Jyk7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gZ2V0UHJlZGVmaW5lZEdhbWVFdmVudCgpO1xuICAgICAgICBzZXRDdXJyZW50RXZlbnQoZXZlbnQpO1xuICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cygnQSBuZXcgZXZlbnQgcmVxdWlyZXMgeW91ciBhdHRlbnRpb24hJyk7XG4gICAgfSwgW2NpdmlsaXphdGlvbiwgY3VycmVudEV2ZW50LCBhY3RpdmVUYXNrcy5sZW5ndGhdKTtcbiAgICBcbiAgICBjb25zdCBnZW5lcmF0ZVJlc291cmNlTm9kZXMgPSAoZXhpc3RpbmdQb3NpdGlvbnM6IFNldDxzdHJpbmc+KTogUmVzb3VyY2VOb2RlW10gPT4ge1xuICAgICAgICBjb25zdCBub2RlczogUmVzb3VyY2VOb2RlW10gPSBbXTtcbiAgICAgICAgY29uc3QgdHlwZXM6IFJlc291cmNlTm9kZVR5cGVbXSA9IFsnZm9vZCcsICd3b29kJywgJ2dvbGQnLCAnc3RvbmUnXTtcbiAgICAgICAgY29uc3QgbnVtTm9kZXMgPSAyMCArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcbiAgICAgICAgXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtTm9kZXM7IGkrKykge1xuICAgICAgICAgICAgbGV0IHBvczoge3g6IG51bWJlciwgeTogbnVtYmVyfTtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBwb3MgPSB7XG4gICAgICAgICAgICAgICAgICAgIHg6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE1BUF9ESU1FTlNJT05TLndpZHRoKSxcbiAgICAgICAgICAgICAgICAgICAgeTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTUFQX0RJTUVOU0lPTlMuaGVpZ2h0KSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlIChleGlzdGluZ1Bvc2l0aW9ucy5oYXMoYCR7cG9zLnh9LCR7cG9zLnl9YCkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleGlzdGluZ1Bvc2l0aW9ucy5hZGQoYCR7cG9zLnh9LCR7cG9zLnl9YCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSB0eXBlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0eXBlcy5sZW5ndGgpXTtcbiAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgyNTAwIC0gNTAwICsgMSkpICsgNTAwO1xuXG4gICAgICAgICAgICBub2Rlcy5wdXNoKHsgaWQ6IGAke0RhdGUubm93KCl9LW5vZGUtJHtpfWAsIHR5cGUsIHBvc2l0aW9uOiBwb3MsIGFtb3VudCwgYXNzaWduZWRWaWxsYWdlcnM6IFtdIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlcztcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlU3RhcnROZXdHYW1lID0gKHNhdmVOYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgaWYgKGFsbFNhdmVzLmluY2x1ZGVzKHNhdmVOYW1lKSkge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKGBBIHNhZ2EgbmFtZWQgXCIke3NhdmVOYW1lfVwiIGFscmVhZHkgZXhpc3RzLmApOyByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0R2FtZVN0YXRlKEdhbWVTdGF0dXMuTE9BRElORyk7XG4gICAgICAgIHNldEN1cnJlbnRTYXZlTmFtZShzYXZlTmFtZSk7XG5cbiAgICAgICAgY29uc3QgY2l2ID0gZ2V0UHJlZGVmaW5lZENpdmlsaXphdGlvbigpO1xuICAgICAgICBzZXRDaXZpbGl6YXRpb24oY2l2KTtcbiAgICAgICAgc2V0UmVzb3VyY2VzKHsgZm9vZDogMjAwLCB3b29kOiAxNTAsIGdvbGQ6IDUwLCBzdG9uZTogMTAwIH0pO1xuICAgICAgICBjb25zdCBpbml0aWFsVmlsbGFnZXJOYW1lcyA9IGdldFJhbmRvbU5hbWVzKCd2aWxsYWdlcicsIDMpO1xuICAgICAgICBjb25zdCBpbml0aWFsVmlsbGFnZXJzOiBWaWxsYWdlcltdID0gaW5pdGlhbFZpbGxhZ2VyTmFtZXMubWFwKG5hbWUgPT4gKHsgaWQ6IGAke0RhdGUubm93KCl9LSR7bmFtZX1gLCBuYW1lIH0pKTtcbiAgICAgICAgc2V0VW5pdHMoeyB2aWxsYWdlcnM6IGluaXRpYWxWaWxsYWdlcnMsIG1pbGl0YXJ5OiBbXSB9KTtcbiAgICAgICAgY29uc3QgW2luaXRpYWxUQ05hbWVdID0gZ2V0UmFuZG9tTmFtZXMoJ2J1aWxkaW5nJywgMSk7XG4gICAgICAgIGNvbnN0IHRjUG9zaXRpb24gPSB7IHg6IE1hdGguZmxvb3IoTUFQX0RJTUVOU0lPTlMud2lkdGggLyAyKSwgeTogTWF0aC5mbG9vcihNQVBfRElNRU5TSU9OUy5oZWlnaHQgLyAyKSB9O1xuICAgICAgICBjb25zdCBpbml0aWFsVEM6IEJ1aWxkaW5nSW5zdGFuY2UgPSB7IGlkOiBgJHtEYXRlLm5vdygpfS10Y2AsIG5hbWU6IGluaXRpYWxUQ05hbWUsIHBvc2l0aW9uOiB0Y1Bvc2l0aW9uIH07XG4gICAgICAgIHNldEJ1aWxkaW5ncyh7Li4uaW5pdGlhbEJ1aWxkaW5nc1N0YXRlLCB0b3duQ2VudGVyOiBbaW5pdGlhbFRDXX0pO1xuICAgICAgICBzZXRSZXNvdXJjZU5vZGVzKGdlbmVyYXRlUmVzb3VyY2VOb2RlcyhuZXcgU2V0KFtgJHt0Y1Bvc2l0aW9uLnh9LCR7dGNQb3NpdGlvbi55fWBdKSkpO1xuICAgICAgICBzZXRDdXJyZW50QWdlKCdOb21hZGljIEFnZScpO1xuICAgICAgICBzZXRHYW1lTG9nKFtdKTtcbiAgICAgICAgc2V0Q3VycmVudEV2ZW50KG51bGwpO1xuICAgICAgICBzZXRVbmxpbWl0ZWRSZXNvdXJjZXMoZmFsc2UpO1xuICAgICAgICBzZXRBY3RpdmVUYXNrcyhbXSk7XG4gICAgICAgIHNldENvbnN0cnVjdGluZ0J1aWxkaW5ncyhbXSk7XG4gICAgICAgIGFkZFRvTG9nKGAke2Npdi5uYW1lfSBoYXMgYmVlbiBmb3VuZGVkIWAsICdzeXN0ZW0nKTtcbiAgICAgICAgYWRkVG9Mb2coJ1lvdXIgc3RvcnkgYmVnaW5zLi4uJywgJ3N5c3RlbScpO1xuICAgICAgICBzZXRHYW1lU3RhdGUoR2FtZVN0YXR1cy5QTEFZSU5HKTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoJ1lvdXIgc2V0dGxlbWVudCBhd2FpdHMgeW91ciBjb21tYW5kLicpO1xuICAgICAgICBmZXRjaFNhdmVzKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGdldFZpbGxhZ2VyVGFza0RldGFpbHMgPSB1c2VDYWxsYmFjaygodmlsbGFnZXJJZDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICAgICAgY29uc3QgdGFzayA9IGFjdGl2ZVRhc2tzLmZpbmQodCA9PiB0LnBheWxvYWQ/LnZpbGxhZ2VySWRzPy5pbmNsdWRlcyh2aWxsYWdlcklkKSk7XG5cbiAgICAgICAgaWYgKHRhc2spIHtcbiAgICAgICAgICAgIGlmICh0YXNrLnR5cGUgPT09ICdidWlsZCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBCVUlMRElOR1NfSU5GTy5maW5kKGIgPT4gYi5pZCA9PT0gdGFzay5wYXlsb2FkIS5idWlsZGluZ1R5cGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBgQnVzeTogQ29uc3RydWN0aW5nICR7YnVpbGRpbmdJbmZvPy5uYW1lIHx8ICdhIGJ1aWxkaW5nJ31gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRhc2sudHlwZSA9PT0gJ2dhdGhlcicpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gcmVzb3VyY2VOb2Rlcy5maW5kKG4gPT4gbi5pZCA9PT0gdGFzay5wYXlsb2FkIS5yZXNvdXJjZU5vZGVJZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBCdXN5OiBHYXRoZXJpbmcgJHtub2RlPy50eXBlIHx8ICdyZXNvdXJjZXMnfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiAnSWRsZSc7XG4gICAgfSwgW2FjdGl2ZVRhc2tzLCByZXNvdXJjZU5vZGVzXSk7XG5cbiAgICBjb25zdCBpc1ZpbGxhZ2VyQnVzeSA9IHVzZUNhbGxiYWNrKCh2aWxsYWdlcklkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgcmV0dXJuIGdldFZpbGxhZ2VyVGFza0RldGFpbHModmlsbGFnZXJJZCkgIT09ICdJZGxlJztcbiAgICB9LCBbZ2V0VmlsbGFnZXJUYXNrRGV0YWlsc10pO1xuXG4gICAgY29uc3QgaGFuZGxlUmVzdW1lR2FtZSA9IGFzeW5jIChzYXZlTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IHNhdmVkU3RhdGUgPSBhd2FpdCBsb2FkR2FtZVN0YXRlKHNhdmVOYW1lKSBhcyBGdWxsR2FtZVN0YXRlO1xuICAgICAgICBpZiAoc2F2ZWRTdGF0ZSkge1xuICAgICAgICAgICAgc2V0R2FtZVN0YXRlKEdhbWVTdGF0dXMuTE9BRElORyk7XG4gICAgICAgICAgICBzZXRDdXJyZW50U2F2ZU5hbWUoc2F2ZU5hbWUpO1xuICAgICAgICAgICAgc2V0Q2l2aWxpemF0aW9uKHNhdmVkU3RhdGUuY2l2aWxpemF0aW9uKTtcbiAgICAgICAgICAgIHNldFJlc291cmNlcyhzYXZlZFN0YXRlLnJlc291cmNlcyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICgoc2F2ZWRTdGF0ZS51bml0cyBhcyBhbnkpPy5zb2xkaWVycykge1xuICAgICAgICAgICAgICAgICBjb25zdCBtaWdyYXRlZE1pbGl0YXJ5OiBNaWxpdGFyeVVuaXRbXSA9IChzYXZlZFN0YXRlLnVuaXRzIGFzIGFueSkuc29sZGllcnMubWFwKChzOiBhbnkpID0+ICh7IC4uLnMsIHVuaXRUeXBlOiAnc3dvcmRzbWFuJyB9KSk7XG4gICAgICAgICAgICAgICAgIHNldFVuaXRzKHsgdmlsbGFnZXJzOiBzYXZlZFN0YXRlLnVuaXRzLnZpbGxhZ2VycyB8fCBbXSwgbWlsaXRhcnk6IG1pZ3JhdGVkTWlsaXRhcnkgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICBzZXRVbml0cyhzYXZlZFN0YXRlLnVuaXRzIHx8IHsgdmlsbGFnZXJzOiBbXSwgbWlsaXRhcnk6IFtdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgZmluYWxCdWlsZGluZ3MgPSB7IC4uLmluaXRpYWxCdWlsZGluZ3NTdGF0ZSwgLi4uKHNhdmVkU3RhdGUuYnVpbGRpbmdzIHx8IHt9KSB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBvY2N1cGllZENlbGxzID0gbmV3IFNldChPYmplY3QudmFsdWVzKGZpbmFsQnVpbGRpbmdzKS5mbGF0KCkubWFwKChiOiBhbnkpID0+IGAke2IucG9zaXRpb24ueH0sJHtiLnBvc2l0aW9uLnl9YCkpO1xuXG4gICAgICAgICAgICBpZiAoIWZpbmFsQnVpbGRpbmdzLnRvd25DZW50ZXIgfHwgZmluYWxCdWlsZGluZ3MudG93bkNlbnRlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgdGNQb3MgPSB7IHg6IDEwLCB5OiA1IH07XG4gICAgICAgICAgICAgICAgd2hpbGUgKG9jY3VwaWVkQ2VsbHMuaGFzKGAke3RjUG9zLnh9LCR7dGNQb3MueX1gKSkgeyB0Y1Bvcy54Kys7IH1cbiAgICAgICAgICAgICAgICBjb25zdCBbdGNOYW1lXSA9IGdldFJhbmRvbU5hbWVzKCdidWlsZGluZycsIDEpO1xuICAgICAgICAgICAgICAgIGZpbmFsQnVpbGRpbmdzLnRvd25DZW50ZXIgPSBbeyBpZDogYCR7RGF0ZS5ub3coKX0tdGNgLCBuYW1lOiB0Y05hbWUsIHBvc2l0aW9uOiB0Y1BvcyB9XTtcbiAgICAgICAgICAgICAgICBvY2N1cGllZENlbGxzLmFkZChgJHt0Y1Bvcy54fSwke3RjUG9zLnl9YCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGZpcnN0QnVpbGRpbmcgPSBPYmplY3QudmFsdWVzKGZpbmFsQnVpbGRpbmdzKS5mbGF0KClbMF07XG4gICAgICAgICAgICBpZiAoZmlyc3RCdWlsZGluZyAmJiB0eXBlb2YgZmlyc3RCdWlsZGluZyA9PT0gJ29iamVjdCcgJiYgISgncG9zaXRpb24nIGluIGZpcnN0QnVpbGRpbmcpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWlncmF0ZWQgPSB7IC4uLmluaXRpYWxCdWlsZGluZ3NTdGF0ZSB9O1xuICAgICAgICAgICAgICAgIGxldCB5ID0gMztcbiAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyhmaW5hbEJ1aWxkaW5ncykuZm9yRWFjaCgoW3R5cGUsIGluc3RhbmNlc10pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHggPSA1O1xuICAgICAgICAgICAgICAgICAgICAoaW5zdGFuY2VzIGFzIEJ1aWxkaW5nSW5zdGFuY2VbXSkuZm9yRWFjaChpbnN0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChvY2N1cGllZENlbGxzLmhhcyhgJHt4fSwke3l9YCkpIHsgeCsrOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAobWlncmF0ZWRbdHlwZSBhcyBCdWlsZGluZ1R5cGVdIGFzIEJ1aWxkaW5nSW5zdGFuY2VbXSkucHVzaCh7IC4uLmluc3QsIHBvc2l0aW9uOiB7IHgsIHkgfSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9jY3VwaWVkQ2VsbHMuYWRkKGAke3h9LCR7eX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHgrKztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZmluYWxCdWlsZGluZ3MgPSBtaWdyYXRlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc2V0QnVpbGRpbmdzKGZpbmFsQnVpbGRpbmdzKTtcblxuICAgICAgICAgICAgY29uc3Qgbm9kZXNUb1NldCA9IChzYXZlZFN0YXRlLnJlc291cmNlTm9kZXMgfHwgW10pLm1hcChuID0+ICh7Li4ubiwgYXNzaWduZWRWaWxsYWdlcnM6IG4uYXNzaWduZWRWaWxsYWdlcnMgfHwgW119KSk7XG4gICAgICAgICAgICBpZiAobm9kZXNUb1NldC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgc2V0UmVzb3VyY2VOb2RlcyhnZW5lcmF0ZVJlc291cmNlTm9kZXMob2NjdXBpZWRDZWxscykpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgc2V0UmVzb3VyY2VOb2Rlcyhub2Rlc1RvU2V0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0Q3VycmVudEFnZShzYXZlZFN0YXRlLmN1cnJlbnRBZ2UpO1xuICAgICAgICAgICAgc2V0R2FtZUxvZyhzYXZlZFN0YXRlLmdhbWVMb2cpO1xuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MoKHNhdmVkU3RhdGUuYWN0aXZlVGFza3MgfHwgW10pLm1hcCh0ID0+IHtcbiAgICAgICAgICAgICAgICAvLyBNaWdyYXRpb24gZm9yIG9sZCBzYXZlIGZvcm1hdFxuICAgICAgICAgICAgICAgIGlmICh0LnR5cGUgPT09ICdidWlsZCcgJiYgdC5wYXlsb2FkPy52aWxsYWdlcklkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnQsIHBheWxvYWQ6IHsgLi4udC5wYXlsb2FkLCB2aWxsYWdlcklkczogW3QucGF5bG9hZC52aWxsYWdlcklkXSwgdmlsbGFnZXJJZDogdW5kZWZpbmVkIH0gfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBzZXRDb25zdHJ1Y3RpbmdCdWlsZGluZ3MoKHNhdmVkU3RhdGUuY29uc3RydWN0aW5nQnVpbGRpbmdzIHx8IFtdKS5tYXAoYyA9PiB7XG4gICAgICAgICAgICAgICAgIC8vIE1pZ3JhdGlvbiBmb3Igb2xkIHNhdmUgZm9ybWF0XG4gICAgICAgICAgICAgICAgaWYgKChjIGFzIGFueSkudmlsbGFnZXJJZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5jLCB2aWxsYWdlcklkczogWyhjIGFzIGFueSkudmlsbGFnZXJJZF0sIHZpbGxhZ2VySWQ6IHVuZGVmaW5lZCB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc2V0Q3VycmVudEV2ZW50KG51bGwpO1xuICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoJ1dlbGNvbWUgYmFjayB0byB5b3VyIHNhZ2EuJyk7XG4gICAgICAgICAgICBzZXRHYW1lU3RhdGUoR2FtZVN0YXR1cy5QTEFZSU5HKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihgQ291bGQgbm90IGZpbmQgYSBzYXZlZCBnYW1lIG5hbWVkIFwiJHtzYXZlTmFtZX1cIi5gKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVUYXNrQ29tcGxldGlvbiA9IHVzZUNhbGxiYWNrKCh0YXNrOiBHYW1lVGFzaykgPT4ge1xuICAgICAgICBzd2l0Y2ggKHRhc2sudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnYnVpbGQnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBidWlsZGluZ1R5cGUsIHBvc2l0aW9uLCB2aWxsYWdlcklkcyB9ID0gdGFzay5wYXlsb2FkITtcbiAgICAgICAgICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBCVUlMRElOR1NfSU5GTy5maW5kKGIgPT4gYi5pZCA9PT0gYnVpbGRpbmdUeXBlKSE7XG4gICAgICAgICAgICAgICAgY29uc3QgW25hbWVdID0gZ2V0UmFuZG9tTmFtZXMoJ2J1aWxkaW5nJywgMSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3QnVpbGRpbmc6IEJ1aWxkaW5nSW5zdGFuY2UgPSB7IGlkOiB0YXNrLmlkLCBuYW1lLCBwb3NpdGlvbjogcG9zaXRpb24hIH07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgc2V0Q29uc3RydWN0aW5nQnVpbGRpbmdzKHByZXYgPT4gcHJldi5maWx0ZXIoYiA9PiBiLmlkICE9PSB0YXNrLmlkKSk7XG4gICAgICAgICAgICAgICAgc2V0QnVpbGRpbmdzKHAgPT4gKHsgLi4ucCwgW2J1aWxkaW5nVHlwZSFdOiBbLi4ucFtidWlsZGluZ1R5cGUhXSwgbmV3QnVpbGRpbmddIH0pKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAodmlsbGFnZXJJZHMgJiYgdmlsbGFnZXJJZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBhZGRUb0xvZyhgJHt2aWxsYWdlcklkcy5sZW5ndGh9IGJ1aWxkZXIocykgaGF2ZSBjb25zdHJ1Y3RlZCAke25hbWV9LCBhIG5ldyAke2J1aWxkaW5nSW5mby5uYW1lfS5gLCBidWlsZGluZ1R5cGUhKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYENvbnN0cnVjdGlvbiBvZiAke25hbWV9IGlzIGNvbXBsZXRlLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2dhdGhlcic6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHJlc291cmNlTm9kZUlkIH0gPSB0YXNrLnBheWxvYWQhO1xuXG4gICAgICAgICAgICAgICAgc2V0UmVzb3VyY2VOb2RlcyhwcmV2Tm9kZXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gcHJldk5vZGVzLmZpbmQobiA9PiBuLmlkID09PSByZXNvdXJjZU5vZGVJZCk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgR2F0aGVyIHRhc2sgY29tcGxldGVkIGZvciBhIG5vbi1leGlzdGVudCBvciBhbHJlYWR5IHByb2Nlc3NlZCBub2RlOiAke3Jlc291cmNlTm9kZUlkfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXZOb2RlcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudFRvQWRkID0gTWF0aC5mbG9vcihub2RlLmFtb3VudCk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYW1vdW50VG9BZGQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXMoeyBbbm9kZS50eXBlXTogYW1vdW50VG9BZGQgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb0xvZyhgJHtub2RlLmFzc2lnbmVkVmlsbGFnZXJzLmxlbmd0aH0gdmlsbGFnZXIocykgZGVwbGV0ZWQgYSAke25vZGUudHlwZX0gc291cmNlLCBnYWluaW5nICR7YW1vdW50VG9BZGR9ICR7bm9kZS50eXBlfS5gLCBub2RlLnR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYEEgJHtub2RlLnR5cGV9IHNvdXJjZSBoYXMgYmVlbiBmdWxseSBkZXBsZXRlZC5gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXZOb2Rlcy5maWx0ZXIobiA9PiBuLmlkICE9PSByZXNvdXJjZU5vZGVJZCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICd0cmFpbl92aWxsYWdlcic6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNvdW50IH0gPSB0YXNrLnBheWxvYWQhO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZpbGxhZ2VyTmFtZXMgPSBnZXRSYW5kb21OYW1lcygndmlsbGFnZXInLCBjb3VudCEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZpbGxhZ2VyczogVmlsbGFnZXJbXSA9IG5ld1ZpbGxhZ2VyTmFtZXMubWFwKG5hbWUgPT4gKHsgaWQ6IGAke0RhdGUubm93KCl9LSR7bmFtZX1gLCBuYW1lIH0pKTtcbiAgICAgICAgICAgICAgICBzZXRVbml0cyhwID0+ICh7IC4uLnAsIHZpbGxhZ2VyczogWy4uLnAudmlsbGFnZXJzLCAuLi5uZXdWaWxsYWdlcnNdIH0pKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhgJHtjb3VudH0gbmV3IHZpbGxhZ2VyKHMpIGhhdmUgam9pbmVkIHlvdXIgc2V0dGxlbWVudC5gLCAndmlsbGFnZXInKTtcbiAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgJHtjb3VudH0gbmV3IHZpbGxhZ2VyKHMpIGFyZSByZWFkeSB0byB3b3JrLmApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAndHJhaW5fbWlsaXRhcnknOiB7XG4gICAgICAgICAgICAgICAgIGNvbnN0IHsgdW5pdFR5cGUsIGNvdW50IH0gPSB0YXNrLnBheWxvYWQhO1xuICAgICAgICAgICAgICAgICBjb25zdCB1bml0SW5mbyA9IFVOSVRfSU5GTy5maW5kKHUgPT4gdS5pZCA9PT0gdW5pdFR5cGUpITtcbiAgICAgICAgICAgICAgICAgY29uc3QgbmV3VW5pdE5hbWVzID0gZ2V0UmFuZG9tTmFtZXMoJ3NvbGRpZXInLCBjb3VudCEpO1xuICAgICAgICAgICAgICAgICBjb25zdCBuZXdVbml0czogTWlsaXRhcnlVbml0W10gPSBuZXdVbml0TmFtZXMubWFwKG5hbWUgPT4gKHsgaWQ6IGAke0RhdGUubm93KCl9LSR7dW5pdFR5cGV9LSR7bmFtZX1gLCBuYW1lLCB0aXRsZTogJycsIHVuaXRUeXBlOiB1bml0VHlwZSEgfSkpO1xuICAgICAgICAgICAgICAgICBzZXRVbml0cyhwID0+ICh7IC4uLnAsIG1pbGl0YXJ5OiBbLi4ucC5taWxpdGFyeSwgLi4ubmV3VW5pdHNdIH0pKTtcbiAgICAgICAgICAgICAgICAgYWRkVG9Mb2coYCR7Y291bnR9ICR7dW5pdEluZm8ubmFtZX0ocykgaGF2ZSBiZWVuIHRyYWluZWQuYCwgdW5pdFR5cGUhKTtcbiAgICAgICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYCR7Y291bnR9IG5ldyAke3VuaXRJbmZvLm5hbWV9KHMpIGFyZSByZWFkeSBmb3IgYmF0dGxlLmApO1xuICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2FkdmFuY2VfYWdlJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFnZVJlc3VsdCA9IGdldFByZWRlZmluZWRBZ2UoY3VycmVudEFnZSk7XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudEFnZShhZ2VSZXN1bHQubmV4dEFnZU5hbWUpO1xuICAgICAgICAgICAgICAgIGFkZFRvTG9nKGBZb3UgaGF2ZSBhZHZhbmNlZCB0byB0aGUgJHthZ2VSZXN1bHQubmV4dEFnZU5hbWV9IWAsICdhZ2UnKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhhZ2VSZXN1bHQuZGVzY3JpcHRpb24sICdhZ2UnKTtcbiAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgV2VsY29tZSB0byB0aGUgJHthZ2VSZXN1bHQubmV4dEFnZU5hbWV9IWApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgW2N1cnJlbnRBZ2UsIHVwZGF0ZVJlc291cmNlc10pO1xuXG4gICAgLy8gR2FtZSBMb29wXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgZ2FtZUxvb3AgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgY29uc3QgY29tcGxldGVkVGFza3M6IEdhbWVUYXNrW10gPSBbXTtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKGN1cnJlbnRUYXNrcyA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRUYXNrcy5maWx0ZXIodGFzayA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub3cgPj0gdGFzay5zdGFydFRpbWUgKyB0YXNrLmR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRUYXNrcy5wdXNoKHRhc2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChjb21wbGV0ZWRUYXNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVkVGFza3MuZm9yRWFjaChoYW5kbGVUYXNrQ29tcGxldGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDEwMDApO1xuXG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGdhbWVMb29wKTtcbiAgICB9LCBbaGFuZGxlVGFza0NvbXBsZXRpb25dKTtcblxuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGdhbWVTdGF0ZSA9PT0gR2FtZVN0YXR1cy5QTEFZSU5HICYmICFjdXJyZW50RXZlbnQgJiYgIXBsYXllckFjdGlvbiAmJiBhY3RpdmVUYXNrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiBoYW5kbGVOZXdFdmVudCgpLCAzMDAwMCk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgfVxuICAgIH0sIFtnYW1lU3RhdGUsIGN1cnJlbnRFdmVudCwgaGFuZGxlTmV3RXZlbnQsIHBsYXllckFjdGlvbiwgYWN0aXZlVGFza3NdKTtcblxuICAgIGNvbnN0IGhhbmRsZUV2ZW50Q2hvaWNlID0gKGNob2ljZTogR2FtZUV2ZW50WydjaG9pY2VzJ11bMF0pID0+IHtcbiAgICAgICAgYWRkVG9Mb2coYENob2ljZTogJHtjaG9pY2UudGV4dH0uYCwgJ2V2ZW50Jyk7XG4gICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGNob2ljZS5lZmZlY3RzLmxvZyk7XG4gICAgICAgIGFkZFRvTG9nKGNob2ljZS5lZmZlY3RzLmxvZywgY2hvaWNlLmVmZmVjdHMucmVzb3VyY2UgIT09ICdub25lJyA/IGNob2ljZS5lZmZlY3RzLnJlc291cmNlIGFzIExvZ0ljb25UeXBlIDogJ3N5c3RlbScpO1xuICAgICAgICBpZiAoY2hvaWNlLmVmZmVjdHMucmVzb3VyY2UgIT09ICdub25lJykge1xuICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKHsgW2Nob2ljZS5lZmZlY3RzLnJlc291cmNlXTogY2hvaWNlLmVmZmVjdHMuYW1vdW50IH0pO1xuICAgICAgICB9XG4gICAgICAgIHNldEN1cnJlbnRFdmVudChudWxsKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlSW5pdGlhdGVCdWlsZCA9ICh2aWxsYWdlcklkOiBzdHJpbmcsIHJlY3Q6IERPTVJlY3QpID0+IHtcbiAgICAgICAgaWYgKGlzVmlsbGFnZXJCdXN5KHZpbGxhZ2VySWQpKSB7XG4gICAgICAgICAgICBhZGROb3RpZmljYXRpb24oXCJUaGlzIHZpbGxhZ2VyIGlzIGFscmVhZHkgYnVzeS5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0QnVpbGRQYW5lbFN0YXRlKHsgaXNPcGVuOiB0cnVlLCB2aWxsYWdlcklkLCBhbmNob3JSZWN0OiByZWN0IH0pO1xuICAgICAgICBzZXRVbml0TWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGhhbmRsZVN0YXJ0UGxhY2VtZW50ID0gKGJ1aWxkaW5nSWQ6IEJ1aWxkaW5nVHlwZSkgPT4ge1xuICAgICAgICBjb25zdCB2aWxsYWdlcklkID0gYnVpbGRQYW5lbFN0YXRlLnZpbGxhZ2VySWQ7XG4gICAgICAgIGlmICghdmlsbGFnZXJJZCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IEJVSUxESU5HU19JTkZPLmZpbmQoYiA9PiBiLmlkID09PSBidWlsZGluZ0lkKTtcbiAgICAgICAgaWYgKCFidWlsZGluZ0luZm8pIHJldHVybjtcblxuICAgICAgICBpZiAoYnVpbGRpbmdJbmZvLmlzVW5pcXVlICYmIChidWlsZGluZ3NbYnVpbGRpbmdJbmZvLmlkXS5sZW5ndGggPiAwIHx8IGNvbnN0cnVjdGluZ0J1aWxkaW5ncy5zb21lKGIgPT4gYi50eXBlID09PSBidWlsZGluZ0luZm8uaWQpKSkge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKGBZb3UgY2FuIG9ubHkgYnVpbGQgb25lICR7YnVpbGRpbmdJbmZvLm5hbWV9LmApOyByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGNvc3QgPSBidWlsZGluZ0luZm8uY29zdDtcbiAgICAgICAgaWYgKCF1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pc3Npbmc6IHN0cmluZ1tdID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlcyBpbiBjb3N0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzb3VyY2VLZXkgPSByZXMgYXMga2V5b2YgUmVzb3VyY2VzO1xuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbcmVzb3VyY2VLZXldIDwgKGNvc3RbcmVzb3VyY2VLZXldID8/IDApKSB7XG4gICAgICAgICAgICAgICAgICAgICBtaXNzaW5nLnB1c2goYCR7KGNvc3RbcmVzb3VyY2VLZXldID8/IDApIC0gcmVzb3VyY2VzW3Jlc291cmNlS2V5XX0gJHtyZXNvdXJjZUtleX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAgaWYgKG1pc3NpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihgTmVlZCAke21pc3Npbmcuam9pbignIGFuZCAnKX0uYCk7IHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXRQbGF5ZXJBY3Rpb24oeyBtb2RlOiAnYnVpbGQnLCBidWlsZGluZ1R5cGU6IGJ1aWxkaW5nSWQsIHZpbGxhZ2VySWQgfSk7XG4gICAgICAgIHNldEJ1aWxkUGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIHZpbGxhZ2VySWQ6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBTZWxlY3QgYSBsb2NhdGlvbiB0byBidWlsZCBhICR7YnVpbGRpbmdJbmZvLm5hbWV9LiBSaWdodC1jbGljayB0byBjYW5jZWwuYCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUNvbmZpcm1QbGFjZW1lbnQgPSAocG9zaXRpb246IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSkgPT4ge1xuICAgICAgICBpZiAocGxheWVyQWN0aW9uPy5tb2RlICE9PSAnYnVpbGQnKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgYnVpbGRpbmdUeXBlLCB2aWxsYWdlcklkIH0gPSBwbGF5ZXJBY3Rpb247XG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IEJVSUxESU5HU19JTkZPLmZpbmQoYiA9PiBiLmlkID09PSBidWlsZGluZ1R5cGUpO1xuICAgICAgICBjb25zdCBidWlsZGVyID0gdW5pdHMudmlsbGFnZXJzLmZpbmQodiA9PiB2LmlkID09PSB2aWxsYWdlcklkKTtcbiAgICAgICAgaWYgKCFidWlsZGluZ0luZm8gfHwgIWJ1aWxkZXIpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIGlmICghdW5saW1pdGVkUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICBjb25zdCBjb3N0ID0gYnVpbGRpbmdJbmZvLmNvc3Q7XG4gICAgICAgICAgICBjb25zdCBuZWdhdGl2ZUNvc3Q6IFJlc291cmNlRGVsdGFzID0ge307XG4gICAgICAgICAgICBmb3IoY29uc3QgcmVzb3VyY2UgaW4gY29zdCkge1xuICAgICAgICAgICAgICAgIG5lZ2F0aXZlQ29zdFtyZXNvdXJjZSBhcyBrZXlvZiBSZXNvdXJjZXNdID0gLShjb3N0W3Jlc291cmNlIGFzIGtleW9mIFJlc291cmNlc10gfHwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXMobmVnYXRpdmVDb3N0KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgYnVpbGRUaW1lID0gYnVpbGRpbmdJbmZvLmJ1aWxkVGltZSAqIDEwMDA7XG4gICAgICAgIGNvbnN0IHRhc2tQYXlsb2FkID0geyBidWlsZGluZ1R5cGUsIHZpbGxhZ2VySWRzOiBbdmlsbGFnZXJJZF0sIHBvc2l0aW9uIH07XG5cbiAgICAgICAgaWYgKHVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgaGFuZGxlVGFza0NvbXBsZXRpb24oeyBpZDogYCR7RGF0ZS5ub3coKX0taW5zdGFudC1idWlsZGAsIHR5cGU6ICdidWlsZCcsIHN0YXJ0VGltZTogMCwgZHVyYXRpb246IDAsIHBheWxvYWQ6IHRhc2tQYXlsb2FkIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdGFza0lkID0gYCR7RGF0ZS5ub3coKX0tYnVpbGQtJHtidWlsZGluZ1R5cGV9YDtcbiAgICAgICAgICAgIGNvbnN0IG5ld0NvbnN0cnVjdGlvbjogQ29uc3RydWN0aW5nQnVpbGRpbmcgPSB7IGlkOiB0YXNrSWQsIHR5cGU6IGJ1aWxkaW5nVHlwZSwgcG9zaXRpb24sIHZpbGxhZ2VySWRzOiBbdmlsbGFnZXJJZF0gfTtcbiAgICAgICAgICAgIHNldENvbnN0cnVjdGluZ0J1aWxkaW5ncyhwcmV2ID0+IFsuLi5wcmV2LCBuZXdDb25zdHJ1Y3Rpb25dKTtcblxuICAgICAgICAgICAgY29uc3QgbmV3VGFzazogR2FtZVRhc2sgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHRhc2tJZCwgdHlwZTogJ2J1aWxkJywgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBkdXJhdGlvbjogYnVpbGRUaW1lLCBwYXlsb2FkOiB0YXNrUGF5bG9hZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gWy4uLnByZXYsIG5ld1Rhc2tdKTtcbiAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGAke2J1aWxkZXIubmFtZX0gaGFzIHN0YXJ0ZWQgY29uc3RydWN0aW5nIGEgJHtidWlsZGluZ0luZm8ubmFtZX0uYCk7XG4gICAgICAgICAgICBhZGRUb0xvZyhgJHtidWlsZGVyLm5hbWV9IGJlZ2FuIGNvbnN0cnVjdGlvbiBvZiBhIG5ldyAke2J1aWxkaW5nSW5mby5uYW1lfS5gLCBidWlsZGluZ1R5cGUpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzZXRQbGF5ZXJBY3Rpb24obnVsbCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUNhbmNlbFBsYXllckFjdGlvbiA9ICgpID0+IHtcbiAgICAgICAgc2V0UGxheWVyQWN0aW9uKG51bGwpO1xuICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cygnQ29tbWFuZCBjYW5jZWxsZWQuJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZURlbW9saXNoQnVpbGRpbmcgPSAodHlwZTogQnVpbGRpbmdUeXBlLCBpZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmKGFjdGl2ZVRhc2tzLnNvbWUodCA9PiB0LnBheWxvYWQ/LmJ1aWxkaW5nSWQgPT09IGlkKSkge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiQ2Fubm90IGRlbW9saXNoIGEgYnVpbGRpbmcgd2l0aCBhbiBhY3RpdmUgdGFzay5cIik7IHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBCVUlMRElOR1NfSU5GTy5maW5kKGIgPT4gYi5pZCA9PT0gdHlwZSk7XG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5zdGFuY2UgPSBidWlsZGluZ3NbdHlwZV0uZmluZChiID0+IGIuaWQgPT09IGlkKTtcbiAgICAgICAgaWYgKCFidWlsZGluZ0luZm8gfHwgIWJ1aWxkaW5nSW5zdGFuY2UpIHJldHVybjtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdob3VzZXMnICYmIHBvcHVsYXRpb24uY3VycmVudCA+IChidWlsZGluZ3MudG93bkNlbnRlcj8ubGVuZ3RoID4gMCA/IDIwIDogMCkgKyAoYnVpbGRpbmdzLmhvdXNlcy5sZW5ndGggLSAxKSAqIDUpIHtcbiAgICAgICAgICAgICBhZGROb3RpZmljYXRpb24oXCJDYW5ub3QgZGVtb2xpc2ggdGhpcyBob3VzZSwgeW91ciBwZW9wbGUgd291bGQgYmUgaG9tZWxlc3MuXCIpOyByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVmdW5kOiBSZXNvdXJjZURlbHRhcyA9IHt9O1xuICAgICAgICBsZXQgcmVmdW5kTWVzc2FnZVBhcnRzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHJlcyBpbiBidWlsZGluZ0luZm8uY29zdCkge1xuICAgICAgICAgICAgY29uc3QgcmVzb3VyY2VLZXkgPSByZXMgYXMga2V5b2YgUmVzb3VyY2VzO1xuICAgICAgICAgICAgY29uc3QgY29zdCA9IGJ1aWxkaW5nSW5mby5jb3N0W3Jlc291cmNlS2V5XSB8fCAwO1xuICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gTWF0aC5mbG9vcihjb3N0ICogMC41KTtcbiAgICAgICAgICAgIGlmIChhbW91bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgcmVmdW5kW3Jlc291cmNlS2V5XSA9IGFtb3VudDtcbiAgICAgICAgICAgICAgICByZWZ1bmRNZXNzYWdlUGFydHMucHVzaChgJHthbW91bnR9ICR7cmVzb3VyY2VLZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlUmVzb3VyY2VzKHJlZnVuZCk7XG4gICAgICAgIHNldEJ1aWxkaW5ncyhwcmV2ID0+ICh7IC4uLnByZXYsIFt0eXBlXTogcHJldlt0eXBlXS5maWx0ZXIoYiA9PiBiLmlkICE9PSBpZCkgfSkpO1xuICAgICAgICBhZGRUb0xvZyhgJHtidWlsZGluZ0luc3RhbmNlLm5hbWV9ICgke2J1aWxkaW5nSW5mby5uYW1lfSkgd2FzIGRlbW9saXNoZWQuYCwgdHlwZSk7XG4gICAgICAgIGlmIChyZWZ1bmRNZXNzYWdlUGFydHMubGVuZ3RoID4gMCkgeyBhZGROb3RpZmljYXRpb24oYFNhbHZhZ2VkICR7cmVmdW5kTWVzc2FnZVBhcnRzLmpvaW4oJywgJyl9LmApOyB9XG4gICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHtpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVVcGRhdGVCdWlsZGluZyA9ICh0eXBlOiBCdWlsZGluZ1R5cGUsIGlkOiBzdHJpbmcsIG5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICBzZXRCdWlsZGluZ3MocHJldiA9PiAoeyAuLi5wcmV2LCBbdHlwZV06IHByZXZbdHlwZV0ubWFwKGIgPT4gYi5pZCA9PT0gaWQgPyB7IC4uLmIsIG5hbWUgfSA6IGIpIH0pKTtcbiAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiQnVpbGRpbmcgcmVuYW1lZC5cIik7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVRyYWluVmlsbGFnZXJzID0gKGNvdW50OiBudW1iZXIpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZVRhc2tzLnNvbWUodCA9PiB0LnR5cGUgPT09ICd0cmFpbl92aWxsYWdlcicpIHx8IGNvdW50IDw9IDApIHJldHVybjtcbiAgICAgICAgY29uc3QgdmlsbGFnZXJDb3N0ID0gNTA7XG4gICAgICAgIGNvbnN0IHRvdGFsQ29zdCA9IHZpbGxhZ2VyQ29zdCAqIGNvdW50O1xuICAgICAgICBpZiAocG9wdWxhdGlvbi5jdXJyZW50ICsgY291bnQgPiBwb3B1bGF0aW9uLmNhcGFjaXR5KSB7IGFkZE5vdGlmaWNhdGlvbihgTmVlZCBzcGFjZSBmb3IgJHtjb3VudH0gbW9yZSB2aWxsYWdlcnMuYCk7IHJldHVybjsgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgdG93bkNlbnRlciA9IGJ1aWxkaW5ncy50b3duQ2VudGVyPy5bMF07XG4gICAgICAgIGlmICghdG93bkNlbnRlcikgeyBhZGROb3RpZmljYXRpb24oYE5vIFRvd24gQ2VudGVyIHRvIHRyYWluIHZpbGxhZ2Vycy5gKTsgcmV0dXJuOyB9XG5cbiAgICAgICAgaWYgKCF1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZXMuZm9vZCA8IHRvdGFsQ29zdCkgeyBhZGROb3RpZmljYXRpb24oYE5lZWQgJHt0b3RhbENvc3QgLSByZXNvdXJjZXMuZm9vZH0gbW9yZSBGb29kLmApOyByZXR1cm47IH1cbiAgICAgICAgICAgIHVwZGF0ZVJlc291cmNlcyh7IGZvb2Q6IC10b3RhbENvc3QgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHJhaW5UaW1lID0gMTAwMDAgKiBjb3VudDsgLy8gMTBzIHBlciB2aWxsYWdlclxuICAgICAgICBpZih1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGhhbmRsZVRhc2tDb21wbGV0aW9uKHsgaWQ6ICdpbnN0YW50JywgdHlwZTogJ3RyYWluX3ZpbGxhZ2VyJywgc3RhcnRUaW1lOiAwLCBkdXJhdGlvbjogMCwgcGF5bG9hZDogeyBjb3VudCB9IH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdGFza0lkID0gYCR7RGF0ZS5ub3coKX0tdHJhaW4tdmlsbGFnZXJgO1xuICAgICAgICAgICAgY29uc3QgbmV3VGFzazogR2FtZVRhc2sgPSB7IGlkOiB0YXNrSWQsIHR5cGU6ICd0cmFpbl92aWxsYWdlcicsIHN0YXJ0VGltZTogRGF0ZS5ub3coKSwgZHVyYXRpb246IHRyYWluVGltZSwgcGF5bG9hZDogeyBjb3VudCwgYnVpbGRpbmdJZDogdG93bkNlbnRlci5pZCB9IH07XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IFsuLi5wcmV2LCBuZXdUYXNrXSk7XG4gICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgVHJhaW5pbmcgJHtjb3VudH0gdmlsbGFnZXIocykuLi5gKTtcbiAgICAgICAgICAgIGFkZFRvTG9nKGBCZWdhbiB0cmFpbmluZyAke2NvdW50fSBuZXcgdmlsbGFnZXIocykuYCwgJ3ZpbGxhZ2VyJyk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgaGFuZGxlVHJhaW5Vbml0cyA9ICh1bml0VHlwZTogTWlsaXRhcnlVbml0VHlwZSwgY291bnQ6IG51bWJlcikgPT4ge1xuICAgICAgICBjb25zdCB1bml0SW5mbyA9IFVOSVRfSU5GTy5maW5kKHUgPT4gdS5pZCA9PT0gdW5pdFR5cGUpO1xuICAgICAgICBpZiAoIXVuaXRJbmZvIHx8IGFjdGl2ZVRhc2tzLnNvbWUodCA9PiB0LnBheWxvYWQ/LnVuaXRUeXBlID09PSB1bml0VHlwZSkgfHwgY291bnQgPD0gMCkgcmV0dXJuO1xuICAgICAgICBpZiAocG9wdWxhdGlvbi5jdXJyZW50ICsgY291bnQgPiBwb3B1bGF0aW9uLmNhcGFjaXR5KSB7IGFkZE5vdGlmaWNhdGlvbihgTmVlZCBzcGFjZSBmb3IgJHtjb3VudH0gbW9yZSB1bml0cy5gKTsgcmV0dXJuOyB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0cmFpbmluZ0J1aWxkaW5nID0gYnVpbGRpbmdzW3VuaXRJbmZvLnJlcXVpcmVkQnVpbGRpbmddPy5bMF07XG4gICAgICAgIGlmICghdHJhaW5pbmdCdWlsZGluZykgeyBhZGROb3RpZmljYXRpb24oYE5vICR7dW5pdEluZm8ucmVxdWlyZWRCdWlsZGluZ30gdG8gdHJhaW4gdW5pdHMuYCk7IHJldHVybjsgfVxuXG4gICAgICAgIGlmICghdW5saW1pdGVkUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICBjb25zdCB0b3RhbENvc3Q6IFJlc291cmNlRGVsdGFzID0ge307IGNvbnN0IG1pc3Npbmc6IHN0cmluZ1tdID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlcyBpbiB1bml0SW5mby5jb3N0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzb3VyY2VLZXkgPSByZXMgYXMga2V5b2YgUmVzb3VyY2VzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvc3QgPSAodW5pdEluZm8uY29zdFtyZXNvdXJjZUtleV0gfHwgMCkgKiBjb3VudDtcbiAgICAgICAgICAgICAgICB0b3RhbENvc3RbcmVzb3VyY2VLZXldID0gLWNvc3Q7XG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlc1tyZXNvdXJjZUtleV0gPCBjb3N0KSBtaXNzaW5nLnB1c2goYCR7Y29zdCAtIHJlc291cmNlc1tyZXNvdXJjZUtleV19ICR7cmVzb3VyY2VLZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWlzc2luZy5sZW5ndGggPiAwKSB7IGFkZE5vdGlmaWNhdGlvbihgTmVlZCAke21pc3Npbmcuam9pbignIGFuZCAnKX0uYCk7IHJldHVybjsgfVxuICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKHRvdGFsQ29zdCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHJhaW5UaW1lID0gdW5pdEluZm8udHJhaW5UaW1lICogMTAwMCAqIGNvdW50O1xuICAgICAgICBpZih1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGhhbmRsZVRhc2tDb21wbGV0aW9uKHsgaWQ6ICdpbnN0YW50JywgdHlwZTogJ3RyYWluX21pbGl0YXJ5Jywgc3RhcnRUaW1lOiAwLCBkdXJhdGlvbjogMCwgcGF5bG9hZDogeyB1bml0VHlwZSwgY291bnQgfSB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tJZCA9IGAke0RhdGUubm93KCl9LXRyYWluLSR7dW5pdFR5cGV9YDtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Rhc2s6IEdhbWVUYXNrID0geyBpZDogdGFza0lkLCB0eXBlOiAndHJhaW5fbWlsaXRhcnknLCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiB0cmFpblRpbWUsIHBheWxvYWQ6IHsgdW5pdFR5cGUsIGNvdW50LCBidWlsZGluZ0lkOiB0cmFpbmluZ0J1aWxkaW5nLmlkIH0gfTtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gWy4uLnByZXYsIG5ld1Rhc2tdKTtcbiAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBUcmFpbmluZyAke2NvdW50fSAke3VuaXRJbmZvLm5hbWV9KHMpLi4uYCk7XG4gICAgICAgICAgICBhZGRUb0xvZyhgQmVnYW4gdHJhaW5pbmcgJHtjb3VudH0gbmV3ICR7dW5pdEluZm8ubmFtZX0ocykuYCwgdW5pdFR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlRGlzbWlzc1NwZWNpZmljVW5pdCA9ICh0eXBlOiAndmlsbGFnZXJzJyB8ICdtaWxpdGFyeScsIGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgaWYgKHR5cGUgPT09ICd2aWxsYWdlcnMnICYmIGlzVmlsbGFnZXJCdXN5KGlkKSkge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiQ2Fubm90IGRpc21pc3MgYSBidXN5IHZpbGxhZ2VyLlwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1bml0ID0gdW5pdHNbdHlwZV0uZmluZCh1ID0+IHUuaWQgPT09IGlkKTtcbiAgICAgICAgaWYgKCF1bml0KSByZXR1cm47XG4gICAgICAgIGlmICh0eXBlID09PSAndmlsbGFnZXJzJyAmJiB1bml0cy52aWxsYWdlcnMubGVuZ3RoIDw9IDEpIHsgYWRkTm90aWZpY2F0aW9uKFwiQ2Fubm90IGRpc21pc3MgeW91ciBsYXN0IHZpbGxhZ2VyLlwiKTsgcmV0dXJuOyB9XG4gICAgICAgIHNldFVuaXRzKHByZXYgPT4gKHsgLi4ucHJldiwgW3R5cGVdOiBwcmV2W3R5cGVdLmZpbHRlcih1ID0+IHUuaWQgIT09IGlkKSB9KSk7XG4gICAgICAgIGNvbnN0IHVuaXRUeXBlTmFtZSA9IHR5cGUgPT09ICd2aWxsYWdlcnMnID8gJ3ZpbGxhZ2VyJyA6ICh1bml0IGFzIE1pbGl0YXJ5VW5pdCkudW5pdFR5cGU7XG4gICAgICAgIGFkZFRvTG9nKGAke3VuaXQubmFtZX0gdGhlICR7dW5pdFR5cGVOYW1lfSBoYXMgYmVlbiBkaXNtaXNzZWQuYCwgdHlwZSA9PT0gJ3ZpbGxhZ2VycycgPyAndmlsbGFnZXInIDogKHVuaXQgYXMgTWlsaXRhcnlVbml0KS51bml0VHlwZSk7XG4gICAgICAgIGFkZE5vdGlmaWNhdGlvbihgJHt1bml0Lm5hbWV9IHdhcyBkaXNtaXNzZWQuYCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVVwZGF0ZVVuaXQgPSAodHlwZTogJ3ZpbGxhZ2VycycgfCAnbWlsaXRhcnknLCBpZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIHRpdGxlPzogc3RyaW5nKSA9PiB7XG4gICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7IC4uLnByZXYsIFt0eXBlXTogcHJldlt0eXBlXS5tYXAodSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHUuaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRVbml0ID0geyAuLi51LCBuYW1lIH07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnbWlsaXRhcnknICYmIHRpdGxlICE9PSB1bmRlZmluZWQpIHsgKHVwZGF0ZWRVbml0IGFzIE1pbGl0YXJ5VW5pdCkudGl0bGUgPSB0aXRsZTsgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZFVuaXQ7XG4gICAgICAgICAgICAgICAgfSByZXR1cm4gdTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pKTtcbiAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiVW5pdCB1cGRhdGVkLlwiKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQXNzaWduVmlsbGFnZXJzVG9Ob2RlID0gKG5vZGVJZDogc3RyaW5nLCBjb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkbGVWaWxsYWdlcnMgPSB1bml0cy52aWxsYWdlcnMuZmlsdGVyKHYgPT4gIWlzVmlsbGFnZXJCdXN5KHYuaWQpKTtcbiAgICAgICAgaWYgKGNvdW50IDw9IDApIHJldHVybjtcbiAgICAgICAgbGV0IGNhcHBlZENvdW50ID0gTWF0aC5taW4oY291bnQsIGlkbGVWaWxsYWdlcnMubGVuZ3RoKTtcbiAgICAgICAgaWYgKGNhcHBlZENvdW50ID09PSAwKSB7IGFkZE5vdGlmaWNhdGlvbihcIk5vIGlkbGUgdmlsbGFnZXJzIGF2YWlsYWJsZS5cIik7IHJldHVybjsgfVxuICAgIFxuICAgICAgICBjb25zdCB2aWxsYWdlcnNUb0Fzc2lnbiA9IGlkbGVWaWxsYWdlcnMuc2xpY2UoMCwgY2FwcGVkQ291bnQpO1xuICAgICAgICBjb25zdCB2aWxsYWdlcklkc1RvQXNzaWduID0gdmlsbGFnZXJzVG9Bc3NpZ24ubWFwKHYgPT4gdi5pZCk7XG4gICAgXG4gICAgICAgIGNvbnN0IHRhcmdldE5vZGUgPSByZXNvdXJjZU5vZGVzLmZpbmQobiA9PiBuLmlkID09PSBub2RlSWQpO1xuICAgICAgICBpZiAoIXRhcmdldE5vZGUpIHJldHVybjtcbiAgICBcbiAgICAgICAgc2V0UmVzb3VyY2VOb2RlcyhwcmV2Tm9kZXMgPT4gXG4gICAgICAgICAgICBwcmV2Tm9kZXMubWFwKG4gPT4gbi5pZCA9PT0gbm9kZUlkID8gey4uLm4sIGFzc2lnbmVkVmlsbGFnZXJzOiBbLi4ubmV3IFNldChbLi4ubi5hc3NpZ25lZFZpbGxhZ2VycywgLi4udmlsbGFnZXJJZHNUb0Fzc2lnbl0pXX0gOiBuKVxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZXhpc3RpbmdUYXNrID0gYWN0aXZlVGFza3MuZmluZCh0ID0+IHQudHlwZSA9PT0gJ2dhdGhlcicgJiYgdC5wYXlsb2FkPy5yZXNvdXJjZU5vZGVJZCA9PT0gbm9kZUlkKTtcbiAgICAgICAgY29uc3QgZ2F0aGVyUmF0ZVBlclZpbGxhZ2VyID0gR0FUSEVSX0lORk9bdGFyZ2V0Tm9kZS50eXBlXS5yYXRlO1xuXG4gICAgICAgIGlmICh1bmxpbWl0ZWRSZXNvdXJjZXMpIHsgLy8gSW5zdGFudCBnYXRoZXIgZm9yIHRlc3QgbW9kZVxuICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKHsgW3RhcmdldE5vZGUudHlwZV06IHRhcmdldE5vZGUuYW1vdW50IH0pO1xuICAgICAgICAgICAgYWRkVG9Mb2coYCR7Y2FwcGVkQ291bnR9IHZpbGxhZ2VyKHMpIGluc3RhbnRseSBnYXRoZXJlZCAke01hdGguZmxvb3IodGFyZ2V0Tm9kZS5hbW91bnQpfSAke3RhcmdldE5vZGUudHlwZX0uYCwgdGFyZ2V0Tm9kZS50eXBlKTtcbiAgICAgICAgICAgIHNldFJlc291cmNlTm9kZXMocHJldiA9PiBwcmV2LmZpbHRlcihuID0+IG4uaWQgIT09IG5vZGVJZCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgIGNvbnN0IGFtb3VudFBlclNlY29uZCA9IGdhdGhlclJhdGVQZXJWaWxsYWdlciAvIDEwO1xuICAgICAgICAgICAgIGNvbnN0IGdhdGhlckludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBub2RlSXNEZXBsZXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHNldFJlc291cmNlTm9kZXMocHJldiA9PiBwcmV2Lm1hcChuID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG4uaWQgPT09IG5vZGVJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3QW1vdW50ID0gbi5hbW91bnQgLSBhbW91bnRQZXJTZWNvbmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3QW1vdW50IDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlSXNEZXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKHsgW24udHlwZV06IG4uYW1vdW50IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvTG9nKGAke24uYXNzaWduZWRWaWxsYWdlcnMubGVuZ3RofSB2aWxsYWdlcihzKSBkZXBsZXRlZCBhICR7bi50eXBlfSBzb3VyY2UuYCwgbi50eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVJlc291cmNlcyh7IFtuLnR5cGVdOiBhbW91bnRQZXJTZWNvbmQgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5uLCBhbW91bnQ6IG5ld0Ftb3VudCB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICAgICAgICAgIH0pLmZpbHRlcihCb29sZWFuKSBhcyBSZXNvdXJjZU5vZGVbXSk7XG5cbiAgICAgICAgICAgICAgICBpZiAobm9kZUlzRGVwbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZ2F0aGVySW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBwcmV2LmZpbHRlcih0ID0+IHQuaWQgIT09IGBnYXRoZXItJHtub2RlSWR9YCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBuZXdUYXNrOiBHYW1lVGFzayA9IHsgaWQ6IGBnYXRoZXItJHtub2RlSWR9YCwgdHlwZTogJ2dhdGhlcicsIHN0YXJ0VGltZTogRGF0ZS5ub3coKSwgZHVyYXRpb246IDk5OTk5OTk5LCBwYXlsb2FkOiB7IHJlc291cmNlTm9kZUlkOiBub2RlSWQsIHZpbGxhZ2VySWRzOiB2aWxsYWdlcnNUb0Fzc2lnbi5tYXAodj0+di5pZCkgfX07XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IFsuLi5wcmV2LmZpbHRlcih0PT4gdC5pZCAhPT0gYGdhdGhlci0ke25vZGVJZH1gKSwgbmV3VGFza10pO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIGFkZFRvTG9nKGAke2NhcHBlZENvdW50fSB2aWxsYWdlcihzKSBhc3NpZ25lZCB0byBnYXRoZXIgJHt0YXJnZXROb2RlLnR5cGV9LmAsIHRhcmdldE5vZGUudHlwZSk7XG4gICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGAke2NhcHBlZENvdW50fSB2aWxsYWdlcihzKSBhcmUgbm93IGdhdGhlcmluZyAke3RhcmdldE5vZGUudHlwZX0uYCk7XG4gICAgICAgIHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdGFyZ2V0SWQ6IG51bGwsIHRhcmdldFR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUFzc2lnblZpbGxhZ2Vyc1RvQ29uc3RydWN0aW9uID0gKGNvbnN0cnVjdGlvbklkOiBzdHJpbmcsIGNvdW50OiBudW1iZXIpID0+IHtcbiAgICAgICAgY29uc3QgaWRsZVZpbGxhZ2VycyA9IHVuaXRzLnZpbGxhZ2Vycy5maWx0ZXIodiA9PiAhaXNWaWxsYWdlckJ1c3kodi5pZCkpO1xuICAgICAgICBpZiAoY291bnQgPD0gMCkgcmV0dXJuO1xuICAgICAgICBsZXQgY2FwcGVkQ291bnQgPSBNYXRoLm1pbihjb3VudCwgaWRsZVZpbGxhZ2Vycy5sZW5ndGgpO1xuICAgICAgICBpZiAoY2FwcGVkQ291bnQgPT09IDApIHsgYWRkTm90aWZpY2F0aW9uKFwiTm8gaWRsZSB2aWxsYWdlcnMgYXZhaWxhYmxlIHRvIGFzc2lzdC5cIik7IHJldHVybjsgfVxuXG4gICAgICAgIGNvbnN0IHZpbGxhZ2Vyc1RvQXNzaWduID0gaWRsZVZpbGxhZ2Vycy5zbGljZSgwLCBjYXBwZWRDb3VudCkubWFwKHYgPT4gdi5pZCk7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBhY3RpdmVUYXNrcy5maW5kKHQgPT4gdC5pZCA9PT0gY29uc3RydWN0aW9uSWQpO1xuICAgICAgICBjb25zdCBjb25zdHJ1Y3Rpb24gPSBjb25zdHJ1Y3RpbmdCdWlsZGluZ3MuZmluZChjID0+IGMuaWQgPT09IGNvbnN0cnVjdGlvbklkKTtcblxuICAgICAgICBpZiAoIXRhc2sgfHwgIWNvbnN0cnVjdGlvbikgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IEJVSUxESU5HU19JTkZPLmZpbmQoYiA9PiBiLmlkID09PSBjb25zdHJ1Y3Rpb24udHlwZSk7XG4gICAgICAgIGlmICghYnVpbGRpbmdJbmZvKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgYmFzZUR1cmF0aW9uID0gYnVpbGRpbmdJbmZvLmJ1aWxkVGltZSAqIDEwMDA7XG4gICAgICAgIGNvbnN0IG9sZFdvcmtlckNvdW50ID0gdGFzay5wYXlsb2FkPy52aWxsYWdlcklkcz8ubGVuZ3RoIHx8IDE7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0aW1lRWxhcHNlZCA9IERhdGUubm93KCkgLSB0YXNrLnN0YXJ0VGltZTtcbiAgICAgICAgY29uc3Qgd29ya0RvbmUgPSB0aW1lRWxhcHNlZCAqIG9sZFdvcmtlckNvdW50O1xuICAgICAgICBjb25zdCB0b3RhbFdvcmsgPSBiYXNlRHVyYXRpb247XG4gICAgICAgIGNvbnN0IHdvcmtSZW1haW5pbmcgPSBNYXRoLm1heCgwLCB0b3RhbFdvcmsgLSB3b3JrRG9uZSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBuZXdXb3JrZXJDb3VudCA9IG9sZFdvcmtlckNvdW50ICsgY2FwcGVkQ291bnQ7XG4gICAgICAgIGNvbnN0IG5ld1JlbWFpbmluZ0R1cmF0aW9uID0gd29ya1JlbWFpbmluZyAvIG5ld1dvcmtlckNvdW50O1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdXBkYXRlZFZpbGxhZ2VySWRzID0gWy4uLnRhc2sucGF5bG9hZCEudmlsbGFnZXJJZHMhLCAuLi52aWxsYWdlcnNUb0Fzc2lnbl07XG5cbiAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBwcmV2Lm1hcCh0ID0+IHQuaWQgPT09IGNvbnN0cnVjdGlvbklkID8ge1xuICAgICAgICAgICAgLi4udCxcbiAgICAgICAgICAgIHN0YXJ0VGltZTogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBuZXdSZW1haW5pbmdEdXJhdGlvbixcbiAgICAgICAgICAgIHBheWxvYWQ6IHsgLi4udC5wYXlsb2FkLCB2aWxsYWdlcklkczogdXBkYXRlZFZpbGxhZ2VySWRzIH1cbiAgICAgICAgfSA6IHQpKTtcblxuICAgICAgICBzZXRDb25zdHJ1Y3RpbmdCdWlsZGluZ3MocHJldiA9PiBwcmV2Lm1hcChjID0+IGMuaWQgPT09IGNvbnN0cnVjdGlvbklkID8ge1xuICAgICAgICAgICAgLi4uYyxcbiAgICAgICAgICAgIHZpbGxhZ2VySWRzOiB1cGRhdGVkVmlsbGFnZXJJZHNcbiAgICAgICAgfSA6IGMpKTtcblxuICAgICAgICBhZGRUb0xvZyhgJHtjYXBwZWRDb3VudH0gdmlsbGFnZXIocykgYXJlIG5vdyBhc3Npc3Rpbmcgd2l0aCB0aGUgJHtidWlsZGluZ0luZm8ubmFtZX0uYCwgYnVpbGRpbmdJbmZvLmlkKTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYENvbnN0cnVjdGlvbiBvZiB0aGUgJHtidWlsZGluZ0luZm8ubmFtZX0gaXMgbm93IGZhc3Rlci5gKTtcbiAgICAgICAgc2V0QXNzaWdubWVudFBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQXNzaWduVmlsbGFnZXJzID0gKHRhcmdldElkOiBzdHJpbmcsIGNvdW50OiBudW1iZXIpID0+IHtcbiAgICAgICAgaWYgKGFzc2lnbm1lbnRQYW5lbFN0YXRlLnRhcmdldFR5cGUgPT09ICdyZXNvdXJjZScpIHtcbiAgICAgICAgICAgIGhhbmRsZUFzc2lnblZpbGxhZ2Vyc1RvTm9kZSh0YXJnZXRJZCwgY291bnQpO1xuICAgICAgICB9IGVsc2UgaWYgKGFzc2lnbm1lbnRQYW5lbFN0YXRlLnRhcmdldFR5cGUgPT09ICdjb25zdHJ1Y3Rpb24nKSB7XG4gICAgICAgICAgICBoYW5kbGVBc3NpZ25WaWxsYWdlcnNUb0NvbnN0cnVjdGlvbih0YXJnZXRJZCwgY291bnQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUFkdmFuY2VBZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmIChhY3RpdmVUYXNrcy5zb21lKHQgPT4gdC50eXBlID09PSAnYWR2YW5jZV9hZ2UnKSkgeyBhZGROb3RpZmljYXRpb24oXCJBZHZhbmNlbWVudCBhbHJlYWR5IGluIHByb2dyZXNzLlwiKTsgcmV0dXJuOyB9XG4gICAgICAgIGlmICghdW5saW1pdGVkUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICBpZiAocmVzb3VyY2VzLmZvb2QgPCA1MDAgfHwgcmVzb3VyY2VzLmdvbGQgPCAyMDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtaXNzaW5nOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZXMuZm9vZCA8IDUwMCkgbWlzc2luZy5wdXNoKGAkezUwMCAtIHJlc291cmNlcy5mb29kfSBGb29kYCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlcy5nb2xkIDwgMjAwKSBtaXNzaW5nLnB1c2goYCR7MjAwIC0gcmVzb3VyY2VzLmdvbGR9IEdvbGRgKTtcbiAgICAgICAgICAgICAgICBhZGROb3RpZmljYXRpb24oYFRvIGFkdmFuY2UsIHlvdSBuZWVkICR7bWlzc2luZy5qb2luKCcgYW5kICcpfS5gKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXMoeyBmb29kOiAtNTAwLCBnb2xkOiAtMjAwIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gNjAwMDA7XG4gICAgICAgIGlmKHVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgaGFuZGxlVGFza0NvbXBsZXRpb24oeyBpZDogJ2luc3RhbnQnLCB0eXBlOiAnYWR2YW5jZV9hZ2UnLCBzdGFydFRpbWU6IDAsIGR1cmF0aW9uOiAwIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdGFza0lkID0gYCR7RGF0ZS5ub3coKX0tYWR2YW5jZV9hZ2VgO1xuICAgICAgICAgICAgY29uc3QgbmV3VGFzazogR2FtZVRhc2sgPSB7IGlkOiB0YXNrSWQsIHR5cGU6ICdhZHZhbmNlX2FnZScsIHN0YXJ0VGltZTogRGF0ZS5ub3coKSwgZHVyYXRpb24gfTtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gWy4uLnByZXYsIG5ld1Rhc2tdKTtcbiAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBZb3VyIHBlb3BsZSBiZWdpbiB0aGUgbG9uZyBqb3VybmV5IHRvIGEgbmV3IGFnZS5gKTtcbiAgICAgICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgY29uc3QgaGFuZGxlRXhpdEdhbWUgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHNldEN1cnJlbnRTYXZlTmFtZShudWxsKTtcbiAgICAgICAgYXdhaXQgZmV0Y2hTYXZlcygpO1xuICAgICAgICBzZXRHYW1lU3RhdGUoR2FtZVN0YXR1cy5NRU5VKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlVG9nZ2xlVW5saW1pdGVkUmVzb3VyY2VzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdNb2RlID0gIXVubGltaXRlZFJlc291cmNlcztcbiAgICAgICAgc2V0VW5saW1pdGVkUmVzb3VyY2VzKG5ld01vZGUpO1xuICAgICAgICBpZiAobmV3TW9kZSkge1xuICAgICAgICAgICAgc2V0UmVzb3VyY2VzKHsgZm9vZDogOTk5OTksIHdvb2Q6IDk5OTk5LCBnb2xkOiA5OTk5OSwgc3RvbmU6IDk5OTk5IH0pO1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiVGVzdCBNb2RlOiBPTlwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihcIlRlc3QgTW9kZTogT0ZGXCIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGJ1aWxkaW5nQ291bnRzID0gT2JqZWN0LmtleXMoYnVpbGRpbmdzKS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nVHlwZSA9IGtleSBhcyBCdWlsZGluZ1R5cGU7XG4gICAgICAgIGFjY1tidWlsZGluZ1R5cGVdID0gYnVpbGRpbmdzW2J1aWxkaW5nVHlwZV0ubGVuZ3RoO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9IGFzIFJlY29yZDxCdWlsZGluZ1R5cGUsIG51bWJlcj4pO1xuICAgIFxuICAgIGNvbnN0IGlkbGVWaWxsYWdlckNvdW50ID0gdW5pdHMudmlsbGFnZXJzLmZpbHRlcih2ID0+ICFpc1ZpbGxhZ2VyQnVzeSh2LmlkKSkubGVuZ3RoO1xuICAgIFxuICAgIGNvbnN0IGFzc2lnbm1lbnRUYXJnZXQgPSBhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRUeXBlID09PSAncmVzb3VyY2UnXG4gICAgICAgID8gcmVzb3VyY2VOb2Rlcy5maW5kKG4gPT4gbi5pZCA9PT0gYXNzaWdubWVudFBhbmVsU3RhdGUudGFyZ2V0SWQpXG4gICAgICAgIDogY29uc3RydWN0aW5nQnVpbGRpbmdzLmZpbmQoYyA9PiBjLmlkID09PSBhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRJZCk7XG5cbiAgICBjb25zdCBjbG9zZUFsbFBhbmVscyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgc2V0VW5pdE1hbmFnZW1lbnRQYW5lbChwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICAgICAgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwocCA9PiBwLmlzT3BlbiA/IHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgaW5zdGFuY2VJZDogdW5kZWZpbmVkLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICAgICAgc2V0QnVpbGRQYW5lbFN0YXRlKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIHZpbGxhZ2VySWQ6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgICAgICBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZShwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgICAgIHNldFNldHRpbmdzUGFuZWxTdGF0ZShwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICB9LCBbXSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBoYW5kbGVDbGlja091dHNpZGUgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlzQW55UGFuZWxPcGVuID0gdW5pdE1hbmFnZW1lbnRQYW5lbC5pc09wZW4gfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsLmlzT3BlbiB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRQYW5lbFN0YXRlLmlzT3BlbiB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWdubWVudFBhbmVsU3RhdGUuaXNPcGVuIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc1BhbmVsU3RhdGUuaXNPcGVuO1xuXG4gICAgICAgICAgICBpZiAoIWlzQW55UGFuZWxPcGVuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgRWxlbWVudDtcblxuICAgICAgICAgICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuc2NpLWZpLXBhbmVsLXBvcHVwJykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNsb3NlQWxsUGFuZWxzKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgICAgIH07XG4gICAgfSwgW1xuICAgICAgICB1bml0TWFuYWdlbWVudFBhbmVsLmlzT3BlbiwgXG4gICAgICAgIGJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsLmlzT3BlbixcbiAgICAgICAgYnVpbGRQYW5lbFN0YXRlLmlzT3BlbixcbiAgICAgICAgYXNzaWdubWVudFBhbmVsU3RhdGUuaXNPcGVuLFxuICAgICAgICBzZXR0aW5nc1BhbmVsU3RhdGUuaXNPcGVuLFxuICAgICAgICBjbG9zZUFsbFBhbmVsc1xuICAgIF0pO1xuXG4gICAgY29uc3QgcmVuZGVyQ29udGVudCA9ICgpID0+IHtcbiAgICAgICAgc3dpdGNoIChnYW1lU3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZVN0YXR1cy5NRU5VOlxuICAgICAgICAgICAgICAgIHJldHVybiA8U3RhcnRTY3JlZW4gb25OZXdHYW1lPXtoYW5kbGVTdGFydE5ld0dhbWV9IG9uUmVzdW1lR2FtZT17aGFuZGxlUmVzdW1lR2FtZX0gc2F2ZWRHYW1lcz17YWxsU2F2ZXN9IC8+O1xuICAgICAgICAgICAgY2FzZSBHYW1lU3RhdHVzLkxPQURJTkc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDxMb2FkaW5nU2NyZWVuIC8+O1xuICAgICAgICAgICAgY2FzZSBHYW1lU3RhdHVzLlBMQVlJTkc6XG4gICAgICAgICAgICAgICAgaWYgKCFjaXZpbGl6YXRpb24pIHJldHVybiA8TG9hZGluZ1NjcmVlbiAvPjtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEdhbWVVSVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpdmlsaXphdGlvbj17Y2l2aWxpemF0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlcz17cmVzb3VyY2VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXRzPXt1bml0c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZGluZ3M9e2J1aWxkaW5nc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1bGF0aW9uPXtwb3B1bGF0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRBZ2U9e2N1cnJlbnRBZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZUxvZz17Z2FtZUxvZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RXZlbnQ9e2N1cnJlbnRFdmVudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkV2ZW50Q2hvaWNlPXtoYW5kbGVFdmVudENob2ljZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZURlbHRhcz17cmVzb3VyY2VEZWx0YXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZpdHlTdGF0dXM9e2FjdGl2aXR5U3RhdHVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXRMaXN0PXtVTklUX0lORk99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdMaXN0PXtCVUlMRElOR1NfSU5GT31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5Vbml0UGFuZWw9eyh0eXBlLCByZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IHNldFVuaXRNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IHRydWUsIHR5cGUsIGFuY2hvclJlY3Q6IHJlY3QgfSk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuQnVpbGRpbmdQYW5lbD17KHR5cGUsIGluc3RhbmNlSWQsIHJlY3QpID0+IHsgY2xvc2VBbGxQYW5lbHMoKTsgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IHRydWUsIHR5cGUsIGluc3RhbmNlSWQsIGFuY2hvclJlY3Q6IHJlY3QgfSk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyQWN0aW9uPXtwbGF5ZXJBY3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtUGxhY2VtZW50PXtoYW5kbGVDb25maXJtUGxhY2VtZW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsUGxheWVyQWN0aW9uPXtoYW5kbGVDYW5jZWxQbGF5ZXJBY3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25CdWlsZGluZ0NsaWNrPXsoYnVpbGRpbmcsIHJlY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VBbGxQYW5lbHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IE9iamVjdC5rZXlzKGJ1aWxkaW5ncykuZmluZChrZXkgPT4gYnVpbGRpbmdzW2tleSBhcyBCdWlsZGluZ1R5cGVdLnNvbWUoYiA9PiBiLmlkID09PSBidWlsZGluZy5pZCkpIGFzIEJ1aWxkaW5nVHlwZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodHlwZSkgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IHRydWUsIHR5cGUsIGluc3RhbmNlSWQ6IGJ1aWxkaW5nLmlkLCBhbmNob3JSZWN0OiByZWN0IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwRGltZW5zaW9ucz17TUFQX0RJTUVOU0lPTlN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3RydWN0aW5nQnVpbGRpbmdzPXtjb25zdHJ1Y3RpbmdCdWlsZGluZ3N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlVGFza3M9e2FjdGl2ZVRhc2tzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRXhpdEdhbWU9e2hhbmRsZUV4aXRHYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlblNldHRpbmdzUGFuZWw9eyhyZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IHNldFNldHRpbmdzUGFuZWxTdGF0ZSh7IGlzT3BlbjogdHJ1ZSwgYW5jaG9yUmVjdDogcmVjdCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZU5vZGVzPXtyZXNvdXJjZU5vZGVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkFzc2lnbm1lbnRQYW5lbD17KG5vZGVJZCwgcmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZSh7IGlzT3BlbjogdHJ1ZSwgdGFyZ2V0SWQ6IG5vZGVJZCwgdGFyZ2V0VHlwZTogJ3Jlc291cmNlJywgYW5jaG9yUmVjdDogcmVjdCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5Db25zdHJ1Y3Rpb25QYW5lbD17KGNvbnN0cnVjdGlvbklkLCByZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiB0cnVlLCB0YXJnZXRJZDogY29uc3RydWN0aW9uSWQsIHRhcmdldFR5cGU6ICdjb25zdHJ1Y3Rpb24nLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhdGhlckluZm89e0dBVEhFUl9JTkZPfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdWlsZFBhbmVsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT3Blbj17YnVpbGRQYW5lbFN0YXRlLmlzT3Blbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRCdWlsZFBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCB2aWxsYWdlcklkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU3RhcnRQbGFjZW1lbnQ9e2hhbmRsZVN0YXJ0UGxhY2VtZW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlcz17cmVzb3VyY2VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nQ291bnRzPXtidWlsZGluZ0NvdW50c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZGluZ0xpc3Q9e0JVSUxESU5HU19JTkZPfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclJlY3Q9e2J1aWxkUGFuZWxTdGF0ZS5hbmNob3JSZWN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhbmVsT3BhY2l0eT17cGFuZWxPcGFjaXR5fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxVbml0TWFuYWdlbWVudFBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPcGVuPXt1bml0TWFuYWdlbWVudFBhbmVsLmlzT3Blbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRVbml0TWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPXt1bml0TWFuYWdlbWVudFBhbmVsLnR5cGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pdHM9e3VuaXRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlVW5pdD17aGFuZGxlVXBkYXRlVW5pdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRpc21pc3NVbml0PXtoYW5kbGVEaXNtaXNzU3BlY2lmaWNVbml0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uSW5pdGlhdGVCdWlsZD17KHZpbGxhZ2VySWQsIHJlY3QpID0+IHsgY2xvc2VBbGxQYW5lbHMoKTsgaGFuZGxlSW5pdGlhdGVCdWlsZCh2aWxsYWdlcklkLCByZWN0KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRWaWxsYWdlclRhc2tEZXRhaWxzPXtnZXRWaWxsYWdlclRhc2tEZXRhaWxzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclJlY3Q9e3VuaXRNYW5hZ2VtZW50UGFuZWwuYW5jaG9yUmVjdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYW5lbE9wYWNpdHk9e3BhbmVsT3BhY2l0eX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW49e2J1aWxkaW5nTWFuYWdlbWVudFBhbmVsLmlzT3Blbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFuZWxTdGF0ZT17YnVpbGRpbmdNYW5hZ2VtZW50UGFuZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdzPXtidWlsZGluZ3N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdMaXN0PXtCVUlMRElOR1NfSU5GT31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZUJ1aWxkaW5nPXtoYW5kbGVVcGRhdGVCdWlsZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRlbW9saXNoQnVpbGRpbmc9e2hhbmRsZURlbW9saXNoQnVpbGRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25UcmFpblVuaXRzPXtoYW5kbGVUcmFpblVuaXRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uVHJhaW5WaWxsYWdlcnM9e2hhbmRsZVRyYWluVmlsbGFnZXJzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlcz17cmVzb3VyY2VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVsYXRpb249e3BvcHVsYXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pdExpc3Q9e1VOSVRfSU5GT31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkFkdmFuY2VBZ2U9e2hhbmRsZUFkdmFuY2VBZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlVGFza3M9e2FjdGl2ZVRhc2tzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclJlY3Q9e2J1aWxkaW5nTWFuYWdlbWVudFBhbmVsLmFuY2hvclJlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFuZWxPcGFjaXR5PXtwYW5lbE9wYWNpdHl9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFJlc291cmNlQXNzaWdubWVudFBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPcGVuPXthc3NpZ25tZW50UGFuZWxTdGF0ZS5pc09wZW59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0QXNzaWdubWVudFBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NpZ25tZW50VGFyZ2V0PXthc3NpZ25tZW50VGFyZ2V0IHx8IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRsZVZpbGxhZ2VyQ291bnQ9e2lkbGVWaWxsYWdlckNvdW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQXNzaWduVmlsbGFnZXJzPXtoYW5kbGVBc3NpZ25WaWxsYWdlcnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2F0aGVySW5mbz17R0FUSEVSX0lORk99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdMaXN0PXtCVUlMRElOR1NfSU5GT31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3JSZWN0PXthc3NpZ25tZW50UGFuZWxTdGF0ZS5hbmNob3JSZWN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhbmVsT3BhY2l0eT17cGFuZWxPcGFjaXR5fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZXR0aW5nc1BhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPcGVuPXtzZXR0aW5nc1BhbmVsU3RhdGUuaXNPcGVufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldFNldHRpbmdzUGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yUmVjdD17c2V0dGluZ3NQYW5lbFN0YXRlLmFuY2hvclJlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eT17cGFuZWxPcGFjaXR5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BhY2l0eUNoYW5nZT17c2V0UGFuZWxPcGFjaXR5fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDxTdGFydFNjcmVlbiBvbk5ld0dhbWU9e2hhbmRsZVN0YXJ0TmV3R2FtZX0gb25SZXN1bWVHYW1lPXtoYW5kbGVSZXN1bWVHYW1lfSBzYXZlZEdhbWVzPXthbGxTYXZlc30gLz47XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctc3RvbmUtZGFyayBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTRcIj5cbiAgICAgICAgICAgIHtnYW1lU3RhdGUgPT09IEdhbWVTdGF0dXMuUExBWUlORyAmJiAoXG4gICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVG9nZ2xlVW5saW1pdGVkUmVzb3VyY2VzfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmaXhlZCBib3R0b20tNCBsZWZ0LTQgei1bMTAxXSBiZy1icmFuZC1nb2xkIHRleHQtc3RvbmUtZGFyayBmb250LWJvbGQgcHktMSBweC0zIHJvdW5kZWQtZnVsbCB0ZXh0LXhzIHNoYWRvdy1sZyBob3ZlcjpzY2FsZS0xMDUgdHJhbnNpdGlvbi10cmFuc2Zvcm1cIlxuICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiVG9nZ2xlIHVubGltaXRlZCByZXNvdXJjZXMgdGVzdCBtb2RlXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIFRlc3QgTW9kZToge3VubGltaXRlZFJlc291cmNlcyA/ICdPTicgOiAnT0ZGJ31cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8Tm90aWZpY2F0aW9uTWFuYWdlciBub3RpZmljYXRpb25zPXtub3RpZmljYXRpb25zfSBvblJlbW92ZU5vdGlmaWNhdGlvbj17cmVtb3ZlTm90aWZpY2F0aW9ufSAvPlxuICAgICAgICAgICAgPG1haW4gY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LTd4bCBteC1hdXRvXCI+XG4gICAgICAgICAgICAgICAge3JlbmRlckNvbnRlbnQoKX1cbiAgICAgICAgICAgIDwvbWFpbj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdhbWVQYWdlO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZVJlZiIsIkdhbWVTdGF0dXMiLCJnZXRQcmVkZWZpbmVkQ2l2aWxpemF0aW9uIiwiZ2V0UHJlZGVmaW5lZEdhbWVFdmVudCIsImdldFByZWRlZmluZWRBZ2UiLCJzYXZlR2FtZVN0YXRlIiwibG9hZEdhbWVTdGF0ZSIsImdldEFsbFNhdmVOYW1lcyIsImdldFJhbmRvbU5hbWVzIiwiR2FtZVVJIiwiU3RhcnRTY3JlZW4iLCJMb2FkaW5nU2NyZWVuIiwiQnVpbGRQYW5lbCIsIk5vdGlmaWNhdGlvbk1hbmFnZXIiLCJVbml0TWFuYWdlbWVudFBhbmVsIiwiQnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwiLCJSZXNvdXJjZUFzc2lnbm1lbnRQYW5lbCIsIlNldHRpbmdzUGFuZWwiLCJCVUlMRElOR1NfSU5GTyIsImlkIiwibmFtZSIsImRlc2NyaXB0aW9uIiwiY29zdCIsIndvb2QiLCJpc1VuaXF1ZSIsImJ1aWxkVGltZSIsInN0b25lIiwiZ29sZCIsIlVOSVRfSU5GTyIsImZvb2QiLCJyZXF1aXJlZEJ1aWxkaW5nIiwidHJhaW5UaW1lIiwiR0FUSEVSX0lORk8iLCJyYXRlIiwiaW5pdGlhbEJ1aWxkaW5nc1N0YXRlIiwiaG91c2VzIiwiYmFycmFja3MiLCJhcmNoZXJ5UmFuZ2UiLCJzdGFibGUiLCJzaWVnZVdvcmtzaG9wIiwiYmxhY2tzbWl0aCIsIndhdGNoVG93ZXIiLCJ0b3duQ2VudGVyIiwiTUFQX0RJTUVOU0lPTlMiLCJ3aWR0aCIsImhlaWdodCIsIkdhbWVQYWdlIiwiYnVpbGRpbmdzIiwiZ2FtZVN0YXRlIiwic2V0R2FtZVN0YXRlIiwiTUVOVSIsImNpdmlsaXphdGlvbiIsInNldENpdmlsaXphdGlvbiIsInJlc291cmNlcyIsInNldFJlc291cmNlcyIsInVuaXRzIiwic2V0VW5pdHMiLCJ2aWxsYWdlcnMiLCJtaWxpdGFyeSIsInNldEJ1aWxkaW5ncyIsImN1cnJlbnRBZ2UiLCJzZXRDdXJyZW50QWdlIiwiZ2FtZUxvZyIsInNldEdhbWVMb2ciLCJjdXJyZW50RXZlbnQiLCJzZXRDdXJyZW50RXZlbnQiLCJyZXNvdXJjZURlbHRhcyIsInNldFJlc291cmNlRGVsdGFzIiwiYWN0aXZpdHlTdGF0dXMiLCJzZXRBY3Rpdml0eVN0YXR1cyIsIm5vdGlmaWNhdGlvbnMiLCJzZXROb3RpZmljYXRpb25zIiwidW5saW1pdGVkUmVzb3VyY2VzIiwic2V0VW5saW1pdGVkUmVzb3VyY2VzIiwiYWxsU2F2ZXMiLCJzZXRBbGxTYXZlcyIsImN1cnJlbnRTYXZlTmFtZSIsInNldEN1cnJlbnRTYXZlTmFtZSIsInBsYXllckFjdGlvbiIsInNldFBsYXllckFjdGlvbiIsImFjdGl2ZVRhc2tzIiwic2V0QWN0aXZlVGFza3MiLCJjb25zdHJ1Y3RpbmdCdWlsZGluZ3MiLCJzZXRDb25zdHJ1Y3RpbmdCdWlsZGluZ3MiLCJyZXNvdXJjZU5vZGVzIiwic2V0UmVzb3VyY2VOb2RlcyIsInBhbmVsT3BhY2l0eSIsInNldFBhbmVsT3BhY2l0eSIsImJ1aWxkUGFuZWxTdGF0ZSIsInNldEJ1aWxkUGFuZWxTdGF0ZSIsImlzT3BlbiIsInZpbGxhZ2VySWQiLCJhbmNob3JSZWN0IiwidW5pdE1hbmFnZW1lbnRQYW5lbCIsInNldFVuaXRNYW5hZ2VtZW50UGFuZWwiLCJ0eXBlIiwiYnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwiLCJzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCIsImFzc2lnbm1lbnRQYW5lbFN0YXRlIiwic2V0QXNzaWdubWVudFBhbmVsU3RhdGUiLCJ0YXJnZXRJZCIsInRhcmdldFR5cGUiLCJzZXR0aW5nc1BhbmVsU3RhdGUiLCJzZXRTZXR0aW5nc1BhbmVsU3RhdGUiLCJkZWx0YVRpbWVvdXRSZWYiLCJwb3B1bGF0aW9uIiwiY3VycmVudCIsImxlbmd0aCIsImNhcGFjaXR5IiwiZmV0Y2hTYXZlcyIsIm5hbWVzIiwiUExBWUlORyIsImZ1bGxTdGF0ZSIsImFkZE5vdGlmaWNhdGlvbiIsIm1lc3NhZ2UiLCJNYXRoIiwiRGF0ZSIsIm5vdyIsInJhbmRvbSIsInByZXYiLCJyZW1vdmVOb3RpZmljYXRpb24iLCJmaWx0ZXIiLCJuIiwiYWRkVG9Mb2ciLCJpY29uIiwic2xpY2UiLCJ1cGRhdGVSZXNvdXJjZXMiLCJkZWx0YXMiLCJuZXdSZXNvdXJjZXMiLCJrZXkiLCJyZXNvdXJjZUtleSIsIm1heCIsIndpbmRvdyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJuZXdEZWx0YXMiLCJoYW5kbGVOZXdFdmVudCIsImV2ZW50IiwiZ2VuZXJhdGVSZXNvdXJjZU5vZGVzIiwiZXhpc3RpbmdQb3NpdGlvbnMiLCJub2RlcyIsInR5cGVzIiwibnVtTm9kZXMiLCJmbG9vciIsImkiLCJwb3MiLCJ4IiwieSIsImhhcyIsImFkZCIsImFtb3VudCIsInB1c2giLCJwb3NpdGlvbiIsImFzc2lnbmVkVmlsbGFnZXJzIiwiaGFuZGxlU3RhcnROZXdHYW1lIiwic2F2ZU5hbWUiLCJpbmNsdWRlcyIsIkxPQURJTkciLCJjaXYiLCJpbml0aWFsVmlsbGFnZXJOYW1lcyIsImluaXRpYWxWaWxsYWdlcnMiLCJtYXAiLCJpbml0aWFsVENOYW1lIiwidGNQb3NpdGlvbiIsImluaXRpYWxUQyIsIlNldCIsImdldFZpbGxhZ2VyVGFza0RldGFpbHMiLCJ0YXNrIiwiZmluZCIsInQiLCJwYXlsb2FkIiwidmlsbGFnZXJJZHMiLCJidWlsZGluZ0luZm8iLCJiIiwiYnVpbGRpbmdUeXBlIiwibm9kZSIsInJlc291cmNlTm9kZUlkIiwiaXNWaWxsYWdlckJ1c3kiLCJoYW5kbGVSZXN1bWVHYW1lIiwic2F2ZWRTdGF0ZSIsInNvbGRpZXJzIiwibWlncmF0ZWRNaWxpdGFyeSIsInMiLCJ1bml0VHlwZSIsImZpbmFsQnVpbGRpbmdzIiwib2NjdXBpZWRDZWxscyIsIk9iamVjdCIsInZhbHVlcyIsImZsYXQiLCJ0Y1BvcyIsInRjTmFtZSIsImZpcnN0QnVpbGRpbmciLCJtaWdyYXRlZCIsImVudHJpZXMiLCJmb3JFYWNoIiwiaW5zdGFuY2VzIiwiaW5zdCIsIm5vZGVzVG9TZXQiLCJ1bmRlZmluZWQiLCJjIiwiaGFuZGxlVGFza0NvbXBsZXRpb24iLCJuZXdCdWlsZGluZyIsInAiLCJwcmV2Tm9kZXMiLCJjb25zb2xlIiwid2FybiIsImFtb3VudFRvQWRkIiwiY291bnQiLCJuZXdWaWxsYWdlck5hbWVzIiwibmV3VmlsbGFnZXJzIiwidW5pdEluZm8iLCJ1IiwibmV3VW5pdE5hbWVzIiwibmV3VW5pdHMiLCJ0aXRsZSIsImFnZVJlc3VsdCIsIm5leHRBZ2VOYW1lIiwiZ2FtZUxvb3AiLCJzZXRJbnRlcnZhbCIsImNvbXBsZXRlZFRhc2tzIiwiY3VycmVudFRhc2tzIiwic3RhcnRUaW1lIiwiZHVyYXRpb24iLCJjbGVhckludGVydmFsIiwidGltZXIiLCJoYW5kbGVFdmVudENob2ljZSIsImNob2ljZSIsInRleHQiLCJlZmZlY3RzIiwibG9nIiwicmVzb3VyY2UiLCJoYW5kbGVJbml0aWF0ZUJ1aWxkIiwicmVjdCIsImhhbmRsZVN0YXJ0UGxhY2VtZW50IiwiYnVpbGRpbmdJZCIsInNvbWUiLCJtaXNzaW5nIiwicmVzIiwiam9pbiIsIm1vZGUiLCJoYW5kbGVDb25maXJtUGxhY2VtZW50IiwiYnVpbGRlciIsInYiLCJuZWdhdGl2ZUNvc3QiLCJ0YXNrUGF5bG9hZCIsInRhc2tJZCIsIm5ld0NvbnN0cnVjdGlvbiIsIm5ld1Rhc2siLCJoYW5kbGVDYW5jZWxQbGF5ZXJBY3Rpb24iLCJoYW5kbGVEZW1vbGlzaEJ1aWxkaW5nIiwiYnVpbGRpbmdJbnN0YW5jZSIsInJlZnVuZCIsInJlZnVuZE1lc3NhZ2VQYXJ0cyIsImhhbmRsZVVwZGF0ZUJ1aWxkaW5nIiwiaGFuZGxlVHJhaW5WaWxsYWdlcnMiLCJ2aWxsYWdlckNvc3QiLCJ0b3RhbENvc3QiLCJoYW5kbGVUcmFpblVuaXRzIiwidHJhaW5pbmdCdWlsZGluZyIsImhhbmRsZURpc21pc3NTcGVjaWZpY1VuaXQiLCJ1bml0IiwidW5pdFR5cGVOYW1lIiwiaGFuZGxlVXBkYXRlVW5pdCIsInVwZGF0ZWRVbml0IiwiaGFuZGxlQXNzaWduVmlsbGFnZXJzVG9Ob2RlIiwibm9kZUlkIiwiaWRsZVZpbGxhZ2VycyIsImNhcHBlZENvdW50IiwibWluIiwidmlsbGFnZXJzVG9Bc3NpZ24iLCJ2aWxsYWdlcklkc1RvQXNzaWduIiwidGFyZ2V0Tm9kZSIsImV4aXN0aW5nVGFzayIsImdhdGhlclJhdGVQZXJWaWxsYWdlciIsImFtb3VudFBlclNlY29uZCIsImdhdGhlckludGVydmFsIiwibm9kZUlzRGVwbGV0ZWQiLCJuZXdBbW91bnQiLCJCb29sZWFuIiwiaGFuZGxlQXNzaWduVmlsbGFnZXJzVG9Db25zdHJ1Y3Rpb24iLCJjb25zdHJ1Y3Rpb25JZCIsImNvbnN0cnVjdGlvbiIsImJhc2VEdXJhdGlvbiIsIm9sZFdvcmtlckNvdW50IiwidGltZUVsYXBzZWQiLCJ3b3JrRG9uZSIsInRvdGFsV29yayIsIndvcmtSZW1haW5pbmciLCJuZXdXb3JrZXJDb3VudCIsIm5ld1JlbWFpbmluZ0R1cmF0aW9uIiwidXBkYXRlZFZpbGxhZ2VySWRzIiwiaGFuZGxlQXNzaWduVmlsbGFnZXJzIiwiaGFuZGxlQWR2YW5jZUFnZSIsImhhbmRsZUV4aXRHYW1lIiwiaGFuZGxlVG9nZ2xlVW5saW1pdGVkUmVzb3VyY2VzIiwibmV3TW9kZSIsImJ1aWxkaW5nQ291bnRzIiwia2V5cyIsInJlZHVjZSIsImFjYyIsImlkbGVWaWxsYWdlckNvdW50IiwiYXNzaWdubWVudFRhcmdldCIsImNsb3NlQWxsUGFuZWxzIiwiaW5zdGFuY2VJZCIsImhhbmRsZUNsaWNrT3V0c2lkZSIsImlzQW55UGFuZWxPcGVuIiwidGFyZ2V0IiwiY2xvc2VzdCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZW5kZXJDb250ZW50Iiwib25OZXdHYW1lIiwib25SZXN1bWVHYW1lIiwic2F2ZWRHYW1lcyIsIm9uRXZlbnRDaG9pY2UiLCJ1bml0TGlzdCIsImJ1aWxkaW5nTGlzdCIsIm9uT3BlblVuaXRQYW5lbCIsIm9uT3BlbkJ1aWxkaW5nUGFuZWwiLCJvbkNvbmZpcm1QbGFjZW1lbnQiLCJvbkNhbmNlbFBsYXllckFjdGlvbiIsIm9uQnVpbGRpbmdDbGljayIsImJ1aWxkaW5nIiwibWFwRGltZW5zaW9ucyIsIm9uRXhpdEdhbWUiLCJvbk9wZW5TZXR0aW5nc1BhbmVsIiwib25PcGVuQXNzaWdubWVudFBhbmVsIiwib25PcGVuQ29uc3RydWN0aW9uUGFuZWwiLCJnYXRoZXJJbmZvIiwib25DbG9zZSIsIm9uU3RhcnRQbGFjZW1lbnQiLCJvblVwZGF0ZVVuaXQiLCJvbkRpc21pc3NVbml0Iiwib25Jbml0aWF0ZUJ1aWxkIiwicGFuZWxTdGF0ZSIsIm9uVXBkYXRlQnVpbGRpbmciLCJvbkRlbW9saXNoQnVpbGRpbmciLCJvblRyYWluVW5pdHMiLCJvblRyYWluVmlsbGFnZXJzIiwib25BZHZhbmNlQWdlIiwib25Bc3NpZ25WaWxsYWdlcnMiLCJvcGFjaXR5Iiwib25PcGFjaXR5Q2hhbmdlIiwiZGl2IiwiY2xhc3NOYW1lIiwiYnV0dG9uIiwib25DbGljayIsImFyaWEtbGFiZWwiLCJvblJlbW92ZU5vdGlmaWNhdGlvbiIsIm1haW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/page.tsx\n"));

/***/ })

});