"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/types */ \"(app-pages-browser)/./types.ts\");\n/* harmony import */ var _services_geminiService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/services/geminiService */ \"(app-pages-browser)/./services/geminiService.ts\");\n/* harmony import */ var _services_dbService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/services/dbService */ \"(app-pages-browser)/./services/dbService.ts\");\n/* harmony import */ var _services_nameService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/services/nameService */ \"(app-pages-browser)/./services/nameService.ts\");\n/* harmony import */ var _data_itemContent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/data/itemContent */ \"(app-pages-browser)/./data/itemContent.ts\");\n/* harmony import */ var _components_GameUI__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/GameUI */ \"(app-pages-browser)/./components/GameUI.tsx\");\n/* harmony import */ var _components_StartScreen__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/StartScreen */ \"(app-pages-browser)/./components/StartScreen.tsx\");\n/* harmony import */ var _components_LoadingScreen__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/LoadingScreen */ \"(app-pages-browser)/./components/LoadingScreen.tsx\");\n/* harmony import */ var _components_BuildPanel__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/BuildPanel */ \"(app-pages-browser)/./components/BuildPanel.tsx\");\n/* harmony import */ var _components_NotificationManager__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/NotificationManager */ \"(app-pages-browser)/./components/NotificationManager.tsx\");\n/* harmony import */ var _components_UnitManagementPanel__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/components/UnitManagementPanel */ \"(app-pages-browser)/./components/UnitManagementPanel.tsx\");\n/* harmony import */ var _components_BuildingManagementPanel__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/components/BuildingManagementPanel */ \"(app-pages-browser)/./components/BuildingManagementPanel.tsx\");\n/* harmony import */ var _components_ResourceAssignmentPanel__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/components/ResourceAssignmentPanel */ \"(app-pages-browser)/./components/ResourceAssignmentPanel.tsx\");\n/* harmony import */ var _components_CivilizationPanel__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/components/CivilizationPanel */ \"(app-pages-browser)/./components/CivilizationPanel.tsx\");\n/* harmony import */ var _components_AllBuildingsPanel__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/components/AllBuildingsPanel */ \"(app-pages-browser)/./components/AllBuildingsPanel.tsx\");\n/* harmony import */ var _components_InventoryPanel__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @/components/InventoryPanel */ \"(app-pages-browser)/./components/InventoryPanel.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst GATHER_INFO = {\n    food: {\n        rate: 10\n    },\n    wood: {\n        rate: 8\n    },\n    gold: {\n        rate: 5\n    },\n    stone: {\n        rate: 6\n    }\n};\nconst initialBuildingsState = {\n    houses: [],\n    barracks: [],\n    archeryRange: [],\n    stable: [],\n    siegeWorkshop: [],\n    blacksmith: [],\n    watchTower: [],\n    townCenter: []\n};\nconst MAP_DIMENSIONS = {\n    width: 25,\n    height: 18\n};\nconst FALLBACK_AGES = [\n    {\n        name: \"Nomadic Age\",\n        description: \"A scattered tribe, learning to survive.\"\n    },\n    {\n        name: \"Feudal Age\",\n        description: \"Society organizes under lords and vassals.\"\n    },\n    {\n        name: \"Castle Age\",\n        description: \"Powerful fortifications and siege weaponry appear.\"\n    },\n    {\n        name: \"Imperial Age\",\n        description: \"Your civilization becomes a true empire.\"\n    }\n];\nconst GamePage = ()=>{\n    var _buildings_townCenter, _buildings_houses;\n    _s();\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU);\n    const [civilization, setCivilization] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [resources, setResources] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        food: 200,\n        wood: 150,\n        gold: 50,\n        stone: 100\n    });\n    const [units, setUnits] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        villagers: [],\n        military: []\n    });\n    const [buildings, setBuildings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialBuildingsState);\n    const [currentAge, setCurrentAge] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Nomadic Age\");\n    const [gameLog, setGameLog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentEvent, setCurrentEvent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [resourceDeltas, setResourceDeltas] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [activityStatus, setActivityStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Your story begins...\");\n    const [notifications, setNotifications] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [unlimitedResources, setUnlimitedResources] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [allSaves, setAllSaves] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentSaveName, setCurrentSaveName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [playerAction, setPlayerAction] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [activeTasks, setActiveTasks] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [resourceNodes, setResourceNodes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [inventory, setInventory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [activeBuffs, setActiveBuffs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        resourceBoost: []\n    });\n    // Master lists of all configurations from DB\n    const [masterAgeList, setMasterAgeList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [masterBuildingList, setMasterBuildingList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [masterUnitList, setMasterUnitList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // Panel States\n    const [buildPanelState, setBuildPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        villagerId: null,\n        anchorRect: null\n    });\n    const [unitManagementPanel, setUnitManagementPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        type: null,\n        anchorRect: null\n    });\n    const [buildingManagementPanel, setBuildingManagementPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        type: null,\n        instanceId: null,\n        anchorRect: null\n    });\n    const [allBuildingsPanel, setAllBuildingsPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const [assignmentPanelState, setAssignmentPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        targetId: null,\n        targetType: null,\n        anchorRect: null\n    });\n    const [civPanelState, setCivPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const [inventoryPanelState, setInventoryPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const deltaTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    const eventTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const lastTickRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(Date.now());\n    const animationFrameRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    // Derived state for active game configurations\n    const ageProgressionList = masterAgeList.filter((age)=>age.isActive);\n    const buildingList = masterBuildingList; // Keep all for lookups, filter on use\n    const unitList = masterUnitList; // Keep all for lookups, filter on use\n    const population = {\n        current: units.villagers.length + units.military.length,\n        capacity: (((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter.length) > 0 ? 20 : 0) + (((_buildings_houses = buildings.houses) === null || _buildings_houses === void 0 ? void 0 : _buildings_houses.length) || 0) * 5\n    };\n    const fetchSavesAndConfigs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        const names = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllSaveNames)();\n        setAllSaves(names);\n        let allAgeConfigs = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllAgeConfigs)();\n        if (allAgeConfigs.length === 0) {\n            allAgeConfigs = FALLBACK_AGES.map((a, i)=>({\n                    ...a,\n                    id: a.name,\n                    isActive: true,\n                    isPredefined: true,\n                    order: i\n                }));\n        }\n        setMasterAgeList(allAgeConfigs);\n        const allBuildingConfigs = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllBuildingConfigs)();\n        setMasterBuildingList(allBuildingConfigs);\n        const allUnitConfigs = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllUnitConfigs)();\n        setMasterUnitList(allUnitConfigs);\n        return {\n            allAgeConfigs,\n            allBuildingConfigs,\n            allUnitConfigs\n        };\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        fetchSavesAndConfigs();\n    }, [\n        fetchSavesAndConfigs\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && civilization && currentSaveName) {\n            const fullState = {\n                civilization,\n                resources,\n                units,\n                buildings,\n                currentAge,\n                gameLog,\n                activeTasks,\n                resourceNodes,\n                inventory,\n                activeBuffs\n            };\n            (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.saveGameState)(currentSaveName, fullState);\n        }\n    }, [\n        civilization,\n        resources,\n        units,\n        buildings,\n        currentAge,\n        gameLog,\n        gameState,\n        currentSaveName,\n        activeTasks,\n        resourceNodes,\n        inventory,\n        activeBuffs\n    ]);\n    const addNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message)=>{\n        const id = \"\".concat(Date.now(), \"-\").concat(Math.random());\n        setNotifications((prev)=>[\n                {\n                    id,\n                    message\n                }\n            ]);\n    }, []);\n    const removeNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id)=>{\n        setNotifications((prev)=>prev.filter((n)=>n.id !== id));\n    }, []);\n    const addToLog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message, icon)=>{\n        setGameLog((prev)=>[\n                {\n                    id: \"\".concat(Date.now(), \"-\").concat(Math.random()),\n                    message,\n                    icon\n                },\n                ...prev.slice(0, 19)\n            ]);\n    }, []);\n    const updateResources = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((deltas)=>{\n        setResources((prev)=>{\n            const newResources = {\n                ...prev\n            };\n            for(const key in deltas){\n                const resourceKey = key;\n                var _deltas_resourceKey;\n                newResources[resourceKey] = Math.max(0, newResources[resourceKey] + ((_deltas_resourceKey = deltas[resourceKey]) !== null && _deltas_resourceKey !== void 0 ? _deltas_resourceKey : 0));\n            }\n            return newResources;\n        });\n        setResourceDeltas((prev)=>({\n                ...prev,\n                ...deltas\n            }));\n        for(const key in deltas){\n            const resourceKey = key;\n            if (deltaTimeoutRef.current[resourceKey]) {\n                window.clearTimeout(deltaTimeoutRef.current[resourceKey]);\n            }\n            deltaTimeoutRef.current[resourceKey] = window.setTimeout(()=>{\n                setResourceDeltas((prev)=>{\n                    const newDeltas = {\n                        ...prev\n                    };\n                    delete newDeltas[resourceKey];\n                    return newDeltas;\n                });\n            }, 1500);\n        }\n    }, []);\n    const handleTaskCompletion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((task)=>{\n        var _task_payload;\n        if (((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.villagerIds) && task.payload.villagerIds.length > 0) {\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>task.payload.villagerIds.includes(v.id) ? {\n                            ...v,\n                            currentTask: null\n                        } : v)\n                }));\n        }\n        switch(task.type){\n            case \"build\":\n                {\n                    const { buildingType, villagerIds, position } = task.payload;\n                    const buildingInfo = buildingList.find((b)=>b.id === buildingType);\n                    const [name] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n                    const newBuilding = {\n                        id: task.id,\n                        name,\n                        position: position,\n                        currentHp: buildingInfo.hp\n                    };\n                    setBuildings((p)=>{\n                        const currentBuildings = p[buildingType] || [];\n                        return {\n                            ...p,\n                            [buildingType]: [\n                                ...currentBuildings,\n                                newBuilding\n                            ]\n                        };\n                    });\n                    if (villagerIds && villagerIds.length > 0) {\n                        addToLog(\"\".concat(villagerIds.length, \" builder(s) have constructed \").concat(name, \", a new \").concat(buildingInfo.name, \".\"), buildingInfo.iconId);\n                        setActivityStatus(\"Construction of \".concat(name, \" is complete.\"));\n                    }\n                    break;\n                }\n            case \"gather\":\n                break;\n            case \"train_villager\":\n                {\n                    const { count } = task.payload;\n                    const newVillagerNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", count);\n                    const newVillagers = newVillagerNames.map((name)=>({\n                            id: \"\".concat(Date.now(), \"-\").concat(name),\n                            name,\n                            currentTask: null\n                        }));\n                    setUnits((p)=>({\n                            ...p,\n                            villagers: [\n                                ...p.villagers,\n                                ...newVillagers\n                            ]\n                        }));\n                    addToLog(\"\".concat(count, \" new villager(s) have joined your settlement.\"), \"villager\");\n                    setActivityStatus(\"\".concat(count, \" new villager(s) are ready to work.\"));\n                    break;\n                }\n            case \"train_military\":\n                {\n                    const { unitType, count } = task.payload;\n                    const unitInfo = unitList.find((u)=>u.id === unitType);\n                    const newUnitNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"soldier\", count);\n                    const newUnits = newUnitNames.map((name)=>({\n                            id: \"\".concat(Date.now(), \"-\").concat(unitType, \"-\").concat(name),\n                            name,\n                            title: \"\",\n                            unitType: unitType\n                        }));\n                    setUnits((p)=>({\n                            ...p,\n                            military: [\n                                ...p.military,\n                                ...newUnits\n                            ]\n                        }));\n                    addToLog(\"\".concat(count, \" \").concat(unitInfo.name, \"(s) have been trained.\"), unitType);\n                    setActivityStatus(\"\".concat(count, \" new \").concat(unitInfo.name, \"(s) are ready for battle.\"));\n                    break;\n                }\n            case \"advance_age\":\n                {\n                    const activeAges = masterAgeList.filter((a)=>a.isActive);\n                    const currentIndex = activeAges.findIndex((age)=>age.name === currentAge);\n                    const ageResult = activeAges[currentIndex + 1] || {\n                        name: \"Age of Legends\",\n                        description: \"Your civilization transcends history and becomes a legend.\"\n                    };\n                    setCurrentAge(ageResult.name);\n                    addToLog(\"You have advanced to the \".concat(ageResult.name, \"!\"), \"age\");\n                    addToLog(ageResult.description, \"age\");\n                    setActivityStatus(\"Welcome to the \".concat(ageResult.name, \"!\"));\n                    break;\n                }\n        }\n    }, [\n        currentAge,\n        addToLog,\n        buildingList,\n        unitList,\n        masterAgeList\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState !== _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING) {\n            if (animationFrameRef.current) cancelAnimationFrame(animationFrameRef.current);\n            return;\n        }\n        const gameLoop = ()=>{\n            const now = Date.now();\n            const deltaTime = now - lastTickRef.current;\n            lastTickRef.current = now;\n            let completedTasks = [];\n            let resourceDeltasThisTick = {};\n            setActiveBuffs((prev)=>{\n                var _prev_resourceBoost, _prev_resourceBoost1;\n                const newResourceBoosts = (_prev_resourceBoost = prev.resourceBoost) === null || _prev_resourceBoost === void 0 ? void 0 : _prev_resourceBoost.filter((b)=>b.endTime > now);\n                if ((newResourceBoosts === null || newResourceBoosts === void 0 ? void 0 : newResourceBoosts.length) !== ((_prev_resourceBoost1 = prev.resourceBoost) === null || _prev_resourceBoost1 === void 0 ? void 0 : _prev_resourceBoost1.length)) {\n                    addToLog(\"A resource gathering bonus has expired.\", \"system\");\n                }\n                return {\n                    ...prev,\n                    resourceBoost: newResourceBoosts\n                };\n            });\n            const tasksInProgress = activeTasks.map((task)=>{\n                if (now >= task.startTime + task.duration) {\n                    completedTasks.push(task);\n                    return null;\n                }\n                if (task.type === \"gather\") {\n                    var _task_payload_villagerIds, _task_payload, _activeBuffs_resourceBoost_find, _activeBuffs_resourceBoost;\n                    const node = resourceNodes.find((n)=>{\n                        var _task_payload;\n                        return n.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.resourceNodeId);\n                    });\n                    const villagerCount = ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 0;\n                    if (!node || villagerCount === 0) {\n                        completedTasks.push(task);\n                        return null;\n                    }\n                    const baseRatePerSecond = GATHER_INFO[node.type].rate;\n                    let civBonusMultiplier = 1;\n                    if (civilization === null || civilization === void 0 ? void 0 : civilization.bonus.toLowerCase().includes(node.type.toLowerCase())) {\n                        const match = civilization.bonus.match(/(\\d+)%/);\n                        if (match === null || match === void 0 ? void 0 : match[1]) civBonusMultiplier = 1 + parseInt(match[1], 10) / 100;\n                    }\n                    const itemBoostMultiplier = ((_activeBuffs_resourceBoost = activeBuffs.resourceBoost) === null || _activeBuffs_resourceBoost === void 0 ? void 0 : (_activeBuffs_resourceBoost_find = _activeBuffs_resourceBoost.find((b)=>b.resource === node.type)) === null || _activeBuffs_resourceBoost_find === void 0 ? void 0 : _activeBuffs_resourceBoost_find.multiplier) || 1;\n                    const finalRatePerSecond = baseRatePerSecond * civBonusMultiplier * itemBoostMultiplier;\n                    resourceDeltasThisTick[node.type] = (resourceDeltasThisTick[node.type] || 0) + finalRatePerSecond / 1000 * deltaTime * villagerCount;\n                }\n                return task;\n            }).filter(Boolean);\n            if (Object.keys(resourceDeltasThisTick).length > 0) {\n                updateResources(resourceDeltasThisTick);\n                setResourceNodes((prevNodes)=>prevNodes.map((node)=>{\n                        const amountToDecrement = resourceDeltasThisTick[node.type];\n                        if (!amountToDecrement) return node;\n                        const newAmount = node.amount - amountToDecrement;\n                        if (newAmount <= 0) {\n                            const taskId = \"gather-\".concat(node.id);\n                            const task = tasksInProgress.find((t)=>t.id === taskId);\n                            if (task) {\n                                var _task_payload_villagerIds, _task_payload;\n                                addToLog(\"\".concat(((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 0, \" villager(s) depleted a \").concat(node.type, \" source, gaining \").concat(Math.floor(node.amount), \" \").concat(node.type, \".\"), node.type);\n                                setActivityStatus(\"A \".concat(node.type, \" source has been fully depleted.\"));\n                                completedTasks.push(task);\n                            }\n                            return null;\n                        }\n                        return {\n                            ...node,\n                            amount: newAmount\n                        };\n                    }).filter(Boolean));\n            }\n            const finalActiveTasks = tasksInProgress.filter((t)=>!completedTasks.some((ct)=>ct.id === t.id));\n            setActiveTasks(finalActiveTasks);\n            if (completedTasks.length > 0) completedTasks.forEach(handleTaskCompletion);\n            animationFrameRef.current = requestAnimationFrame(gameLoop);\n        };\n        animationFrameRef.current = requestAnimationFrame(gameLoop);\n        return ()=>{\n            if (animationFrameRef.current) cancelAnimationFrame(animationFrameRef.current);\n        };\n    }, [\n        gameState,\n        activeTasks,\n        resourceNodes,\n        handleTaskCompletion,\n        addToLog,\n        updateResources,\n        units.villagers,\n        civilization,\n        activeBuffs\n    ]);\n    const handleNewEvent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!civilization || currentEvent) return;\n        const event = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedGameEvent)();\n        setCurrentEvent(event);\n        setActivityStatus(\"A new event requires your attention!\");\n    }, [\n        civilization,\n        currentEvent\n    ]);\n    const scheduleNextEvent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (eventTimerRef.current) clearTimeout(eventTimerRef.current);\n        eventTimerRef.current = setTimeout(()=>handleNewEvent(), (10 + Math.random() * 15) * 1000);\n    }, [\n        handleNewEvent\n    ]);\n    const generateResourceNodes = (existingPositions)=>{\n        const nodes = [];\n        const types = [\n            \"food\",\n            \"wood\",\n            \"gold\",\n            \"stone\"\n        ];\n        const numNodes = 20 + Math.floor(Math.random() * 10);\n        for(let i = 0; i < numNodes; i++){\n            let pos;\n            do {\n                pos = {\n                    x: Math.floor(Math.random() * MAP_DIMENSIONS.width),\n                    y: Math.floor(Math.random() * MAP_DIMENSIONS.height)\n                };\n            }while (existingPositions.has(\"\".concat(pos.x, \",\").concat(pos.y)));\n            existingPositions.add(\"\".concat(pos.x, \",\").concat(pos.y));\n            const type = types[Math.floor(Math.random() * types.length)];\n            nodes.push({\n                id: \"\".concat(Date.now(), \"-node-\").concat(i),\n                type,\n                position: pos,\n                amount: Math.floor(Math.random() * 2001) + 500\n            });\n        }\n        return nodes;\n    };\n    const handleStartNewGame = async (saveName)=>{\n        var _localAgeProgressionList_;\n        if (allSaves.includes(saveName)) {\n            addNotification('A saga named \"'.concat(saveName, '\" already exists.'));\n            return;\n        }\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n        setCurrentSaveName(saveName);\n        const { allAgeConfigs, allBuildingConfigs } = await fetchSavesAndConfigs();\n        const localAgeProgressionList = allAgeConfigs.filter((a)=>a.isActive);\n        const civ = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedCivilization)();\n        setCivilization(civ);\n        setResources({\n            food: 200,\n            wood: 150,\n            gold: 50,\n            stone: 100\n        });\n        const initialVillagers = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", 3).map((name)=>({\n                id: \"\".concat(Date.now(), \"-\").concat(name),\n                name,\n                currentTask: null\n            }));\n        setUnits({\n            villagers: initialVillagers,\n            military: []\n        });\n        const tcPosition = {\n            x: Math.floor(MAP_DIMENSIONS.width / 2),\n            y: Math.floor(MAP_DIMENSIONS.height / 2)\n        };\n        const tcInfo = allBuildingConfigs.find((b)=>b.id === \"townCenter\");\n        const initialTC = {\n            id: \"\".concat(Date.now(), \"-tc\"),\n            name: (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1)[0],\n            position: tcPosition,\n            currentHp: tcInfo.hp\n        };\n        setBuildings({\n            ...initialBuildingsState,\n            townCenter: [\n                initialTC\n            ]\n        });\n        setResourceNodes(generateResourceNodes(new Set([\n            \"\".concat(tcPosition.x, \",\").concat(tcPosition.y)\n        ])));\n        setCurrentAge(((_localAgeProgressionList_ = localAgeProgressionList[0]) === null || _localAgeProgressionList_ === void 0 ? void 0 : _localAgeProgressionList_.name) || FALLBACK_AGES[0].name);\n        setGameLog([]);\n        setCurrentEvent(null);\n        setUnlimitedResources(false);\n        setActiveTasks([]);\n        setInventory([]);\n        setActiveBuffs({\n            resourceBoost: []\n        });\n        addToLog(\"\".concat(civ.name, \" has been founded!\"), \"system\");\n        addToLog(\"Your story begins...\", \"system\");\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING);\n        setActivityStatus(\"Your settlement awaits your command.\");\n        fetchSavesAndConfigs();\n    };\n    const isVillagerBusy = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((villagerId)=>{\n        var _units_villagers_find;\n        return !!((_units_villagers_find = units.villagers.find((v)=>v.id === villagerId)) === null || _units_villagers_find === void 0 ? void 0 : _units_villagers_find.currentTask);\n    }, [\n        units.villagers\n    ]);\n    const getVillagerTaskDetails = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((villagerId)=>{\n        var _buildingList_find, _resourceNodes_find;\n        const villager = units.villagers.find((v)=>v.id === villagerId);\n        if (!(villager === null || villager === void 0 ? void 0 : villager.currentTask)) return \"Idle\";\n        const task = activeTasks.find((t)=>t.id === villager.currentTask);\n        if (!task) return \"Idle (Finalizing Task)\";\n        if (task.type === \"build\") return \"Busy: Constructing \".concat(((_buildingList_find = buildingList.find((b)=>b.id === task.payload.buildingType)) === null || _buildingList_find === void 0 ? void 0 : _buildingList_find.name) || \"a building\");\n        if (task.type === \"gather\") return \"Busy: Gathering \".concat(((_resourceNodes_find = resourceNodes.find((n)=>n.id === task.payload.resourceNodeId)) === null || _resourceNodes_find === void 0 ? void 0 : _resourceNodes_find.type) || \"resources\");\n        return \"Idle\";\n    }, [\n        activeTasks,\n        resourceNodes,\n        units.villagers,\n        buildingList\n    ]);\n    const handleResumeGame = async (saveName)=>{\n        await fetchSavesAndConfigs();\n        const savedState = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.loadGameState)(saveName);\n        if (savedState) {\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n            setCurrentSaveName(saveName);\n            setCivilization(savedState.civilization);\n            setResources(savedState.resources);\n            const migratedVillagers = (savedState.units.villagers || []).map((v)=>({\n                    ...v,\n                    currentTask: v.currentTask !== undefined ? v.currentTask : null\n                }));\n            const migratedTasks = (savedState.activeTasks || []).map((t)=>{\n                var _t_payload;\n                return t.type === \"build\" && !((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.villagerIds) ? {\n                    ...t,\n                    payload: {\n                        ...t.payload,\n                        villagerIds: []\n                    }\n                } : t;\n            });\n            migratedTasks.forEach((task)=>{\n                var _task_payload_villagerIds, _task_payload;\n                return (_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.forEach((vid)=>{\n                    const v = migratedVillagers.find((v)=>v.id === vid);\n                    if (v) v.currentTask = task.id;\n                });\n            });\n            setUnits({\n                ...savedState.units,\n                villagers: migratedVillagers\n            });\n            const constructionTasks = migratedTasks.filter((t)=>t.type === \"build\");\n            const occupiedCells = new Set([\n                ...Object.values(savedState.buildings || {}).flat().map((b)=>\"\".concat(b.position.x, \",\").concat(b.position.y)),\n                ...constructionTasks.map((t)=>\"\".concat(t.payload.position.x, \",\").concat(t.payload.position.y))\n            ]);\n            let finalBuildings = {\n                ...initialBuildingsState,\n                ...savedState.buildings || {}\n            };\n            Object.keys(finalBuildings).forEach((bType)=>{\n                const info = buildingList.find((b)=>b.id === bType);\n                if (info) finalBuildings[bType] = finalBuildings[bType].map((b)=>({\n                        ...b,\n                        currentHp: b.currentHp === undefined ? info.hp : b.currentHp\n                    }));\n            });\n            if (!finalBuildings.townCenter || finalBuildings.townCenter.length === 0) {\n                let tcPos = {\n                    x: 10,\n                    y: 5\n                };\n                while(occupiedCells.has(\"\".concat(tcPos.x, \",\").concat(tcPos.y))){\n                    tcPos.x++;\n                }\n                const tcInfo = buildingList.find((b)=>b.id === \"townCenter\");\n                finalBuildings.townCenter = [\n                    {\n                        id: \"\".concat(Date.now(), \"-tc\"),\n                        name: (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1)[0],\n                        position: tcPos,\n                        currentHp: tcInfo.hp\n                    }\n                ];\n                occupiedCells.add(\"\".concat(tcPos.x, \",\").concat(tcPos.y));\n            }\n            setBuildings(finalBuildings);\n            setResourceNodes((savedState.resourceNodes || []).length === 0 ? generateResourceNodes(occupiedCells) : savedState.resourceNodes || []);\n            setCurrentAge(savedState.currentAge);\n            setGameLog(savedState.gameLog);\n            setActiveTasks(migratedTasks);\n            setInventory(savedState.inventory || []);\n            setActiveBuffs(savedState.activeBuffs || {\n                resourceBoost: []\n            });\n            setCurrentEvent(null);\n            setActivityStatus(\"Welcome back to your saga.\");\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING);\n        } else {\n            addNotification('Could not find a saved game named \"'.concat(saveName, '\".'));\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState !== _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING) return;\n        if (!currentEvent) scheduleNextEvent();\n        else if (eventTimerRef.current) clearTimeout(eventTimerRef.current);\n        return ()=>{\n            if (eventTimerRef.current) clearTimeout(eventTimerRef.current);\n        };\n    }, [\n        gameState,\n        currentEvent,\n        scheduleNextEvent\n    ]);\n    const handleEventChoice = (choice)=>{\n        if (choice.cost) {\n            const missing = Object.keys(choice.cost).filter((res)=>resources[res] < (choice.cost[res] || 0));\n            if (missing.length > 0) {\n                addNotification(\"You lack the required resources: \".concat(missing.join(\", \"), \".\"));\n                return;\n            }\n            updateResources(Object.entries(choice.cost).reduce((acc, param)=>{\n                let [k, v] = param;\n                return {\n                    ...acc,\n                    [k]: -v\n                };\n            }, {}));\n        }\n        const isSuccess = choice.successChance === undefined || Math.random() < choice.successChance;\n        const effects = isSuccess ? choice.successEffects : choice.failureEffects;\n        if (!effects) {\n            setCurrentEvent(null);\n            scheduleNextEvent();\n            return;\n        }\n        let logMessage = 'Decision: \"'.concat(choice.text, '\". Outcome: ').concat(isSuccess ? \"Success\" : \"Failure\", \". \").concat(effects.log);\n        effects.rewards.forEach((reward)=>{\n            if (reward.type === \"resource\") {\n                const amount = Array.isArray(reward.amount) ? Math.floor(Math.random() * (reward.amount[1] - reward.amount[0] + 1)) + reward.amount[0] : reward.amount;\n                if (amount !== 0) {\n                    updateResources({\n                        [reward.resource]: amount\n                    });\n                    logMessage += \" You \".concat(amount > 0 ? \"gained\" : \"lost\", \" \").concat(Math.abs(amount), \" \").concat(reward.resource, \".\");\n                }\n            } else if (reward.type === \"item\") {\n                const itemInfo = _data_itemContent__WEBPACK_IMPORTED_MODULE_6__.GAME_ITEMS[reward.itemId];\n                if (itemInfo) {\n                    const newItems = Array.from({\n                        length: reward.amount\n                    }, (_, i)=>({\n                            ...itemInfo,\n                            id: \"\".concat(reward.itemId, \"-\").concat(Date.now(), \"-\").concat(i)\n                        }));\n                    setInventory((prev)=>[\n                            ...prev,\n                            ...newItems\n                        ]);\n                    logMessage += \" You received \".concat(reward.amount, \"x \").concat(itemInfo.name, \"!\");\n                }\n            } else if (reward.type === \"unit\" && reward.unitType === \"villager\") {\n                const newVillagers = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", reward.amount).map((name)=>({\n                        id: \"\".concat(Date.now(), \"-\").concat(name),\n                        name,\n                        currentTask: null\n                    }));\n                setUnits((p)=>({\n                        ...p,\n                        villagers: [\n                            ...p.villagers,\n                            ...newVillagers\n                        ]\n                    }));\n                logMessage += \" You gained \".concat(reward.amount, \" villager(s).\");\n            } else if (reward.type === \"building\") {\n                const buildingInfo = buildingList.find((b)=>b.id === reward.buildingId);\n                if (buildingInfo) {\n                    const occupiedCells = new Set();\n                    Object.values(buildings).flat().forEach((b)=>occupiedCells.add(\"\".concat(b.position.x, \",\").concat(b.position.y)));\n                    activeTasks.filter((t)=>t.type === \"build\").forEach((t)=>{\n                        var _t_payload;\n                        return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.position) && occupiedCells.add(\"\".concat(t.payload.position.x, \",\").concat(t.payload.position.y));\n                    });\n                    resourceNodes.forEach((n)=>occupiedCells.add(\"\".concat(n.position.x, \",\").concat(n.position.y)));\n                    let placed = false;\n                    for(let i = 0; i < MAP_DIMENSIONS.width * MAP_DIMENSIONS.height; i++){\n                        const x = Math.floor(Math.random() * MAP_DIMENSIONS.width);\n                        const y = Math.floor(Math.random() * MAP_DIMENSIONS.height);\n                        if (!occupiedCells.has(\"\".concat(x, \",\").concat(y))) {\n                            const [name] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n                            const newBuilding = {\n                                id: \"reward-\".concat(Date.now()),\n                                name,\n                                position: {\n                                    x,\n                                    y\n                                },\n                                currentHp: buildingInfo.hp\n                            };\n                            setBuildings((p)=>({\n                                    ...p,\n                                    [reward.buildingId]: [\n                                        ...p[reward.buildingId] || [],\n                                        newBuilding\n                                    ]\n                                }));\n                            logMessage += \" You were gifted a new \".concat(buildingInfo.name, \"!\");\n                            placed = true;\n                            break;\n                        }\n                    }\n                    if (!placed) logMessage += \" You were to be gifted a \".concat(buildingInfo.name, \", but there was no room to build it!\");\n                }\n            }\n        });\n        addToLog(logMessage, \"event\");\n        setActivityStatus(effects.log);\n        setCurrentEvent(null);\n        scheduleNextEvent();\n    };\n    const handleInitiateBuild = (villagerId, rect)=>{\n        if (isVillagerBusy(villagerId)) {\n            addNotification(\"This villager is already busy.\");\n            return;\n        }\n        setBuildPanelState({\n            isOpen: true,\n            villagerId,\n            anchorRect: rect\n        });\n        setUnitManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleStartPlacement = (buildingId)=>{\n        var _buildings_buildingInfo_id;\n        const villagerId = buildPanelState.villagerId;\n        if (!villagerId) return;\n        const buildingInfo = buildingList.find((b)=>b.id === buildingId);\n        if (!buildingInfo) return;\n        const existingCount = ((_buildings_buildingInfo_id = buildings[buildingInfo.id]) === null || _buildings_buildingInfo_id === void 0 ? void 0 : _buildings_buildingInfo_id.length) || 0;\n        const constructingCount = activeTasks.filter((t)=>{\n            var _t_payload;\n            return t.type === \"build\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.buildingType) === buildingInfo.id;\n        }).length;\n        const totalCount = existingCount + constructingCount;\n        const limit = buildingInfo.isUnique ? 1 : buildingInfo.buildLimit || 0;\n        if (limit > 0 && totalCount >= limit) {\n            addNotification(\"You have reached the build limit for \".concat(buildingInfo.name, \" (\").concat(limit, \").\"));\n            return;\n        }\n        const missing = unlimitedResources ? [] : Object.keys(buildingInfo.cost).filter((res)=>resources[res] < (buildingInfo.cost[res] || 0));\n        if (missing.length > 0) {\n            addNotification(\"Need more \".concat(missing.join(\", \"), \".\"));\n            return;\n        }\n        setPlayerAction({\n            mode: \"build\",\n            buildingType: buildingId,\n            villagerId\n        });\n        setBuildPanelState({\n            isOpen: false,\n            villagerId: null,\n            anchorRect: null\n        });\n        setActivityStatus(\"Select a location to build a \".concat(buildingInfo.name, \". Right-click to cancel.\"));\n    };\n    const handleConfirmPlacement = (position)=>{\n        if ((playerAction === null || playerAction === void 0 ? void 0 : playerAction.mode) !== \"build\") return;\n        const { buildingType, villagerId } = playerAction;\n        const buildingInfo = buildingList.find((b)=>b.id === buildingType);\n        const builder = units.villagers.find((v)=>v.id === villagerId);\n        if (!buildingInfo || !builder) return;\n        if (!unlimitedResources) updateResources(Object.entries(buildingInfo.cost).reduce((acc, param)=>{\n            let [k, v] = param;\n            return {\n                ...acc,\n                [k]: -v\n            };\n        }, {}));\n        let buildTime = buildingInfo.buildTime * 1000;\n        if (activeBuffs.buildTimeReduction) {\n            buildTime *= 1 - activeBuffs.buildTimeReduction.percentage;\n            addToLog(\"A Builder's Charm reduced construction time by \".concat(activeBuffs.buildTimeReduction.percentage * 100, \"%!\"), \"item\");\n            setActiveBuffs((prev)=>({\n                    ...prev,\n                    buildTimeReduction: prev.buildTimeReduction.uses - 1 > 0 ? {\n                        ...prev.buildTimeReduction,\n                        uses: prev.buildTimeReduction.uses - 1\n                    } : undefined\n                }));\n        }\n        const taskId = \"\".concat(Date.now(), \"-build-\").concat(buildingType);\n        const taskPayload = {\n            buildingType,\n            villagerIds: [\n                villagerId\n            ],\n            position\n        };\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: taskId,\n                type: \"build\",\n                startTime: 0,\n                duration: 0,\n                payload: {\n                    ...taskPayload,\n                    position\n                }\n            });\n        } else {\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: taskId,\n                        type: \"build\",\n                        startTime: Date.now(),\n                        duration: buildTime,\n                        payload: taskPayload\n                    }\n                ]);\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>v.id === villagerId ? {\n                            ...v,\n                            currentTask: taskId\n                        } : v)\n                }));\n            setActivityStatus(\"\".concat(builder.name, \" has started constructing a \").concat(buildingInfo.name, \".\"));\n            addToLog(\"\".concat(builder.name, \" began construction of a new \").concat(buildingInfo.name, \".\"), buildingInfo.iconId);\n        }\n        setPlayerAction(null);\n    };\n    const handleCancelPlayerAction = ()=>{\n        setPlayerAction(null);\n        setActivityStatus(\"Command cancelled.\");\n    };\n    const handleDemolishBuilding = (type, id)=>{\n        var _buildings_townCenter;\n        if (type === \"townCenter\") {\n            addNotification(\"The Town Center is the heart of your civilization and cannot be demolished.\");\n            return;\n        }\n        if (activeTasks.some((t)=>{\n            var _t_payload;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.buildingId) === id;\n        })) {\n            addNotification(\"Cannot demolish a building with an active task.\");\n            return;\n        }\n        const buildingInfo = buildingList.find((b)=>b.id === type);\n        const buildingInstance = buildings[type].find((b)=>b.id === id);\n        if (!buildingInfo || !buildingInstance) return;\n        if (type === \"houses\" && population.current > (((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter.length) > 0 ? 20 : 0) + (buildings.houses.length - 1) * 5) {\n            addNotification(\"Cannot demolish this house, your people would be homeless.\");\n            return;\n        }\n        const refund = Object.entries(buildingInfo.cost).reduce((acc, param)=>{\n            let [res, cost] = param;\n            const amount = Math.floor((cost || 0) * 0.5);\n            if (amount > 0) acc[res] = amount;\n            return acc;\n        }, {});\n        if (Object.keys(refund).length > 0) {\n            updateResources(refund);\n            addNotification(\"Salvaged \".concat(Object.entries(refund).map((param)=>{\n                let [r, a] = param;\n                return \"\".concat(a, \" \").concat(r);\n            }).join(\", \"), \".\"));\n        }\n        setBuildings((prev)=>({\n                ...prev,\n                [type]: prev[type].filter((b)=>b.id !== id)\n            }));\n        addToLog(\"\".concat(buildingInstance.name, \" (\").concat(buildingInfo.name, \") was demolished.\"), buildingInfo.iconId);\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            instanceId: null,\n            anchorRect: null\n        });\n    };\n    const handleUpdateBuilding = (type, id, name)=>{\n        setBuildings((prev)=>({\n                ...prev,\n                [type]: prev[type].map((b)=>b.id === id ? {\n                        ...b,\n                        name\n                    } : b)\n            }));\n        addNotification(\"Building renamed.\");\n    };\n    const handleTrainVillagers = (count)=>{\n        var _buildings_townCenter;\n        if (activeTasks.some((t)=>t.type === \"train_villager\") || count <= 0) return;\n        if (population.current + count > population.capacity) {\n            addNotification(\"Need space for \".concat(count, \" more villagers.\"));\n            return;\n        }\n        if (!((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter[0])) {\n            addNotification(\"No Town Center to train villagers.\");\n            return;\n        }\n        if (!unlimitedResources) {\n            const totalCost = 50 * count;\n            if (resources.food < totalCost) {\n                addNotification(\"Need \".concat(totalCost - resources.food, \" more Food.\"));\n                return;\n            }\n            updateResources({\n                food: -totalCost\n            });\n        }\n        if (unlimitedResources) handleTaskCompletion({\n            id: \"instant\",\n            type: \"train_villager\",\n            startTime: 0,\n            duration: 0,\n            payload: {\n                count\n            }\n        });\n        else {\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: \"\".concat(Date.now(), \"-train-villager\"),\n                        type: \"train_villager\",\n                        startTime: Date.now(),\n                        duration: 10000 * count,\n                        payload: {\n                            count,\n                            buildingId: buildings.townCenter[0].id\n                        }\n                    }\n                ]);\n            setActivityStatus(\"Training \".concat(count, \" villager(s)...\"));\n            addToLog(\"Began training \".concat(count, \" new villager(s).\"), \"villager\");\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            instanceId: null,\n            anchorRect: null\n        });\n    };\n    const handleTrainUnits = (unitType, count)=>{\n        var _buildings_unitInfo_requiredBuilding;\n        const unitInfo = unitList.find((u)=>u.id === unitType);\n        if (!unitInfo || activeTasks.some((t)=>{\n            var _t_payload;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.unitType) === unitType;\n        }) || count <= 0) return;\n        if (population.current + count > population.capacity) {\n            addNotification(\"Need space for \".concat(count, \" more units.\"));\n            return;\n        }\n        const trainingBuilding = (_buildings_unitInfo_requiredBuilding = buildings[unitInfo.requiredBuilding]) === null || _buildings_unitInfo_requiredBuilding === void 0 ? void 0 : _buildings_unitInfo_requiredBuilding[0];\n        if (!trainingBuilding) {\n            var _buildingList_find;\n            addNotification(\"No \".concat((_buildingList_find = buildingList.find((b)=>b.id === unitInfo.requiredBuilding)) === null || _buildingList_find === void 0 ? void 0 : _buildingList_find.name, \" to train units.\"));\n            return;\n        }\n        if (!unlimitedResources) {\n            const missing = Object.keys(unitInfo.cost).filter((res)=>resources[res] < (unitInfo.cost[res] || 0) * count);\n            if (missing.length > 0) {\n                addNotification(\"Need more \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n            updateResources(Object.entries(unitInfo.cost).reduce((acc, param)=>{\n                let [k, v] = param;\n                return {\n                    ...acc,\n                    [k]: -(v || 0) * count\n                };\n            }, {}));\n        }\n        let trainTime = unitInfo.trainTime * 1000 * count;\n        if (activeBuffs.permanentTrainTimeReduction) trainTime *= 1 - activeBuffs.permanentTrainTimeReduction;\n        if (activeBuffs.trainTimeReduction) {\n            const applicable = Math.min(count, activeBuffs.trainTimeReduction.uses);\n            trainTime = unitInfo.trainTime * 1000 * applicable * (1 - activeBuffs.trainTimeReduction.percentage) + unitInfo.trainTime * 1000 * (count - applicable);\n            if (activeBuffs.trainTimeReduction.uses - applicable > 0) setActiveBuffs((prev)=>({\n                    ...prev,\n                    trainTimeReduction: {\n                        ...prev.trainTimeReduction,\n                        uses: prev.trainTimeReduction.uses - applicable\n                    }\n                }));\n            else {\n                setActiveBuffs((prev)=>({\n                        ...prev,\n                        trainTimeReduction: undefined\n                    }));\n                addToLog(\"The Drillmaster's Whistle buff has been fully used.\", \"item\");\n            }\n        }\n        if (unlimitedResources) handleTaskCompletion({\n            id: \"instant\",\n            type: \"train_military\",\n            startTime: 0,\n            duration: 0,\n            payload: {\n                unitType,\n                count\n            }\n        });\n        else {\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: \"\".concat(Date.now(), \"-train-\").concat(unitType),\n                        type: \"train_military\",\n                        startTime: Date.now(),\n                        duration: trainTime,\n                        payload: {\n                            unitType,\n                            count,\n                            buildingId: trainingBuilding.id\n                        }\n                    }\n                ]);\n            setActivityStatus(\"Training \".concat(count, \" \").concat(unitInfo.name, \"(s)...\"));\n            addToLog(\"Began training \".concat(count, \" new \").concat(unitInfo.name, \"(s).\"), unitType);\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            instanceId: null,\n            anchorRect: null\n        });\n    };\n    const handleDismissSpecificUnit = (type, id)=>{\n        if (type === \"villagers\" && isVillagerBusy(id)) {\n            addNotification(\"Cannot dismiss a busy villager.\");\n            return;\n        }\n        const unit = units[type].find((u)=>u.id === id);\n        if (!unit) return;\n        if (type === \"villagers\" && units.villagers.length <= 1) {\n            addNotification(\"Cannot dismiss your last villager.\");\n            return;\n        }\n        setUnits((prev)=>({\n                ...prev,\n                [type]: prev[type].filter((u)=>u.id !== id)\n            }));\n        const unitTypeName = type === \"villagers\" ? \"villager\" : unit.unitType;\n        addToLog(\"\".concat(unit.name, \" the \").concat(unitTypeName, \" has been dismissed.\"), type === \"villagers\" ? \"villager\" : unit.unitType);\n        addNotification(\"\".concat(unit.name, \" was dismissed.\"));\n    };\n    const handleUpdateUnit = (type, id, name, title)=>{\n        setUnits((prev)=>({\n                ...prev,\n                [type]: prev[type].map((u)=>u.id === id ? type === \"military\" && title !== undefined ? {\n                        ...u,\n                        name,\n                        title\n                    } : {\n                        ...u,\n                        name\n                    } : u)\n            }));\n        addNotification(\"Unit updated.\");\n    };\n    const handleAssignVillagersToConstruction = (constructionId, count)=>{\n        var _task_payload_villagerIds, _task_payload, _task_payload_villagerIds1, _task_payload1;\n        const idleVillagers = units.villagers.filter((v)=>!v.currentTask);\n        if (count <= 0 || idleVillagers.length === 0) {\n            addNotification(\"No idle villagers available.\");\n            return;\n        }\n        const task = activeTasks.find((t)=>t.id === constructionId);\n        if (!task || task.type !== \"build\") return;\n        const buildingInfo = buildingList.find((b)=>{\n            var _task_payload;\n            return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n        });\n        if (!buildingInfo) return;\n        const cappedCount = Math.min(count, idleVillagers.length);\n        const villagersToAssign = idleVillagers.slice(0, cappedCount).map((v)=>v.id);\n        const workDone = (Date.now() - task.startTime) * (((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 1);\n        const workRemaining = Math.max(0, buildingInfo.buildTime * 1000 - workDone);\n        const newWorkerCount = (((_task_payload1 = task.payload) === null || _task_payload1 === void 0 ? void 0 : (_task_payload_villagerIds1 = _task_payload1.villagerIds) === null || _task_payload_villagerIds1 === void 0 ? void 0 : _task_payload_villagerIds1.length) || 0) + cappedCount;\n        const newRemainingDuration = workRemaining / newWorkerCount;\n        setUnits((prev)=>({\n                ...prev,\n                villagers: prev.villagers.map((v)=>villagersToAssign.includes(v.id) ? {\n                        ...v,\n                        currentTask: constructionId\n                    } : v)\n            }));\n        setActiveTasks((prev)=>prev.map((t)=>t.id === constructionId ? {\n                    ...t,\n                    startTime: Date.now(),\n                    duration: newRemainingDuration,\n                    payload: {\n                        ...t.payload,\n                        villagerIds: [\n                            ...t.payload.villagerIds,\n                            ...villagersToAssign\n                        ]\n                    }\n                } : t));\n        addToLog(\"\".concat(cappedCount, \" villager(s) are now assisting with the \").concat(buildingInfo.name, \".\"), buildingInfo.iconId);\n        setActivityStatus(\"Construction of the \".concat(buildingInfo.name, \" is now faster.\"));\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleAssignVillagers = (targetId, count)=>{\n        if (assignmentPanelState.targetType === \"construction\") return handleAssignVillagersToConstruction(targetId, count);\n        const idleVillagers = units.villagers.filter((v)=>!v.currentTask);\n        if (count <= 0 || idleVillagers.length === 0) {\n            addNotification(\"No idle villagers available.\");\n            return;\n        }\n        const targetNode = resourceNodes.find((n)=>n.id === targetId);\n        if (!targetNode) return;\n        const cappedCount = Math.min(count, idleVillagers.length);\n        const villagersToAssign = idleVillagers.slice(0, cappedCount).map((v)=>v.id);\n        const taskId = \"gather-\".concat(targetId);\n        const existingTask = activeTasks.find((t)=>t.id === taskId);\n        if (unlimitedResources) {\n            updateResources({\n                [targetNode.type]: targetNode.amount\n            });\n            addToLog(\"\".concat(cappedCount, \" villager(s) instantly gathered \").concat(Math.floor(targetNode.amount), \" \").concat(targetNode.type, \".\"), targetNode.type);\n            setResourceNodes((prev)=>prev.filter((n)=>n.id !== targetId));\n        } else {\n            if (existingTask) setActiveTasks((prev)=>prev.map((t)=>t.id === taskId ? {\n                        ...t,\n                        payload: {\n                            ...t.payload,\n                            villagerIds: [\n                                ...new Set([\n                                    ...t.payload.villagerIds,\n                                    ...villagersToAssign\n                                ])\n                            ]\n                        }\n                    } : t));\n            else setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: taskId,\n                        type: \"gather\",\n                        startTime: Date.now(),\n                        duration: 999999999,\n                        payload: {\n                            resourceNodeId: targetId,\n                            villagerIds: villagersToAssign\n                        }\n                    }\n                ]);\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>villagersToAssign.includes(v.id) ? {\n                            ...v,\n                            currentTask: taskId\n                        } : v)\n                }));\n        }\n        addToLog(\"\".concat(cappedCount, \" villager(s) assigned to gather \").concat(targetNode.type, \".\"), targetNode.type);\n        setActivityStatus(\"\".concat(cappedCount, \" villager(s) are now gathering \").concat(targetNode.type, \".\"));\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleRecallVillagers = (targetId, count, type)=>{\n        var _task_payload_villagerIds, _task_payload;\n        const task = activeTasks.find((t)=>t.id === targetId);\n        var _task_payload_villagerIds_length;\n        if (!task || ((_task_payload_villagerIds_length = (_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) !== null && _task_payload_villagerIds_length !== void 0 ? _task_payload_villagerIds_length : 0) < count) return;\n        const villagersToRecall = task.payload.villagerIds.slice(task.payload.villagerIds.length - count);\n        if (type === \"construction\" && villagersToRecall.length === task.payload.villagerIds.length) {\n            addNotification(\"Cannot recall the last builder from a project.\");\n            return;\n        }\n        setUnits((prev)=>({\n                ...prev,\n                villagers: prev.villagers.map((v)=>villagersToRecall.includes(v.id) ? {\n                        ...v,\n                        currentTask: null\n                    } : v)\n            }));\n        const remainingVillagers = task.payload.villagerIds.filter((id)=>!villagersToRecall.includes(id));\n        if (remainingVillagers.length === 0) {\n            setActiveTasks((prev)=>prev.filter((t)=>t.id !== targetId));\n            const node = resourceNodes.find((n)=>n.id === targetId);\n            if (node) addToLog(\"All villagers recalled from gathering \".concat(node.type, \".\"), \"villager\");\n        } else {\n            const buildingInfo = buildingList.find((b)=>{\n                var _task_payload;\n                return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n            });\n            const workDone = (Date.now() - task.startTime) * task.payload.villagerIds.length;\n            const newRemainingDuration = (buildingInfo.buildTime * 1000 - workDone) / remainingVillagers.length;\n            setActiveTasks((prev)=>prev.map((t)=>t.id === targetId ? {\n                        ...t,\n                        startTime: Date.now(),\n                        duration: newRemainingDuration,\n                        payload: {\n                            ...t.payload,\n                            villagerIds: remainingVillagers\n                        }\n                    } : t));\n            if (type === \"construction\") addToLog(\"\".concat(count, \" builder(s) recalled. Construction will now be slower.\"), \"villager\");\n        }\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleAdvanceAge = async ()=>{\n        if (activeTasks.some((t)=>t.type === \"advance_age\")) {\n            addNotification(\"Advancement already in progress.\");\n            return;\n        }\n        if (!unlimitedResources) {\n            const missing = [];\n            if (resources.food < 500) missing.push(\"\".concat(500 - resources.food, \" Food\"));\n            if (resources.gold < 200) missing.push(\"\".concat(200 - resources.gold, \" Gold\"));\n            if (missing.length > 0) {\n                addNotification(\"To advance, you need \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n            updateResources({\n                food: -500,\n                gold: -200\n            });\n        }\n        const activeAges = masterAgeList.filter((a)=>a.isActive);\n        const currentIndex = activeAges.findIndex((age)=>age.name === currentAge);\n        if (currentIndex === -1 || currentIndex + 1 >= activeAges.length) {\n            addNotification(\"You have reached the final available age.\");\n            return;\n        }\n        if (unlimitedResources) handleTaskCompletion({\n            id: \"instant\",\n            type: \"advance_age\",\n            startTime: 0,\n            duration: 0,\n            payload: {}\n        });\n        else {\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    {\n                        id: \"\".concat(Date.now(), \"-advance_age\"),\n                        type: \"advance_age\",\n                        startTime: Date.now(),\n                        duration: 60000\n                    }\n                ]);\n            setActivityStatus(\"Your people begin the long journey to a new age.\");\n            setBuildingManagementPanel({\n                isOpen: false,\n                type: null,\n                instanceId: null,\n                anchorRect: null\n            });\n        }\n    };\n    const handleExitGame = async ()=>{\n        setCurrentSaveName(null);\n        await fetchSavesAndConfigs();\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU);\n    };\n    const handleDeleteGame = async (saveName)=>{\n        await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.deleteGameState)(saveName);\n        await fetchSavesAndConfigs();\n        addNotification('Deleted saga: \"'.concat(saveName, '\"'));\n    };\n    const handleToggleUnlimitedResources = ()=>{\n        const newMode = !unlimitedResources;\n        setUnlimitedResources(newMode);\n        if (newMode) {\n            setResources({\n                food: 99999,\n                wood: 99999,\n                gold: 99999,\n                stone: 99999\n            });\n            addNotification(\"Test Mode: ON - All active tasks completed.\");\n            const depletedNodeIds = new Set();\n            activeTasks.forEach((task)=>{\n                var _task_payload;\n                if (task.type === \"gather\" && ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.resourceNodeId)) {\n                    depletedNodeIds.add(task.payload.resourceNodeId);\n                    const node = resourceNodes.find((n)=>n.id === task.payload.resourceNodeId);\n                    if (node) addToLog(\"Instantly gathered all \".concat(node.type, \" from a depleted source.\"), node.type);\n                }\n                handleTaskCompletion(task);\n            });\n            setActiveTasks([]);\n            if (depletedNodeIds.size > 0) setResourceNodes((prev)=>prev.filter((n)=>!depletedNodeIds.has(n.id)));\n        } else addNotification(\"Test Mode: OFF\");\n    };\n    const handleUseItem = (itemId)=>{\n        const item = inventory.find((i)=>i.id === itemId);\n        if (!item) return;\n        const baseItemId = item.id.split(\"-\")[0];\n        const constructionTasks = activeTasks.filter((t)=>t.type === \"build\");\n        switch(baseItemId){\n            case \"scroll_of_haste\":\n            case \"blueprint_of_the_master\":\n                if (constructionTasks.length > 0) {\n                    var _buildingList_find;\n                    const task = constructionTasks.sort((a, b)=>b.startTime + b.duration - (a.startTime + a.duration))[0];\n                    setActiveTasks((p)=>p.map((t)=>t.id === task.id ? {\n                                ...t,\n                                duration: Math.max(0, t.duration - (baseItemId === \"scroll_of_haste\" ? 15000 : 60000))\n                            } : t));\n                    addToLog(\"Used \".concat(item.name, \" on the \").concat((_buildingList_find = buildingList.find((b)=>{\n                        var _task_payload;\n                        return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n                    })) === null || _buildingList_find === void 0 ? void 0 : _buildingList_find.name, \".\"), \"item\");\n                }\n                break;\n            case \"hearty_meal\":\n                updateResources({\n                    food: 75\n                });\n                addToLog(\"Used \".concat(item.name, \" to gain 75 food.\"), \"item\");\n                break;\n            case \"builders_charm\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        buildTimeReduction: {\n                            percentage: 0.1,\n                            uses: 1\n                        }\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Next building is 10% faster.\"), \"item\");\n                break;\n            case \"drillmasters_whistle\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        trainTimeReduction: {\n                            percentage: 0.25,\n                            uses: 5\n                        }\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Next 5 units train 25% faster.\"), \"item\");\n                break;\n            case \"golden_harvest\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        resourceBoost: [\n                            ...p.resourceBoost || [],\n                            {\n                                resource: \"food\",\n                                multiplier: 1.5,\n                                endTime: Date.now() + 60000\n                            }\n                        ]\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Food gathering boosted by 50% for 60s.\"), \"item\");\n                break;\n            case \"shard_of_the_ancients\":\n                if (constructionTasks.length > 0) {\n                    var _buildingList_find1;\n                    const task = constructionTasks.sort((a, b)=>b.startTime + b.duration - (a.startTime + a.duration))[0];\n                    setActiveTasks((p)=>p.filter((t)=>t.id !== task.id));\n                    handleTaskCompletion(task);\n                    addToLog(\"Used \".concat(item.name, \" to instantly complete the \").concat((_buildingList_find1 = buildingList.find((b)=>{\n                        var _task_payload;\n                        return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n                    })) === null || _buildingList_find1 === void 0 ? void 0 : _buildingList_find1.name, \".\"), \"item\");\n                }\n                break;\n            case \"heart_of_the_mountain\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        resourceBoost: [\n                            ...p.resourceBoost || [],\n                            {\n                                resource: \"gold\",\n                                multiplier: 2,\n                                endTime: Date.now() + 120000\n                            },\n                            {\n                                resource: \"stone\",\n                                multiplier: 2,\n                                endTime: Date.now() + 120000\n                            }\n                        ]\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Gold and Stone gathering doubled for 2 minutes.\"), \"item\");\n                break;\n            case \"banner_of_command\":\n                setActiveBuffs((p)=>({\n                        ...p,\n                        permanentTrainTimeReduction: (p.permanentTrainTimeReduction || 0) + 0.05\n                    }));\n                addToLog(\"Used \".concat(item.name, \". Military units train 5% faster, permanently.\"), \"item\");\n                break;\n            case \"whisper_of_the_creator\":\n                const tasks = [\n                    ...activeTasks\n                ];\n                setActiveTasks([]);\n                tasks.forEach(handleTaskCompletion);\n                addToLog(\"A divine whisper echoes, and all work is instantly finished.\", \"item\");\n                break;\n        }\n        setInventory((prev)=>prev.filter((i)=>i.id !== itemId));\n        setInventoryPanelState({\n            isOpen: false,\n            anchorRect: null\n        });\n    };\n    const buildingCounts = buildingList.reduce((acc, b)=>{\n        var _buildings_b_id;\n        acc[b.id] = ((_buildings_b_id = buildings[b.id]) === null || _buildings_b_id === void 0 ? void 0 : _buildings_b_id.length) || 0;\n        return acc;\n    }, {});\n    const idleVillagerCount = units.villagers.filter((v)=>!v.currentTask).length;\n    const assignmentTarget = assignmentPanelState.targetType === \"resource\" ? resourceNodes.find((n)=>n.id === assignmentPanelState.targetId) : activeTasks.find((t)=>t.type === \"build\" && t.id === assignmentPanelState.targetId);\n    const currentAgeIndex = ageProgressionList.findIndex((a)=>a.name === currentAge);\n    const availableBuildings = buildingList.filter((b)=>{\n        const unlockAgeIndex = ageProgressionList.findIndex((a)=>a.name === b.unlockedInAge);\n        return b.isActive && unlockAgeIndex !== -1 && unlockAgeIndex <= currentAgeIndex;\n    });\n    const activeUnits = unitList.filter((u)=>u.isActive);\n    const closeAllPanels = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setUnitManagementPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                type: null,\n                anchorRect: null\n            } : p);\n        setBuildingManagementPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                type: null,\n                instanceId: null,\n                anchorRect: null\n            } : p);\n        setBuildPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                villagerId: null,\n                anchorRect: null\n            } : p);\n        setAssignmentPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                targetId: null,\n                targetType: null,\n                anchorRect: null\n            } : p);\n        setCivPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n        setAllBuildingsPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n        setInventoryPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n    }, []);\n    const handleOpenBuildingPanel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((type, instanceId, rect)=>{\n        closeAllPanels();\n        setBuildingManagementPanel({\n            isOpen: true,\n            type,\n            instanceId,\n            anchorRect: rect\n        });\n    }, [\n        closeAllPanels\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClickOutside = (event)=>{\n            const target = event.target;\n            if (!target.closest(\".sci-fi-panel-popup\")) closeAllPanels();\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>document.removeEventListener(\"mousedown\", handleClickOutside);\n    }, [\n        closeAllPanels\n    ]);\n    const renderContent = ()=>{\n        switch(gameState){\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StartScreen__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                    onNewGame: handleStartNewGame,\n                    onResumeGame: handleResumeGame,\n                    savedGames: allSaves,\n                    onDeleteGame: handleDeleteGame\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 793,\n                    columnNumber: 42\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 794,\n                    columnNumber: 45\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING:\n                if (!civilization) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 796,\n                    columnNumber: 43\n                }, undefined);\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_GameUI__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                            civilization: civilization,\n                            resources: resources,\n                            units: units,\n                            buildings: buildings,\n                            population: population,\n                            currentAge: currentAge,\n                            gameLog: gameLog,\n                            resourceDeltas: resourceDeltas,\n                            activityStatus: activityStatus,\n                            unitList: activeUnits,\n                            buildingList: buildingList,\n                            onOpenUnitPanel: (type, rect)=>{\n                                closeAllPanels();\n                                setUnitManagementPanel({\n                                    isOpen: true,\n                                    type,\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenBuildingPanel: handleOpenBuildingPanel,\n                            onOpenAllBuildingsPanel: (rect)=>{\n                                closeAllPanels();\n                                setAllBuildingsPanel({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            playerAction: playerAction,\n                            onConfirmPlacement: handleConfirmPlacement,\n                            onCancelPlayerAction: handleCancelPlayerAction,\n                            onBuildingClick: (building, rect)=>{\n                                closeAllPanels();\n                                const type = Object.keys(buildings).find((key)=>{\n                                    var _buildings_key;\n                                    return (_buildings_key = buildings[key]) === null || _buildings_key === void 0 ? void 0 : _buildings_key.some((b)=>b.id === building.id);\n                                });\n                                if (type) setBuildingManagementPanel({\n                                    isOpen: true,\n                                    type,\n                                    instanceId: building.id,\n                                    anchorRect: rect\n                                });\n                            },\n                            mapDimensions: MAP_DIMENSIONS,\n                            activeTasks: activeTasks,\n                            onExitGame: handleExitGame,\n                            onOpenCivPanel: (rect)=>{\n                                closeAllPanels();\n                                setCivPanelState({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            resourceNodes: resourceNodes,\n                            onOpenAssignmentPanel: (nodeId, rect)=>{\n                                closeAllPanels();\n                                setAssignmentPanelState({\n                                    isOpen: true,\n                                    targetId: nodeId,\n                                    targetType: \"resource\",\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenConstructionPanel: (constructionId, rect)=>{\n                                closeAllPanels();\n                                setAssignmentPanelState({\n                                    isOpen: true,\n                                    targetId: constructionId,\n                                    targetType: \"construction\",\n                                    anchorRect: rect\n                                });\n                            },\n                            gatherInfo: GATHER_INFO,\n                            currentEvent: currentEvent,\n                            onEventChoice: handleEventChoice,\n                            inventory: inventory,\n                            onOpenInventoryPanel: (rect)=>{\n                                closeAllPanels();\n                                setInventoryPanelState({\n                                    isOpen: true,\n                                    anchorRect: null\n                                });\n                            }\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 799,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BuildPanel__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                            isOpen: buildPanelState.isOpen,\n                            onClose: ()=>setBuildPanelState({\n                                    isOpen: false,\n                                    villagerId: null,\n                                    anchorRect: null\n                                }),\n                            onStartPlacement: handleStartPlacement,\n                            resources: resources,\n                            buildingCounts: buildingCounts,\n                            buildingList: availableBuildings,\n                            anchorRect: buildPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 814,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_UnitManagementPanel__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                            isOpen: unitManagementPanel.isOpen,\n                            onClose: ()=>setUnitManagementPanel({\n                                    isOpen: false,\n                                    type: null,\n                                    anchorRect: null\n                                }),\n                            type: unitManagementPanel.type,\n                            units: units,\n                            onUpdateUnit: handleUpdateUnit,\n                            onDismissUnit: handleDismissSpecificUnit,\n                            onInitiateBuild: (villagerId, rect)=>{\n                                closeAllPanels();\n                                handleInitiateBuild(villagerId, rect);\n                            },\n                            getVillagerTaskDetails: getVillagerTaskDetails,\n                            anchorRect: unitManagementPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 815,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BuildingManagementPanel__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                            isOpen: buildingManagementPanel.isOpen,\n                            onClose: ()=>setBuildingManagementPanel({\n                                    isOpen: false,\n                                    type: null,\n                                    anchorRect: null\n                                }),\n                            panelState: buildingManagementPanel,\n                            buildings: buildings,\n                            buildingList: buildingList,\n                            onUpdateBuilding: handleUpdateBuilding,\n                            onDemolishBuilding: handleDemolishBuilding,\n                            onTrainUnits: handleTrainUnits,\n                            onTrainVillagers: handleTrainVillagers,\n                            resources: resources,\n                            population: population,\n                            unitList: activeUnits,\n                            onAdvanceAge: handleAdvanceAge,\n                            activeTasks: activeTasks,\n                            anchorRect: buildingManagementPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 816,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ResourceAssignmentPanel__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                            isOpen: assignmentPanelState.isOpen,\n                            onClose: ()=>setAssignmentPanelState({\n                                    isOpen: false,\n                                    targetId: null,\n                                    targetType: null,\n                                    anchorRect: null\n                                }),\n                            assignmentTarget: assignmentTarget || null,\n                            idleVillagerCount: idleVillagerCount,\n                            onAssignVillagers: handleAssignVillagers,\n                            onRecallVillagers: handleRecallVillagers,\n                            gatherInfo: GATHER_INFO,\n                            buildingList: buildingList,\n                            units: units,\n                            anchorRect: assignmentPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 817,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CivilizationPanel__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                            isOpen: civPanelState.isOpen,\n                            onClose: ()=>setCivPanelState({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            civilization: civilization,\n                            anchorRect: civPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 818,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AllBuildingsPanel__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                            isOpen: allBuildingsPanel.isOpen,\n                            onClose: ()=>setAllBuildingsPanel({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            buildingList: buildingList,\n                            buildingCounts: buildingCounts,\n                            activeTasks: activeTasks,\n                            onOpenBuildingPanel: handleOpenBuildingPanel,\n                            anchorRect: allBuildingsPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 819,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_InventoryPanel__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                            isOpen: inventoryPanelState.isOpen,\n                            onClose: ()=>setInventoryPanelState({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            inventory: inventory,\n                            onUseItem: handleUseItem,\n                            activeTasks: activeTasks,\n                            activeBuffs: activeBuffs,\n                            anchorRect: inventoryPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 820,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true);\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StartScreen__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                    onNewGame: handleStartNewGame,\n                    onResumeGame: handleResumeGame,\n                    savedGames: allSaves,\n                    onDeleteGame: handleDeleteGame\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 823,\n                    columnNumber: 29\n                }, undefined);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-stone-dark flex items-center justify-center p-4\",\n        children: [\n            gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handleToggleUnlimitedResources,\n                className: \"fixed bottom-4 left-4 z-[101] bg-brand-gold text-stone-dark font-bold py-1 px-3 rounded-full text-xs shadow-lg hover:scale-105 transition-transform\",\n                \"aria-label\": \"Toggle unlimited resources test mode\",\n                children: [\n                    \"Test Mode: \",\n                    unlimitedResources ? \"ON\" : \"OFF\"\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 830,\n                columnNumber: 18\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_NotificationManager__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                notifications: notifications,\n                onRemoveNotification: removeNotification\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 832,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"w-full max-w-7xl mx-auto\",\n                children: renderContent()\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 833,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/src/app/page.tsx\",\n        lineNumber: 828,\n        columnNumber: 9\n    }, undefined);\n};\n_s(GamePage, \"EnsWqFty3fpB4v5zgW3frbarX5Q=\");\n_c = GamePage;\n/* harmony default export */ __webpack_exports__[\"default\"] = (GamePage);\nvar _c;\n$RefreshReg$(_c, \"GamePage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2FwcC9wYWdlLnRzeD9mNjhhIl0sInNvdXJjZXNDb250ZW50IjpbIlxuXG4ndXNlIGNsaWVudCc7XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgR2FtZVN0YXR1cywgdHlwZSBDaXZpbGl6YXRpb24sIHR5cGUgUmVzb3VyY2VzLCB0eXBlIFVuaXRzLCB0eXBlIEJ1aWxkaW5ncywgdHlwZSBHYW1lRXZlbnQsIHR5cGUgR2FtZUxvZ0VudHJ5LCB0eXBlIExvZ0ljb25UeXBlLCB0eXBlIFJlc291cmNlRGVsdGFzLCBCdWlsZGluZ1R5cGUsIFVJTm90aWZpY2F0aW9uLCBGdWxsR2FtZVN0YXRlLCBWaWxsYWdlciwgTWlsaXRhcnlVbml0LCBVbml0Q29uZmlnLCBNaWxpdGFyeVVuaXRUeXBlLCBHYW1lVGFzaywgVGFza1R5cGUsIFJlc291cmNlTm9kZSwgUmVzb3VyY2VOb2RlVHlwZSwgUGxheWVyQWN0aW9uU3RhdGUsIEdhbWVFdmVudENob2ljZSwgR2FtZUl0ZW0sIFJld2FyZCwgQWN0aXZlQnVmZnMsIEJ1aWxkaW5nSW5zdGFuY2UsIEFnZUNvbmZpZywgQnVpbGRpbmdDb25maWcgfSBmcm9tICdAL3R5cGVzJztcbmltcG9ydCB7IGdldFByZWRlZmluZWRDaXZpbGl6YXRpb24sIGdldFByZWRlZmluZWRHYW1lRXZlbnQgfSBmcm9tICdAL3NlcnZpY2VzL2dlbWluaVNlcnZpY2UnO1xuaW1wb3J0IHsgc2F2ZUdhbWVTdGF0ZSwgbG9hZEdhbWVTdGF0ZSwgZ2V0QWxsU2F2ZU5hbWVzLCBkZWxldGVHYW1lU3RhdGUsIGdldEFsbEFnZUNvbmZpZ3MsIGdldEFsbEJ1aWxkaW5nQ29uZmlncywgZ2V0QWxsVW5pdENvbmZpZ3MgfSBmcm9tICdAL3NlcnZpY2VzL2RiU2VydmljZSc7XG5pbXBvcnQgeyBnZXRSYW5kb21OYW1lcyB9IGZyb20gJ0Avc2VydmljZXMvbmFtZVNlcnZpY2UnO1xuaW1wb3J0IHsgR0FNRV9JVEVNUyB9IGZyb20gJ0AvZGF0YS9pdGVtQ29udGVudCc7XG5pbXBvcnQgR2FtZVVJIGZyb20gJ0AvY29tcG9uZW50cy9HYW1lVUknO1xuaW1wb3J0IFN0YXJ0U2NyZWVuIGZyb20gJ0AvY29tcG9uZW50cy9TdGFydFNjcmVlbic7XG5pbXBvcnQgTG9hZGluZ1NjcmVlbiBmcm9tICdAL2NvbXBvbmVudHMvTG9hZGluZ1NjcmVlbic7XG5pbXBvcnQgQnVpbGRQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvQnVpbGRQYW5lbCc7XG5pbXBvcnQgTm90aWZpY2F0aW9uTWFuYWdlciBmcm9tICdAL2NvbXBvbmVudHMvTm90aWZpY2F0aW9uTWFuYWdlcic7XG5pbXBvcnQgVW5pdE1hbmFnZW1lbnRQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvVW5pdE1hbmFnZW1lbnRQYW5lbCc7XG5pbXBvcnQgQnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL0J1aWxkaW5nTWFuYWdlbWVudFBhbmVsJztcbmltcG9ydCBSZXNvdXJjZUFzc2lnbm1lbnRQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvUmVzb3VyY2VBc3NpZ25tZW50UGFuZWwnO1xuaW1wb3J0IENpdmlsaXphdGlvblBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9DaXZpbGl6YXRpb25QYW5lbCc7XG5pbXBvcnQgQWxsQnVpbGRpbmdzUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL0FsbEJ1aWxkaW5nc1BhbmVsJztcbmltcG9ydCBJbnZlbnRvcnlQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvSW52ZW50b3J5UGFuZWwnO1xuXG5jb25zdCBHQVRIRVJfSU5GTzogUmVjb3JkPFJlc291cmNlTm9kZVR5cGUsIHsgcmF0ZTogbnVtYmVyIH0+ID0ge1xuICAgIGZvb2Q6IHsgcmF0ZTogMTAgfSxcbiAgICB3b29kOiB7IHJhdGU6IDggfSxcbiAgICBnb2xkOiB7IHJhdGU6IDUgfSxcbiAgICBzdG9uZTogeyByYXRlOiA2IH0sXG59XG5cbmNvbnN0IGluaXRpYWxCdWlsZGluZ3NTdGF0ZTogQnVpbGRpbmdzID0ge1xuICAgIGhvdXNlczogW10sIGJhcnJhY2tzOiBbXSwgYXJjaGVyeVJhbmdlOiBbXSwgc3RhYmxlOiBbXSwgc2llZ2VXb3Jrc2hvcDogW10sIGJsYWNrc21pdGg6IFtdLCB3YXRjaFRvd2VyOiBbXSwgdG93bkNlbnRlcjogW11cbn07XG5cbmNvbnN0IE1BUF9ESU1FTlNJT05TID0geyB3aWR0aDogMjUsIGhlaWdodDogMTggfTtcblxuY29uc3QgRkFMTEJBQ0tfQUdFUyA9IFtcbiAgICB7IG5hbWU6ICdOb21hZGljIEFnZScsIGRlc2NyaXB0aW9uOiAnQSBzY2F0dGVyZWQgdHJpYmUsIGxlYXJuaW5nIHRvIHN1cnZpdmUuJyB9LFxuICAgIHsgbmFtZTogJ0ZldWRhbCBBZ2UnLCBkZXNjcmlwdGlvbjogJ1NvY2lldHkgb3JnYW5pemVzIHVuZGVyIGxvcmRzIGFuZCB2YXNzYWxzLicgfSxcbiAgICB7IG5hbWU6ICdDYXN0bGUgQWdlJywgZGVzY3JpcHRpb246ICdQb3dlcmZ1bCBmb3J0aWZpY2F0aW9ucyBhbmQgc2llZ2Ugd2VhcG9ucnkgYXBwZWFyLicgfSxcbiAgICB7IG5hbWU6ICdJbXBlcmlhbCBBZ2UnLCBkZXNjcmlwdGlvbjogJ1lvdXIgY2l2aWxpemF0aW9uIGJlY29tZXMgYSB0cnVlIGVtcGlyZS4nIH0sXG5dO1xuXG5cbmNvbnN0IEdhbWVQYWdlOiBSZWFjdC5GQyA9ICgpID0+IHtcbiAgICBjb25zdCBbZ2FtZVN0YXRlLCBzZXRHYW1lU3RhdGVdID0gdXNlU3RhdGU8R2FtZVN0YXR1cz4oR2FtZVN0YXR1cy5NRU5VKTtcbiAgICBjb25zdCBbY2l2aWxpemF0aW9uLCBzZXRDaXZpbGl6YXRpb25dID0gdXNlU3RhdGU8Q2l2aWxpemF0aW9uIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW3Jlc291cmNlcywgc2V0UmVzb3VyY2VzXSA9IHVzZVN0YXRlPFJlc291cmNlcz4oeyBmb29kOiAyMDAsIHdvb2Q6IDE1MCwgZ29sZDogNTAsIHN0b25lOiAxMDAgfSk7XG4gICAgY29uc3QgW3VuaXRzLCBzZXRVbml0c10gPSB1c2VTdGF0ZTxVbml0cz4oeyB2aWxsYWdlcnM6IFtdLCBtaWxpdGFyeTogW10gfSk7XG4gICAgY29uc3QgW2J1aWxkaW5ncywgc2V0QnVpbGRpbmdzXSA9IHVzZVN0YXRlPEJ1aWxkaW5ncz4oaW5pdGlhbEJ1aWxkaW5nc1N0YXRlKTtcbiAgICBjb25zdCBbY3VycmVudEFnZSwgc2V0Q3VycmVudEFnZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCdOb21hZGljIEFnZScpO1xuICAgIGNvbnN0IFtnYW1lTG9nLCBzZXRHYW1lTG9nXSA9IHVzZVN0YXRlPEdhbWVMb2dFbnRyeVtdPihbXSk7XG4gICAgY29uc3QgW2N1cnJlbnRFdmVudCwgc2V0Q3VycmVudEV2ZW50XSA9IHVzZVN0YXRlPEdhbWVFdmVudCB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFtyZXNvdXJjZURlbHRhcywgc2V0UmVzb3VyY2VEZWx0YXNdID0gdXNlU3RhdGU8UmVzb3VyY2VEZWx0YXM+KHt9KTtcbiAgICBjb25zdCBbYWN0aXZpdHlTdGF0dXMsIHNldEFjdGl2aXR5U3RhdHVzXSA9IHVzZVN0YXRlPHN0cmluZz4oJ1lvdXIgc3RvcnkgYmVnaW5zLi4uJyk7XG4gICAgY29uc3QgW25vdGlmaWNhdGlvbnMsIHNldE5vdGlmaWNhdGlvbnNdID0gdXNlU3RhdGU8VUlOb3RpZmljYXRpb25bXT4oW10pO1xuICAgIGNvbnN0IFt1bmxpbWl0ZWRSZXNvdXJjZXMsIHNldFVubGltaXRlZFJlc291cmNlc10gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gICAgY29uc3QgW2FsbFNhdmVzLCBzZXRBbGxTYXZlc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICAgIGNvbnN0IFtjdXJyZW50U2F2ZU5hbWUsIHNldEN1cnJlbnRTYXZlTmFtZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbcGxheWVyQWN0aW9uLCBzZXRQbGF5ZXJBY3Rpb25dID0gdXNlU3RhdGU8UGxheWVyQWN0aW9uU3RhdGU+KG51bGwpO1xuICAgIGNvbnN0IFthY3RpdmVUYXNrcywgc2V0QWN0aXZlVGFza3NdID0gdXNlU3RhdGU8R2FtZVRhc2tbXT4oW10pO1xuICAgIGNvbnN0IFtyZXNvdXJjZU5vZGVzLCBzZXRSZXNvdXJjZU5vZGVzXSA9IHVzZVN0YXRlPFJlc291cmNlTm9kZVtdPihbXSk7XG4gICAgY29uc3QgW2ludmVudG9yeSwgc2V0SW52ZW50b3J5XSA9IHVzZVN0YXRlPEdhbWVJdGVtW10+KFtdKTtcbiAgICBjb25zdCBbYWN0aXZlQnVmZnMsIHNldEFjdGl2ZUJ1ZmZzXSA9IHVzZVN0YXRlPEFjdGl2ZUJ1ZmZzPih7IHJlc291cmNlQm9vc3Q6IFtdIH0pO1xuICAgIFxuICAgIC8vIE1hc3RlciBsaXN0cyBvZiBhbGwgY29uZmlndXJhdGlvbnMgZnJvbSBEQlxuICAgIGNvbnN0IFttYXN0ZXJBZ2VMaXN0LCBzZXRNYXN0ZXJBZ2VMaXN0XSA9IHVzZVN0YXRlPEFnZUNvbmZpZ1tdPihbXSk7XG4gICAgY29uc3QgW21hc3RlckJ1aWxkaW5nTGlzdCwgc2V0TWFzdGVyQnVpbGRpbmdMaXN0XSA9IHVzZVN0YXRlPEJ1aWxkaW5nQ29uZmlnW10+KFtdKTtcbiAgICBjb25zdCBbbWFzdGVyVW5pdExpc3QsIHNldE1hc3RlclVuaXRMaXN0XSA9IHVzZVN0YXRlPFVuaXRDb25maWdbXT4oW10pO1xuXG4gICAgXG4gICAgLy8gUGFuZWwgU3RhdGVzXG4gICAgY29uc3QgW2J1aWxkUGFuZWxTdGF0ZSwgc2V0QnVpbGRQYW5lbFN0YXRlXSA9IHVzZVN0YXRlPHsgaXNPcGVuOiBib29sZWFuOyB2aWxsYWdlcklkOiBzdHJpbmcgfCBudWxsOyBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbCB9Pih7IGlzT3BlbjogZmFsc2UsIHZpbGxhZ2VySWQ6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgY29uc3QgW3VuaXRNYW5hZ2VtZW50UGFuZWwsIHNldFVuaXRNYW5hZ2VtZW50UGFuZWxdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IHR5cGU6ICd2aWxsYWdlcnMnIHwgJ21pbGl0YXJ5JyB8IG51bGw7IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsOyB9Pih7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgY29uc3QgW2J1aWxkaW5nTWFuYWdlbWVudFBhbmVsLCBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbF0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgdHlwZTogQnVpbGRpbmdUeXBlIHwgc3RyaW5nIHwgbnVsbDsgaW5zdGFuY2VJZD86IHN0cmluZzsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7IH0+KHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgaW5zdGFuY2VJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICBjb25zdCBbYWxsQnVpbGRpbmdzUGFuZWwsIHNldEFsbEJ1aWxkaW5nc1BhbmVsXSA9IHVzZVN0YXRlPHsgaXNPcGVuOiBib29sZWFuOyBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbDsgfT4oeyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIGNvbnN0IFthc3NpZ25tZW50UGFuZWxTdGF0ZSwgc2V0QXNzaWdubWVudFBhbmVsU3RhdGVdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IHRhcmdldElkOiBzdHJpbmcgfCBudWxsOyB0YXJnZXRUeXBlOiAncmVzb3VyY2UnIHwgJ2NvbnN0cnVjdGlvbicgfCBudWxsOyBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbDsgfT4oeyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICBjb25zdCBbY2l2UGFuZWxTdGF0ZSwgc2V0Q2l2UGFuZWxTdGF0ZV0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7IH0+KHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICBjb25zdCBbaW52ZW50b3J5UGFuZWxTdGF0ZSwgc2V0SW52ZW50b3J5UGFuZWxTdGF0ZV0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7IH0+KHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9KTtcblxuICAgIGNvbnN0IGRlbHRhVGltZW91dFJlZiA9IHVzZVJlZjx7IFtrZXkgaW4ga2V5b2YgUmVzb3VyY2VzXT86IG51bWJlciB9Pih7fSk7XG4gICAgY29uc3QgZXZlbnRUaW1lclJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IGxhc3RUaWNrUmVmID0gdXNlUmVmPG51bWJlcj4oRGF0ZS5ub3coKSk7XG4gICAgY29uc3QgYW5pbWF0aW9uRnJhbWVSZWYgPSB1c2VSZWY8bnVtYmVyPigpO1xuICAgIFxuICAgIC8vIERlcml2ZWQgc3RhdGUgZm9yIGFjdGl2ZSBnYW1lIGNvbmZpZ3VyYXRpb25zXG4gICAgY29uc3QgYWdlUHJvZ3Jlc3Npb25MaXN0ID0gbWFzdGVyQWdlTGlzdC5maWx0ZXIoYWdlID0+IGFnZS5pc0FjdGl2ZSk7XG4gICAgY29uc3QgYnVpbGRpbmdMaXN0ID0gbWFzdGVyQnVpbGRpbmdMaXN0OyAvLyBLZWVwIGFsbCBmb3IgbG9va3VwcywgZmlsdGVyIG9uIHVzZVxuICAgIGNvbnN0IHVuaXRMaXN0ID0gbWFzdGVyVW5pdExpc3Q7IC8vIEtlZXAgYWxsIGZvciBsb29rdXBzLCBmaWx0ZXIgb24gdXNlXG5cbiAgICBjb25zdCBwb3B1bGF0aW9uID0ge1xuICAgICAgICBjdXJyZW50OiB1bml0cy52aWxsYWdlcnMubGVuZ3RoICsgdW5pdHMubWlsaXRhcnkubGVuZ3RoLFxuICAgICAgICBjYXBhY2l0eTogKGJ1aWxkaW5ncy50b3duQ2VudGVyPy5sZW5ndGggPiAwID8gMjAgOiAwKSArIChidWlsZGluZ3MuaG91c2VzPy5sZW5ndGggfHwgMCkgKiA1LFxuICAgIH07XG4gICAgXG4gICAgY29uc3QgZmV0Y2hTYXZlc0FuZENvbmZpZ3MgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5hbWVzID0gYXdhaXQgZ2V0QWxsU2F2ZU5hbWVzKCk7XG4gICAgICAgIHNldEFsbFNhdmVzKG5hbWVzKTtcbiAgICAgICAgXG4gICAgICAgIGxldCBhbGxBZ2VDb25maWdzID0gYXdhaXQgZ2V0QWxsQWdlQ29uZmlncygpO1xuICAgICAgICBpZiAoYWxsQWdlQ29uZmlncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGFsbEFnZUNvbmZpZ3MgPSBGQUxMQkFDS19BR0VTLm1hcCgoYSwgaSkgPT4gKHsuLi5hLCBpZDogYS5uYW1lLCBpc0FjdGl2ZTogdHJ1ZSwgaXNQcmVkZWZpbmVkOiB0cnVlLCBvcmRlcjogaX0pKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRNYXN0ZXJBZ2VMaXN0KGFsbEFnZUNvbmZpZ3MpO1xuXG4gICAgICAgIGNvbnN0IGFsbEJ1aWxkaW5nQ29uZmlncyA9IGF3YWl0IGdldEFsbEJ1aWxkaW5nQ29uZmlncygpO1xuICAgICAgICBzZXRNYXN0ZXJCdWlsZGluZ0xpc3QoYWxsQnVpbGRpbmdDb25maWdzKTtcblxuICAgICAgICBjb25zdCBhbGxVbml0Q29uZmlncyA9IGF3YWl0IGdldEFsbFVuaXRDb25maWdzKCk7XG4gICAgICAgIHNldE1hc3RlclVuaXRMaXN0KGFsbFVuaXRDb25maWdzKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7IGFsbEFnZUNvbmZpZ3MsIGFsbEJ1aWxkaW5nQ29uZmlncywgYWxsVW5pdENvbmZpZ3MgfTtcbiAgICB9LCBbXSk7XG4gICAgXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgZmV0Y2hTYXZlc0FuZENvbmZpZ3MoKTtcbiAgICB9LCBbZmV0Y2hTYXZlc0FuZENvbmZpZ3NdKTtcbiAgICBcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZ2FtZVN0YXRlID09PSBHYW1lU3RhdHVzLlBMQVlJTkcgJiYgY2l2aWxpemF0aW9uICYmIGN1cnJlbnRTYXZlTmFtZSkge1xuICAgICAgICAgICAgY29uc3QgZnVsbFN0YXRlOiBGdWxsR2FtZVN0YXRlID0ge1xuICAgICAgICAgICAgICAgIGNpdmlsaXphdGlvbixcbiAgICAgICAgICAgICAgICByZXNvdXJjZXMsXG4gICAgICAgICAgICAgICAgdW5pdHMsXG4gICAgICAgICAgICAgICAgYnVpbGRpbmdzLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRBZ2UsXG4gICAgICAgICAgICAgICAgZ2FtZUxvZyxcbiAgICAgICAgICAgICAgICBhY3RpdmVUYXNrcyxcbiAgICAgICAgICAgICAgICByZXNvdXJjZU5vZGVzLFxuICAgICAgICAgICAgICAgIGludmVudG9yeSxcbiAgICAgICAgICAgICAgICBhY3RpdmVCdWZmcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzYXZlR2FtZVN0YXRlKGN1cnJlbnRTYXZlTmFtZSwgZnVsbFN0YXRlKTtcbiAgICAgICAgfVxuICAgIH0sIFtjaXZpbGl6YXRpb24sIHJlc291cmNlcywgdW5pdHMsIGJ1aWxkaW5ncywgY3VycmVudEFnZSwgZ2FtZUxvZywgZ2FtZVN0YXRlLCBjdXJyZW50U2F2ZU5hbWUsIGFjdGl2ZVRhc2tzLCByZXNvdXJjZU5vZGVzLCBpbnZlbnRvcnksIGFjdGl2ZUJ1ZmZzXSk7XG5cbiAgICBjb25zdCBhZGROb3RpZmljYXRpb24gPSB1c2VDYWxsYmFjaygobWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkID0gYCR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpfWA7XG4gICAgICAgIHNldE5vdGlmaWNhdGlvbnMocHJldiA9PiBbeyBpZCwgbWVzc2FnZSB9XSk7XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgcmVtb3ZlTm90aWZpY2F0aW9uID0gdXNlQ2FsbGJhY2soKGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgc2V0Tm90aWZpY2F0aW9ucyhwcmV2ID0+IHByZXYuZmlsdGVyKG4gPT4gbi5pZCAhPT0gaWQpKTtcbiAgICB9LCBbXSk7XG4gICAgXG4gICAgY29uc3QgYWRkVG9Mb2cgPSB1c2VDYWxsYmFjaygobWVzc2FnZTogc3RyaW5nLCBpY29uOiBMb2dJY29uVHlwZSkgPT4ge1xuICAgICAgICBzZXRHYW1lTG9nKHByZXYgPT4gW3sgaWQ6IGAke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKX1gLCBtZXNzYWdlLCBpY29uIH0sIC4uLnByZXYuc2xpY2UoMCwgMTkpXSk7XG4gICAgfSwgW10pO1xuICAgIFxuICAgIGNvbnN0IHVwZGF0ZVJlc291cmNlcyA9IHVzZUNhbGxiYWNrKChkZWx0YXM6IFJlc291cmNlRGVsdGFzKSA9PiB7XG4gICAgICAgIHNldFJlc291cmNlcyhwcmV2ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Jlc291cmNlcyA9IHsgLi4ucHJldiB9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGVsdGFzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzb3VyY2VLZXkgPSBrZXkgYXMga2V5b2YgUmVzb3VyY2VzO1xuICAgICAgICAgICAgICAgIG5ld1Jlc291cmNlc1tyZXNvdXJjZUtleV0gPSBNYXRoLm1heCgwLCBuZXdSZXNvdXJjZXNbcmVzb3VyY2VLZXldICsgKGRlbHRhc1tyZXNvdXJjZUtleV0gPz8gMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ld1Jlc291cmNlcztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2V0UmVzb3VyY2VEZWx0YXMocHJldiA9PiAoey4uLnByZXYsIC4uLmRlbHRhc30pKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkZWx0YXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc291cmNlS2V5ID0ga2V5IGFzIGtleW9mIFJlc291cmNlcztcbiAgICAgICAgICAgIGlmIChkZWx0YVRpbWVvdXRSZWYuY3VycmVudFtyZXNvdXJjZUtleV0pIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGRlbHRhVGltZW91dFJlZi5jdXJyZW50W3Jlc291cmNlS2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWx0YVRpbWVvdXRSZWYuY3VycmVudFtyZXNvdXJjZUtleV0gPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0UmVzb3VyY2VEZWx0YXMocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0RlbHRhcyA9IHsuLi5wcmV2fTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG5ld0RlbHRhc1tyZXNvdXJjZUtleV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdEZWx0YXM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCAxNTAwKTtcbiAgICAgICAgfVxuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IGhhbmRsZVRhc2tDb21wbGV0aW9uID0gdXNlQ2FsbGJhY2soKHRhc2s6IEdhbWVUYXNrKSA9PiB7XG4gICAgICAgIGlmICh0YXNrLnBheWxvYWQ/LnZpbGxhZ2VySWRzICYmIHRhc2sucGF5bG9hZC52aWxsYWdlcklkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7IC4uLnByZXYsIHZpbGxhZ2VyczogcHJldi52aWxsYWdlcnMubWFwKHYgPT4gdGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEuaW5jbHVkZXModi5pZCkgPyB7IC4uLnYsIGN1cnJlbnRUYXNrOiBudWxsIH0gOiB2KSB9KSk7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHRhc2sudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnYnVpbGQnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBidWlsZGluZ1R5cGUsIHZpbGxhZ2VySWRzLCBwb3NpdGlvbiB9ID0gdGFzay5wYXlsb2FkITtcbiAgICAgICAgICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IGJ1aWxkaW5nVHlwZSkhO1xuICAgICAgICAgICAgICAgIGNvbnN0IFtuYW1lXSA9IGdldFJhbmRvbU5hbWVzKCdidWlsZGluZycsIDEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0J1aWxkaW5nOiBCdWlsZGluZ0luc3RhbmNlID0geyBpZDogdGFzay5pZCwgbmFtZSwgcG9zaXRpb246IHBvc2l0aW9uISwgY3VycmVudEhwOiBidWlsZGluZ0luZm8uaHAgfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzZXRCdWlsZGluZ3MocCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRCdWlsZGluZ3MgPSBwW2J1aWxkaW5nVHlwZSBhcyBzdHJpbmddIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5wLCBbYnVpbGRpbmdUeXBlIGFzIHN0cmluZ106IFsuLi5jdXJyZW50QnVpbGRpbmdzLCBuZXdCdWlsZGluZ10gfTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAodmlsbGFnZXJJZHMgJiYgdmlsbGFnZXJJZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBhZGRUb0xvZyhgJHt2aWxsYWdlcklkcy5sZW5ndGh9IGJ1aWxkZXIocykgaGF2ZSBjb25zdHJ1Y3RlZCAke25hbWV9LCBhIG5ldyAke2J1aWxkaW5nSW5mby5uYW1lfS5gLCBidWlsZGluZ0luZm8uaWNvbklkKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYENvbnN0cnVjdGlvbiBvZiAke25hbWV9IGlzIGNvbXBsZXRlLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2dhdGhlcic6IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndHJhaW5fdmlsbGFnZXInOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBjb3VudCB9ID0gdGFzay5wYXlsb2FkITtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdWaWxsYWdlck5hbWVzID0gZ2V0UmFuZG9tTmFtZXMoJ3ZpbGxhZ2VyJywgY291bnQhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdWaWxsYWdlcnM6IFZpbGxhZ2VyW10gPSBuZXdWaWxsYWdlck5hbWVzLm1hcChuYW1lID0+ICh7IGlkOiBgJHtEYXRlLm5vdygpfS0ke25hbWV9YCwgbmFtZSwgY3VycmVudFRhc2s6IG51bGwgfSkpO1xuICAgICAgICAgICAgICAgIHNldFVuaXRzKHAgPT4gKHsgLi4ucCwgdmlsbGFnZXJzOiBbLi4ucC52aWxsYWdlcnMsIC4uLm5ld1ZpbGxhZ2Vyc10gfSkpO1xuICAgICAgICAgICAgICAgIGFkZFRvTG9nKGAke2NvdW50fSBuZXcgdmlsbGFnZXIocykgaGF2ZSBqb2luZWQgeW91ciBzZXR0bGVtZW50LmAsICd2aWxsYWdlcicpO1xuICAgICAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGAke2NvdW50fSBuZXcgdmlsbGFnZXIocykgYXJlIHJlYWR5IHRvIHdvcmsuYCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICd0cmFpbl9taWxpdGFyeSc6IHtcbiAgICAgICAgICAgICAgICAgY29uc3QgeyB1bml0VHlwZSwgY291bnQgfSA9IHRhc2sucGF5bG9hZCE7XG4gICAgICAgICAgICAgICAgIGNvbnN0IHVuaXRJbmZvID0gdW5pdExpc3QuZmluZCh1ID0+IHUuaWQgPT09IHVuaXRUeXBlKSE7XG4gICAgICAgICAgICAgICAgIGNvbnN0IG5ld1VuaXROYW1lcyA9IGdldFJhbmRvbU5hbWVzKCdzb2xkaWVyJywgY291bnQhKTtcbiAgICAgICAgICAgICAgICAgY29uc3QgbmV3VW5pdHM6IE1pbGl0YXJ5VW5pdFtdID0gbmV3VW5pdE5hbWVzLm1hcChuYW1lID0+ICh7IGlkOiBgJHtEYXRlLm5vdygpfS0ke3VuaXRUeXBlfS0ke25hbWV9YCwgbmFtZSwgdGl0bGU6ICcnLCB1bml0VHlwZTogdW5pdFR5cGUhIH0pKTtcbiAgICAgICAgICAgICAgICAgc2V0VW5pdHMocCA9PiAoeyAuLi5wLCBtaWxpdGFyeTogWy4uLnAubWlsaXRhcnksIC4uLm5ld1VuaXRzXSB9KSk7XG4gICAgICAgICAgICAgICAgIGFkZFRvTG9nKGAke2NvdW50fSAke3VuaXRJbmZvLm5hbWV9KHMpIGhhdmUgYmVlbiB0cmFpbmVkLmAsIHVuaXRUeXBlISk7XG4gICAgICAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGAke2NvdW50fSBuZXcgJHt1bml0SW5mby5uYW1lfShzKSBhcmUgcmVhZHkgZm9yIGJhdHRsZS5gKTtcbiAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdhZHZhbmNlX2FnZSc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVBZ2VzID0gbWFzdGVyQWdlTGlzdC5maWx0ZXIoYSA9PiBhLmlzQWN0aXZlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50SW5kZXggPSBhY3RpdmVBZ2VzLmZpbmRJbmRleChhZ2UgPT4gYWdlLm5hbWUgPT09IGN1cnJlbnRBZ2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFnZVJlc3VsdCA9IGFjdGl2ZUFnZXNbY3VycmVudEluZGV4ICsgMV0gfHwgeyBuYW1lOiAnQWdlIG9mIExlZ2VuZHMnLCBkZXNjcmlwdGlvbjogJ1lvdXIgY2l2aWxpemF0aW9uIHRyYW5zY2VuZHMgaGlzdG9yeSBhbmQgYmVjb21lcyBhIGxlZ2VuZC4nfTtcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50QWdlKGFnZVJlc3VsdC5uYW1lKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhgWW91IGhhdmUgYWR2YW5jZWQgdG8gdGhlICR7YWdlUmVzdWx0Lm5hbWV9IWAsICdhZ2UnKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhhZ2VSZXN1bHQuZGVzY3JpcHRpb24sICdhZ2UnKTtcbiAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgV2VsY29tZSB0byB0aGUgJHthZ2VSZXN1bHQubmFtZX0hYCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBbY3VycmVudEFnZSwgYWRkVG9Mb2csIGJ1aWxkaW5nTGlzdCwgdW5pdExpc3QsIG1hc3RlckFnZUxpc3RdKTtcbiAgICBcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZ2FtZVN0YXRlICE9PSBHYW1lU3RhdHVzLlBMQVlJTkcpIHtcbiAgICAgICAgICAgIGlmIChhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50KSBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGdhbWVMb29wID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhVGltZSA9IG5vdyAtIGxhc3RUaWNrUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICBsYXN0VGlja1JlZi5jdXJyZW50ID0gbm93O1xuXG4gICAgICAgICAgICBsZXQgY29tcGxldGVkVGFza3M6IEdhbWVUYXNrW10gPSBbXTtcbiAgICAgICAgICAgIGxldCByZXNvdXJjZURlbHRhc1RoaXNUaWNrOiBSZXNvdXJjZURlbHRhcyA9IHt9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZXRBY3RpdmVCdWZmcyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdSZXNvdXJjZUJvb3N0cyA9IHByZXYucmVzb3VyY2VCb29zdD8uZmlsdGVyKGIgPT4gYi5lbmRUaW1lID4gbm93KTtcbiAgICAgICAgICAgICAgICBpZiAobmV3UmVzb3VyY2VCb29zdHM/Lmxlbmd0aCAhPT0gcHJldi5yZXNvdXJjZUJvb3N0Py5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkVG9Mb2coXCJBIHJlc291cmNlIGdhdGhlcmluZyBib251cyBoYXMgZXhwaXJlZC5cIiwgJ3N5c3RlbScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5wcmV2LCByZXNvdXJjZUJvb3N0OiBuZXdSZXNvdXJjZUJvb3N0cyB9O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHRhc2tzSW5Qcm9ncmVzcyA9IGFjdGl2ZVRhc2tzLm1hcCh0YXNrID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobm93ID49IHRhc2suc3RhcnRUaW1lICsgdGFzay5kdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRUYXNrcy5wdXNoKHRhc2spO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRhc2sudHlwZSA9PT0gJ2dhdGhlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHJlc291cmNlTm9kZXMuZmluZChuID0+IG4uaWQgPT09IHRhc2sucGF5bG9hZD8ucmVzb3VyY2VOb2RlSWQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWxsYWdlckNvdW50ID0gdGFzay5wYXlsb2FkPy52aWxsYWdlcklkcz8ubGVuZ3RoIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbm9kZSB8fCB2aWxsYWdlckNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRUYXNrcy5wdXNoKHRhc2spOyByZXR1cm4gbnVsbDsgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFzZVJhdGVQZXJTZWNvbmQgPSBHQVRIRVJfSU5GT1tub2RlLnR5cGVdLnJhdGU7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjaXZCb251c011bHRpcGxpZXIgPSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2l2aWxpemF0aW9uPy5ib251cy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKG5vZGUudHlwZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBjaXZpbGl6YXRpb24uYm9udXMubWF0Y2goLyhcXGQrKSUvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaD8uWzFdKSBjaXZCb251c011bHRpcGxpZXIgPSAxICsgKHBhcnNlSW50KG1hdGNoWzFdLCAxMCkgLyAxMDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1Cb29zdE11bHRpcGxpZXIgPSBhY3RpdmVCdWZmcy5yZXNvdXJjZUJvb3N0Py5maW5kKGIgPT4gYi5yZXNvdXJjZSA9PT0gbm9kZS50eXBlKT8ubXVsdGlwbGllciB8fCAxO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5hbFJhdGVQZXJTZWNvbmQgPSBiYXNlUmF0ZVBlclNlY29uZCAqIGNpdkJvbnVzTXVsdGlwbGllciAqIGl0ZW1Cb29zdE11bHRpcGxpZXI7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlRGVsdGFzVGhpc1RpY2tbbm9kZS50eXBlXSA9IChyZXNvdXJjZURlbHRhc1RoaXNUaWNrW25vZGUudHlwZV0gfHwgMCkgKyAoZmluYWxSYXRlUGVyU2Vjb25kIC8gMTAwMCkgKiBkZWx0YVRpbWUgKiB2aWxsYWdlckNvdW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGFzaztcbiAgICAgICAgICAgIH0pLmZpbHRlcihCb29sZWFuKSBhcyBHYW1lVGFza1tdO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMocmVzb3VyY2VEZWx0YXNUaGlzVGljaykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVJlc291cmNlcyhyZXNvdXJjZURlbHRhc1RoaXNUaWNrKTtcbiAgICAgICAgICAgICAgICBzZXRSZXNvdXJjZU5vZGVzKHByZXZOb2RlcyA9PiBwcmV2Tm9kZXMubWFwKG5vZGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbW91bnRUb0RlY3JlbWVudCA9IHJlc291cmNlRGVsdGFzVGhpc1RpY2tbbm9kZS50eXBlXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbW91bnRUb0RlY3JlbWVudCkgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0Ftb3VudCA9IG5vZGUuYW1vdW50IC0gYW1vdW50VG9EZWNyZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdBbW91bnQgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFza0lkID0gYGdhdGhlci0ke25vZGUuaWR9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhc2sgPSB0YXNrc0luUHJvZ3Jlc3MuZmluZCh0ID0+IHQuaWQgPT09IHRhc2tJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0YXNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9Mb2coYCR7dGFzay5wYXlsb2FkPy52aWxsYWdlcklkcz8ubGVuZ3RoIHx8IDB9IHZpbGxhZ2VyKHMpIGRlcGxldGVkIGEgJHtub2RlLnR5cGV9IHNvdXJjZSwgZ2FpbmluZyAke01hdGguZmxvb3Iobm9kZS5hbW91bnQpfSAke25vZGUudHlwZX0uYCwgbm9kZS50eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgQSAke25vZGUudHlwZX0gc291cmNlIGhhcyBiZWVuIGZ1bGx5IGRlcGxldGVkLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZFRhc2tzLnB1c2godGFzayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5ub2RlLCBhbW91bnQ6IG5ld0Ftb3VudCB9O1xuICAgICAgICAgICAgICAgIH0pLmZpbHRlcihCb29sZWFuKSBhcyBSZXNvdXJjZU5vZGVbXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGZpbmFsQWN0aXZlVGFza3MgPSB0YXNrc0luUHJvZ3Jlc3MuZmlsdGVyKHQgPT4gIWNvbXBsZXRlZFRhc2tzLnNvbWUoY3QgPT4gY3QuaWQgPT09IHQuaWQpKTtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKGZpbmFsQWN0aXZlVGFza3MpO1xuICAgICAgICAgICAgaWYgKGNvbXBsZXRlZFRhc2tzLmxlbmd0aCA+IDApIGNvbXBsZXRlZFRhc2tzLmZvckVhY2goaGFuZGxlVGFza0NvbXBsZXRpb24pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGdhbWVMb29wKTtcbiAgICAgICAgfTtcbiAgICAgICAgYW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lTG9vcCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7IGlmIChhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50KSBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50KTsgfTtcbiAgICB9LCBbZ2FtZVN0YXRlLCBhY3RpdmVUYXNrcywgcmVzb3VyY2VOb2RlcywgaGFuZGxlVGFza0NvbXBsZXRpb24sIGFkZFRvTG9nLCB1cGRhdGVSZXNvdXJjZXMsIHVuaXRzLnZpbGxhZ2VycywgY2l2aWxpemF0aW9uLCBhY3RpdmVCdWZmc10pO1xuXG4gICAgY29uc3QgaGFuZGxlTmV3RXZlbnQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmICghY2l2aWxpemF0aW9uIHx8IGN1cnJlbnRFdmVudCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBldmVudCA9IGdldFByZWRlZmluZWRHYW1lRXZlbnQoKTtcbiAgICAgICAgc2V0Q3VycmVudEV2ZW50KGV2ZW50KTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoJ0EgbmV3IGV2ZW50IHJlcXVpcmVzIHlvdXIgYXR0ZW50aW9uIScpO1xuICAgIH0sIFtjaXZpbGl6YXRpb24sIGN1cnJlbnRFdmVudF0pO1xuICAgIFxuICAgIGNvbnN0IHNjaGVkdWxlTmV4dEV2ZW50ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnRUaW1lclJlZi5jdXJyZW50KSBjbGVhclRpbWVvdXQoZXZlbnRUaW1lclJlZi5jdXJyZW50KTtcbiAgICAgICAgZXZlbnRUaW1lclJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiBoYW5kbGVOZXdFdmVudCgpLCAoMTAgKyBNYXRoLnJhbmRvbSgpICogMTUpICogMTAwMCk7XG4gICAgfSwgW2hhbmRsZU5ld0V2ZW50XSk7XG5cbiAgICBjb25zdCBnZW5lcmF0ZVJlc291cmNlTm9kZXMgPSAoZXhpc3RpbmdQb3NpdGlvbnM6IFNldDxzdHJpbmc+KTogUmVzb3VyY2VOb2RlW10gPT4ge1xuICAgICAgICBjb25zdCBub2RlczogUmVzb3VyY2VOb2RlW10gPSBbXTtcbiAgICAgICAgY29uc3QgdHlwZXM6IFJlc291cmNlTm9kZVR5cGVbXSA9IFsnZm9vZCcsICd3b29kJywgJ2dvbGQnLCAnc3RvbmUnXTtcbiAgICAgICAgY29uc3QgbnVtTm9kZXMgPSAyMCArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1Ob2RlczsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcG9zOiB7eDogbnVtYmVyLCB5OiBudW1iZXJ9O1xuICAgICAgICAgICAgZG8geyBwb3MgPSB7IHg6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE1BUF9ESU1FTlNJT05TLndpZHRoKSwgeTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTUFQX0RJTUVOU0lPTlMuaGVpZ2h0KSB9IH0gd2hpbGUgKGV4aXN0aW5nUG9zaXRpb25zLmhhcyhgJHtwb3MueH0sJHtwb3MueX1gKSk7XG4gICAgICAgICAgICBleGlzdGluZ1Bvc2l0aW9ucy5hZGQoYCR7cG9zLnh9LCR7cG9zLnl9YCk7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gdHlwZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdHlwZXMubGVuZ3RoKV07XG4gICAgICAgICAgICBub2Rlcy5wdXNoKHsgaWQ6IGAke0RhdGUubm93KCl9LW5vZGUtJHtpfWAsIHR5cGUsIHBvc2l0aW9uOiBwb3MsIGFtb3VudDogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjAwMSkgKyA1MDAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGVzO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVTdGFydE5ld0dhbWUgPSBhc3luYyAoc2F2ZU5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAoYWxsU2F2ZXMuaW5jbHVkZXMoc2F2ZU5hbWUpKSB7IGFkZE5vdGlmaWNhdGlvbihgQSBzYWdhIG5hbWVkIFwiJHtzYXZlTmFtZX1cIiBhbHJlYWR5IGV4aXN0cy5gKTsgcmV0dXJuOyB9XG4gICAgICAgIHNldEdhbWVTdGF0ZShHYW1lU3RhdHVzLkxPQURJTkcpO1xuICAgICAgICBzZXRDdXJyZW50U2F2ZU5hbWUoc2F2ZU5hbWUpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgeyBhbGxBZ2VDb25maWdzLCBhbGxCdWlsZGluZ0NvbmZpZ3MgfSA9IGF3YWl0IGZldGNoU2F2ZXNBbmRDb25maWdzKCk7XG4gICAgICAgIGNvbnN0IGxvY2FsQWdlUHJvZ3Jlc3Npb25MaXN0ID0gYWxsQWdlQ29uZmlncy5maWx0ZXIoYSA9PiBhLmlzQWN0aXZlKTtcblxuICAgICAgICBjb25zdCBjaXYgPSBnZXRQcmVkZWZpbmVkQ2l2aWxpemF0aW9uKCk7XG4gICAgICAgIHNldENpdmlsaXphdGlvbihjaXYpO1xuICAgICAgICBzZXRSZXNvdXJjZXMoeyBmb29kOiAyMDAsIHdvb2Q6IDE1MCwgZ29sZDogNTAsIHN0b25lOiAxMDAgfSk7XG4gICAgICAgIGNvbnN0IGluaXRpYWxWaWxsYWdlcnMgPSBnZXRSYW5kb21OYW1lcygndmlsbGFnZXInLCAzKS5tYXAobmFtZSA9PiAoeyBpZDogYCR7RGF0ZS5ub3coKX0tJHtuYW1lfWAsIG5hbWUsIGN1cnJlbnRUYXNrOiBudWxsIH0pKTtcbiAgICAgICAgc2V0VW5pdHMoeyB2aWxsYWdlcnM6IGluaXRpYWxWaWxsYWdlcnMsIG1pbGl0YXJ5OiBbXSB9KTtcbiAgICAgICAgY29uc3QgdGNQb3NpdGlvbiA9IHsgeDogTWF0aC5mbG9vcihNQVBfRElNRU5TSU9OUy53aWR0aCAvIDIpLCB5OiBNYXRoLmZsb29yKE1BUF9ESU1FTlNJT05TLmhlaWdodCAvIDIpIH07XG4gICAgICAgIGNvbnN0IHRjSW5mbyA9IGFsbEJ1aWxkaW5nQ29uZmlncy5maW5kKGIgPT4gYi5pZCA9PT0gJ3Rvd25DZW50ZXInKSE7XG4gICAgICAgIGNvbnN0IGluaXRpYWxUQyA9IHsgaWQ6IGAke0RhdGUubm93KCl9LXRjYCwgbmFtZTogZ2V0UmFuZG9tTmFtZXMoJ2J1aWxkaW5nJywgMSlbMF0sIHBvc2l0aW9uOiB0Y1Bvc2l0aW9uLCBjdXJyZW50SHA6IHRjSW5mby5ocCB9O1xuICAgICAgICBzZXRCdWlsZGluZ3Moey4uLmluaXRpYWxCdWlsZGluZ3NTdGF0ZSwgdG93bkNlbnRlcjogW2luaXRpYWxUQ119KTtcbiAgICAgICAgc2V0UmVzb3VyY2VOb2RlcyhnZW5lcmF0ZVJlc291cmNlTm9kZXMobmV3IFNldChbYCR7dGNQb3NpdGlvbi54fSwke3RjUG9zaXRpb24ueX1gXSkpKTtcbiAgICAgICAgc2V0Q3VycmVudEFnZShsb2NhbEFnZVByb2dyZXNzaW9uTGlzdFswXT8ubmFtZSB8fCBGQUxMQkFDS19BR0VTWzBdLm5hbWUpO1xuICAgICAgICBzZXRHYW1lTG9nKFtdKTsgc2V0Q3VycmVudEV2ZW50KG51bGwpOyBzZXRVbmxpbWl0ZWRSZXNvdXJjZXMoZmFsc2UpOyBzZXRBY3RpdmVUYXNrcyhbXSk7IHNldEludmVudG9yeShbXSk7IHNldEFjdGl2ZUJ1ZmZzKHsgcmVzb3VyY2VCb29zdDogW10gfSk7XG4gICAgICAgIGFkZFRvTG9nKGAke2Npdi5uYW1lfSBoYXMgYmVlbiBmb3VuZGVkIWAsICdzeXN0ZW0nKTtcbiAgICAgICAgYWRkVG9Mb2coJ1lvdXIgc3RvcnkgYmVnaW5zLi4uJywgJ3N5c3RlbScpO1xuICAgICAgICBzZXRHYW1lU3RhdGUoR2FtZVN0YXR1cy5QTEFZSU5HKTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoJ1lvdXIgc2V0dGxlbWVudCBhd2FpdHMgeW91ciBjb21tYW5kLicpO1xuICAgICAgICBmZXRjaFNhdmVzQW5kQ29uZmlncygpO1xuICAgIH07XG5cbiAgICBjb25zdCBpc1ZpbGxhZ2VyQnVzeSA9IHVzZUNhbGxiYWNrKCh2aWxsYWdlcklkOiBzdHJpbmcpOiBib29sZWFuID0+ICEhdW5pdHMudmlsbGFnZXJzLmZpbmQodiA9PiB2LmlkID09PSB2aWxsYWdlcklkKT8uY3VycmVudFRhc2ssIFt1bml0cy52aWxsYWdlcnNdKTtcblxuICAgIGNvbnN0IGdldFZpbGxhZ2VyVGFza0RldGFpbHMgPSB1c2VDYWxsYmFjaygodmlsbGFnZXJJZDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICAgICAgY29uc3QgdmlsbGFnZXIgPSB1bml0cy52aWxsYWdlcnMuZmluZCh2ID0+IHYuaWQgPT09IHZpbGxhZ2VySWQpO1xuICAgICAgICBpZiAoIXZpbGxhZ2VyPy5jdXJyZW50VGFzaykgcmV0dXJuICdJZGxlJztcbiAgICAgICAgY29uc3QgdGFzayA9IGFjdGl2ZVRhc2tzLmZpbmQodCA9PiB0LmlkID09PSB2aWxsYWdlci5jdXJyZW50VGFzayk7XG4gICAgICAgIGlmICghdGFzaykgcmV0dXJuICdJZGxlIChGaW5hbGl6aW5nIFRhc2spJztcbiAgICAgICAgaWYgKHRhc2sudHlwZSA9PT0gJ2J1aWxkJykgcmV0dXJuIGBCdXN5OiBDb25zdHJ1Y3RpbmcgJHtidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IHRhc2sucGF5bG9hZCEuYnVpbGRpbmdUeXBlKT8ubmFtZSB8fCAnYSBidWlsZGluZyd9YDtcbiAgICAgICAgaWYgKHRhc2sudHlwZSA9PT0gJ2dhdGhlcicpIHJldHVybiBgQnVzeTogR2F0aGVyaW5nICR7cmVzb3VyY2VOb2Rlcy5maW5kKG4gPT4gbi5pZCA9PT0gdGFzay5wYXlsb2FkIS5yZXNvdXJjZU5vZGVJZCk/LnR5cGUgfHwgJ3Jlc291cmNlcyd9YDtcbiAgICAgICAgcmV0dXJuICdJZGxlJztcbiAgICB9LCBbYWN0aXZlVGFza3MsIHJlc291cmNlTm9kZXMsIHVuaXRzLnZpbGxhZ2VycywgYnVpbGRpbmdMaXN0XSk7XG5cbiAgICBjb25zdCBoYW5kbGVSZXN1bWVHYW1lID0gYXN5bmMgKHNhdmVOYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgYXdhaXQgZmV0Y2hTYXZlc0FuZENvbmZpZ3MoKTtcbiAgICAgICAgY29uc3Qgc2F2ZWRTdGF0ZSA9IGF3YWl0IGxvYWRHYW1lU3RhdGUoc2F2ZU5hbWUpIGFzIEZ1bGxHYW1lU3RhdGU7XG4gICAgICAgIGlmIChzYXZlZFN0YXRlKSB7XG4gICAgICAgICAgICBzZXRHYW1lU3RhdGUoR2FtZVN0YXR1cy5MT0FESU5HKTtcbiAgICAgICAgICAgIHNldEN1cnJlbnRTYXZlTmFtZShzYXZlTmFtZSk7XG4gICAgICAgICAgICBzZXRDaXZpbGl6YXRpb24oc2F2ZWRTdGF0ZS5jaXZpbGl6YXRpb24pO1xuICAgICAgICAgICAgc2V0UmVzb3VyY2VzKHNhdmVkU3RhdGUucmVzb3VyY2VzKTtcbiAgICAgICAgICAgIGNvbnN0IG1pZ3JhdGVkVmlsbGFnZXJzID0gKHNhdmVkU3RhdGUudW5pdHMudmlsbGFnZXJzIHx8IFtdKS5tYXAodiA9PiAoey4uLnYsIGN1cnJlbnRUYXNrOiB2LmN1cnJlbnRUYXNrICE9PSB1bmRlZmluZWQgPyB2LmN1cnJlbnRUYXNrIDogbnVsbH0pKTtcbiAgICAgICAgICAgIGNvbnN0IG1pZ3JhdGVkVGFza3MgPSAoc2F2ZWRTdGF0ZS5hY3RpdmVUYXNrcyB8fCBbXSkubWFwKHQgPT4gdC50eXBlID09PSAnYnVpbGQnICYmICF0LnBheWxvYWQ/LnZpbGxhZ2VySWRzID8geyAuLi50LCBwYXlsb2FkOiB7IC4uLnQucGF5bG9hZCwgdmlsbGFnZXJJZHM6IFtdIH0gfSA6IHQpO1xuICAgICAgICAgICAgbWlncmF0ZWRUYXNrcy5mb3JFYWNoKHRhc2sgPT4gdGFzay5wYXlsb2FkPy52aWxsYWdlcklkcz8uZm9yRWFjaCh2aWQgPT4geyBjb25zdCB2ID0gbWlncmF0ZWRWaWxsYWdlcnMuZmluZCh2ID0+IHYuaWQgPT09IHZpZCk7IGlmKHYpIHYuY3VycmVudFRhc2sgPSB0YXNrLmlkOyB9KSk7XG4gICAgICAgICAgICBzZXRVbml0cyh7IC4uLnNhdmVkU3RhdGUudW5pdHMsIHZpbGxhZ2VyczogbWlncmF0ZWRWaWxsYWdlcnMgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGNvbnN0cnVjdGlvblRhc2tzID0gbWlncmF0ZWRUYXNrcy5maWx0ZXIodCA9PiB0LnR5cGUgPT09ICdidWlsZCcpO1xuICAgICAgICAgICAgY29uc3Qgb2NjdXBpZWRDZWxscyA9IG5ldyBTZXQoWy4uLk9iamVjdC52YWx1ZXMoc2F2ZWRTdGF0ZS5idWlsZGluZ3MgfHwge30pLmZsYXQoKS5tYXAoKGI6IGFueSkgPT4gYCR7Yi5wb3NpdGlvbi54fSwke2IucG9zaXRpb24ueX1gKSwgLi4uY29uc3RydWN0aW9uVGFza3MubWFwKHQgPT4gYCR7dC5wYXlsb2FkIS5wb3NpdGlvbiEueH0sJHt0LnBheWxvYWQhLnBvc2l0aW9uIS55fWApXSk7XG4gICAgICAgICAgICBsZXQgZmluYWxCdWlsZGluZ3MgPSB7IC4uLmluaXRpYWxCdWlsZGluZ3NTdGF0ZSwgLi4uKHNhdmVkU3RhdGUuYnVpbGRpbmdzIHx8IHt9KSB9O1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoZmluYWxCdWlsZGluZ3MpLmZvckVhY2goYlR5cGUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZm8gPSBidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IGJUeXBlKTtcbiAgICAgICAgICAgICAgICBpZihpbmZvKSBmaW5hbEJ1aWxkaW5nc1tiVHlwZV0gPSBmaW5hbEJ1aWxkaW5nc1tiVHlwZV0ubWFwKGIgPT4gKHsgLi4uYiwgY3VycmVudEhwOiBiLmN1cnJlbnRIcCA9PT0gdW5kZWZpbmVkID8gaW5mby5ocCA6IGIuY3VycmVudEhwIH0pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFmaW5hbEJ1aWxkaW5ncy50b3duQ2VudGVyIHx8IGZpbmFsQnVpbGRpbmdzLnRvd25DZW50ZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRjUG9zID0geyB4OiAxMCwgeTogNSB9OyB3aGlsZSAob2NjdXBpZWRDZWxscy5oYXMoYCR7dGNQb3MueH0sJHt0Y1Bvcy55fWApKSB7IHRjUG9zLngrKzsgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHRjSW5mbyA9IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gJ3Rvd25DZW50ZXInKSE7XG4gICAgICAgICAgICAgICAgZmluYWxCdWlsZGluZ3MudG93bkNlbnRlciA9IFt7IGlkOiBgJHtEYXRlLm5vdygpfS10Y2AsIG5hbWU6IGdldFJhbmRvbU5hbWVzKCdidWlsZGluZycsIDEpWzBdLCBwb3NpdGlvbjogdGNQb3MsIGN1cnJlbnRIcDogdGNJbmZvLmhwIH1dO1xuICAgICAgICAgICAgICAgIG9jY3VwaWVkQ2VsbHMuYWRkKGAke3RjUG9zLnh9LCR7dGNQb3MueX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldEJ1aWxkaW5ncyhmaW5hbEJ1aWxkaW5ncyk7XG5cbiAgICAgICAgICAgIHNldFJlc291cmNlTm9kZXMoKHNhdmVkU3RhdGUucmVzb3VyY2VOb2RlcyB8fCBbXSkubGVuZ3RoID09PSAwID8gZ2VuZXJhdGVSZXNvdXJjZU5vZGVzKG9jY3VwaWVkQ2VsbHMpIDogKHNhdmVkU3RhdGUucmVzb3VyY2VOb2RlcyB8fCBbXSkpO1xuICAgICAgICAgICAgc2V0Q3VycmVudEFnZShzYXZlZFN0YXRlLmN1cnJlbnRBZ2UpOyBzZXRHYW1lTG9nKHNhdmVkU3RhdGUuZ2FtZUxvZyk7IHNldEFjdGl2ZVRhc2tzKG1pZ3JhdGVkVGFza3MpO1xuICAgICAgICAgICAgc2V0SW52ZW50b3J5KHNhdmVkU3RhdGUuaW52ZW50b3J5IHx8IFtdKTsgc2V0QWN0aXZlQnVmZnMoc2F2ZWRTdGF0ZS5hY3RpdmVCdWZmcyB8fCB7IHJlc291cmNlQm9vc3Q6IFtdIH0pO1xuICAgICAgICAgICAgc2V0Q3VycmVudEV2ZW50KG51bGwpOyBzZXRBY3Rpdml0eVN0YXR1cygnV2VsY29tZSBiYWNrIHRvIHlvdXIgc2FnYS4nKTtcbiAgICAgICAgICAgIHNldEdhbWVTdGF0ZShHYW1lU3RhdHVzLlBMQVlJTkcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKGBDb3VsZCBub3QgZmluZCBhIHNhdmVkIGdhbWUgbmFtZWQgXCIke3NhdmVOYW1lfVwiLmApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChnYW1lU3RhdGUgIT09IEdhbWVTdGF0dXMuUExBWUlORykgcmV0dXJuO1xuICAgICAgICBpZiAoIWN1cnJlbnRFdmVudCkgc2NoZWR1bGVOZXh0RXZlbnQoKTtcbiAgICAgICAgZWxzZSBpZiAoZXZlbnRUaW1lclJlZi5jdXJyZW50KSBjbGVhclRpbWVvdXQoZXZlbnRUaW1lclJlZi5jdXJyZW50KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHsgaWYgKGV2ZW50VGltZXJSZWYuY3VycmVudCkgY2xlYXJUaW1lb3V0KGV2ZW50VGltZXJSZWYuY3VycmVudCk7IH07XG4gICAgfSwgW2dhbWVTdGF0ZSwgY3VycmVudEV2ZW50LCBzY2hlZHVsZU5leHRFdmVudF0pO1xuXG4gICAgY29uc3QgaGFuZGxlRXZlbnRDaG9pY2UgPSAoY2hvaWNlOiBHYW1lRXZlbnRDaG9pY2UpID0+IHtcbiAgICAgICAgaWYgKGNob2ljZS5jb3N0KSB7XG4gICAgICAgICAgICBjb25zdCBtaXNzaW5nID0gKE9iamVjdC5rZXlzKGNob2ljZS5jb3N0KSBhcyAoa2V5b2YgUmVzb3VyY2VzKVtdKS5maWx0ZXIocmVzID0+IHJlc291cmNlc1tyZXNdIDwgKGNob2ljZS5jb3N0IVtyZXNdIHx8IDApKTtcbiAgICAgICAgICAgIGlmIChtaXNzaW5nLmxlbmd0aCA+IDApIHsgYWRkTm90aWZpY2F0aW9uKGBZb3UgbGFjayB0aGUgcmVxdWlyZWQgcmVzb3VyY2VzOiAke21pc3Npbmcuam9pbignLCAnKX0uYCk7IHJldHVybjsgfVxuICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKE9iamVjdC5lbnRyaWVzKGNob2ljZS5jb3N0KS5yZWR1Y2UoKGFjYywgW2ssIHZdKSA9PiAoey4uLmFjYywgW2tdOiAtdn0pLCB7fSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzU3VjY2VzcyA9IGNob2ljZS5zdWNjZXNzQ2hhbmNlID09PSB1bmRlZmluZWQgfHwgTWF0aC5yYW5kb20oKSA8IGNob2ljZS5zdWNjZXNzQ2hhbmNlO1xuICAgICAgICBjb25zdCBlZmZlY3RzID0gaXNTdWNjZXNzID8gY2hvaWNlLnN1Y2Nlc3NFZmZlY3RzIDogY2hvaWNlLmZhaWx1cmVFZmZlY3RzO1xuICAgICAgICBpZiAoIWVmZmVjdHMpIHsgc2V0Q3VycmVudEV2ZW50KG51bGwpOyBzY2hlZHVsZU5leHRFdmVudCgpOyByZXR1cm47IH1cblxuICAgICAgICBsZXQgbG9nTWVzc2FnZSA9IGBEZWNpc2lvbjogXCIke2Nob2ljZS50ZXh0fVwiLiBPdXRjb21lOiAke2lzU3VjY2VzcyA/ICdTdWNjZXNzJyA6ICdGYWlsdXJlJ30uICR7ZWZmZWN0cy5sb2d9YDtcbiAgICAgICAgZWZmZWN0cy5yZXdhcmRzLmZvckVhY2goKHJld2FyZDogUmV3YXJkKSA9PiB7XG4gICAgICAgICAgICBpZiAocmV3YXJkLnR5cGUgPT09ICdyZXNvdXJjZScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbW91bnQgPSBBcnJheS5pc0FycmF5KHJld2FyZC5hbW91bnQpID8gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHJld2FyZC5hbW91bnRbMV0gLSByZXdhcmQuYW1vdW50WzBdICsgMSkpICsgcmV3YXJkLmFtb3VudFswXSA6IHJld2FyZC5hbW91bnQ7XG4gICAgICAgICAgICAgICAgaWYgKGFtb3VudCAhPT0gMCkgeyB1cGRhdGVSZXNvdXJjZXMoeyBbcmV3YXJkLnJlc291cmNlXTogYW1vdW50IH0pOyBsb2dNZXNzYWdlICs9IGAgWW91ICR7YW1vdW50ID4gMCA/ICdnYWluZWQnIDogJ2xvc3QnfSAke01hdGguYWJzKGFtb3VudCl9ICR7cmV3YXJkLnJlc291cmNlfS5gOyB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJld2FyZC50eXBlID09PSAnaXRlbScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtSW5mbyA9IEdBTUVfSVRFTVNbcmV3YXJkLml0ZW1JZF07XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1JbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW1zID0gQXJyYXkuZnJvbSh7bGVuZ3RoOiByZXdhcmQuYW1vdW50fSwgKF8sIGkpID0+ICh7IC4uLml0ZW1JbmZvLCBpZDogYCR7cmV3YXJkLml0ZW1JZH0tJHtEYXRlLm5vdygpfS0ke2l9YCB9KSk7XG4gICAgICAgICAgICAgICAgICAgIHNldEludmVudG9yeShwcmV2ID0+IFsuLi5wcmV2LCAuLi5uZXdJdGVtc10pO1xuICAgICAgICAgICAgICAgICAgICBsb2dNZXNzYWdlICs9IGAgWW91IHJlY2VpdmVkICR7cmV3YXJkLmFtb3VudH14ICR7aXRlbUluZm8ubmFtZX0hYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJld2FyZC50eXBlID09PSAndW5pdCcgJiYgcmV3YXJkLnVuaXRUeXBlID09PSAndmlsbGFnZXInKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VmlsbGFnZXJzID0gZ2V0UmFuZG9tTmFtZXMoJ3ZpbGxhZ2VyJywgcmV3YXJkLmFtb3VudCkubWFwKG5hbWUgPT4gKHsgaWQ6IGAke0RhdGUubm93KCl9LSR7bmFtZX1gLCBuYW1lLCBjdXJyZW50VGFzazogbnVsbCB9KSk7XG4gICAgICAgICAgICAgICAgc2V0VW5pdHMocCA9PiAoeyAuLi5wLCB2aWxsYWdlcnM6IFsuLi5wLnZpbGxhZ2VycywgLi4ubmV3VmlsbGFnZXJzXSB9KSk7XG4gICAgICAgICAgICAgICAgbG9nTWVzc2FnZSArPSBgIFlvdSBnYWluZWQgJHtyZXdhcmQuYW1vdW50fSB2aWxsYWdlcihzKS5gO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXdhcmQudHlwZSA9PT0gJ2J1aWxkaW5nJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gcmV3YXJkLmJ1aWxkaW5nSWQpO1xuICAgICAgICAgICAgICAgIGlmIChidWlsZGluZ0luZm8pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2NjdXBpZWRDZWxscyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QudmFsdWVzKGJ1aWxkaW5ncykuZmxhdCgpLmZvckVhY2goYiA9PiBvY2N1cGllZENlbGxzLmFkZChgJHtiLnBvc2l0aW9uLnh9LCR7Yi5wb3NpdGlvbi55fWApKTtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlVGFza3MuZmlsdGVyKHQgPT4gdC50eXBlID09PSAnYnVpbGQnKS5mb3JFYWNoKHQgPT4gdC5wYXlsb2FkPy5wb3NpdGlvbiAmJiBvY2N1cGllZENlbGxzLmFkZChgJHt0LnBheWxvYWQucG9zaXRpb24ueH0sJHt0LnBheWxvYWQucG9zaXRpb24ueX1gKSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlTm9kZXMuZm9yRWFjaChuID0+IG9jY3VwaWVkQ2VsbHMuYWRkKGAke24ucG9zaXRpb24ueH0sJHtuLnBvc2l0aW9uLnl9YCkpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBsYWNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE1BUF9ESU1FTlNJT05TLndpZHRoICogTUFQX0RJTUVOU0lPTlMuaGVpZ2h0OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNQVBfRElNRU5TSU9OUy53aWR0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTUFQX0RJTUVOU0lPTlMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb2NjdXBpZWRDZWxscy5oYXMoYCR7eH0sJHt5fWApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgW25hbWVdID0gZ2V0UmFuZG9tTmFtZXMoJ2J1aWxkaW5nJywgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3QnVpbGRpbmc6IEJ1aWxkaW5nSW5zdGFuY2UgPSB7IGlkOiBgcmV3YXJkLSR7RGF0ZS5ub3coKX1gLCBuYW1lLCBwb3NpdGlvbjoge3gseX0sIGN1cnJlbnRIcDogYnVpbGRpbmdJbmZvLmhwIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QnVpbGRpbmdzKHAgPT4gKHsgLi4ucCwgW3Jld2FyZC5idWlsZGluZ0lkIGFzIHN0cmluZ106IFsuLi4ocFtyZXdhcmQuYnVpbGRpbmdJZCBhcyBzdHJpbmddIHx8IFtdKSwgbmV3QnVpbGRpbmddfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ01lc3NhZ2UgKz0gYCBZb3Ugd2VyZSBnaWZ0ZWQgYSBuZXcgJHtidWlsZGluZ0luZm8ubmFtZX0hYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghcGxhY2VkKSBsb2dNZXNzYWdlICs9IGAgWW91IHdlcmUgdG8gYmUgZ2lmdGVkIGEgJHtidWlsZGluZ0luZm8ubmFtZX0sIGJ1dCB0aGVyZSB3YXMgbm8gcm9vbSB0byBidWlsZCBpdCFgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBhZGRUb0xvZyhsb2dNZXNzYWdlLCAnZXZlbnQnKTsgc2V0QWN0aXZpdHlTdGF0dXMoZWZmZWN0cy5sb2cpOyBzZXRDdXJyZW50RXZlbnQobnVsbCk7IHNjaGVkdWxlTmV4dEV2ZW50KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUluaXRpYXRlQnVpbGQgPSAodmlsbGFnZXJJZDogc3RyaW5nLCByZWN0OiBET01SZWN0KSA9PiB7XG4gICAgICAgIGlmIChpc1ZpbGxhZ2VyQnVzeSh2aWxsYWdlcklkKSkgeyBhZGROb3RpZmljYXRpb24oXCJUaGlzIHZpbGxhZ2VyIGlzIGFscmVhZHkgYnVzeS5cIik7IHJldHVybjsgfVxuICAgICAgICBzZXRCdWlsZFBhbmVsU3RhdGUoeyBpc09wZW46IHRydWUsIHZpbGxhZ2VySWQsIGFuY2hvclJlY3Q6IHJlY3QgfSk7XG4gICAgICAgIHNldFVuaXRNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgaGFuZGxlU3RhcnRQbGFjZW1lbnQgPSAoYnVpbGRpbmdJZDogQnVpbGRpbmdUeXBlIHwgc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IHZpbGxhZ2VySWQgPSBidWlsZFBhbmVsU3RhdGUudmlsbGFnZXJJZDsgaWYgKCF2aWxsYWdlcklkKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gYnVpbGRpbmdJZCk7IGlmICghYnVpbGRpbmdJbmZvKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgZXhpc3RpbmdDb3VudCA9IGJ1aWxkaW5nc1tidWlsZGluZ0luZm8uaWQgYXMgc3RyaW5nXT8ubGVuZ3RoIHx8IDA7XG4gICAgICAgIGNvbnN0IGNvbnN0cnVjdGluZ0NvdW50ID0gYWN0aXZlVGFza3MuZmlsdGVyKHQgPT4gdC50eXBlID09PSAnYnVpbGQnICYmIHQucGF5bG9hZD8uYnVpbGRpbmdUeXBlID09PSBidWlsZGluZ0luZm8uaWQpLmxlbmd0aDtcbiAgICAgICAgY29uc3QgdG90YWxDb3VudCA9IGV4aXN0aW5nQ291bnQgKyBjb25zdHJ1Y3RpbmdDb3VudDtcbiAgICAgICAgY29uc3QgbGltaXQgPSBidWlsZGluZ0luZm8uaXNVbmlxdWUgPyAxIDogKGJ1aWxkaW5nSW5mby5idWlsZExpbWl0IHx8IDApO1xuXG4gICAgICAgIGlmIChsaW1pdCA+IDAgJiYgdG90YWxDb3VudCA+PSBsaW1pdCkge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKGBZb3UgaGF2ZSByZWFjaGVkIHRoZSBidWlsZCBsaW1pdCBmb3IgJHtidWlsZGluZ0luZm8ubmFtZX0gKCR7bGltaXR9KS5gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1pc3NpbmcgPSB1bmxpbWl0ZWRSZXNvdXJjZXMgPyBbXSA6IChPYmplY3Qua2V5cyhidWlsZGluZ0luZm8uY29zdCkgYXMgKGtleW9mIFJlc291cmNlcylbXSkuZmlsdGVyKHJlcyA9PiByZXNvdXJjZXNbcmVzXSA8IChidWlsZGluZ0luZm8uY29zdFtyZXNdIHx8IDApKTtcbiAgICAgICAgaWYgKG1pc3NpbmcubGVuZ3RoID4gMCkgeyBhZGROb3RpZmljYXRpb24oYE5lZWQgbW9yZSAke21pc3Npbmcuam9pbignLCAnKX0uYCk7IHJldHVybjsgfVxuICAgICAgICBcbiAgICAgICAgc2V0UGxheWVyQWN0aW9uKHsgbW9kZTogJ2J1aWxkJywgYnVpbGRpbmdUeXBlOiBidWlsZGluZ0lkLCB2aWxsYWdlcklkIH0pO1xuICAgICAgICBzZXRCdWlsZFBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCB2aWxsYWdlcklkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgU2VsZWN0IGEgbG9jYXRpb24gdG8gYnVpbGQgYSAke2J1aWxkaW5nSW5mby5uYW1lfS4gUmlnaHQtY2xpY2sgdG8gY2FuY2VsLmApO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVDb25maXJtUGxhY2VtZW50ID0gKHBvc2l0aW9uOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0pID0+IHtcbiAgICAgICAgaWYgKHBsYXllckFjdGlvbj8ubW9kZSAhPT0gJ2J1aWxkJykgcmV0dXJuO1xuICAgICAgICBjb25zdCB7IGJ1aWxkaW5nVHlwZSwgdmlsbGFnZXJJZCB9ID0gcGxheWVyQWN0aW9uO1xuICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IGJ1aWxkaW5nVHlwZSk7XG4gICAgICAgIGNvbnN0IGJ1aWxkZXIgPSB1bml0cy52aWxsYWdlcnMuZmluZCh2ID0+IHYuaWQgPT09IHZpbGxhZ2VySWQpO1xuICAgICAgICBpZiAoIWJ1aWxkaW5nSW5mbyB8fCAhYnVpbGRlcikgcmV0dXJuO1xuICAgICAgICBpZiAoIXVubGltaXRlZFJlc291cmNlcykgdXBkYXRlUmVzb3VyY2VzKE9iamVjdC5lbnRyaWVzKGJ1aWxkaW5nSW5mby5jb3N0KS5yZWR1Y2UoKGFjYywgW2ssIHZdKSA9PiAoey4uLmFjYywgW2tdOiAtdn0pLCB7fSkpO1xuICAgICAgICBcbiAgICAgICAgbGV0IGJ1aWxkVGltZSA9IGJ1aWxkaW5nSW5mby5idWlsZFRpbWUgKiAxMDAwO1xuICAgICAgICBpZihhY3RpdmVCdWZmcy5idWlsZFRpbWVSZWR1Y3Rpb24pIHtcbiAgICAgICAgICAgIGJ1aWxkVGltZSAqPSAoMSAtIGFjdGl2ZUJ1ZmZzLmJ1aWxkVGltZVJlZHVjdGlvbi5wZXJjZW50YWdlKTtcbiAgICAgICAgICAgIGFkZFRvTG9nKGBBIEJ1aWxkZXIncyBDaGFybSByZWR1Y2VkIGNvbnN0cnVjdGlvbiB0aW1lIGJ5ICR7YWN0aXZlQnVmZnMuYnVpbGRUaW1lUmVkdWN0aW9uLnBlcmNlbnRhZ2UgKiAxMDB9JSFgLCAnaXRlbScpO1xuICAgICAgICAgICAgc2V0QWN0aXZlQnVmZnMocHJldiA9PiAoey4uLnByZXYsIGJ1aWxkVGltZVJlZHVjdGlvbjogcHJldi5idWlsZFRpbWVSZWR1Y3Rpb24hLnVzZXMgLSAxID4gMCA/IHsuLi5wcmV2LmJ1aWxkVGltZVJlZHVjdGlvbiEsIHVzZXM6IHByZXYuYnVpbGRUaW1lUmVkdWN0aW9uIS51c2VzIC0gMX0gOiB1bmRlZmluZWQgfSkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0YXNrSWQgPSBgJHtEYXRlLm5vdygpfS1idWlsZC0ke2J1aWxkaW5nVHlwZX1gO1xuICAgICAgICBjb25zdCB0YXNrUGF5bG9hZCA9IHsgYnVpbGRpbmdUeXBlLCB2aWxsYWdlcklkczogW3ZpbGxhZ2VySWRdLCBwb3NpdGlvbiB9O1xuICAgICAgICBpZiAodW5saW1pdGVkUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICAgaGFuZGxlVGFza0NvbXBsZXRpb24oeyBpZDogdGFza0lkLCB0eXBlOiAnYnVpbGQnLCBzdGFydFRpbWU6IDAsIGR1cmF0aW9uOiAwLCBwYXlsb2FkOiB7IC4uLnRhc2tQYXlsb2FkLCBwb3NpdGlvbiB9IH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBbLi4ucHJldiwgeyBpZDogdGFza0lkLCB0eXBlOiAnYnVpbGQnLCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiBidWlsZFRpbWUsIHBheWxvYWQ6IHRhc2tQYXlsb2FkIH1dKTtcbiAgICAgICAgICAgIHNldFVuaXRzKHByZXYgPT4gKHsuLi5wcmV2LCB2aWxsYWdlcnM6IHByZXYudmlsbGFnZXJzLm1hcCh2ID0+IHYuaWQgPT09IHZpbGxhZ2VySWQgPyB7Li4udiwgY3VycmVudFRhc2s6IHRhc2tJZH0gOiB2KX0pKTtcbiAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGAke2J1aWxkZXIubmFtZX0gaGFzIHN0YXJ0ZWQgY29uc3RydWN0aW5nIGEgJHtidWlsZGluZ0luZm8ubmFtZX0uYCk7XG4gICAgICAgICAgICBhZGRUb0xvZyhgJHtidWlsZGVyLm5hbWV9IGJlZ2FuIGNvbnN0cnVjdGlvbiBvZiBhIG5ldyAke2J1aWxkaW5nSW5mby5uYW1lfS5gLCBidWlsZGluZ0luZm8uaWNvbklkKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRQbGF5ZXJBY3Rpb24obnVsbCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUNhbmNlbFBsYXllckFjdGlvbiA9ICgpID0+IHsgc2V0UGxheWVyQWN0aW9uKG51bGwpOyBzZXRBY3Rpdml0eVN0YXR1cygnQ29tbWFuZCBjYW5jZWxsZWQuJyk7IH07XG5cbiAgICBjb25zdCBoYW5kbGVEZW1vbGlzaEJ1aWxkaW5nID0gKHR5cGU6IEJ1aWxkaW5nVHlwZSB8IHN0cmluZywgaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAodHlwZSA9PT0gJ3Rvd25DZW50ZXInKSB7IGFkZE5vdGlmaWNhdGlvbihcIlRoZSBUb3duIENlbnRlciBpcyB0aGUgaGVhcnQgb2YgeW91ciBjaXZpbGl6YXRpb24gYW5kIGNhbm5vdCBiZSBkZW1vbGlzaGVkLlwiKTsgcmV0dXJuOyB9XG4gICAgICAgIGlmKGFjdGl2ZVRhc2tzLnNvbWUodCA9PiB0LnBheWxvYWQ/LmJ1aWxkaW5nSWQgPT09IGlkKSkgeyBhZGROb3RpZmljYXRpb24oXCJDYW5ub3QgZGVtb2xpc2ggYSBidWlsZGluZyB3aXRoIGFuIGFjdGl2ZSB0YXNrLlwiKTsgcmV0dXJuOyB9XG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gdHlwZSk7XG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5zdGFuY2UgPSBidWlsZGluZ3NbdHlwZSBhcyBzdHJpbmddLmZpbmQoYiA9PiBiLmlkID09PSBpZCk7XG4gICAgICAgIGlmICghYnVpbGRpbmdJbmZvIHx8ICFidWlsZGluZ0luc3RhbmNlKSByZXR1cm47XG4gICAgICAgIGlmICh0eXBlID09PSAnaG91c2VzJyAmJiBwb3B1bGF0aW9uLmN1cnJlbnQgPiAoYnVpbGRpbmdzLnRvd25DZW50ZXI/Lmxlbmd0aCA+IDAgPyAyMCA6IDApICsgKGJ1aWxkaW5ncy5ob3VzZXMubGVuZ3RoIC0gMSkgKiA1KSB7IGFkZE5vdGlmaWNhdGlvbihcIkNhbm5vdCBkZW1vbGlzaCB0aGlzIGhvdXNlLCB5b3VyIHBlb3BsZSB3b3VsZCBiZSBob21lbGVzcy5cIik7IHJldHVybjsgfVxuICAgICAgICBjb25zdCByZWZ1bmQgPSBPYmplY3QuZW50cmllcyhidWlsZGluZ0luZm8uY29zdCkucmVkdWNlKChhY2MsIFtyZXMsIGNvc3RdKSA9PiB7IGNvbnN0IGFtb3VudCA9IE1hdGguZmxvb3IoKGNvc3QgfHwgMCkgKiAwLjUpOyBpZiAoYW1vdW50ID4gMCkgYWNjW3JlcyBhcyBrZXlvZiBSZXNvdXJjZXNdID0gYW1vdW50OyByZXR1cm4gYWNjOyB9LCB7fSBhcyBSZXNvdXJjZURlbHRhcyk7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhyZWZ1bmQpLmxlbmd0aCA+IDApIHsgdXBkYXRlUmVzb3VyY2VzKHJlZnVuZCk7IGFkZE5vdGlmaWNhdGlvbihgU2FsdmFnZWQgJHtPYmplY3QuZW50cmllcyhyZWZ1bmQpLm1hcCgoW3IsYV0pID0+IGAke2F9ICR7cn1gKS5qb2luKCcsICcpfS5gKTsgfVxuICAgICAgICBzZXRCdWlsZGluZ3MocHJldiA9PiAoeyAuLi5wcmV2LCBbdHlwZSBhcyBzdHJpbmddOiBwcmV2W3R5cGUgYXMgc3RyaW5nXS5maWx0ZXIoYiA9PiBiLmlkICE9PSBpZCkgfSkpO1xuICAgICAgICBhZGRUb0xvZyhgJHtidWlsZGluZ0luc3RhbmNlLm5hbWV9ICgke2J1aWxkaW5nSW5mby5uYW1lfSkgd2FzIGRlbW9saXNoZWQuYCwgYnVpbGRpbmdJbmZvLmljb25JZCk7XG4gICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHtpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBpbnN0YW5jZUlkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVVcGRhdGVCdWlsZGluZyA9ICh0eXBlOiBCdWlsZGluZ1R5cGUgfCBzdHJpbmcsIGlkOiBzdHJpbmcsIG5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICBzZXRCdWlsZGluZ3MocHJldiA9PiAoeyAuLi5wcmV2LCBbdHlwZSBhcyBzdHJpbmddOiBwcmV2W3R5cGUgYXMgc3RyaW5nXS5tYXAoYiA9PiBiLmlkID09PSBpZCA/IHsgLi4uYiwgbmFtZSB9IDogYikgfSkpO1xuICAgICAgICBhZGROb3RpZmljYXRpb24oXCJCdWlsZGluZyByZW5hbWVkLlwiKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlVHJhaW5WaWxsYWdlcnMgPSAoY291bnQ6IG51bWJlcikgPT4ge1xuICAgICAgICBpZiAoYWN0aXZlVGFza3Muc29tZSh0ID0+IHQudHlwZSA9PT0gJ3RyYWluX3ZpbGxhZ2VyJykgfHwgY291bnQgPD0gMCkgcmV0dXJuO1xuICAgICAgICBpZiAocG9wdWxhdGlvbi5jdXJyZW50ICsgY291bnQgPiBwb3B1bGF0aW9uLmNhcGFjaXR5KSB7IGFkZE5vdGlmaWNhdGlvbihgTmVlZCBzcGFjZSBmb3IgJHtjb3VudH0gbW9yZSB2aWxsYWdlcnMuYCk7IHJldHVybjsgfVxuICAgICAgICBpZiAoIWJ1aWxkaW5ncy50b3duQ2VudGVyPy5bMF0pIHsgYWRkTm90aWZpY2F0aW9uKGBObyBUb3duIENlbnRlciB0byB0cmFpbiB2aWxsYWdlcnMuYCk7IHJldHVybjsgfVxuICAgICAgICBpZiAoIXVubGltaXRlZFJlc291cmNlcykgeyBjb25zdCB0b3RhbENvc3QgPSA1MCAqIGNvdW50OyBpZiAocmVzb3VyY2VzLmZvb2QgPCB0b3RhbENvc3QpIHsgYWRkTm90aWZpY2F0aW9uKGBOZWVkICR7dG90YWxDb3N0IC0gcmVzb3VyY2VzLmZvb2R9IG1vcmUgRm9vZC5gKTsgcmV0dXJuOyB9IHVwZGF0ZVJlc291cmNlcyh7IGZvb2Q6IC10b3RhbENvc3QgfSk7IH1cbiAgICAgICAgXG4gICAgICAgIGlmKHVubGltaXRlZFJlc291cmNlcykgaGFuZGxlVGFza0NvbXBsZXRpb24oeyBpZDogJ2luc3RhbnQnLCB0eXBlOiAndHJhaW5fdmlsbGFnZXInLCBzdGFydFRpbWU6IDAsIGR1cmF0aW9uOiAwLCBwYXlsb2FkOiB7IGNvdW50IH0gfSk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBbLi4ucHJldiwgeyBpZDogYCR7RGF0ZS5ub3coKX0tdHJhaW4tdmlsbGFnZXJgLCB0eXBlOiAndHJhaW5fdmlsbGFnZXInLCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiAxMDAwMCAqIGNvdW50LCBwYXlsb2FkOiB7IGNvdW50LCBidWlsZGluZ0lkOiBidWlsZGluZ3MudG93bkNlbnRlciFbMF0uaWQgfSB9XSk7XG4gICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgVHJhaW5pbmcgJHtjb3VudH0gdmlsbGFnZXIocykuLi5gKTsgYWRkVG9Mb2coYEJlZ2FuIHRyYWluaW5nICR7Y291bnR9IG5ldyB2aWxsYWdlcihzKS5gLCAndmlsbGFnZXInKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGluc3RhbmNlSWQ6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBoYW5kbGVUcmFpblVuaXRzID0gKHVuaXRUeXBlOiBNaWxpdGFyeVVuaXRUeXBlLCBjb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IHVuaXRJbmZvID0gdW5pdExpc3QuZmluZCh1ID0+IHUuaWQgPT09IHVuaXRUeXBlKTtcbiAgICAgICAgaWYgKCF1bml0SW5mbyB8fCBhY3RpdmVUYXNrcy5zb21lKHQgPT4gdC5wYXlsb2FkPy51bml0VHlwZSA9PT0gdW5pdFR5cGUpIHx8IGNvdW50IDw9IDApIHJldHVybjtcbiAgICAgICAgaWYgKHBvcHVsYXRpb24uY3VycmVudCArIGNvdW50ID4gcG9wdWxhdGlvbi5jYXBhY2l0eSkgeyBhZGROb3RpZmljYXRpb24oYE5lZWQgc3BhY2UgZm9yICR7Y291bnR9IG1vcmUgdW5pdHMuYCk7IHJldHVybjsgfVxuICAgICAgICBjb25zdCB0cmFpbmluZ0J1aWxkaW5nID0gYnVpbGRpbmdzW3VuaXRJbmZvLnJlcXVpcmVkQnVpbGRpbmcgYXMgQnVpbGRpbmdUeXBlXT8uWzBdO1xuICAgICAgICBpZiAoIXRyYWluaW5nQnVpbGRpbmcpIHsgYWRkTm90aWZpY2F0aW9uKGBObyAke2J1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gdW5pdEluZm8ucmVxdWlyZWRCdWlsZGluZyk/Lm5hbWV9IHRvIHRyYWluIHVuaXRzLmApOyByZXR1cm47IH1cblxuICAgICAgICBpZiAoIXVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgY29uc3QgbWlzc2luZyA9IChPYmplY3Qua2V5cyh1bml0SW5mby5jb3N0KSBhcyAoa2V5b2YgUmVzb3VyY2VzKVtdKS5maWx0ZXIocmVzID0+IHJlc291cmNlc1tyZXNdIDwgKHVuaXRJbmZvLmNvc3RbcmVzXSB8fCAwKSAqIGNvdW50KTtcbiAgICAgICAgICAgIGlmIChtaXNzaW5nLmxlbmd0aCA+IDApIHsgYWRkTm90aWZpY2F0aW9uKGBOZWVkIG1vcmUgJHttaXNzaW5nLmpvaW4oJyBhbmQgJyl9LmApOyByZXR1cm47IH1cbiAgICAgICAgICAgIHVwZGF0ZVJlc291cmNlcyhPYmplY3QuZW50cmllcyh1bml0SW5mby5jb3N0KS5yZWR1Y2UoKGFjYywgW2ssIHZdKSA9PiAoey4uLmFjYywgW2tdOiAtKHYgfHwgMCkgKiBjb3VudH0pLCB7fSkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBsZXQgdHJhaW5UaW1lID0gdW5pdEluZm8udHJhaW5UaW1lICogMTAwMCAqIGNvdW50O1xuICAgICAgICBpZihhY3RpdmVCdWZmcy5wZXJtYW5lbnRUcmFpblRpbWVSZWR1Y3Rpb24pIHRyYWluVGltZSAqPSAoMSAtIGFjdGl2ZUJ1ZmZzLnBlcm1hbmVudFRyYWluVGltZVJlZHVjdGlvbik7XG4gICAgICAgIGlmIChhY3RpdmVCdWZmcy50cmFpblRpbWVSZWR1Y3Rpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IGFwcGxpY2FibGUgPSBNYXRoLm1pbihjb3VudCwgYWN0aXZlQnVmZnMudHJhaW5UaW1lUmVkdWN0aW9uLnVzZXMpO1xuICAgICAgICAgICAgdHJhaW5UaW1lID0gKHVuaXRJbmZvLnRyYWluVGltZSAqIDEwMDAgKiBhcHBsaWNhYmxlICogKDEgLSBhY3RpdmVCdWZmcy50cmFpblRpbWVSZWR1Y3Rpb24ucGVyY2VudGFnZSkpICsgKHVuaXRJbmZvLnRyYWluVGltZSAqIDEwMDAgKiAoY291bnQgLSBhcHBsaWNhYmxlKSk7XG4gICAgICAgICAgICBpZiAoYWN0aXZlQnVmZnMudHJhaW5UaW1lUmVkdWN0aW9uLnVzZXMgLSBhcHBsaWNhYmxlID4gMCkgc2V0QWN0aXZlQnVmZnMocHJldiA9PiAoey4uLnByZXYsIHRyYWluVGltZVJlZHVjdGlvbjogey4uLnByZXYudHJhaW5UaW1lUmVkdWN0aW9uISwgdXNlczogcHJldi50cmFpblRpbWVSZWR1Y3Rpb24hLnVzZXMgLSBhcHBsaWNhYmxlfX0pKTtcbiAgICAgICAgICAgIGVsc2UgeyBzZXRBY3RpdmVCdWZmcyhwcmV2ID0+ICh7Li4ucHJldiwgdHJhaW5UaW1lUmVkdWN0aW9uOiB1bmRlZmluZWR9KSk7IGFkZFRvTG9nKFwiVGhlIERyaWxsbWFzdGVyJ3MgV2hpc3RsZSBidWZmIGhhcyBiZWVuIGZ1bGx5IHVzZWQuXCIsICdpdGVtJyk7IH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYodW5saW1pdGVkUmVzb3VyY2VzKSBoYW5kbGVUYXNrQ29tcGxldGlvbih7IGlkOiAnaW5zdGFudCcsIHR5cGU6ICd0cmFpbl9taWxpdGFyeScsIHN0YXJ0VGltZTogMCwgZHVyYXRpb246IDAsIHBheWxvYWQ6IHsgdW5pdFR5cGUsIGNvdW50IH0gfSk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBbLi4ucHJldiwgeyBpZDogYCR7RGF0ZS5ub3coKX0tdHJhaW4tJHt1bml0VHlwZX1gLCB0eXBlOiAndHJhaW5fbWlsaXRhcnknLCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiB0cmFpblRpbWUsIHBheWxvYWQ6IHsgdW5pdFR5cGUsIGNvdW50LCBidWlsZGluZ0lkOiB0cmFpbmluZ0J1aWxkaW5nLmlkIH0gfV0pO1xuICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYFRyYWluaW5nICR7Y291bnR9ICR7dW5pdEluZm8ubmFtZX0ocykuLi5gKTsgYWRkVG9Mb2coYEJlZ2FuIHRyYWluaW5nICR7Y291bnR9IG5ldyAke3VuaXRJbmZvLm5hbWV9KHMpLmAsIHVuaXRUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGluc3RhbmNlSWQ6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZURpc21pc3NTcGVjaWZpY1VuaXQgPSAodHlwZTogJ3ZpbGxhZ2VycycgfCAnbWlsaXRhcnknLCBpZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmICh0eXBlID09PSAndmlsbGFnZXJzJyAmJiBpc1ZpbGxhZ2VyQnVzeShpZCkpIHsgYWRkTm90aWZpY2F0aW9uKFwiQ2Fubm90IGRpc21pc3MgYSBidXN5IHZpbGxhZ2VyLlwiKTsgcmV0dXJuOyB9XG4gICAgICAgIGNvbnN0IHVuaXQgPSB1bml0c1t0eXBlXS5maW5kKHUgPT4gdS5pZCA9PT0gaWQpOyBpZiAoIXVuaXQpIHJldHVybjtcbiAgICAgICAgaWYgKHR5cGUgPT09ICd2aWxsYWdlcnMnICYmIHVuaXRzLnZpbGxhZ2Vycy5sZW5ndGggPD0gMSkgeyBhZGROb3RpZmljYXRpb24oXCJDYW5ub3QgZGlzbWlzcyB5b3VyIGxhc3QgdmlsbGFnZXIuXCIpOyByZXR1cm47IH1cbiAgICAgICAgc2V0VW5pdHMocHJldiA9PiAoeyAuLi5wcmV2LCBbdHlwZV06IHByZXZbdHlwZV0uZmlsdGVyKHUgPT4gdS5pZCAhPT0gaWQpIH0pKTtcbiAgICAgICAgY29uc3QgdW5pdFR5cGVOYW1lID0gdHlwZSA9PT0gJ3ZpbGxhZ2VycycgPyAndmlsbGFnZXInIDogKHVuaXQgYXMgTWlsaXRhcnlVbml0KS51bml0VHlwZTtcbiAgICAgICAgYWRkVG9Mb2coYCR7dW5pdC5uYW1lfSB0aGUgJHt1bml0VHlwZU5hbWV9IGhhcyBiZWVuIGRpc21pc3NlZC5gLCB0eXBlID09PSAndmlsbGFnZXJzJyA/ICd2aWxsYWdlcicgOiAodW5pdCBhcyBNaWxpdGFyeVVuaXQpLnVuaXRUeXBlKTtcbiAgICAgICAgYWRkTm90aWZpY2F0aW9uKGAke3VuaXQubmFtZX0gd2FzIGRpc21pc3NlZC5gKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlVXBkYXRlVW5pdCA9ICh0eXBlOiAndmlsbGFnZXJzJyB8ICdtaWxpdGFyeScsIGlkOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgdGl0bGU/OiBzdHJpbmcpID0+IHtcbiAgICAgICAgIHNldFVuaXRzKHByZXYgPT4gKHsgLi4ucHJldiwgW3R5cGVdOiBwcmV2W3R5cGVdLm1hcCh1ID0+IHUuaWQgPT09IGlkID8gKHR5cGUgPT09ICdtaWxpdGFyeScgJiYgdGl0bGUgIT09IHVuZGVmaW5lZCA/IHsgLi4udSwgbmFtZSwgdGl0bGUgfSA6IHsgLi4udSwgbmFtZSB9KSA6IHUpfSkpO1xuICAgICAgICBhZGROb3RpZmljYXRpb24oXCJVbml0IHVwZGF0ZWQuXCIpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVBc3NpZ25WaWxsYWdlcnNUb0NvbnN0cnVjdGlvbiA9IChjb25zdHJ1Y3Rpb25JZDogc3RyaW5nLCBjb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkbGVWaWxsYWdlcnMgPSB1bml0cy52aWxsYWdlcnMuZmlsdGVyKHYgPT4gIXYuY3VycmVudFRhc2spO1xuICAgICAgICBpZiAoY291bnQgPD0gMCB8fCBpZGxlVmlsbGFnZXJzLmxlbmd0aCA9PT0gMCkgeyBhZGROb3RpZmljYXRpb24oXCJObyBpZGxlIHZpbGxhZ2VycyBhdmFpbGFibGUuXCIpOyByZXR1cm47IH1cbiAgICAgICAgY29uc3QgdGFzayA9IGFjdGl2ZVRhc2tzLmZpbmQodCA9PiB0LmlkID09PSBjb25zdHJ1Y3Rpb25JZCk7IGlmICghdGFzayB8fCB0YXNrLnR5cGUgIT09ICdidWlsZCcpIHJldHVybjtcbiAgICAgICAgY29uc3QgYnVpbGRpbmdJbmZvID0gYnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSB0YXNrLnBheWxvYWQ/LmJ1aWxkaW5nVHlwZSk7IGlmICghYnVpbGRpbmdJbmZvKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgY2FwcGVkQ291bnQgPSBNYXRoLm1pbihjb3VudCwgaWRsZVZpbGxhZ2Vycy5sZW5ndGgpO1xuICAgICAgICBjb25zdCB2aWxsYWdlcnNUb0Fzc2lnbiA9IGlkbGVWaWxsYWdlcnMuc2xpY2UoMCwgY2FwcGVkQ291bnQpLm1hcCh2ID0+IHYuaWQpO1xuICAgICAgICBjb25zdCB3b3JrRG9uZSA9IChEYXRlLm5vdygpIC0gdGFzay5zdGFydFRpbWUpICogKHRhc2sucGF5bG9hZD8udmlsbGFnZXJJZHM/Lmxlbmd0aCB8fCAxKTtcbiAgICAgICAgY29uc3Qgd29ya1JlbWFpbmluZyA9IE1hdGgubWF4KDAsIChidWlsZGluZ0luZm8uYnVpbGRUaW1lICogMTAwMCkgLSB3b3JrRG9uZSk7XG4gICAgICAgIGNvbnN0IG5ld1dvcmtlckNvdW50ID0gKHRhc2sucGF5bG9hZD8udmlsbGFnZXJJZHM/Lmxlbmd0aCB8fCAwKSArIGNhcHBlZENvdW50O1xuICAgICAgICBjb25zdCBuZXdSZW1haW5pbmdEdXJhdGlvbiA9IHdvcmtSZW1haW5pbmcgLyBuZXdXb3JrZXJDb3VudDtcbiAgICAgICAgXG4gICAgICAgIHNldFVuaXRzKHByZXYgPT4gKHsuLi5wcmV2LCB2aWxsYWdlcnM6IHByZXYudmlsbGFnZXJzLm1hcCh2ID0+IHZpbGxhZ2Vyc1RvQXNzaWduLmluY2x1ZGVzKHYuaWQpID8gey4uLnYsIGN1cnJlbnRUYXNrOiBjb25zdHJ1Y3Rpb25JZH0gOiB2KX0pKTtcbiAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBwcmV2Lm1hcCh0ID0+IHQuaWQgPT09IGNvbnN0cnVjdGlvbklkID8geyAuLi50LCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiBuZXdSZW1haW5pbmdEdXJhdGlvbiwgcGF5bG9hZDogeyAuLi50LnBheWxvYWQsIHZpbGxhZ2VySWRzOiBbLi4udC5wYXlsb2FkIS52aWxsYWdlcklkcyEsIC4uLnZpbGxhZ2Vyc1RvQXNzaWduXSB9IH0gOiB0KSk7XG4gICAgICAgIGFkZFRvTG9nKGAke2NhcHBlZENvdW50fSB2aWxsYWdlcihzKSBhcmUgbm93IGFzc2lzdGluZyB3aXRoIHRoZSAke2J1aWxkaW5nSW5mby5uYW1lfS5gLCBidWlsZGluZ0luZm8uaWNvbklkKTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYENvbnN0cnVjdGlvbiBvZiB0aGUgJHtidWlsZGluZ0luZm8ubmFtZX0gaXMgbm93IGZhc3Rlci5gKTtcbiAgICAgICAgc2V0QXNzaWdubWVudFBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQXNzaWduVmlsbGFnZXJzID0gKHRhcmdldElkOiBzdHJpbmcsIGNvdW50OiBudW1iZXIpID0+IHtcbiAgICAgICAgaWYgKGFzc2lnbm1lbnRQYW5lbFN0YXRlLnRhcmdldFR5cGUgPT09ICdjb25zdHJ1Y3Rpb24nKSByZXR1cm4gaGFuZGxlQXNzaWduVmlsbGFnZXJzVG9Db25zdHJ1Y3Rpb24odGFyZ2V0SWQsIGNvdW50KTtcbiAgICAgICAgY29uc3QgaWRsZVZpbGxhZ2VycyA9IHVuaXRzLnZpbGxhZ2Vycy5maWx0ZXIodiA9PiAhdi5jdXJyZW50VGFzayk7XG4gICAgICAgIGlmIChjb3VudCA8PSAwIHx8IGlkbGVWaWxsYWdlcnMubGVuZ3RoID09PSAwKSB7IGFkZE5vdGlmaWNhdGlvbihcIk5vIGlkbGUgdmlsbGFnZXJzIGF2YWlsYWJsZS5cIik7IHJldHVybjsgfVxuICAgICAgICBjb25zdCB0YXJnZXROb2RlID0gcmVzb3VyY2VOb2Rlcy5maW5kKG4gPT4gbi5pZCA9PT0gdGFyZ2V0SWQpOyBpZiAoIXRhcmdldE5vZGUpIHJldHVybjtcbiAgICAgICAgY29uc3QgY2FwcGVkQ291bnQgPSBNYXRoLm1pbihjb3VudCwgaWRsZVZpbGxhZ2Vycy5sZW5ndGgpO1xuICAgICAgICBjb25zdCB2aWxsYWdlcnNUb0Fzc2lnbiA9IGlkbGVWaWxsYWdlcnMuc2xpY2UoMCwgY2FwcGVkQ291bnQpLm1hcCh2ID0+IHYuaWQpO1xuICAgICAgICBjb25zdCB0YXNrSWQgPSBgZ2F0aGVyLSR7dGFyZ2V0SWR9YDtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdUYXNrID0gYWN0aXZlVGFza3MuZmluZCh0ID0+IHQuaWQgPT09IHRhc2tJZCk7XG4gICAgICAgIFxuICAgICAgICBpZiAodW5saW1pdGVkUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXMoeyBbdGFyZ2V0Tm9kZS50eXBlXTogdGFyZ2V0Tm9kZS5hbW91bnQgfSk7XG4gICAgICAgICAgICBhZGRUb0xvZyhgJHtjYXBwZWRDb3VudH0gdmlsbGFnZXIocykgaW5zdGFudGx5IGdhdGhlcmVkICR7TWF0aC5mbG9vcih0YXJnZXROb2RlLmFtb3VudCl9ICR7dGFyZ2V0Tm9kZS50eXBlfS5gLCB0YXJnZXROb2RlLnR5cGUpO1xuICAgICAgICAgICAgc2V0UmVzb3VyY2VOb2RlcyhwcmV2ID0+IHByZXYuZmlsdGVyKG4gPT4gbi5pZCAhPT0gdGFyZ2V0SWQpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChleGlzdGluZ1Rhc2spIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gcHJldi5tYXAodCA9PiB0LmlkID09PSB0YXNrSWQgPyB7IC4uLnQsIHBheWxvYWQ6IHsgLi4udC5wYXlsb2FkLCB2aWxsYWdlcklkczogWy4uLm5ldyBTZXQoWy4uLnQucGF5bG9hZCEudmlsbGFnZXJJZHMhLCAuLi52aWxsYWdlcnNUb0Fzc2lnbl0pXSB9IH0gOiB0KSk7XG4gICAgICAgICAgICBlbHNlIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gWy4uLnByZXYsIHsgaWQ6IHRhc2tJZCwgdHlwZTogJ2dhdGhlcicsIHN0YXJ0VGltZTogRGF0ZS5ub3coKSwgZHVyYXRpb246IDk5OTk5OTk5OSwgcGF5bG9hZDogeyByZXNvdXJjZU5vZGVJZDogdGFyZ2V0SWQsIHZpbGxhZ2VySWRzOiB2aWxsYWdlcnNUb0Fzc2lnbiB9IH1dKTtcbiAgICAgICAgICAgIHNldFVuaXRzKHByZXYgPT4gKHsuLi5wcmV2LCB2aWxsYWdlcnM6IHByZXYudmlsbGFnZXJzLm1hcCh2ID0+IHZpbGxhZ2Vyc1RvQXNzaWduLmluY2x1ZGVzKHYuaWQpID8gey4uLnYsIGN1cnJlbnRUYXNrOiB0YXNrSWR9IDogdil9KSk7XG4gICAgICAgIH1cbiAgICAgICAgYWRkVG9Mb2coYCR7Y2FwcGVkQ291bnR9IHZpbGxhZ2VyKHMpIGFzc2lnbmVkIHRvIGdhdGhlciAke3RhcmdldE5vZGUudHlwZX0uYCwgdGFyZ2V0Tm9kZS50eXBlKTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYCR7Y2FwcGVkQ291bnR9IHZpbGxhZ2VyKHMpIGFyZSBub3cgZ2F0aGVyaW5nICR7dGFyZ2V0Tm9kZS50eXBlfS5gKTtcbiAgICAgICAgc2V0QXNzaWdubWVudFBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlUmVjYWxsVmlsbGFnZXJzID0gKHRhcmdldElkOiBzdHJpbmcsIGNvdW50OiBudW1iZXIsIHR5cGU6ICdyZXNvdXJjZScgfCAnY29uc3RydWN0aW9uJykgPT4ge1xuICAgICAgICBjb25zdCB0YXNrID0gYWN0aXZlVGFza3MuZmluZCh0ID0+IHQuaWQgPT09IHRhcmdldElkKTtcbiAgICAgICAgaWYgKCF0YXNrIHx8ICh0YXNrLnBheWxvYWQ/LnZpbGxhZ2VySWRzPy5sZW5ndGggPz8gMCkgPCBjb3VudCkgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdmlsbGFnZXJzVG9SZWNhbGwgPSB0YXNrLnBheWxvYWQhLnZpbGxhZ2VySWRzIS5zbGljZSh0YXNrLnBheWxvYWQhLnZpbGxhZ2VySWRzIS5sZW5ndGggLSBjb3VudCk7XG4gICAgICAgIGlmICh0eXBlID09PSAnY29uc3RydWN0aW9uJyAmJiB2aWxsYWdlcnNUb1JlY2FsbC5sZW5ndGggPT09IHRhc2sucGF5bG9hZCEudmlsbGFnZXJJZHMhLmxlbmd0aCkgeyBhZGROb3RpZmljYXRpb24oXCJDYW5ub3QgcmVjYWxsIHRoZSBsYXN0IGJ1aWxkZXIgZnJvbSBhIHByb2plY3QuXCIpOyByZXR1cm47IH1cblxuICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7Li4ucHJldiwgdmlsbGFnZXJzOiBwcmV2LnZpbGxhZ2Vycy5tYXAodiA9PiB2aWxsYWdlcnNUb1JlY2FsbC5pbmNsdWRlcyh2LmlkKSA/IHsuLi52LCBjdXJyZW50VGFzazogbnVsbH0gOiB2KX0pKTtcbiAgICAgICAgY29uc3QgcmVtYWluaW5nVmlsbGFnZXJzID0gdGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEuZmlsdGVyKGlkID0+ICF2aWxsYWdlcnNUb1JlY2FsbC5pbmNsdWRlcyhpZCkpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHJlbWFpbmluZ1ZpbGxhZ2Vycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gcHJldi5maWx0ZXIodCA9PiB0LmlkICE9PSB0YXJnZXRJZCkpO1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHJlc291cmNlTm9kZXMuZmluZChuID0+IG4uaWQgPT09IHRhcmdldElkKTtcbiAgICAgICAgICAgIGlmKG5vZGUpIGFkZFRvTG9nKGBBbGwgdmlsbGFnZXJzIHJlY2FsbGVkIGZyb20gZ2F0aGVyaW5nICR7bm9kZS50eXBlfS5gLCAndmlsbGFnZXInKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gdGFzay5wYXlsb2FkPy5idWlsZGluZ1R5cGUpITtcbiAgICAgICAgICAgIGNvbnN0IHdvcmtEb25lID0gKERhdGUubm93KCkgLSB0YXNrLnN0YXJ0VGltZSkgKiB0YXNrLnBheWxvYWQhLnZpbGxhZ2VySWRzIS5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBuZXdSZW1haW5pbmdEdXJhdGlvbiA9IChidWlsZGluZ0luZm8uYnVpbGRUaW1lICogMTAwMCAtIHdvcmtEb25lKSAvIHJlbWFpbmluZ1ZpbGxhZ2Vycy5sZW5ndGg7XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IHByZXYubWFwKHQgPT4gdC5pZCA9PT0gdGFyZ2V0SWQgPyB7IC4uLnQsIHN0YXJ0VGltZTogRGF0ZS5ub3coKSwgZHVyYXRpb246IG5ld1JlbWFpbmluZ0R1cmF0aW9uLCBwYXlsb2FkOiB7IC4uLnQucGF5bG9hZCwgdmlsbGFnZXJJZHM6IHJlbWFpbmluZ1ZpbGxhZ2VycyB9IH0gOiB0KSk7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2NvbnN0cnVjdGlvbicpIGFkZFRvTG9nKGAke2NvdW50fSBidWlsZGVyKHMpIHJlY2FsbGVkLiBDb25zdHJ1Y3Rpb24gd2lsbCBub3cgYmUgc2xvd2VyLmAsICd2aWxsYWdlcicpO1xuICAgICAgICB9XG4gICAgICAgIHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdGFyZ2V0SWQ6IG51bGwsIHRhcmdldFR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUFkdmFuY2VBZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmIChhY3RpdmVUYXNrcy5zb21lKHQgPT4gdC50eXBlID09PSAnYWR2YW5jZV9hZ2UnKSkgeyBhZGROb3RpZmljYXRpb24oXCJBZHZhbmNlbWVudCBhbHJlYWR5IGluIHByb2dyZXNzLlwiKTsgcmV0dXJuOyB9XG4gICAgICAgIGlmICghdW5saW1pdGVkUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICBjb25zdCBtaXNzaW5nID0gW107XG4gICAgICAgICAgICBpZiAocmVzb3VyY2VzLmZvb2QgPCA1MDApIG1pc3NpbmcucHVzaChgJHs1MDAgLSByZXNvdXJjZXMuZm9vZH0gRm9vZGApO1xuICAgICAgICAgICAgaWYgKHJlc291cmNlcy5nb2xkIDwgMjAwKSBtaXNzaW5nLnB1c2goYCR7MjAwIC0gcmVzb3VyY2VzLmdvbGR9IEdvbGRgKTtcbiAgICAgICAgICAgIGlmIChtaXNzaW5nLmxlbmd0aCA+IDApIHsgYWRkTm90aWZpY2F0aW9uKGBUbyBhZHZhbmNlLCB5b3UgbmVlZCAke21pc3Npbmcuam9pbignIGFuZCAnKX0uYCk7IHJldHVybjsgfVxuICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKHsgZm9vZDogLTUwMCwgZ29sZDogLTIwMCB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhY3RpdmVBZ2VzID0gbWFzdGVyQWdlTGlzdC5maWx0ZXIoYSA9PiBhLmlzQWN0aXZlKTtcbiAgICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gYWN0aXZlQWdlcy5maW5kSW5kZXgoYWdlID0+IGFnZS5uYW1lID09PSBjdXJyZW50QWdlKTtcbiAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA9PT0gLTEgfHwgY3VycmVudEluZGV4ICsgMSA+PSBhY3RpdmVBZ2VzLmxlbmd0aCkgeyBhZGROb3RpZmljYXRpb24oXCJZb3UgaGF2ZSByZWFjaGVkIHRoZSBmaW5hbCBhdmFpbGFibGUgYWdlLlwiKTsgcmV0dXJuOyB9XG5cbiAgICAgICAgaWYodW5saW1pdGVkUmVzb3VyY2VzKSBoYW5kbGVUYXNrQ29tcGxldGlvbih7IGlkOiAnaW5zdGFudCcsIHR5cGU6ICdhZHZhbmNlX2FnZScsIHN0YXJ0VGltZTogMCwgZHVyYXRpb246IDAsIHBheWxvYWQ6IHt9IH0pO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gWy4uLnByZXYsIHsgaWQ6IGAke0RhdGUubm93KCl9LWFkdmFuY2VfYWdlYCwgdHlwZTogJ2FkdmFuY2VfYWdlJywgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBkdXJhdGlvbjogNjAwMDAgfV0pO1xuICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYFlvdXIgcGVvcGxlIGJlZ2luIHRoZSBsb25nIGpvdXJuZXkgdG8gYSBuZXcgYWdlLmApO1xuICAgICAgICAgICAgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBpbnN0YW5jZUlkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBoYW5kbGVFeGl0R2FtZSA9IGFzeW5jICgpID0+IHsgc2V0Q3VycmVudFNhdmVOYW1lKG51bGwpOyBhd2FpdCBmZXRjaFNhdmVzQW5kQ29uZmlncygpOyBzZXRHYW1lU3RhdGUoR2FtZVN0YXR1cy5NRU5VKTsgfTtcbiAgICBjb25zdCBoYW5kbGVEZWxldGVHYW1lID0gYXN5bmMgKHNhdmVOYW1lOiBzdHJpbmcpID0+IHsgYXdhaXQgZGVsZXRlR2FtZVN0YXRlKHNhdmVOYW1lKTsgYXdhaXQgZmV0Y2hTYXZlc0FuZENvbmZpZ3MoKTsgYWRkTm90aWZpY2F0aW9uKGBEZWxldGVkIHNhZ2E6IFwiJHtzYXZlTmFtZX1cImApOyB9O1xuXG4gICAgY29uc3QgaGFuZGxlVG9nZ2xlVW5saW1pdGVkUmVzb3VyY2VzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdNb2RlID0gIXVubGltaXRlZFJlc291cmNlcztcbiAgICAgICAgc2V0VW5saW1pdGVkUmVzb3VyY2VzKG5ld01vZGUpO1xuICAgICAgICBpZiAobmV3TW9kZSkge1xuICAgICAgICAgICAgc2V0UmVzb3VyY2VzKHsgZm9vZDogOTk5OTksIHdvb2Q6IDk5OTk5LCBnb2xkOiA5OTk5OSwgc3RvbmU6IDk5OTk5IH0pO1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiVGVzdCBNb2RlOiBPTiAtIEFsbCBhY3RpdmUgdGFza3MgY29tcGxldGVkLlwiKTtcbiAgICAgICAgICAgIGNvbnN0IGRlcGxldGVkTm9kZUlkcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICAgICAgICAgYWN0aXZlVGFza3MuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGFzay50eXBlID09PSAnZ2F0aGVyJyAmJiB0YXNrLnBheWxvYWQ/LnJlc291cmNlTm9kZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcGxldGVkTm9kZUlkcy5hZGQodGFzay5wYXlsb2FkLnJlc291cmNlTm9kZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHJlc291cmNlTm9kZXMuZmluZChuID0+IG4uaWQgPT09IHRhc2sucGF5bG9hZC5yZXNvdXJjZU5vZGVJZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlKSBhZGRUb0xvZyhgSW5zdGFudGx5IGdhdGhlcmVkIGFsbCAke25vZGUudHlwZX0gZnJvbSBhIGRlcGxldGVkIHNvdXJjZS5gLCBub2RlLnR5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBoYW5kbGVUYXNrQ29tcGxldGlvbih0YXNrKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MoW10pO1xuICAgICAgICAgICAgaWYgKGRlcGxldGVkTm9kZUlkcy5zaXplID4gMCkgc2V0UmVzb3VyY2VOb2RlcyhwcmV2ID0+IHByZXYuZmlsdGVyKG4gPT4gIWRlcGxldGVkTm9kZUlkcy5oYXMobi5pZCkpKTtcbiAgICAgICAgfSBlbHNlIGFkZE5vdGlmaWNhdGlvbihcIlRlc3QgTW9kZTogT0ZGXCIpO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgaGFuZGxlVXNlSXRlbSA9IChpdGVtSWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBpdGVtID0gaW52ZW50b3J5LmZpbmQoaSA9PiBpLmlkID09PSBpdGVtSWQpOyBpZiAoIWl0ZW0pIHJldHVybjtcbiAgICAgICAgY29uc3QgYmFzZUl0ZW1JZCA9IGl0ZW0uaWQuc3BsaXQoJy0nKVswXTtcbiAgICAgICAgY29uc3QgY29uc3RydWN0aW9uVGFza3MgPSBhY3RpdmVUYXNrcy5maWx0ZXIodCA9PiB0LnR5cGUgPT09ICdidWlsZCcpO1xuICAgICAgICBzd2l0Y2goYmFzZUl0ZW1JZCkge1xuICAgICAgICAgICAgY2FzZSAnc2Nyb2xsX29mX2hhc3RlJzogY2FzZSAnYmx1ZXByaW50X29mX3RoZV9tYXN0ZXInOlxuICAgICAgICAgICAgICAgIGlmIChjb25zdHJ1Y3Rpb25UYXNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhc2sgPSBjb25zdHJ1Y3Rpb25UYXNrcy5zb3J0KChhLGIpID0+IChiLnN0YXJ0VGltZSArIGIuZHVyYXRpb24pIC0gKGEuc3RhcnRUaW1lICsgYS5kdXJhdGlvbikpWzBdO1xuICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwID0+IHAubWFwKHQgPT4gdC5pZCA9PT0gdGFzay5pZCA/IHsgLi4udCwgZHVyYXRpb246IE1hdGgubWF4KDAsIHQuZHVyYXRpb24gLSAoYmFzZUl0ZW1JZCA9PT0gJ3Njcm9sbF9vZl9oYXN0ZScgPyAxNTAwMCA6IDYwMDAwKSkgfSA6IHQpKTtcbiAgICAgICAgICAgICAgICAgICAgYWRkVG9Mb2coYFVzZWQgJHtpdGVtLm5hbWV9IG9uIHRoZSAke2J1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gdGFzay5wYXlsb2FkPy5idWlsZGluZ1R5cGUpPy5uYW1lfS5gLCAnaXRlbScpO1xuICAgICAgICAgICAgICAgIH0gYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdoZWFydHlfbWVhbCc6IHVwZGF0ZVJlc291cmNlcyh7IGZvb2Q6IDc1IH0pOyBhZGRUb0xvZyhgVXNlZCAke2l0ZW0ubmFtZX0gdG8gZ2FpbiA3NSBmb29kLmAsICdpdGVtJyk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYnVpbGRlcnNfY2hhcm0nOiBzZXRBY3RpdmVCdWZmcyhwID0+ICh7Li4ucCwgYnVpbGRUaW1lUmVkdWN0aW9uOiB7IHBlcmNlbnRhZ2U6IDAuMSwgdXNlczogMSB9fSkpOyBhZGRUb0xvZyhgVXNlZCAke2l0ZW0ubmFtZX0uIE5leHQgYnVpbGRpbmcgaXMgMTAlIGZhc3Rlci5gLCAnaXRlbScpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2RyaWxsbWFzdGVyc193aGlzdGxlJzogc2V0QWN0aXZlQnVmZnMocCA9PiAoey4uLnAsIHRyYWluVGltZVJlZHVjdGlvbjogeyBwZXJjZW50YWdlOiAwLjI1LCB1c2VzOiA1IH19KSk7IGFkZFRvTG9nKGBVc2VkICR7aXRlbS5uYW1lfS4gTmV4dCA1IHVuaXRzIHRyYWluIDI1JSBmYXN0ZXIuYCwgJ2l0ZW0nKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdnb2xkZW5faGFydmVzdCc6IHNldEFjdGl2ZUJ1ZmZzKHAgPT4gKHsuLi5wLCByZXNvdXJjZUJvb3N0OiBbLi4uKHAucmVzb3VyY2VCb29zdCB8fCBbXSksIHsgcmVzb3VyY2U6ICdmb29kJywgbXVsdGlwbGllcjogMS41LCBlbmRUaW1lOiBEYXRlLm5vdygpICsgNjAwMDAgfV19KSk7IGFkZFRvTG9nKGBVc2VkICR7aXRlbS5uYW1lfS4gRm9vZCBnYXRoZXJpbmcgYm9vc3RlZCBieSA1MCUgZm9yIDYwcy5gLCAnaXRlbScpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NoYXJkX29mX3RoZV9hbmNpZW50cyc6XG4gICAgICAgICAgICAgICAgaWYgKGNvbnN0cnVjdGlvblRhc2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFzayA9IGNvbnN0cnVjdGlvblRhc2tzLnNvcnQoKGEsYikgPT4gKGIuc3RhcnRUaW1lICsgYi5kdXJhdGlvbikgLSAoYS5zdGFydFRpbWUgKyBhLmR1cmF0aW9uKSlbMF07XG4gICAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHAgPT4gcC5maWx0ZXIodCA9PiB0LmlkICE9PSB0YXNrLmlkKSk7IGhhbmRsZVRhc2tDb21wbGV0aW9uKHRhc2spO1xuICAgICAgICAgICAgICAgICAgICBhZGRUb0xvZyhgVXNlZCAke2l0ZW0ubmFtZX0gdG8gaW5zdGFudGx5IGNvbXBsZXRlIHRoZSAke2J1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gdGFzay5wYXlsb2FkPy5idWlsZGluZ1R5cGUpPy5uYW1lfS5gLCAnaXRlbScpO1xuICAgICAgICAgICAgICAgIH0gYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdoZWFydF9vZl90aGVfbW91bnRhaW4nOlxuICAgICAgICAgICAgICAgIHNldEFjdGl2ZUJ1ZmZzKHAgPT4gKHsuLi5wLCByZXNvdXJjZUJvb3N0OiBbLi4uKHAucmVzb3VyY2VCb29zdCB8fCBbXSksIHsgcmVzb3VyY2U6ICdnb2xkJywgbXVsdGlwbGllcjogMiwgZW5kVGltZTogRGF0ZS5ub3coKSArIDEyMDAwMCB9LCB7IHJlc291cmNlOiAnc3RvbmUnLCBtdWx0aXBsaWVyOiAyLCBlbmRUaW1lOiBEYXRlLm5vdygpICsgMTIwMDAwIH1dfSkpO1xuICAgICAgICAgICAgICAgIGFkZFRvTG9nKGBVc2VkICR7aXRlbS5uYW1lfS4gR29sZCBhbmQgU3RvbmUgZ2F0aGVyaW5nIGRvdWJsZWQgZm9yIDIgbWludXRlcy5gLCAnaXRlbScpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Jhbm5lcl9vZl9jb21tYW5kJzpcbiAgICAgICAgICAgICAgICBzZXRBY3RpdmVCdWZmcyhwID0+ICh7Li4ucCwgcGVybWFuZW50VHJhaW5UaW1lUmVkdWN0aW9uOiAocC5wZXJtYW5lbnRUcmFpblRpbWVSZWR1Y3Rpb24gfHwgMCkgKyAwLjA1fSkpO1xuICAgICAgICAgICAgICAgIGFkZFRvTG9nKGBVc2VkICR7aXRlbS5uYW1lfS4gTWlsaXRhcnkgdW5pdHMgdHJhaW4gNSUgZmFzdGVyLCBwZXJtYW5lbnRseS5gLCAnaXRlbScpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3doaXNwZXJfb2ZfdGhlX2NyZWF0b3InOlxuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tzID0gWy4uLmFjdGl2ZVRhc2tzXTsgc2V0QWN0aXZlVGFza3MoW10pOyB0YXNrcy5mb3JFYWNoKGhhbmRsZVRhc2tDb21wbGV0aW9uKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhgQSBkaXZpbmUgd2hpc3BlciBlY2hvZXMsIGFuZCBhbGwgd29yayBpcyBpbnN0YW50bHkgZmluaXNoZWQuYCwgJ2l0ZW0nKTsgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc2V0SW52ZW50b3J5KHByZXYgPT4gcHJldi5maWx0ZXIoaSA9PiBpLmlkICE9PSBpdGVtSWQpKTsgc2V0SW52ZW50b3J5UGFuZWxTdGF0ZSh7aXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbH0pO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgYnVpbGRpbmdDb3VudHMgPSBidWlsZGluZ0xpc3QucmVkdWNlKChhY2MsIGIpID0+IHsgYWNjW2IuaWRdID0gYnVpbGRpbmdzW2IuaWQgYXMgc3RyaW5nXT8ubGVuZ3RoIHx8IDA7IHJldHVybiBhY2M7IH0sIHt9IGFzIFJlY29yZDxzdHJpbmcsIG51bWJlcj4pO1xuICAgIGNvbnN0IGlkbGVWaWxsYWdlckNvdW50ID0gdW5pdHMudmlsbGFnZXJzLmZpbHRlcih2ID0+ICF2LmN1cnJlbnRUYXNrKS5sZW5ndGg7XG4gICAgY29uc3QgYXNzaWdubWVudFRhcmdldCA9IGFzc2lnbm1lbnRQYW5lbFN0YXRlLnRhcmdldFR5cGUgPT09ICdyZXNvdXJjZScgPyByZXNvdXJjZU5vZGVzLmZpbmQobiA9PiBuLmlkID09PSBhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRJZCkgOiBhY3RpdmVUYXNrcy5maW5kKHQgPT4gdC50eXBlID09PSAnYnVpbGQnICYmIHQuaWQgPT09IGFzc2lnbm1lbnRQYW5lbFN0YXRlLnRhcmdldElkKTtcbiAgICBcbiAgICBjb25zdCBjdXJyZW50QWdlSW5kZXggPSBhZ2VQcm9ncmVzc2lvbkxpc3QuZmluZEluZGV4KGEgPT4gYS5uYW1lID09PSBjdXJyZW50QWdlKTtcbiAgICBjb25zdCBhdmFpbGFibGVCdWlsZGluZ3MgPSBidWlsZGluZ0xpc3QuZmlsdGVyKGIgPT4ge1xuICAgICAgICBjb25zdCB1bmxvY2tBZ2VJbmRleCA9IGFnZVByb2dyZXNzaW9uTGlzdC5maW5kSW5kZXgoYSA9PiBhLm5hbWUgPT09IGIudW5sb2NrZWRJbkFnZSk7XG4gICAgICAgIHJldHVybiBiLmlzQWN0aXZlICYmIHVubG9ja0FnZUluZGV4ICE9PSAtMSAmJiB1bmxvY2tBZ2VJbmRleCA8PSBjdXJyZW50QWdlSW5kZXg7XG4gICAgfSk7XG5cbiAgICBjb25zdCBhY3RpdmVVbml0cyA9IHVuaXRMaXN0LmZpbHRlcih1ID0+IHUuaXNBY3RpdmUpO1xuXG4gICAgY29uc3QgY2xvc2VBbGxQYW5lbHMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIHNldFVuaXRNYW5hZ2VtZW50UGFuZWwocCA9PiBwLmlzT3BlbiA/IHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGluc3RhbmNlSWQ6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgICAgICBzZXRCdWlsZFBhbmVsU3RhdGUocCA9PiBwLmlzT3BlbiA/IHsgaXNPcGVuOiBmYWxzZSwgdmlsbGFnZXJJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgICAgIHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIHRhcmdldElkOiBudWxsLCB0YXJnZXRUeXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICAgICAgc2V0Q2l2UGFuZWxTdGF0ZShwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICAgICAgc2V0QWxsQnVpbGRpbmdzUGFuZWwocCA9PiBwLmlzT3BlbiA/IHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgICAgIHNldEludmVudG9yeVBhbmVsU3RhdGUocCA9PiBwLmlzT3BlbiA/IHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgaGFuZGxlT3BlbkJ1aWxkaW5nUGFuZWwgPSB1c2VDYWxsYmFjaygodHlwZTogQnVpbGRpbmdUeXBlIHwgc3RyaW5nLCBpbnN0YW5jZUlkOiBzdHJpbmcsIHJlY3Q6IERPTVJlY3QpID0+IHtcbiAgICAgICAgY2xvc2VBbGxQYW5lbHMoKTtcbiAgICAgICAgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IHRydWUsIHR5cGUsIGluc3RhbmNlSWQsIGFuY2hvclJlY3Q6IHJlY3QgfSk7XG4gICAgfSwgW2Nsb3NlQWxsUGFuZWxzXSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBoYW5kbGVDbGlja091dHNpZGUgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBFbGVtZW50O1xuICAgICAgICAgICAgaWYgKCF0YXJnZXQuY2xvc2VzdCgnLnNjaS1maS1wYW5lbC1wb3B1cCcpKSBjbG9zZUFsbFBhbmVscygpO1xuICAgICAgICB9O1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpO1xuICAgICAgICByZXR1cm4gKCkgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICB9LCBbY2xvc2VBbGxQYW5lbHNdKTtcblxuICAgIGNvbnN0IHJlbmRlckNvbnRlbnQgPSAoKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoZ2FtZVN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVTdGF0dXMuTUVOVTogcmV0dXJuIDxTdGFydFNjcmVlbiBvbk5ld0dhbWU9e2hhbmRsZVN0YXJ0TmV3R2FtZX0gb25SZXN1bWVHYW1lPXtoYW5kbGVSZXN1bWVHYW1lfSBzYXZlZEdhbWVzPXthbGxTYXZlc30gb25EZWxldGVHYW1lPXtoYW5kbGVEZWxldGVHYW1lfSAvPjtcbiAgICAgICAgICAgIGNhc2UgR2FtZVN0YXR1cy5MT0FESU5HOiByZXR1cm4gPExvYWRpbmdTY3JlZW4gLz47XG4gICAgICAgICAgICBjYXNlIEdhbWVTdGF0dXMuUExBWUlORzpcbiAgICAgICAgICAgICAgICBpZiAoIWNpdmlsaXphdGlvbikgcmV0dXJuIDxMb2FkaW5nU2NyZWVuIC8+O1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8R2FtZVVJXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2l2aWxpemF0aW9uPXtjaXZpbGl6YXRpb259IHJlc291cmNlcz17cmVzb3VyY2VzfSB1bml0cz17dW5pdHN9IGJ1aWxkaW5ncz17YnVpbGRpbmdzfSBwb3B1bGF0aW9uPXtwb3B1bGF0aW9ufSBjdXJyZW50QWdlPXtjdXJyZW50QWdlfSBnYW1lTG9nPXtnYW1lTG9nfSByZXNvdXJjZURlbHRhcz17cmVzb3VyY2VEZWx0YXN9IGFjdGl2aXR5U3RhdHVzPXthY3Rpdml0eVN0YXR1c30gdW5pdExpc3Q9e2FjdGl2ZVVuaXRzfSBidWlsZGluZ0xpc3Q9e2J1aWxkaW5nTGlzdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5Vbml0UGFuZWw9eyh0eXBlLCByZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IHNldFVuaXRNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IHRydWUsIHR5cGUsIGFuY2hvclJlY3Q6IHJlY3QgfSk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuQnVpbGRpbmdQYW5lbD17aGFuZGxlT3BlbkJ1aWxkaW5nUGFuZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuQWxsQnVpbGRpbmdzUGFuZWw9eyhyZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IHNldEFsbEJ1aWxkaW5nc1BhbmVsKHsgaXNPcGVuOiB0cnVlLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllckFjdGlvbj17cGxheWVyQWN0aW9ufSBvbkNvbmZpcm1QbGFjZW1lbnQ9e2hhbmRsZUNvbmZpcm1QbGFjZW1lbnR9IG9uQ2FuY2VsUGxheWVyQWN0aW9uPXtoYW5kbGVDYW5jZWxQbGF5ZXJBY3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25CdWlsZGluZ0NsaWNrPXsoYnVpbGRpbmcsIHJlY3QpID0+IHsgY2xvc2VBbGxQYW5lbHMoKTsgY29uc3QgdHlwZSA9IE9iamVjdC5rZXlzKGJ1aWxkaW5ncykuZmluZChrZXkgPT4gYnVpbGRpbmdzW2tleSBhcyBzdHJpbmddPy5zb21lKGIgPT4gYi5pZCA9PT0gYnVpbGRpbmcuaWQpKTsgaWYodHlwZSkgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IHRydWUsIHR5cGUsIGluc3RhbmNlSWQ6IGJ1aWxkaW5nLmlkLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcERpbWVuc2lvbnM9e01BUF9ESU1FTlNJT05TfSBhY3RpdmVUYXNrcz17YWN0aXZlVGFza3N9IG9uRXhpdEdhbWU9e2hhbmRsZUV4aXRHYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkNpdlBhbmVsPXsocmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRDaXZQYW5lbFN0YXRlKHsgaXNPcGVuOiB0cnVlLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlTm9kZXM9e3Jlc291cmNlTm9kZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuQXNzaWdubWVudFBhbmVsPXsobm9kZUlkLCByZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiB0cnVlLCB0YXJnZXRJZDogbm9kZUlkLCB0YXJnZXRUeXBlOiAncmVzb3VyY2UnLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkNvbnN0cnVjdGlvblBhbmVsPXsoY29uc3RydWN0aW9uSWQsIHJlY3QpID0+IHsgY2xvc2VBbGxQYW5lbHMoKTsgc2V0QXNzaWdubWVudFBhbmVsU3RhdGUoeyBpc09wZW46IHRydWUsIHRhcmdldElkOiBjb25zdHJ1Y3Rpb25JZCwgdGFyZ2V0VHlwZTogJ2NvbnN0cnVjdGlvbicsIGFuY2hvclJlY3Q6IHJlY3QgfSk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2F0aGVySW5mbz17R0FUSEVSX0lORk99IGN1cnJlbnRFdmVudD17Y3VycmVudEV2ZW50fSBvbkV2ZW50Q2hvaWNlPXtoYW5kbGVFdmVudENob2ljZX0gaW52ZW50b3J5PXtpbnZlbnRvcnl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuSW52ZW50b3J5UGFuZWw9eyhyZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IHNldEludmVudG9yeVBhbmVsU3RhdGUoeyBpc09wZW46IHRydWUsIGFuY2hvclJlY3Q6IG51bGwgfSk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1aWxkUGFuZWwgaXNPcGVuPXtidWlsZFBhbmVsU3RhdGUuaXNPcGVufSBvbkNsb3NlPXsoKSA9PiBzZXRCdWlsZFBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCB2aWxsYWdlcklkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pfSBvblN0YXJ0UGxhY2VtZW50PXtoYW5kbGVTdGFydFBsYWNlbWVudH0gcmVzb3VyY2VzPXtyZXNvdXJjZXN9IGJ1aWxkaW5nQ291bnRzPXtidWlsZGluZ0NvdW50c30gYnVpbGRpbmdMaXN0PXthdmFpbGFibGVCdWlsZGluZ3N9IGFuY2hvclJlY3Q9e2J1aWxkUGFuZWxTdGF0ZS5hbmNob3JSZWN0fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFVuaXRNYW5hZ2VtZW50UGFuZWwgaXNPcGVuPXt1bml0TWFuYWdlbWVudFBhbmVsLmlzT3Blbn0gb25DbG9zZT17KCkgPT4gc2V0VW5pdE1hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSl9IHR5cGU9e3VuaXRNYW5hZ2VtZW50UGFuZWwudHlwZX0gdW5pdHM9e3VuaXRzfSBvblVwZGF0ZVVuaXQ9e2hhbmRsZVVwZGF0ZVVuaXR9IG9uRGlzbWlzc1VuaXQ9e2hhbmRsZURpc21pc3NTcGVjaWZpY1VuaXR9IG9uSW5pdGlhdGVCdWlsZD17KHZpbGxhZ2VySWQsIHJlY3QpID0+IHsgY2xvc2VBbGxQYW5lbHMoKTsgaGFuZGxlSW5pdGlhdGVCdWlsZCh2aWxsYWdlcklkLCByZWN0KTsgfX0gZ2V0VmlsbGFnZXJUYXNrRGV0YWlscz17Z2V0VmlsbGFnZXJUYXNrRGV0YWlsc30gYW5jaG9yUmVjdD17dW5pdE1hbmFnZW1lbnRQYW5lbC5hbmNob3JSZWN0fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsIGlzT3Blbj17YnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwuaXNPcGVufSBvbkNsb3NlPXsoKSA9PiBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSl9IHBhbmVsU3RhdGU9e2J1aWxkaW5nTWFuYWdlbWVudFBhbmVsfSBidWlsZGluZ3M9e2J1aWxkaW5nc30gYnVpbGRpbmdMaXN0PXtidWlsZGluZ0xpc3R9IG9uVXBkYXRlQnVpbGRpbmc9e2hhbmRsZVVwZGF0ZUJ1aWxkaW5nfSBvbkRlbW9saXNoQnVpbGRpbmc9e2hhbmRsZURlbW9saXNoQnVpbGRpbmd9IG9uVHJhaW5Vbml0cz17aGFuZGxlVHJhaW5Vbml0c30gb25UcmFpblZpbGxhZ2Vycz17aGFuZGxlVHJhaW5WaWxsYWdlcnN9IHJlc291cmNlcz17cmVzb3VyY2VzfSBwb3B1bGF0aW9uPXtwb3B1bGF0aW9ufSB1bml0TGlzdD17YWN0aXZlVW5pdHN9IG9uQWR2YW5jZUFnZT17aGFuZGxlQWR2YW5jZUFnZX0gYWN0aXZlVGFza3M9e2FjdGl2ZVRhc2tzfSBhbmNob3JSZWN0PXtidWlsZGluZ01hbmFnZW1lbnRQYW5lbC5hbmNob3JSZWN0fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFJlc291cmNlQXNzaWdubWVudFBhbmVsIGlzT3Blbj17YXNzaWdubWVudFBhbmVsU3RhdGUuaXNPcGVufSBvbkNsb3NlPXsoKSA9PiBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIHRhcmdldElkOiBudWxsLCB0YXJnZXRUeXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pfSBhc3NpZ25tZW50VGFyZ2V0PXthc3NpZ25tZW50VGFyZ2V0IHx8IG51bGx9IGlkbGVWaWxsYWdlckNvdW50PXtpZGxlVmlsbGFnZXJDb3VudH0gb25Bc3NpZ25WaWxsYWdlcnM9e2hhbmRsZUFzc2lnblZpbGxhZ2Vyc30gb25SZWNhbGxWaWxsYWdlcnM9e2hhbmRsZVJlY2FsbFZpbGxhZ2Vyc30gZ2F0aGVySW5mbz17R0FUSEVSX0lORk99IGJ1aWxkaW5nTGlzdD17YnVpbGRpbmdMaXN0fSB1bml0cz17dW5pdHN9IGFuY2hvclJlY3Q9e2Fzc2lnbm1lbnRQYW5lbFN0YXRlLmFuY2hvclJlY3R9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2l2aWxpemF0aW9uUGFuZWwgaXNPcGVuPXtjaXZQYW5lbFN0YXRlLmlzT3Blbn0gb25DbG9zZT17KCkgPT4gc2V0Q2l2UGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSl9IGNpdmlsaXphdGlvbj17Y2l2aWxpemF0aW9ufSBhbmNob3JSZWN0PXtjaXZQYW5lbFN0YXRlLmFuY2hvclJlY3R9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QWxsQnVpbGRpbmdzUGFuZWwgaXNPcGVuPXthbGxCdWlsZGluZ3NQYW5lbC5pc09wZW59IG9uQ2xvc2U9eygpID0+IHNldEFsbEJ1aWxkaW5nc1BhbmVsKHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9KX0gYnVpbGRpbmdMaXN0PXtidWlsZGluZ0xpc3R9IGJ1aWxkaW5nQ291bnRzPXtidWlsZGluZ0NvdW50c30gYWN0aXZlVGFza3M9e2FjdGl2ZVRhc2tzfSBvbk9wZW5CdWlsZGluZ1BhbmVsPXtoYW5kbGVPcGVuQnVpbGRpbmdQYW5lbH0gYW5jaG9yUmVjdD17YWxsQnVpbGRpbmdzUGFuZWwuYW5jaG9yUmVjdH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxJbnZlbnRvcnlQYW5lbCBpc09wZW49e2ludmVudG9yeVBhbmVsU3RhdGUuaXNPcGVufSBvbkNsb3NlPXsoKSA9PiBzZXRJbnZlbnRvcnlQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9KX0gaW52ZW50b3J5PXtpbnZlbnRvcnl9IG9uVXNlSXRlbT17aGFuZGxlVXNlSXRlbX0gYWN0aXZlVGFza3M9e2FjdGl2ZVRhc2tzfSBhY3RpdmVCdWZmcz17YWN0aXZlQnVmZnN9IGFuY2hvclJlY3Q9e2ludmVudG9yeVBhbmVsU3RhdGUuYW5jaG9yUmVjdH0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiA8U3RhcnRTY3JlZW4gb25OZXdHYW1lPXtoYW5kbGVTdGFydE5ld0dhbWV9IG9uUmVzdW1lR2FtZT17aGFuZGxlUmVzdW1lR2FtZX0gc2F2ZWRHYW1lcz17YWxsU2F2ZXN9IG9uRGVsZXRlR2FtZT17aGFuZGxlRGVsZXRlR2FtZX0gLz47XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctc3RvbmUtZGFyayBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTRcIj5cbiAgICAgICAgICAgIHtnYW1lU3RhdGUgPT09IEdhbWVTdGF0dXMuUExBWUlORyAmJiAoXG4gICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlVG9nZ2xlVW5saW1pdGVkUmVzb3VyY2VzfSBjbGFzc05hbWU9XCJmaXhlZCBib3R0b20tNCBsZWZ0LTQgei1bMTAxXSBiZy1icmFuZC1nb2xkIHRleHQtc3RvbmUtZGFyayBmb250LWJvbGQgcHktMSBweC0zIHJvdW5kZWQtZnVsbCB0ZXh0LXhzIHNoYWRvdy1sZyBob3ZlcjpzY2FsZS0xMDUgdHJhbnNpdGlvbi10cmFuc2Zvcm1cIiBhcmlhLWxhYmVsPVwiVG9nZ2xlIHVubGltaXRlZCByZXNvdXJjZXMgdGVzdCBtb2RlXCI+VGVzdCBNb2RlOiB7dW5saW1pdGVkUmVzb3VyY2VzID8gJ09OJyA6ICdPRkYnfTwvYnV0dG9uPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxOb3RpZmljYXRpb25NYW5hZ2VyIG5vdGlmaWNhdGlvbnM9e25vdGlmaWNhdGlvbnN9IG9uUmVtb3ZlTm90aWZpY2F0aW9uPXtyZW1vdmVOb3RpZmljYXRpb259IC8+XG4gICAgICAgICAgICA8bWFpbiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXctN3hsIG14LWF1dG9cIj5cbiAgICAgICAgICAgICAgICB7cmVuZGVyQ29udGVudCgpfVxuICAgICAgICAgICAgPC9tYWluPlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgR2FtZVBhZ2U7XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiR2FtZVN0YXR1cyIsImdldFByZWRlZmluZWRDaXZpbGl6YXRpb24iLCJnZXRQcmVkZWZpbmVkR2FtZUV2ZW50Iiwic2F2ZUdhbWVTdGF0ZSIsImxvYWRHYW1lU3RhdGUiLCJnZXRBbGxTYXZlTmFtZXMiLCJkZWxldGVHYW1lU3RhdGUiLCJnZXRBbGxBZ2VDb25maWdzIiwiZ2V0QWxsQnVpbGRpbmdDb25maWdzIiwiZ2V0QWxsVW5pdENvbmZpZ3MiLCJnZXRSYW5kb21OYW1lcyIsIkdBTUVfSVRFTVMiLCJHYW1lVUkiLCJTdGFydFNjcmVlbiIsIkxvYWRpbmdTY3JlZW4iLCJCdWlsZFBhbmVsIiwiTm90aWZpY2F0aW9uTWFuYWdlciIsIlVuaXRNYW5hZ2VtZW50UGFuZWwiLCJCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCIsIlJlc291cmNlQXNzaWdubWVudFBhbmVsIiwiQ2l2aWxpemF0aW9uUGFuZWwiLCJBbGxCdWlsZGluZ3NQYW5lbCIsIkludmVudG9yeVBhbmVsIiwiR0FUSEVSX0lORk8iLCJmb29kIiwicmF0ZSIsIndvb2QiLCJnb2xkIiwic3RvbmUiLCJpbml0aWFsQnVpbGRpbmdzU3RhdGUiLCJob3VzZXMiLCJiYXJyYWNrcyIsImFyY2hlcnlSYW5nZSIsInN0YWJsZSIsInNpZWdlV29ya3Nob3AiLCJibGFja3NtaXRoIiwid2F0Y2hUb3dlciIsInRvd25DZW50ZXIiLCJNQVBfRElNRU5TSU9OUyIsIndpZHRoIiwiaGVpZ2h0IiwiRkFMTEJBQ0tfQUdFUyIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsIkdhbWVQYWdlIiwiYnVpbGRpbmdzIiwiZ2FtZVN0YXRlIiwic2V0R2FtZVN0YXRlIiwiTUVOVSIsImNpdmlsaXphdGlvbiIsInNldENpdmlsaXphdGlvbiIsInJlc291cmNlcyIsInNldFJlc291cmNlcyIsInVuaXRzIiwic2V0VW5pdHMiLCJ2aWxsYWdlcnMiLCJtaWxpdGFyeSIsInNldEJ1aWxkaW5ncyIsImN1cnJlbnRBZ2UiLCJzZXRDdXJyZW50QWdlIiwiZ2FtZUxvZyIsInNldEdhbWVMb2ciLCJjdXJyZW50RXZlbnQiLCJzZXRDdXJyZW50RXZlbnQiLCJyZXNvdXJjZURlbHRhcyIsInNldFJlc291cmNlRGVsdGFzIiwiYWN0aXZpdHlTdGF0dXMiLCJzZXRBY3Rpdml0eVN0YXR1cyIsIm5vdGlmaWNhdGlvbnMiLCJzZXROb3RpZmljYXRpb25zIiwidW5saW1pdGVkUmVzb3VyY2VzIiwic2V0VW5saW1pdGVkUmVzb3VyY2VzIiwiYWxsU2F2ZXMiLCJzZXRBbGxTYXZlcyIsImN1cnJlbnRTYXZlTmFtZSIsInNldEN1cnJlbnRTYXZlTmFtZSIsInBsYXllckFjdGlvbiIsInNldFBsYXllckFjdGlvbiIsImFjdGl2ZVRhc2tzIiwic2V0QWN0aXZlVGFza3MiLCJyZXNvdXJjZU5vZGVzIiwic2V0UmVzb3VyY2VOb2RlcyIsImludmVudG9yeSIsInNldEludmVudG9yeSIsImFjdGl2ZUJ1ZmZzIiwic2V0QWN0aXZlQnVmZnMiLCJyZXNvdXJjZUJvb3N0IiwibWFzdGVyQWdlTGlzdCIsInNldE1hc3RlckFnZUxpc3QiLCJtYXN0ZXJCdWlsZGluZ0xpc3QiLCJzZXRNYXN0ZXJCdWlsZGluZ0xpc3QiLCJtYXN0ZXJVbml0TGlzdCIsInNldE1hc3RlclVuaXRMaXN0IiwiYnVpbGRQYW5lbFN0YXRlIiwic2V0QnVpbGRQYW5lbFN0YXRlIiwiaXNPcGVuIiwidmlsbGFnZXJJZCIsImFuY2hvclJlY3QiLCJ1bml0TWFuYWdlbWVudFBhbmVsIiwic2V0VW5pdE1hbmFnZW1lbnRQYW5lbCIsInR5cGUiLCJidWlsZGluZ01hbmFnZW1lbnRQYW5lbCIsInNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsIiwiaW5zdGFuY2VJZCIsImFsbEJ1aWxkaW5nc1BhbmVsIiwic2V0QWxsQnVpbGRpbmdzUGFuZWwiLCJhc3NpZ25tZW50UGFuZWxTdGF0ZSIsInNldEFzc2lnbm1lbnRQYW5lbFN0YXRlIiwidGFyZ2V0SWQiLCJ0YXJnZXRUeXBlIiwiY2l2UGFuZWxTdGF0ZSIsInNldENpdlBhbmVsU3RhdGUiLCJpbnZlbnRvcnlQYW5lbFN0YXRlIiwic2V0SW52ZW50b3J5UGFuZWxTdGF0ZSIsImRlbHRhVGltZW91dFJlZiIsImV2ZW50VGltZXJSZWYiLCJsYXN0VGlja1JlZiIsIkRhdGUiLCJub3ciLCJhbmltYXRpb25GcmFtZVJlZiIsImFnZVByb2dyZXNzaW9uTGlzdCIsImZpbHRlciIsImFnZSIsImlzQWN0aXZlIiwiYnVpbGRpbmdMaXN0IiwidW5pdExpc3QiLCJwb3B1bGF0aW9uIiwiY3VycmVudCIsImxlbmd0aCIsImNhcGFjaXR5IiwiZmV0Y2hTYXZlc0FuZENvbmZpZ3MiLCJuYW1lcyIsImFsbEFnZUNvbmZpZ3MiLCJtYXAiLCJhIiwiaSIsImlkIiwiaXNQcmVkZWZpbmVkIiwib3JkZXIiLCJhbGxCdWlsZGluZ0NvbmZpZ3MiLCJhbGxVbml0Q29uZmlncyIsIlBMQVlJTkciLCJmdWxsU3RhdGUiLCJhZGROb3RpZmljYXRpb24iLCJtZXNzYWdlIiwiTWF0aCIsInJhbmRvbSIsInByZXYiLCJyZW1vdmVOb3RpZmljYXRpb24iLCJuIiwiYWRkVG9Mb2ciLCJpY29uIiwic2xpY2UiLCJ1cGRhdGVSZXNvdXJjZXMiLCJkZWx0YXMiLCJuZXdSZXNvdXJjZXMiLCJrZXkiLCJyZXNvdXJjZUtleSIsIm1heCIsIndpbmRvdyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJuZXdEZWx0YXMiLCJoYW5kbGVUYXNrQ29tcGxldGlvbiIsInRhc2siLCJwYXlsb2FkIiwidmlsbGFnZXJJZHMiLCJ2IiwiaW5jbHVkZXMiLCJjdXJyZW50VGFzayIsImJ1aWxkaW5nVHlwZSIsInBvc2l0aW9uIiwiYnVpbGRpbmdJbmZvIiwiZmluZCIsImIiLCJuZXdCdWlsZGluZyIsImN1cnJlbnRIcCIsImhwIiwicCIsImN1cnJlbnRCdWlsZGluZ3MiLCJpY29uSWQiLCJjb3VudCIsIm5ld1ZpbGxhZ2VyTmFtZXMiLCJuZXdWaWxsYWdlcnMiLCJ1bml0VHlwZSIsInVuaXRJbmZvIiwidSIsIm5ld1VuaXROYW1lcyIsIm5ld1VuaXRzIiwidGl0bGUiLCJhY3RpdmVBZ2VzIiwiY3VycmVudEluZGV4IiwiZmluZEluZGV4IiwiYWdlUmVzdWx0IiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJnYW1lTG9vcCIsImRlbHRhVGltZSIsImNvbXBsZXRlZFRhc2tzIiwicmVzb3VyY2VEZWx0YXNUaGlzVGljayIsIm5ld1Jlc291cmNlQm9vc3RzIiwiZW5kVGltZSIsInRhc2tzSW5Qcm9ncmVzcyIsInN0YXJ0VGltZSIsImR1cmF0aW9uIiwicHVzaCIsIm5vZGUiLCJyZXNvdXJjZU5vZGVJZCIsInZpbGxhZ2VyQ291bnQiLCJiYXNlUmF0ZVBlclNlY29uZCIsImNpdkJvbnVzTXVsdGlwbGllciIsImJvbnVzIiwidG9Mb3dlckNhc2UiLCJtYXRjaCIsInBhcnNlSW50IiwiaXRlbUJvb3N0TXVsdGlwbGllciIsInJlc291cmNlIiwibXVsdGlwbGllciIsImZpbmFsUmF0ZVBlclNlY29uZCIsIkJvb2xlYW4iLCJPYmplY3QiLCJrZXlzIiwicHJldk5vZGVzIiwiYW1vdW50VG9EZWNyZW1lbnQiLCJuZXdBbW91bnQiLCJhbW91bnQiLCJ0YXNrSWQiLCJ0IiwiZmxvb3IiLCJmaW5hbEFjdGl2ZVRhc2tzIiwic29tZSIsImN0IiwiZm9yRWFjaCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImhhbmRsZU5ld0V2ZW50IiwiZXZlbnQiLCJzY2hlZHVsZU5leHRFdmVudCIsImdlbmVyYXRlUmVzb3VyY2VOb2RlcyIsImV4aXN0aW5nUG9zaXRpb25zIiwibm9kZXMiLCJ0eXBlcyIsIm51bU5vZGVzIiwicG9zIiwieCIsInkiLCJoYXMiLCJhZGQiLCJoYW5kbGVTdGFydE5ld0dhbWUiLCJzYXZlTmFtZSIsImxvY2FsQWdlUHJvZ3Jlc3Npb25MaXN0IiwiTE9BRElORyIsImNpdiIsImluaXRpYWxWaWxsYWdlcnMiLCJ0Y1Bvc2l0aW9uIiwidGNJbmZvIiwiaW5pdGlhbFRDIiwiU2V0IiwiaXNWaWxsYWdlckJ1c3kiLCJnZXRWaWxsYWdlclRhc2tEZXRhaWxzIiwidmlsbGFnZXIiLCJoYW5kbGVSZXN1bWVHYW1lIiwic2F2ZWRTdGF0ZSIsIm1pZ3JhdGVkVmlsbGFnZXJzIiwidW5kZWZpbmVkIiwibWlncmF0ZWRUYXNrcyIsInZpZCIsImNvbnN0cnVjdGlvblRhc2tzIiwib2NjdXBpZWRDZWxscyIsInZhbHVlcyIsImZsYXQiLCJmaW5hbEJ1aWxkaW5ncyIsImJUeXBlIiwiaW5mbyIsInRjUG9zIiwiaGFuZGxlRXZlbnRDaG9pY2UiLCJjaG9pY2UiLCJjb3N0IiwibWlzc2luZyIsInJlcyIsImpvaW4iLCJlbnRyaWVzIiwicmVkdWNlIiwiYWNjIiwiayIsImlzU3VjY2VzcyIsInN1Y2Nlc3NDaGFuY2UiLCJlZmZlY3RzIiwic3VjY2Vzc0VmZmVjdHMiLCJmYWlsdXJlRWZmZWN0cyIsImxvZ01lc3NhZ2UiLCJ0ZXh0IiwibG9nIiwicmV3YXJkcyIsInJld2FyZCIsIkFycmF5IiwiaXNBcnJheSIsImFicyIsIml0ZW1JbmZvIiwiaXRlbUlkIiwibmV3SXRlbXMiLCJmcm9tIiwiXyIsImJ1aWxkaW5nSWQiLCJwbGFjZWQiLCJoYW5kbGVJbml0aWF0ZUJ1aWxkIiwicmVjdCIsImhhbmRsZVN0YXJ0UGxhY2VtZW50IiwiZXhpc3RpbmdDb3VudCIsImNvbnN0cnVjdGluZ0NvdW50IiwidG90YWxDb3VudCIsImxpbWl0IiwiaXNVbmlxdWUiLCJidWlsZExpbWl0IiwibW9kZSIsImhhbmRsZUNvbmZpcm1QbGFjZW1lbnQiLCJidWlsZGVyIiwiYnVpbGRUaW1lIiwiYnVpbGRUaW1lUmVkdWN0aW9uIiwicGVyY2VudGFnZSIsInVzZXMiLCJ0YXNrUGF5bG9hZCIsImhhbmRsZUNhbmNlbFBsYXllckFjdGlvbiIsImhhbmRsZURlbW9saXNoQnVpbGRpbmciLCJidWlsZGluZ0luc3RhbmNlIiwicmVmdW5kIiwiciIsImhhbmRsZVVwZGF0ZUJ1aWxkaW5nIiwiaGFuZGxlVHJhaW5WaWxsYWdlcnMiLCJ0b3RhbENvc3QiLCJoYW5kbGVUcmFpblVuaXRzIiwidHJhaW5pbmdCdWlsZGluZyIsInJlcXVpcmVkQnVpbGRpbmciLCJ0cmFpblRpbWUiLCJwZXJtYW5lbnRUcmFpblRpbWVSZWR1Y3Rpb24iLCJ0cmFpblRpbWVSZWR1Y3Rpb24iLCJhcHBsaWNhYmxlIiwibWluIiwiaGFuZGxlRGlzbWlzc1NwZWNpZmljVW5pdCIsInVuaXQiLCJ1bml0VHlwZU5hbWUiLCJoYW5kbGVVcGRhdGVVbml0IiwiaGFuZGxlQXNzaWduVmlsbGFnZXJzVG9Db25zdHJ1Y3Rpb24iLCJjb25zdHJ1Y3Rpb25JZCIsImlkbGVWaWxsYWdlcnMiLCJjYXBwZWRDb3VudCIsInZpbGxhZ2Vyc1RvQXNzaWduIiwid29ya0RvbmUiLCJ3b3JrUmVtYWluaW5nIiwibmV3V29ya2VyQ291bnQiLCJuZXdSZW1haW5pbmdEdXJhdGlvbiIsImhhbmRsZUFzc2lnblZpbGxhZ2VycyIsInRhcmdldE5vZGUiLCJleGlzdGluZ1Rhc2siLCJoYW5kbGVSZWNhbGxWaWxsYWdlcnMiLCJ2aWxsYWdlcnNUb1JlY2FsbCIsInJlbWFpbmluZ1ZpbGxhZ2VycyIsImhhbmRsZUFkdmFuY2VBZ2UiLCJoYW5kbGVFeGl0R2FtZSIsImhhbmRsZURlbGV0ZUdhbWUiLCJoYW5kbGVUb2dnbGVVbmxpbWl0ZWRSZXNvdXJjZXMiLCJuZXdNb2RlIiwiZGVwbGV0ZWROb2RlSWRzIiwic2l6ZSIsImhhbmRsZVVzZUl0ZW0iLCJpdGVtIiwiYmFzZUl0ZW1JZCIsInNwbGl0Iiwic29ydCIsInRhc2tzIiwiYnVpbGRpbmdDb3VudHMiLCJpZGxlVmlsbGFnZXJDb3VudCIsImFzc2lnbm1lbnRUYXJnZXQiLCJjdXJyZW50QWdlSW5kZXgiLCJhdmFpbGFibGVCdWlsZGluZ3MiLCJ1bmxvY2tBZ2VJbmRleCIsInVubG9ja2VkSW5BZ2UiLCJhY3RpdmVVbml0cyIsImNsb3NlQWxsUGFuZWxzIiwiaGFuZGxlT3BlbkJ1aWxkaW5nUGFuZWwiLCJoYW5kbGVDbGlja091dHNpZGUiLCJ0YXJnZXQiLCJjbG9zZXN0IiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbmRlckNvbnRlbnQiLCJvbk5ld0dhbWUiLCJvblJlc3VtZUdhbWUiLCJzYXZlZEdhbWVzIiwib25EZWxldGVHYW1lIiwib25PcGVuVW5pdFBhbmVsIiwib25PcGVuQnVpbGRpbmdQYW5lbCIsIm9uT3BlbkFsbEJ1aWxkaW5nc1BhbmVsIiwib25Db25maXJtUGxhY2VtZW50Iiwib25DYW5jZWxQbGF5ZXJBY3Rpb24iLCJvbkJ1aWxkaW5nQ2xpY2siLCJidWlsZGluZyIsIm1hcERpbWVuc2lvbnMiLCJvbkV4aXRHYW1lIiwib25PcGVuQ2l2UGFuZWwiLCJvbk9wZW5Bc3NpZ25tZW50UGFuZWwiLCJub2RlSWQiLCJvbk9wZW5Db25zdHJ1Y3Rpb25QYW5lbCIsImdhdGhlckluZm8iLCJvbkV2ZW50Q2hvaWNlIiwib25PcGVuSW52ZW50b3J5UGFuZWwiLCJvbkNsb3NlIiwib25TdGFydFBsYWNlbWVudCIsIm9uVXBkYXRlVW5pdCIsIm9uRGlzbWlzc1VuaXQiLCJvbkluaXRpYXRlQnVpbGQiLCJwYW5lbFN0YXRlIiwib25VcGRhdGVCdWlsZGluZyIsIm9uRGVtb2xpc2hCdWlsZGluZyIsIm9uVHJhaW5Vbml0cyIsIm9uVHJhaW5WaWxsYWdlcnMiLCJvbkFkdmFuY2VBZ2UiLCJvbkFzc2lnblZpbGxhZ2VycyIsIm9uUmVjYWxsVmlsbGFnZXJzIiwib25Vc2VJdGVtIiwiZGl2IiwiY2xhc3NOYW1lIiwiYnV0dG9uIiwib25DbGljayIsImFyaWEtbGFiZWwiLCJvblJlbW92ZU5vdGlmaWNhdGlvbiIsIm1haW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/page.tsx\n"));

/***/ })

});