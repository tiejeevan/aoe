"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/undo-2.js":
/*!************************************************************!*\
  !*** ./node_modules/lucide-react/dist/esm/icons/undo-2.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Undo2; }\n/* harmony export */ });\n/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../createLucideIcon.js */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/createLucideIcon.js\");\n/**\n * @license lucide-react v0.400.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ \nconst Undo2 = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"Undo2\", [\n    [\n        \"path\",\n        {\n            d: \"M9 14 4 9l5-5\",\n            key: \"102s5s\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11\",\n            key: \"f3b9sd\"\n        }\n    ]\n]);\n //# sourceMappingURL=undo-2.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvdW5kby0yLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBYU0sTUFBQUEsUUFBUUMsZ0VBQWdCQSxDQUFDLFNBQVM7SUFDdEM7UUFBQztRQUFRO1lBQUVDLEdBQUc7WUFBaUJDLEtBQUs7UUFBQTtLQUFVO0lBQzlDO1FBQUM7UUFBUTtZQUFFRCxHQUFHO1lBQTREQyxLQUFLO1FBQUE7S0FBVTtDQUMxRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi4vLi4vLi4vc3JjL2ljb25zL3VuZG8tMi50cz8zMTQ0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24nO1xuXG4vKipcbiAqIEBjb21wb25lbnQgQG5hbWUgVW5kbzJcbiAqIEBkZXNjcmlwdGlvbiBMdWNpZGUgU1ZHIGljb24gY29tcG9uZW50LCByZW5kZXJzIFNWRyBFbGVtZW50IHdpdGggY2hpbGRyZW4uXG4gKlxuICogQHByZXZpZXcgIVtpbWddKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklnb2dJSGRwWkhSb1BTSXlOQ0lLSUNCb1pXbG5hSFE5SWpJMElnb2dJSFpwWlhkQ2IzZzlJakFnTUNBeU5DQXlOQ0lLSUNCbWFXeHNQU0p1YjI1bElnb2dJSE4wY205clpUMGlJekF3TUNJZ2MzUjViR1U5SW1KaFkydG5jbTkxYm1RdFkyOXNiM0k2SUNObVptWTdJR0p2Y21SbGNpMXlZV1JwZFhNNklESndlQ0lLSUNCemRISnZhMlV0ZDJsa2RHZzlJaklpQ2lBZ2MzUnliMnRsTFd4cGJtVmpZWEE5SW5KdmRXNWtJZ29nSUhOMGNtOXJaUzFzYVc1bGFtOXBiajBpY205MWJtUWlDajRLSUNBOGNHRjBhQ0JrUFNKTk9TQXhOQ0EwSURsc05TMDFJaUF2UGdvZ0lEeHdZWFJvSUdROUlrMDBJRGxvTVRBdU5XRTFMalVnTlM0MUlEQWdNQ0F4SURVdU5TQTFMalZoTlM0MUlEVXVOU0F3SURBZ01TMDFMalVnTlM0MVNERXhJaUF2UGdvOEwzTjJaejRLKSAtIGh0dHBzOi8vbHVjaWRlLmRldi9pY29ucy91bmRvLTJcbiAqIEBzZWUgaHR0cHM6Ly9sdWNpZGUuZGV2L2d1aWRlL3BhY2thZ2VzL2x1Y2lkZS1yZWFjdCAtIERvY3VtZW50YXRpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgLSBMdWNpZGUgaWNvbnMgcHJvcHMgYW5kIGFueSB2YWxpZCBTVkcgYXR0cmlidXRlXG4gKiBAcmV0dXJucyB7SlNYLkVsZW1lbnR9IEpTWCBFbGVtZW50XG4gKlxuICovXG5jb25zdCBVbmRvMiA9IGNyZWF0ZUx1Y2lkZUljb24oJ1VuZG8yJywgW1xuICBbJ3BhdGgnLCB7IGQ6ICdNOSAxNCA0IDlsNS01Jywga2V5OiAnMTAyczVzJyB9XSxcbiAgWydwYXRoJywgeyBkOiAnTTQgOWgxMC41YTUuNSA1LjUgMCAwIDEgNS41IDUuNWE1LjUgNS41IDAgMCAxLTUuNSA1LjVIMTEnLCBrZXk6ICdmM2I5c2QnIH1dLFxuXSk7XG5cbmV4cG9ydCBkZWZhdWx0IFVuZG8yO1xuIl0sIm5hbWVzIjpbIlVuZG8yIiwiY3JlYXRlTHVjaWRlSWNvbiIsImQiLCJrZXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/undo-2.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/ResourceAssignmentPanel.tsx":
/*!************************************************!*\
  !*** ./components/ResourceAssignmentPanel.tsx ***!
  \************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./icons/ResourceIcons */ \"(app-pages-browser)/./components/icons/ResourceIcons.tsx\");\n/* harmony import */ var _GameUI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GameUI */ \"(app-pages-browser)/./components/GameUI.tsx\");\n/* harmony import */ var _barrel_optimize_names_Undo2_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Undo2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/undo-2.js\");\n\nvar _s = $RefreshSig$();\n\n\n\n\nconst InfoIcon = (param)=>{\n    let { icon, value, tooltip } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative group flex items-center gap-1.5 text-parchment-dark\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-5 h-5\",\n                children: icon\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                lineNumber: 23,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"font-bold text-sm\",\n                children: value\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                lineNumber: 24,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute bottom-full mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 pointer-events-none z-10\",\n                children: tooltip\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                lineNumber: 25,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n        lineNumber: 22,\n        columnNumber: 5\n    }, undefined);\n};\n_c = InfoIcon;\nconst ResourceAssignmentPanel = (props)=>{\n    _s();\n    const { isOpen, onClose, assignmentTarget, idleVillagerCount, onAssignVillagers, onRecallVillagers, gatherInfo, buildingList, anchorRect, panelOpacity } = props;\n    const [assignCount, setAssignCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [recallCount, setRecallCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [isClosing, setIsClosing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentData, setCurrentData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        assignmentTarget,\n        anchorRect\n    });\n    const isConstruction = assignmentTarget ? \"villagerIds\" in assignmentTarget : false;\n    const isResource = assignmentTarget ? \"amount\" in assignmentTarget : false;\n    const assignedCount = isResource ? assignmentTarget.assignedVillagers.length : isConstruction ? assignmentTarget.villagerIds.length : 0;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen) {\n            setAssignCount(idleVillagerCount > 0 ? 1 : 0);\n            setRecallCount(assignedCount > 0 ? 1 : 0);\n        }\n    }, [\n        isOpen,\n        idleVillagerCount,\n        assignedCount\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen || isClosing) {\n            setCurrentData({\n                assignmentTarget,\n                anchorRect\n            });\n        }\n    }, [\n        assignmentTarget,\n        anchorRect,\n        isOpen,\n        isClosing\n    ]);\n    const handleClose = ()=>{\n        setIsClosing(true);\n        setTimeout(()=>{\n            onClose();\n            setIsClosing(false);\n        }, 300);\n    };\n    const handleAssign = ()=>{\n        if (currentData.assignmentTarget && assignCount > 0) {\n            onAssignVillagers(currentData.assignmentTarget.id, assignCount);\n        }\n    };\n    const handleRecall = ()=>{\n        if (currentData.assignmentTarget && recallCount > 0) {\n            onRecallVillagers(currentData.assignmentTarget.id, recallCount, isResource ? \"resource\" : \"construction\");\n        }\n    };\n    if (!isOpen && !isClosing) return null;\n    const { assignmentTarget: currentTarget, anchorRect: currentAnchor } = currentData;\n    if (!currentTarget) return null;\n    let title = \"Manage Workforce\";\n    let MainIcon = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GatherIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n        lineNumber: 83,\n        columnNumber: 37\n    }, undefined);\n    let InfoIcons = null;\n    let AssignIcon = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GatherIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n        lineNumber: 85,\n        columnNumber: 39\n    }, undefined);\n    if (isResource) {\n        const node = currentTarget;\n        title = \"Gather \".concat(node.type);\n        const IconComponent = {\n            food: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.FoodIcon,\n            wood: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.WoodIcon,\n            gold: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GoldIcon,\n            stone: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.StoneIcon\n        }[node.type];\n        MainIcon = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IconComponent, {}, void 0, false, {\n            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n            lineNumber: 91,\n            columnNumber: 20\n        }, undefined);\n        const currentRate = node.assignedVillagers.length * (gatherInfo[node.type].rate / 10);\n        InfoIcons = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InfoIcon, {\n                    icon: MainIcon,\n                    value: Math.floor(node.amount),\n                    tooltip: \"Remaining Amount\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 95,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InfoIcon, {\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.VillagerIcon, {}, void 0, false, {\n                        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                        lineNumber: 96,\n                        columnNumber: 33\n                    }, void 0),\n                    value: \"\".concat(node.assignedVillagers.length),\n                    tooltip: \"Assigned Workers\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 96,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InfoIcon, {\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.ClockIcon, {}, void 0, false, {\n                        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                        lineNumber: 97,\n                        columnNumber: 33\n                    }, void 0),\n                    value: \"\".concat(currentRate.toFixed(1), \"/s\"),\n                    tooltip: \"Current Gather Rate\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 97,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true);\n    }\n    if (isConstruction) {\n        const construction = currentTarget;\n        const buildingInfo = buildingList.find((b)=>b.id === construction.type);\n        title = \"Construct \".concat((buildingInfo === null || buildingInfo === void 0 ? void 0 : buildingInfo.name) || \"Building\");\n        MainIcon = _GameUI__WEBPACK_IMPORTED_MODULE_3__.iconMap[construction.type];\n        AssignIcon = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BuildIcon, {}, void 0, false, {\n            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n            lineNumber: 107,\n            columnNumber: 22\n        }, undefined);\n        InfoIcons = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InfoIcon, {\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BuildIcon, {}, void 0, false, {\n                        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                        lineNumber: 110,\n                        columnNumber: 33\n                    }, void 0),\n                    value: construction.villagerIds.length,\n                    tooltip: \"Current Builders\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 110,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InfoIcon, {\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.VillagerIcon, {}, void 0, false, {\n                        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                        lineNumber: 111,\n                        columnNumber: 33\n                    }, void 0),\n                    value: idleVillagerCount,\n                    tooltip: \"Idle Villagers Available\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 111,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true);\n    }\n    const maxAssignable = idleVillagerCount;\n    const panelStyle = {\n        top: \"\".concat(currentAnchor.bottom + 8, \"px\"),\n        left: \"max(8px, \".concat(currentAnchor.left - 144, \"px)\"),\n        transformOrigin: \"top center\",\n        \"--panel-opacity\": panelOpacity\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: panelStyle,\n        className: \"fixed z-40 w-80 transform transition-all duration-300 ease-in-out \".concat(isOpen && !isClosing ? \"opacity-100 scale-100\" : \"opacity-0 scale-95\"),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"sci-fi-panel-popup sci-fi-grid p-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center mb-3\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-8 h-8\",\n                                    children: MainIcon\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 125,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-2xl font-serif capitalize\",\n                                    children: title\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 126,\n                                    columnNumber: 25\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                            lineNumber: 124,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleClose,\n                            className: \"text-3xl font-bold sci-fi-close-button\",\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                            lineNumber: 128,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 123,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-3\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex justify-around items-center bg-black/20 p-2 rounded-md\",\n                            children: InfoIcons\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                            lineNumber: 132,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                            className: \"border-stone-light/20 my-2\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                            lineNumber: 136,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    htmlFor: \"villager-assign-slider\",\n                                    className: \"block text-sm font-serif text-brand-gold mb-1\",\n                                    children: [\n                                        \"Assign Idle Villagers (\",\n                                        idleVillagerCount,\n                                        \" available)\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 139,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            id: \"villager-assign-slider\",\n                                            type: \"range\",\n                                            min: \"0\",\n                                            max: maxAssignable,\n                                            value: assignCount,\n                                            onChange: (e)=>setAssignCount(Number(e.target.value)),\n                                            className: \"sci-fi-slider flex-grow\",\n                                            disabled: maxAssignable === 0,\n                                            \"aria-label\": \"Assign Villagers\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                            lineNumber: 141,\n                                            columnNumber: 30\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"font-bold text-lg w-12 text-center bg-black/20 p-1 rounded-md\",\n                                            children: assignCount\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                            lineNumber: 152,\n                                            columnNumber: 29\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative group\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: handleAssign,\n                                                    disabled: assignCount === 0 || maxAssignable === 0,\n                                                    className: \"sci-fi-action-button\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-6 h-6\",\n                                                        children: AssignIcon\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                        lineNumber: 159,\n                                                        columnNumber: 37\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                    lineNumber: 154,\n                                                    columnNumber: 33\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                    children: maxAssignable === 0 ? \"No Idle Villagers\" : \"Assign \".concat(assignCount, \" Villager(s)\")\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                    lineNumber: 161,\n                                                    columnNumber: 34\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                            lineNumber: 153,\n                                            columnNumber: 29\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 140,\n                                    columnNumber: 25\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                            lineNumber: 138,\n                            columnNumber: 21\n                        }, undefined),\n                        assignedCount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                                    className: \"border-stone-light/20 my-3\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 170,\n                                    columnNumber: 30\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    htmlFor: \"villager-recall-slider\",\n                                    className: \"block text-sm font-serif text-brand-red mb-1\",\n                                    children: [\n                                        \"Recall Assigned Villagers (\",\n                                        assignedCount,\n                                        \" assigned)\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 171,\n                                    columnNumber: 30\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            id: \"villager-recall-slider\",\n                                            type: \"range\",\n                                            min: \"1\",\n                                            max: assignedCount,\n                                            value: recallCount,\n                                            onChange: (e)=>setRecallCount(Number(e.target.value)),\n                                            className: \"sci-fi-slider flex-grow\",\n                                            \"aria-label\": \"Recall Villagers\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                            lineNumber: 173,\n                                            columnNumber: 34\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"font-bold text-lg w-12 text-center bg-black/20 p-1 rounded-md\",\n                                            children: recallCount\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                            lineNumber: 183,\n                                            columnNumber: 33\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative group\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: handleRecall,\n                                                    className: \"sci-fi-action-button\",\n                                                    \"aria-label\": \"Recall \".concat(recallCount, \" Villager(s)\"),\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-6 h-6 text-brand-red\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Undo2_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                            lineNumber: 190,\n                                                            columnNumber: 81\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                        lineNumber: 190,\n                                                        columnNumber: 41\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                    lineNumber: 185,\n                                                    columnNumber: 37\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                    children: \"Recall \".concat(recallCount, \" Villager(s)\")\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                    lineNumber: 192,\n                                                    columnNumber: 38\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                            lineNumber: 184,\n                                            columnNumber: 33\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 172,\n                                    columnNumber: 30\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                            lineNumber: 169,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 131,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n            lineNumber: 122,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n        lineNumber: 121,\n        columnNumber: 9\n    }, undefined);\n};\n_s(ResourceAssignmentPanel, \"ZoVUHh4d6Z84DDHDkgiLHxk58k0=\");\n_c1 = ResourceAssignmentPanel;\n/* harmony default export */ __webpack_exports__[\"default\"] = (ResourceAssignmentPanel);\nvar _c, _c1;\n$RefreshReg$(_c, \"InfoIcon\");\n$RefreshReg$(_c1, \"ResourceAssignmentPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvUmVzb3VyY2VBc3NpZ25tZW50UGFuZWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUNtRDtBQUU2RTtBQUM3RjtBQUNFO0FBZXJDLE1BQU1hLFdBQXlGO1FBQUMsRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sRUFBRTt5QkFDcEgsOERBQUNDO1FBQUlDLFdBQVU7OzBCQUNYLDhEQUFDRDtnQkFBSUMsV0FBVTswQkFBV0o7Ozs7OzswQkFDMUIsOERBQUNLO2dCQUFLRCxXQUFVOzBCQUFxQkg7Ozs7OzswQkFDckMsOERBQUNFO2dCQUFJQyxXQUFVOzBCQUNWRjs7Ozs7Ozs7Ozs7OztLQUxQSDtBQVdOLE1BQU1PLDBCQUFrRSxDQUFDQzs7SUFDckUsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsZ0JBQWdCLEVBQUVDLGlCQUFpQixFQUFFQyxpQkFBaUIsRUFBRUMsaUJBQWlCLEVBQUVDLFVBQVUsRUFBRUMsWUFBWSxFQUFFQyxVQUFVLEVBQUVDLFlBQVksRUFBRSxHQUFHVjtJQUUzSixNQUFNLENBQUNXLGFBQWFDLGVBQWUsR0FBR2hDLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ2lDLGFBQWFDLGVBQWUsR0FBR2xDLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ21DLFdBQVdDLGFBQWEsR0FBR3BDLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ3FDLGFBQWFDLGVBQWUsR0FBR3RDLCtDQUFRQSxDQUFDO1FBQUV1QjtRQUFrQk07SUFBVztJQUU5RSxNQUFNVSxpQkFBaUJoQixtQkFBbUIsaUJBQWlCQSxtQkFBbUI7SUFDOUUsTUFBTWlCLGFBQWFqQixtQkFBbUIsWUFBWUEsbUJBQW1CO0lBQ3JFLE1BQU1rQixnQkFBZ0JELGFBQWEsaUJBQW1DRSxpQkFBaUIsQ0FBQ0MsTUFBTSxHQUFHSixpQkFBaUIsaUJBQTJDSyxXQUFXLENBQUNELE1BQU0sR0FBRztJQUVsTDFD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TixpRkFBS0E7Ozs7Ozs7Ozs7Ozs7Ozs4REFFakQsOERBQUNLO29EQUFJQyxXQUFVOzhEQUNYLFVBQXNCLE9BQVpnQixhQUFZOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVUvRDtHQTNLTWQ7TUFBQUE7QUE2S04sK0RBQWVBLHVCQUF1QkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL1Jlc291cmNlQXNzaWdubWVudFBhbmVsLnRzeD8yODhhIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdHlwZSB7IFJlc291cmNlTm9kZSwgUmVzb3VyY2VOb2RlVHlwZSwgQ29uc3RydWN0aW5nQnVpbGRpbmcsIEJ1aWxkaW5nSW5mbyB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IEZvb2RJY29uLCBXb29kSWNvbiwgR29sZEljb24sIFN0b25lSWNvbiwgVmlsbGFnZXJJY29uLCBDbG9ja0ljb24sIEdhdGhlckljb24sIEJ1aWxkSWNvbiB9IGZyb20gJy4vaWNvbnMvUmVzb3VyY2VJY29ucyc7XG5pbXBvcnQgeyBpY29uTWFwIH0gZnJvbSAnLi9HYW1lVUknO1xuaW1wb3J0IHsgVW5kbzIgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuXG5pbnRlcmZhY2UgUmVzb3VyY2VBc3NpZ25tZW50UGFuZWxQcm9wcyB7XG4gICAgaXNPcGVuOiBib29sZWFuO1xuICAgIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XG4gICAgYXNzaWdubWVudFRhcmdldDogKFJlc291cmNlTm9kZSB8IENvbnN0cnVjdGluZ0J1aWxkaW5nKSB8IG51bGw7XG4gICAgaWRsZVZpbGxhZ2VyQ291bnQ6IG51bWJlcjtcbiAgICBvbkFzc2lnblZpbGxhZ2VyczogKHRhcmdldElkOiBzdHJpbmcsIGNvdW50OiBudW1iZXIpID0+IHZvaWQ7XG4gICAgb25SZWNhbGxWaWxsYWdlcnM6ICh0YXJnZXRJZDogc3RyaW5nLCBjb3VudDogbnVtYmVyLCB0eXBlOiAncmVzb3VyY2UnIHwgJ2NvbnN0cnVjdGlvbicpID0+IHZvaWQ7XG4gICAgZ2F0aGVySW5mbzogUmVjb3JkPFJlc291cmNlTm9kZVR5cGUsIHsgcmF0ZTogbnVtYmVyIH0+O1xuICAgIGJ1aWxkaW5nTGlzdDogQnVpbGRpbmdJbmZvW107XG4gICAgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7XG4gICAgcGFuZWxPcGFjaXR5OiBudW1iZXI7XG59XG5cbmNvbnN0IEluZm9JY29uOiBSZWFjdC5GQzx7IGljb246IFJlYWN0LlJlYWN0Tm9kZTsgdmFsdWU6IHN0cmluZyB8IG51bWJlcjsgdG9vbHRpcDogc3RyaW5nIH0+ID0gKHsgaWNvbiwgdmFsdWUsIHRvb2x0aXAgfSkgPT4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNSB0ZXh0LXBhcmNobWVudC1kYXJrXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy01IGgtNVwiPntpY29ufTwvZGl2PlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1zbVwiPnt2YWx1ZX08L3NwYW4+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLWZ1bGwgbWItMiB3LW1heCBweC0yIHB5LTEgYmctc3RvbmUtZGFyayB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgcG9pbnRlci1ldmVudHMtbm9uZSB6LTEwXCI+XG4gICAgICAgICAgICB7dG9vbHRpcH1cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4pO1xuXG5cbmNvbnN0IFJlc291cmNlQXNzaWdubWVudFBhbmVsOiBSZWFjdC5GQzxSZXNvdXJjZUFzc2lnbm1lbnRQYW5lbFByb3BzPiA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgaXNPcGVuLCBvbkNsb3NlLCBhc3NpZ25tZW50VGFyZ2V0LCBpZGxlVmlsbGFnZXJDb3VudCwgb25Bc3NpZ25WaWxsYWdlcnMsIG9uUmVjYWxsVmlsbGFnZXJzLCBnYXRoZXJJbmZvLCBidWlsZGluZ0xpc3QsIGFuY2hvclJlY3QsIHBhbmVsT3BhY2l0eSB9ID0gcHJvcHM7XG4gICAgXG4gICAgY29uc3QgW2Fzc2lnbkNvdW50LCBzZXRBc3NpZ25Db3VudF0gPSB1c2VTdGF0ZSgxKTtcbiAgICBjb25zdCBbcmVjYWxsQ291bnQsIHNldFJlY2FsbENvdW50XSA9IHVzZVN0YXRlKDEpO1xuICAgIGNvbnN0IFtpc0Nsb3NpbmcsIHNldElzQ2xvc2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2N1cnJlbnREYXRhLCBzZXRDdXJyZW50RGF0YV0gPSB1c2VTdGF0ZSh7IGFzc2lnbm1lbnRUYXJnZXQsIGFuY2hvclJlY3QgfSk7XG4gICAgXG4gICAgY29uc3QgaXNDb25zdHJ1Y3Rpb24gPSBhc3NpZ25tZW50VGFyZ2V0ID8gJ3ZpbGxhZ2VySWRzJyBpbiBhc3NpZ25tZW50VGFyZ2V0IDogZmFsc2U7XG4gICAgY29uc3QgaXNSZXNvdXJjZSA9IGFzc2lnbm1lbnRUYXJnZXQgPyAnYW1vdW50JyBpbiBhc3NpZ25tZW50VGFyZ2V0IDogZmFsc2U7XG4gICAgY29uc3QgYXNzaWduZWRDb3VudCA9IGlzUmVzb3VyY2UgPyAoYXNzaWdubWVudFRhcmdldCBhcyBSZXNvdXJjZU5vZGUpLmFzc2lnbmVkVmlsbGFnZXJzLmxlbmd0aCA6IGlzQ29uc3RydWN0aW9uID8gKGFzc2lnbm1lbnRUYXJnZXQgYXMgQ29uc3RydWN0aW5nQnVpbGRpbmcpLnZpbGxhZ2VySWRzLmxlbmd0aCA6IDA7XG4gICAgXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGlzT3Blbikge1xuICAgICAgICAgICAgc2V0QXNzaWduQ291bnQoaWRsZVZpbGxhZ2VyQ291bnQgPiAwID8gMSA6IDApO1xuICAgICAgICAgICAgc2V0UmVjYWxsQ291bnQoYXNzaWduZWRDb3VudCA+IDAgPyAxIDogMCk7XG4gICAgICAgIH1cbiAgICB9LCBbaXNPcGVuLCBpZGxlVmlsbGFnZXJDb3VudCwgYXNzaWduZWRDb3VudF0pO1xuICAgIFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpc09wZW4gfHwgaXNDbG9zaW5nKSB7XG4gICAgICAgICAgICBzZXRDdXJyZW50RGF0YSh7IGFzc2lnbm1lbnRUYXJnZXQsIGFuY2hvclJlY3QgfSk7XG4gICAgICAgIH1cbiAgICB9LCBbYXNzaWdubWVudFRhcmdldCwgYW5jaG9yUmVjdCwgaXNPcGVuLCBpc0Nsb3NpbmddKTtcbiAgICBcbiAgICBjb25zdCBoYW5kbGVDbG9zZSA9ICgpID0+IHtcbiAgICAgICAgc2V0SXNDbG9zaW5nKHRydWUpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgICAgIHNldElzQ2xvc2luZyhmYWxzZSk7XG4gICAgICAgIH0sIDMwMCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUFzc2lnbiA9ICgpID0+IHtcbiAgICAgICAgaWYgKGN1cnJlbnREYXRhLmFzc2lnbm1lbnRUYXJnZXQgJiYgYXNzaWduQ291bnQgPiAwKSB7XG4gICAgICAgICAgICBvbkFzc2lnblZpbGxhZ2VycyhjdXJyZW50RGF0YS5hc3NpZ25tZW50VGFyZ2V0LmlkLCBhc3NpZ25Db3VudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGhhbmRsZVJlY2FsbCA9ICgpID0+IHtcbiAgICAgICAgaWYgKGN1cnJlbnREYXRhLmFzc2lnbm1lbnRUYXJnZXQgJiYgcmVjYWxsQ291bnQgPiAwKSB7XG4gICAgICAgICAgICBvblJlY2FsbFZpbGxhZ2VycyhjdXJyZW50RGF0YS5hc3NpZ25tZW50VGFyZ2V0LmlkLCByZWNhbGxDb3VudCwgaXNSZXNvdXJjZSA/ICdyZXNvdXJjZScgOiAnY29uc3RydWN0aW9uJyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKCFpc09wZW4gJiYgIWlzQ2xvc2luZykgcmV0dXJuIG51bGw7XG5cbiAgICBjb25zdCB7IGFzc2lnbm1lbnRUYXJnZXQ6IGN1cnJlbnRUYXJnZXQsIGFuY2hvclJlY3Q6IGN1cnJlbnRBbmNob3IgfSA9IGN1cnJlbnREYXRhO1xuICAgIGlmICghY3VycmVudFRhcmdldCkgcmV0dXJuIG51bGw7XG5cbiAgICBsZXQgdGl0bGUgPSBcIk1hbmFnZSBXb3JrZm9yY2VcIjtcbiAgICBsZXQgTWFpbkljb246IFJlYWN0LlJlYWN0Tm9kZSA9IDxHYXRoZXJJY29uIC8+O1xuICAgIGxldCBJbmZvSWNvbnM6IFJlYWN0LlJlYWN0Tm9kZSA9IG51bGw7XG4gICAgbGV0IEFzc2lnbkljb246IFJlYWN0LlJlYWN0Tm9kZSA9IDxHYXRoZXJJY29uIC8+O1xuICAgIFxuICAgIGlmIChpc1Jlc291cmNlKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBjdXJyZW50VGFyZ2V0IGFzIFJlc291cmNlTm9kZTtcbiAgICAgICAgdGl0bGUgPSBgR2F0aGVyICR7bm9kZS50eXBlfWA7XG4gICAgICAgIGNvbnN0IEljb25Db21wb25lbnQgPSB7IGZvb2Q6IEZvb2RJY29uLCB3b29kOiBXb29kSWNvbiwgZ29sZDogR29sZEljb24sIHN0b25lOiBTdG9uZUljb24gfVtub2RlLnR5cGVdO1xuICAgICAgICBNYWluSWNvbiA9IDxJY29uQ29tcG9uZW50IC8+O1xuICAgICAgICBjb25zdCBjdXJyZW50UmF0ZSA9IG5vZGUuYXNzaWduZWRWaWxsYWdlcnMubGVuZ3RoICogKGdhdGhlckluZm9bbm9kZS50eXBlXS5yYXRlIC8gMTApO1xuICAgICAgICBJbmZvSWNvbnMgPSAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxJbmZvSWNvbiBpY29uPXtNYWluSWNvbn0gdmFsdWU9e01hdGguZmxvb3Iobm9kZS5hbW91bnQpfSB0b29sdGlwPVwiUmVtYWluaW5nIEFtb3VudFwiIC8+XG4gICAgICAgICAgICAgICAgPEluZm9JY29uIGljb249ezxWaWxsYWdlckljb24gLz59IHZhbHVlPXtgJHtub2RlLmFzc2lnbmVkVmlsbGFnZXJzLmxlbmd0aH1gfSB0b29sdGlwPVwiQXNzaWduZWQgV29ya2Vyc1wiIC8+XG4gICAgICAgICAgICAgICAgPEluZm9JY29uIGljb249ezxDbG9ja0ljb24gLz59IHZhbHVlPXtgJHtjdXJyZW50UmF0ZS50b0ZpeGVkKDEpfS9zYH0gdG9vbHRpcD1cIkN1cnJlbnQgR2F0aGVyIFJhdGVcIiAvPlxuICAgICAgICAgICAgPC8+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGlzQ29uc3RydWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IGNvbnN0cnVjdGlvbiA9IGN1cnJlbnRUYXJnZXQgYXMgQ29uc3RydWN0aW5nQnVpbGRpbmc7XG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IGJ1aWxkaW5nTGlzdC5maW5kKGIgPT4gYi5pZCA9PT0gY29uc3RydWN0aW9uLnR5cGUpO1xuICAgICAgICB0aXRsZSA9IGBDb25zdHJ1Y3QgJHtidWlsZGluZ0luZm8/Lm5hbWUgfHwgJ0J1aWxkaW5nJ31gO1xuICAgICAgICBNYWluSWNvbiA9IGljb25NYXBbY29uc3RydWN0aW9uLnR5cGVdO1xuICAgICAgICBBc3NpZ25JY29uID0gPEJ1aWxkSWNvbiAvPjtcbiAgICAgICAgSW5mb0ljb25zID0gKFxuICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPEluZm9JY29uIGljb249ezxCdWlsZEljb24gLz59IHZhbHVlPXtjb25zdHJ1Y3Rpb24udmlsbGFnZXJJZHMubGVuZ3RofSB0b29sdGlwPVwiQ3VycmVudCBCdWlsZGVyc1wiIC8+XG4gICAgICAgICAgICAgICAgPEluZm9JY29uIGljb249ezxWaWxsYWdlckljb24gLz59IHZhbHVlPXtpZGxlVmlsbGFnZXJDb3VudH0gdG9vbHRpcD1cIklkbGUgVmlsbGFnZXJzIEF2YWlsYWJsZVwiIC8+XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgKVxuICAgIH1cblxuICAgIGNvbnN0IG1heEFzc2lnbmFibGUgPSBpZGxlVmlsbGFnZXJDb3VudDtcbiAgICBcbiAgICBjb25zdCBwYW5lbFN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzID0geyB0b3A6IGAke2N1cnJlbnRBbmNob3IuYm90dG9tICsgOH1weGAsIGxlZnQ6IGBtYXgoOHB4LCAke2N1cnJlbnRBbmNob3IubGVmdCAtIDE0NH1weClgLCB0cmFuc2Zvcm1PcmlnaW46ICd0b3AgY2VudGVyJywgJy0tcGFuZWwtb3BhY2l0eSc6IHBhbmVsT3BhY2l0eSB9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXM7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IHN0eWxlPXtwYW5lbFN0eWxlfSBjbGFzc05hbWU9e2BmaXhlZCB6LTQwIHctODAgdHJhbnNmb3JtIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCBlYXNlLWluLW91dCAke2lzT3BlbiAmJiAhaXNDbG9zaW5nID8gJ29wYWNpdHktMTAwIHNjYWxlLTEwMCcgOiAnb3BhY2l0eS0wIHNjYWxlLTk1J31gfT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2NpLWZpLXBhbmVsLXBvcHVwIHNjaS1maS1ncmlkIHAtNFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC04XCI+e01haW5JY29ufTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtc2VyaWYgY2FwaXRhbGl6ZVwiPnt0aXRsZX08L2gyPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVDbG9zZX0gY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHNjaS1maS1jbG9zZS1idXR0b25cIj4mdGltZXM7PC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYXJvdW5kIGl0ZW1zLWNlbnRlciBiZy1ibGFjay8yMCBwLTIgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICB7SW5mb0ljb25zfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIDxociBjbGFzc05hbWU9XCJib3JkZXItc3RvbmUtbGlnaHQvMjAgbXktMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJ2aWxsYWdlci1hc3NpZ24tc2xpZGVyXCIgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LXNlcmlmIHRleHQtYnJhbmQtZ29sZCBtYi0xXCI+QXNzaWduIElkbGUgVmlsbGFnZXJzICh7aWRsZVZpbGxhZ2VyQ291bnR9IGF2YWlsYWJsZSk8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJ2aWxsYWdlci1hc3NpZ24tc2xpZGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heD17bWF4QXNzaWduYWJsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2Fzc2lnbkNvdW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEFzc2lnbkNvdW50KE51bWJlcihlLnRhcmdldC52YWx1ZSkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzY2ktZmktc2xpZGVyIGZsZXgtZ3Jvd1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXttYXhBc3NpZ25hYmxlID09PSAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQXNzaWduIFZpbGxhZ2Vyc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1sZyB3LTEyIHRleHQtY2VudGVyIGJnLWJsYWNrLzIwIHAtMSByb3VuZGVkLW1kXCI+e2Fzc2lnbkNvdW50fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFzc2lnbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXthc3NpZ25Db3VudCA9PT0gMCB8fCBtYXhBc3NpZ25hYmxlID09PSAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2NpLWZpLWFjdGlvbi1idXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNiBoLTZcIj57QXNzaWduSWNvbn08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIHJpZ2h0LTAgbWItMiB3LW1heCBweC0yIHB5LTEgYmctc3RvbmUtZGFyayB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IHBvaW50ZXItZXZlbnRzLW5vbmUgei0xMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge21heEFzc2lnbmFibGUgPT09IDAgPyAnTm8gSWRsZSBWaWxsYWdlcnMnIDogYEFzc2lnbiAke2Fzc2lnbkNvdW50fSBWaWxsYWdlcihzKWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAge2Fzc2lnbmVkQ291bnQgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxociBjbGFzc05hbWU9XCJib3JkZXItc3RvbmUtbGlnaHQvMjAgbXktM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwidmlsbGFnZXItcmVjYWxsLXNsaWRlclwiIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1zZXJpZiB0ZXh0LWJyYW5kLXJlZCBtYi0xXCI+UmVjYWxsIEFzc2lnbmVkIFZpbGxhZ2VycyAoe2Fzc2lnbmVkQ291bnR9IGFzc2lnbmVkKTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJ2aWxsYWdlci1yZWNhbGwtc2xpZGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW49XCIxXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heD17YXNzaWduZWRDb3VudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtyZWNhbGxDb3VudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UmVjYWxsQ291bnQoTnVtYmVyKGUudGFyZ2V0LnZhbHVlKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzY2ktZmktc2xpZGVyIGZsZXgtZ3Jvd1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiUmVjYWxsIFZpbGxhZ2Vyc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWxnIHctMTIgdGV4dC1jZW50ZXIgYmctYmxhY2svMjAgcC0xIHJvdW5kZWQtbWRcIj57cmVjYWxsQ291bnR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUmVjYWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNjaS1maS1hY3Rpb24tYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtgUmVjYWxsICR7cmVjYWxsQ291bnR9IFZpbGxhZ2VyKHMpYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNiBoLTYgdGV4dC1icmFuZC1yZWRcIj48VW5kbzIvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tZnVsbCByaWdodC0wIG1iLTIgdy1tYXggcHgtMiBweS0xIGJnLXN0b25lLWRhcmsgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBwb2ludGVyLWV2ZW50cy1ub25lIHotMTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YFJlY2FsbCAke3JlY2FsbENvdW50fSBWaWxsYWdlcihzKWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJlc291cmNlQXNzaWdubWVudFBhbmVsO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJGb29kSWNvbiIsIldvb2RJY29uIiwiR29sZEljb24iLCJTdG9uZUljb24iLCJWaWxsYWdlckljb24iLCJDbG9ja0ljb24iLCJHYXRoZXJJY29uIiwiQnVpbGRJY29uIiwiaWNvbk1hcCIsIlVuZG8yIiwiSW5mb0ljb24iLCJpY29uIiwidmFsdWUiLCJ0b29sdGlwIiwiZGl2IiwiY2xhc3NOYW1lIiwic3BhbiIsIlJlc291cmNlQXNzaWdubWVudFBhbmVsIiwicHJvcHMiLCJpc09wZW4iLCJvbkNsb3NlIiwiYXNzaWdubWVudFRhcmdldCIsImlkbGVWaWxsYWdlckNvdW50Iiwib25Bc3NpZ25WaWxsYWdlcnMiLCJvblJlY2FsbFZpbGxhZ2VycyIsImdhdGhlckluZm8iLCJidWlsZGluZ0xpc3QiLCJhbmNob3JSZWN0IiwicGFuZWxPcGFjaXR5IiwiYXNzaWduQ291bnQiLCJzZXRBc3NpZ25Db3VudCIsInJlY2FsbENvdW50Iiwic2V0UmVjYWxsQ291bnQiLCJpc0Nsb3NpbmciLCJzZXRJc0Nsb3NpbmciLCJjdXJyZW50RGF0YSIsInNldEN1cnJlbnREYXRhIiwiaXNDb25zdHJ1Y3Rpb24iLCJpc1Jlc291cmNlIiwiYXNzaWduZWRDb3VudCIsImFzc2lnbmVkVmlsbGFnZXJzIiwibGVuZ3RoIiwidmlsbGFnZXJJZHMiLCJoYW5kbGVDbG9zZSIsInNldFRpbWVvdXQiLCJoYW5kbGVBc3NpZ24iLCJpZCIsImhhbmRsZVJlY2FsbCIsImN1cnJlbnRUYXJnZXQiLCJjdXJyZW50QW5jaG9yIiwidGl0bGUiLCJNYWluSWNvbiIsIkluZm9JY29ucyIsIkFzc2lnbkljb24iLCJub2RlIiwidHlwZSIsIkljb25Db21wb25lbnQiLCJmb29kIiwid29vZCIsImdvbGQiLCJzdG9uZSIsImN1cnJlbnRSYXRlIiwicmF0ZSIsIk1hdGgiLCJmbG9vciIsImFtb3VudCIsInRvRml4ZWQiLCJjb25zdHJ1Y3Rpb24iLCJidWlsZGluZ0luZm8iLCJmaW5kIiwiYiIsIm5hbWUiLCJtYXhBc3NpZ25hYmxlIiwicGFuZWxTdHlsZSIsInRvcCIsImJvdHRvbSIsImxlZnQiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJzdHlsZSIsImgyIiwiYnV0dG9uIiwib25DbGljayIsImhyIiwibGFiZWwiLCJodG1sRm9yIiwiaW5wdXQiLCJtaW4iLCJtYXgiLCJvbkNoYW5nZSIsImUiLCJOdW1iZXIiLCJ0YXJnZXQiLCJkaXNhYmxlZCIsImFyaWEtbGFiZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ResourceAssignmentPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/types */ \"(app-pages-browser)/./types.ts\");\n/* harmony import */ var _services_geminiService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/services/geminiService */ \"(app-pages-browser)/./services/geminiService.ts\");\n/* harmony import */ var _services_dbService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/services/dbService */ \"(app-pages-browser)/./services/dbService.ts\");\n/* harmony import */ var _services_nameService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/services/nameService */ \"(app-pages-browser)/./services/nameService.ts\");\n/* harmony import */ var _components_GameUI__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/GameUI */ \"(app-pages-browser)/./components/GameUI.tsx\");\n/* harmony import */ var _components_StartScreen__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/StartScreen */ \"(app-pages-browser)/./components/StartScreen.tsx\");\n/* harmony import */ var _components_LoadingScreen__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/LoadingScreen */ \"(app-pages-browser)/./components/LoadingScreen.tsx\");\n/* harmony import */ var _components_BuildPanel__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/BuildPanel */ \"(app-pages-browser)/./components/BuildPanel.tsx\");\n/* harmony import */ var _components_NotificationManager__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/NotificationManager */ \"(app-pages-browser)/./components/NotificationManager.tsx\");\n/* harmony import */ var _components_UnitManagementPanel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/UnitManagementPanel */ \"(app-pages-browser)/./components/UnitManagementPanel.tsx\");\n/* harmony import */ var _components_BuildingManagementPanel__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/components/BuildingManagementPanel */ \"(app-pages-browser)/./components/BuildingManagementPanel.tsx\");\n/* harmony import */ var _components_ResourceAssignmentPanel__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/components/ResourceAssignmentPanel */ \"(app-pages-browser)/./components/ResourceAssignmentPanel.tsx\");\n/* harmony import */ var _components_SettingsPanel__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/components/SettingsPanel */ \"(app-pages-browser)/./components/SettingsPanel.tsx\");\n/* harmony import */ var _components_CivilizationPanel__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/components/CivilizationPanel */ \"(app-pages-browser)/./components/CivilizationPanel.tsx\");\n/* harmony import */ var _components_AllBuildingsPanel__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/components/AllBuildingsPanel */ \"(app-pages-browser)/./components/AllBuildingsPanel.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst BUILDINGS_INFO = [\n    {\n        id: \"houses\",\n        name: \"House\",\n        description: \"Increases population capacity by 5.\",\n        cost: {\n            wood: 50\n        },\n        isUnique: false,\n        buildTime: 15\n    },\n    {\n        id: \"barracks\",\n        name: \"Barracks\",\n        description: \"Allows training of Swordsmen.\",\n        cost: {\n            wood: 150,\n            stone: 50\n        },\n        isUnique: true,\n        buildTime: 60\n    },\n    {\n        id: \"archeryRange\",\n        name: \"Archery Range\",\n        description: \"Allows training of Archers.\",\n        cost: {\n            wood: 175\n        },\n        isUnique: true,\n        buildTime: 60\n    },\n    {\n        id: \"stable\",\n        name: \"Stables\",\n        description: \"Allows training of Knights.\",\n        cost: {\n            wood: 175,\n            gold: 75\n        },\n        isUnique: true,\n        buildTime: 75\n    },\n    {\n        id: \"siegeWorkshop\",\n        name: \"Siege Workshop\",\n        description: \"Constructs powerful Catapults.\",\n        cost: {\n            wood: 200,\n            gold: 150\n        },\n        isUnique: true,\n        buildTime: 90\n    },\n    {\n        id: \"blacksmith\",\n        name: \"Blacksmith\",\n        description: \"Researches infantry and cavalry upgrades.\",\n        cost: {\n            wood: 100,\n            gold: 100\n        },\n        isUnique: true,\n        buildTime: 45\n    },\n    {\n        id: \"watchTower\",\n        name: \"Watch Tower\",\n        description: \"Provides defense against raids.\",\n        cost: {\n            stone: 125\n        },\n        isUnique: true,\n        buildTime: 45\n    },\n    {\n        id: \"townCenter\",\n        name: \"Town Center\",\n        description: \"The heart of your settlement.\",\n        cost: {},\n        isUnique: true,\n        buildTime: 0\n    }\n];\nconst UNIT_INFO = [\n    {\n        id: \"swordsman\",\n        name: \"Swordsman\",\n        description: \"Basic melee infantry.\",\n        cost: {\n            food: 60,\n            gold: 20\n        },\n        requiredBuilding: \"barracks\",\n        trainTime: 22\n    },\n    {\n        id: \"archer\",\n        name: \"Archer\",\n        description: \"Ranged unit effective against infantry.\",\n        cost: {\n            food: 30,\n            wood: 40\n        },\n        requiredBuilding: \"archeryRange\",\n        trainTime: 25\n    },\n    {\n        id: \"knight\",\n        name: \"Knight\",\n        description: \"Fast and powerful cavalry.\",\n        cost: {\n            food: 60,\n            gold: 75\n        },\n        requiredBuilding: \"stable\",\n        trainTime: 30\n    },\n    {\n        id: \"catapult\",\n        name: \"Catapult\",\n        description: \"Siege engine devastating to buildings.\",\n        cost: {\n            wood: 150,\n            gold: 150\n        },\n        requiredBuilding: \"siegeWorkshop\",\n        trainTime: 45\n    }\n];\nconst GATHER_INFO = {\n    food: {\n        rate: 100\n    },\n    wood: {\n        rate: 80\n    },\n    gold: {\n        rate: 50\n    },\n    stone: {\n        rate: 60\n    }\n};\nconst initialBuildingsState = {\n    houses: [],\n    barracks: [],\n    archeryRange: [],\n    stable: [],\n    siegeWorkshop: [],\n    blacksmith: [],\n    watchTower: [],\n    townCenter: []\n};\nconst MAP_DIMENSIONS = {\n    width: 25,\n    height: 18\n};\nconst GamePage = ()=>{\n    var _buildings_townCenter;\n    _s();\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU);\n    const [civilization, setCivilization] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [resources, setResources] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        food: 200,\n        wood: 150,\n        gold: 50,\n        stone: 100\n    });\n    const [units, setUnits] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        villagers: [],\n        military: []\n    });\n    const [buildings, setBuildings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialBuildingsState);\n    const [currentAge, setCurrentAge] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Nomadic Age\");\n    const [gameLog, setGameLog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentEvent, setCurrentEvent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [resourceDeltas, setResourceDeltas] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [activityStatus, setActivityStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Your story begins...\");\n    const [notifications, setNotifications] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [unlimitedResources, setUnlimitedResources] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [allSaves, setAllSaves] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentSaveName, setCurrentSaveName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [playerAction, setPlayerAction] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [activeTasks, setActiveTasks] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [constructingBuildings, setConstructingBuildings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [resourceNodes, setResourceNodes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [panelOpacity, setPanelOpacity] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1.0);\n    // Panel States\n    const [buildPanelState, setBuildPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        villagerId: null,\n        anchorRect: null\n    });\n    const [unitManagementPanel, setUnitManagementPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        type: null,\n        anchorRect: null\n    });\n    const [buildingManagementPanel, setBuildingManagementPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        type: null,\n        anchorRect: null\n    });\n    const [allBuildingsPanel, setAllBuildingsPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const [assignmentPanelState, setAssignmentPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        targetId: null,\n        targetType: null,\n        anchorRect: null\n    });\n    const [settingsPanelState, setSettingsPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const [civPanelState, setCivPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const deltaTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    const eventTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const population = {\n        current: units.villagers.length + units.military.length,\n        capacity: (((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter.length) > 0 ? 20 : 0) + buildings.houses.length * 5\n    };\n    const fetchSaves = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        const names = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllSaveNames)();\n        setAllSaves(names);\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        fetchSaves();\n    }, [\n        fetchSaves\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && civilization && currentSaveName) {\n            const fullState = {\n                civilization,\n                resources,\n                units,\n                buildings,\n                currentAge,\n                gameLog,\n                activeTasks,\n                constructingBuildings,\n                resourceNodes\n            };\n            (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.saveGameState)(currentSaveName, fullState);\n        }\n    }, [\n        civilization,\n        resources,\n        units,\n        buildings,\n        currentAge,\n        gameLog,\n        gameState,\n        currentSaveName,\n        activeTasks,\n        constructingBuildings,\n        resourceNodes\n    ]);\n    const addNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message)=>{\n        const id = \"\".concat(Date.now(), \"-\").concat(Math.random());\n        setNotifications((prev)=>[\n                ...prev,\n                {\n                    id,\n                    message\n                }\n            ]);\n    }, []);\n    const removeNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id)=>{\n        setNotifications((prev)=>prev.filter((n)=>n.id !== id));\n    }, []);\n    const addToLog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message, icon)=>{\n        setGameLog((prev)=>[\n                {\n                    id: \"\".concat(Date.now(), \"-\").concat(Math.random()),\n                    message,\n                    icon\n                },\n                ...prev.slice(0, 19)\n            ]);\n    }, []);\n    const updateResources = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((deltas)=>{\n        setResources((prev)=>{\n            const newResources = {\n                ...prev\n            };\n            for(const key in deltas){\n                const resourceKey = key;\n                var _deltas_resourceKey;\n                newResources[resourceKey] = Math.max(0, newResources[resourceKey] + ((_deltas_resourceKey = deltas[resourceKey]) !== null && _deltas_resourceKey !== void 0 ? _deltas_resourceKey : 0));\n            }\n            return newResources;\n        });\n        setResourceDeltas((prev)=>({\n                ...prev,\n                ...deltas\n            }));\n        for(const key in deltas){\n            const resourceKey = key;\n            if (deltaTimeoutRef.current[resourceKey]) {\n                window.clearTimeout(deltaTimeoutRef.current[resourceKey]);\n            }\n            deltaTimeoutRef.current[resourceKey] = window.setTimeout(()=>{\n                setResourceDeltas((prev)=>{\n                    const newDeltas = {\n                        ...prev\n                    };\n                    delete newDeltas[resourceKey];\n                    return newDeltas;\n                });\n            }, 1500);\n        }\n    }, []);\n    const handleTaskCompletion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((task)=>{\n        switch(task.type){\n            case \"build\":\n                {\n                    const { buildingType, villagerIds, position } = task.payload;\n                    const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === buildingType);\n                    const [name] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n                    const newBuilding = {\n                        id: task.id,\n                        name,\n                        position: position\n                    };\n                    setConstructingBuildings((prev)=>prev.filter((b)=>b.id !== task.id));\n                    setBuildings((p)=>({\n                            ...p,\n                            [buildingType]: [\n                                ...p[buildingType],\n                                newBuilding\n                            ]\n                        }));\n                    if (villagerIds && villagerIds.length > 0) {\n                        addToLog(\"\".concat(villagerIds.length, \" builder(s) have constructed \").concat(name, \", a new \").concat(buildingInfo.name, \".\"), buildingType);\n                        setActivityStatus(\"Construction of \".concat(name, \" is complete.\"));\n                    }\n                    break;\n                }\n            case \"gather\":\n                {\n                    break;\n                }\n            case \"train_villager\":\n                {\n                    const { count } = task.payload;\n                    const newVillagerNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", count);\n                    const newVillagers = newVillagerNames.map((name)=>({\n                            id: \"\".concat(Date.now(), \"-\").concat(name),\n                            name\n                        }));\n                    setUnits((p)=>({\n                            ...p,\n                            villagers: [\n                                ...p.villagers,\n                                ...newVillagers\n                            ]\n                        }));\n                    addToLog(\"\".concat(count, \" new villager(s) have joined your settlement.\"), \"villager\");\n                    setActivityStatus(\"\".concat(count, \" new villager(s) are ready to work.\"));\n                    break;\n                }\n            case \"train_military\":\n                {\n                    const { unitType, count } = task.payload;\n                    const unitInfo = UNIT_INFO.find((u)=>u.id === unitType);\n                    const newUnitNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"soldier\", count);\n                    const newUnits = newUnitNames.map((name)=>({\n                            id: \"\".concat(Date.now(), \"-\").concat(unitType, \"-\").concat(name),\n                            name,\n                            title: \"\",\n                            unitType: unitType\n                        }));\n                    setUnits((p)=>({\n                            ...p,\n                            military: [\n                                ...p.military,\n                                ...newUnits\n                            ]\n                        }));\n                    addToLog(\"\".concat(count, \" \").concat(unitInfo.name, \"(s) have been trained.\"), unitType);\n                    setActivityStatus(\"\".concat(count, \" new \").concat(unitInfo.name, \"(s) are ready for battle.\"));\n                    break;\n                }\n            case \"advance_age\":\n                {\n                    const ageResult = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedAge)(currentAge);\n                    setCurrentAge(ageResult.nextAgeName);\n                    addToLog(\"You have advanced to the \".concat(ageResult.nextAgeName, \"!\"), \"age\");\n                    addToLog(ageResult.description, \"age\");\n                    setActivityStatus(\"Welcome to the \".concat(ageResult.nextAgeName, \"!\"));\n                    break;\n                }\n        }\n    }, [\n        currentAge,\n        updateResources,\n        addToLog\n    ]);\n    // Game Loop\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const gameLoop = setInterval(()=>{\n            const now = Date.now();\n            let completedTasks = [];\n            let resourceDeltasThisTick = {};\n            const stillActiveTasks = activeTasks.map((task)=>{\n                if (now >= task.startTime + task.duration) {\n                    completedTasks.push(task);\n                    return null;\n                }\n                if (task.type === \"gather\") {\n                    var _task_payload_villagerIds, _task_payload;\n                    const node = resourceNodes.find((n)=>{\n                        var _task_payload;\n                        return n.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.resourceNodeId);\n                    });\n                    const villagerCount = ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 0;\n                    if (!node || villagerCount === 0) {\n                        return null; // Orphaned task, mark for removal\n                    }\n                    const gatherRatePerVillagerPerSecond = GATHER_INFO[node.type].rate / 10;\n                    const amountGatheredThisTick = gatherRatePerVillagerPerSecond * villagerCount;\n                    resourceDeltasThisTick[node.type] = (resourceDeltasThisTick[node.type] || 0) + amountGatheredThisTick;\n                }\n                return task;\n            }).filter(Boolean);\n            // Update resource nodes separately to avoid race conditions with state\n            if (Object.keys(resourceDeltasThisTick).length > 0) {\n                setResources((prevRes)=>{\n                    const newResources = {\n                        ...prevRes\n                    };\n                    for(const key in resourceDeltasThisTick){\n                        const resKey = key;\n                        newResources[resKey] += resourceDeltasThisTick[resKey];\n                    }\n                    return newResources;\n                });\n                setResourceNodes((prevNodes)=>{\n                    let nodesWereDepleted = false;\n                    const newNodes = prevNodes.map((node)=>{\n                        const amountToDecrement = resourceDeltasThisTick[node.type];\n                        if (amountToDecrement) {\n                            const newAmount = node.amount - amountToDecrement;\n                            if (newAmount <= 0) {\n                                addToLog(\"\".concat(node.assignedVillagers.length, \" villager(s) depleted a \").concat(node.type, \" source, gaining \").concat(Math.floor(node.amount), \" \").concat(node.type, \".\"), node.type);\n                                setActivityStatus(\"A \".concat(node.type, \" source has been fully depleted.\"));\n                                nodesWereDepleted = true;\n                                const gatherTask = stillActiveTasks.find((t)=>{\n                                    var _t_payload;\n                                    return t.type === \"gather\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.resourceNodeId) === node.id;\n                                });\n                                if (gatherTask) completedTasks.push(gatherTask);\n                                return null;\n                            }\n                            return {\n                                ...node,\n                                amount: newAmount\n                            };\n                        }\n                        return node;\n                    }).filter(Boolean);\n                    if (nodesWereDepleted) {\n                    // This will filter out the completed gather tasks in the next step\n                    }\n                    return newNodes;\n                });\n            }\n            const finalActiveTasks = stillActiveTasks.filter((t)=>!completedTasks.some((ct)=>ct.id === t.id));\n            setActiveTasks(finalActiveTasks);\n            if (completedTasks.length > 0) {\n                completedTasks.forEach(handleTaskCompletion);\n            }\n        }, 1000);\n        return ()=>clearInterval(gameLoop);\n    }, [\n        activeTasks,\n        resourceNodes,\n        handleTaskCompletion,\n        addToLog\n    ]);\n    const handleNewEvent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const nonGatheringTasks = activeTasks.filter((t)=>t.type !== \"gather\");\n        if (!civilization || currentEvent || nonGatheringTasks.length > 0) return;\n        addToLog(\"A new chapter unfolds...\", \"event\");\n        const event = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedGameEvent)();\n        setCurrentEvent(event);\n        setActivityStatus(\"A new event requires your attention!\");\n    }, [\n        civilization,\n        currentEvent,\n        activeTasks,\n        addToLog\n    ]);\n    const scheduleNextEvent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (eventTimerRef.current) {\n            clearTimeout(eventTimerRef.current);\n        }\n        const nextEventTime = (45 + Math.random() * 45) * 1000; // 45-90 seconds\n        eventTimerRef.current = setTimeout(()=>handleNewEvent(), nextEventTime);\n    }, [\n        handleNewEvent\n    ]);\n    const generateResourceNodes = (existingPositions)=>{\n        const nodes = [];\n        const types = [\n            \"food\",\n            \"wood\",\n            \"gold\",\n            \"stone\"\n        ];\n        const numNodes = 20 + Math.floor(Math.random() * 10);\n        for(let i = 0; i < numNodes; i++){\n            let pos;\n            do {\n                pos = {\n                    x: Math.floor(Math.random() * MAP_DIMENSIONS.width),\n                    y: Math.floor(Math.random() * MAP_DIMENSIONS.height)\n                };\n            }while (existingPositions.has(\"\".concat(pos.x, \",\").concat(pos.y)));\n            existingPositions.add(\"\".concat(pos.x, \",\").concat(pos.y));\n            const type = types[Math.floor(Math.random() * types.length)];\n            const amount = Math.floor(Math.random() * (2500 - 500 + 1)) + 500;\n            nodes.push({\n                id: \"\".concat(Date.now(), \"-node-\").concat(i),\n                type,\n                position: pos,\n                amount,\n                assignedVillagers: []\n            });\n        }\n        return nodes;\n    };\n    const handleStartNewGame = (saveName)=>{\n        if (allSaves.includes(saveName)) {\n            addNotification('A saga named \"'.concat(saveName, '\" already exists.'));\n            return;\n        }\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n        setCurrentSaveName(saveName);\n        const civ = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedCivilization)();\n        setCivilization(civ);\n        setResources({\n            food: 200,\n            wood: 150,\n            gold: 50,\n            stone: 100\n        });\n        const initialVillagerNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", 3);\n        const initialVillagers = initialVillagerNames.map((name)=>({\n                id: \"\".concat(Date.now(), \"-\").concat(name),\n                name\n            }));\n        setUnits({\n            villagers: initialVillagers,\n            military: []\n        });\n        const [initialTCName] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n        const tcPosition = {\n            x: Math.floor(MAP_DIMENSIONS.width / 2),\n            y: Math.floor(MAP_DIMENSIONS.height / 2)\n        };\n        const initialTC = {\n            id: \"\".concat(Date.now(), \"-tc\"),\n            name: initialTCName,\n            position: tcPosition\n        };\n        setBuildings({\n            ...initialBuildingsState,\n            townCenter: [\n                initialTC\n            ]\n        });\n        setResourceNodes(generateResourceNodes(new Set([\n            \"\".concat(tcPosition.x, \",\").concat(tcPosition.y)\n        ])));\n        setCurrentAge(\"Nomadic Age\");\n        setGameLog([]);\n        setCurrentEvent(null);\n        setUnlimitedResources(false);\n        setActiveTasks([]);\n        setConstructingBuildings([]);\n        addToLog(\"\".concat(civ.name, \" has been founded!\"), \"system\");\n        addToLog(\"Your story begins...\", \"system\");\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING);\n        setActivityStatus(\"Your settlement awaits your command.\");\n        fetchSaves();\n    };\n    const getVillagerTaskDetails = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((villagerId)=>{\n        const task = activeTasks.find((t)=>{\n            var _t_payload_villagerIds, _t_payload;\n            return (_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : (_t_payload_villagerIds = _t_payload.villagerIds) === null || _t_payload_villagerIds === void 0 ? void 0 : _t_payload_villagerIds.includes(villagerId);\n        });\n        if (task) {\n            if (task.type === \"build\") {\n                const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === task.payload.buildingType);\n                return \"Busy: Constructing \".concat((buildingInfo === null || buildingInfo === void 0 ? void 0 : buildingInfo.name) || \"a building\");\n            }\n            if (task.type === \"gather\") {\n                const node = resourceNodes.find((n)=>n.id === task.payload.resourceNodeId);\n                return \"Busy: Gathering \".concat((node === null || node === void 0 ? void 0 : node.type) || \"resources\");\n            }\n        }\n        return \"Idle\";\n    }, [\n        activeTasks,\n        resourceNodes\n    ]);\n    const isVillagerBusy = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((villagerId)=>{\n        return getVillagerTaskDetails(villagerId) !== \"Idle\";\n    }, [\n        getVillagerTaskDetails\n    ]);\n    const handleResumeGame = async (saveName)=>{\n        const savedState = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.loadGameState)(saveName);\n        if (savedState) {\n            var _savedState_units;\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n            setCurrentSaveName(saveName);\n            setCivilization(savedState.civilization);\n            setResources(savedState.resources);\n            if ((_savedState_units = savedState.units) === null || _savedState_units === void 0 ? void 0 : _savedState_units.soldiers) {\n                const migratedMilitary = savedState.units.soldiers.map((s)=>({\n                        ...s,\n                        unitType: \"swordsman\"\n                    }));\n                setUnits({\n                    villagers: savedState.units.villagers || [],\n                    military: migratedMilitary\n                });\n            } else {\n                setUnits(savedState.units || {\n                    villagers: [],\n                    military: []\n                });\n            }\n            let finalBuildings = {\n                ...initialBuildingsState,\n                ...savedState.buildings || {}\n            };\n            const occupiedCells = new Set(Object.values(finalBuildings).flat().map((b)=>\"\".concat(b.position.x, \",\").concat(b.position.y)));\n            if (!finalBuildings.townCenter || finalBuildings.townCenter.length === 0) {\n                let tcPos = {\n                    x: 10,\n                    y: 5\n                };\n                while(occupiedCells.has(\"\".concat(tcPos.x, \",\").concat(tcPos.y))){\n                    tcPos.x++;\n                }\n                const [tcName] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n                finalBuildings.townCenter = [\n                    {\n                        id: \"\".concat(Date.now(), \"-tc\"),\n                        name: tcName,\n                        position: tcPos\n                    }\n                ];\n                occupiedCells.add(\"\".concat(tcPos.x, \",\").concat(tcPos.y));\n            }\n            const firstBuilding = Object.values(finalBuildings).flat()[0];\n            if (firstBuilding && typeof firstBuilding === \"object\" && !(\"position\" in firstBuilding)) {\n                const migrated = {\n                    ...initialBuildingsState\n                };\n                let y = 3;\n                Object.entries(finalBuildings).forEach((param)=>{\n                    let [type, instances] = param;\n                    let x = 5;\n                    instances.forEach((inst)=>{\n                        while(occupiedCells.has(\"\".concat(x, \",\").concat(y))){\n                            x++;\n                        }\n                        migrated[type].push({\n                            ...inst,\n                            position: {\n                                x,\n                                y\n                            }\n                        });\n                        occupiedCells.add(\"\".concat(x, \",\").concat(y));\n                        x++;\n                    });\n                });\n                finalBuildings = migrated;\n            }\n            setBuildings(finalBuildings);\n            const nodesToSet = (savedState.resourceNodes || []).map((n)=>({\n                    ...n,\n                    assignedVillagers: n.assignedVillagers || []\n                }));\n            if (nodesToSet.length === 0) {\n                setResourceNodes(generateResourceNodes(occupiedCells));\n            } else {\n                setResourceNodes(nodesToSet);\n            }\n            setCurrentAge(savedState.currentAge);\n            setGameLog(savedState.gameLog);\n            setActiveTasks((savedState.activeTasks || []).map((t)=>{\n                var _t_payload;\n                // Migration for old save format\n                if (t.type === \"build\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.villagerId)) {\n                    return {\n                        ...t,\n                        payload: {\n                            ...t.payload,\n                            villagerIds: [\n                                t.payload.villagerId\n                            ],\n                            villagerId: undefined\n                        }\n                    };\n                }\n                return t;\n            }));\n            setConstructingBuildings((savedState.constructingBuildings || []).map((c)=>{\n                // Migration for old save format\n                if (c.villagerId) {\n                    return {\n                        ...c,\n                        villagerIds: [\n                            c.villagerId\n                        ],\n                        villagerId: undefined\n                    };\n                }\n                return c;\n            }));\n            setCurrentEvent(null);\n            setActivityStatus(\"Welcome back to your saga.\");\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING);\n        } else {\n            addNotification('Could not find a saved game named \"'.concat(saveName, '\".'));\n        }\n    };\n    // Event Trigger Timer\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Events should not trigger if a major task (build, train, advance age) is in progress.\n        // Gathering resources is a background task and should not block events.\n        const majorTaskInProgress = activeTasks.some((t)=>t.type !== \"gather\");\n        if (gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && !currentEvent && !playerAction && !majorTaskInProgress) {\n            scheduleNextEvent();\n        } else if (eventTimerRef.current) {\n            clearTimeout(eventTimerRef.current);\n        }\n        return ()=>{\n            if (eventTimerRef.current) {\n                clearTimeout(eventTimerRef.current);\n            }\n        };\n    }, [\n        gameState,\n        currentEvent,\n        playerAction,\n        activeTasks,\n        scheduleNextEvent\n    ]);\n    const handleEventChoice = (choice)=>{\n        addToLog('Decision: \"'.concat(choice.text, '\"'), \"event\");\n        // 1. Check and apply cost\n        if (choice.cost) {\n            const missingRes = [];\n            for(const key in choice.cost){\n                const resKey = key;\n                if (resources[resKey] < (choice.cost[resKey] || 0)) {\n                    missingRes.push(resKey);\n                }\n            }\n            if (missingRes.length > 0) {\n                addNotification(\"You lack the required resources: \".concat(missingRes.join(\", \"), \".\"));\n                return;\n            }\n            const negativeCost = {};\n            for(const key in choice.cost){\n                const resKey = key;\n                negativeCost[resKey] = -(choice.cost[resKey] || 0);\n            }\n            updateResources(negativeCost);\n        }\n        // 2. Determine success\n        const isSuccess = choice.successChance === undefined || Math.random() < choice.successChance;\n        const effects = isSuccess ? choice.successEffects : choice.failureEffects;\n        if (!effects) {\n            setCurrentEvent(null);\n            scheduleNextEvent();\n            return;\n        }\n        // 3. Calculate resource change\n        let amount = 0;\n        if (Array.isArray(effects.amount)) {\n            const [min, max] = effects.amount;\n            amount = Math.floor(Math.random() * (max - min + 1)) + min;\n        } else {\n            amount = effects.amount;\n        }\n        // 4. Apply effects\n        if (effects.resource !== \"none\" && amount !== 0) {\n            updateResources({\n                [effects.resource]: amount\n            });\n        }\n        // 5. Log and update UI\n        addToLog(effects.log, effects.resource !== \"none\" ? effects.resource : \"system\");\n        setActivityStatus(effects.log);\n        setCurrentEvent(null);\n        scheduleNextEvent();\n    };\n    const handleInitiateBuild = (villagerId, rect)=>{\n        if (isVillagerBusy(villagerId)) {\n            addNotification(\"This villager is already busy.\");\n            return;\n        }\n        setBuildPanelState({\n            isOpen: true,\n            villagerId,\n            anchorRect: rect\n        });\n        setUnitManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleStartPlacement = (buildingId)=>{\n        const villagerId = buildPanelState.villagerId;\n        if (!villagerId) return;\n        const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === buildingId);\n        if (!buildingInfo) return;\n        if (buildingInfo.isUnique && (buildings[buildingInfo.id].length > 0 || constructingBuildings.some((b)=>b.type === buildingInfo.id))) {\n            addNotification(\"You can only build one \".concat(buildingInfo.name, \".\"));\n            return;\n        }\n        const cost = buildingInfo.cost;\n        if (!unlimitedResources) {\n            const missing = [];\n            for(const res in cost){\n                const resourceKey = res;\n                var _cost_resourceKey;\n                if (resources[resourceKey] < ((_cost_resourceKey = cost[resourceKey]) !== null && _cost_resourceKey !== void 0 ? _cost_resourceKey : 0)) {\n                    var _cost_resourceKey1;\n                    missing.push(\"\".concat(((_cost_resourceKey1 = cost[resourceKey]) !== null && _cost_resourceKey1 !== void 0 ? _cost_resourceKey1 : 0) - resources[resourceKey], \" \").concat(resourceKey));\n                }\n            }\n            if (missing.length > 0) {\n                addNotification(\"Need \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n        }\n        setPlayerAction({\n            mode: \"build\",\n            buildingType: buildingId,\n            villagerId\n        });\n        setBuildPanelState({\n            isOpen: false,\n            villagerId: null,\n            anchorRect: null\n        });\n        setActivityStatus(\"Select a location to build a \".concat(buildingInfo.name, \". Right-click to cancel.\"));\n    };\n    const handleConfirmPlacement = (position)=>{\n        if ((playerAction === null || playerAction === void 0 ? void 0 : playerAction.mode) !== \"build\") return;\n        const { buildingType, villagerId } = playerAction;\n        const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === buildingType);\n        const builder = units.villagers.find((v)=>v.id === villagerId);\n        if (!buildingInfo || !builder) return;\n        if (!unlimitedResources) {\n            const cost = buildingInfo.cost;\n            const negativeCost = {};\n            for(const resource in cost){\n                negativeCost[resource] = -(cost[resource] || 0);\n            }\n            updateResources(negativeCost);\n        }\n        const buildTime = buildingInfo.buildTime * 1000;\n        const taskPayload = {\n            buildingType,\n            villagerIds: [\n                villagerId\n            ],\n            position\n        };\n        if (unlimitedResources) {\n            const taskId = \"\".concat(Date.now(), \"-instant-build\");\n            handleTaskCompletion({\n                id: taskId,\n                type: \"build\",\n                startTime: 0,\n                duration: 0,\n                payload: {\n                    ...taskPayload,\n                    position\n                }\n            });\n        } else {\n            const taskId = \"\".concat(Date.now(), \"-build-\").concat(buildingType);\n            const newConstruction = {\n                id: taskId,\n                type: buildingType,\n                position,\n                villagerIds: [\n                    villagerId\n                ]\n            };\n            setConstructingBuildings((prev)=>[\n                    ...prev,\n                    newConstruction\n                ]);\n            const newTask = {\n                id: taskId,\n                type: \"build\",\n                startTime: Date.now(),\n                duration: buildTime,\n                payload: taskPayload\n            };\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    newTask\n                ]);\n            setActivityStatus(\"\".concat(builder.name, \" has started constructing a \").concat(buildingInfo.name, \".\"));\n            addToLog(\"\".concat(builder.name, \" began construction of a new \").concat(buildingInfo.name, \".\"), buildingType);\n        }\n        setPlayerAction(null);\n    };\n    const handleCancelPlayerAction = ()=>{\n        setPlayerAction(null);\n        setActivityStatus(\"Command cancelled.\");\n    };\n    const handleDemolishBuilding = (type, id)=>{\n        var _buildings_townCenter;\n        if (activeTasks.some((t)=>{\n            var _t_payload;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.buildingId) === id;\n        })) {\n            addNotification(\"Cannot demolish a building with an active task.\");\n            return;\n        }\n        const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === type);\n        const buildingInstance = buildings[type].find((b)=>b.id === id);\n        if (!buildingInfo || !buildingInstance) return;\n        if (type === \"houses\" && population.current > (((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter.length) > 0 ? 20 : 0) + (buildings.houses.length - 1) * 5) {\n            addNotification(\"Cannot demolish this house, your people would be homeless.\");\n            return;\n        }\n        const refund = {};\n        let refundMessageParts = [];\n        for(const res in buildingInfo.cost){\n            const resourceKey = res;\n            const cost = buildingInfo.cost[resourceKey] || 0;\n            const amount = Math.floor(cost * 0.5);\n            if (amount > 0) {\n                refund[resourceKey] = amount;\n                refundMessageParts.push(\"\".concat(amount, \" \").concat(resourceKey));\n            }\n        }\n        updateResources(refund);\n        setBuildings((prev)=>({\n                ...prev,\n                [type]: prev[type].filter((b)=>b.id !== id)\n            }));\n        addToLog(\"\".concat(buildingInstance.name, \" (\").concat(buildingInfo.name, \") was demolished.\"), type);\n        if (refundMessageParts.length > 0) {\n            addNotification(\"Salvaged \".concat(refundMessageParts.join(\", \"), \".\"));\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleUpdateBuilding = (type, id, name)=>{\n        setBuildings((prev)=>({\n                ...prev,\n                [type]: prev[type].map((b)=>b.id === id ? {\n                        ...b,\n                        name\n                    } : b)\n            }));\n        addNotification(\"Building renamed.\");\n    };\n    const handleTrainVillagers = (count)=>{\n        var _buildings_townCenter;\n        if (activeTasks.some((t)=>t.type === \"train_villager\") || count <= 0) return;\n        const villagerCost = 50;\n        const totalCost = villagerCost * count;\n        if (population.current + count > population.capacity) {\n            addNotification(\"Need space for \".concat(count, \" more villagers.\"));\n            return;\n        }\n        const townCenter = (_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter[0];\n        if (!townCenter) {\n            addNotification(\"No Town Center to train villagers.\");\n            return;\n        }\n        if (!unlimitedResources) {\n            if (resources.food < totalCost) {\n                addNotification(\"Need \".concat(totalCost - resources.food, \" more Food.\"));\n                return;\n            }\n            updateResources({\n                food: -totalCost\n            });\n        }\n        const trainTime = 10000 * count; // 10s per villager\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: \"instant\",\n                type: \"train_villager\",\n                startTime: 0,\n                duration: 0,\n                payload: {\n                    count\n                }\n            });\n        } else {\n            const taskId = \"\".concat(Date.now(), \"-train-villager\");\n            const newTask = {\n                id: taskId,\n                type: \"train_villager\",\n                startTime: Date.now(),\n                duration: trainTime,\n                payload: {\n                    count,\n                    buildingId: townCenter.id\n                }\n            };\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    newTask\n                ]);\n            setActivityStatus(\"Training \".concat(count, \" villager(s)...\"));\n            addToLog(\"Began training \".concat(count, \" new villager(s).\"), \"villager\");\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleTrainUnits = (unitType, count)=>{\n        var _buildings_unitInfo_requiredBuilding;\n        const unitInfo = UNIT_INFO.find((u)=>u.id === unitType);\n        if (!unitInfo || activeTasks.some((t)=>{\n            var _t_payload;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.unitType) === unitType;\n        }) || count <= 0) return;\n        if (population.current + count > population.capacity) {\n            addNotification(\"Need space for \".concat(count, \" more units.\"));\n            return;\n        }\n        const trainingBuilding = (_buildings_unitInfo_requiredBuilding = buildings[unitInfo.requiredBuilding]) === null || _buildings_unitInfo_requiredBuilding === void 0 ? void 0 : _buildings_unitInfo_requiredBuilding[0];\n        if (!trainingBuilding) {\n            addNotification(\"No \".concat(unitInfo.requiredBuilding, \" to train units.\"));\n            return;\n        }\n        if (!unlimitedResources) {\n            const totalCost = {};\n            const missing = [];\n            for(const res in unitInfo.cost){\n                const resourceKey = res;\n                const cost = (unitInfo.cost[resourceKey] || 0) * count;\n                totalCost[resourceKey] = -cost;\n                if (resources[resourceKey] < cost) missing.push(\"\".concat(cost - resources[resourceKey], \" \").concat(resourceKey));\n            }\n            if (missing.length > 0) {\n                addNotification(\"Need \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n            updateResources(totalCost);\n        }\n        const trainTime = unitInfo.trainTime * 1000 * count;\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: \"instant\",\n                type: \"train_military\",\n                startTime: 0,\n                duration: 0,\n                payload: {\n                    unitType,\n                    count\n                }\n            });\n        } else {\n            const taskId = \"\".concat(Date.now(), \"-train-\").concat(unitType);\n            const newTask = {\n                id: taskId,\n                type: \"train_military\",\n                startTime: Date.now(),\n                duration: trainTime,\n                payload: {\n                    unitType,\n                    count,\n                    buildingId: trainingBuilding.id\n                }\n            };\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    newTask\n                ]);\n            setActivityStatus(\"Training \".concat(count, \" \").concat(unitInfo.name, \"(s)...\"));\n            addToLog(\"Began training \".concat(count, \" new \").concat(unitInfo.name, \"(s).\"), unitType);\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleDismissSpecificUnit = (type, id)=>{\n        if (type === \"villagers\" && isVillagerBusy(id)) {\n            addNotification(\"Cannot dismiss a busy villager.\");\n            return;\n        }\n        const unit = units[type].find((u)=>u.id === id);\n        if (!unit) return;\n        if (type === \"villagers\" && units.villagers.length <= 1) {\n            addNotification(\"Cannot dismiss your last villager.\");\n            return;\n        }\n        setUnits((prev)=>({\n                ...prev,\n                [type]: prev[type].filter((u)=>u.id !== id)\n            }));\n        const unitTypeName = type === \"villagers\" ? \"villager\" : unit.unitType;\n        addToLog(\"\".concat(unit.name, \" the \").concat(unitTypeName, \" has been dismissed.\"), type === \"villagers\" ? \"villager\" : unit.unitType);\n        addNotification(\"\".concat(unit.name, \" was dismissed.\"));\n    };\n    const handleUpdateUnit = (type, id, name, title)=>{\n        setUnits((prev)=>({\n                ...prev,\n                [type]: prev[type].map((u)=>{\n                    if (u.id === id) {\n                        const updatedUnit = {\n                            ...u,\n                            name\n                        };\n                        if (type === \"military\" && title !== undefined) {\n                            updatedUnit.title = title;\n                        }\n                        return updatedUnit;\n                    }\n                    return u;\n                })\n            }));\n        addNotification(\"Unit updated.\");\n    };\n    const handleAssignVillagersToNode = (nodeId, count)=>{\n        const idleVillagers = units.villagers.filter((v)=>!isVillagerBusy(v.id));\n        if (count <= 0) return;\n        let cappedCount = Math.min(count, idleVillagers.length);\n        if (cappedCount === 0) {\n            addNotification(\"No idle villagers available.\");\n            return;\n        }\n        const villagersToAssign = idleVillagers.slice(0, cappedCount);\n        const villagerIdsToAssign = villagersToAssign.map((v)=>v.id);\n        const targetNode = resourceNodes.find((n)=>n.id === nodeId);\n        if (!targetNode) return;\n        setResourceNodes((prevNodes)=>prevNodes.map((n)=>n.id === nodeId ? {\n                    ...n,\n                    assignedVillagers: [\n                        ...new Set([\n                            ...n.assignedVillagers,\n                            ...villagerIdsToAssign\n                        ])\n                    ]\n                } : n));\n        if (unlimitedResources) {\n            updateResources({\n                [targetNode.type]: targetNode.amount\n            });\n            addToLog(\"\".concat(cappedCount, \" villager(s) instantly gathered \").concat(Math.floor(targetNode.amount), \" \").concat(targetNode.type, \".\"), targetNode.type);\n            setResourceNodes((prev)=>prev.filter((n)=>n.id !== nodeId));\n        } else {\n            const existingTask = activeTasks.find((t)=>{\n                var _t_payload;\n                return t.type === \"gather\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.resourceNodeId) === nodeId;\n            });\n            if (existingTask) {\n                setActiveTasks((prev)=>prev.map((t)=>t.id === existingTask.id ? {\n                            ...t,\n                            payload: {\n                                ...t.payload,\n                                villagerIds: [\n                                    ...new Set([\n                                        ...t.payload.villagerIds,\n                                        ...villagerIdsToAssign\n                                    ])\n                                ]\n                            }\n                        } : t));\n            } else {\n                const newTask = {\n                    id: \"gather-\".concat(nodeId),\n                    type: \"gather\",\n                    startTime: Date.now(),\n                    duration: 86400000,\n                    payload: {\n                        resourceNodeId: nodeId,\n                        villagerIds: villagerIdsToAssign\n                    }\n                }; // Duration is arbitrary, loop handles completion\n                setActiveTasks((prev)=>[\n                        ...prev,\n                        newTask\n                    ]);\n            }\n        }\n        addToLog(\"\".concat(cappedCount, \" villager(s) assigned to gather \").concat(targetNode.type, \".\"), targetNode.type);\n        setActivityStatus(\"\".concat(cappedCount, \" villager(s) are now gathering \").concat(targetNode.type, \".\"));\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleRecallVillagers = (targetId, count, type)=>{\n        if (type === \"resource\") {\n            const node = resourceNodes.find((n)=>n.id === targetId);\n            if (!node || node.assignedVillagers.length < count) return;\n            const villagersToRecall = node.assignedVillagers.slice(node.assignedVillagers.length - count);\n            setResourceNodes((prev)=>prev.map((n)=>n.id === targetId ? {\n                        ...n,\n                        assignedVillagers: n.assignedVillagers.filter((id)=>!villagersToRecall.includes(id))\n                    } : n));\n            setActiveTasks((prev)=>{\n                const taskIndex = prev.findIndex((t)=>{\n                    var _t_payload;\n                    return t.type === \"gather\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.resourceNodeId) === targetId;\n                });\n                if (taskIndex === -1) return prev;\n                const task = prev[taskIndex];\n                const remainingVillagers = task.payload.villagerIds.filter((id)=>!villagersToRecall.includes(id));\n                if (remainingVillagers.length === 0) {\n                    return prev.filter((_, i)=>i !== taskIndex);\n                } else {\n                    return prev.map((t, i)=>i === taskIndex ? {\n                            ...t,\n                            payload: {\n                                ...t.payload,\n                                villagerIds: remainingVillagers\n                            }\n                        } : t);\n                }\n            });\n            addToLog(\"\".concat(count, \" villager(s) recalled from gathering \").concat(node.type, \".\"), \"villager\");\n        } else {\n            const construction = constructingBuildings.find((c)=>c.id === targetId);\n            const task = activeTasks.find((t)=>t.id === targetId);\n            if (!construction || !task || construction.villagerIds.length < count) return;\n            const villagersToRecall = construction.villagerIds.slice(construction.villagerIds.length - count);\n            const remainingVillagers = construction.villagerIds.filter((id)=>!villagersToRecall.includes(id));\n            if (remainingVillagers.length === 0) {\n                addNotification(\"Cannot recall the last builder. This would cancel the project.\");\n                return;\n            }\n            const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === construction.type);\n            const totalWork = buildingInfo.buildTime * 1000;\n            const oldWorkerCount = construction.villagerIds.length;\n            const timeElapsed = Date.now() - task.startTime;\n            const workDone = timeElapsed * oldWorkerCount;\n            const workRemaining = Math.max(0, totalWork - workDone);\n            const newWorkerCount = remainingVillagers.length;\n            const newRemainingDuration = workRemaining / newWorkerCount;\n            setConstructingBuildings((prev)=>prev.map((c)=>c.id === targetId ? {\n                        ...c,\n                        villagerIds: remainingVillagers\n                    } : c));\n            setActiveTasks((prev)=>prev.map((t)=>t.id === targetId ? {\n                        ...t,\n                        startTime: Date.now(),\n                        duration: newRemainingDuration,\n                        payload: {\n                            ...t.payload,\n                            villagerIds: remainingVillagers\n                        }\n                    } : t));\n            addToLog(\"\".concat(count, \" villager(s) recalled from construction. Work will now proceed slower.\"), \"villager\");\n        }\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleAssignVillagersToConstruction = (constructionId, count)=>{\n        var _task_payload_villagerIds, _task_payload;\n        const idleVillagers = units.villagers.filter((v)=>!isVillagerBusy(v.id));\n        if (count <= 0) return;\n        let cappedCount = Math.min(count, idleVillagers.length);\n        if (cappedCount === 0) {\n            addNotification(\"No idle villagers available to assist.\");\n            return;\n        }\n        const villagersToAssign = idleVillagers.slice(0, cappedCount).map((v)=>v.id);\n        const task = activeTasks.find((t)=>t.id === constructionId);\n        const construction = constructingBuildings.find((c)=>c.id === constructionId);\n        if (!task || !construction) return;\n        const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === construction.type);\n        if (!buildingInfo) return;\n        const baseDuration = buildingInfo.buildTime * 1000;\n        const oldWorkerCount = ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 1;\n        const timeElapsed = Date.now() - task.startTime;\n        const workDone = timeElapsed * oldWorkerCount;\n        const totalWork = baseDuration;\n        const workRemaining = Math.max(0, totalWork - workDone);\n        const newWorkerCount = oldWorkerCount + cappedCount;\n        const newRemainingDuration = workRemaining / newWorkerCount;\n        const updatedVillagerIds = [\n            ...task.payload.villagerIds,\n            ...villagersToAssign\n        ];\n        setActiveTasks((prev)=>prev.map((t)=>t.id === constructionId ? {\n                    ...t,\n                    startTime: Date.now(),\n                    duration: newRemainingDuration,\n                    payload: {\n                        ...t.payload,\n                        villagerIds: updatedVillagerIds\n                    }\n                } : t));\n        setConstructingBuildings((prev)=>prev.map((c)=>c.id === constructionId ? {\n                    ...c,\n                    villagerIds: updatedVillagerIds\n                } : c));\n        addToLog(\"\".concat(cappedCount, \" villager(s) are now assisting with the \").concat(buildingInfo.name, \".\"), buildingInfo.id);\n        setActivityStatus(\"Construction of the \".concat(buildingInfo.name, \" is now faster.\"));\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleAssignVillagers = (targetId, count)=>{\n        if (assignmentPanelState.targetType === \"resource\") {\n            handleAssignVillagersToNode(targetId, count);\n        } else if (assignmentPanelState.targetType === \"construction\") {\n            handleAssignVillagersToConstruction(targetId, count);\n        }\n    };\n    const handleAdvanceAge = async ()=>{\n        if (activeTasks.some((t)=>t.type === \"advance_age\")) {\n            addNotification(\"Advancement already in progress.\");\n            return;\n        }\n        if (!unlimitedResources) {\n            if (resources.food < 500 || resources.gold < 200) {\n                const missing = [];\n                if (resources.food < 500) missing.push(\"\".concat(500 - resources.food, \" Food\"));\n                if (resources.gold < 200) missing.push(\"\".concat(200 - resources.gold, \" Gold\"));\n                addNotification(\"To advance, you need \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n            updateResources({\n                food: -500,\n                gold: -200\n            });\n        }\n        const duration = 60000;\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: \"instant\",\n                type: \"advance_age\",\n                startTime: 0,\n                duration: 0\n            });\n        } else {\n            const taskId = \"\".concat(Date.now(), \"-advance_age\");\n            const newTask = {\n                id: taskId,\n                type: \"advance_age\",\n                startTime: Date.now(),\n                duration\n            };\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    newTask\n                ]);\n            setActivityStatus(\"Your people begin the long journey to a new age.\");\n            setBuildingManagementPanel({\n                isOpen: false,\n                type: null,\n                anchorRect: null\n            });\n        }\n    };\n    const handleExitGame = async ()=>{\n        setCurrentSaveName(null);\n        await fetchSaves();\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU);\n    };\n    const handleToggleUnlimitedResources = ()=>{\n        const newMode = !unlimitedResources;\n        setUnlimitedResources(newMode);\n        if (newMode) {\n            setResources({\n                food: 99999,\n                wood: 99999,\n                gold: 99999,\n                stone: 99999\n            });\n            addNotification(\"Test Mode: ON\");\n        } else {\n            addNotification(\"Test Mode: OFF\");\n        }\n    };\n    const buildingCounts = Object.keys(buildings).reduce((acc, key)=>{\n        const buildingType = key;\n        acc[buildingType] = buildings[buildingType].length;\n        return acc;\n    }, {});\n    const idleVillagerCount = units.villagers.filter((v)=>!isVillagerBusy(v.id)).length;\n    const assignmentTarget = assignmentPanelState.targetType === \"resource\" ? resourceNodes.find((n)=>n.id === assignmentPanelState.targetId) : constructingBuildings.find((c)=>c.id === assignmentPanelState.targetId);\n    const closeAllPanels = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setUnitManagementPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                type: null,\n                anchorRect: null\n            } : p);\n        setBuildingManagementPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                type: null,\n                instanceId: undefined,\n                anchorRect: null\n            } : p);\n        setBuildPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                villagerId: null,\n                anchorRect: null\n            } : p);\n        setAssignmentPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                targetId: null,\n                targetType: null,\n                anchorRect: null\n            } : p);\n        setSettingsPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n        setCivPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n        setAllBuildingsPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n    }, []);\n    const handleOpenBuildingPanel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((type, instanceId, rect)=>{\n        closeAllPanels();\n        setBuildingManagementPanel({\n            isOpen: true,\n            type,\n            instanceId,\n            anchorRect: rect\n        });\n    }, [\n        closeAllPanels\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClickOutside = (event)=>{\n            const isAnyPanelOpen = unitManagementPanel.isOpen || buildingManagementPanel.isOpen || buildPanelState.isOpen || assignmentPanelState.isOpen || settingsPanelState.isOpen || civPanelState.isOpen || allBuildingsPanel.isOpen;\n            if (!isAnyPanelOpen) {\n                return;\n            }\n            const target = event.target;\n            if (target.closest(\".sci-fi-panel-popup\")) {\n                return;\n            }\n            closeAllPanels();\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>{\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n    }, [\n        unitManagementPanel.isOpen,\n        buildingManagementPanel.isOpen,\n        buildPanelState.isOpen,\n        assignmentPanelState.isOpen,\n        settingsPanelState.isOpen,\n        civPanelState.isOpen,\n        allBuildingsPanel.isOpen,\n        closeAllPanels\n    ]);\n    const renderContent = ()=>{\n        switch(gameState){\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StartScreen__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                    onNewGame: handleStartNewGame,\n                    onResumeGame: handleResumeGame,\n                    savedGames: allSaves\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 993,\n                    columnNumber: 24\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 995,\n                    columnNumber: 24\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING:\n                if (!civilization) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 997,\n                    columnNumber: 43\n                }, undefined);\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_GameUI__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                            civilization: civilization,\n                            resources: resources,\n                            units: units,\n                            buildings: buildings,\n                            population: population,\n                            currentAge: currentAge,\n                            gameLog: gameLog,\n                            currentEvent: currentEvent,\n                            onEventChoice: handleEventChoice,\n                            resourceDeltas: resourceDeltas,\n                            activityStatus: activityStatus,\n                            unitList: UNIT_INFO,\n                            buildingList: BUILDINGS_INFO,\n                            onOpenUnitPanel: (type, rect)=>{\n                                closeAllPanels();\n                                setUnitManagementPanel({\n                                    isOpen: true,\n                                    type,\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenBuildingPanel: handleOpenBuildingPanel,\n                            onOpenAllBuildingsPanel: (rect)=>{\n                                closeAllPanels();\n                                setAllBuildingsPanel({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            playerAction: playerAction,\n                            onConfirmPlacement: handleConfirmPlacement,\n                            onCancelPlayerAction: handleCancelPlayerAction,\n                            onBuildingClick: (building, rect)=>{\n                                closeAllPanels();\n                                const type = Object.keys(buildings).find((key)=>buildings[key].some((b)=>b.id === building.id));\n                                if (type) setBuildingManagementPanel({\n                                    isOpen: true,\n                                    type,\n                                    instanceId: building.id,\n                                    anchorRect: rect\n                                });\n                            },\n                            mapDimensions: MAP_DIMENSIONS,\n                            constructingBuildings: constructingBuildings,\n                            activeTasks: activeTasks,\n                            onExitGame: handleExitGame,\n                            onOpenSettingsPanel: (rect)=>{\n                                closeAllPanels();\n                                setSettingsPanelState({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenCivPanel: (rect)=>{\n                                closeAllPanels();\n                                setCivPanelState({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            resourceNodes: resourceNodes,\n                            onOpenAssignmentPanel: (nodeId, rect)=>{\n                                closeAllPanels();\n                                setAssignmentPanelState({\n                                    isOpen: true,\n                                    targetId: nodeId,\n                                    targetType: \"resource\",\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenConstructionPanel: (constructionId, rect)=>{\n                                closeAllPanels();\n                                setAssignmentPanelState({\n                                    isOpen: true,\n                                    targetId: constructionId,\n                                    targetType: \"construction\",\n                                    anchorRect: rect\n                                });\n                            },\n                            gatherInfo: GATHER_INFO\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1000,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BuildPanel__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                            isOpen: buildPanelState.isOpen,\n                            onClose: ()=>setBuildPanelState({\n                                    isOpen: false,\n                                    villagerId: null,\n                                    anchorRect: null\n                                }),\n                            onStartPlacement: handleStartPlacement,\n                            resources: resources,\n                            buildingCounts: buildingCounts,\n                            buildingList: BUILDINGS_INFO,\n                            anchorRect: buildPanelState.anchorRect,\n                            panelOpacity: panelOpacity\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1036,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_UnitManagementPanel__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                            isOpen: unitManagementPanel.isOpen,\n                            onClose: ()=>setUnitManagementPanel({\n                                    isOpen: false,\n                                    type: null,\n                                    anchorRect: null\n                                }),\n                            type: unitManagementPanel.type,\n                            units: units,\n                            onUpdateUnit: handleUpdateUnit,\n                            onDismissUnit: handleDismissSpecificUnit,\n                            onInitiateBuild: (villagerId, rect)=>{\n                                closeAllPanels();\n                                handleInitiateBuild(villagerId, rect);\n                            },\n                            getVillagerTaskDetails: getVillagerTaskDetails,\n                            anchorRect: unitManagementPanel.anchorRect,\n                            panelOpacity: panelOpacity\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1046,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BuildingManagementPanel__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                            isOpen: buildingManagementPanel.isOpen,\n                            onClose: ()=>setBuildingManagementPanel({\n                                    isOpen: false,\n                                    type: null,\n                                    anchorRect: null\n                                }),\n                            panelState: buildingManagementPanel,\n                            buildings: buildings,\n                            buildingList: BUILDINGS_INFO,\n                            onUpdateBuilding: handleUpdateBuilding,\n                            onDemolishBuilding: handleDemolishBuilding,\n                            onTrainUnits: handleTrainUnits,\n                            onTrainVillagers: handleTrainVillagers,\n                            resources: resources,\n                            population: population,\n                            unitList: UNIT_INFO,\n                            onAdvanceAge: handleAdvanceAge,\n                            activeTasks: activeTasks,\n                            anchorRect: buildingManagementPanel.anchorRect,\n                            panelOpacity: panelOpacity\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1058,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ResourceAssignmentPanel__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                            isOpen: assignmentPanelState.isOpen,\n                            onClose: ()=>setAssignmentPanelState({\n                                    isOpen: false,\n                                    targetId: null,\n                                    targetType: null,\n                                    anchorRect: null\n                                }),\n                            assignmentTarget: assignmentTarget || null,\n                            idleVillagerCount: idleVillagerCount,\n                            onAssignVillagers: handleAssignVillagers,\n                            onRecallVillagers: handleRecallVillagers,\n                            gatherInfo: GATHER_INFO,\n                            buildingList: BUILDINGS_INFO,\n                            anchorRect: assignmentPanelState.anchorRect,\n                            panelOpacity: panelOpacity\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1076,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_SettingsPanel__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                            isOpen: settingsPanelState.isOpen,\n                            onClose: ()=>setSettingsPanelState({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            anchorRect: settingsPanelState.anchorRect,\n                            opacity: panelOpacity,\n                            onOpacityChange: setPanelOpacity\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1088,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CivilizationPanel__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                            isOpen: civPanelState.isOpen,\n                            onClose: ()=>setCivPanelState({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            civilization: civilization,\n                            anchorRect: civPanelState.anchorRect,\n                            panelOpacity: panelOpacity\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1095,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AllBuildingsPanel__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                            isOpen: allBuildingsPanel.isOpen,\n                            onClose: ()=>setAllBuildingsPanel({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            buildingList: BUILDINGS_INFO,\n                            buildingCounts: buildingCounts,\n                            constructingBuildings: constructingBuildings,\n                            onOpenBuildingPanel: handleOpenBuildingPanel,\n                            anchorRect: allBuildingsPanel.anchorRect,\n                            panelOpacity: panelOpacity\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1102,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true);\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StartScreen__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                    onNewGame: handleStartNewGame,\n                    onResumeGame: handleResumeGame,\n                    savedGames: allSaves\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 1115,\n                    columnNumber: 24\n                }, undefined);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-stone-dark flex items-center justify-center p-4\",\n        children: [\n            gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handleToggleUnlimitedResources,\n                className: \"fixed bottom-4 left-4 z-[101] bg-brand-gold text-stone-dark font-bold py-1 px-3 rounded-full text-xs shadow-lg hover:scale-105 transition-transform\",\n                \"aria-label\": \"Toggle unlimited resources test mode\",\n                children: [\n                    \"Test Mode: \",\n                    unlimitedResources ? \"ON\" : \"OFF\"\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 1122,\n                columnNumber: 18\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_NotificationManager__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                notifications: notifications,\n                onRemoveNotification: removeNotification\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 1130,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"w-full max-w-7xl mx-auto\",\n                children: renderContent()\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 1131,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/src/app/page.tsx\",\n        lineNumber: 1120,\n        columnNumber: 9\n    }, undefined);\n};\n_s(GamePage, \"l+9PRlPFKiu/fRK2fKupt6+sgGw=\");\n_c = GamePage;\n/* harmony default export */ __webpack_exports__[\"default\"] = (GamePage);\nvar _c;\n$RefreshReg$(_c, \"GamePage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvcGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR3dFO0FBQ21VO0FBQzVSO0FBQzFCO0FBQzdCO0FBQ2Y7QUFDVTtBQUNJO0FBQ047QUFDa0I7QUFDQTtBQUNRO0FBQ0E7QUFDcEI7QUFDUTtBQUNBO0FBRS9ELE1BQU13QixpQkFBaUM7SUFDbkM7UUFBRUMsSUFBSTtRQUFVQyxNQUFNO1FBQVNDLGFBQWE7UUFBdUNDLE1BQU07WUFBRUMsTUFBTTtRQUFHO1FBQUdDLFVBQVU7UUFBT0MsV0FBVztJQUFHO0lBQ3RJO1FBQUVOLElBQUk7UUFBWUMsTUFBTTtRQUFZQyxhQUFhO1FBQWlDQyxNQUFNO1lBQUVDLE1BQU07WUFBS0csT0FBTztRQUFHO1FBQUdGLFVBQVU7UUFBTUMsV0FBVztJQUFHO0lBQ2hKO1FBQUVOLElBQUk7UUFBZ0JDLE1BQU07UUFBaUJDLGFBQWE7UUFBK0JDLE1BQU07WUFBRUMsTUFBTTtRQUFJO1FBQUdDLFVBQVU7UUFBTUMsV0FBVztJQUFHO0lBQzVJO1FBQUVOLElBQUk7UUFBVUMsTUFBTTtRQUFXQyxhQUFhO1FBQStCQyxNQUFNO1lBQUVDLE1BQU07WUFBS0ksTUFBTTtRQUFHO1FBQUdILFVBQVU7UUFBTUMsV0FBVztJQUFHO0lBQzFJO1FBQUVOLElBQUk7UUFBaUJDLE1BQU07UUFBa0JDLGFBQWE7UUFBa0NDLE1BQU07WUFBRUMsTUFBTTtZQUFLSSxNQUFNO1FBQUk7UUFBR0gsVUFBVTtRQUFNQyxXQUFXO0lBQUc7SUFDNUo7UUFBRU4sSUFBSTtRQUFjQyxNQUFNO1FBQWNDLGFBQWE7UUFBNkNDLE1BQU07WUFBRUMsTUFBTTtZQUFLSSxNQUFNO1FBQUk7UUFBR0gsVUFBVTtRQUFNQyxXQUFXO0lBQUc7SUFDaEs7UUFBRU4sSUFBSTtRQUFjQyxNQUFNO1FBQWVDLGFBQWE7UUFBbUNDLE1BQU07WUFBRUksT0FBTztRQUFJO1FBQUdGLFVBQVU7UUFBTUMsV0FB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OUUsK0RBQVdBO29CQUFDMlUsV0FBVzlIO29CQUFvQitILGNBQWNsSDtvQkFBa0JtSCxZQUFZM1E7Ozs7OztRQUN2RztJQUNKO0lBRUEscUJBQ0ksOERBQUM0UztRQUFJQyxXQUFVOztZQUNWdlUsY0FBY2pELDhDQUFVQSxDQUFDcUgsT0FBTyxrQkFDNUIsOERBQUNvUTtnQkFDRUMsU0FBU3hEO2dCQUNUc0QsV0FBVTtnQkFDVkcsY0FBVzs7b0JBQ2Q7b0JBQ2VsVCxxQkFBcUIsT0FBTzs7Ozs7OzswQkFHaEQsOERBQUM3RCx3RUFBbUJBO2dCQUFDMkQsZUFBZUE7Z0JBQWVxVCxzQkFBc0I5UDs7Ozs7OzBCQUN6RSw4REFBQytQO2dCQUFLTCxXQUFVOzBCQUNYckM7Ozs7Ozs7Ozs7OztBQUlqQjtHQTVqQ01wUztLQUFBQTtBQThqQ04sK0RBQWVBLFFBQVFBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2FwcC9wYWdlLnRzeD9mNjhhIl0sInNvdXJjZXNDb250ZW50IjpbIlxuJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEdhbWVTdGF0dXMsIHR5cGUgQ2l2aWxpemF0aW9uLCB0eXBlIFJlc291cmNlcywgdHlwZSBVbml0cywgdHlwZSBCdWlsZGluZ3MsIHR5cGUgR2FtZUV2ZW50LCB0eXBlIEdhbWVMb2dFbnRyeSwgdHlwZSBMb2dJY29uVHlwZSwgdHlwZSBSZXNvdXJjZURlbHRhcywgQnVpbGRpbmdUeXBlLCBCdWlsZGluZ0luZm8sIFVJTm90aWZpY2F0aW9uLCBGdWxsR2FtZVN0YXRlLCBWaWxsYWdlciwgTWlsaXRhcnlVbml0LCBVbml0SW5mbywgTWlsaXRhcnlVbml0VHlwZSwgR2FtZVRhc2ssIENvbnN0cnVjdGluZ0J1aWxkaW5nLCBUYXNrVHlwZSwgUmVzb3VyY2VOb2RlLCBSZXNvdXJjZU5vZGVUeXBlLCBQbGF5ZXJBY3Rpb25TdGF0ZSwgR2FtZUV2ZW50Q2hvaWNlIH0gZnJvbSAnQC90eXBlcyc7XG5pbXBvcnQgeyBnZXRQcmVkZWZpbmVkQ2l2aWxpemF0aW9uLCBnZXRQcmVkZWZpbmVkR2FtZUV2ZW50LCBnZXRQcmVkZWZpbmVkQWdlIH0gZnJvbSAnQC9zZXJ2aWNlcy9nZW1pbmlTZXJ2aWNlJztcbmltcG9ydCB7IHNhdmVHYW1lU3RhdGUsIGxvYWRHYW1lU3RhdGUsIGdldEFsbFNhdmVOYW1lcyB9IGZyb20gJ0Avc2VydmljZXMvZGJTZXJ2aWNlJztcbmltcG9ydCB7IGdldFJhbmRvbU5hbWVzIH0gZnJvbSAnQC9zZXJ2aWNlcy9uYW1lU2VydmljZSc7XG5pbXBvcnQgR2FtZVVJIGZyb20gJ0AvY29tcG9uZW50cy9HYW1lVUknO1xuaW1wb3J0IFN0YXJ0U2NyZWVuIGZyb20gJ0AvY29tcG9uZW50cy9TdGFydFNjcmVlbic7XG5pbXBvcnQgTG9hZGluZ1NjcmVlbiBmcm9tICdAL2NvbXBvbmVudHMvTG9hZGluZ1NjcmVlbic7XG5pbXBvcnQgQnVpbGRQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvQnVpbGRQYW5lbCc7XG5pbXBvcnQgTm90aWZpY2F0aW9uTWFuYWdlciBmcm9tICdAL2NvbXBvbmVudHMvTm90aWZpY2F0aW9uTWFuYWdlcic7XG5pbXBvcnQgVW5pdE1hbmFnZW1lbnRQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvVW5pdE1hbmFnZW1lbnRQYW5lbCc7XG5pbXBvcnQgQnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL0J1aWxkaW5nTWFuYWdlbWVudFBhbmVsJztcbmltcG9ydCBSZXNvdXJjZUFzc2lnbm1lbnRQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvUmVzb3VyY2VBc3NpZ25tZW50UGFuZWwnO1xuaW1wb3J0IFNldHRpbmdzUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL1NldHRpbmdzUGFuZWwnO1xuaW1wb3J0IENpdmlsaXphdGlvblBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9DaXZpbGl6YXRpb25QYW5lbCc7XG5pbXBvcnQgQWxsQnVpbGRpbmdzUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL0FsbEJ1aWxkaW5nc1BhbmVsJztcblxuY29uc3QgQlVJTERJTkdTX0lORk86IEJ1aWxkaW5nSW5mb1tdID0gW1xuICAgIHsgaWQ6ICdob3VzZXMnLCBuYW1lOiAnSG91c2UnLCBkZXNjcmlwdGlvbjogJ0luY3JlYXNlcyBwb3B1bGF0aW9uIGNhcGFjaXR5IGJ5IDUuJywgY29zdDogeyB3b29kOiA1MCB9LCBpc1VuaXF1ZTogZmFsc2UsIGJ1aWxkVGltZTogMTUgfSxcbiAgICB7IGlkOiAnYmFycmFja3MnLCBuYW1lOiAnQmFycmFja3MnLCBkZXNjcmlwdGlvbjogJ0FsbG93cyB0cmFpbmluZyBvZiBTd29yZHNtZW4uJywgY29zdDogeyB3b29kOiAxNTAsIHN0b25lOiA1MCB9LCBpc1VuaXF1ZTogdHJ1ZSwgYnVpbGRUaW1lOiA2MCB9LFxuICAgIHsgaWQ6ICdhcmNoZXJ5UmFuZ2UnLCBuYW1lOiAnQXJjaGVyeSBSYW5nZScsIGRlc2NyaXB0aW9uOiAnQWxsb3dzIHRyYWluaW5nIG9mIEFyY2hlcnMuJywgY29zdDogeyB3b29kOiAxNzUgfSwgaXNVbmlxdWU6IHRydWUsIGJ1aWxkVGltZTogNjAgfSxcbiAgICB7IGlkOiAnc3RhYmxlJywgbmFtZTogJ1N0YWJsZXMnLCBkZXNjcmlwdGlvbjogJ0FsbG93cyB0cmFpbmluZyBvZiBLbmlnaHRzLicsIGNvc3Q6IHsgd29vZDogMTc1LCBnb2xkOiA3NSB9LCBpc1VuaXF1ZTogdHJ1ZSwgYnVpbGRUaW1lOiA3NSB9LFxuICAgIHsgaWQ6ICdzaWVnZVdvcmtzaG9wJywgbmFtZTogJ1NpZWdlIFdvcmtzaG9wJywgZGVzY3JpcHRpb246ICdDb25zdHJ1Y3RzIHBvd2VyZnVsIENhdGFwdWx0cy4nLCBjb3N0OiB7IHdvb2Q6IDIwMCwgZ29sZDogMTUwIH0sIGlzVW5pcXVlOiB0cnVlLCBidWlsZFRpbWU6IDkwIH0sXG4gICAgeyBpZDogJ2JsYWNrc21pdGgnLCBuYW1lOiAnQmxhY2tzbWl0aCcsIGRlc2NyaXB0aW9uOiAnUmVzZWFyY2hlcyBpbmZhbnRyeSBhbmQgY2F2YWxyeSB1cGdyYWRlcy4nLCBjb3N0OiB7IHdvb2Q6IDEwMCwgZ29sZDogMTAwIH0sIGlzVW5pcXVlOiB0cnVlLCBidWlsZFRpbWU6IDQ1IH0sXG4gICAgeyBpZDogJ3dhdGNoVG93ZXInLCBuYW1lOiAnV2F0Y2ggVG93ZXInLCBkZXNjcmlwdGlvbjogJ1Byb3ZpZGVzIGRlZmVuc2UgYWdhaW5zdCByYWlkcy4nLCBjb3N0OiB7IHN0b25lOiAxMjUgfSwgaXNVbmlxdWU6IHRydWUsIGJ1aWxkVGltZTogNDUgfSxcbiAgICB7IGlkOiAndG93bkNlbnRlcicsIG5hbWU6ICdUb3duIENlbnRlcicsIGRlc2NyaXB0aW9uOiAnVGhlIGhlYXJ0IG9mIHlvdXIgc2V0dGxlbWVudC4nLCBjb3N0OiB7fSwgaXNVbmlxdWU6IHRydWUsIGJ1aWxkVGltZTogMCB9XG5dO1xuXG5jb25zdCBVTklUX0lORk86IFVuaXRJbmZvW10gPSBbXG4gICAgeyBpZDogJ3N3b3Jkc21hbicsIG5hbWU6ICdTd29yZHNtYW4nLCBkZXNjcmlwdGlvbjogJ0Jhc2ljIG1lbGVlIGluZmFudHJ5LicsIGNvc3Q6IHsgZm9vZDogNjAsIGdvbGQ6IDIwIH0sIHJlcXVpcmVkQnVpbGRpbmc6ICdiYXJyYWNrcycsIHRyYWluVGltZTogMjIgfSxcbiAgICB7IGlkOiAnYXJjaGVyJywgbmFtZTogJ0FyY2hlcicsIGRlc2NyaXB0aW9uOiAnUmFuZ2VkIHVuaXQgZWZmZWN0aXZlIGFnYWluc3QgaW5mYW50cnkuJywgY29zdDogeyBmb29kOiAzMCwgd29vZDogNDAgfSwgcmVxdWlyZWRCdWlsZGluZzogJ2FyY2hlcnlSYW5nZScsIHRyYWluVGltZTogMjUgfSxcbiAgICB7IGlkOiAna25pZ2h0JywgbmFtZTogJ0tuaWdodCcsIGRlc2NyaXB0aW9uOiAnRmFzdCBhbmQgcG93ZXJmdWwgY2F2YWxyeS4nLCBjb3N0OiB7IGZvb2Q6IDYwLCBnb2xkOiA3NSB9LCByZXF1aXJlZEJ1aWxkaW5nOiAnc3RhYmxlJywgdHJhaW5UaW1lOiAzMCB9LFxuICAgIHsgaWQ6ICdjYXRhcHVsdCcsIG5hbWU6ICdDYXRhcHVsdCcsIGRlc2NyaXB0aW9uOiAnU2llZ2UgZW5naW5lIGRldmFzdGF0aW5nIHRvIGJ1aWxkaW5ncy4nLCBjb3N0OiB7IHdvb2Q6IDE1MCwgZ29sZDogMTUwIH0sIHJlcXVpcmVkQnVpbGRpbmc6ICdzaWVnZVdvcmtzaG9wJywgdHJhaW5UaW1lOiA0NSB9LFxuXTtcblxuY29uc3QgR0FUSEVSX0lORk86IFJlY29yZDxSZXNvdXJjZU5vZGVUeXBlLCB7IHJhdGU6IG51bWJlciB9PiA9IHtcbiAgICBmb29kOiB7IHJhdGU6IDEwMCB9LCAvLyBSYXRlcyBhcmUgbm93IHBlciAxMCBzZWNvbmRzIGZvciBtb3JlIGludHVpdGl2ZSBudW1iZXJzXG4gICAgd29vZDogeyByYXRlOiA4MCB9LFxuICAgIGdvbGQ6IHsgcmF0ZTogNTAgfSxcbiAgICBzdG9uZTogeyByYXRlOiA2MCB9LFxufVxuXG5jb25zdCBpbml0aWFsQnVpbGRpbmdzU3RhdGU6IEJ1aWxkaW5ncyA9IHtcbiAgICBob3VzZXM6IFtdLCBiYXJyYWNrczogW10sIGFyY2hlcnlSYW5nZTogW10sIHN0YWJsZTogW10sIHNpZWdlV29ya3Nob3A6IFtdLCBibGFja3NtaXRoOiBbXSwgd2F0Y2hUb3dlcjogW10sIHRvd25DZW50ZXI6IFtdXG59O1xuXG5jb25zdCBNQVBfRElNRU5TSU9OUyA9IHsgd2lkdGg6IDI1LCBoZWlnaHQ6IDE4IH07XG5cbmNvbnN0IEdhbWVQYWdlOiBSZWFjdC5GQyA9ICgpID0+IHtcbiAgICBjb25zdCBbZ2FtZVN0YXRlLCBzZXRHYW1lU3RhdGVdID0gdXNlU3RhdGU8R2FtZVN0YXR1cz4oR2FtZVN0YXR1cy5NRU5VKTtcbiAgICBjb25zdCBbY2l2aWxpemF0aW9uLCBzZXRDaXZpbGl6YXRpb25dID0gdXNlU3RhdGU8Q2l2aWxpemF0aW9uIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW3Jlc291cmNlcywgc2V0UmVzb3VyY2VzXSA9IHVzZVN0YXRlPFJlc291cmNlcz4oeyBmb29kOiAyMDAsIHdvb2Q6IDE1MCwgZ29sZDogNTAsIHN0b25lOiAxMDAgfSk7XG4gICAgY29uc3QgW3VuaXRzLCBzZXRVbml0c10gPSB1c2VTdGF0ZTxVbml0cz4oeyB2aWxsYWdlcnM6IFtdLCBtaWxpdGFyeTogW10gfSk7XG4gICAgY29uc3QgW2J1aWxkaW5ncywgc2V0QnVpbGRpbmdzXSA9IHVzZVN0YXRlPEJ1aWxkaW5ncz4oaW5pdGlhbEJ1aWxkaW5nc1N0YXRlKTtcbiAgICBjb25zdCBbY3VycmVudEFnZSwgc2V0Q3VycmVudEFnZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCdOb21hZGljIEFnZScpO1xuICAgIGNvbnN0IFtnYW1lTG9nLCBzZXRHYW1lTG9nXSA9IHVzZVN0YXRlPEdhbWVMb2dFbnRyeVtdPihbXSk7XG4gICAgY29uc3QgW2N1cnJlbnRFdmVudCwgc2V0Q3VycmVudEV2ZW50XSA9IHVzZVN0YXRlPEdhbWVFdmVudCB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFtyZXNvdXJjZURlbHRhcywgc2V0UmVzb3VyY2VEZWx0YXNdID0gdXNlU3RhdGU8UmVzb3VyY2VEZWx0YXM+KHt9KTtcbiAgICBjb25zdCBbYWN0aXZpdHlTdGF0dXMsIHNldEFjdGl2aXR5U3RhdHVzXSA9IHVzZVN0YXRlPHN0cmluZz4oJ1lvdXIgc3RvcnkgYmVnaW5zLi4uJyk7XG4gICAgY29uc3QgW25vdGlmaWNhdGlvbnMsIHNldE5vdGlmaWNhdGlvbnNdID0gdXNlU3RhdGU8VUlOb3RpZmljYXRpb25bXT4oW10pO1xuICAgIGNvbnN0IFt1bmxpbWl0ZWRSZXNvdXJjZXMsIHNldFVubGltaXRlZFJlc291cmNlc10gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gICAgY29uc3QgW2FsbFNhdmVzLCBzZXRBbGxTYXZlc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICAgIGNvbnN0IFtjdXJyZW50U2F2ZU5hbWUsIHNldEN1cnJlbnRTYXZlTmFtZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbcGxheWVyQWN0aW9uLCBzZXRQbGF5ZXJBY3Rpb25dID0gdXNlU3RhdGU8UGxheWVyQWN0aW9uU3RhdGU+KG51bGwpO1xuICAgIGNvbnN0IFthY3RpdmVUYXNrcywgc2V0QWN0aXZlVGFza3NdID0gdXNlU3RhdGU8R2FtZVRhc2tbXT4oW10pO1xuICAgIGNvbnN0IFtjb25zdHJ1Y3RpbmdCdWlsZGluZ3MsIHNldENvbnN0cnVjdGluZ0J1aWxkaW5nc10gPSB1c2VTdGF0ZTxDb25zdHJ1Y3RpbmdCdWlsZGluZ1tdPihbXSk7XG4gICAgY29uc3QgW3Jlc291cmNlTm9kZXMsIHNldFJlc291cmNlTm9kZXNdID0gdXNlU3RhdGU8UmVzb3VyY2VOb2RlW10+KFtdKTtcbiAgICBjb25zdCBbcGFuZWxPcGFjaXR5LCBzZXRQYW5lbE9wYWNpdHldID0gdXNlU3RhdGUoMS4wKTtcbiAgICBcbiAgICAvLyBQYW5lbCBTdGF0ZXNcbiAgICBjb25zdCBbYnVpbGRQYW5lbFN0YXRlLCBzZXRCdWlsZFBhbmVsU3RhdGVdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IHZpbGxhZ2VySWQ6IHN0cmluZyB8IG51bGw7IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsIH0+KHsgaXNPcGVuOiBmYWxzZSwgdmlsbGFnZXJJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICBjb25zdCBbdW5pdE1hbmFnZW1lbnRQYW5lbCwgc2V0VW5pdE1hbmFnZW1lbnRQYW5lbF0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgdHlwZTogJ3ZpbGxhZ2VycycgfCAnbWlsaXRhcnknIHwgbnVsbDsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7IH0+KHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICBjb25zdCBbYnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwsIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsXSA9IHVzZVN0YXRlPHsgaXNPcGVuOiBib29sZWFuOyB0eXBlOiBCdWlsZGluZ1R5cGUgfCBudWxsOyBpbnN0YW5jZUlkPzogc3RyaW5nOyBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbDsgfT4oeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIGNvbnN0IFthbGxCdWlsZGluZ3NQYW5lbCwgc2V0QWxsQnVpbGRpbmdzUGFuZWxdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsOyB9Pih7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgY29uc3QgW2Fzc2lnbm1lbnRQYW5lbFN0YXRlLCBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZV0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgdGFyZ2V0SWQ6IHN0cmluZyB8IG51bGw7IHRhcmdldFR5cGU6ICdyZXNvdXJjZScgfCAnY29uc3RydWN0aW9uJyB8IG51bGw7IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsOyB9Pih7IGlzT3BlbjogZmFsc2UsIHRhcmdldElkOiBudWxsLCB0YXJnZXRUeXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIGNvbnN0IFtzZXR0aW5nc1BhbmVsU3RhdGUsIHNldFNldHRpbmdzUGFuZWxTdGF0ZV0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7IH0+KHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICBjb25zdCBbY2l2UGFuZWxTdGF0ZSwgc2V0Q2l2UGFuZWxTdGF0ZV0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7IH0+KHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9KTtcblxuICAgIGNvbnN0IGRlbHRhVGltZW91dFJlZiA9IHVzZVJlZjx7IFtrZXkgaW4ga2V5b2YgUmVzb3VyY2VzXT86IG51bWJlciB9Pih7fSk7XG4gICAgY29uc3QgZXZlbnRUaW1lclJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpO1xuXG4gICAgY29uc3QgcG9wdWxhdGlvbiA9IHtcbiAgICAgICAgY3VycmVudDogdW5pdHMudmlsbGFnZXJzLmxlbmd0aCArIHVuaXRzLm1pbGl0YXJ5Lmxlbmd0aCxcbiAgICAgICAgY2FwYWNpdHk6IChidWlsZGluZ3MudG93bkNlbnRlcj8ubGVuZ3RoID4gMCA/IDIwIDogMCkgKyBidWlsZGluZ3MuaG91c2VzLmxlbmd0aCAqIDUsXG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBmZXRjaFNhdmVzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBuYW1lcyA9IGF3YWl0IGdldEFsbFNhdmVOYW1lcygpO1xuICAgICAgICBzZXRBbGxTYXZlcyhuYW1lcyk7XG4gICAgfSwgW10pO1xuICAgIFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGZldGNoU2F2ZXMoKTtcbiAgICB9LCBbZmV0Y2hTYXZlc10pO1xuICAgIFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChnYW1lU3RhdGUgPT09IEdhbWVTdGF0dXMuUExBWUlORyAmJiBjaXZpbGl6YXRpb24gJiYgY3VycmVudFNhdmVOYW1lKSB7XG4gICAgICAgICAgICBjb25zdCBmdWxsU3RhdGU6IEZ1bGxHYW1lU3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgY2l2aWxpemF0aW9uLFxuICAgICAgICAgICAgICAgIHJlc291cmNlcyxcbiAgICAgICAgICAgICAgICB1bml0cyxcbiAgICAgICAgICAgICAgICBidWlsZGluZ3MsXG4gICAgICAgICAgICAgICAgY3VycmVudEFnZSxcbiAgICAgICAgICAgICAgICBnYW1lTG9nLFxuICAgICAgICAgICAgICAgIGFjdGl2ZVRhc2tzLFxuICAgICAgICAgICAgICAgIGNvbnN0cnVjdGluZ0J1aWxkaW5ncyxcbiAgICAgICAgICAgICAgICByZXNvdXJjZU5vZGVzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNhdmVHYW1lU3RhdGUoY3VycmVudFNhdmVOYW1lLCBmdWxsU3RhdGUpO1xuICAgICAgICB9XG4gICAgfSwgW2NpdmlsaXphdGlvbiwgcmVzb3VyY2VzLCB1bml0cywgYnVpbGRpbmdzLCBjdXJyZW50QWdlLCBnYW1lTG9nLCBnYW1lU3RhdGUsIGN1cnJlbnRTYXZlTmFtZSwgYWN0aXZlVGFza3MsIGNvbnN0cnVjdGluZ0J1aWxkaW5ncywgcmVzb3VyY2VOb2Rlc10pO1xuXG4gICAgY29uc3QgYWRkTm90aWZpY2F0aW9uID0gdXNlQ2FsbGJhY2soKG1lc3NhZ2U6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBpZCA9IGAke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKX1gO1xuICAgICAgICBzZXROb3RpZmljYXRpb25zKHByZXYgPT4gWy4uLnByZXYsIHsgaWQsIG1lc3NhZ2UgfV0pO1xuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IHJlbW92ZU5vdGlmaWNhdGlvbiA9IHVzZUNhbGxiYWNrKChpZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIHNldE5vdGlmaWNhdGlvbnMocHJldiA9PiBwcmV2LmZpbHRlcihuID0+IG4uaWQgIT09IGlkKSk7XG4gICAgfSwgW10pO1xuICAgIFxuICAgIGNvbnN0IGFkZFRvTG9nID0gdXNlQ2FsbGJhY2soKG1lc3NhZ2U6IHN0cmluZywgaWNvbjogTG9nSWNvblR5cGUpID0+IHtcbiAgICAgICAgc2V0R2FtZUxvZyhwcmV2ID0+IFt7IGlkOiBgJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCl9YCwgbWVzc2FnZSwgaWNvbiB9LCAuLi5wcmV2LnNsaWNlKDAsIDE5KV0pO1xuICAgIH0sIFtdKTtcbiAgICBcbiAgICBjb25zdCB1cGRhdGVSZXNvdXJjZXMgPSB1c2VDYWxsYmFjaygoZGVsdGFzOiBSZXNvdXJjZURlbHRhcykgPT4ge1xuICAgICAgICBzZXRSZXNvdXJjZXMocHJldiA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXdSZXNvdXJjZXMgPSB7IC4uLnByZXYgfTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRlbHRhcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc291cmNlS2V5ID0ga2V5IGFzIGtleW9mIFJlc291cmNlcztcbiAgICAgICAgICAgICAgICBuZXdSZXNvdXJjZXNbcmVzb3VyY2VLZXldID0gTWF0aC5tYXgoMCwgbmV3UmVzb3VyY2VzW3Jlc291cmNlS2V5XSArIChkZWx0YXNbcmVzb3VyY2VLZXldID8/IDApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXdSZXNvdXJjZXM7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNldFJlc291cmNlRGVsdGFzKHByZXYgPT4gKHsuLi5wcmV2LCAuLi5kZWx0YXN9KSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGVsdGFzKSB7XG4gICAgICAgICAgICBjb25zdCByZXNvdXJjZUtleSA9IGtleSBhcyBrZXlvZiBSZXNvdXJjZXM7XG4gICAgICAgICAgICBpZiAoZGVsdGFUaW1lb3V0UmVmLmN1cnJlbnRbcmVzb3VyY2VLZXldKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChkZWx0YVRpbWVvdXRSZWYuY3VycmVudFtyZXNvdXJjZUtleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsdGFUaW1lb3V0UmVmLmN1cnJlbnRbcmVzb3VyY2VLZXldID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFJlc291cmNlRGVsdGFzKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdEZWx0YXMgPSB7Li4ucHJldn07XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBuZXdEZWx0YXNbcmVzb3VyY2VLZXldO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3RGVsdGFzO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgMTUwMCk7XG4gICAgICAgIH1cbiAgICB9LCBbXSk7XG5cbiAgICBjb25zdCBoYW5kbGVUYXNrQ29tcGxldGlvbiA9IHVzZUNhbGxiYWNrKCh0YXNrOiBHYW1lVGFzaykgPT4ge1xuICAgICAgICBzd2l0Y2ggKHRhc2sudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnYnVpbGQnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBidWlsZGluZ1R5cGUsIHZpbGxhZ2VySWRzLCBwb3NpdGlvbiB9ID0gdGFzay5wYXlsb2FkITtcbiAgICAgICAgICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBCVUlMRElOR1NfSU5GTy5maW5kKGIgPT4gYi5pZCA9PT0gYnVpbGRpbmdUeXBlKSE7XG4gICAgICAgICAgICAgICAgY29uc3QgW25hbWVdID0gZ2V0UmFuZG9tTmFtZXMoJ2J1aWxkaW5nJywgMSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3QnVpbGRpbmc6IEJ1aWxkaW5nSW5zdGFuY2UgPSB7IGlkOiB0YXNrLmlkLCBuYW1lLCBwb3NpdGlvbjogcG9zaXRpb24hIH07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgc2V0Q29uc3RydWN0aW5nQnVpbGRpbmdzKHByZXYgPT4gcHJldi5maWx0ZXIoYiA9PiBiLmlkICE9PSB0YXNrLmlkKSk7XG4gICAgICAgICAgICAgICAgc2V0QnVpbGRpbmdzKHAgPT4gKHsgLi4ucCwgW2J1aWxkaW5nVHlwZSFdOiBbLi4ucFtidWlsZGluZ1R5cGUhXSwgbmV3QnVpbGRpbmddIH0pKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAodmlsbGFnZXJJZHMgJiYgdmlsbGFnZXJJZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBhZGRUb0xvZyhgJHt2aWxsYWdlcklkcy5sZW5ndGh9IGJ1aWxkZXIocykgaGF2ZSBjb25zdHJ1Y3RlZCAke25hbWV9LCBhIG5ldyAke2J1aWxkaW5nSW5mby5uYW1lfS5gLCBidWlsZGluZ1R5cGUhKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYENvbnN0cnVjdGlvbiBvZiAke25hbWV9IGlzIGNvbXBsZXRlLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2dhdGhlcic6IHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIG5vdyBoYW5kbGVkIGJ5IHRoZSBnYW1lIGxvb3AgZGVwbGV0aW5nIHRoZSBub2RlLlxuICAgICAgICAgICAgICAgIC8vIGhhbmRsZVRhc2tDb21wbGV0aW9uIGZvciBnYXRoZXIgaXMgb25seSBjYWxsZWQgd2hlbiB0aGUgbm9kZSBpcyBnb25lLlxuICAgICAgICAgICAgICAgIC8vIFRoZSB2aWxsYWdlcnMgYXNzaWduZWQgYXJlIG5vdyBpZGxlLlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAndHJhaW5fdmlsbGFnZXInOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBjb3VudCB9ID0gdGFzay5wYXlsb2FkITtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdWaWxsYWdlck5hbWVzID0gZ2V0UmFuZG9tTmFtZXMoJ3ZpbGxhZ2VyJywgY291bnQhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdWaWxsYWdlcnM6IFZpbGxhZ2VyW10gPSBuZXdWaWxsYWdlck5hbWVzLm1hcChuYW1lID0+ICh7IGlkOiBgJHtEYXRlLm5vdygpfS0ke25hbWV9YCwgbmFtZSB9KSk7XG4gICAgICAgICAgICAgICAgc2V0VW5pdHMocCA9PiAoeyAuLi5wLCB2aWxsYWdlcnM6IFsuLi5wLnZpbGxhZ2VycywgLi4ubmV3VmlsbGFnZXJzXSB9KSk7XG4gICAgICAgICAgICAgICAgYWRkVG9Mb2coYCR7Y291bnR9IG5ldyB2aWxsYWdlcihzKSBoYXZlIGpvaW5lZCB5b3VyIHNldHRsZW1lbnQuYCwgJ3ZpbGxhZ2VyJyk7XG4gICAgICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYCR7Y291bnR9IG5ldyB2aWxsYWdlcihzKSBhcmUgcmVhZHkgdG8gd29yay5gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ3RyYWluX21pbGl0YXJ5Jzoge1xuICAgICAgICAgICAgICAgICBjb25zdCB7IHVuaXRUeXBlLCBjb3VudCB9ID0gdGFzay5wYXlsb2FkITtcbiAgICAgICAgICAgICAgICAgY29uc3QgdW5pdEluZm8gPSBVTklUX0lORk8uZmluZCh1ID0+IHUuaWQgPT09IHVuaXRUeXBlKSE7XG4gICAgICAgICAgICAgICAgIGNvbnN0IG5ld1VuaXROYW1lcyA9IGdldFJhbmRvbU5hbWVzKCdzb2xkaWVyJywgY291bnQhKTtcbiAgICAgICAgICAgICAgICAgY29uc3QgbmV3VW5pdHM6IE1pbGl0YXJ5VW5pdFtdID0gbmV3VW5pdE5hbWVzLm1hcChuYW1lID0+ICh7IGlkOiBgJHtEYXRlLm5vdygpfS0ke3VuaXRUeXBlfS0ke25hbWV9YCwgbmFtZSwgdGl0bGU6ICcnLCB1bml0VHlwZTogdW5pdFR5cGUhIH0pKTtcbiAgICAgICAgICAgICAgICAgc2V0VW5pdHMocCA9PiAoeyAuLi5wLCBtaWxpdGFyeTogWy4uLnAubWlsaXRhcnksIC4uLm5ld1VuaXRzXSB9KSk7XG4gICAgICAgICAgICAgICAgIGFkZFRvTG9nKGAke2NvdW50fSAke3VuaXRJbmZvLm5hbWV9KHMpIGhhdmUgYmVlbiB0cmFpbmVkLmAsIHVuaXRUeXBlISk7XG4gICAgICAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGAke2NvdW50fSBuZXcgJHt1bml0SW5mby5uYW1lfShzKSBhcmUgcmVhZHkgZm9yIGJhdHRsZS5gKTtcbiAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdhZHZhbmNlX2FnZSc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZ2VSZXN1bHQgPSBnZXRQcmVkZWZpbmVkQWdlKGN1cnJlbnRBZ2UpO1xuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRBZ2UoYWdlUmVzdWx0Lm5leHRBZ2VOYW1lKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhgWW91IGhhdmUgYWR2YW5jZWQgdG8gdGhlICR7YWdlUmVzdWx0Lm5leHRBZ2VOYW1lfSFgLCAnYWdlJyk7XG4gICAgICAgICAgICAgICAgYWRkVG9Mb2coYWdlUmVzdWx0LmRlc2NyaXB0aW9uLCAnYWdlJyk7XG4gICAgICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYFdlbGNvbWUgdG8gdGhlICR7YWdlUmVzdWx0Lm5leHRBZ2VOYW1lfSFgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtjdXJyZW50QWdlLCB1cGRhdGVSZXNvdXJjZXMsIGFkZFRvTG9nXSk7XG4gICAgXG4gICAgLy8gR2FtZSBMb29wXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgZ2FtZUxvb3AgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgbGV0IGNvbXBsZXRlZFRhc2tzOiBHYW1lVGFza1tdID0gW107XG4gICAgICAgICAgICBsZXQgcmVzb3VyY2VEZWx0YXNUaGlzVGljazogUmVzb3VyY2VEZWx0YXMgPSB7fTtcblxuICAgICAgICAgICAgY29uc3Qgc3RpbGxBY3RpdmVUYXNrcyA9IGFjdGl2ZVRhc2tzLm1hcCh0YXNrID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobm93ID49IHRhc2suc3RhcnRUaW1lICsgdGFzay5kdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRUYXNrcy5wdXNoKHRhc2spO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKHRhc2sudHlwZSA9PT0gJ2dhdGhlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHJlc291cmNlTm9kZXMuZmluZChuID0+IG4uaWQgPT09IHRhc2sucGF5bG9hZD8ucmVzb3VyY2VOb2RlSWQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWxsYWdlckNvdW50ID0gdGFzay5wYXlsb2FkPy52aWxsYWdlcklkcz8ubGVuZ3RoIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoIW5vZGUgfHwgdmlsbGFnZXJDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7IC8vIE9ycGhhbmVkIHRhc2ssIG1hcmsgZm9yIHJlbW92YWxcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdhdGhlclJhdGVQZXJWaWxsYWdlclBlclNlY29uZCA9IEdBVEhFUl9JTkZPW25vZGUudHlwZV0ucmF0ZSAvIDEwO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbW91bnRHYXRoZXJlZFRoaXNUaWNrID0gZ2F0aGVyUmF0ZVBlclZpbGxhZ2VyUGVyU2Vjb25kICogdmlsbGFnZXJDb3VudDtcblxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZURlbHRhc1RoaXNUaWNrW25vZGUudHlwZV0gPSAocmVzb3VyY2VEZWx0YXNUaGlzVGlja1tub2RlLnR5cGVdIHx8IDApICsgYW1vdW50R2F0aGVyZWRUaGlzVGljaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGFzaztcblxuICAgICAgICAgICAgfSkuZmlsdGVyKEJvb2xlYW4pIGFzIEdhbWVUYXNrW107XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFVwZGF0ZSByZXNvdXJjZSBub2RlcyBzZXBhcmF0ZWx5IHRvIGF2b2lkIHJhY2UgY29uZGl0aW9ucyB3aXRoIHN0YXRlXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMocmVzb3VyY2VEZWx0YXNUaGlzVGljaykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHNldFJlc291cmNlcyhwcmV2UmVzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3UmVzb3VyY2VzID0geyAuLi5wcmV2UmVzIH07XG4gICAgICAgICAgICAgICAgICAgIGZvcihjb25zdCBrZXkgaW4gcmVzb3VyY2VEZWx0YXNUaGlzVGljaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzS2V5ID0ga2V5IGFzIGtleW9mIFJlc291cmNlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Jlc291cmNlc1tyZXNLZXldICs9IHJlc291cmNlRGVsdGFzVGhpc1RpY2tbcmVzS2V5XSE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld1Jlc291cmNlcztcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHNldFJlc291cmNlTm9kZXMocHJldk5vZGVzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vZGVzV2VyZURlcGxldGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld05vZGVzID0gcHJldk5vZGVzLm1hcChub2RlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudFRvRGVjcmVtZW50ID0gcmVzb3VyY2VEZWx0YXNUaGlzVGlja1tub2RlLnR5cGVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFtb3VudFRvRGVjcmVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3QW1vdW50ID0gbm9kZS5hbW91bnQgLSBhbW91bnRUb0RlY3JlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3QW1vdW50IDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9Mb2coYCR7bm9kZS5hc3NpZ25lZFZpbGxhZ2Vycy5sZW5ndGh9IHZpbGxhZ2VyKHMpIGRlcGxldGVkIGEgJHtub2RlLnR5cGV9IHNvdXJjZSwgZ2FpbmluZyAke01hdGguZmxvb3Iobm9kZS5hbW91bnQpfSAke25vZGUudHlwZX0uYCwgbm9kZS50eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYEEgJHtub2RlLnR5cGV9IHNvdXJjZSBoYXMgYmVlbiBmdWxseSBkZXBsZXRlZC5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXNXZXJlRGVwbGV0ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdhdGhlclRhc2sgPSBzdGlsbEFjdGl2ZVRhc2tzLmZpbmQodCA9PiB0LnR5cGUgPT09ICdnYXRoZXInICYmIHQucGF5bG9hZD8ucmVzb3VyY2VOb2RlSWQgPT09IG5vZGUuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihnYXRoZXJUYXNrKSBjb21wbGV0ZWRUYXNrcy5wdXNoKGdhdGhlclRhc2spO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5ub2RlLCBhbW91bnQ6IG5ld0Ftb3VudCB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICAgICAgICAgIH0pLmZpbHRlcihCb29sZWFuKSBhcyBSZXNvdXJjZU5vZGVbXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZXNXZXJlRGVwbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgd2lsbCBmaWx0ZXIgb3V0IHRoZSBjb21wbGV0ZWQgZ2F0aGVyIHRhc2tzIGluIHRoZSBuZXh0IHN0ZXBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3Tm9kZXM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGZpbmFsQWN0aXZlVGFza3MgPSBzdGlsbEFjdGl2ZVRhc2tzLmZpbHRlcih0ID0+ICFjb21wbGV0ZWRUYXNrcy5zb21lKGN0ID0+IGN0LmlkID09PSB0LmlkKSk7XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhmaW5hbEFjdGl2ZVRhc2tzKTtcblxuICAgICAgICAgICAgaWYgKGNvbXBsZXRlZFRhc2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWRUYXNrcy5mb3JFYWNoKGhhbmRsZVRhc2tDb21wbGV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMTAwMCk7XG5cbiAgICAgICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoZ2FtZUxvb3ApO1xuICAgIH0sIFthY3RpdmVUYXNrcywgcmVzb3VyY2VOb2RlcywgaGFuZGxlVGFza0NvbXBsZXRpb24sIGFkZFRvTG9nXSk7XG5cblxuICAgIGNvbnN0IGhhbmRsZU5ld0V2ZW50ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBjb25zdCBub25HYXRoZXJpbmdUYXNrcyA9IGFjdGl2ZVRhc2tzLmZpbHRlcih0ID0+IHQudHlwZSAhPT0gJ2dhdGhlcicpO1xuICAgICAgICBpZiAoIWNpdmlsaXphdGlvbiB8fCBjdXJyZW50RXZlbnQgfHwgbm9uR2F0aGVyaW5nVGFza3MubGVuZ3RoID4gMCkgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgYWRkVG9Mb2coJ0EgbmV3IGNoYXB0ZXIgdW5mb2xkcy4uLicsICdldmVudCcpO1xuICAgICAgICBjb25zdCBldmVudCA9IGdldFByZWRlZmluZWRHYW1lRXZlbnQoKTtcbiAgICAgICAgc2V0Q3VycmVudEV2ZW50KGV2ZW50KTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoJ0EgbmV3IGV2ZW50IHJlcXVpcmVzIHlvdXIgYXR0ZW50aW9uIScpO1xuICAgIH0sIFtjaXZpbGl6YXRpb24sIGN1cnJlbnRFdmVudCwgYWN0aXZlVGFza3MsIGFkZFRvTG9nXSk7XG4gICAgXG4gICAgY29uc3Qgc2NoZWR1bGVOZXh0RXZlbnQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmIChldmVudFRpbWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChldmVudFRpbWVyUmVmLmN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5leHRFdmVudFRpbWUgPSAoNDUgKyBNYXRoLnJhbmRvbSgpICogNDUpICogMTAwMDsgLy8gNDUtOTAgc2Vjb25kc1xuICAgICAgICBldmVudFRpbWVyUmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IGhhbmRsZU5ld0V2ZW50KCksIG5leHRFdmVudFRpbWUpO1xuICAgIH0sIFtoYW5kbGVOZXdFdmVudF0pO1xuXG4gICAgY29uc3QgZ2VuZXJhdGVSZXNvdXJjZU5vZGVzID0gKGV4aXN0aW5nUG9zaXRpb25zOiBTZXQ8c3RyaW5nPik6IFJlc291cmNlTm9kZVtdID0+IHtcbiAgICAgICAgY29uc3Qgbm9kZXM6IFJlc291cmNlTm9kZVtdID0gW107XG4gICAgICAgIGNvbnN0IHR5cGVzOiBSZXNvdXJjZU5vZGVUeXBlW10gPSBbJ2Zvb2QnLCAnd29vZCcsICdnb2xkJywgJ3N0b25lJ107XG4gICAgICAgIGNvbnN0IG51bU5vZGVzID0gMjAgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gICAgICAgIFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bU5vZGVzOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBwb3M6IHt4OiBudW1iZXIsIHk6IG51bWJlcn07XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgcG9zID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNQVBfRElNRU5TSU9OUy53aWR0aCksXG4gICAgICAgICAgICAgICAgICAgIHk6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE1BUF9ESU1FTlNJT05TLmhlaWdodCksXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAoZXhpc3RpbmdQb3NpdGlvbnMuaGFzKGAke3Bvcy54fSwke3Bvcy55fWApKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhpc3RpbmdQb3NpdGlvbnMuYWRkKGAke3Bvcy54fSwke3Bvcy55fWApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCB0eXBlID0gdHlwZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdHlwZXMubGVuZ3RoKV07XG4gICAgICAgICAgICBjb25zdCBhbW91bnQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMjUwMCAtIDUwMCArIDEpKSArIDUwMDtcblxuICAgICAgICAgICAgbm9kZXMucHVzaCh7IGlkOiBgJHtEYXRlLm5vdygpfS1ub2RlLSR7aX1gLCB0eXBlLCBwb3NpdGlvbjogcG9zLCBhbW91bnQsIGFzc2lnbmVkVmlsbGFnZXJzOiBbXSB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZXM7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVN0YXJ0TmV3R2FtZSA9IChzYXZlTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmIChhbGxTYXZlcy5pbmNsdWRlcyhzYXZlTmFtZSkpIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihgQSBzYWdhIG5hbWVkIFwiJHtzYXZlTmFtZX1cIiBhbHJlYWR5IGV4aXN0cy5gKTsgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldEdhbWVTdGF0ZShHYW1lU3RhdHVzLkxPQURJTkcpO1xuICAgICAgICBzZXRDdXJyZW50U2F2ZU5hbWUoc2F2ZU5hbWUpO1xuXG4gICAgICAgIGNvbnN0IGNpdiA9IGdldFByZWRlZmluZWRDaXZpbGl6YXRpb24oKTtcbiAgICAgICAgc2V0Q2l2aWxpemF0aW9uKGNpdik7XG4gICAgICAgIHNldFJlc291cmNlcyh7IGZvb2Q6IDIwMCwgd29vZDogMTUwLCBnb2xkOiA1MCwgc3RvbmU6IDEwMCB9KTtcbiAgICAgICAgY29uc3QgaW5pdGlhbFZpbGxhZ2VyTmFtZXMgPSBnZXRSYW5kb21OYW1lcygndmlsbGFnZXInLCAzKTtcbiAgICAgICAgY29uc3QgaW5pdGlhbFZpbGxhZ2VyczogVmlsbGFnZXJbXSA9IGluaXRpYWxWaWxsYWdlck5hbWVzLm1hcChuYW1lID0+ICh7IGlkOiBgJHtEYXRlLm5vdygpfS0ke25hbWV9YCwgbmFtZSB9KSk7XG4gICAgICAgIHNldFVuaXRzKHsgdmlsbGFnZXJzOiBpbml0aWFsVmlsbGFnZXJzLCBtaWxpdGFyeTogW10gfSk7XG4gICAgICAgIGNvbnN0IFtpbml0aWFsVENOYW1lXSA9IGdldFJhbmRvbU5hbWVzKCdidWlsZGluZycsIDEpO1xuICAgICAgICBjb25zdCB0Y1Bvc2l0aW9uID0geyB4OiBNYXRoLmZsb29yKE1BUF9ESU1FTlNJT05TLndpZHRoIC8gMiksIHk6IE1hdGguZmxvb3IoTUFQX0RJTUVOU0lPTlMuaGVpZ2h0IC8gMikgfTtcbiAgICAgICAgY29uc3QgaW5pdGlhbFRDOiBCdWlsZGluZ0luc3RhbmNlID0geyBpZDogYCR7RGF0ZS5ub3coKX0tdGNgLCBuYW1lOiBpbml0aWFsVENOYW1lLCBwb3NpdGlvbjogdGNQb3NpdGlvbiB9O1xuICAgICAgICBzZXRCdWlsZGluZ3Moey4uLmluaXRpYWxCdWlsZGluZ3NTdGF0ZSwgdG93bkNlbnRlcjogW2luaXRpYWxUQ119KTtcbiAgICAgICAgc2V0UmVzb3VyY2VOb2RlcyhnZW5lcmF0ZVJlc291cmNlTm9kZXMobmV3IFNldChbYCR7dGNQb3NpdGlvbi54fSwke3RjUG9zaXRpb24ueX1gXSkpKTtcbiAgICAgICAgc2V0Q3VycmVudEFnZSgnTm9tYWRpYyBBZ2UnKTtcbiAgICAgICAgc2V0R2FtZUxvZyhbXSk7XG4gICAgICAgIHNldEN1cnJlbnRFdmVudChudWxsKTtcbiAgICAgICAgc2V0VW5saW1pdGVkUmVzb3VyY2VzKGZhbHNlKTtcbiAgICAgICAgc2V0QWN0aXZlVGFza3MoW10pO1xuICAgICAgICBzZXRDb25zdHJ1Y3RpbmdCdWlsZGluZ3MoW10pO1xuICAgICAgICBhZGRUb0xvZyhgJHtjaXYubmFtZX0gaGFzIGJlZW4gZm91bmRlZCFgLCAnc3lzdGVtJyk7XG4gICAgICAgIGFkZFRvTG9nKCdZb3VyIHN0b3J5IGJlZ2lucy4uLicsICdzeXN0ZW0nKTtcbiAgICAgICAgc2V0R2FtZVN0YXRlKEdhbWVTdGF0dXMuUExBWUlORyk7XG4gICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKCdZb3VyIHNldHRsZW1lbnQgYXdhaXRzIHlvdXIgY29tbWFuZC4nKTtcbiAgICAgICAgZmV0Y2hTYXZlcygpO1xuICAgIH07XG5cbiAgICBjb25zdCBnZXRWaWxsYWdlclRhc2tEZXRhaWxzID0gdXNlQ2FsbGJhY2soKHZpbGxhZ2VySWQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBhY3RpdmVUYXNrcy5maW5kKHQgPT4gdC5wYXlsb2FkPy52aWxsYWdlcklkcz8uaW5jbHVkZXModmlsbGFnZXJJZCkpO1xuXG4gICAgICAgIGlmICh0YXNrKSB7XG4gICAgICAgICAgICBpZiAodGFzay50eXBlID09PSAnYnVpbGQnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVpbGRpbmdJbmZvID0gQlVJTERJTkdTX0lORk8uZmluZChiID0+IGIuaWQgPT09IHRhc2sucGF5bG9hZCEuYnVpbGRpbmdUeXBlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYEJ1c3k6IENvbnN0cnVjdGluZyAke2J1aWxkaW5nSW5mbz8ubmFtZSB8fCAnYSBidWlsZGluZyd9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0YXNrLnR5cGUgPT09ICdnYXRoZXInKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHJlc291cmNlTm9kZXMuZmluZChuID0+IG4uaWQgPT09IHRhc2sucGF5bG9hZCEucmVzb3VyY2VOb2RlSWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBgQnVzeTogR2F0aGVyaW5nICR7bm9kZT8udHlwZSB8fCAncmVzb3VyY2VzJ31gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gJ0lkbGUnO1xuICAgIH0sIFthY3RpdmVUYXNrcywgcmVzb3VyY2VOb2Rlc10pO1xuXG4gICAgY29uc3QgaXNWaWxsYWdlckJ1c3kgPSB1c2VDYWxsYmFjaygodmlsbGFnZXJJZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIHJldHVybiBnZXRWaWxsYWdlclRhc2tEZXRhaWxzKHZpbGxhZ2VySWQpICE9PSAnSWRsZSc7XG4gICAgfSwgW2dldFZpbGxhZ2VyVGFza0RldGFpbHNdKTtcblxuICAgIGNvbnN0IGhhbmRsZVJlc3VtZUdhbWUgPSBhc3luYyAoc2F2ZU5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBzYXZlZFN0YXRlID0gYXdhaXQgbG9hZEdhbWVTdGF0ZShzYXZlTmFtZSkgYXMgRnVsbEdhbWVTdGF0ZTtcbiAgICAgICAgaWYgKHNhdmVkU3RhdGUpIHtcbiAgICAgICAgICAgIHNldEdhbWVTdGF0ZShHYW1lU3RhdHVzLkxPQURJTkcpO1xuICAgICAgICAgICAgc2V0Q3VycmVudFNhdmVOYW1lKHNhdmVOYW1lKTtcbiAgICAgICAgICAgIHNldENpdmlsaXphdGlvbihzYXZlZFN0YXRlLmNpdmlsaXphdGlvbik7XG4gICAgICAgICAgICBzZXRSZXNvdXJjZXMoc2F2ZWRTdGF0ZS5yZXNvdXJjZXMpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoKHNhdmVkU3RhdGUudW5pdHMgYXMgYW55KT8uc29sZGllcnMpIHtcbiAgICAgICAgICAgICAgICAgY29uc3QgbWlncmF0ZWRNaWxpdGFyeTogTWlsaXRhcnlVbml0W10gPSAoc2F2ZWRTdGF0ZS51bml0cyBhcyBhbnkpLnNvbGRpZXJzLm1hcCgoczogYW55KSA9PiAoeyAuLi5zLCB1bml0VHlwZTogJ3N3b3Jkc21hbicgfSkpO1xuICAgICAgICAgICAgICAgICBzZXRVbml0cyh7IHZpbGxhZ2Vyczogc2F2ZWRTdGF0ZS51bml0cy52aWxsYWdlcnMgfHwgW10sIG1pbGl0YXJ5OiBtaWdyYXRlZE1pbGl0YXJ5IH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgc2V0VW5pdHMoc2F2ZWRTdGF0ZS51bml0cyB8fCB7IHZpbGxhZ2VyczogW10sIG1pbGl0YXJ5OiBbXSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IGZpbmFsQnVpbGRpbmdzID0geyAuLi5pbml0aWFsQnVpbGRpbmdzU3RhdGUsIC4uLihzYXZlZFN0YXRlLmJ1aWxkaW5ncyB8fCB7fSkgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3Qgb2NjdXBpZWRDZWxscyA9IG5ldyBTZXQoT2JqZWN0LnZhbHVlcyhmaW5hbEJ1aWxkaW5ncykuZmxhdCgpLm1hcCgoYjogYW55KSA9PiBgJHtiLnBvc2l0aW9uLnh9LCR7Yi5wb3NpdGlvbi55fWApKTtcblxuICAgICAgICAgICAgaWYgKCFmaW5hbEJ1aWxkaW5ncy50b3duQ2VudGVyIHx8IGZpbmFsQnVpbGRpbmdzLnRvd25DZW50ZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRjUG9zID0geyB4OiAxMCwgeTogNSB9O1xuICAgICAgICAgICAgICAgIHdoaWxlIChvY2N1cGllZENlbGxzLmhhcyhgJHt0Y1Bvcy54fSwke3RjUG9zLnl9YCkpIHsgdGNQb3MueCsrOyB9XG4gICAgICAgICAgICAgICAgY29uc3QgW3RjTmFtZV0gPSBnZXRSYW5kb21OYW1lcygnYnVpbGRpbmcnLCAxKTtcbiAgICAgICAgICAgICAgICBmaW5hbEJ1aWxkaW5ncy50b3duQ2VudGVyID0gW3sgaWQ6IGAke0RhdGUubm93KCl9LXRjYCwgbmFtZTogdGNOYW1lLCBwb3NpdGlvbjogdGNQb3MgfV07XG4gICAgICAgICAgICAgICAgb2NjdXBpZWRDZWxscy5hZGQoYCR7dGNQb3MueH0sJHt0Y1Bvcy55fWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBmaXJzdEJ1aWxkaW5nID0gT2JqZWN0LnZhbHVlcyhmaW5hbEJ1aWxkaW5ncykuZmxhdCgpWzBdO1xuICAgICAgICAgICAgaWYgKGZpcnN0QnVpbGRpbmcgJiYgdHlwZW9mIGZpcnN0QnVpbGRpbmcgPT09ICdvYmplY3QnICYmICEoJ3Bvc2l0aW9uJyBpbiBmaXJzdEJ1aWxkaW5nKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pZ3JhdGVkID0geyAuLi5pbml0aWFsQnVpbGRpbmdzU3RhdGUgfTtcbiAgICAgICAgICAgICAgICBsZXQgeSA9IDM7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoZmluYWxCdWlsZGluZ3MpLmZvckVhY2goKFt0eXBlLCBpbnN0YW5jZXNdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB4ID0gNTtcbiAgICAgICAgICAgICAgICAgICAgKGluc3RhbmNlcyBhcyBCdWlsZGluZ0luc3RhbmNlW10pLmZvckVhY2goaW5zdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAob2NjdXBpZWRDZWxscy5oYXMoYCR7eH0sJHt5fWApKSB7IHgrKzsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgKG1pZ3JhdGVkW3R5cGUgYXMgQnVpbGRpbmdUeXBlXSBhcyBCdWlsZGluZ0luc3RhbmNlW10pLnB1c2goeyAuLi5pbnN0LCBwb3NpdGlvbjogeyB4LCB5IH0gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvY2N1cGllZENlbGxzLmFkZChgJHt4fSwke3l9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB4Kys7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZpbmFsQnVpbGRpbmdzID0gbWlncmF0ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNldEJ1aWxkaW5ncyhmaW5hbEJ1aWxkaW5ncyk7XG5cbiAgICAgICAgICAgIGNvbnN0IG5vZGVzVG9TZXQgPSAoc2F2ZWRTdGF0ZS5yZXNvdXJjZU5vZGVzIHx8IFtdKS5tYXAobiA9PiAoey4uLm4sIGFzc2lnbmVkVmlsbGFnZXJzOiBuLmFzc2lnbmVkVmlsbGFnZXJzIHx8IFtdfSkpO1xuICAgICAgICAgICAgaWYgKG5vZGVzVG9TZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgIHNldFJlc291cmNlTm9kZXMoZ2VuZXJhdGVSZXNvdXJjZU5vZGVzKG9jY3VwaWVkQ2VsbHMpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgIHNldFJlc291cmNlTm9kZXMobm9kZXNUb1NldCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldEN1cnJlbnRBZ2Uoc2F2ZWRTdGF0ZS5jdXJyZW50QWdlKTtcbiAgICAgICAgICAgIHNldEdhbWVMb2coc2F2ZWRTdGF0ZS5nYW1lTG9nKTtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKChzYXZlZFN0YXRlLmFjdGl2ZVRhc2tzIHx8IFtdKS5tYXAodCA9PiB7XG4gICAgICAgICAgICAgICAgLy8gTWlncmF0aW9uIGZvciBvbGQgc2F2ZSBmb3JtYXRcbiAgICAgICAgICAgICAgICBpZiAodC50eXBlID09PSAnYnVpbGQnICYmIHQucGF5bG9hZD8udmlsbGFnZXJJZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi50LCBwYXlsb2FkOiB7IC4uLnQucGF5bG9hZCwgdmlsbGFnZXJJZHM6IFt0LnBheWxvYWQudmlsbGFnZXJJZF0sIHZpbGxhZ2VySWQ6IHVuZGVmaW5lZCB9IH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgc2V0Q29uc3RydWN0aW5nQnVpbGRpbmdzKChzYXZlZFN0YXRlLmNvbnN0cnVjdGluZ0J1aWxkaW5ncyB8fCBbXSkubWFwKGMgPT4ge1xuICAgICAgICAgICAgICAgICAvLyBNaWdyYXRpb24gZm9yIG9sZCBzYXZlIGZvcm1hdFxuICAgICAgICAgICAgICAgIGlmICgoYyBhcyBhbnkpLnZpbGxhZ2VySWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uYywgdmlsbGFnZXJJZHM6IFsoYyBhcyBhbnkpLnZpbGxhZ2VySWRdLCB2aWxsYWdlcklkOiB1bmRlZmluZWQgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNldEN1cnJlbnRFdmVudChudWxsKTtcbiAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKCdXZWxjb21lIGJhY2sgdG8geW91ciBzYWdhLicpO1xuICAgICAgICAgICAgc2V0R2FtZVN0YXRlKEdhbWVTdGF0dXMuUExBWUlORyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhZGROb3RpZmljYXRpb24oYENvdWxkIG5vdCBmaW5kIGEgc2F2ZWQgZ2FtZSBuYW1lZCBcIiR7c2F2ZU5hbWV9XCIuYCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRXZlbnQgVHJpZ2dlciBUaW1lclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIC8vIEV2ZW50cyBzaG91bGQgbm90IHRyaWdnZXIgaWYgYSBtYWpvciB0YXNrIChidWlsZCwgdHJhaW4sIGFkdmFuY2UgYWdlKSBpcyBpbiBwcm9ncmVzcy5cbiAgICAgICAgLy8gR2F0aGVyaW5nIHJlc291cmNlcyBpcyBhIGJhY2tncm91bmQgdGFzayBhbmQgc2hvdWxkIG5vdCBibG9jayBldmVudHMuXG4gICAgICAgIGNvbnN0IG1ham9yVGFza0luUHJvZ3Jlc3MgPSBhY3RpdmVUYXNrcy5zb21lKHQgPT4gdC50eXBlICE9PSAnZ2F0aGVyJyk7XG5cbiAgICAgICAgaWYgKGdhbWVTdGF0ZSA9PT0gR2FtZVN0YXR1cy5QTEFZSU5HICYmICFjdXJyZW50RXZlbnQgJiYgIXBsYXllckFjdGlvbiAmJiAhbWFqb3JUYXNrSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgc2NoZWR1bGVOZXh0RXZlbnQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudFRpbWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChldmVudFRpbWVyUmVmLmN1cnJlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudFRpbWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoZXZlbnRUaW1lclJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LCBbZ2FtZVN0YXRlLCBjdXJyZW50RXZlbnQsIHBsYXllckFjdGlvbiwgYWN0aXZlVGFza3MsIHNjaGVkdWxlTmV4dEV2ZW50XSk7XG5cbiAgICBjb25zdCBoYW5kbGVFdmVudENob2ljZSA9IChjaG9pY2U6IEdhbWVFdmVudENob2ljZSkgPT4ge1xuICAgICAgICBhZGRUb0xvZyhgRGVjaXNpb246IFwiJHtjaG9pY2UudGV4dH1cImAsICdldmVudCcpO1xuXG4gICAgICAgIC8vIDEuIENoZWNrIGFuZCBhcHBseSBjb3N0XG4gICAgICAgIGlmIChjaG9pY2UuY29zdCkge1xuICAgICAgICAgICAgY29uc3QgbWlzc2luZ1Jlczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGNob2ljZS5jb3N0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzS2V5ID0ga2V5IGFzIGtleW9mIFJlc291cmNlcztcbiAgICAgICAgICAgICAgICBpZiAocmVzb3VyY2VzW3Jlc0tleV0gPCAoY2hvaWNlLmNvc3RbcmVzS2V5XSB8fCAwKSkge1xuICAgICAgICAgICAgICAgICAgICBtaXNzaW5nUmVzLnB1c2gocmVzS2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWlzc2luZ1Jlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKGBZb3UgbGFjayB0aGUgcmVxdWlyZWQgcmVzb3VyY2VzOiAke21pc3NpbmdSZXMuam9pbignLCAnKX0uYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbmVnYXRpdmVDb3N0OiBSZXNvdXJjZURlbHRhcyA9IHt9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY2hvaWNlLmNvc3QpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNLZXkgPSBrZXkgYXMga2V5b2YgUmVzb3VyY2VzO1xuICAgICAgICAgICAgICAgIG5lZ2F0aXZlQ29zdFtyZXNLZXldID0gLShjaG9pY2UuY29zdFtyZXNLZXldIHx8IDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKG5lZ2F0aXZlQ29zdCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIDIuIERldGVybWluZSBzdWNjZXNzXG4gICAgICAgIGNvbnN0IGlzU3VjY2VzcyA9IGNob2ljZS5zdWNjZXNzQ2hhbmNlID09PSB1bmRlZmluZWQgfHwgTWF0aC5yYW5kb20oKSA8IGNob2ljZS5zdWNjZXNzQ2hhbmNlO1xuICAgICAgICBjb25zdCBlZmZlY3RzID0gaXNTdWNjZXNzID8gY2hvaWNlLnN1Y2Nlc3NFZmZlY3RzIDogY2hvaWNlLmZhaWx1cmVFZmZlY3RzO1xuXG4gICAgICAgIGlmICghZWZmZWN0cykgeyAvLyBIYW5kbGUgY2FzZXMgd2l0aCBubyBmYWlsdXJlIGVmZmVjdCBkZWZpbmVkXG4gICAgICAgICAgICBzZXRDdXJyZW50RXZlbnQobnVsbCk7XG4gICAgICAgICAgICBzY2hlZHVsZU5leHRFdmVudCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gMy4gQ2FsY3VsYXRlIHJlc291cmNlIGNoYW5nZVxuICAgICAgICBsZXQgYW1vdW50ID0gMDtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZWZmZWN0cy5hbW91bnQpKSB7XG4gICAgICAgICAgICBjb25zdCBbbWluLCBtYXhdID0gZWZmZWN0cy5hbW91bnQ7XG4gICAgICAgICAgICBhbW91bnQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYW1vdW50ID0gZWZmZWN0cy5hbW91bnQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIDQuIEFwcGx5IGVmZmVjdHNcbiAgICAgICAgaWYgKGVmZmVjdHMucmVzb3VyY2UgIT09ICdub25lJyAmJiBhbW91bnQgIT09IDApIHtcbiAgICAgICAgICAgIHVwZGF0ZVJlc291cmNlcyh7IFtlZmZlY3RzLnJlc291cmNlXTogYW1vdW50IH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyA1LiBMb2cgYW5kIHVwZGF0ZSBVSVxuICAgICAgICBhZGRUb0xvZyhlZmZlY3RzLmxvZywgZWZmZWN0cy5yZXNvdXJjZSAhPT0gJ25vbmUnID8gZWZmZWN0cy5yZXNvdXJjZSA6ICdzeXN0ZW0nKTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoZWZmZWN0cy5sb2cpO1xuICAgICAgICBzZXRDdXJyZW50RXZlbnQobnVsbCk7XG4gICAgICAgIHNjaGVkdWxlTmV4dEV2ZW50KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUluaXRpYXRlQnVpbGQgPSAodmlsbGFnZXJJZDogc3RyaW5nLCByZWN0OiBET01SZWN0KSA9PiB7XG4gICAgICAgIGlmIChpc1ZpbGxhZ2VyQnVzeSh2aWxsYWdlcklkKSkge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiVGhpcyB2aWxsYWdlciBpcyBhbHJlYWR5IGJ1c3kuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldEJ1aWxkUGFuZWxTdGF0ZSh7IGlzT3BlbjogdHJ1ZSwgdmlsbGFnZXJJZCwgYW5jaG9yUmVjdDogcmVjdCB9KTtcbiAgICAgICAgc2V0VW5pdE1hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBoYW5kbGVTdGFydFBsYWNlbWVudCA9IChidWlsZGluZ0lkOiBCdWlsZGluZ1R5cGUpID0+IHtcbiAgICAgICAgY29uc3QgdmlsbGFnZXJJZCA9IGJ1aWxkUGFuZWxTdGF0ZS52aWxsYWdlcklkO1xuICAgICAgICBpZiAoIXZpbGxhZ2VySWQpIHJldHVybjtcblxuICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBCVUlMRElOR1NfSU5GTy5maW5kKGIgPT4gYi5pZCA9PT0gYnVpbGRpbmdJZCk7XG4gICAgICAgIGlmICghYnVpbGRpbmdJbmZvKSByZXR1cm47XG5cbiAgICAgICAgaWYgKGJ1aWxkaW5nSW5mby5pc1VuaXF1ZSAmJiAoYnVpbGRpbmdzW2J1aWxkaW5nSW5mby5pZF0ubGVuZ3RoID4gMCB8fCBjb25zdHJ1Y3RpbmdCdWlsZGluZ3Muc29tZShiID0+IGIudHlwZSA9PT0gYnVpbGRpbmdJbmZvLmlkKSkpIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihgWW91IGNhbiBvbmx5IGJ1aWxkIG9uZSAke2J1aWxkaW5nSW5mby5uYW1lfS5gKTsgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBjb3N0ID0gYnVpbGRpbmdJbmZvLmNvc3Q7XG4gICAgICAgIGlmICghdW5saW1pdGVkUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICBjb25zdCBtaXNzaW5nOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCByZXMgaW4gY29zdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc291cmNlS2V5ID0gcmVzIGFzIGtleW9mIFJlc291cmNlcztcbiAgICAgICAgICAgICAgICBpZiAocmVzb3VyY2VzW3Jlc291cmNlS2V5XSA8IChjb3N0W3Jlc291cmNlS2V5XSA/PyAwKSkge1xuICAgICAgICAgICAgICAgICAgICAgbWlzc2luZy5wdXNoKGAkeyhjb3N0W3Jlc291cmNlS2V5XSA/PyAwKSAtIHJlc291cmNlc1tyZXNvdXJjZUtleV19ICR7cmVzb3VyY2VLZXl9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgIGlmIChtaXNzaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBhZGROb3RpZmljYXRpb24oYE5lZWQgJHttaXNzaW5nLmpvaW4oJyBhbmQgJyl9LmApOyByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0UGxheWVyQWN0aW9uKHsgbW9kZTogJ2J1aWxkJywgYnVpbGRpbmdUeXBlOiBidWlsZGluZ0lkLCB2aWxsYWdlcklkIH0pO1xuICAgICAgICBzZXRCdWlsZFBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCB2aWxsYWdlcklkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgU2VsZWN0IGEgbG9jYXRpb24gdG8gYnVpbGQgYSAke2J1aWxkaW5nSW5mby5uYW1lfS4gUmlnaHQtY2xpY2sgdG8gY2FuY2VsLmApO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVDb25maXJtUGxhY2VtZW50ID0gKHBvc2l0aW9uOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0pID0+IHtcbiAgICAgICAgaWYgKHBsYXllckFjdGlvbj8ubW9kZSAhPT0gJ2J1aWxkJykgcmV0dXJuO1xuICAgICAgICBjb25zdCB7IGJ1aWxkaW5nVHlwZSwgdmlsbGFnZXJJZCB9ID0gcGxheWVyQWN0aW9uO1xuICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBCVUlMRElOR1NfSU5GTy5maW5kKGIgPT4gYi5pZCA9PT0gYnVpbGRpbmdUeXBlKTtcbiAgICAgICAgY29uc3QgYnVpbGRlciA9IHVuaXRzLnZpbGxhZ2Vycy5maW5kKHYgPT4gdi5pZCA9PT0gdmlsbGFnZXJJZCk7XG4gICAgICAgIGlmICghYnVpbGRpbmdJbmZvIHx8ICFidWlsZGVyKSByZXR1cm47XG4gICAgICAgIFxuICAgICAgICBpZiAoIXVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgY29uc3QgY29zdCA9IGJ1aWxkaW5nSW5mby5jb3N0O1xuICAgICAgICAgICAgY29uc3QgbmVnYXRpdmVDb3N0OiBSZXNvdXJjZURlbHRhcyA9IHt9O1xuICAgICAgICAgICAgZm9yKGNvbnN0IHJlc291cmNlIGluIGNvc3QpIHtcbiAgICAgICAgICAgICAgICBuZWdhdGl2ZUNvc3RbcmVzb3VyY2UgYXMga2V5b2YgUmVzb3VyY2VzXSA9IC0oY29zdFtyZXNvdXJjZSBhcyBrZXlvZiBSZXNvdXJjZXNdIHx8IDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKG5lZ2F0aXZlQ29zdCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGJ1aWxkVGltZSA9IGJ1aWxkaW5nSW5mby5idWlsZFRpbWUgKiAxMDAwO1xuICAgICAgICBjb25zdCB0YXNrUGF5bG9hZCA9IHsgYnVpbGRpbmdUeXBlLCB2aWxsYWdlcklkczogW3ZpbGxhZ2VySWRdLCBwb3NpdGlvbiB9O1xuXG4gICAgICAgIGlmICh1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgICBjb25zdCB0YXNrSWQgPSBgJHtEYXRlLm5vdygpfS1pbnN0YW50LWJ1aWxkYDtcbiAgICAgICAgICAgICBoYW5kbGVUYXNrQ29tcGxldGlvbih7IGlkOiB0YXNrSWQsIHR5cGU6ICdidWlsZCcsIHN0YXJ0VGltZTogMCwgZHVyYXRpb246IDAsIHBheWxvYWQ6IHsgLi4udGFza1BheWxvYWQsIHBvc2l0aW9uIH0gfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrSWQgPSBgJHtEYXRlLm5vdygpfS1idWlsZC0ke2J1aWxkaW5nVHlwZX1gO1xuICAgICAgICAgICAgY29uc3QgbmV3Q29uc3RydWN0aW9uOiBDb25zdHJ1Y3RpbmdCdWlsZGluZyA9IHsgaWQ6IHRhc2tJZCwgdHlwZTogYnVpbGRpbmdUeXBlLCBwb3NpdGlvbiwgdmlsbGFnZXJJZHM6IFt2aWxsYWdlcklkXSB9O1xuICAgICAgICAgICAgc2V0Q29uc3RydWN0aW5nQnVpbGRpbmdzKHByZXYgPT4gWy4uLnByZXYsIG5ld0NvbnN0cnVjdGlvbl0pO1xuXG4gICAgICAgICAgICBjb25zdCBuZXdUYXNrOiBHYW1lVGFzayA9IHtcbiAgICAgICAgICAgICAgICBpZDogdGFza0lkLCB0eXBlOiAnYnVpbGQnLCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiBidWlsZFRpbWUsIHBheWxvYWQ6IHRhc2tQYXlsb2FkXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBbLi4ucHJldiwgbmV3VGFza10pO1xuICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYCR7YnVpbGRlci5uYW1lfSBoYXMgc3RhcnRlZCBjb25zdHJ1Y3RpbmcgYSAke2J1aWxkaW5nSW5mby5uYW1lfS5gKTtcbiAgICAgICAgICAgIGFkZFRvTG9nKGAke2J1aWxkZXIubmFtZX0gYmVnYW4gY29uc3RydWN0aW9uIG9mIGEgbmV3ICR7YnVpbGRpbmdJbmZvLm5hbWV9LmAsIGJ1aWxkaW5nVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNldFBsYXllckFjdGlvbihudWxsKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQ2FuY2VsUGxheWVyQWN0aW9uID0gKCkgPT4ge1xuICAgICAgICBzZXRQbGF5ZXJBY3Rpb24obnVsbCk7XG4gICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKCdDb21tYW5kIGNhbmNlbGxlZC4nKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlRGVtb2xpc2hCdWlsZGluZyA9ICh0eXBlOiBCdWlsZGluZ1R5cGUsIGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgaWYoYWN0aXZlVGFza3Muc29tZSh0ID0+IHQucGF5bG9hZD8uYnVpbGRpbmdJZCA9PT0gaWQpKSB7XG4gICAgICAgICAgICBhZGROb3RpZmljYXRpb24oXCJDYW5ub3QgZGVtb2xpc2ggYSBidWlsZGluZyB3aXRoIGFuIGFjdGl2ZSB0YXNrLlwiKTsgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IEJVSUxESU5HU19JTkZPLmZpbmQoYiA9PiBiLmlkID09PSB0eXBlKTtcbiAgICAgICAgY29uc3QgYnVpbGRpbmdJbnN0YW5jZSA9IGJ1aWxkaW5nc1t0eXBlXS5maW5kKGIgPT4gYi5pZCA9PT0gaWQpO1xuICAgICAgICBpZiAoIWJ1aWxkaW5nSW5mbyB8fCAhYnVpbGRpbmdJbnN0YW5jZSkgcmV0dXJuO1xuICAgICAgICBpZiAodHlwZSA9PT0gJ2hvdXNlcycgJiYgcG9wdWxhdGlvbi5jdXJyZW50ID4gKGJ1aWxkaW5ncy50b3duQ2VudGVyPy5sZW5ndGggPiAwID8gMjAgOiAwKSArIChidWlsZGluZ3MuaG91c2VzLmxlbmd0aCAtIDEpICogNSkge1xuICAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihcIkNhbm5vdCBkZW1vbGlzaCB0aGlzIGhvdXNlLCB5b3VyIHBlb3BsZSB3b3VsZCBiZSBob21lbGVzcy5cIik7IHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZWZ1bmQ6IFJlc291cmNlRGVsdGFzID0ge307XG4gICAgICAgIGxldCByZWZ1bmRNZXNzYWdlUGFydHM6IHN0cmluZ1tdID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcmVzIGluIGJ1aWxkaW5nSW5mby5jb3N0KSB7XG4gICAgICAgICAgICBjb25zdCByZXNvdXJjZUtleSA9IHJlcyBhcyBrZXlvZiBSZXNvdXJjZXM7XG4gICAgICAgICAgICBjb25zdCBjb3N0ID0gYnVpbGRpbmdJbmZvLmNvc3RbcmVzb3VyY2VLZXldIHx8IDA7XG4gICAgICAgICAgICBjb25zdCBhbW91bnQgPSBNYXRoLmZsb29yKGNvc3QgKiAwLjUpO1xuICAgICAgICAgICAgaWYgKGFtb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICByZWZ1bmRbcmVzb3VyY2VLZXldID0gYW1vdW50O1xuICAgICAgICAgICAgICAgIHJlZnVuZE1lc3NhZ2VQYXJ0cy5wdXNoKGAke2Ftb3VudH0gJHtyZXNvdXJjZUtleX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVSZXNvdXJjZXMocmVmdW5kKTtcbiAgICAgICAgc2V0QnVpbGRpbmdzKHByZXYgPT4gKHsgLi4ucHJldiwgW3R5cGVdOiBwcmV2W3R5cGVdLmZpbHRlcihiID0+IGIuaWQgIT09IGlkKSB9KSk7XG4gICAgICAgIGFkZFRvTG9nKGAke2J1aWxkaW5nSW5zdGFuY2UubmFtZX0gKCR7YnVpbGRpbmdJbmZvLm5hbWV9KSB3YXMgZGVtb2xpc2hlZC5gLCB0eXBlKTtcbiAgICAgICAgaWYgKHJlZnVuZE1lc3NhZ2VQYXJ0cy5sZW5ndGggPiAwKSB7IGFkZE5vdGlmaWNhdGlvbihgU2FsdmFnZWQgJHtyZWZ1bmRNZXNzYWdlUGFydHMuam9pbignLCAnKX0uYCk7IH1cbiAgICAgICAgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoe2lzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVVwZGF0ZUJ1aWxkaW5nID0gKHR5cGU6IEJ1aWxkaW5nVHlwZSwgaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIHNldEJ1aWxkaW5ncyhwcmV2ID0+ICh7IC4uLnByZXYsIFt0eXBlXTogcHJldlt0eXBlXS5tYXAoYiA9PiBiLmlkID09PSBpZCA/IHsgLi4uYiwgbmFtZSB9IDogYikgfSkpO1xuICAgICAgICBhZGROb3RpZmljYXRpb24oXCJCdWlsZGluZyByZW5hbWVkLlwiKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlVHJhaW5WaWxsYWdlcnMgPSAoY291bnQ6IG51bWJlcikgPT4ge1xuICAgICAgICBpZiAoYWN0aXZlVGFza3Muc29tZSh0ID0+IHQudHlwZSA9PT0gJ3RyYWluX3ZpbGxhZ2VyJykgfHwgY291bnQgPD0gMCkgcmV0dXJuO1xuICAgICAgICBjb25zdCB2aWxsYWdlckNvc3QgPSA1MDtcbiAgICAgICAgY29uc3QgdG90YWxDb3N0ID0gdmlsbGFnZXJDb3N0ICogY291bnQ7XG4gICAgICAgIGlmIChwb3B1bGF0aW9uLmN1cnJlbnQgKyBjb3VudCA+IHBvcHVsYXRpb24uY2FwYWNpdHkpIHsgYWRkTm90aWZpY2F0aW9uKGBOZWVkIHNwYWNlIGZvciAke2NvdW50fSBtb3JlIHZpbGxhZ2Vycy5gKTsgcmV0dXJuOyB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0b3duQ2VudGVyID0gYnVpbGRpbmdzLnRvd25DZW50ZXI/LlswXTtcbiAgICAgICAgaWYgKCF0b3duQ2VudGVyKSB7IGFkZE5vdGlmaWNhdGlvbihgTm8gVG93biBDZW50ZXIgdG8gdHJhaW4gdmlsbGFnZXJzLmApOyByZXR1cm47IH1cblxuICAgICAgICBpZiAoIXVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgaWYgKHJlc291cmNlcy5mb29kIDwgdG90YWxDb3N0KSB7IGFkZE5vdGlmaWNhdGlvbihgTmVlZCAke3RvdGFsQ29zdCAtIHJlc291cmNlcy5mb29kfSBtb3JlIEZvb2QuYCk7IHJldHVybjsgfVxuICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKHsgZm9vZDogLXRvdGFsQ29zdCB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0cmFpblRpbWUgPSAxMDAwMCAqIGNvdW50OyAvLyAxMHMgcGVyIHZpbGxhZ2VyXG4gICAgICAgIGlmKHVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgaGFuZGxlVGFza0NvbXBsZXRpb24oeyBpZDogJ2luc3RhbnQnLCB0eXBlOiAndHJhaW5fdmlsbGFnZXInLCBzdGFydFRpbWU6IDAsIGR1cmF0aW9uOiAwLCBwYXlsb2FkOiB7IGNvdW50IH0gfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrSWQgPSBgJHtEYXRlLm5vdygpfS10cmFpbi12aWxsYWdlcmA7XG4gICAgICAgICAgICBjb25zdCBuZXdUYXNrOiBHYW1lVGFzayA9IHsgaWQ6IHRhc2tJZCwgdHlwZTogJ3RyYWluX3ZpbGxhZ2VyJywgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBkdXJhdGlvbjogdHJhaW5UaW1lLCBwYXlsb2FkOiB7IGNvdW50LCBidWlsZGluZ0lkOiB0b3duQ2VudGVyLmlkIH0gfTtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gWy4uLnByZXYsIG5ld1Rhc2tdKTtcbiAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBUcmFpbmluZyAke2NvdW50fSB2aWxsYWdlcihzKS4uLmApO1xuICAgICAgICAgICAgYWRkVG9Mb2coYEJlZ2FuIHRyYWluaW5nICR7Y291bnR9IG5ldyB2aWxsYWdlcihzKS5gLCAndmlsbGFnZXInKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBoYW5kbGVUcmFpblVuaXRzID0gKHVuaXRUeXBlOiBNaWxpdGFyeVVuaXRUeXBlLCBjb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IHVuaXRJbmZvID0gVU5JVF9JTkZPLmZpbmQodSA9PiB1LmlkID09PSB1bml0VHlwZSk7XG4gICAgICAgIGlmICghdW5pdEluZm8gfHwgYWN0aXZlVGFza3Muc29tZSh0ID0+IHQucGF5bG9hZD8udW5pdFR5cGUgPT09IHVuaXRUeXBlKSB8fCBjb3VudCA8PSAwKSByZXR1cm47XG4gICAgICAgIGlmIChwb3B1bGF0aW9uLmN1cnJlbnQgKyBjb3VudCA+IHBvcHVsYXRpb24uY2FwYWNpdHkpIHsgYWRkTm90aWZpY2F0aW9uKGBOZWVkIHNwYWNlIGZvciAke2NvdW50fSBtb3JlIHVuaXRzLmApOyByZXR1cm47IH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRyYWluaW5nQnVpbGRpbmcgPSBidWlsZGluZ3NbdW5pdEluZm8ucmVxdWlyZWRCdWlsZGluZ10/LlswXTtcbiAgICAgICAgaWYgKCF0cmFpbmluZ0J1aWxkaW5nKSB7IGFkZE5vdGlmaWNhdGlvbihgTm8gJHt1bml0SW5mby5yZXF1aXJlZEJ1aWxkaW5nfSB0byB0cmFpbiB1bml0cy5gKTsgcmV0dXJuOyB9XG5cbiAgICAgICAgaWYgKCF1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsQ29zdDogUmVzb3VyY2VEZWx0YXMgPSB7fTsgY29uc3QgbWlzc2luZzogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVzIGluIHVuaXRJbmZvLmNvc3QpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNvdXJjZUtleSA9IHJlcyBhcyBrZXlvZiBSZXNvdXJjZXM7XG4gICAgICAgICAgICAgICAgY29uc3QgY29zdCA9ICh1bml0SW5mby5jb3N0W3Jlc291cmNlS2V5XSB8fCAwKSAqIGNvdW50O1xuICAgICAgICAgICAgICAgIHRvdGFsQ29zdFtyZXNvdXJjZUtleV0gPSAtY29zdDtcbiAgICAgICAgICAgICAgICBpZiAocmVzb3VyY2VzW3Jlc291cmNlS2V5XSA8IGNvc3QpIG1pc3NpbmcucHVzaChgJHtjb3N0IC0gcmVzb3VyY2VzW3Jlc291cmNlS2V5XX0gJHtyZXNvdXJjZUtleX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtaXNzaW5nLmxlbmd0aCA+IDApIHsgYWRkTm90aWZpY2F0aW9uKGBOZWVkICR7bWlzc2luZy5qb2luKCcgYW5kICcpfS5gKTsgcmV0dXJuOyB9XG4gICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXModG90YWxDb3N0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0cmFpblRpbWUgPSB1bml0SW5mby50cmFpblRpbWUgKiAxMDAwICogY291bnQ7XG4gICAgICAgIGlmKHVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgaGFuZGxlVGFza0NvbXBsZXRpb24oeyBpZDogJ2luc3RhbnQnLCB0eXBlOiAndHJhaW5fbWlsaXRhcnknLCBzdGFydFRpbWU6IDAsIGR1cmF0aW9uOiAwLCBwYXlsb2FkOiB7IHVuaXRUeXBlLCBjb3VudCB9IH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdGFza0lkID0gYCR7RGF0ZS5ub3coKX0tdHJhaW4tJHt1bml0VHlwZX1gO1xuICAgICAgICAgICAgY29uc3QgbmV3VGFzazogR2FtZVRhc2sgPSB7IGlkOiB0YXNrSWQsIHR5cGU6ICd0cmFpbl9taWxpdGFyeScsIHN0YXJ0VGltZTogRGF0ZS5ub3coKSwgZHVyYXRpb246IHRyYWluVGltZSwgcGF5bG9hZDogeyB1bml0VHlwZSwgY291bnQsIGJ1aWxkaW5nSWQ6IHRyYWluaW5nQnVpbGRpbmcuaWQgfSB9O1xuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBbLi4ucHJldiwgbmV3VGFza10pO1xuICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYFRyYWluaW5nICR7Y291bnR9ICR7dW5pdEluZm8ubmFtZX0ocykuLi5gKTtcbiAgICAgICAgICAgIGFkZFRvTG9nKGBCZWdhbiB0cmFpbmluZyAke2NvdW50fSBuZXcgJHt1bml0SW5mby5uYW1lfShzKS5gLCB1bml0VHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVEaXNtaXNzU3BlY2lmaWNVbml0ID0gKHR5cGU6ICd2aWxsYWdlcnMnIHwgJ21pbGl0YXJ5JywgaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAodHlwZSA9PT0gJ3ZpbGxhZ2VycycgJiYgaXNWaWxsYWdlckJ1c3koaWQpKSB7XG4gICAgICAgICAgICBhZGROb3RpZmljYXRpb24oXCJDYW5ub3QgZGlzbWlzcyBhIGJ1c3kgdmlsbGFnZXIuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVuaXQgPSB1bml0c1t0eXBlXS5maW5kKHUgPT4gdS5pZCA9PT0gaWQpO1xuICAgICAgICBpZiAoIXVuaXQpIHJldHVybjtcbiAgICAgICAgaWYgKHR5cGUgPT09ICd2aWxsYWdlcnMnICYmIHVuaXRzLnZpbGxhZ2Vycy5sZW5ndGggPD0gMSkgeyBhZGROb3RpZmljYXRpb24oXCJDYW5ub3QgZGlzbWlzcyB5b3VyIGxhc3QgdmlsbGFnZXIuXCIpOyByZXR1cm47IH1cbiAgICAgICAgc2V0VW5pdHMocHJldiA9PiAoeyAuLi5wcmV2LCBbdHlwZV06IHByZXZbdHlwZV0uZmlsdGVyKHUgPT4gdS5pZCAhPT0gaWQpIH0pKTtcbiAgICAgICAgY29uc3QgdW5pdFR5cGVOYW1lID0gdHlwZSA9PT0gJ3ZpbGxhZ2VycycgPyAndmlsbGFnZXInIDogKHVuaXQgYXMgTWlsaXRhcnlVbml0KS51bml0VHlwZTtcbiAgICAgICAgYWRkVG9Mb2coYCR7dW5pdC5uYW1lfSB0aGUgJHt1bml0VHlwZU5hbWV9IGhhcyBiZWVuIGRpc21pc3NlZC5gLCB0eXBlID09PSAndmlsbGFnZXJzJyA/ICd2aWxsYWdlcicgOiAodW5pdCBhcyBNaWxpdGFyeVVuaXQpLnVuaXRUeXBlKTtcbiAgICAgICAgYWRkTm90aWZpY2F0aW9uKGAke3VuaXQubmFtZX0gd2FzIGRpc21pc3NlZC5gKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlVXBkYXRlVW5pdCA9ICh0eXBlOiAndmlsbGFnZXJzJyB8ICdtaWxpdGFyeScsIGlkOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgdGl0bGU/OiBzdHJpbmcpID0+IHtcbiAgICAgICAgIHNldFVuaXRzKHByZXYgPT4gKHsgLi4ucHJldiwgW3R5cGVdOiBwcmV2W3R5cGVdLm1hcCh1ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodS5pZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZFVuaXQgPSB7IC4uLnUsIG5hbWUgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdtaWxpdGFyeScgJiYgdGl0bGUgIT09IHVuZGVmaW5lZCkgeyAodXBkYXRlZFVuaXQgYXMgTWlsaXRhcnlVbml0KS50aXRsZSA9IHRpdGxlOyB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVkVW5pdDtcbiAgICAgICAgICAgICAgICB9IHJldHVybiB1O1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSkpO1xuICAgICAgICBhZGROb3RpZmljYXRpb24oXCJVbml0IHVwZGF0ZWQuXCIpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVBc3NpZ25WaWxsYWdlcnNUb05vZGUgPSAobm9kZUlkOiBzdHJpbmcsIGNvdW50OiBudW1iZXIpID0+IHtcbiAgICAgICAgY29uc3QgaWRsZVZpbGxhZ2VycyA9IHVuaXRzLnZpbGxhZ2Vycy5maWx0ZXIodiA9PiAhaXNWaWxsYWdlckJ1c3kodi5pZCkpO1xuICAgICAgICBpZiAoY291bnQgPD0gMCkgcmV0dXJuO1xuICAgICAgICBsZXQgY2FwcGVkQ291bnQgPSBNYXRoLm1pbihjb3VudCwgaWRsZVZpbGxhZ2Vycy5sZW5ndGgpO1xuICAgICAgICBpZiAoY2FwcGVkQ291bnQgPT09IDApIHsgYWRkTm90aWZpY2F0aW9uKFwiTm8gaWRsZSB2aWxsYWdlcnMgYXZhaWxhYmxlLlwiKTsgcmV0dXJuOyB9XG4gICAgXG4gICAgICAgIGNvbnN0IHZpbGxhZ2Vyc1RvQXNzaWduID0gaWRsZVZpbGxhZ2Vycy5zbGljZSgwLCBjYXBwZWRDb3VudCk7XG4gICAgICAgIGNvbnN0IHZpbGxhZ2VySWRzVG9Bc3NpZ24gPSB2aWxsYWdlcnNUb0Fzc2lnbi5tYXAodiA9PiB2LmlkKTtcbiAgICBcbiAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHJlc291cmNlTm9kZXMuZmluZChuID0+IG4uaWQgPT09IG5vZGVJZCk7XG4gICAgICAgIGlmICghdGFyZ2V0Tm9kZSkgcmV0dXJuO1xuICAgIFxuICAgICAgICBzZXRSZXNvdXJjZU5vZGVzKHByZXZOb2RlcyA9PiBcbiAgICAgICAgICAgIHByZXZOb2Rlcy5tYXAobiA9PiBuLmlkID09PSBub2RlSWQgPyB7Li4ubiwgYXNzaWduZWRWaWxsYWdlcnM6IFsuLi5uZXcgU2V0KFsuLi5uLmFzc2lnbmVkVmlsbGFnZXJzLCAuLi52aWxsYWdlcklkc1RvQXNzaWduXSldfSA6IG4pXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBpZiAodW5saW1pdGVkUmVzb3VyY2VzKSB7IC8vIEluc3RhbnQgZ2F0aGVyIGZvciB0ZXN0IG1vZGVcbiAgICAgICAgICAgIHVwZGF0ZVJlc291cmNlcyh7IFt0YXJnZXROb2RlLnR5cGVdOiB0YXJnZXROb2RlLmFtb3VudCB9KTtcbiAgICAgICAgICAgIGFkZFRvTG9nKGAke2NhcHBlZENvdW50fSB2aWxsYWdlcihzKSBpbnN0YW50bHkgZ2F0aGVyZWQgJHtNYXRoLmZsb29yKHRhcmdldE5vZGUuYW1vdW50KX0gJHt0YXJnZXROb2RlLnR5cGV9LmAsIHRhcmdldE5vZGUudHlwZSk7XG4gICAgICAgICAgICBzZXRSZXNvdXJjZU5vZGVzKHByZXYgPT4gcHJldi5maWx0ZXIobiA9PiBuLmlkICE9PSBub2RlSWQpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nVGFzayA9IGFjdGl2ZVRhc2tzLmZpbmQodCA9PiB0LnR5cGUgPT09ICdnYXRoZXInICYmIHQucGF5bG9hZD8ucmVzb3VyY2VOb2RlSWQgPT09IG5vZGVJZCk7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdUYXNrKSB7XG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBwcmV2Lm1hcCh0ID0+IHQuaWQgPT09IGV4aXN0aW5nVGFzay5pZCA/IHtcbiAgICAgICAgICAgICAgICAgICAgLi4udCxcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogeyAuLi50LnBheWxvYWQsIHZpbGxhZ2VySWRzOiBbLi4ubmV3IFNldChbLi4udC5wYXlsb2FkIS52aWxsYWdlcklkcyEsIC4uLnZpbGxhZ2VySWRzVG9Bc3NpZ25dKV0gfVxuICAgICAgICAgICAgICAgIH0gOiB0KSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICBjb25zdCBuZXdUYXNrOiBHYW1lVGFzayA9IHsgaWQ6IGBnYXRoZXItJHtub2RlSWR9YCwgdHlwZTogJ2dhdGhlcicsIHN0YXJ0VGltZTogRGF0ZS5ub3coKSwgZHVyYXRpb246IDg2NDAwMDAwLCBwYXlsb2FkOiB7IHJlc291cmNlTm9kZUlkOiBub2RlSWQsIHZpbGxhZ2VySWRzOiB2aWxsYWdlcklkc1RvQXNzaWduIH19OyAvLyBEdXJhdGlvbiBpcyBhcmJpdHJhcnksIGxvb3AgaGFuZGxlcyBjb21wbGV0aW9uXG4gICAgICAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gWy4uLnByZXYsIG5ld1Rhc2tdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICBhZGRUb0xvZyhgJHtjYXBwZWRDb3VudH0gdmlsbGFnZXIocykgYXNzaWduZWQgdG8gZ2F0aGVyICR7dGFyZ2V0Tm9kZS50eXBlfS5gLCB0YXJnZXROb2RlLnR5cGUpO1xuICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgJHtjYXBwZWRDb3VudH0gdmlsbGFnZXIocykgYXJlIG5vdyBnYXRoZXJpbmcgJHt0YXJnZXROb2RlLnR5cGV9LmApO1xuICAgICAgICBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIHRhcmdldElkOiBudWxsLCB0YXJnZXRUeXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVSZWNhbGxWaWxsYWdlcnMgPSAodGFyZ2V0SWQ6IHN0cmluZywgY291bnQ6IG51bWJlciwgdHlwZTogJ3Jlc291cmNlJyB8ICdjb25zdHJ1Y3Rpb24nKSA9PiB7XG4gICAgICAgIGlmICh0eXBlID09PSAncmVzb3VyY2UnKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gcmVzb3VyY2VOb2Rlcy5maW5kKG4gPT4gbi5pZCA9PT0gdGFyZ2V0SWQpO1xuICAgICAgICAgICAgaWYgKCFub2RlIHx8IG5vZGUuYXNzaWduZWRWaWxsYWdlcnMubGVuZ3RoIDwgY291bnQpIHJldHVybjtcbiAgICBcbiAgICAgICAgICAgIGNvbnN0IHZpbGxhZ2Vyc1RvUmVjYWxsID0gbm9kZS5hc3NpZ25lZFZpbGxhZ2Vycy5zbGljZShub2RlLmFzc2lnbmVkVmlsbGFnZXJzLmxlbmd0aCAtIGNvdW50KTtcbiAgICAgICAgICAgIHNldFJlc291cmNlTm9kZXMocHJldiA9PiBwcmV2Lm1hcChuID0+IG4uaWQgPT09IHRhcmdldElkID8geyAuLi5uLCBhc3NpZ25lZFZpbGxhZ2Vyczogbi5hc3NpZ25lZFZpbGxhZ2Vycy5maWx0ZXIoaWQgPT4gIXZpbGxhZ2Vyc1RvUmVjYWxsLmluY2x1ZGVzKGlkKSkgfSA6IG4pKTtcbiAgICBcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IHByZXYuZmluZEluZGV4KHQgPT4gdC50eXBlID09PSAnZ2F0aGVyJyAmJiB0LnBheWxvYWQ/LnJlc291cmNlTm9kZUlkID09PSB0YXJnZXRJZCk7XG4gICAgICAgICAgICAgICAgaWYgKHRhc2tJbmRleCA9PT0gLTEpIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2sgPSBwcmV2W3Rhc2tJbmRleF07XG4gICAgICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nVmlsbGFnZXJzID0gdGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEuZmlsdGVyKGlkID0+ICF2aWxsYWdlcnNUb1JlY2FsbC5pbmNsdWRlcyhpZCkpO1xuICAgIFxuICAgICAgICAgICAgICAgIGlmIChyZW1haW5pbmdWaWxsYWdlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2LmZpbHRlcigoXywgaSkgPT4gaSAhPT0gdGFza0luZGV4KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldi5tYXAoKHQsIGkpID0+IGkgPT09IHRhc2tJbmRleCA/IHsgLi4udCwgcGF5bG9hZDogeyAuLi50LnBheWxvYWQsIHZpbGxhZ2VySWRzOiByZW1haW5pbmdWaWxsYWdlcnMgfSB9IDogdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhZGRUb0xvZyhgJHtjb3VudH0gdmlsbGFnZXIocykgcmVjYWxsZWQgZnJvbSBnYXRoZXJpbmcgJHtub2RlLnR5cGV9LmAsICd2aWxsYWdlcicpO1xuICAgICAgICB9IGVsc2UgeyAvLyBjb25zdHJ1Y3Rpb25cbiAgICAgICAgICAgIGNvbnN0IGNvbnN0cnVjdGlvbiA9IGNvbnN0cnVjdGluZ0J1aWxkaW5ncy5maW5kKGMgPT4gYy5pZCA9PT0gdGFyZ2V0SWQpO1xuICAgICAgICAgICAgY29uc3QgdGFzayA9IGFjdGl2ZVRhc2tzLmZpbmQodCA9PiB0LmlkID09PSB0YXJnZXRJZCk7XG4gICAgICAgICAgICBpZiAoIWNvbnN0cnVjdGlvbiB8fCAhdGFzayB8fCBjb25zdHJ1Y3Rpb24udmlsbGFnZXJJZHMubGVuZ3RoIDwgY291bnQpIHJldHVybjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgdmlsbGFnZXJzVG9SZWNhbGwgPSBjb25zdHJ1Y3Rpb24udmlsbGFnZXJJZHMuc2xpY2UoY29uc3RydWN0aW9uLnZpbGxhZ2VySWRzLmxlbmd0aCAtIGNvdW50KTtcbiAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ1ZpbGxhZ2VycyA9IGNvbnN0cnVjdGlvbi52aWxsYWdlcklkcy5maWx0ZXIoaWQgPT4gIXZpbGxhZ2Vyc1RvUmVjYWxsLmluY2x1ZGVzKGlkKSk7XG4gICAgXG4gICAgICAgICAgICBpZiAocmVtYWluaW5nVmlsbGFnZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihcIkNhbm5vdCByZWNhbGwgdGhlIGxhc3QgYnVpbGRlci4gVGhpcyB3b3VsZCBjYW5jZWwgdGhlIHByb2plY3QuXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IEJVSUxESU5HU19JTkZPLmZpbmQoYiA9PiBiLmlkID09PSBjb25zdHJ1Y3Rpb24udHlwZSkhO1xuICAgICAgICAgICAgY29uc3QgdG90YWxXb3JrID0gYnVpbGRpbmdJbmZvLmJ1aWxkVGltZSAqIDEwMDA7XG4gICAgICAgICAgICBjb25zdCBvbGRXb3JrZXJDb3VudCA9IGNvbnN0cnVjdGlvbi52aWxsYWdlcklkcy5sZW5ndGg7XG4gICAgXG4gICAgICAgICAgICBjb25zdCB0aW1lRWxhcHNlZCA9IERhdGUubm93KCkgLSB0YXNrLnN0YXJ0VGltZTtcbiAgICAgICAgICAgIGNvbnN0IHdvcmtEb25lID0gdGltZUVsYXBzZWQgKiBvbGRXb3JrZXJDb3VudDtcbiAgICAgICAgICAgIGNvbnN0IHdvcmtSZW1haW5pbmcgPSBNYXRoLm1heCgwLCB0b3RhbFdvcmsgLSB3b3JrRG9uZSk7XG4gICAgXG4gICAgICAgICAgICBjb25zdCBuZXdXb3JrZXJDb3VudCA9IHJlbWFpbmluZ1ZpbGxhZ2Vycy5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBuZXdSZW1haW5pbmdEdXJhdGlvbiA9IHdvcmtSZW1haW5pbmcgLyBuZXdXb3JrZXJDb3VudDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc2V0Q29uc3RydWN0aW5nQnVpbGRpbmdzKHByZXYgPT4gcHJldi5tYXAoYyA9PiBjLmlkID09PSB0YXJnZXRJZCA/IHsgLi4uYywgdmlsbGFnZXJJZHM6IHJlbWFpbmluZ1ZpbGxhZ2VycyB9IDogYykpO1xuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBwcmV2Lm1hcCh0ID0+IHQuaWQgPT09IHRhcmdldElkID8ge1xuICAgICAgICAgICAgICAgIC4uLnQsXG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBuZXdSZW1haW5pbmdEdXJhdGlvbixcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7IC4uLnQucGF5bG9hZCwgdmlsbGFnZXJJZHM6IHJlbWFpbmluZ1ZpbGxhZ2VycyB9XG4gICAgICAgICAgICB9IDogdCkpO1xuICAgICAgICAgICAgYWRkVG9Mb2coYCR7Y291bnR9IHZpbGxhZ2VyKHMpIHJlY2FsbGVkIGZyb20gY29uc3RydWN0aW9uLiBXb3JrIHdpbGwgbm93IHByb2NlZWQgc2xvd2VyLmAsICd2aWxsYWdlcicpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdGFyZ2V0SWQ6IG51bGwsIHRhcmdldFR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUFzc2lnblZpbGxhZ2Vyc1RvQ29uc3RydWN0aW9uID0gKGNvbnN0cnVjdGlvbklkOiBzdHJpbmcsIGNvdW50OiBudW1iZXIpID0+IHtcbiAgICAgICAgY29uc3QgaWRsZVZpbGxhZ2VycyA9IHVuaXRzLnZpbGxhZ2Vycy5maWx0ZXIodiA9PiAhaXNWaWxsYWdlckJ1c3kodi5pZCkpO1xuICAgICAgICBpZiAoY291bnQgPD0gMCkgcmV0dXJuO1xuICAgICAgICBsZXQgY2FwcGVkQ291bnQgPSBNYXRoLm1pbihjb3VudCwgaWRsZVZpbGxhZ2Vycy5sZW5ndGgpO1xuICAgICAgICBpZiAoY2FwcGVkQ291bnQgPT09IDApIHsgYWRkTm90aWZpY2F0aW9uKFwiTm8gaWRsZSB2aWxsYWdlcnMgYXZhaWxhYmxlIHRvIGFzc2lzdC5cIik7IHJldHVybjsgfVxuXG4gICAgICAgIGNvbnN0IHZpbGxhZ2Vyc1RvQXNzaWduID0gaWRsZVZpbGxhZ2Vycy5zbGljZSgwLCBjYXBwZWRDb3VudCkubWFwKHYgPT4gdi5pZCk7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBhY3RpdmVUYXNrcy5maW5kKHQgPT4gdC5pZCA9PT0gY29uc3RydWN0aW9uSWQpO1xuICAgICAgICBjb25zdCBjb25zdHJ1Y3Rpb24gPSBjb25zdHJ1Y3RpbmdCdWlsZGluZ3MuZmluZChjID0+IGMuaWQgPT09IGNvbnN0cnVjdGlvbklkKTtcblxuICAgICAgICBpZiAoIXRhc2sgfHwgIWNvbnN0cnVjdGlvbikgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IEJVSUxESU5HU19JTkZPLmZpbmQoYiA9PiBiLmlkID09PSBjb25zdHJ1Y3Rpb24udHlwZSk7XG4gICAgICAgIGlmICghYnVpbGRpbmdJbmZvKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgYmFzZUR1cmF0aW9uID0gYnVpbGRpbmdJbmZvLmJ1aWxkVGltZSAqIDEwMDA7XG4gICAgICAgIGNvbnN0IG9sZFdvcmtlckNvdW50ID0gdGFzay5wYXlsb2FkPy52aWxsYWdlcklkcz8ubGVuZ3RoIHx8IDE7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0aW1lRWxhcHNlZCA9IERhdGUubm93KCkgLSB0YXNrLnN0YXJ0VGltZTtcbiAgICAgICAgY29uc3Qgd29ya0RvbmUgPSB0aW1lRWxhcHNlZCAqIG9sZFdvcmtlckNvdW50O1xuICAgICAgICBjb25zdCB0b3RhbFdvcmsgPSBiYXNlRHVyYXRpb247XG4gICAgICAgIGNvbnN0IHdvcmtSZW1haW5pbmcgPSBNYXRoLm1heCgwLCB0b3RhbFdvcmsgLSB3b3JrRG9uZSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBuZXdXb3JrZXJDb3VudCA9IG9sZFdvcmtlckNvdW50ICsgY2FwcGVkQ291bnQ7XG4gICAgICAgIGNvbnN0IG5ld1JlbWFpbmluZ0R1cmF0aW9uID0gd29ya1JlbWFpbmluZyAvIG5ld1dvcmtlckNvdW50O1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdXBkYXRlZFZpbGxhZ2VySWRzID0gWy4uLnRhc2sucGF5bG9hZCEudmlsbGFnZXJJZHMhLCAuLi52aWxsYWdlcnNUb0Fzc2lnbl07XG5cbiAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBwcmV2Lm1hcCh0ID0+IHQuaWQgPT09IGNvbnN0cnVjdGlvbklkID8ge1xuICAgICAgICAgICAgLi4udCxcbiAgICAgICAgICAgIHN0YXJ0VGltZTogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBuZXdSZW1haW5pbmdEdXJhdGlvbixcbiAgICAgICAgICAgIHBheWxvYWQ6IHsgLi4udC5wYXlsb2FkLCB2aWxsYWdlcklkczogdXBkYXRlZFZpbGxhZ2VySWRzIH1cbiAgICAgICAgfSA6IHQpKTtcblxuICAgICAgICBzZXRDb25zdHJ1Y3RpbmdCdWlsZGluZ3MocHJldiA9PiBwcmV2Lm1hcChjID0+IGMuaWQgPT09IGNvbnN0cnVjdGlvbklkID8ge1xuICAgICAgICAgICAgLi4uYyxcbiAgICAgICAgICAgIHZpbGxhZ2VySWRzOiB1cGRhdGVkVmlsbGFnZXJJZHNcbiAgICAgICAgfSA6IGMpKTtcblxuICAgICAgICBhZGRUb0xvZyhgJHtjYXBwZWRDb3VudH0gdmlsbGFnZXIocykgYXJlIG5vdyBhc3Npc3Rpbmcgd2l0aCB0aGUgJHtidWlsZGluZ0luZm8ubmFtZX0uYCwgYnVpbGRpbmdJbmZvLmlkKTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYENvbnN0cnVjdGlvbiBvZiB0aGUgJHtidWlsZGluZ0luZm8ubmFtZX0gaXMgbm93IGZhc3Rlci5gKTtcbiAgICAgICAgc2V0QXNzaWdubWVudFBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQXNzaWduVmlsbGFnZXJzID0gKHRhcmdldElkOiBzdHJpbmcsIGNvdW50OiBudW1iZXIpID0+IHtcbiAgICAgICAgaWYgKGFzc2lnbm1lbnRQYW5lbFN0YXRlLnRhcmdldFR5cGUgPT09ICdyZXNvdXJjZScpIHtcbiAgICAgICAgICAgIGhhbmRsZUFzc2lnblZpbGxhZ2Vyc1RvTm9kZSh0YXJnZXRJZCwgY291bnQpO1xuICAgICAgICB9IGVsc2UgaWYgKGFzc2lnbm1lbnRQYW5lbFN0YXRlLnRhcmdldFR5cGUgPT09ICdjb25zdHJ1Y3Rpb24nKSB7XG4gICAgICAgICAgICBoYW5kbGVBc3NpZ25WaWxsYWdlcnNUb0NvbnN0cnVjdGlvbih0YXJnZXRJZCwgY291bnQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUFkdmFuY2VBZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmIChhY3RpdmVUYXNrcy5zb21lKHQgPT4gdC50eXBlID09PSAnYWR2YW5jZV9hZ2UnKSkgeyBhZGROb3RpZmljYXRpb24oXCJBZHZhbmNlbWVudCBhbHJlYWR5IGluIHByb2dyZXNzLlwiKTsgcmV0dXJuOyB9XG4gICAgICAgIGlmICghdW5saW1pdGVkUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICBpZiAocmVzb3VyY2VzLmZvb2QgPCA1MDAgfHwgcmVzb3VyY2VzLmdvbGQgPCAyMDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtaXNzaW5nOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZXMuZm9vZCA8IDUwMCkgbWlzc2luZy5wdXNoKGAkezUwMCAtIHJlc291cmNlcy5mb29kfSBGb29kYCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlcy5nb2xkIDwgMjAwKSBtaXNzaW5nLnB1c2goYCR7MjAwIC0gcmVzb3VyY2VzLmdvbGR9IEdvbGRgKTtcbiAgICAgICAgICAgICAgICBhZGROb3RpZmljYXRpb24oYFRvIGFkdmFuY2UsIHlvdSBuZWVkICR7bWlzc2luZy5qb2luKCcgYW5kICcpfS5gKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXMoeyBmb29kOiAtNTAwLCBnb2xkOiAtMjAwIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gNjAwMDA7XG4gICAgICAgIGlmKHVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgaGFuZGxlVGFza0NvbXBsZXRpb24oeyBpZDogJ2luc3RhbnQnLCB0eXBlOiAnYWR2YW5jZV9hZ2UnLCBzdGFydFRpbWU6IDAsIGR1cmF0aW9uOiAwIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdGFza0lkID0gYCR7RGF0ZS5ub3coKX0tYWR2YW5jZV9hZ2VgO1xuICAgICAgICAgICAgY29uc3QgbmV3VGFzazogR2FtZVRhc2sgPSB7IGlkOiB0YXNrSWQsIHR5cGU6ICdhZHZhbmNlX2FnZScsIHN0YXJ0VGltZTogRGF0ZS5ub3coKSwgZHVyYXRpb24gfTtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gWy4uLnByZXYsIG5ld1Rhc2tdKTtcbiAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBZb3VyIHBlb3BsZSBiZWdpbiB0aGUgbG9uZyBqb3VybmV5IHRvIGEgbmV3IGFnZS5gKTtcbiAgICAgICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgY29uc3QgaGFuZGxlRXhpdEdhbWUgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHNldEN1cnJlbnRTYXZlTmFtZShudWxsKTtcbiAgICAgICAgYXdhaXQgZmV0Y2hTYXZlcygpO1xuICAgICAgICBzZXRHYW1lU3RhdGUoR2FtZVN0YXR1cy5NRU5VKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlVG9nZ2xlVW5saW1pdGVkUmVzb3VyY2VzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdNb2RlID0gIXVubGltaXRlZFJlc291cmNlcztcbiAgICAgICAgc2V0VW5saW1pdGVkUmVzb3VyY2VzKG5ld01vZGUpO1xuICAgICAgICBpZiAobmV3TW9kZSkge1xuICAgICAgICAgICAgc2V0UmVzb3VyY2VzKHsgZm9vZDogOTk5OTksIHdvb2Q6IDk5OTk5LCBnb2xkOiA5OTk5OSwgc3RvbmU6IDk5OTk5IH0pO1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiVGVzdCBNb2RlOiBPTlwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihcIlRlc3QgTW9kZTogT0ZGXCIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGJ1aWxkaW5nQ291bnRzID0gT2JqZWN0LmtleXMoYnVpbGRpbmdzKS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nVHlwZSA9IGtleSBhcyBCdWlsZGluZ1R5cGU7XG4gICAgICAgIGFjY1tidWlsZGluZ1R5cGVdID0gYnVpbGRpbmdzW2J1aWxkaW5nVHlwZV0ubGVuZ3RoO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9IGFzIFJlY29yZDxCdWlsZGluZ1R5cGUsIG51bWJlcj4pO1xuICAgIFxuICAgIGNvbnN0IGlkbGVWaWxsYWdlckNvdW50ID0gdW5pdHMudmlsbGFnZXJzLmZpbHRlcih2ID0+ICFpc1ZpbGxhZ2VyQnVzeSh2LmlkKSkubGVuZ3RoO1xuICAgIFxuICAgIGNvbnN0IGFzc2lnbm1lbnRUYXJnZXQgPSBhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRUeXBlID09PSAncmVzb3VyY2UnXG4gICAgICAgID8gcmVzb3VyY2VOb2Rlcy5maW5kKG4gPT4gbi5pZCA9PT0gYXNzaWdubWVudFBhbmVsU3RhdGUudGFyZ2V0SWQpXG4gICAgICAgIDogY29uc3RydWN0aW5nQnVpbGRpbmdzLmZpbmQoYyA9PiBjLmlkID09PSBhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRJZCk7XG5cbiAgICBjb25zdCBjbG9zZUFsbFBhbmVscyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgc2V0VW5pdE1hbmFnZW1lbnRQYW5lbChwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICAgICAgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwocCA9PiBwLmlzT3BlbiA/IHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgaW5zdGFuY2VJZDogdW5kZWZpbmVkLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICAgICAgc2V0QnVpbGRQYW5lbFN0YXRlKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIHZpbGxhZ2VySWQ6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgICAgICBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZShwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgICAgIHNldFNldHRpbmdzUGFuZWxTdGF0ZShwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICAgICAgc2V0Q2l2UGFuZWxTdGF0ZShwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICAgICAgc2V0QWxsQnVpbGRpbmdzUGFuZWwocCA9PiBwLmlzT3BlbiA/IHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgaGFuZGxlT3BlbkJ1aWxkaW5nUGFuZWwgPSB1c2VDYWxsYmFjaygodHlwZTogQnVpbGRpbmdUeXBlLCBpbnN0YW5jZUlkOiBzdHJpbmcsIHJlY3Q6IERPTVJlY3QpID0+IHtcbiAgICAgICAgY2xvc2VBbGxQYW5lbHMoKTtcbiAgICAgICAgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IHRydWUsIHR5cGUsIGluc3RhbmNlSWQsIGFuY2hvclJlY3Q6IHJlY3QgfSk7XG4gICAgfSwgW2Nsb3NlQWxsUGFuZWxzXSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBoYW5kbGVDbGlja091dHNpZGUgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlzQW55UGFuZWxPcGVuID0gdW5pdE1hbmFnZW1lbnRQYW5lbC5pc09wZW4gfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsLmlzT3BlbiB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRQYW5lbFN0YXRlLmlzT3BlbiB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWdubWVudFBhbmVsU3RhdGUuaXNPcGVuIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc1BhbmVsU3RhdGUuaXNPcGVuIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpdlBhbmVsU3RhdGUuaXNPcGVuIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbEJ1aWxkaW5nc1BhbmVsLmlzT3BlbjtcblxuICAgICAgICAgICAgaWYgKCFpc0FueVBhbmVsT3Blbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEVsZW1lbnQ7XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLnNjaS1maS1wYW5lbC1wb3B1cCcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjbG9zZUFsbFBhbmVscygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpO1xuICAgICAgICB9O1xuICAgIH0sIFtcbiAgICAgICAgdW5pdE1hbmFnZW1lbnRQYW5lbC5pc09wZW4sIFxuICAgICAgICBidWlsZGluZ01hbmFnZW1lbnRQYW5lbC5pc09wZW4sXG4gICAgICAgIGJ1aWxkUGFuZWxTdGF0ZS5pc09wZW4sXG4gICAgICAgIGFzc2lnbm1lbnRQYW5lbFN0YXRlLmlzT3BlbixcbiAgICAgICAgc2V0dGluZ3NQYW5lbFN0YXRlLmlzT3BlbixcbiAgICAgICAgY2l2UGFuZWxTdGF0ZS5pc09wZW4sXG4gICAgICAgIGFsbEJ1aWxkaW5nc1BhbmVsLmlzT3BlbixcbiAgICAgICAgY2xvc2VBbGxQYW5lbHNcbiAgICBdKTtcblxuICAgIGNvbnN0IHJlbmRlckNvbnRlbnQgPSAoKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoZ2FtZVN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVTdGF0dXMuTUVOVTpcbiAgICAgICAgICAgICAgICByZXR1cm4gPFN0YXJ0U2NyZWVuIG9uTmV3R2FtZT17aGFuZGxlU3RhcnROZXdHYW1lfSBvblJlc3VtZUdhbWU9e2hhbmRsZVJlc3VtZUdhbWV9IHNhdmVkR2FtZXM9e2FsbFNhdmVzfSAvPjtcbiAgICAgICAgICAgIGNhc2UgR2FtZVN0YXR1cy5MT0FESU5HOlxuICAgICAgICAgICAgICAgIHJldHVybiA8TG9hZGluZ1NjcmVlbiAvPjtcbiAgICAgICAgICAgIGNhc2UgR2FtZVN0YXR1cy5QTEFZSU5HOlxuICAgICAgICAgICAgICAgIGlmICghY2l2aWxpemF0aW9uKSByZXR1cm4gPExvYWRpbmdTY3JlZW4gLz47XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxHYW1lVUlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXZpbGl6YXRpb249e2NpdmlsaXphdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZXM9e3Jlc291cmNlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bml0cz17dW5pdHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdzPXtidWlsZGluZ3N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGlvbj17cG9wdWxhdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50QWdlPXtjdXJyZW50QWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVMb2c9e2dhbWVMb2d9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEV2ZW50PXtjdXJyZW50RXZlbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25FdmVudENob2ljZT17aGFuZGxlRXZlbnRDaG9pY2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VEZWx0YXM9e3Jlc291cmNlRGVsdGFzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5U3RhdHVzPXthY3Rpdml0eVN0YXR1c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bml0TGlzdD17VU5JVF9JTkZPfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nTGlzdD17QlVJTERJTkdTX0lORk99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuVW5pdFBhbmVsPXsodHlwZSwgcmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRVbml0TWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiB0cnVlLCB0eXBlLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkJ1aWxkaW5nUGFuZWw9e2hhbmRsZU9wZW5CdWlsZGluZ1BhbmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkFsbEJ1aWxkaW5nc1BhbmVsPXsocmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRBbGxCdWlsZGluZ3NQYW5lbCh7IGlzT3BlbjogdHJ1ZSwgYW5jaG9yUmVjdDogcmVjdCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJBY3Rpb249e3BsYXllckFjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm1QbGFjZW1lbnQ9e2hhbmRsZUNvbmZpcm1QbGFjZW1lbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DYW5jZWxQbGF5ZXJBY3Rpb249e2hhbmRsZUNhbmNlbFBsYXllckFjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkJ1aWxkaW5nQ2xpY2s9eyhidWlsZGluZywgcmVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZUFsbFBhbmVscygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gT2JqZWN0LmtleXMoYnVpbGRpbmdzKS5maW5kKGtleSA9PiBidWlsZGluZ3Nba2V5IGFzIEJ1aWxkaW5nVHlwZV0uc29tZShiID0+IGIuaWQgPT09IGJ1aWxkaW5nLmlkKSkgYXMgQnVpbGRpbmdUeXBlIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0eXBlKSBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogdHJ1ZSwgdHlwZSwgaW5zdGFuY2VJZDogYnVpbGRpbmcuaWQsIGFuY2hvclJlY3Q6IHJlY3QgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBEaW1lbnNpb25zPXtNQVBfRElNRU5TSU9OU31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdHJ1Y3RpbmdCdWlsZGluZ3M9e2NvbnN0cnVjdGluZ0J1aWxkaW5nc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVUYXNrcz17YWN0aXZlVGFza3N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25FeGl0R2FtZT17aGFuZGxlRXhpdEdhbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuU2V0dGluZ3NQYW5lbD17KHJlY3QpID0+IHsgY2xvc2VBbGxQYW5lbHMoKTsgc2V0U2V0dGluZ3NQYW5lbFN0YXRlKHsgaXNPcGVuOiB0cnVlLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkNpdlBhbmVsPXsocmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRDaXZQYW5lbFN0YXRlKHsgaXNPcGVuOiB0cnVlLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlTm9kZXM9e3Jlc291cmNlTm9kZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuQXNzaWdubWVudFBhbmVsPXsobm9kZUlkLCByZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiB0cnVlLCB0YXJnZXRJZDogbm9kZUlkLCB0YXJnZXRUeXBlOiAncmVzb3VyY2UnLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkNvbnN0cnVjdGlvblBhbmVsPXsoY29uc3RydWN0aW9uSWQsIHJlY3QpID0+IHsgY2xvc2VBbGxQYW5lbHMoKTsgc2V0QXNzaWdubWVudFBhbmVsU3RhdGUoeyBpc09wZW46IHRydWUsIHRhcmdldElkOiBjb25zdHJ1Y3Rpb25JZCwgdGFyZ2V0VHlwZTogJ2NvbnN0cnVjdGlvbicsIGFuY2hvclJlY3Q6IHJlY3QgfSk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2F0aGVySW5mbz17R0FUSEVSX0lORk99XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1aWxkUGFuZWwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPcGVuPXtidWlsZFBhbmVsU3RhdGUuaXNPcGVufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldEJ1aWxkUGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIHZpbGxhZ2VySWQ6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TdGFydFBsYWNlbWVudD17aGFuZGxlU3RhcnRQbGFjZW1lbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VzPXtyZXNvdXJjZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdDb3VudHM9e2J1aWxkaW5nQ291bnRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nTGlzdD17QlVJTERJTkdTX0lORk99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yUmVjdD17YnVpbGRQYW5lbFN0YXRlLmFuY2hvclJlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFuZWxPcGFjaXR5PXtwYW5lbE9wYWNpdHl9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFVuaXRNYW5hZ2VtZW50UGFuZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW49e3VuaXRNYW5hZ2VtZW50UGFuZWwuaXNPcGVufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldFVuaXRNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9e3VuaXRNYW5hZ2VtZW50UGFuZWwudHlwZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bml0cz17dW5pdHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25VcGRhdGVVbml0PXtoYW5kbGVVcGRhdGVVbml0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRGlzbWlzc1VuaXQ9e2hhbmRsZURpc21pc3NTcGVjaWZpY1VuaXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Jbml0aWF0ZUJ1aWxkPXsodmlsbGFnZXJJZCwgcmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBoYW5kbGVJbml0aWF0ZUJ1aWxkKHZpbGxhZ2VySWQsIHJlY3QpOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldFZpbGxhZ2VyVGFza0RldGFpbHM9e2dldFZpbGxhZ2VyVGFza0RldGFpbHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yUmVjdD17dW5pdE1hbmFnZW1lbnRQYW5lbC5hbmNob3JSZWN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhbmVsT3BhY2l0eT17cGFuZWxPcGFjaXR5fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdWlsZGluZ01hbmFnZW1lbnRQYW5lbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT3Blbj17YnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwuaXNPcGVufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYW5lbFN0YXRlPXtidWlsZGluZ01hbmFnZW1lbnRQYW5lbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZGluZ3M9e2J1aWxkaW5nc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZGluZ0xpc3Q9e0JVSUxESU5HU19JTkZPfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlQnVpbGRpbmc9e2hhbmRsZVVwZGF0ZUJ1aWxkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRGVtb2xpc2hCdWlsZGluZz17aGFuZGxlRGVtb2xpc2hCdWlsZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblRyYWluVW5pdHM9e2hhbmRsZVRyYWluVW5pdHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25UcmFpblZpbGxhZ2Vycz17aGFuZGxlVHJhaW5WaWxsYWdlcnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VzPXtyZXNvdXJjZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGlvbj17cG9wdWxhdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bml0TGlzdD17VU5JVF9JTkZPfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQWR2YW5jZUFnZT17aGFuZGxlQWR2YW5jZUFnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVUYXNrcz17YWN0aXZlVGFza3N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yUmVjdD17YnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwuYW5jaG9yUmVjdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYW5lbE9wYWNpdHk9e3BhbmVsT3BhY2l0eX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UmVzb3VyY2VBc3NpZ25tZW50UGFuZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW49e2Fzc2lnbm1lbnRQYW5lbFN0YXRlLmlzT3Blbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIHRhcmdldElkOiBudWxsLCB0YXJnZXRUeXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbm1lbnRUYXJnZXQ9e2Fzc2lnbm1lbnRUYXJnZXQgfHwgbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGxlVmlsbGFnZXJDb3VudD17aWRsZVZpbGxhZ2VyQ291bnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Bc3NpZ25WaWxsYWdlcnM9e2hhbmRsZUFzc2lnblZpbGxhZ2Vyc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblJlY2FsbFZpbGxhZ2Vycz17aGFuZGxlUmVjYWxsVmlsbGFnZXJzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhdGhlckluZm89e0dBVEhFUl9JTkZPfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nTGlzdD17QlVJTERJTkdTX0lORk99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yUmVjdD17YXNzaWdubWVudFBhbmVsU3RhdGUuYW5jaG9yUmVjdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYW5lbE9wYWNpdHk9e3BhbmVsT3BhY2l0eX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2V0dGluZ3NQYW5lbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT3Blbj17c2V0dGluZ3NQYW5lbFN0YXRlLmlzT3Blbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRTZXR0aW5nc1BhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclJlY3Q9e3NldHRpbmdzUGFuZWxTdGF0ZS5hbmNob3JSZWN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk9e3BhbmVsT3BhY2l0eX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wYWNpdHlDaGFuZ2U9e3NldFBhbmVsT3BhY2l0eX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2l2aWxpemF0aW9uUGFuZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW49e2NpdlBhbmVsU3RhdGUuaXNPcGVufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldENpdlBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpdmlsaXphdGlvbj17Y2l2aWxpemF0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclJlY3Q9e2NpdlBhbmVsU3RhdGUuYW5jaG9yUmVjdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYW5lbE9wYWNpdHk9e3BhbmVsT3BhY2l0eX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QWxsQnVpbGRpbmdzUGFuZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW49e2FsbEJ1aWxkaW5nc1BhbmVsLmlzT3Blbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRBbGxCdWlsZGluZ3NQYW5lbCh7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdMaXN0PXtCVUlMRElOR1NfSU5GT31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZGluZ0NvdW50cz17YnVpbGRpbmdDb3VudHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3RydWN0aW5nQnVpbGRpbmdzPXtjb25zdHJ1Y3RpbmdCdWlsZGluZ3N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuQnVpbGRpbmdQYW5lbD17aGFuZGxlT3BlbkJ1aWxkaW5nUGFuZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yUmVjdD17YWxsQnVpbGRpbmdzUGFuZWwuYW5jaG9yUmVjdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYW5lbE9wYWNpdHk9e3BhbmVsT3BhY2l0eX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiA8U3RhcnRTY3JlZW4gb25OZXdHYW1lPXtoYW5kbGVTdGFydE5ld0dhbWV9IG9uUmVzdW1lR2FtZT17aGFuZGxlUmVzdW1lR2FtZX0gc2F2ZWRHYW1lcz17YWxsU2F2ZXN9IC8+O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLXN0b25lLWRhcmsgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC00XCI+XG4gICAgICAgICAgICB7Z2FtZVN0YXRlID09PSBHYW1lU3RhdHVzLlBMQVlJTkcgJiYgKFxuICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZVVubGltaXRlZFJlc291cmNlc31cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgYm90dG9tLTQgbGVmdC00IHotWzEwMV0gYmctYnJhbmQtZ29sZCB0ZXh0LXN0b25lLWRhcmsgZm9udC1ib2xkIHB5LTEgcHgtMyByb3VuZGVkLWZ1bGwgdGV4dC14cyBzaGFkb3ctbGcgaG92ZXI6c2NhbGUtMTA1IHRyYW5zaXRpb24tdHJhbnNmb3JtXCJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlRvZ2dsZSB1bmxpbWl0ZWQgcmVzb3VyY2VzIHRlc3QgbW9kZVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBUZXN0IE1vZGU6IHt1bmxpbWl0ZWRSZXNvdXJjZXMgPyAnT04nIDogJ09GRid9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPE5vdGlmaWNhdGlvbk1hbmFnZXIgbm90aWZpY2F0aW9ucz17bm90aWZpY2F0aW9uc30gb25SZW1vdmVOb3RpZmljYXRpb249e3JlbW92ZU5vdGlmaWNhdGlvbn0gLz5cbiAgICAgICAgICAgIDxtYWluIGNsYXNzTmFtZT1cInctZnVsbCBtYXgtdy03eGwgbXgtYXV0b1wiPlxuICAgICAgICAgICAgICAgIHtyZW5kZXJDb250ZW50KCl9XG4gICAgICAgICAgICA8L21haW4+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBHYW1lUGFnZTtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJHYW1lU3RhdHVzIiwiZ2V0UHJlZGVmaW5lZENpdmlsaXphdGlvbiIsImdldFByZWRlZmluZWRHYW1lRXZlbnQiLCJnZXRQcmVkZWZpbmVkQWdlIiwic2F2ZUdhbWVTdGF0ZSIsImxvYWRHYW1lU3RhdGUiLCJnZXRBbGxTYXZlTmFtZXMiLCJnZXRSYW5kb21OYW1lcyIsIkdhbWVVSSIsIlN0YXJ0U2NyZWVuIiwiTG9hZGluZ1NjcmVlbiIsIkJ1aWxkUGFuZWwiLCJOb3RpZmljYXRpb25NYW5hZ2VyIiwiVW5pdE1hbmFnZW1lbnRQYW5lbCIsIkJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsIiwiUmVzb3VyY2VBc3NpZ25tZW50UGFuZWwiLCJTZXR0aW5nc1BhbmVsIiwiQ2l2aWxpemF0aW9uUGFuZWwiLCJBbGxCdWlsZGluZ3NQYW5lbCIsIkJVSUxESU5HU19JTkZPIiwiaWQiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJjb3N0Iiwid29vZCIsImlzVW5pcXVlIiwiYnVpbGRUaW1lIiwic3RvbmUiLCJnb2xkIiwiVU5JVF9JTkZPIiwiZm9vZCIsInJlcXVpcmVkQnVpbGRpbmciLCJ0cmFpblRpbWUiLCJHQVRIRVJfSU5GTyIsInJhdGUiLCJpbml0aWFsQnVpbGRpbmdzU3RhdGUiLCJob3VzZXMiLCJiYXJyYWNrcyIsImFyY2hlcnlSYW5nZSIsInN0YWJsZSIsInNpZWdlV29ya3Nob3AiLCJibGFja3NtaXRoIiwid2F0Y2hUb3dlciIsInRvd25DZW50ZXIiLCJNQVBfRElNRU5TSU9OUyIsIndpZHRoIiwiaGVpZ2h0IiwiR2FtZVBhZ2UiLCJidWlsZGluZ3MiLCJnYW1lU3RhdGUiLCJzZXRHYW1lU3RhdGUiLCJNRU5VIiwiY2l2aWxpemF0aW9uIiwic2V0Q2l2aWxpemF0aW9uIiwicmVzb3VyY2VzIiwic2V0UmVzb3VyY2VzIiwidW5pdHMiLCJzZXRVbml0cyIsInZpbGxhZ2VycyIsIm1pbGl0YXJ5Iiwic2V0QnVpbGRpbmdzIiwiY3VycmVudEFnZSIsInNldEN1cnJlbnRBZ2UiLCJnYW1lTG9nIiwic2V0R2FtZUxvZyIsImN1cnJlbnRFdmVudCIsInNldEN1cnJlbnRFdmVudCIsInJlc291cmNlRGVsdGFzIiwic2V0UmVzb3VyY2VEZWx0YXMiLCJhY3Rpdml0eVN0YXR1cyIsInNldEFjdGl2aXR5U3RhdHVzIiwibm90aWZpY2F0aW9ucyIsInNldE5vdGlmaWNhdGlvbnMiLCJ1bmxpbWl0ZWRSZXNvdXJjZXMiLCJzZXRVbmxpbWl0ZWRSZXNvdXJjZXMiLCJhbGxTYXZlcyIsInNldEFsbFNhdmVzIiwiY3VycmVudFNhdmVOYW1lIiwic2V0Q3VycmVudFNhdmVOYW1lIiwicGxheWVyQWN0aW9uIiwic2V0UGxheWVyQWN0aW9uIiwiYWN0aXZlVGFza3MiLCJzZXRBY3RpdmVUYXNrcyIsImNvbnN0cnVjdGluZ0J1aWxkaW5ncyIsInNldENvbnN0cnVjdGluZ0J1aWxkaW5ncyIsInJlc291cmNlTm9kZXMiLCJzZXRSZXNvdXJjZU5vZGVzIiwicGFuZWxPcGFjaXR5Iiwic2V0UGFuZWxPcGFjaXR5IiwiYnVpbGRQYW5lbFN0YXRlIiwic2V0QnVpbGRQYW5lbFN0YXRlIiwiaXNPcGVuIiwidmlsbGFnZXJJZCIsImFuY2hvclJlY3QiLCJ1bml0TWFuYWdlbWVudFBhbmVsIiwic2V0VW5pdE1hbmFnZW1lbnRQYW5lbCIsInR5cGUiLCJidWlsZGluZ01hbmFnZW1lbnRQYW5lbCIsInNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsIiwiYWxsQnVpbGRpbmdzUGFuZWwiLCJzZXRBbGxCdWlsZGluZ3NQYW5lbCIsImFzc2lnbm1lbnRQYW5lbFN0YXRlIiwic2V0QXNzaWdubWVudFBhbmVsU3RhdGUiLCJ0YXJnZXRJZCIsInRhcmdldFR5cGUiLCJzZXR0aW5nc1BhbmVsU3RhdGUiLCJzZXRTZXR0aW5nc1BhbmVsU3RhdGUiLCJjaXZQYW5lbFN0YXRlIiwic2V0Q2l2UGFuZWxTdGF0ZSIsImRlbHRhVGltZW91dFJlZiIsImV2ZW50VGltZXJSZWYiLCJwb3B1bGF0aW9uIiwiY3VycmVudCIsImxlbmd0aCIsImNhcGFjaXR5IiwiZmV0Y2hTYXZlcyIsIm5hbWVzIiwiUExBWUlORyIsImZ1bGxTdGF0ZSIsImFkZE5vdGlmaWNhdGlvbiIsIm1lc3NhZ2UiLCJNYXRoIiwiRGF0ZSIsIm5vdyIsInJhbmRvbSIsInByZXYiLCJyZW1vdmVOb3RpZmljYXRpb24iLCJmaWx0ZXIiLCJuIiwiYWRkVG9Mb2ciLCJpY29uIiwic2xpY2UiLCJ1cGRhdGVSZXNvdXJjZXMiLCJkZWx0YXMiLCJuZXdSZXNvdXJjZXMiLCJrZXkiLCJyZXNvdXJjZUtleSIsIm1heCIsIndpbmRvdyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJuZXdEZWx0YXMiLCJoYW5kbGVUYXNrQ29tcGxldGlvbiIsInRhc2siLCJidWlsZGluZ1R5cGUiLCJ2aWxsYWdlcklkcyIsInBvc2l0aW9uIiwicGF5bG9hZCIsImJ1aWxkaW5nSW5mbyIsImZpbmQiLCJiIiwibmV3QnVpbGRpbmciLCJwIiwiY291bnQiLCJuZXdWaWxsYWdlck5hbWVzIiwibmV3VmlsbGFnZXJzIiwibWFwIiwidW5pdFR5cGUiLCJ1bml0SW5mbyIsInUiLCJuZXdVbml0TmFtZXMiLCJuZXdVbml0cyIsInRpdGxlIiwiYWdlUmVzdWx0IiwibmV4dEFnZU5hbWUiLCJnYW1lTG9vcCIsInNldEludGVydmFsIiwiY29tcGxldGVkVGFza3MiLCJyZXNvdXJjZURlbHRhc1RoaXNUaWNrIiwic3RpbGxBY3RpdmVUYXNrcyIsInN0YXJ0VGltZSIsImR1cmF0aW9uIiwicHVzaCIsIm5vZGUiLCJyZXNvdXJjZU5vZGVJZCIsInZpbGxhZ2VyQ291bnQiLCJnYXRoZXJSYXRlUGVyVmlsbGFnZXJQZXJTZWNvbmQiLCJhbW91bnRHYXRoZXJlZFRoaXNUaWNrIiwiQm9vbGVhbiIsIk9iamVjdCIsImtleXMiLCJwcmV2UmVzIiwicmVzS2V5IiwicHJldk5vZGVzIiwibm9kZXNXZXJlRGVwbGV0ZWQiLCJuZXdOb2RlcyIsImFtb3VudFRvRGVjcmVtZW50IiwibmV3QW1vdW50IiwiYW1vdW50IiwiYXNzaWduZWRWaWxsYWdlcnMiLCJmbG9vciIsImdhdGhlclRhc2siLCJ0IiwiZmluYWxBY3RpdmVUYXNrcyIsInNvbWUiLCJjdCIsImZvckVhY2giLCJjbGVhckludGVydmFsIiwiaGFuZGxlTmV3RXZlbnQiLCJub25HYXRoZXJpbmdUYXNrcyIsImV2ZW50Iiwic2NoZWR1bGVOZXh0RXZlbnQiLCJuZXh0RXZlbnRUaW1lIiwiZ2VuZXJhdGVSZXNvdXJjZU5vZGVzIiwiZXhpc3RpbmdQb3NpdGlvbnMiLCJub2RlcyIsInR5cGVzIiwibnVtTm9kZXMiLCJpIiwicG9zIiwieCIsInkiLCJoYXMiLCJhZGQiLCJoYW5kbGVTdGFydE5ld0dhbWUiLCJzYXZlTmFtZSIsImluY2x1ZGVzIiwiTE9BRElORyIsImNpdiIsImluaXRpYWxWaWxsYWdlck5hbWVzIiwiaW5pdGlhbFZpbGxhZ2VycyIsImluaXRpYWxUQ05hbWUiLCJ0Y1Bvc2l0aW9uIiwiaW5pdGlhbFRDIiwiU2V0IiwiZ2V0VmlsbGFnZXJUYXNrRGV0YWlscyIsImlzVmlsbGFnZXJCdXN5IiwiaGFuZGxlUmVzdW1lR2FtZSIsInNhdmVkU3RhdGUiLCJzb2xkaWVycyIsIm1pZ3JhdGVkTWlsaXRhcnkiLCJzIiwiZmluYWxCdWlsZGluZ3MiLCJvY2N1cGllZENlbGxzIiwidmFsdWVzIiwiZmxhdCIsInRjUG9zIiwidGNOYW1lIiwiZmlyc3RCdWlsZGluZyIsIm1pZ3JhdGVkIiwiZW50cmllcyIsImluc3RhbmNlcyIsImluc3QiLCJub2Rlc1RvU2V0IiwidW5kZWZpbmVkIiwiYyIsIm1ham9yVGFza0luUHJvZ3Jlc3MiLCJoYW5kbGVFdmVudENob2ljZSIsImNob2ljZSIsInRleHQiLCJtaXNzaW5nUmVzIiwiam9pbiIsIm5lZ2F0aXZlQ29zdCIsImlzU3VjY2VzcyIsInN1Y2Nlc3NDaGFuY2UiLCJlZmZlY3RzIiwic3VjY2Vzc0VmZmVjdHMiLCJmYWlsdXJlRWZmZWN0cyIsIkFycmF5IiwiaXNBcnJheSIsIm1pbiIsInJlc291cmNlIiwibG9nIiwiaGFuZGxlSW5pdGlhdGVCdWlsZCIsInJlY3QiLCJoYW5kbGVTdGFydFBsYWNlbWVudCIsImJ1aWxkaW5nSWQiLCJtaXNzaW5nIiwicmVzIiwibW9kZSIsImhhbmRsZUNvbmZpcm1QbGFjZW1lbnQiLCJidWlsZGVyIiwidiIsInRhc2tQYXlsb2FkIiwidGFza0lkIiwibmV3Q29uc3RydWN0aW9uIiwibmV3VGFzayIsImhhbmRsZUNhbmNlbFBsYXllckFjdGlvbiIsImhhbmRsZURlbW9saXNoQnVpbGRpbmciLCJidWlsZGluZ0luc3RhbmNlIiwicmVmdW5kIiwicmVmdW5kTWVzc2FnZVBhcnRzIiwiaGFuZGxlVXBkYXRlQnVpbGRpbmciLCJoYW5kbGVUcmFpblZpbGxhZ2VycyIsInZpbGxhZ2VyQ29zdCIsInRvdGFsQ29zdCIsImhhbmRsZVRyYWluVW5pdHMiLCJ0cmFpbmluZ0J1aWxkaW5nIiwiaGFuZGxlRGlzbWlzc1NwZWNpZmljVW5pdCIsInVuaXQiLCJ1bml0VHlwZU5hbWUiLCJoYW5kbGVVcGRhdGVVbml0IiwidXBkYXRlZFVuaXQiLCJoYW5kbGVBc3NpZ25WaWxsYWdlcnNUb05vZGUiLCJub2RlSWQiLCJpZGxlVmlsbGFnZXJzIiwiY2FwcGVkQ291bnQiLCJ2aWxsYWdlcnNUb0Fzc2lnbiIsInZpbGxhZ2VySWRzVG9Bc3NpZ24iLCJ0YXJnZXROb2RlIiwiZXhpc3RpbmdUYXNrIiwiaGFuZGxlUmVjYWxsVmlsbGFnZXJzIiwidmlsbGFnZXJzVG9SZWNhbGwiLCJ0YXNrSW5kZXgiLCJmaW5kSW5kZXgiLCJyZW1haW5pbmdWaWxsYWdlcnMiLCJfIiwiY29uc3RydWN0aW9uIiwidG90YWxXb3JrIiwib2xkV29ya2VyQ291bnQiLCJ0aW1lRWxhcHNlZCIsIndvcmtEb25lIiwid29ya1JlbWFpbmluZyIsIm5ld1dvcmtlckNvdW50IiwibmV3UmVtYWluaW5nRHVyYXRpb24iLCJoYW5kbGVBc3NpZ25WaWxsYWdlcnNUb0NvbnN0cnVjdGlvbiIsImNvbnN0cnVjdGlvbklkIiwiYmFzZUR1cmF0aW9uIiwidXBkYXRlZFZpbGxhZ2VySWRzIiwiaGFuZGxlQXNzaWduVmlsbGFnZXJzIiwiaGFuZGxlQWR2YW5jZUFnZSIsImhhbmRsZUV4aXRHYW1lIiwiaGFuZGxlVG9nZ2xlVW5saW1pdGVkUmVzb3VyY2VzIiwibmV3TW9kZSIsImJ1aWxkaW5nQ291bnRzIiwicmVkdWNlIiwiYWNjIiwiaWRsZVZpbGxhZ2VyQ291bnQiLCJhc3NpZ25tZW50VGFyZ2V0IiwiY2xvc2VBbGxQYW5lbHMiLCJpbnN0YW5jZUlkIiwiaGFuZGxlT3BlbkJ1aWxkaW5nUGFuZWwiLCJoYW5kbGVDbGlja091dHNpZGUiLCJpc0FueVBhbmVsT3BlbiIsInRhcmdldCIsImNsb3Nlc3QiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVuZGVyQ29udGVudCIsIm9uTmV3R2FtZSIsIm9uUmVzdW1lR2FtZSIsInNhdmVkR2FtZXMiLCJvbkV2ZW50Q2hvaWNlIiwidW5pdExpc3QiLCJidWlsZGluZ0xpc3QiLCJvbk9wZW5Vbml0UGFuZWwiLCJvbk9wZW5CdWlsZGluZ1BhbmVsIiwib25PcGVuQWxsQnVpbGRpbmdzUGFuZWwiLCJvbkNvbmZpcm1QbGFjZW1lbnQiLCJvbkNhbmNlbFBsYXllckFjdGlvbiIsIm9uQnVpbGRpbmdDbGljayIsImJ1aWxkaW5nIiwibWFwRGltZW5zaW9ucyIsIm9uRXhpdEdhbWUiLCJvbk9wZW5TZXR0aW5nc1BhbmVsIiwib25PcGVuQ2l2UGFuZWwiLCJvbk9wZW5Bc3NpZ25tZW50UGFuZWwiLCJvbk9wZW5Db25zdHJ1Y3Rpb25QYW5lbCIsImdhdGhlckluZm8iLCJvbkNsb3NlIiwib25TdGFydFBsYWNlbWVudCIsIm9uVXBkYXRlVW5pdCIsIm9uRGlzbWlzc1VuaXQiLCJvbkluaXRpYXRlQnVpbGQiLCJwYW5lbFN0YXRlIiwib25VcGRhdGVCdWlsZGluZyIsIm9uRGVtb2xpc2hCdWlsZGluZyIsIm9uVHJhaW5Vbml0cyIsIm9uVHJhaW5WaWxsYWdlcnMiLCJvbkFkdmFuY2VBZ2UiLCJvbkFzc2lnblZpbGxhZ2VycyIsIm9uUmVjYWxsVmlsbGFnZXJzIiwib3BhY2l0eSIsIm9uT3BhY2l0eUNoYW5nZSIsImRpdiIsImNsYXNzTmFtZSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJhcmlhLWxhYmVsIiwib25SZW1vdmVOb3RpZmljYXRpb24iLCJtYWluIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/page.tsx\n"));

/***/ })

});