"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/AllBuildingsPanel.tsx":
/*!******************************************!*\
  !*** ./components/AllBuildingsPanel.tsx ***!
  \******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _GameUI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GameUI */ \"(app-pages-browser)/./components/GameUI.tsx\");\n\nvar _s = $RefreshSig$();\n\n\n// StatBox component copied from GameUI for reuse in this panel.\nconst StatBox = (param)=>{\n    let { icon, label, value, colorClass, onActionClick } = param;\n    const Component = onActionClick ? \"button\" : \"div\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n        onClick: onActionClick,\n        className: \"relative flex items-center space-x-3 w-full p-2 rounded-lg border border-stone-light/50 transition-colors duration-200\\n            bg-stone-dark/50 \".concat(colorClass, \"\\n            \").concat(onActionClick ? \"hover:bg-stone-light/10 cursor-pointer\" : \"\", \"\\n            overflow-hidden text-left\"),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-8 h-8\",\n                children: icon\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                lineNumber: 24,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"font-bold text-lg leading-tight\",\n                        children: value\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                        lineNumber: 26,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-xs text-parchment-dark leading-tight\",\n                        children: label\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                        lineNumber: 27,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                lineNumber: 25,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n        lineNumber: 17,\n        columnNumber: 9\n    }, undefined);\n};\n_c = StatBox;\nconst AllBuildingsPanel = (param)=>{\n    let { isOpen, onClose, buildingList, buildingCounts, activeTasks, onOpenBuildingPanel, anchorRect } = param;\n    _s();\n    const [isClosing, setIsClosing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentData, setCurrentData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        anchorRect\n    });\n    const constructionTasks = activeTasks.filter((t)=>t.type === \"build\");\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen || isClosing) {\n            setCurrentData({\n                anchorRect\n            });\n        }\n    }, [\n        anchorRect,\n        isOpen,\n        isClosing\n    ]);\n    const handleClose = ()=>{\n        setIsClosing(true);\n        setTimeout(()=>{\n            onClose();\n            setIsClosing(false);\n        }, 300);\n    };\n    if (!isOpen && !isClosing) return null;\n    const { anchorRect: currentAnchor } = currentData;\n    if (!currentAnchor) return null;\n    const panelWidth = 288; // from w-72\n    const panelGap = 8;\n    const panelStyle = {\n        transformOrigin: \"bottom center\",\n        maxHeight: \"\".concat(currentAnchor.top - 24, \"px\")\n    };\n    panelStyle.bottom = \"\".concat(window.innerHeight - currentAnchor.top + panelGap, \"px\");\n    let leftPos = currentAnchor.left + currentAnchor.width / 2 - panelWidth / 2;\n    if (leftPos + panelWidth > window.innerWidth - panelGap) {\n        leftPos = window.innerWidth - panelWidth - panelGap;\n    }\n    if (leftPos < panelGap) {\n        leftPos = panelGap;\n    }\n    panelStyle.left = \"\".concat(leftPos, \"px\");\n    const totalBuildings = Object.values(buildingCounts).reduce((a, b)=>a + b, 0);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: panelStyle,\n        className: \"fixed z-40 w-72 transform transition-all duration-300 ease-in-out \".concat(isOpen && !isClosing ? \"opacity-100 scale-100\" : \"opacity-0 scale-95\"),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"sci-fi-panel-popup sci-fi-grid p-4 h-full flex flex-col\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center mb-4 flex-shrink-0\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-serif\",\n                            children: [\n                                \"Structures (\",\n                                totalBuildings,\n                                \")\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                            lineNumber: 97,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleClose,\n                            className: \"text-3xl font-bold sci-fi-close-button\",\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                            lineNumber: 98,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                    lineNumber: 96,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-2 flex-grow overflow-y-auto pr-2\",\n                    children: totalBuildings > 0 || constructionTasks.length > 0 ? Object.entries(buildingCounts).sort((param, param1)=>{\n                        let [typeA] = param, [typeB] = param1;\n                        const order = [\n                            \"townCenter\",\n                            \"houses\"\n                        ];\n                        const indexA = order.indexOf(typeA);\n                        const indexB = order.indexOf(typeB);\n                        if (indexA !== -1 && indexB !== -1) return indexA - indexB;\n                        if (indexA !== -1) return -1;\n                        if (indexB !== -1) return 1;\n                        return typeA.localeCompare(typeB);\n                    }).map((param)=>{\n                        let [type, count] = param;\n                        const isConstructing = constructionTasks.some((t)=>{\n                            var _t_payload;\n                            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.buildingType) === type;\n                        });\n                        if (count === 0 && !isConstructing) return null;\n                        const info = buildingList.find((b)=>b.id === type);\n                        if (!info) return null;\n                        const Icon = _GameUI__WEBPACK_IMPORTED_MODULE_2__.iconMap[type];\n                        if (!Icon) return null;\n                        const constructingCount = constructionTasks.filter((t)=>{\n                            var _t_payload;\n                            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.buildingType) === type;\n                        }).length;\n                        const displayValue = count > 0 ? \"\".concat(count).concat(constructingCount > 0 ? \" (+\".concat(constructingCount, \")\") : \"\") : \"Constructing...\";\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StatBox, {\n                            icon: Icon,\n                            label: info.name,\n                            value: displayValue,\n                            colorClass: \"text-parchment-dark\",\n                            onActionClick: count > 0 ? (e)=>{\n                                onOpenBuildingPanel(type, \"\", e.currentTarget.getBoundingClientRect());\n                            } : undefined\n                        }, type, false, {\n                            fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                            lineNumber: 127,\n                            columnNumber: 37\n                        }, undefined);\n                    }) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-center text-parchment-dark py-8\",\n                        children: \"You have no buildings.\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                        lineNumber: 140,\n                        columnNumber: 25\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n                    lineNumber: 101,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n            lineNumber: 95,\n            columnNumber: 14\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/AllBuildingsPanel.tsx\",\n        lineNumber: 91,\n        columnNumber: 9\n    }, undefined);\n};\n_s(AllBuildingsPanel, \"blhWDG9yiUBLxE17R6xsfLJ8ZIs=\");\n_c1 = AllBuildingsPanel;\n/* harmony default export */ __webpack_exports__[\"default\"] = (AllBuildingsPanel);\nvar _c, _c1;\n$RefreshReg$(_c, \"StatBox\");\n$RefreshReg$(_c1, \"AllBuildingsPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvQWxsQnVpbGRpbmdzUGFuZWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDbUQ7QUFFaEI7QUFFbkMsZ0VBQWdFO0FBQ2hFLE1BQU1JLFVBTUQ7UUFBQyxFQUFFQyxJQUFJLEVBQUVDLEtBQUssRUFBRUMsS0FBSyxFQUFFQyxVQUFVLEVBQUVDLGFBQWEsRUFBRTtJQUNuRCxNQUFNQyxZQUFZRCxnQkFBZ0IsV0FBVztJQUU3QyxxQkFDSSw4REFBQ0M7UUFDR0MsU0FBU0Y7UUFDVEcsV0FBVyx3SkFFVEgsT0FEaUJELFlBQVcsa0JBQ2tDLE9BQTlEQyxnQkFBZ0IsMkNBQTJDLElBQUc7OzBCQUdoRSw4REFBQ0k7Z0JBQUlELFdBQVU7MEJBQVdQOzs7Ozs7MEJBQzFCLDhEQUFDUTtnQkFBSUQsV0FBVTs7a0NBQ1gsOERBQUNFO3dCQUFLRixXQUFVO2tDQUFtQ0w7Ozs7OztrQ0FDbkQsOERBQUNPO3dCQUFLRixXQUFVO2tDQUE2Q047Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUk3RTtLQXhCTUY7QUFxQ04sTUFBTVcsb0JBQXNEO1FBQUMsRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUVDLFlBQVksRUFBRUMsY0FBYyxFQUFFQyxXQUFXLEVBQUVDLG1CQUFtQixFQUFFQyxVQUFVLEVBQUU7O0lBQ3hKLE1BQU0sQ0FBQ0MsV0FBV0MsYUFBYSxHQUFHdkIsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDd0IsYUFBYUMsZUFBZSxHQUFHekIsK0NBQVFBLENBQUM7UUFBRXFCO0lBQVc7SUFFNUQsTUFBTUssb0JBQW9CUCxZQUFZUSxNQUFNLENBQUNDLENBQUFBLElBQUtBLEVBQUVDLElBQUksS0FBSztJQUU3RDVCLGdEQUFTQSxDQUFDO1FBQ04sSUFBSWMsVUFBVU8sV0FBVztZQUNyQkcsZUFBZTtnQkFBRUo7WUFBVztRQUNoQztJQUNKLEdBQUc7UUFBQ0E7UUFBWU47UUFBUU87S0FBVTtJQUVsQyxNQUFNUSxjQUFjO1FB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QUFBLFdBQVcwQyxZQUFZLE1BQUt6QzsyQkFBTTBCLE1BQU07d0JBQ2hHLE1BQU1xQixlQUFlVixRQUFRLElBQUksR0FBV1MsT0FBUlQsT0FBZ0UsT0FBeERTLG9CQUFvQixJQUFJLE1BQXdCLE9BQWxCQSxtQkFBa0IsT0FBSyxNQUFRO3dCQUV6RyxxQkFDSSw4REFBQ3hFOzRCQUVHQyxNQUFNc0U7NEJBQ05yRSxPQUFPa0UsS0FBS00sSUFBSTs0QkFDaEJ2RSxPQUFPc0U7NEJBQ1ByRSxZQUFXOzRCQUNYQyxlQUFlMEQsUUFBUSxJQUFJLENBQUNZO2dDQUN4QjFELG9CQUFvQlMsTUFBc0IsSUFBSWlELEVBQUVDLGFBQWEsQ0FBQ0MscUJBQXFCOzRCQUN2RixJQUFJQzsyQkFQQ3BEOzs7OztvQkFVakIsbUJBRUosOERBQUNxRDt3QkFBRXZFLFdBQVU7a0NBQXVDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTTVFO0dBdEdNRztNQUFBQTtBQXVHTiwrREFBZUEsaUJBQWlCQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvQWxsQnVpbGRpbmdzUGFuZWwudHN4P2UxYzAiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB0eXBlIHsgQnVpbGRpbmdUeXBlLCBCdWlsZGluZ0luZm8sIEdhbWVUYXNrIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaWNvbk1hcCB9IGZyb20gJy4vR2FtZVVJJztcblxuLy8gU3RhdEJveCBjb21wb25lbnQgY29waWVkIGZyb20gR2FtZVVJIGZvciByZXVzZSBpbiB0aGlzIHBhbmVsLlxuY29uc3QgU3RhdEJveDogUmVhY3QuRkM8eyBcbiAgICBpY29uOiBSZWFjdC5SZWFjdE5vZGU7IFxuICAgIGxhYmVsOiBzdHJpbmc7IFxuICAgIHZhbHVlOiBzdHJpbmcgfCBudW1iZXI7IFxuICAgIGNvbG9yQ2xhc3M6IHN0cmluZztcbiAgICBvbkFjdGlvbkNsaWNrPzogKGV2ZW50OiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxFbGVtZW50PikgPT4gdm9pZDsgXG59PiA9ICh7IGljb24sIGxhYmVsLCB2YWx1ZSwgY29sb3JDbGFzcywgb25BY3Rpb25DbGljayB9KSA9PiB7XG4gICAgY29uc3QgQ29tcG9uZW50ID0gb25BY3Rpb25DbGljayA/ICdidXR0b24nIDogJ2Rpdic7XG4gICAgXG4gICAgcmV0dXJuIChcbiAgICAgICAgPENvbXBvbmVudFxuICAgICAgICAgICAgb25DbGljaz17b25BY3Rpb25DbGlja31cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHJlbGF0aXZlIGZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMyB3LWZ1bGwgcC0yIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zdG9uZS1saWdodC81MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcbiAgICAgICAgICAgIGJnLXN0b25lLWRhcmsvNTAgJHtjb2xvckNsYXNzfVxuICAgICAgICAgICAgJHtvbkFjdGlvbkNsaWNrID8gJ2hvdmVyOmJnLXN0b25lLWxpZ2h0LzEwIGN1cnNvci1wb2ludGVyJyA6ICcnfVxuICAgICAgICAgICAgb3ZlcmZsb3ctaGlkZGVuIHRleHQtbGVmdGB9XG4gICAgICAgID5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04IGgtOFwiPntpY29ufTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtbGcgbGVhZGluZy10aWdodFwiPnt2YWx1ZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXBhcmNobWVudC1kYXJrIGxlYWRpbmctdGlnaHRcIj57bGFiZWx9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvQ29tcG9uZW50PlxuICAgICk7XG59O1xuXG5pbnRlcmZhY2UgQWxsQnVpbGRpbmdzUGFuZWxQcm9wcyB7XG4gICAgaXNPcGVuOiBib29sZWFuO1xuICAgIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XG4gICAgYnVpbGRpbmdMaXN0OiBCdWlsZGluZ0luZm9bXTtcbiAgICBidWlsZGluZ0NvdW50czogUmVjb3JkPEJ1aWxkaW5nVHlwZSwgbnVtYmVyPjtcbiAgICBhY3RpdmVUYXNrczogR2FtZVRhc2tbXTtcbiAgICBvbk9wZW5CdWlsZGluZ1BhbmVsOiAodHlwZTogQnVpbGRpbmdUeXBlLCBpbnN0YW5jZUlkOiBzdHJpbmcsIHJlY3Q6IERPTVJlY3QpID0+IHZvaWQ7XG4gICAgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7XG59XG5cblxuY29uc3QgQWxsQnVpbGRpbmdzUGFuZWw6IFJlYWN0LkZDPEFsbEJ1aWxkaW5nc1BhbmVsUHJvcHM+ID0gKHsgaXNPcGVuLCBvbkNsb3NlLCBidWlsZGluZ0xpc3QsIGJ1aWxkaW5nQ291bnRzLCBhY3RpdmVUYXNrcywgb25PcGVuQnVpbGRpbmdQYW5lbCwgYW5jaG9yUmVjdCB9KSA9PiB7XG4gICAgY29uc3QgW2lzQ2xvc2luZywgc2V0SXNDbG9zaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbY3VycmVudERhdGEsIHNldEN1cnJlbnREYXRhXSA9IHVzZVN0YXRlKHsgYW5jaG9yUmVjdCB9KTtcbiAgICBcbiAgICBjb25zdCBjb25zdHJ1Y3Rpb25UYXNrcyA9IGFjdGl2ZVRhc2tzLmZpbHRlcih0ID0+IHQudHlwZSA9PT0gJ2J1aWxkJyk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNPcGVuIHx8IGlzQ2xvc2luZykge1xuICAgICAgICAgICAgc2V0Q3VycmVudERhdGEoeyBhbmNob3JSZWN0IH0pO1xuICAgICAgICB9XG4gICAgfSwgW2FuY2hvclJlY3QsIGlzT3BlbiwgaXNDbG9zaW5nXSk7XG5cbiAgICBjb25zdCBoYW5kbGVDbG9zZSA9ICgpID0+IHtcbiAgICAgICAgc2V0SXNDbG9zaW5nKHRydWUpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgICAgIHNldElzQ2xvc2luZyhmYWxzZSk7IFxuICAgICAgICB9LCAzMDApOyBcbiAgICB9O1xuICAgIFxuICAgIGlmICghaXNPcGVuICYmICFpc0Nsb3NpbmcpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgeyBhbmNob3JSZWN0OiBjdXJyZW50QW5jaG9yIH0gPSBjdXJyZW50RGF0YTtcbiAgICBpZiAoIWN1cnJlbnRBbmNob3IpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgcGFuZWxXaWR0aCA9IDI4ODsgLy8gZnJvbSB3LTcyXG4gICAgY29uc3QgcGFuZWxHYXAgPSA4O1xuXG4gICAgY29uc3QgcGFuZWxTdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHtcbiAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiAnYm90dG9tIGNlbnRlcicsXG4gICAgICAgIG1heEhlaWdodDogYCR7Y3VycmVudEFuY2hvci50b3AgLSAyNH1weGAsXG4gICAgfTtcbiAgICBcbiAgICBwYW5lbFN0eWxlLmJvdHRvbSA9IGAke3dpbmRvdy5pbm5lckhlaWdodCAtIGN1cnJlbnRBbmNob3IudG9wICsgcGFuZWxHYXB9cHhgO1xuXG4gICAgbGV0IGxlZnRQb3MgPSBjdXJyZW50QW5jaG9yLmxlZnQgKyBjdXJyZW50QW5jaG9yLndpZHRoIC8gMiAtIHBhbmVsV2lkdGggLyAyO1xuICAgIGlmIChsZWZ0UG9zICsgcGFuZWxXaWR0aCA+IHdpbmRvdy5pbm5lcldpZHRoIC0gcGFuZWxHYXApIHtcbiAgICAgICAgbGVmdFBvcyA9IHdpbmRvdy5pbm5lcldpZHRoIC0gcGFuZWxXaWR0aCAtIHBhbmVsR2FwO1xuICAgIH1cbiAgICBpZiAobGVmdFBvcyA8IHBhbmVsR2FwKSB7XG4gICAgICAgIGxlZnRQb3MgPSBwYW5lbEdhcDtcbiAgICB9XG4gICAgcGFuZWxTdHlsZS5sZWZ0ID0gYCR7bGVmdFBvc31weGA7XG4gICAgXG4gICAgY29uc3QgdG90YWxCdWlsZGluZ3MgPSBPYmplY3QudmFsdWVzKGJ1aWxkaW5nQ291bnRzKS5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXtwYW5lbFN0eWxlfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgZml4ZWQgei00MCB3LTcyIHRyYW5zZm9ybSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgZWFzZS1pbi1vdXQgJHtpc09wZW4gJiYgIWlzQ2xvc2luZyA/ICdvcGFjaXR5LTEwMCBzY2FsZS0xMDAnIDogJ29wYWNpdHktMCBzY2FsZS05NSd9YH1cbiAgICAgICAgPlxuICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2NpLWZpLXBhbmVsLXBvcHVwIHNjaS1maS1ncmlkIHAtNCBoLWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTQgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1zZXJpZlwiPlN0cnVjdHVyZXMgKHt0b3RhbEJ1aWxkaW5nc30pPC9oMj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVDbG9zZX0gY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHNjaS1maS1jbG9zZS1idXR0b25cIj4mdGltZXM7PC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMiBmbGV4LWdyb3cgb3ZlcmZsb3cteS1hdXRvIHByLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgeyh0b3RhbEJ1aWxkaW5ncyA+IDAgfHwgY29uc3RydWN0aW9uVGFza3MubGVuZ3RoID4gMCkgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyhidWlsZGluZ0NvdW50cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc29ydCgoW3R5cGVBXSwgW3R5cGVCXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmRlciA9IFsndG93bkNlbnRlcicsICdob3VzZXMnXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXhBID0gb3JkZXIuaW5kZXhPZih0eXBlQSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4QiA9IG9yZGVyLmluZGV4T2YodHlwZUIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpbmRleEEgIT09IC0xICYmIGluZGV4QiAhPT0gLTEpIHJldHVybiBpbmRleEEgLSBpbmRleEI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGluZGV4QSAhPT0gLTEpIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW5kZXhCICE9PSAtMSkgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlQS5sb2NhbGVDb21wYXJlKHR5cGVCKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKFt0eXBlLCBjb3VudF0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNDb25zdHJ1Y3RpbmcgPSBjb25zdHJ1Y3Rpb25UYXNrcy5zb21lKHQgPT4gdC5wYXlsb2FkPy5idWlsZGluZ1R5cGUgPT09IHR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjb3VudCA9PT0gMCAmJiAhaXNDb25zdHJ1Y3RpbmcpIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZm8gPSBidWlsZGluZ0xpc3QuZmluZChiID0+IGIuaWQgPT09IHR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWluZm8pIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgSWNvbiA9IGljb25NYXBbdHlwZSBhcyBCdWlsZGluZ1R5cGVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUljb24pIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnN0cnVjdGluZ0NvdW50ID0gY29uc3RydWN0aW9uVGFza3MuZmlsdGVyKHQgPT4gdC5wYXlsb2FkPy5idWlsZGluZ1R5cGUgPT09IHR5cGUpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzcGxheVZhbHVlID0gY291bnQgPiAwID8gYCR7Y291bnR9JHtjb25zdHJ1Y3RpbmdDb3VudCA+IDAgPyBgICgrJHtjb25zdHJ1Y3RpbmdDb3VudH0pYCA6ICcnfWAgOiBgQ29uc3RydWN0aW5nLi4uYDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN0YXRCb3ggXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXt0eXBlfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPXtJY29ufSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17aW5mby5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtkaXNwbGF5VmFsdWV9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yQ2xhc3M9XCJ0ZXh0LXBhcmNobWVudC1kYXJrXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25BY3Rpb25DbGljaz17Y291bnQgPiAwID8gKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuQnVpbGRpbmdQYW5lbCh0eXBlIGFzIEJ1aWxkaW5nVHlwZSwgJycsIGUuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtcGFyY2htZW50LWRhcmsgcHktOFwiPllvdSBoYXZlIG5vIGJ1aWxkaW5ncy48L3A+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5leHBvcnQgZGVmYXVsdCBBbGxCdWlsZGluZ3NQYW5lbDtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiaWNvbk1hcCIsIlN0YXRCb3giLCJpY29uIiwibGFiZWwiLCJ2YWx1ZSIsImNvbG9yQ2xhc3MiLCJvbkFjdGlvbkNsaWNrIiwiQ29tcG9uZW50Iiwib25DbGljayIsImNsYXNzTmFtZSIsImRpdiIsInNwYW4iLCJBbGxCdWlsZGluZ3NQYW5lbCIsImlzT3BlbiIsIm9uQ2xvc2UiLCJidWlsZGluZ0xpc3QiLCJidWlsZGluZ0NvdW50cyIsImFjdGl2ZVRhc2tzIiwib25PcGVuQnVpbGRpbmdQYW5lbCIsImFuY2hvclJlY3QiLCJpc0Nsb3NpbmciLCJzZXRJc0Nsb3NpbmciLCJjdXJyZW50RGF0YSIsInNldEN1cnJlbnREYXRhIiwiY29uc3RydWN0aW9uVGFza3MiLCJmaWx0ZXIiLCJ0IiwidHlwZSIsImhhbmRsZUNsb3NlIiwic2V0VGltZW91dCIsImN1cnJlbnRBbmNob3IiLCJwYW5lbFdpZHRoIiwicGFuZWxHYXAiLCJwYW5lbFN0eWxlIiwidHJhbnNmb3JtT3JpZ2luIiwibWF4SGVpZ2h0IiwidG9wIiwiYm90dG9tIiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJsZWZ0UG9zIiwibGVmdCIsIndpZHRoIiwiaW5uZXJXaWR0aCIsInRvdGFsQnVpbGRpbmdzIiwiT2JqZWN0IiwidmFsdWVzIiwicmVkdWNlIiwiYSIsImIiLCJzdHlsZSIsImgyIiwiYnV0dG9uIiwibGVuZ3RoIiwiZW50cmllcyIsInNvcnQiLCJ0eXBlQSIsInR5cGVCIiwib3JkZXIiLCJpbmRleEEiLCJpbmRleE9mIiwiaW5kZXhCIiwibG9jYWxlQ29tcGFyZSIsIm1hcCIsImNvdW50IiwiaXNDb25zdHJ1Y3RpbmciLCJzb21lIiwicGF5bG9hZCIsImJ1aWxkaW5nVHlwZSIsImluZm8iLCJmaW5kIiwiaWQiLCJJY29uIiwiY29uc3RydWN0aW5nQ291bnQiLCJkaXNwbGF5VmFsdWUiLCJuYW1lIiwiZSIsImN1cnJlbnRUYXJnZXQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ1bmRlZmluZWQiLCJwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/AllBuildingsPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/GameMap.tsx":
/*!********************************!*\
  !*** ./components/GameMap.tsx ***!
  \********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _GameUI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GameUI */ \"(app-pages-browser)/./components/GameUI.tsx\");\n/* harmony import */ var _ProgressBar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ProgressBar */ \"(app-pages-browser)/./components/ProgressBar.tsx\");\n/* harmony import */ var _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./icons/ResourceIcons */ \"(app-pages-browser)/./components/icons/ResourceIcons.tsx\");\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\nconst ConstructionTooltip = (param)=>{\n    let { task, buildingInfo, builderCount } = param;\n    _s();\n    const [remainingTime, setRemainingTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const calculateRemaining = ()=>{\n            const endTime = task.startTime + task.duration;\n            const remaining = Math.max(0, endTime - Date.now());\n            setRemainingTime(Math.ceil(remaining / 1000));\n        };\n        calculateRemaining();\n        const interval = setInterval(calculateRemaining, 1000);\n        return ()=>clearInterval(interval);\n    }, [\n        task\n    ]);\n    if (!buildingInfo) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-stone-dark text-white text-xs rounded py-1 px-2 absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-max opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity z-10\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                children: [\n                    \"Constructing: \",\n                    buildingInfo.name\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                lineNumber: 28,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                children: [\n                    \"Builders: \",\n                    builderCount\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                lineNumber: 29,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                children: [\n                    \"Time remaining: \",\n                    remainingTime,\n                    \"s\"\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                lineNumber: 30,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/GameMap.tsx\",\n        lineNumber: 27,\n        columnNumber: 9\n    }, undefined);\n};\n_s(ConstructionTooltip, \"tVFBxYn2cv5nee/o97sp1du4goI=\");\n_c = ConstructionTooltip;\nconst ResourceNodeTooltip = (param)=>{\n    let { node, gatherInfo } = param;\n    const gatherRate = node.assignedVillagers.length > 0 ? node.assignedVillagers.length * gatherInfo[node.type].rate : 0;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-stone-dark text-white text-xs rounded py-1 px-2 absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-max opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity z-10\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"capitalize font-bold\",\n                children: node.type\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                lineNumber: 40,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                children: [\n                    \"Amount: \",\n                    Math.floor(node.amount)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                lineNumber: 41,\n                columnNumber: 13\n            }, undefined),\n            node.assignedVillagers.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                        className: \"border-stone-light/20 my-1\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                        lineNumber: 44,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            \"Workers: \",\n                            node.assignedVillagers.length\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                        lineNumber: 45,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            \"Rate: \",\n                            gatherRate.toFixed(1),\n                            \"/s\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                        lineNumber: 46,\n                        columnNumber: 21\n                    }, undefined)\n                ]\n            }, void 0, true)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/GameMap.tsx\",\n        lineNumber: 39,\n        columnNumber: 9\n    }, undefined);\n};\n_c1 = ResourceNodeTooltip;\nconst GameMap = (param)=>{\n    let { buildings, activeTasks, playerAction, onConfirmPlacement, onCancelPlayerAction, onBuildingClick, mapDimensions, buildingList, resourceNodes, onOpenAssignmentPanel, onOpenConstructionPanel, gatherInfo } = param;\n    _s1();\n    const [hoveredCell, setHoveredCell] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const constructionTasks = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>activeTasks.filter((t)=>t.type === \"build\"), [\n        activeTasks\n    ]);\n    const occupiedCells = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const cellSet = new Set();\n        Object.values(buildings).flat().forEach((building)=>{\n            cellSet.add(\"\".concat(building.position.x, \",\").concat(building.position.y));\n        });\n        constructionTasks.forEach((task)=>{\n            var _task_payload;\n            if ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.position) {\n                cellSet.add(\"\".concat(task.payload.position.x, \",\").concat(task.payload.position.y));\n            }\n        });\n        resourceNodes.forEach((node)=>{\n            cellSet.add(\"\".concat(node.position.x, \",\").concat(node.position.y));\n        });\n        return cellSet;\n    }, [\n        buildings,\n        constructionTasks,\n        resourceNodes\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleKeyDown = (e)=>{\n            if (e.key === \"Escape\") {\n                onCancelPlayerAction();\n            }\n        };\n        window.addEventListener(\"keydown\", handleKeyDown);\n        return ()=>window.removeEventListener(\"keydown\", handleKeyDown);\n    }, [\n        onCancelPlayerAction\n    ]);\n    const handleCellClick = (x, y)=>{\n        if ((playerAction === null || playerAction === void 0 ? void 0 : playerAction.mode) === \"build\") {\n            if (!occupiedCells.has(\"\".concat(x, \",\").concat(y))) {\n                onConfirmPlacement({\n                    x,\n                    y\n                });\n            }\n        }\n    };\n    const getBuildingAt = (x, y)=>{\n        for(const buildingType in buildings){\n            const found = buildings[buildingType].find((b)=>b.position.x === x && b.position.y === y);\n            if (found) return found;\n        }\n        return undefined;\n    };\n    const getConstructionAt = (x, y)=>{\n        return constructionTasks.find((t)=>{\n            var _t_payload_position, _t_payload, _t_payload_position1, _t_payload1;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : (_t_payload_position = _t_payload.position) === null || _t_payload_position === void 0 ? void 0 : _t_payload_position.x) === x && ((_t_payload1 = t.payload) === null || _t_payload1 === void 0 ? void 0 : (_t_payload_position1 = _t_payload1.position) === null || _t_payload_position1 === void 0 ? void 0 : _t_payload_position1.y) === y;\n        });\n    };\n    const getResourceNodeAt = (x, y)=>{\n        return resourceNodes.find((n)=>n.position.x === x && n.position.y === y);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-black/30 p-2 rounded-lg grid gap-0.5\",\n        style: {\n            gridTemplateColumns: \"repeat(\".concat(mapDimensions.width, \", minmax(0, 1fr))\"),\n            gridTemplateRows: \"repeat(\".concat(mapDimensions.height, \", minmax(0, 1fr))\"),\n            cursor: (playerAction === null || playerAction === void 0 ? void 0 : playerAction.mode) === \"build\" ? \"copy\" : \"default\"\n        },\n        onMouseLeave: ()=>setHoveredCell(null),\n        onContextMenu: (e)=>{\n            e.preventDefault();\n            onCancelPlayerAction();\n        },\n        children: Array.from({\n            length: mapDimensions.width * mapDimensions.height\n        }).map((_, index)=>{\n            var _constructionTask_payload, _constructionTask_payload_villagerIds, _constructionTask_payload_villagerIds1, _constructionTask_payload_villagerIds2;\n            const x = index % mapDimensions.width;\n            const y = Math.floor(index / mapDimensions.width);\n            const building = getBuildingAt(x, y);\n            const constructionTask = getConstructionAt(x, y);\n            const resourceNode = getResourceNodeAt(x, y);\n            const isOccupied = !!building || !!constructionTask || !!resourceNode;\n            const gatherTask = resourceNode ? activeTasks.find((t)=>t.id === resourceNode.id) : undefined;\n            const buildingInfo = constructionTask ? buildingList.find((b)=>{\n                var _constructionTask_payload;\n                return b.id === ((_constructionTask_payload = constructionTask.payload) === null || _constructionTask_payload === void 0 ? void 0 : _constructionTask_payload.buildingType);\n            }) : undefined;\n            let cellClass = \"bg-stone-dark/20 hover:bg-stone-light/10 transition-colors duration-150\";\n            if ((resourceNode || constructionTask) && !playerAction) {\n                cellClass += \" cursor-pointer hover:bg-brand-blue/20\";\n            }\n            if ((playerAction === null || playerAction === void 0 ? void 0 : playerAction.mode) === \"build\") {\n                const isHovered = (hoveredCell === null || hoveredCell === void 0 ? void 0 : hoveredCell.x) === x && (hoveredCell === null || hoveredCell === void 0 ? void 0 : hoveredCell.y) === y;\n                if (isOccupied) {\n                    cellClass = \"bg-brand-red/40\";\n                } else {\n                    cellClass = \"bg-brand-green/20 hover:bg-brand-green/40\";\n                    if (isHovered) {\n                        cellClass = \"bg-brand-green/40\";\n                    }\n                }\n            }\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative group w-full aspect-square \".concat(cellClass),\n                onMouseEnter: ()=>setHoveredCell({\n                        x,\n                        y\n                    }),\n                onClick: (e)=>{\n                    if (playerAction) {\n                        handleCellClick(x, y);\n                        return;\n                    }\n                    if (resourceNode) {\n                        onOpenAssignmentPanel(resourceNode.id, e.currentTarget.getBoundingClientRect());\n                    } else if (constructionTask) {\n                        onOpenConstructionPanel(constructionTask.id, e.currentTarget.getBoundingClientRect());\n                    } else if (building) {\n                        onBuildingClick(building, e.currentTarget.getBoundingClientRect());\n                    }\n                },\n                children: [\n                    building && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute inset-0 p-1 text-parchment-light cursor-pointer\",\n                        children: [\n                            _GameUI__WEBPACK_IMPORTED_MODULE_2__.iconMap[Object.keys(buildings).find((key)=>buildings[key].some((b)=>b.id === building.id))],\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-stone-dark text-white text-xs rounded py-1 px-2 absolute bottom-full left-1/2 -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity z-10\",\n                                children: building.name\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                lineNumber: 186,\n                                columnNumber: 33\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                        lineNumber: 184,\n                        columnNumber: 30\n                    }, undefined),\n                    constructionTask && ((_constructionTask_payload = constructionTask.payload) === null || _constructionTask_payload === void 0 ? void 0 : _constructionTask_payload.buildingType) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute inset-0 p-1 text-parchment-light opacity-60 flex flex-col justify-center items-center gap-1 group\",\n                        children: [\n                            _GameUI__WEBPACK_IMPORTED_MODULE_2__.iconMap[constructionTask.payload.buildingType],\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ProgressBar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                startTime: constructionTask.startTime,\n                                duration: constructionTask.duration,\n                                className: \"w-10/12 h-1.5\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                lineNumber: 194,\n                                columnNumber: 33\n                            }, undefined),\n                            buildingInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ConstructionTooltip, {\n                                task: constructionTask,\n                                buildingInfo: buildingInfo,\n                                builderCount: ((_constructionTask_payload_villagerIds = constructionTask.payload.villagerIds) === null || _constructionTask_payload_villagerIds === void 0 ? void 0 : _constructionTask_payload_villagerIds.length) || 0\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                lineNumber: 195,\n                                columnNumber: 50\n                            }, undefined),\n                            (((_constructionTask_payload_villagerIds1 = constructionTask.payload.villagerIds) === null || _constructionTask_payload_villagerIds1 === void 0 ? void 0 : _constructionTask_payload_villagerIds1.length) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute top-0.5 right-0.5 flex items-center bg-stone-dark/80 rounded-full px-1.5 py-0.5 text-xs text-brand-blue z-10\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-3 h-3\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_4__.VillagerIcon, {}, void 0, false, {\n                                            fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                            lineNumber: 198,\n                                            columnNumber: 66\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                        lineNumber: 198,\n                                        columnNumber: 41\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"ml-1 font-bold\",\n                                        children: (_constructionTask_payload_villagerIds2 = constructionTask.payload.villagerIds) === null || _constructionTask_payload_villagerIds2 === void 0 ? void 0 : _constructionTask_payload_villagerIds2.length\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                        lineNumber: 199,\n                                        columnNumber: 41\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                lineNumber: 197,\n                                columnNumber: 37\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                        lineNumber: 192,\n                        columnNumber: 29\n                    }, undefined),\n                    resourceNode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute inset-0 p-1.5 text-parchment-light/80 flex flex-col items-center justify-center group\",\n                        children: [\n                            _GameUI__WEBPACK_IMPORTED_MODULE_2__.iconMap[resourceNode.type],\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ResourceNodeTooltip, {\n                                node: resourceNode,\n                                gatherInfo: gatherInfo\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                lineNumber: 207,\n                                columnNumber: 33\n                            }, undefined),\n                            gatherTask && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute bottom-0.5 w-10/12 h-1.5\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ProgressBar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                    startTime: gatherTask.startTime,\n                                    duration: gatherTask.duration\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                    lineNumber: 210,\n                                    columnNumber: 41\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                lineNumber: 209,\n                                columnNumber: 37\n                            }, undefined),\n                            resourceNode.assignedVillagers.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute top-0.5 right-0.5 flex items-center bg-stone-dark/80 rounded-full px-1.5 py-0.5 text-xs text-brand-blue z-10\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-3 h-3\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_4__.VillagerIcon, {}, void 0, false, {\n                                            fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                            lineNumber: 215,\n                                            columnNumber: 66\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                        lineNumber: 215,\n                                        columnNumber: 41\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"ml-1 font-bold\",\n                                        children: resourceNode.assignedVillagers.length\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                        lineNumber: 216,\n                                        columnNumber: 41\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                                lineNumber: 214,\n                                columnNumber: 37\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                        lineNumber: 205,\n                        columnNumber: 29\n                    }, undefined),\n                    (playerAction === null || playerAction === void 0 ? void 0 : playerAction.mode) === \"build\" && (hoveredCell === null || hoveredCell === void 0 ? void 0 : hoveredCell.x) === x && (hoveredCell === null || hoveredCell === void 0 ? void 0 : hoveredCell.y) === y && !isOccupied && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute inset-0 p-1 text-parchment-light opacity-50\",\n                        children: _GameUI__WEBPACK_IMPORTED_MODULE_2__.iconMap[playerAction.buildingType]\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/GameMap.tsx\",\n                        lineNumber: 222,\n                        columnNumber: 29\n                    }, undefined)\n                ]\n            }, \"\".concat(x, \"-\").concat(y), true, {\n                fileName: \"/home/user/studio/components/GameMap.tsx\",\n                lineNumber: 165,\n                columnNumber: 21\n            }, undefined);\n        })\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/GameMap.tsx\",\n        lineNumber: 126,\n        columnNumber: 9\n    }, undefined);\n};\n_s1(GameMap, \"wK77JtmHQczgkWEoIblSnfDR2eI=\");\n_c2 = GameMap;\n/* harmony default export */ __webpack_exports__[\"default\"] = (GameMap);\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"ConstructionTooltip\");\n$RefreshReg$(_c1, \"ResourceNodeTooltip\");\n$RefreshReg$(_c2, \"GameMap\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvR2FtZU1hcC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQzREO0FBRXpCO0FBQ0s7QUFDYTtBQUVyRCxNQUFNTyxzQkFBa0g7UUFBQyxFQUFFQyxJQUFJLEVBQUVDLFlBQVksRUFBRUMsWUFBWSxFQUFFOztJQUN6SixNQUFNLENBQUNDLGVBQWVDLGlCQUFpQixHQUFHWCwrQ0FBUUEsQ0FBQztJQUVuREMsZ0RBQVNBLENBQUM7UUFDTixNQUFNVyxxQkFBcUI7WUFDdkIsTUFBTUMsVUFBVU4sS0FBS08sU0FBUyxHQUFHUCxLQUFLUSxRQUFRO1lBQzlDLE1BQU1DLFlBQVlDLEtBQUtDLEdBQUcsQ0FBQyxHQUFHTCxVQUFVTSxLQUFLQyxHQUFHO1lBQ2hEVCxpQkFBaUJNLEtBQUtJLElBQUksQ0FBQ0wsWUFBWTtRQUMzQztRQUVBSjtRQUNBLE1BQU1VLFdBQVdDLFlBQVlYLG9CQUFvQjtRQUVqRCxPQUFPLElBQU1ZLGNBQWNGO0lBQy9CLEdBQUc7UUFBQ2Y7S0FBSztJQUVULElBQUksQ0FBQ0MsY0FBYyxPQUFPO0lBRTFCLHFCQUNJLDhEQUFDaUI7UUFBSUMsV0FBVTs7MEJBQ1gsOERBQUNDOztvQkFBRTtvQkFBZW5CLGFBQWFvQixJQUFJOzs7Ozs7OzBCQUNuQyw4REFBQ0Q7O29CQUFFO29CQUFXbEI7Ozs7Ozs7MEJBQ2QsOERBQUNrQjs7b0JBQUU7b0JBQWlCakI7b0JBQWM7Ozs7Ozs7Ozs7Ozs7QUFHOUM7R0F6Qk1KO0tBQUFBO0FBMkJOLE1BQU11QixzQkFBZ0g7UUFBQyxFQUFFQyxJQUFJLEVBQUVDLFVBQVUsRUFBRTtJQUN2SSxNQUFNQyxhQUFhRixLQUFLRyxpQkFBaUIsQ0FBQ0MsTUFBTSxHQUFHLElBQUlKLEtBQUtHLGlCQUFpQixDQUFDQyxNQUFNLEdBQUdILFVBQVUsQ0FBQ0QsS0FBS0ssSUFBSSxDQUFDLENBQUNDLElBQUksR0FBRztJQUVwSCxxQkFDSSw4REFBQ1g7UUFBSUMsV0FBVTs7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O29CQUt0RlUsQ0FBQUEseUJBQUFBLG1DQUFBQSxhQUFja0MsSUFBSSxNQUFLLFdBQVd6QixDQUFBQSx3QkFBQUEsa0NBQUFBLFlBQWFlLENBQUMsTUFBS0EsS0FBS2YsQ0FBQUEsd0JBQUFBLGtDQUFBQSxZQUFhZ0IsQ0FBQyxNQUFLQSxLQUFLLENBQUNvQyw0QkFDaEYsOERBQUNoRjt3QkFBSUMsV0FBVTtrQ0FDWHZCLDRDQUFPLENBQUN5QyxhQUFhcUMsWUFBWSxDQUFDOzs7Ozs7O2VBekRyQyxHQUFRWixPQUFMRCxHQUFFLEtBQUssT0FBRkM7Ozs7O1FBOER6Qjs7Ozs7O0FBR1o7SUFsS001QjtNQUFBQTtBQW9LTiwrREFBZUEsT0FBT0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL0dhbWVNYXAudHN4PzI3YmMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB0eXBlIHsgQnVpbGRpbmdzLCBCdWlsZGluZ1R5cGUsIEJ1aWxkaW5nSW5zdGFuY2UsIEdhbWVUYXNrLCBCdWlsZGluZ0luZm8sIFBsYXllckFjdGlvblN0YXRlLCBSZXNvdXJjZU5vZGUsIFJlc291cmNlTm9kZVR5cGUgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpY29uTWFwIH0gZnJvbSAnLi9HYW1lVUknO1xuaW1wb3J0IFByb2dyZXNzQmFyIGZyb20gJy4vUHJvZ3Jlc3NCYXInO1xuaW1wb3J0IHsgVmlsbGFnZXJJY29uIH0gZnJvbSAnLi9pY29ucy9SZXNvdXJjZUljb25zJztcblxuY29uc3QgQ29uc3RydWN0aW9uVG9vbHRpcDogUmVhY3QuRkM8eyB0YXNrOiBHYW1lVGFzazsgYnVpbGRpbmdJbmZvOiBCdWlsZGluZ0luZm8gfCB1bmRlZmluZWQ7IGJ1aWxkZXJDb3VudDogbnVtYmVyIH0+ID0gKHsgdGFzaywgYnVpbGRpbmdJbmZvLCBidWlsZGVyQ291bnQgfSkgPT4ge1xuICAgIGNvbnN0IFtyZW1haW5pbmdUaW1lLCBzZXRSZW1haW5pbmdUaW1lXSA9IHVzZVN0YXRlKDApO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgY2FsY3VsYXRlUmVtYWluaW5nID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW5kVGltZSA9IHRhc2suc3RhcnRUaW1lICsgdGFzay5kdXJhdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZyA9IE1hdGgubWF4KDAsIGVuZFRpbWUgLSBEYXRlLm5vdygpKTtcbiAgICAgICAgICAgIHNldFJlbWFpbmluZ1RpbWUoTWF0aC5jZWlsKHJlbWFpbmluZyAvIDEwMDApKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjYWxjdWxhdGVSZW1haW5pbmcoKTtcbiAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChjYWxjdWxhdGVSZW1haW5pbmcsIDEwMDApO1xuXG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICB9LCBbdGFza10pO1xuXG4gICAgaWYgKCFidWlsZGluZ0luZm8pIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1zdG9uZS1kYXJrIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkIHB5LTEgcHgtMiBhYnNvbHV0ZSBib3R0b20tZnVsbCBsZWZ0LTEvMiAtdHJhbnNsYXRlLXgtMS8yIG1iLTIgdy1tYXggb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHBvaW50ZXItZXZlbnRzLW5vbmUgdHJhbnNpdGlvbi1vcGFjaXR5IHotMTBcIj5cbiAgICAgICAgICAgIDxwPkNvbnN0cnVjdGluZzoge2J1aWxkaW5nSW5mby5uYW1lfTwvcD5cbiAgICAgICAgICAgIDxwPkJ1aWxkZXJzOiB7YnVpbGRlckNvdW50fTwvcD5cbiAgICAgICAgICAgIDxwPlRpbWUgcmVtYWluaW5nOiB7cmVtYWluaW5nVGltZX1zPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuY29uc3QgUmVzb3VyY2VOb2RlVG9vbHRpcDogUmVhY3QuRkM8eyBub2RlOiBSZXNvdXJjZU5vZGU7IGdhdGhlckluZm86IFJlY29yZDxSZXNvdXJjZU5vZGVUeXBlLCB7IHJhdGU6IG51bWJlciB9PiB9PiA9ICh7IG5vZGUsIGdhdGhlckluZm8gfSkgPT4ge1xuICAgIGNvbnN0IGdhdGhlclJhdGUgPSBub2RlLmFzc2lnbmVkVmlsbGFnZXJzLmxlbmd0aCA+IDAgPyBub2RlLmFzc2lnbmVkVmlsbGFnZXJzLmxlbmd0aCAqIGdhdGhlckluZm9bbm9kZS50eXBlXS5yYXRlIDogMDtcbiAgICBcbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXN0b25lLWRhcmsgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgcHktMSBweC0yIGFic29sdXRlIGJvdHRvbS1mdWxsIGxlZnQtMS8yIC10cmFuc2xhdGUteC0xLzIgbWItMiB3LW1heCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgcG9pbnRlci1ldmVudHMtbm9uZSB0cmFuc2l0aW9uLW9wYWNpdHkgei0xMFwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2FwaXRhbGl6ZSBmb250LWJvbGRcIj57bm9kZS50eXBlfTwvcD5cbiAgICAgICAgICAgIDxwPkFtb3VudDoge01hdGguZmxvb3Iobm9kZS5hbW91bnQpfTwvcD5cbiAgICAgICAgICAgIHtub2RlLmFzc2lnbmVkVmlsbGFnZXJzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIDxociBjbGFzc05hbWU9XCJib3JkZXItc3RvbmUtbGlnaHQvMjAgbXktMVwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDxwPldvcmtlcnM6IHtub2RlLmFzc2lnbmVkVmlsbGFnZXJzLmxlbmd0aH08L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwPlJhdGU6IHtnYXRoZXJSYXRlLnRvRml4ZWQoMSl9L3M8L3A+XG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuXG5pbnRlcmZhY2UgR2FtZU1hcFByb3BzIHtcbiAgICBidWlsZGluZ3M6IEJ1aWxkaW5ncztcbiAgICBhY3RpdmVUYXNrczogR2FtZVRhc2tbXTtcbiAgICBwbGF5ZXJBY3Rpb246IFBsYXllckFjdGlvblN0YXRlO1xuICAgIG9uQ29uZmlybVBsYWNlbWVudDogKHBvc2l0aW9uOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyOyB9KSA9PiB2b2lkO1xuICAgIG9uQ2FuY2VsUGxheWVyQWN0aW9uOiAoKSA9PiB2b2lkO1xuICAgIG9uQnVpbGRpbmdDbGljazogKGJ1aWxkaW5nOiBCdWlsZGluZ0luc3RhbmNlLCByZWN0OiBET01SZWN0KSA9PiB2b2lkO1xuICAgIG1hcERpbWVuc2lvbnM6IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXI7IH07XG4gICAgYnVpbGRpbmdMaXN0OiBCdWlsZGluZ0luZm9bXTtcbiAgICByZXNvdXJjZU5vZGVzOiBSZXNvdXJjZU5vZGVbXTtcbiAgICBvbk9wZW5Bc3NpZ25tZW50UGFuZWw6IChub2RlSWQ6IHN0cmluZywgcmVjdDogRE9NUmVjdCkgPT4gdm9pZDtcbiAgICBvbk9wZW5Db25zdHJ1Y3Rpb25QYW5lbDogKGNvbnN0cnVjdGlvbklkOiBzdHJpbmcsIHJlY3Q6IERPTVJlY3QpID0+IHZvaWQ7XG4gICAgZ2F0aGVySW5mbzogUmVjb3JkPFJlc291cmNlTm9kZVR5cGUsIHsgcmF0ZTogbnVtYmVyIH0+O1xufVxuXG5jb25zdCBHYW1lTWFwOiBSZWFjdC5GQzxHYW1lTWFwUHJvcHM+ID0gKHsgYnVpbGRpbmdzLCBhY3RpdmVUYXNrcywgcGxheWVyQWN0aW9uLCBvbkNvbmZpcm1QbGFjZW1lbnQsIG9uQ2FuY2VsUGxheWVyQWN0aW9uLCBvbkJ1aWxkaW5nQ2xpY2ssIG1hcERpbWVuc2lvbnMsIGJ1aWxkaW5nTGlzdCwgcmVzb3VyY2VOb2Rlcywgb25PcGVuQXNzaWdubWVudFBhbmVsLCBvbk9wZW5Db25zdHJ1Y3Rpb25QYW5lbCwgZ2F0aGVySW5mbyB9KSA9PiB7XG4gICAgY29uc3QgW2hvdmVyZWRDZWxsLCBzZXRIb3ZlcmVkQ2VsbF0gPSB1c2VTdGF0ZTx7IHg6IG51bWJlcjsgeTogbnVtYmVyOyB9IHwgbnVsbD4obnVsbCk7XG5cbiAgICBjb25zdCBjb25zdHJ1Y3Rpb25UYXNrcyA9IHVzZU1lbW8oKCkgPT4gYWN0aXZlVGFza3MuZmlsdGVyKHQgPT4gdC50eXBlID09PSAnYnVpbGQnKSwgW2FjdGl2ZVRhc2tzXSk7XG5cbiAgICBjb25zdCBvY2N1cGllZENlbGxzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNlbGxTZXQgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhidWlsZGluZ3MpLmZsYXQoKS5mb3JFYWNoKGJ1aWxkaW5nID0+IHtcbiAgICAgICAgICAgIGNlbGxTZXQuYWRkKGAke2J1aWxkaW5nLnBvc2l0aW9uLnh9LCR7YnVpbGRpbmcucG9zaXRpb24ueX1gKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0cnVjdGlvblRhc2tzLmZvckVhY2godGFzayA9PiB7XG4gICAgICAgICAgICBpZih0YXNrLnBheWxvYWQ/LnBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2VsbFNldC5hZGQoYCR7dGFzay5wYXlsb2FkLnBvc2l0aW9uLnh9LCR7dGFzay5wYXlsb2FkLnBvc2l0aW9uLnl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXNvdXJjZU5vZGVzLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICAgICAgICBjZWxsU2V0LmFkZChgJHtub2RlLnBvc2l0aW9uLnh9LCR7bm9kZS5wb3NpdGlvbi55fWApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNlbGxTZXQ7XG4gICAgfSwgW2J1aWxkaW5ncywgY29uc3RydWN0aW9uVGFza3MsIHJlc291cmNlTm9kZXNdKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICAgICAgICAgIG9uQ2FuY2VsUGxheWVyQWN0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XG4gICAgfSwgW29uQ2FuY2VsUGxheWVyQWN0aW9uXSk7XG5cbiAgICBjb25zdCBoYW5kbGVDZWxsQ2xpY2sgPSAoeDogbnVtYmVyLCB5OiBudW1iZXIpID0+IHtcbiAgICAgICAgaWYgKHBsYXllckFjdGlvbj8ubW9kZSA9PT0gJ2J1aWxkJykge1xuICAgICAgICAgICAgaWYgKCFvY2N1cGllZENlbGxzLmhhcyhgJHt4fSwke3l9YCkpIHtcbiAgICAgICAgICAgICAgICBvbkNvbmZpcm1QbGFjZW1lbnQoeyB4LCB5IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBnZXRCdWlsZGluZ0F0ID0gKHg6IG51bWJlciwgeTogbnVtYmVyKTogQnVpbGRpbmdJbnN0YW5jZSB8IHVuZGVmaW5lZCA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgYnVpbGRpbmdUeXBlIGluIGJ1aWxkaW5ncykge1xuICAgICAgICAgICAgY29uc3QgZm91bmQgPSBidWlsZGluZ3NbYnVpbGRpbmdUeXBlIGFzIEJ1aWxkaW5nVHlwZV0uZmluZChiID0+IGIucG9zaXRpb24ueCA9PT0geCAmJiBiLnBvc2l0aW9uLnkgPT09IHkpO1xuICAgICAgICAgICAgaWYgKGZvdW5kKSByZXR1cm4gZm91bmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuXG4gICAgY29uc3QgZ2V0Q29uc3RydWN0aW9uQXQgPSAoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBHYW1lVGFzayB8IHVuZGVmaW5lZCA9PiB7XG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3Rpb25UYXNrcy5maW5kKHQgPT4gdC5wYXlsb2FkPy5wb3NpdGlvbj8ueCA9PT0geCAmJiB0LnBheWxvYWQ/LnBvc2l0aW9uPy55ID09PSB5KTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZ2V0UmVzb3VyY2VOb2RlQXQgPSAoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBSZXNvdXJjZU5vZGUgfCB1bmRlZmluZWQgPT4ge1xuICAgICAgICByZXR1cm4gcmVzb3VyY2VOb2Rlcy5maW5kKG4gPT4gbi5wb3NpdGlvbi54ID09PSB4ICYmIG4ucG9zaXRpb24ueSA9PT0geSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgYmctYmxhY2svMzAgcC0yIHJvdW5kZWQtbGcgZ3JpZCBnYXAtMC41YH1cbiAgICAgICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgICAgICAgIGdyaWRUZW1wbGF0ZUNvbHVtbnM6IGByZXBlYXQoJHttYXBEaW1lbnNpb25zLndpZHRofSwgbWlubWF4KDAsIDFmcikpYCxcbiAgICAgICAgICAgICAgICBncmlkVGVtcGxhdGVSb3dzOiBgcmVwZWF0KCR7bWFwRGltZW5zaW9ucy5oZWlnaHR9LCBtaW5tYXgoMCwgMWZyKSlgLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogcGxheWVyQWN0aW9uPy5tb2RlID09PSAnYnVpbGQnID8gJ2NvcHknIDogJ2RlZmF1bHQnXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoKSA9PiBzZXRIb3ZlcmVkQ2VsbChudWxsKX1cbiAgICAgICAgICAgIG9uQ29udGV4dE1lbnU9eyhlKSA9PiB7IGUucHJldmVudERlZmF1bHQoKTsgb25DYW5jZWxQbGF5ZXJBY3Rpb24oKTsgfX1cbiAgICAgICAgPlxuICAgICAgICAgICAge0FycmF5LmZyb20oeyBsZW5ndGg6IG1hcERpbWVuc2lvbnMud2lkdGggKiBtYXBEaW1lbnNpb25zLmhlaWdodCB9KS5tYXAoKF8sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IGluZGV4ICUgbWFwRGltZW5zaW9ucy53aWR0aDtcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gTWF0aC5mbG9vcihpbmRleCAvIG1hcERpbWVuc2lvbnMud2lkdGgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1aWxkaW5nID0gZ2V0QnVpbGRpbmdBdCh4LCB5KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb25zdHJ1Y3Rpb25UYXNrID0gZ2V0Q29uc3RydWN0aW9uQXQoeCwgeSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzb3VyY2VOb2RlID0gZ2V0UmVzb3VyY2VOb2RlQXQoeCwgeSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNPY2N1cGllZCA9ICEhYnVpbGRpbmcgfHwgISFjb25zdHJ1Y3Rpb25UYXNrIHx8ICEhcmVzb3VyY2VOb2RlO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IGdhdGhlclRhc2sgPSByZXNvdXJjZU5vZGUgPyBhY3RpdmVUYXNrcy5maW5kKHQgPT4gdC5pZCA9PT0gcmVzb3VyY2VOb2RlLmlkKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBjb25zdHJ1Y3Rpb25UYXNrID8gYnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSBjb25zdHJ1Y3Rpb25UYXNrLnBheWxvYWQ/LmJ1aWxkaW5nVHlwZSkgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICBsZXQgY2VsbENsYXNzID0gXCJiZy1zdG9uZS1kYXJrLzIwIGhvdmVyOmJnLXN0b25lLWxpZ2h0LzEwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTE1MFwiO1xuICAgICAgICAgICAgICAgIGlmKChyZXNvdXJjZU5vZGUgfHwgY29uc3RydWN0aW9uVGFzaykgJiYgIXBsYXllckFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjZWxsQ2xhc3MgKz0gXCIgY3Vyc29yLXBvaW50ZXIgaG92ZXI6YmctYnJhbmQtYmx1ZS8yMFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyQWN0aW9uPy5tb2RlID09PSAnYnVpbGQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzSG92ZXJlZCA9IGhvdmVyZWRDZWxsPy54ID09PSB4ICYmIGhvdmVyZWRDZWxsPy55ID09PSB5O1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNPY2N1cGllZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbENsYXNzID0gXCJiZy1icmFuZC1yZWQvNDBcIjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxDbGFzcyA9IFwiYmctYnJhbmQtZ3JlZW4vMjAgaG92ZXI6YmctYnJhbmQtZ3JlZW4vNDBcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGlzSG92ZXJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbENsYXNzID0gXCJiZy1icmFuZC1ncmVlbi80MFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtgJHt4fS0ke3l9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHJlbGF0aXZlIGdyb3VwIHctZnVsbCBhc3BlY3Qtc3F1YXJlICR7Y2VsbENsYXNzfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eygpID0+IHNldEhvdmVyZWRDZWxsKHsgeCwgeSB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBsYXllckFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDZWxsQ2xpY2soeCwgeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc291cmNlTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5Bc3NpZ25tZW50UGFuZWwocmVzb3VyY2VOb2RlLmlkLCBlLmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29uc3RydWN0aW9uVGFzaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5Db25zdHJ1Y3Rpb25QYW5lbChjb25zdHJ1Y3Rpb25UYXNrLmlkLCBlLmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYnVpbGRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25CdWlsZGluZ0NsaWNrKGJ1aWxkaW5nLCBlLmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtidWlsZGluZyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBwLTEgdGV4dC1wYXJjaG1lbnQtbGlnaHQgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ljb25NYXBbT2JqZWN0LmtleXMoYnVpbGRpbmdzKS5maW5kKGtleSA9PiBidWlsZGluZ3Nba2V5IGFzIEJ1aWxkaW5nVHlwZV0uc29tZShiID0+IGIuaWQgPT09IGJ1aWxkaW5nLmlkKSkgYXMgQnVpbGRpbmdUeXBlXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1zdG9uZS1kYXJrIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkIHB5LTEgcHgtMiBhYnNvbHV0ZSBib3R0b20tZnVsbCBsZWZ0LTEvMiAtdHJhbnNsYXRlLXgtMS8yIG1iLTIgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHBvaW50ZXItZXZlbnRzLW5vbmUgdHJhbnNpdGlvbi1vcGFjaXR5IHotMTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtidWlsZGluZy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2NvbnN0cnVjdGlvblRhc2sgJiYgY29uc3RydWN0aW9uVGFzay5wYXlsb2FkPy5idWlsZGluZ1R5cGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBwLTEgdGV4dC1wYXJjaG1lbnQtbGlnaHQgb3BhY2l0eS02MCBmbGV4IGZsZXgtY29sIGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciBnYXAtMSBncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aWNvbk1hcFtjb25zdHJ1Y3Rpb25UYXNrLnBheWxvYWQuYnVpbGRpbmdUeXBlXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFByb2dyZXNzQmFyIHN0YXJ0VGltZT17Y29uc3RydWN0aW9uVGFzay5zdGFydFRpbWV9IGR1cmF0aW9uPXtjb25zdHJ1Y3Rpb25UYXNrLmR1cmF0aW9ufSBjbGFzc05hbWU9XCJ3LTEwLzEyIGgtMS41XCIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YnVpbGRpbmdJbmZvICYmIDxDb25zdHJ1Y3Rpb25Ub29sdGlwIHRhc2s9e2NvbnN0cnVjdGlvblRhc2t9IGJ1aWxkaW5nSW5mbz17YnVpbGRpbmdJbmZvfSBidWlsZGVyQ291bnQ9e2NvbnN0cnVjdGlvblRhc2sucGF5bG9hZC52aWxsYWdlcklkcz8ubGVuZ3RoIHx8IDB9IC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KGNvbnN0cnVjdGlvblRhc2sucGF5bG9hZC52aWxsYWdlcklkcz8ubGVuZ3RoIHx8IDApID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0wLjUgcmlnaHQtMC41IGZsZXggaXRlbXMtY2VudGVyIGJnLXN0b25lLWRhcmsvODAgcm91bmRlZC1mdWxsIHB4LTEuNSBweS0wLjUgdGV4dC14cyB0ZXh0LWJyYW5kLWJsdWUgei0xMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0zIGgtM1wiPjxWaWxsYWdlckljb24gLz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0xIGZvbnQtYm9sZFwiPntjb25zdHJ1Y3Rpb25UYXNrLnBheWxvYWQudmlsbGFnZXJJZHM/Lmxlbmd0aH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7cmVzb3VyY2VOb2RlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgcC0xLjUgdGV4dC1wYXJjaG1lbnQtbGlnaHQvODAgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ljb25NYXBbcmVzb3VyY2VOb2RlLnR5cGVdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UmVzb3VyY2VOb2RlVG9vbHRpcCBub2RlPXtyZXNvdXJjZU5vZGV9IGdhdGhlckluZm89e2dhdGhlckluZm99IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtnYXRoZXJUYXNrICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTAuNSB3LTEwLzEyIGgtMS41XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFByb2dyZXNzQmFyIHN0YXJ0VGltZT17Z2F0aGVyVGFzay5zdGFydFRpbWV9IGR1cmF0aW9uPXtnYXRoZXJUYXNrLmR1cmF0aW9ufS8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Jlc291cmNlTm9kZS5hc3NpZ25lZFZpbGxhZ2Vycy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTAuNSByaWdodC0wLjUgZmxleCBpdGVtcy1jZW50ZXIgYmctc3RvbmUtZGFyay84MCByb3VuZGVkLWZ1bGwgcHgtMS41IHB5LTAuNSB0ZXh0LXhzIHRleHQtYnJhbmQtYmx1ZSB6LTEwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTMgaC0zXCI+PFZpbGxhZ2VySWNvbiAvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTEgZm9udC1ib2xkXCI+e3Jlc291cmNlTm9kZS5hc3NpZ25lZFZpbGxhZ2Vycy5sZW5ndGh9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge3BsYXllckFjdGlvbj8ubW9kZSA9PT0gJ2J1aWxkJyAmJiBob3ZlcmVkQ2VsbD8ueCA9PT0geCAmJiBob3ZlcmVkQ2VsbD8ueSA9PT0geSAmJiAhaXNPY2N1cGllZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIHAtMSB0ZXh0LXBhcmNobWVudC1saWdodCBvcGFjaXR5LTUwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ljb25NYXBbcGxheWVyQWN0aW9uLmJ1aWxkaW5nVHlwZV19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBHYW1lTWFwO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwiaWNvbk1hcCIsIlByb2dyZXNzQmFyIiwiVmlsbGFnZXJJY29uIiwiQ29uc3RydWN0aW9uVG9vbHRpcCIsInRhc2siLCJidWlsZGluZ0luZm8iLCJidWlsZGVyQ291bnQiLCJyZW1haW5pbmdUaW1lIiwic2V0UmVtYWluaW5nVGltZSIsImNhbGN1bGF0ZVJlbWFpbmluZyIsImVuZFRpbWUiLCJzdGFydFRpbWUiLCJkdXJhdGlvbiIsInJlbWFpbmluZyIsIk1hdGgiLCJtYXgiLCJEYXRlIiwibm93IiwiY2VpbCIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiZGl2IiwiY2xhc3NOYW1lIiwicCIsIm5hbWUiLCJSZXNvdXJjZU5vZGVUb29sdGlwIiwibm9kZSIsImdhdGhlckluZm8iLCJnYXRoZXJSYXRlIiwiYXNzaWduZWRWaWxsYWdlcnMiLCJsZW5ndGgiLCJ0eXBlIiwicmF0ZSIsImZsb29yIiwiYW1vdW50IiwiaHIiLCJ0b0ZpeGVkIiwiR2FtZU1hcCIsImJ1aWxkaW5ncyIsImFjdGl2ZVRhc2tzIiwicGxheWVyQWN0aW9uIiwib25Db25maXJtUGxhY2VtZW50Iiwib25DYW5jZWxQbGF5ZXJBY3Rpb24iLCJvbkJ1aWxkaW5nQ2xpY2siLCJtYXBEaW1lbnNpb25zIiwiYnVpbGRpbmdMaXN0IiwicmVzb3VyY2VOb2RlcyIsIm9uT3BlbkFzc2lnbm1lbnRQYW5lbCIsIm9uT3BlbkNvbnN0cnVjdGlvblBhbmVsIiwiaG92ZXJlZENlbGwiLCJzZXRIb3ZlcmVkQ2VsbCIsImNvbnN0cnVjdGlvblRhc2tzIiwiZmlsdGVyIiwidCIsIm9jY3VwaWVkQ2VsbHMiLCJjZWxsU2V0IiwiU2V0IiwiT2JqZWN0IiwidmFsdWVzIiwiZmxhdCIsImZvckVhY2giLCJidWlsZGluZyIsImFkZCIsInBvc2l0aW9uIiwieCIsInkiLCJwYXlsb2FkIiwiaGFuZGxlS2V5RG93biIsImUiLCJrZXkiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZUNlbGxDbGljayIsIm1vZGUiLCJoYXMiLCJnZXRCdWlsZGluZ0F0IiwiYnVpbGRpbmdUeXBlIiwiZm91bmQiLCJmaW5kIiwiYiIsInVuZGVmaW5lZCIsImdldENvbnN0cnVjdGlvbkF0IiwiZ2V0UmVzb3VyY2VOb2RlQXQiLCJuIiwic3R5bGUiLCJncmlkVGVtcGxhdGVDb2x1bW5zIiwid2lkdGgiLCJncmlkVGVtcGxhdGVSb3dzIiwiaGVpZ2h0IiwiY3Vyc29yIiwib25Nb3VzZUxlYXZlIiwib25Db250ZXh0TWVudSIsInByZXZlbnREZWZhdWx0IiwiQXJyYXkiLCJmcm9tIiwibWFwIiwiXyIsImluZGV4IiwiY29uc3RydWN0aW9uVGFzayIsInJlc291cmNlTm9kZSIsImlzT2NjdXBpZWQiLCJnYXRoZXJUYXNrIiwiaWQiLCJjZWxsQ2xhc3MiLCJpc0hvdmVyZWQiLCJvbk1vdXNlRW50ZXIiLCJvbkNsaWNrIiwiY3VycmVudFRhcmdldCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImtleXMiLCJzb21lIiwidmlsbGFnZXJJZHMiLCJzcGFuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/GameMap.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/GameUI.tsx":
/*!*******************************!*\
  !*** ./components/GameUI.tsx ***!
  \*******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   iconMap: function() { return /* binding */ iconMap; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./icons/ResourceIcons */ \"(app-pages-browser)/./components/icons/ResourceIcons.tsx\");\n/* harmony import */ var _GameMap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GameMap */ \"(app-pages-browser)/./components/GameMap.tsx\");\n/* harmony import */ var _barrel_optimize_names_ScrollText_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=ScrollText!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/scroll-text.js\");\n\n\n\n\n\nconst ResourceChange = (param)=>{\n    let { change } = param;\n    const isPositive = change > 0;\n    const color = isPositive ? \"text-brand-green\" : \"text-brand-red\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n        className: \"absolute -top-1 right-0 text-lg font-bold opacity-0 animate-fade-up-out \".concat(color),\n        children: [\n            isPositive ? \"+\" : \"\",\n            change\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 43,\n        columnNumber: 9\n    }, undefined);\n};\n_c = ResourceChange;\nconst HeaderStat = (param)=>{\n    let { icon, value, delta, tooltip, colorClass } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative group flex items-center space-x-2 bg-stone-dark/70 px-3 py-1 rounded-md border border-stone-light/30\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-5 h-5 \".concat(colorClass),\n                children: icon\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                lineNumber: 51,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"font-bold text-md text-parchment-light\",\n                children: value\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                lineNumber: 52,\n                columnNumber: 9\n            }, undefined),\n            delta != null && delta !== 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ResourceChange, {\n                change: delta\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                lineNumber: 53,\n                columnNumber: 42\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute bottom-full mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                children: tooltip\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                lineNumber: 54,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 50,\n        columnNumber: 5\n    }, undefined);\n};\n_c1 = HeaderStat;\nconst iconMap = {\n    food: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.FoodIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 61,\n        columnNumber: 11\n    }, undefined),\n    wood: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.WoodIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 61,\n        columnNumber: 31\n    }, undefined),\n    gold: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GoldIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 61,\n        columnNumber: 51\n    }, undefined),\n    stone: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.StoneIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 61,\n        columnNumber: 72\n    }, undefined),\n    villager: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.VillagerIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 62,\n        columnNumber: 15\n    }, undefined),\n    swordsman: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.SwordIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 63,\n        columnNumber: 16\n    }, undefined),\n    archer: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BowIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 64,\n        columnNumber: 13\n    }, undefined),\n    knight: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.KnightIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 65,\n        columnNumber: 13\n    }, undefined),\n    catapult: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.CatapultIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 66,\n        columnNumber: 15\n    }, undefined),\n    houses: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.HouseIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 67,\n        columnNumber: 13\n    }, undefined),\n    barracks: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BarracksIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 67,\n        columnNumber: 38\n    }, undefined),\n    archeryRange: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.ArcheryRangeIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 68,\n        columnNumber: 19\n    }, undefined),\n    stable: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.StableIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 68,\n        columnNumber: 49\n    }, undefined),\n    siegeWorkshop: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.SiegeWorkshopIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 69,\n        columnNumber: 20\n    }, undefined),\n    blacksmith: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BlacksmithIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 69,\n        columnNumber: 55\n    }, undefined),\n    watchTower: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.WatchTowerIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 70,\n        columnNumber: 17\n    }, undefined),\n    townCenter: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.TownCenterIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 70,\n        columnNumber: 48\n    }, undefined),\n    age: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.AgeIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 71,\n        columnNumber: 10\n    }, undefined),\n    event: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.EventIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 71,\n        columnNumber: 30\n    }, undefined),\n    system: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.SystemIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 71,\n        columnNumber: 53\n    }, undefined)\n};\nconst LogIcon = (param)=>{\n    let { icon } = param;\n    const foundIcon = iconMap[icon];\n    if (!foundIcon) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"w-4 h-4 mr-2 mt-0.5 flex-shrink-0\",\n        children: foundIcon\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 77,\n        columnNumber: 12\n    }, undefined);\n};\n_c2 = LogIcon;\nconst GameUI = (props)=>{\n    const { civilization, resources, units, buildings, population, currentAge, gameLog, currentEvent, onEventChoice, resourceDeltas, activityStatus, unitList, buildingList, onOpenUnitPanel, onOpenBuildingPanel, onOpenAllBuildingsPanel, playerAction, onConfirmPlacement, onCancelPlayerAction, onBuildingClick, mapDimensions, activeTasks, onExitGame, onOpenCivPanel, resourceNodes, onOpenAssignmentPanel, onOpenConstructionPanel, gatherInfo } = props;\n    const buildingCounts = Object.keys(buildings).reduce((acc, key)=>{\n        const buildingType = key;\n        acc[buildingType] = buildings[buildingType].length;\n        return acc;\n    }, {});\n    const militaryUnitCounts = units.military.reduce((acc, unit)=>{\n        acc[unit.unitType] = (acc[unit.unitType] || 0) + 1;\n        return acc;\n    }, {});\n    const busyVillagerCount = new Set(activeTasks.flatMap((t)=>{\n        var _t_payload;\n        return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.villagerIds) || [];\n    })).size;\n    const totalBuildingsCount = Object.values(buildingCounts).reduce((a, b)=>a + b, 0);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"w-full h-full bg-stone-dark p-4 rounded-lg shadow-2xl border-2 border-stone-light flex flex-col space-y-4\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"flex justify-between items-center bg-black/20 p-2 rounded-lg\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2 text-brand-gold\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative group\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: (e)=>onOpenCivPanel(e.currentTarget.getBoundingClientRect()),\n                                className: \"flex items-center gap-2 text-brand-gold hover:text-yellow-400 transition-colors\",\n                                \"aria-label\": \"View Civilization Details\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-8 h-8\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.AgeIcon, {}, void 0, false, {\n                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                            lineNumber: 110,\n                                            columnNumber: 54\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                        lineNumber: 110,\n                                        columnNumber: 29\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"text-2xl font-serif text-parchment-light\",\n                                        children: currentAge\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                        lineNumber: 111,\n                                        columnNumber: 29\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-5 h-5 text-parchment-dark/70 ml-1\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ScrollText_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                            lineNumber: 112,\n                                            columnNumber: 82\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                        lineNumber: 112,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                lineNumber: 105,\n                                columnNumber: 26\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                            lineNumber: 104,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                        lineNumber: 103,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(HeaderStat, {\n                        icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.PopulationIcon, {}, void 0, false, {\n                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                            lineNumber: 117,\n                            columnNumber: 35\n                        }, void 0),\n                        value: \"\".concat(population.current, \"/\").concat(population.capacity),\n                        tooltip: \"Population / Capacity\",\n                        colorClass: \"text-brand-blue\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                        lineNumber: 117,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(HeaderStat, {\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.FoodIcon, {}, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 120,\n                                    columnNumber: 39\n                                }, void 0),\n                                value: Math.floor(resources.food),\n                                delta: resourceDeltas.food,\n                                tooltip: \"Food\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                lineNumber: 120,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(HeaderStat, {\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.WoodIcon, {}, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 121,\n                                    columnNumber: 39\n                                }, void 0),\n                                value: Math.floor(resources.wood),\n                                delta: resourceDeltas.wood,\n                                tooltip: \"Wood\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                lineNumber: 121,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(HeaderStat, {\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GoldIcon, {}, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 122,\n                                    columnNumber: 39\n                                }, void 0),\n                                value: Math.floor(resources.gold),\n                                delta: resourceDeltas.gold,\n                                tooltip: \"Gold\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                lineNumber: 122,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(HeaderStat, {\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.StoneIcon, {}, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 123,\n                                    columnNumber: 39\n                                }, void 0),\n                                value: Math.floor(resources.stone),\n                                delta: resourceDeltas.stone,\n                                tooltip: \"Stone\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                lineNumber: 123,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative group pl-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: onExitGame,\n                                        className: \"w-8 h-8 p-1 text-parchment-dark hover:text-brand-red transition-colors duration-200\",\n                                        \"aria-label\": \"Exit to Main Menu\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.ExitIcon, {}, void 0, false, {\n                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                            lineNumber: 131,\n                                            columnNumber: 29\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                        lineNumber: 126,\n                                        columnNumber: 26\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                        children: \"Exit to Menu\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                        lineNumber: 133,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                lineNumber: 125,\n                                columnNumber: 21\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                        lineNumber: 119,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                lineNumber: 102,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-grow grid grid-cols-1 gap-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-stone-dark/30 p-4 rounded-lg border border-stone-light/30 flex flex-col gap-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_GameMap__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                    buildings: buildings,\n                                    activeTasks: activeTasks,\n                                    playerAction: playerAction,\n                                    onConfirmPlacement: onConfirmPlacement,\n                                    onCancelPlayerAction: onCancelPlayerAction,\n                                    onBuildingClick: onBuildingClick,\n                                    mapDimensions: mapDimensions,\n                                    buildingList: buildingList,\n                                    resourceNodes: resourceNodes,\n                                    onOpenAssignmentPanel: onOpenAssignmentPanel,\n                                    onOpenConstructionPanel: onOpenConstructionPanel,\n                                    gatherInfo: gatherInfo\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 145,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute bottom-2 left-1/2 -translate-x-1/2 flex items-center gap-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative group\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: (e)=>onOpenUnitPanel(\"villagers\", e.currentTarget.getBoundingClientRect()),\n                                                    className: \"sci-fi-button flex items-center gap-3 px-4 py-2 !rounded-lg\",\n                                                    \"aria-label\": \"Manage Villagers (\".concat(units.villagers.length, \")\"),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-7 h-7 text-brand-blue\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.VillagerIcon, {}, void 0, false, {\n                                                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                                lineNumber: 167,\n                                                                columnNumber: 78\n                                                            }, undefined)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 167,\n                                                            columnNumber: 37\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-xl font-bold\",\n                                                            children: units.villagers.length\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 168,\n                                                            columnNumber: 37\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 162,\n                                                    columnNumber: 33\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-full mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"font-bold\",\n                                                            children: \"Villagers\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 171,\n                                                            columnNumber: 37\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            children: [\n                                                                \"Idle: \",\n                                                                units.villagers.length - busyVillagerCount\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 172,\n                                                            columnNumber: 37\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            children: [\n                                                                \"Busy: \",\n                                                                busyVillagerCount\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 173,\n                                                            columnNumber: 37\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 170,\n                                                    columnNumber: 33\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                            lineNumber: 161,\n                                            columnNumber: 29\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative group\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: (e)=>onOpenUnitPanel(\"military\", e.currentTarget.getBoundingClientRect()),\n                                                    className: \"sci-fi-button flex items-center gap-3 px-4 py-2 !rounded-lg\",\n                                                    \"aria-label\": \"Manage Military (\".concat(units.military.length, \")\"),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-7 h-7 text-brand-red\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.SwordIcon, {}, void 0, false, {\n                                                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                                lineNumber: 184,\n                                                                columnNumber: 77\n                                                            }, undefined)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 184,\n                                                            columnNumber: 37\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-xl font-bold\",\n                                                            children: units.military.length\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 185,\n                                                            columnNumber: 37\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 179,\n                                                    columnNumber: 33\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-full mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"font-bold\",\n                                                            children: \"Military Forces\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 188,\n                                                            columnNumber: 37\n                                                        }, undefined),\n                                                        Object.keys(militaryUnitCounts).length > 0 ? Object.entries(militaryUnitCounts).map((param)=>{\n                                                            let [type, count] = param;\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"capitalize text-parchment-dark\",\n                                                                children: [\n                                                                    type,\n                                                                    \": \",\n                                                                    count\n                                                                ]\n                                                            }, type, true, {\n                                                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                                lineNumber: 191,\n                                                                columnNumber: 45\n                                                            }, undefined);\n                                                        }) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            children: \"No forces trained.\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 193,\n                                                            columnNumber: 41\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 187,\n                                                    columnNumber: 33\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                            lineNumber: 178,\n                                            columnNumber: 29\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative group\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: (e)=>onOpenAllBuildingsPanel(e.currentTarget.getBoundingClientRect()),\n                                                    className: \"sci-fi-button flex items-center gap-3 px-4 py-2 !rounded-lg\",\n                                                    \"aria-label\": \"View All Buildings (\".concat(totalBuildingsCount, \")\"),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-7 h-7 text-parchment-dark\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.WatchTowerIcon, {}, void 0, false, {\n                                                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                                lineNumber: 204,\n                                                                columnNumber: 82\n                                                            }, undefined)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 204,\n                                                            columnNumber: 37\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-xl font-bold\",\n                                                            children: totalBuildingsCount\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                            lineNumber: 205,\n                                                            columnNumber: 37\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 199,\n                                                    columnNumber: 33\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-full mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                    children: \"View All Structures\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 207,\n                                                    columnNumber: 33\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                            lineNumber: 198,\n                                            columnNumber: 29\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 159,\n                                    columnNumber: 26\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                            lineNumber: 144,\n                            columnNumber: 22\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-col flex-grow\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-2xl font-serif text-center mb-1\",\n                                    children: \"Chronicles\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 215,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-center text-parchment-dark text-sm italic mb-3 h-5\",\n                                    children: activityStatus\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 216,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-parchment-dark text-stone-dark p-4 rounded-lg shadow-inner min-h-[150px] mb-4 flex flex-col justify-center\",\n                                    children: currentEvent ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"mb-4\",\n                                                children: currentEvent.message\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                lineNumber: 221,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex flex-col sm:flex-row gap-2 justify-center\",\n                                                children: currentEvent.choices.map((choice)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>onEventChoice(choice),\n                                                        className: \"bg-stone-light hover:bg-stone-dark text-parchment-light font-bold py-2 px-4 rounded-md transition duration-200\",\n                                                        children: choice.text\n                                                    }, choice.text, false, {\n                                                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                        lineNumber: 224,\n                                                        columnNumber: 45\n                                                    }, undefined))\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                lineNumber: 222,\n                                                columnNumber: 37\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                        lineNumber: 220,\n                                        columnNumber: 33\n                                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-center text-stone-light\",\n                                        children: \"The air is calm. Your people await your command.\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                        lineNumber: 231,\n                                        columnNumber: 33\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 218,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-grow bg-black/30 p-3 rounded-lg overflow-y-auto h-48\",\n                                    children: gameLog.map((log, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-start text-sm mb-1 \".concat(index === 0 ? \"text-parchment-light\" : \"text-parchment-dark\"),\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(LogIcon, {\n                                                    icon: log.icon\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 238,\n                                                    columnNumber: 37\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: log.message\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                                    lineNumber: 239,\n                                                    columnNumber: 37\n                                                }, undefined)\n                                            ]\n                                        }, log.id, true, {\n                                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                            lineNumber: 237,\n                                            columnNumber: 33\n                                        }, undefined))\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                                    lineNumber: 235,\n                                    columnNumber: 25\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/GameUI.tsx\",\n                            lineNumber: 214,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/GameUI.tsx\",\n                    lineNumber: 143,\n                    columnNumber: 17\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/GameUI.tsx\",\n                lineNumber: 141,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/GameUI.tsx\",\n        lineNumber: 100,\n        columnNumber: 9\n    }, undefined);\n};\n_c3 = GameUI;\n/* harmony default export */ __webpack_exports__[\"default\"] = (GameUI);\nvar _c, _c1, _c2, _c3;\n$RefreshReg$(_c, \"ResourceChange\");\n$RefreshReg$(_c1, \"HeaderStat\");\n$RefreshReg$(_c2, \"LogIcon\");\n$RefreshReg$(_c3, \"GameUI\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvR2FtZVVJLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUMwQjtBQUVzUztBQUNoUztBQUNVO0FBaUMxQyxNQUFNeUIsaUJBQStDO1FBQUMsRUFBRUMsTUFBTSxFQUFFO0lBQzVELE1BQU1DLGFBQWFELFNBQVM7SUFDNUIsTUFBTUUsUUFBUUQsYUFBYSxxQkFBcUI7SUFDaEQscUJBQ0ksOERBQUNFO1FBQUtDLFdBQVcsMkVBQWlGLE9BQU5GOztZQUN2RkQsYUFBYSxNQUFNO1lBQUlEOzs7Ozs7O0FBR3BDO0tBUk1EO0FBVU4sTUFBTU0sYUFBaUk7UUFBQyxFQUFFQyxJQUFJLEVBQUVDLEtBQUssRUFBRUMsS0FBSyxFQUFFQyxPQUFPLEVBQUVDLFVBQVUsRUFBRTt5QkFDL0ssOERBQUNDO1FBQUlQLFdBQVU7OzBCQUNYLDhEQUFDTztnQkFBSVAsV0FBVyxXQUFzQixPQUFYTTswQkFBZUo7Ozs7OzswQkFDMUMsOERBQUNIO2dCQUFLQyxXQUFVOzBCQUEwQ0c7Ozs7OztZQUN6REMsU0FBUyxRQUFRQSxVQUFVLG1CQUFLLDhEQUFDVDtnQkFBZUMsUUFBUVE7Ozs7OzswQkFDekQsOERBQUNHO2dCQUFJUCxXQUFVOzBCQUNWSzs7Ozs7Ozs7Ozs7OztNQU5QSjtBQVdDLE1BQU1PLFVBQWdEO0lBQ3pEQyxvQkFBTSw4REFBQ3RDLDBEQUFRQTs7Ozs7SUFBS3VDLG9CQUFNLDhEQUFDdEMsMERBQVFBOzs7OztJQUFLdUMsb0JBQU0sOERBQUN0QywwREFBUUE7Ozs7O0lBQUt1QyxxQkFBTyw4REFBQ3RDLDJEQUFTQTs7Ozs7SUFDN0V1Qyx3QkFBVSw4REFBQ25DLDhEQUFZQTs7Ozs7SUFDdkJvQyx5QkFBVyw4REFBQ25DLDJEQUFTQTs7Ozs7SUFDckJvQyxzQkFBUSw4REFBQ25DLHlEQUFPQTs7Ozs7SUFDaEJvQyxzQkFBUSw4REFBQ25DLDREQUFVQTs7Ozs7SUFDbkJvQyx3QkFBVSw4REFBQ25DLDhEQUFZQTs7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Ozs4Q0FFeEUsOERBQUNwQztvQ0FBSVAsV0FBVTs4Q0FDVndDLDZCQUNHLDhEQUFDakM7OzBEQUNHLDhEQUFDMEY7Z0RBQUVqRyxXQUFVOzBEQUFRd0MsYUFBYThELE9BQU87Ozs7OzswREFDekMsOERBQUMvRjtnREFBSVAsV0FBVTswREFDVndDLGFBQWErRCxPQUFPLENBQUNKLEdBQUcsQ0FBQ0ssQ0FBQUEsdUJBQ3RCLDhEQUFDbkI7d0RBQXlCQyxTQUFTLElBQU03QyxjQUFjK0Q7d0RBQVN4RyxXQUFVO2tFQUNyRXdHLE9BQU9DLElBQUk7dURBREhELE9BQU9DLElBQUk7Ozs7Ozs7Ozs7Ozs7OztrRUFPcEMsOERBQUNSO3dDQUFFakcsV0FBVTtrREFBK0I7Ozs7Ozs7Ozs7OzhDQUlwRCw4REFBQ087b0NBQUlQLFdBQVU7OENBQ1Z1QyxRQUFRNEQsR0FBRyxDQUFDLENBQUNPLEtBQUtDLHNCQUNmLDhEQUFDcEc7NENBQWlCUCxXQUFXLGlDQUE4RixPQUE3RDJHLFVBQVUsSUFBSSx5QkFBeUI7OzhEQUNqRyw4REFBQzlFO29EQUFRM0IsTUFBTXdHLElBQUl4RyxJQUFJOzs7Ozs7OERBQ3ZCLDhEQUFDSDs4REFBTTJHLElBQUlKLE9BQU87Ozs7Ozs7MkNBRlpJLElBQUlFLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVdoRDtNQXhLTTdFO0FBMEtOLCtEQUFlQSxNQUFNQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvR2FtZVVJLnRzeD8wZjI1Il0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB0eXBlIHsgQ2l2aWxpemF0aW9uLCBSZXNvdXJjZXMsIFVuaXRzLCBCdWlsZGluZ3MsIEdhbWVFdmVudCwgR2FtZUxvZ0VudHJ5LCBMb2dJY29uVHlwZSwgUmVzb3VyY2VEZWx0YXMsIEJ1aWxkaW5nVHlwZSwgQnVpbGRpbmdJbmZvLCBVbml0SW5mbywgTWlsaXRhcnlVbml0VHlwZSwgQnVpbGRpbmdJbnN0YW5jZSwgR2FtZVRhc2ssIFBsYXllckFjdGlvblN0YXRlLCBSZXNvdXJjZU5vZGUsIFJlc291cmNlTm9kZVR5cGUgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBGb29kSWNvbiwgV29vZEljb24sIEdvbGRJY29uLCBTdG9uZUljb24sIFBvcHVsYXRpb25JY29uLCBCYXJyYWNrc0ljb24sIEhvdXNlSWNvbiwgVmlsbGFnZXJJY29uLCBTd29yZEljb24sIEJvd0ljb24sIEtuaWdodEljb24sIENhdGFwdWx0SWNvbiwgRXZlbnRJY29uLCBTeXN0ZW1JY29uLCBBZ2VJY29uLCBBcmNoZXJ5UmFuZ2VJY29uLCBTdGFibGVJY29uLCBTaWVnZVdvcmtzaG9wSWNvbiwgQmxhY2tzbWl0aEljb24sIFdhdGNoVG93ZXJJY29uLCBFeGl0SWNvbiwgVG93bkNlbnRlckljb24gfSBmcm9tICcuL2ljb25zL1Jlc291cmNlSWNvbnMnO1xuaW1wb3J0IEdhbWVNYXAgZnJvbSAnLi9HYW1lTWFwJztcbmltcG9ydCB7IFNjcm9sbFRleHQgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuXG5pbnRlcmZhY2UgR2FtZVVJUHJvcHMge1xuICAgIGNpdmlsaXphdGlvbjogQ2l2aWxpemF0aW9uO1xuICAgIHJlc291cmNlczogUmVzb3VyY2VzO1xuICAgIHVuaXRzOiBVbml0cztcbiAgICBidWlsZGluZ3M6IEJ1aWxkaW5ncztcbiAgICBwb3B1bGF0aW9uOiB7IGN1cnJlbnQ6IG51bWJlcjsgY2FwYWNpdHk6IG51bWJlciB9O1xuICAgIGN1cnJlbnRBZ2U6IHN0cmluZztcbiAgICBnYW1lTG9nOiBHYW1lTG9nRW50cnlbXTtcbiAgICBjdXJyZW50RXZlbnQ6IEdhbWVFdmVudCB8IG51bGw7XG4gICAgb25FdmVudENob2ljZTogKGNob2ljZTogR2FtZUV2ZW50WydjaG9pY2VzJ11bMF0pID0+IHZvaWQ7XG4gICAgcmVzb3VyY2VEZWx0YXM6IFJlc291cmNlRGVsdGFzO1xuICAgIGFjdGl2aXR5U3RhdHVzOiBzdHJpbmc7XG4gICAgdW5pdExpc3Q6IFVuaXRJbmZvW107XG4gICAgYnVpbGRpbmdMaXN0OiBCdWlsZGluZ0luZm9bXTtcbiAgICBvbk9wZW5Vbml0UGFuZWw6ICh0eXBlOiAndmlsbGFnZXJzJyB8ICdtaWxpdGFyeScsIHJlY3Q6IERPTVJlY3QpID0+IHZvaWQ7XG4gICAgb25PcGVuQnVpbGRpbmdQYW5lbDogKHR5cGU6IEJ1aWxkaW5nVHlwZSwgaW5zdGFuY2VJZDogc3RyaW5nLCByZWN0OiBET01SZWN0KSA9PiB2b2lkO1xuICAgIG9uT3BlbkFsbEJ1aWxkaW5nc1BhbmVsOiAocmVjdDogRE9NUmVjdCkgPT4gdm9pZDtcbiAgICBwbGF5ZXJBY3Rpb246IFBsYXllckFjdGlvblN0YXRlO1xuICAgIG9uQ29uZmlybVBsYWNlbWVudDogKHBvc2l0aW9uOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0pID0+IHZvaWQ7XG4gICAgb25DYW5jZWxQbGF5ZXJBY3Rpb246ICgpID0+IHZvaWQ7XG4gICAgb25CdWlsZGluZ0NsaWNrOiAoYnVpbGRpbmc6IEJ1aWxkaW5nSW5zdGFuY2UsIHJlY3Q6IERPTVJlY3QpID0+IHZvaWQ7XG4gICAgbWFwRGltZW5zaW9uczogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlcjsgfTtcbiAgICBhY3RpdmVUYXNrczogR2FtZVRhc2tbXTtcbiAgICBvbkV4aXRHYW1lOiAoKSA9PiB2b2lkO1xuICAgIG9uT3BlbkNpdlBhbmVsOiAocmVjdDogRE9NUmVjdCkgPT4gdm9pZDtcbiAgICByZXNvdXJjZU5vZGVzOiBSZXNvdXJjZU5vZGVbXTtcbiAgICBvbk9wZW5Bc3NpZ25tZW50UGFuZWw6IChub2RlSWQ6IHN0cmluZywgcmVjdDogRE9NUmVjdCkgPT4gdm9pZDtcbiAgICBvbk9wZW5Db25zdHJ1Y3Rpb25QYW5lbDogKGNvbnN0cnVjdGlvbklkOiBzdHJpbmcsIHJlY3Q6IERPTVJlY3QpID0+IHZvaWQ7XG4gICAgZ2F0aGVySW5mbzogUmVjb3JkPFJlc291cmNlTm9kZVR5cGUsIHsgcmF0ZTogbnVtYmVyIH0+O1xufVxuXG5jb25zdCBSZXNvdXJjZUNoYW5nZTogUmVhY3QuRkM8eyBjaGFuZ2U6IG51bWJlciB9PiA9ICh7IGNoYW5nZSB9KSA9PiB7XG4gICAgY29uc3QgaXNQb3NpdGl2ZSA9IGNoYW5nZSA+IDA7XG4gICAgY29uc3QgY29sb3IgPSBpc1Bvc2l0aXZlID8gJ3RleHQtYnJhbmQtZ3JlZW4nIDogJ3RleHQtYnJhbmQtcmVkJztcbiAgICByZXR1cm4gKFxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2BhYnNvbHV0ZSAtdG9wLTEgcmlnaHQtMCB0ZXh0LWxnIGZvbnQtYm9sZCBvcGFjaXR5LTAgYW5pbWF0ZS1mYWRlLXVwLW91dCAke2NvbG9yfWB9PlxuICAgICAgICAgICAge2lzUG9zaXRpdmUgPyAnKycgOiAnJ317Y2hhbmdlfVxuICAgICAgICA8L3NwYW4+XG4gICAgKTtcbn07XG5cbmNvbnN0IEhlYWRlclN0YXQ6IFJlYWN0LkZDPHsgaWNvbjogUmVhY3QuUmVhY3ROb2RlOyB2YWx1ZTogc3RyaW5nIHwgbnVtYmVyOyBkZWx0YT86IG51bWJlcjsgdG9vbHRpcDogc3RyaW5nOyBjb2xvckNsYXNzPzogc3RyaW5nOyB9PiA9ICh7IGljb24sIHZhbHVlLCBkZWx0YSwgdG9vbHRpcCwgY29sb3JDbGFzcyB9KSA9PiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBncm91cCBmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgYmctc3RvbmUtZGFyay83MCBweC0zIHB5LTEgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLXN0b25lLWxpZ2h0LzMwXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdy01IGgtNSAke2NvbG9yQ2xhc3N9YH0+e2ljb259PC9kaXY+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LW1kIHRleHQtcGFyY2htZW50LWxpZ2h0XCI+e3ZhbHVlfTwvc3Bhbj5cbiAgICAgICAge2RlbHRhICE9IG51bGwgJiYgZGVsdGEgIT09IDAgJiYgPFJlc291cmNlQ2hhbmdlIGNoYW5nZT17ZGVsdGF9IC8+fVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIG1iLTIgdy1tYXggcHgtMiBweS0xIGJnLXN0b25lLWRhcmsgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBwb2ludGVyLWV2ZW50cy1ub25lIHotMTBcIj5cbiAgICAgICAgICAgIHt0b29sdGlwfVxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbik7XG5cbmV4cG9ydCBjb25zdCBpY29uTWFwOiBSZWNvcmQ8TG9nSWNvblR5cGUsIFJlYWN0LlJlYWN0Tm9kZT4gPSB7XG4gICAgZm9vZDogPEZvb2RJY29uIC8+LCB3b29kOiA8V29vZEljb24gLz4sIGdvbGQ6IDxHb2xkSWNvbiAvPiwgc3RvbmU6IDxTdG9uZUljb24gLz4sXG4gICAgdmlsbGFnZXI6IDxWaWxsYWdlckljb24gLz4sIFxuICAgIHN3b3Jkc21hbjogPFN3b3JkSWNvbiAvPixcbiAgICBhcmNoZXI6IDxCb3dJY29uIC8+LFxuICAgIGtuaWdodDogPEtuaWdodEljb24gLz4sXG4gICAgY2F0YXB1bHQ6IDxDYXRhcHVsdEljb24gLz4sXG4gICAgaG91c2VzOiA8SG91c2VJY29uIC8+LCBiYXJyYWNrczogPEJhcnJhY2tzSWNvbiAvPiwgXG4gICAgYXJjaGVyeVJhbmdlOiA8QXJjaGVyeVJhbmdlSWNvbiAvPiwgc3RhYmxlOiA8U3RhYmxlSWNvbiAvPixcbiAgICBzaWVnZVdvcmtzaG9wOiA8U2llZ2VXb3Jrc2hvcEljb24gLz4sIGJsYWNrc21pdGg6IDxCbGFja3NtaXRoSWNvbiAvPixcbiAgICB3YXRjaFRvd2VyOiA8V2F0Y2hUb3dlckljb24vPiwgdG93bkNlbnRlcjogPFRvd25DZW50ZXJJY29uIC8+LFxuICAgIGFnZTogPEFnZUljb24gLz4sIGV2ZW50OiA8RXZlbnRJY29uIC8+LCBzeXN0ZW06IDxTeXN0ZW1JY29uIC8+LFxufTtcblxuY29uc3QgTG9nSWNvbjogUmVhY3QuRkM8e2ljb246IExvZ0ljb25UeXBlfT4gPSAoe2ljb259KSA9PiB7XG4gICAgY29uc3QgZm91bmRJY29uID0gaWNvbk1hcFtpY29uXTtcbiAgICBpZiAoIWZvdW5kSWNvbikgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yIG10LTAuNSBmbGV4LXNocmluay0wXCI+e2ZvdW5kSWNvbn08L2Rpdj47XG59XG5cbmNvbnN0IEdhbWVVSTogUmVhY3QuRkM8R2FtZVVJUHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgICBjaXZpbGl6YXRpb24sIHJlc291cmNlcywgdW5pdHMsIGJ1aWxkaW5ncywgcG9wdWxhdGlvbiwgY3VycmVudEFnZSwgZ2FtZUxvZywgY3VycmVudEV2ZW50LCBvbkV2ZW50Q2hvaWNlLCByZXNvdXJjZURlbHRhcywgYWN0aXZpdHlTdGF0dXMsIHVuaXRMaXN0LCBidWlsZGluZ0xpc3QsIG9uT3BlblVuaXRQYW5lbCwgb25PcGVuQnVpbGRpbmdQYW5lbCwgb25PcGVuQWxsQnVpbGRpbmdzUGFuZWwsIHBsYXllckFjdGlvbiwgb25Db25maXJtUGxhY2VtZW50LCBvbkNhbmNlbFBsYXllckFjdGlvbiwgb25CdWlsZGluZ0NsaWNrLCBtYXBEaW1lbnNpb25zLCBhY3RpdmVUYXNrcywgb25FeGl0R2FtZSwgb25PcGVuQ2l2UGFuZWwsIHJlc291cmNlTm9kZXMsIG9uT3BlbkFzc2lnbm1lbnRQYW5lbCwgb25PcGVuQ29uc3RydWN0aW9uUGFuZWwsIGdhdGhlckluZm9cbiAgICB9ID0gcHJvcHM7XG4gICAgXG4gICAgY29uc3QgYnVpbGRpbmdDb3VudHMgPSBPYmplY3Qua2V5cyhidWlsZGluZ3MpLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcbiAgICAgICAgY29uc3QgYnVpbGRpbmdUeXBlID0ga2V5IGFzIEJ1aWxkaW5nVHlwZTtcbiAgICAgICAgYWNjW2J1aWxkaW5nVHlwZV0gPSBidWlsZGluZ3NbYnVpbGRpbmdUeXBlXS5sZW5ndGg7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30gYXMgUmVjb3JkPEJ1aWxkaW5nVHlwZSwgbnVtYmVyPik7XG4gICAgXG4gICAgY29uc3QgbWlsaXRhcnlVbml0Q291bnRzID0gdW5pdHMubWlsaXRhcnkucmVkdWNlKChhY2MsIHVuaXQpID0+IHtcbiAgICAgICAgYWNjW3VuaXQudW5pdFR5cGVdID0gKGFjY1t1bml0LnVuaXRUeXBlXSB8fCAwKSArIDE7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30gYXMgUmVjb3JkPE1pbGl0YXJ5VW5pdFR5cGUsIG51bWJlcj4pO1xuICAgIFxuICAgIGNvbnN0IGJ1c3lWaWxsYWdlckNvdW50ID0gbmV3IFNldChhY3RpdmVUYXNrcy5mbGF0TWFwKHQgPT4gdC5wYXlsb2FkPy52aWxsYWdlcklkcyB8fCBbXSkpLnNpemU7XG4gICAgY29uc3QgdG90YWxCdWlsZGluZ3NDb3VudCA9IE9iamVjdC52YWx1ZXMoYnVpbGRpbmdDb3VudHMpLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIGJnLXN0b25lLWRhcmsgcC00IHJvdW5kZWQtbGcgc2hhZG93LTJ4bCBib3JkZXItMiBib3JkZXItc3RvbmUtbGlnaHQgZmxleCBmbGV4LWNvbCBzcGFjZS15LTRcIj5cbiAgICAgICAgICAgIHsvKiBUb3AgSGVhZGVyICovfVxuICAgICAgICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgYmctYmxhY2svMjAgcC0yIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiB0ZXh0LWJyYW5kLWdvbGRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IG9uT3BlbkNpdlBhbmVsKGUuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSl9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtYnJhbmQtZ29sZCBob3Zlcjp0ZXh0LXllbGxvdy00MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJWaWV3IENpdmlsaXphdGlvbiBEZXRhaWxzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOCBoLThcIj48QWdlSWNvbi8+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtc2VyaWYgdGV4dC1wYXJjaG1lbnQtbGlnaHRcIj57Y3VycmVudEFnZX08L2gyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LXBhcmNobWVudC1kYXJrLzcwIG1sLTFcIj48U2Nyb2xsVGV4dCAvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxIZWFkZXJTdGF0IGljb249ezxQb3B1bGF0aW9uSWNvbi8+fSB2YWx1ZT17YCR7cG9wdWxhdGlvbi5jdXJyZW50fS8ke3BvcHVsYXRpb24uY2FwYWNpdHl9YH0gdG9vbHRpcD1cIlBvcHVsYXRpb24gLyBDYXBhY2l0eVwiIGNvbG9yQ2xhc3M9XCJ0ZXh0LWJyYW5kLWJsdWVcIiAvPlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPEhlYWRlclN0YXQgaWNvbj17PEZvb2RJY29uLz59IHZhbHVlPXtNYXRoLmZsb29yKHJlc291cmNlcy5mb29kKX0gZGVsdGE9e3Jlc291cmNlRGVsdGFzLmZvb2R9IHRvb2x0aXA9XCJGb29kXCIvPlxuICAgICAgICAgICAgICAgICAgICA8SGVhZGVyU3RhdCBpY29uPXs8V29vZEljb24vPn0gdmFsdWU9e01hdGguZmxvb3IocmVzb3VyY2VzLndvb2QpfSBkZWx0YT17cmVzb3VyY2VEZWx0YXMud29vZH0gdG9vbHRpcD1cIldvb2RcIi8+XG4gICAgICAgICAgICAgICAgICAgIDxIZWFkZXJTdGF0IGljb249ezxHb2xkSWNvbi8+fSB2YWx1ZT17TWF0aC5mbG9vcihyZXNvdXJjZXMuZ29sZCl9IGRlbHRhPXtyZXNvdXJjZURlbHRhcy5nb2xkfSB0b29sdGlwPVwiR29sZFwiLz5cbiAgICAgICAgICAgICAgICAgICAgPEhlYWRlclN0YXQgaWNvbj17PFN0b25lSWNvbi8+fSB2YWx1ZT17TWF0aC5mbG9vcihyZXNvdXJjZXMuc3RvbmUpfSBkZWx0YT17cmVzb3VyY2VEZWx0YXMuc3RvbmV9IHRvb2x0aXA9XCJTdG9uZVwiLz5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXAgcGwtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17b25FeGl0R2FtZX0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy04IGgtOCBwLTEgdGV4dC1wYXJjaG1lbnQtZGFyayBob3Zlcjp0ZXh0LWJyYW5kLXJlZCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJFeGl0IHRvIE1haW4gTWVudVwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEV4aXRJY29uIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLWZ1bGwgcmlnaHQtMCBtYi0yIHctbWF4IHB4LTIgcHktMSBiZy1zdG9uZS1kYXJrIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkIG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLW9wYWNpdHkgcG9pbnRlci1ldmVudHMtbm9uZSB6LTEwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRXhpdCB0byBNZW51XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2hlYWRlcj5cblxuICAgICAgICAgICAgey8qIE1haW4gQ29udGVudCBHcmlkICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LWdyb3cgZ3JpZCBncmlkLWNvbHMtMSBnYXAtNFwiPlxuICAgICAgICAgICAgICAgIHsvKiBDZW50ZXIgUGFuZWw6IE1hcCwgVW5pdHMsIEV2ZW50cyAmIExvZyAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXN0b25lLWRhcmsvMzAgcC00IHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zdG9uZS1saWdodC8zMCBmbGV4IGZsZXgtY29sIGdhcC00XCI+XG4gICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8R2FtZU1hcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5ncz17YnVpbGRpbmdzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVRhc2tzPXthY3RpdmVUYXNrc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJBY3Rpb249e3BsYXllckFjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm1QbGFjZW1lbnQ9e29uQ29uZmlybVBsYWNlbWVudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbFBsYXllckFjdGlvbj17b25DYW5jZWxQbGF5ZXJBY3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25CdWlsZGluZ0NsaWNrPXtvbkJ1aWxkaW5nQ2xpY2t9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwRGltZW5zaW9ucz17bWFwRGltZW5zaW9uc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZGluZ0xpc3Q9e2J1aWxkaW5nTGlzdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZU5vZGVzPXtyZXNvdXJjZU5vZGVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkFzc2lnbm1lbnRQYW5lbD17b25PcGVuQXNzaWdubWVudFBhbmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkNvbnN0cnVjdGlvblBhbmVsPXtvbk9wZW5Db25zdHJ1Y3Rpb25QYW5lbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXRoZXJJbmZvPXtnYXRoZXJJbmZvfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS0yIGxlZnQtMS8yIC10cmFuc2xhdGUteC0xLzIgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogVmlsbGFnZXJzIEJ1dHRvbiAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBvbk9wZW5Vbml0UGFuZWwoJ3ZpbGxhZ2VycycsIGUuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzY2ktZmktYnV0dG9uIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB4LTQgcHktMiAhcm91bmRlZC1sZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtgTWFuYWdlIFZpbGxhZ2VycyAoJHt1bml0cy52aWxsYWdlcnMubGVuZ3RofSlgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBoLTcgdGV4dC1icmFuZC1ibHVlXCI+PFZpbGxhZ2VySWNvbiAvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGRcIj57dW5pdHMudmlsbGFnZXJzLmxlbmd0aH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIG1iLTIgdy1tYXggcHgtMiBweS0xIGJnLXN0b25lLWRhcmsgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBwb2ludGVyLWV2ZW50cy1ub25lIHotMTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtYm9sZFwiPlZpbGxhZ2VyczwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPklkbGU6IHt1bml0cy52aWxsYWdlcnMubGVuZ3RoIC0gYnVzeVZpbGxhZ2VyQ291bnR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+QnVzeToge2J1c3lWaWxsYWdlckNvdW50fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogTWlsaXRhcnkgQnV0dG9uICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IG9uT3BlblVuaXRQYW5lbCgnbWlsaXRhcnknLCBlLmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2NpLWZpLWJ1dHRvbiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBweC00IHB5LTIgIXJvdW5kZWQtbGdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17YE1hbmFnZSBNaWxpdGFyeSAoJHt1bml0cy5taWxpdGFyeS5sZW5ndGh9KWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGgtNyB0ZXh0LWJyYW5kLXJlZFwiPjxTd29yZEljb24gLz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkXCI+e3VuaXRzLm1pbGl0YXJ5Lmxlbmd0aH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIG1iLTIgdy1tYXggcHgtMiBweS0xIGJnLXN0b25lLWRhcmsgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBwb2ludGVyLWV2ZW50cy1ub25lIHotMTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtYm9sZFwiPk1pbGl0YXJ5IEZvcmNlczwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtPYmplY3Qua2V5cyhtaWxpdGFyeVVuaXRDb3VudHMpLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMobWlsaXRhcnlVbml0Q291bnRzKS5tYXAoKFt0eXBlLCBjb3VudF0pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAga2V5PXt0eXBlfSBjbGFzc05hbWU9XCJjYXBpdGFsaXplIHRleHQtcGFyY2htZW50LWRhcmtcIj57dHlwZX06IHtjb3VudH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiA8cD5ObyBmb3JjZXMgdHJhaW5lZC48L3A+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBCdWlsZGluZ3MgQnV0dG9uICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IG9uT3BlbkFsbEJ1aWxkaW5nc1BhbmVsKGUuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzY2ktZmktYnV0dG9uIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB4LTQgcHktMiAhcm91bmRlZC1sZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtgVmlldyBBbGwgQnVpbGRpbmdzICgke3RvdGFsQnVpbGRpbmdzQ291bnR9KWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGgtNyB0ZXh0LXBhcmNobWVudC1kYXJrXCI+PFdhdGNoVG93ZXJJY29uIC8+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZFwiPnt0b3RhbEJ1aWxkaW5nc0NvdW50fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLWZ1bGwgbWItMiB3LW1heCBweC0yIHB5LTEgYmctc3RvbmUtZGFyayB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IHBvaW50ZXItZXZlbnRzLW5vbmUgei0xMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVmlldyBBbGwgU3RydWN0dXJlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZmxleC1ncm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1zZXJpZiB0ZXh0LWNlbnRlciBtYi0xXCI+Q2hyb25pY2xlczwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LXBhcmNobWVudC1kYXJrIHRleHQtc20gaXRhbGljIG1iLTMgaC01XCI+e2FjdGl2aXR5U3RhdHVzfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1wYXJjaG1lbnQtZGFyayB0ZXh0LXN0b25lLWRhcmsgcC00IHJvdW5kZWQtbGcgc2hhZG93LWlubmVyIG1pbi1oLVsxNTBweF0gbWItNCBmbGV4IGZsZXgtY29sIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRFdmVudCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTRcIj57Y3VycmVudEV2ZW50Lm1lc3NhZ2V9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHNtOmZsZXgtcm93IGdhcC0yIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRFdmVudC5jaG9pY2VzLm1hcChjaG9pY2UgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGtleT17Y2hvaWNlLnRleHR9IG9uQ2xpY2s9eygpID0+IG9uRXZlbnRDaG9pY2UoY2hvaWNlKX0gY2xhc3NOYW1lPVwiYmctc3RvbmUtbGlnaHQgaG92ZXI6Ymctc3RvbmUtZGFyayB0ZXh0LXBhcmNobWVudC1saWdodCBmb250LWJvbGQgcHktMiBweC00IHJvdW5kZWQtbWQgdHJhbnNpdGlvbiBkdXJhdGlvbi0yMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjaG9pY2UudGV4dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC1zdG9uZS1saWdodFwiPlRoZSBhaXIgaXMgY2FsbS4gWW91ciBwZW9wbGUgYXdhaXQgeW91ciBjb21tYW5kLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1ncm93IGJnLWJsYWNrLzMwIHAtMyByb3VuZGVkLWxnIG92ZXJmbG93LXktYXV0byBoLTQ4XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2dhbWVMb2cubWFwKChsb2csIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtsb2cuaWR9IGNsYXNzTmFtZT17YGZsZXggaXRlbXMtc3RhcnQgdGV4dC1zbSBtYi0xICR7aW5kZXggPT09IDAgPyAndGV4dC1wYXJjaG1lbnQtbGlnaHQnIDogJ3RleHQtcGFyY2htZW50LWRhcmsnfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExvZ0ljb24gaWNvbj17bG9nLmljb259IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57bG9nLm1lc3NhZ2V9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgR2FtZVVJO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwiRm9vZEljb24iLCJXb29kSWNvbiIsIkdvbGRJY29uIiwiU3RvbmVJY29uIiwiUG9wdWxhdGlvbkljb24iLCJCYXJyYWNrc0ljb24iLCJIb3VzZUljb24iLCJWaWxsYWdlckljb24iLCJTd29yZEljb24iLCJCb3dJY29uIiwiS25pZ2h0SWNvbiIsIkNhdGFwdWx0SWNvbiIsIkV2ZW50SWNvbiIsIlN5c3RlbUljb24iLCJBZ2VJY29uIiwiQXJjaGVyeVJhbmdlSWNvbiIsIlN0YWJsZUljb24iLCJTaWVnZVdvcmtzaG9wSWNvbiIsIkJsYWNrc21pdGhJY29uIiwiV2F0Y2hUb3dlckljb24iLCJFeGl0SWNvbiIsIlRvd25DZW50ZXJJY29uIiwiR2FtZU1hcCIsIlNjcm9sbFRleHQiLCJSZXNvdXJjZUNoYW5nZSIsImNoYW5nZSIsImlzUG9zaXRpdmUiLCJjb2xvciIsInNwYW4iLCJjbGFzc05hbWUiLCJIZWFkZXJTdGF0IiwiaWNvbiIsInZhbHVlIiwiZGVsdGEiLCJ0b29sdGlwIiwiY29sb3JDbGFzcyIsImRpdiIsImljb25NYXAiLCJmb29kIiwid29vZCIsImdvbGQiLCJzdG9uZSIsInZpbGxhZ2VyIiwic3dvcmRzbWFuIiwiYXJjaGVyIiwia25pZ2h0IiwiY2F0YXB1bHQiLCJob3VzZXMiLCJiYXJyYWNrcyIsImFyY2hlcnlSYW5nZSIsInN0YWJsZSIsInNpZWdlV29ya3Nob3AiLCJibGFja3NtaXRoIiwid2F0Y2hUb3dlciIsInRvd25DZW50ZXIiLCJhZ2UiLCJldmVudCIsInN5c3RlbSIsIkxvZ0ljb24iLCJmb3VuZEljb24iLCJHYW1lVUkiLCJwcm9wcyIsImNpdmlsaXphdGlvbiIsInJlc291cmNlcyIsInVuaXRzIiwiYnVpbGRpbmdzIiwicG9wdWxhdGlvbiIsImN1cnJlbnRBZ2UiLCJnYW1lTG9nIiwiY3VycmVudEV2ZW50Iiwib25FdmVudENob2ljZSIsInJlc291cmNlRGVsdGFzIiwiYWN0aXZpdHlTdGF0dXMiLCJ1bml0TGlzdCIsImJ1aWxkaW5nTGlzdCIsIm9uT3BlblVuaXRQYW5lbCIsIm9uT3BlbkJ1aWxkaW5nUGFuZWwiLCJvbk9wZW5BbGxCdWlsZGluZ3NQYW5lbCIsInBsYXllckFjdGlvbiIsIm9uQ29uZmlybVBsYWNlbWVudCIsIm9uQ2FuY2VsUGxheWVyQWN0aW9uIiwib25CdWlsZGluZ0NsaWNrIiwibWFwRGltZW5zaW9ucyIsImFjdGl2ZVRhc2tzIiwib25FeGl0R2FtZSIsIm9uT3BlbkNpdlBhbmVsIiwicmVzb3VyY2VOb2RlcyIsIm9uT3BlbkFzc2lnbm1lbnRQYW5lbCIsIm9uT3BlbkNvbnN0cnVjdGlvblBhbmVsIiwiZ2F0aGVySW5mbyIsImJ1aWxkaW5nQ291bnRzIiwiT2JqZWN0Iiwia2V5cyIsInJlZHVjZSIsImFjYyIsImtleSIsImJ1aWxkaW5nVHlwZSIsImxlbmd0aCIsIm1pbGl0YXJ5VW5pdENvdW50cyIsIm1pbGl0YXJ5IiwidW5pdCIsInVuaXRUeXBlIiwiYnVzeVZpbGxhZ2VyQ291bnQiLCJTZXQiLCJmbGF0TWFwIiwidCIsInBheWxvYWQiLCJ2aWxsYWdlcklkcyIsInNpemUiLCJ0b3RhbEJ1aWxkaW5nc0NvdW50IiwidmFsdWVzIiwiYSIsImIiLCJoZWFkZXIiLCJidXR0b24iLCJvbkNsaWNrIiwiZSIsImN1cnJlbnRUYXJnZXQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJhcmlhLWxhYmVsIiwiaDIiLCJjdXJyZW50IiwiY2FwYWNpdHkiLCJNYXRoIiwiZmxvb3IiLCJ2aWxsYWdlcnMiLCJwIiwiZW50cmllcyIsIm1hcCIsInR5cGUiLCJjb3VudCIsIm1lc3NhZ2UiLCJjaG9pY2VzIiwiY2hvaWNlIiwidGV4dCIsImxvZyIsImluZGV4IiwiaWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/GameUI.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/ResourceAssignmentPanel.tsx":
/*!************************************************!*\
  !*** ./components/ResourceAssignmentPanel.tsx ***!
  \************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./icons/ResourceIcons */ \"(app-pages-browser)/./components/icons/ResourceIcons.tsx\");\n/* harmony import */ var _GameUI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GameUI */ \"(app-pages-browser)/./components/GameUI.tsx\");\n/* harmony import */ var _barrel_optimize_names_Undo2_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Undo2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/undo-2.js\");\n\nvar _s = $RefreshSig$();\n\n\n\n\nconst InfoIcon = (param)=>{\n    let { icon, value, tooltip } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative group flex items-center gap-1.5 text-parchment-dark\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-5 h-5\",\n                children: icon\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                lineNumber: 22,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"font-bold text-sm\",\n                children: value\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                lineNumber: 23,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute bottom-full mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 pointer-events-none z-10\",\n                children: tooltip\n            }, void 0, false, {\n                fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                lineNumber: 24,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n        lineNumber: 21,\n        columnNumber: 5\n    }, undefined);\n};\n_c = InfoIcon;\nconst ResourceAssignmentPanel = (props)=>{\n    var _assignmentTarget_payload;\n    _s();\n    const { isOpen, onClose, assignmentTarget, idleVillagerCount, onAssignVillagers, onRecallVillagers, gatherInfo, buildingList, anchorRect } = props;\n    const [assignCount, setAssignCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [recallCount, setRecallCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [isClosing, setIsClosing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentData, setCurrentData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        assignmentTarget,\n        anchorRect\n    });\n    const isConstruction = assignmentTarget ? \"type\" in assignmentTarget && assignmentTarget.type === \"build\" : false;\n    const isResource = assignmentTarget ? \"amount\" in assignmentTarget : false;\n    const assignedCount = isResource ? (assignmentTarget.assignedVillagers || []).length : isConstruction ? (((_assignmentTarget_payload = assignmentTarget.payload) === null || _assignmentTarget_payload === void 0 ? void 0 : _assignmentTarget_payload.villagerIds) || []).length : 0;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen) {\n            setAssignCount(idleVillagerCount > 0 ? 1 : 0);\n            setRecallCount(assignedCount > 0 ? 1 : 0);\n        }\n    }, [\n        isOpen,\n        idleVillagerCount,\n        assignedCount\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen || isClosing) {\n            setCurrentData({\n                assignmentTarget,\n                anchorRect\n            });\n        }\n    }, [\n        assignmentTarget,\n        anchorRect,\n        isOpen,\n        isClosing\n    ]);\n    const handleClose = ()=>{\n        setIsClosing(true);\n        setTimeout(()=>{\n            onClose();\n            setIsClosing(false);\n        }, 300);\n    };\n    const handleAssign = ()=>{\n        if (currentData.assignmentTarget && assignCount > 0) {\n            onAssignVillagers(currentData.assignmentTarget.id, assignCount);\n        }\n    };\n    const handleRecall = ()=>{\n        if (currentData.assignmentTarget && recallCount > 0) {\n            onRecallVillagers(currentData.assignmentTarget.id, recallCount, isResource ? \"resource\" : \"construction\");\n        }\n    };\n    if (!isOpen && !isClosing) return null;\n    const { assignmentTarget: currentTarget, anchorRect: currentAnchor } = currentData;\n    if (!currentTarget || !currentAnchor) return null;\n    let title = \"Manage Workforce\";\n    let MainIcon = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GatherIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n        lineNumber: 87,\n        columnNumber: 37\n    }, undefined);\n    let InfoIcons = null;\n    let AssignIcon = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GatherIcon, {}, void 0, false, {\n        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n        lineNumber: 89,\n        columnNumber: 39\n    }, undefined);\n    if (isResource) {\n        const node = currentTarget;\n        const assignedVillagers = node.assignedVillagers || [];\n        title = \"Gather \".concat(node.type);\n        const IconComponent = {\n            food: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.FoodIcon,\n            wood: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.WoodIcon,\n            gold: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.GoldIcon,\n            stone: _icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.StoneIcon\n        }[node.type];\n        MainIcon = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IconComponent, {}, void 0, false, {\n            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n            lineNumber: 96,\n            columnNumber: 20\n        }, undefined);\n        const currentRate = assignedVillagers.length * gatherInfo[node.type].rate;\n        InfoIcons = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InfoIcon, {\n                    icon: MainIcon,\n                    value: Math.floor(node.amount),\n                    tooltip: \"Remaining Amount\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 100,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InfoIcon, {\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.VillagerIcon, {}, void 0, false, {\n                        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                        lineNumber: 101,\n                        columnNumber: 33\n                    }, void 0),\n                    value: \"\".concat(assignedVillagers.length),\n                    tooltip: \"Assigned Workers\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 101,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InfoIcon, {\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.ClockIcon, {}, void 0, false, {\n                        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                        lineNumber: 102,\n                        columnNumber: 33\n                    }, void 0),\n                    value: \"\".concat(currentRate.toFixed(1), \"/s\"),\n                    tooltip: \"Current Gather Rate\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 102,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true);\n    }\n    if (isConstruction) {\n        const constructionTask = currentTarget;\n        const buildingInfo = buildingList.find((b)=>b.id === constructionTask.payload.buildingType);\n        title = \"Construct \".concat((buildingInfo === null || buildingInfo === void 0 ? void 0 : buildingInfo.name) || \"Building\");\n        MainIcon = _GameUI__WEBPACK_IMPORTED_MODULE_3__.iconMap[constructionTask.payload.buildingType];\n        AssignIcon = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BuildIcon, {}, void 0, false, {\n            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n            lineNumber: 112,\n            columnNumber: 22\n        }, undefined);\n        InfoIcons = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InfoIcon, {\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.BuildIcon, {}, void 0, false, {\n                        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                        lineNumber: 115,\n                        columnNumber: 33\n                    }, void 0),\n                    value: constructionTask.payload.villagerIds.length,\n                    tooltip: \"Current Builders\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 115,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InfoIcon, {\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_ResourceIcons__WEBPACK_IMPORTED_MODULE_2__.VillagerIcon, {}, void 0, false, {\n                        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                        lineNumber: 116,\n                        columnNumber: 33\n                    }, void 0),\n                    value: idleVillagerCount,\n                    tooltip: \"Idle Villagers Available\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 116,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true);\n    }\n    const maxAssignable = idleVillagerCount;\n    const panelWidth = 320; // from w-80 class\n    const panelHeightEstimate = 350; // A safe estimate\n    const panelGap = 8;\n    const style = {};\n    // Vertical positioning\n    const spaceBelow = window.innerHeight - currentAnchor.bottom;\n    const spaceAbove = currentAnchor.top;\n    if (spaceBelow < panelHeightEstimate && spaceAbove > spaceBelow) {\n        // Not enough space below, more space above. Position above.\n        style.bottom = \"\".concat(window.innerHeight - currentAnchor.top + panelGap, \"px\");\n        style.transformOrigin = \"bottom center\";\n    } else {\n        // Default to positioning below.\n        style.top = \"\".concat(currentAnchor.bottom + panelGap, \"px\");\n        style.transformOrigin = \"top center\";\n    }\n    // Horizontal positioning\n    let leftPos = currentAnchor.left + currentAnchor.width / 2 - panelWidth / 2;\n    if (leftPos + panelWidth > window.innerWidth - panelGap) {\n        leftPos = window.innerWidth - panelWidth - panelGap;\n    }\n    if (leftPos < panelGap) {\n        leftPos = panelGap;\n    }\n    style.left = \"\".concat(leftPos, \"px\");\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: style,\n        className: \"fixed z-40 w-80 transform transition-all duration-300 ease-in-out \".concat(isOpen && !isClosing ? \"opacity-100 scale-100\" : \"opacity-0 scale-95\"),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"sci-fi-panel-popup sci-fi-grid p-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center mb-3\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-8 h-8\",\n                                    children: MainIcon\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 158,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-2xl font-serif capitalize\",\n                                    children: title\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 159,\n                                    columnNumber: 25\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                            lineNumber: 157,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleClose,\n                            className: \"text-3xl font-bold sci-fi-close-button\",\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                            lineNumber: 161,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 156,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-3\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex justify-around items-center bg-black/20 p-2 rounded-md\",\n                            children: InfoIcons\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                            lineNumber: 165,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                            className: \"border-stone-light/20 my-2\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                            lineNumber: 169,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    htmlFor: \"villager-assign-slider\",\n                                    className: \"block text-sm font-serif text-brand-gold mb-1\",\n                                    children: [\n                                        \"Assign Idle Villagers (\",\n                                        idleVillagerCount,\n                                        \" available)\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 172,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            id: \"villager-assign-slider\",\n                                            type: \"range\",\n                                            min: \"0\",\n                                            max: maxAssignable,\n                                            value: assignCount,\n                                            onChange: (e)=>setAssignCount(Number(e.target.value)),\n                                            className: \"sci-fi-slider flex-grow\",\n                                            disabled: maxAssignable === 0,\n                                            \"aria-label\": \"Assign Villagers\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                            lineNumber: 174,\n                                            columnNumber: 30\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"font-bold text-lg w-12 text-center bg-black/20 p-1 rounded-md\",\n                                            children: assignCount\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                            lineNumber: 185,\n                                            columnNumber: 29\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative group\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: handleAssign,\n                                                    disabled: assignCount === 0 || maxAssignable === 0,\n                                                    className: \"sci-fi-action-button\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-6 h-6\",\n                                                        children: AssignIcon\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                        lineNumber: 192,\n                                                        columnNumber: 37\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                    lineNumber: 187,\n                                                    columnNumber: 33\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                    children: maxAssignable === 0 ? \"No Idle Villagers\" : \"Assign \".concat(assignCount, \" Villager(s)\")\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                    lineNumber: 194,\n                                                    columnNumber: 34\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                            lineNumber: 186,\n                                            columnNumber: 29\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 173,\n                                    columnNumber: 25\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                            lineNumber: 171,\n                            columnNumber: 21\n                        }, undefined),\n                        assignedCount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                                    className: \"border-stone-light/20 my-3\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 203,\n                                    columnNumber: 30\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    htmlFor: \"villager-recall-slider\",\n                                    className: \"block text-sm font-serif text-brand-red mb-1\",\n                                    children: [\n                                        \"Recall Assigned Villagers (\",\n                                        assignedCount,\n                                        \" assigned)\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 204,\n                                    columnNumber: 30\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            id: \"villager-recall-slider\",\n                                            type: \"range\",\n                                            min: \"1\",\n                                            max: assignedCount,\n                                            value: recallCount,\n                                            onChange: (e)=>setRecallCount(Number(e.target.value)),\n                                            className: \"sci-fi-slider flex-grow\",\n                                            \"aria-label\": \"Recall Villagers\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                            lineNumber: 206,\n                                            columnNumber: 34\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"font-bold text-lg w-12 text-center bg-black/20 p-1 rounded-md\",\n                                            children: recallCount\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                            lineNumber: 216,\n                                            columnNumber: 33\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative group\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: handleRecall,\n                                                    className: \"sci-fi-action-button\",\n                                                    \"aria-label\": \"Recall \".concat(recallCount, \" Villager(s)\"),\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-6 h-6 text-brand-red\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Undo2_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                            lineNumber: 223,\n                                                            columnNumber: 81\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                        lineNumber: 223,\n                                                        columnNumber: 41\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                    lineNumber: 218,\n                                                    columnNumber: 37\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-full right-0 mb-2 w-max px-2 py-1 bg-stone-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                    children: \"Recall \".concat(recallCount, \" Villager(s)\")\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                                    lineNumber: 225,\n                                                    columnNumber: 38\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                            lineNumber: 217,\n                                            columnNumber: 33\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                                    lineNumber: 205,\n                                    columnNumber: 30\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                            lineNumber: 202,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n                    lineNumber: 164,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n            lineNumber: 155,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/user/studio/components/ResourceAssignmentPanel.tsx\",\n        lineNumber: 154,\n        columnNumber: 9\n    }, undefined);\n};\n_s(ResourceAssignmentPanel, \"ZoVUHh4d6Z84DDHDkgiLHxk58k0=\");\n_c1 = ResourceAssignmentPanel;\n/* harmony default export */ __webpack_exports__[\"default\"] = (ResourceAssignmentPanel);\nvar _c, _c1;\n$RefreshReg$(_c, \"InfoIcon\");\n$RefreshReg$(_c1, \"ResourceAssignmentPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvUmVzb3VyY2VBc3NpZ25tZW50UGFuZWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUNtRDtBQUU2RTtBQUM3RjtBQUNFO0FBY3JDLE1BQU1hLFdBQXlGO1FBQUMsRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sRUFBRTt5QkFDcEgsOERBQUNDO1FBQUlDLFdBQVU7OzBCQUNYLDhEQUFDRDtnQkFBSUMsV0FBVTswQkFBV0o7Ozs7OzswQkFDMUIsOERBQUNLO2dCQUFLRCxXQUFVOzBCQUFxQkg7Ozs7OzswQkFDckMsOERBQUNFO2dCQUFJQyxXQUFVOzBCQUNWRjs7Ozs7Ozs7Ozs7OztLQUxQSDtBQVdOLE1BQU1PLDBCQUFrRSxDQUFDQztRQWM5RDs7SUFiUCxNQUFNLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFQyxnQkFBZ0IsRUFBRUMsaUJBQWlCLEVBQUVDLGlCQUFpQixFQUFFQyxpQkFBaUIsRUFBRUMsVUFBVSxFQUFFQyxZQUFZLEVBQUVDLFVBQVUsRUFBRSxHQUFHVDtJQUU3SSxNQUFNLENBQUNVLGFBQWFDLGVBQWUsR0FBRy9CLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ2dDLGFBQWFDLGVBQWUsR0FBR2pDLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ2tDLFdBQVdDLGFBQWEsR0FBR25DLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ29DLGFBQWFDLGVBQWUsR0FBR3JDLCtDQUFRQSxDQUFDO1FBQUV1QjtRQUFrQk07SUFBVztJQUU5RSxNQUFNUyxpQkFBaUJmLG1CQUFtQixVQUFVQSxvQkFBb0JBLGlCQUFpQmdCLElBQUksS0FBSyxVQUFVO0lBQzVHLE1BQU1DLGFBQWFqQixtQkFBbUIsWUFBWUEsbUJBQW1CO0lBRXJFLE1BQU1rQixnQkFBZ0JELGFBQ2hCLENBQUMsaUJBQW1DRSxpQkFBaUIsSUFBSSxFQUFFLEVBQUVDLE1BQU0sR0FDbkVMLGlCQUNBLENBQUMs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c3NpZ25tZW50UGFuZWwudHN4PzI4OGEiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB0eXBlIHsgUmVzb3VyY2VOb2RlLCBSZXNvdXJjZU5vZGVUeXBlLCBHYW1lVGFzaywgQnVpbGRpbmdJbmZvIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgRm9vZEljb24sIFdvb2RJY29uLCBHb2xkSWNvbiwgU3RvbmVJY29uLCBWaWxsYWdlckljb24sIENsb2NrSWNvbiwgR2F0aGVySWNvbiwgQnVpbGRJY29uIH0gZnJvbSAnLi9pY29ucy9SZXNvdXJjZUljb25zJztcbmltcG9ydCB7IGljb25NYXAgfSBmcm9tICcuL0dhbWVVSSc7XG5pbXBvcnQgeyBVbmRvMiB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5cbmludGVyZmFjZSBSZXNvdXJjZUFzc2lnbm1lbnRQYW5lbFByb3BzIHtcbiAgICBpc09wZW46IGJvb2xlYW47XG4gICAgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgICBhc3NpZ25tZW50VGFyZ2V0OiAoUmVzb3VyY2VOb2RlIHwgR2FtZVRhc2spIHwgbnVsbDtcbiAgICBpZGxlVmlsbGFnZXJDb3VudDogbnVtYmVyO1xuICAgIG9uQXNzaWduVmlsbGFnZXJzOiAodGFyZ2V0SWQ6IHN0cmluZywgY291bnQ6IG51bWJlcikgPT4gdm9pZDtcbiAgICBvblJlY2FsbFZpbGxhZ2VyczogKHRhcmdldElkOiBzdHJpbmcsIGNvdW50OiBudW1iZXIsIHR5cGU6ICdyZXNvdXJjZScgfCAnY29uc3RydWN0aW9uJykgPT4gdm9pZDtcbiAgICBnYXRoZXJJbmZvOiBSZWNvcmQ8UmVzb3VyY2VOb2RlVHlwZSwgeyByYXRlOiBudW1iZXIgfT47XG4gICAgYnVpbGRpbmdMaXN0OiBCdWlsZGluZ0luZm9bXTtcbiAgICBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbDtcbn1cblxuY29uc3QgSW5mb0ljb246IFJlYWN0LkZDPHsgaWNvbjogUmVhY3QuUmVhY3ROb2RlOyB2YWx1ZTogc3RyaW5nIHwgbnVtYmVyOyB0b29sdGlwOiBzdHJpbmcgfT4gPSAoeyBpY29uLCB2YWx1ZSwgdG9vbHRpcCB9KSA9PiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBncm91cCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41IHRleHQtcGFyY2htZW50LWRhcmtcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTUgaC01XCI+e2ljb259PC9kaXY+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXNtXCI+e3ZhbHVlfTwvc3Bhbj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tZnVsbCBtYi0yIHctbWF4IHB4LTIgcHktMSBiZy1zdG9uZS1kYXJrIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkIG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCBwb2ludGVyLWV2ZW50cy1ub25lIHotMTBcIj5cbiAgICAgICAgICAgIHt0b29sdGlwfVxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbik7XG5cblxuY29uc3QgUmVzb3VyY2VBc3NpZ25tZW50UGFuZWw6IFJlYWN0LkZDPFJlc291cmNlQXNzaWdubWVudFBhbmVsUHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBpc09wZW4sIG9uQ2xvc2UsIGFzc2lnbm1lbnRUYXJnZXQsIGlkbGVWaWxsYWdlckNvdW50LCBvbkFzc2lnblZpbGxhZ2Vycywgb25SZWNhbGxWaWxsYWdlcnMsIGdhdGhlckluZm8sIGJ1aWxkaW5nTGlzdCwgYW5jaG9yUmVjdCB9ID0gcHJvcHM7XG4gICAgXG4gICAgY29uc3QgW2Fzc2lnbkNvdW50LCBzZXRBc3NpZ25Db3VudF0gPSB1c2VTdGF0ZSgxKTtcbiAgICBjb25zdCBbcmVjYWxsQ291bnQsIHNldFJlY2FsbENvdW50XSA9IHVzZVN0YXRlKDEpO1xuICAgIGNvbnN0IFtpc0Nsb3NpbmcsIHNldElzQ2xvc2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2N1cnJlbnREYXRhLCBzZXRDdXJyZW50RGF0YV0gPSB1c2VTdGF0ZSh7IGFzc2lnbm1lbnRUYXJnZXQsIGFuY2hvclJlY3QgfSk7XG4gICAgXG4gICAgY29uc3QgaXNDb25zdHJ1Y3Rpb24gPSBhc3NpZ25tZW50VGFyZ2V0ID8gJ3R5cGUnIGluIGFzc2lnbm1lbnRUYXJnZXQgJiYgYXNzaWdubWVudFRhcmdldC50eXBlID09PSAnYnVpbGQnIDogZmFsc2U7XG4gICAgY29uc3QgaXNSZXNvdXJjZSA9IGFzc2lnbm1lbnRUYXJnZXQgPyAnYW1vdW50JyBpbiBhc3NpZ25tZW50VGFyZ2V0IDogZmFsc2U7XG5cbiAgICBjb25zdCBhc3NpZ25lZENvdW50ID0gaXNSZXNvdXJjZSBcbiAgICAgICAgPyAoKGFzc2lnbm1lbnRUYXJnZXQgYXMgUmVzb3VyY2VOb2RlKS5hc3NpZ25lZFZpbGxhZ2VycyB8fCBbXSkubGVuZ3RoIFxuICAgICAgICA6IGlzQ29uc3RydWN0aW9uIFxuICAgICAgICA/ICgoYXNzaWdubWVudFRhcmdldCBhcyBHYW1lVGFzaykucGF5bG9hZD8udmlsbGFnZXJJZHMgfHwgW10pLmxlbmd0aCBcbiAgICAgICAgOiAwO1xuICAgIFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpc09wZW4pIHtcbiAgICAgICAgICAgIHNldEFzc2lnbkNvdW50KGlkbGVWaWxsYWdlckNvdW50ID4gMCA/IDEgOiAwKTtcbiAgICAgICAgICAgIHNldFJlY2FsbENvdW50KGFzc2lnbmVkQ291bnQgPiAwID8gMSA6IDApO1xuICAgICAgICB9XG4gICAgfSwgW2lzT3BlbiwgaWRsZVZpbGxhZ2VyQ291bnQsIGFzc2lnbmVkQ291bnRdKTtcbiAgICBcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNPcGVuIHx8IGlzQ2xvc2luZykge1xuICAgICAgICAgICAgc2V0Q3VycmVudERhdGEoeyBhc3NpZ25tZW50VGFyZ2V0LCBhbmNob3JSZWN0IH0pO1xuICAgICAgICB9XG4gICAgfSwgW2Fzc2lnbm1lbnRUYXJnZXQsIGFuY2hvclJlY3QsIGlzT3BlbiwgaXNDbG9zaW5nXSk7XG4gICAgXG4gICAgY29uc3QgaGFuZGxlQ2xvc2UgPSAoKSA9PiB7XG4gICAgICAgIHNldElzQ2xvc2luZyh0cnVlKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgICAgICBzZXRJc0Nsb3NpbmcoZmFsc2UpO1xuICAgICAgICB9LCAzMDApO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVBc3NpZ24gPSAoKSA9PiB7XG4gICAgICAgIGlmIChjdXJyZW50RGF0YS5hc3NpZ25tZW50VGFyZ2V0ICYmIGFzc2lnbkNvdW50ID4gMCkge1xuICAgICAgICAgICAgb25Bc3NpZ25WaWxsYWdlcnMoY3VycmVudERhdGEuYXNzaWdubWVudFRhcmdldC5pZCwgYXNzaWduQ291bnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBoYW5kbGVSZWNhbGwgPSAoKSA9PiB7XG4gICAgICAgIGlmIChjdXJyZW50RGF0YS5hc3NpZ25tZW50VGFyZ2V0ICYmIHJlY2FsbENvdW50ID4gMCkge1xuICAgICAgICAgICAgb25SZWNhbGxWaWxsYWdlcnMoY3VycmVudERhdGEuYXNzaWdubWVudFRhcmdldC5pZCwgcmVjYWxsQ291bnQsIGlzUmVzb3VyY2UgPyAncmVzb3VyY2UnIDogJ2NvbnN0cnVjdGlvbicpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGlmICghaXNPcGVuICYmICFpc0Nsb3NpbmcpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgeyBhc3NpZ25tZW50VGFyZ2V0OiBjdXJyZW50VGFyZ2V0LCBhbmNob3JSZWN0OiBjdXJyZW50QW5jaG9yIH0gPSBjdXJyZW50RGF0YTtcbiAgICBpZiAoIWN1cnJlbnRUYXJnZXQgfHwgIWN1cnJlbnRBbmNob3IpIHJldHVybiBudWxsO1xuXG4gICAgbGV0IHRpdGxlID0gXCJNYW5hZ2UgV29ya2ZvcmNlXCI7XG4gICAgbGV0IE1haW5JY29uOiBSZWFjdC5SZWFjdE5vZGUgPSA8R2F0aGVySWNvbiAvPjtcbiAgICBsZXQgSW5mb0ljb25zOiBSZWFjdC5SZWFjdE5vZGUgPSBudWxsO1xuICAgIGxldCBBc3NpZ25JY29uOiBSZWFjdC5SZWFjdE5vZGUgPSA8R2F0aGVySWNvbiAvPjtcbiAgICBcbiAgICBpZiAoaXNSZXNvdXJjZSkge1xuICAgICAgICBjb25zdCBub2RlID0gY3VycmVudFRhcmdldCBhcyBSZXNvdXJjZU5vZGU7XG4gICAgICAgIGNvbnN0IGFzc2lnbmVkVmlsbGFnZXJzID0gbm9kZS5hc3NpZ25lZFZpbGxhZ2VycyB8fCBbXTtcbiAgICAgICAgdGl0bGUgPSBgR2F0aGVyICR7bm9kZS50eXBlfWA7XG4gICAgICAgIGNvbnN0IEljb25Db21wb25lbnQgPSB7IGZvb2Q6IEZvb2RJY29uLCB3b29kOiBXb29kSWNvbiwgZ29sZDogR29sZEljb24sIHN0b25lOiBTdG9uZUljb24gfVtub2RlLnR5cGVdO1xuICAgICAgICBNYWluSWNvbiA9IDxJY29uQ29tcG9uZW50IC8+O1xuICAgICAgICBjb25zdCBjdXJyZW50UmF0ZSA9IGFzc2lnbmVkVmlsbGFnZXJzLmxlbmd0aCAqIGdhdGhlckluZm9bbm9kZS50eXBlXS5yYXRlO1xuICAgICAgICBJbmZvSWNvbnMgPSAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxJbmZvSWNvbiBpY29uPXtNYWluSWNvbn0gdmFsdWU9e01hdGguZmxvb3Iobm9kZS5hbW91bnQpfSB0b29sdGlwPVwiUmVtYWluaW5nIEFtb3VudFwiIC8+XG4gICAgICAgICAgICAgICAgPEluZm9JY29uIGljb249ezxWaWxsYWdlckljb24gLz59IHZhbHVlPXtgJHthc3NpZ25lZFZpbGxhZ2Vycy5sZW5ndGh9YH0gdG9vbHRpcD1cIkFzc2lnbmVkIFdvcmtlcnNcIiAvPlxuICAgICAgICAgICAgICAgIDxJbmZvSWNvbiBpY29uPXs8Q2xvY2tJY29uIC8+fSB2YWx1ZT17YCR7Y3VycmVudFJhdGUudG9GaXhlZCgxKX0vc2B9IHRvb2x0aXA9XCJDdXJyZW50IEdhdGhlciBSYXRlXCIgLz5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICApO1xuICAgIH1cblxuICAgIGlmIChpc0NvbnN0cnVjdGlvbikge1xuICAgICAgICBjb25zdCBjb25zdHJ1Y3Rpb25UYXNrID0gY3VycmVudFRhcmdldCBhcyBHYW1lVGFzaztcbiAgICAgICAgY29uc3QgYnVpbGRpbmdJbmZvID0gYnVpbGRpbmdMaXN0LmZpbmQoYiA9PiBiLmlkID09PSBjb25zdHJ1Y3Rpb25UYXNrLnBheWxvYWQhLmJ1aWxkaW5nVHlwZSk7XG4gICAgICAgIHRpdGxlID0gYENvbnN0cnVjdCAke2J1aWxkaW5nSW5mbz8ubmFtZSB8fCAnQnVpbGRpbmcnfWA7XG4gICAgICAgIE1haW5JY29uID0gaWNvbk1hcFtjb25zdHJ1Y3Rpb25UYXNrLnBheWxvYWQhLmJ1aWxkaW5nVHlwZSFdO1xuICAgICAgICBBc3NpZ25JY29uID0gPEJ1aWxkSWNvbiAvPjtcbiAgICAgICAgSW5mb0ljb25zID0gKFxuICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPEluZm9JY29uIGljb249ezxCdWlsZEljb24gLz59IHZhbHVlPXtjb25zdHJ1Y3Rpb25UYXNrLnBheWxvYWQhLnZpbGxhZ2VySWRzIS5sZW5ndGh9IHRvb2x0aXA9XCJDdXJyZW50IEJ1aWxkZXJzXCIgLz5cbiAgICAgICAgICAgICAgICA8SW5mb0ljb24gaWNvbj17PFZpbGxhZ2VySWNvbiAvPn0gdmFsdWU9e2lkbGVWaWxsYWdlckNvdW50fSB0b29sdGlwPVwiSWRsZSBWaWxsYWdlcnMgQXZhaWxhYmxlXCIgLz5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICApXG4gICAgfVxuXG4gICAgY29uc3QgbWF4QXNzaWduYWJsZSA9IGlkbGVWaWxsYWdlckNvdW50O1xuICAgIFxuICAgIGNvbnN0IHBhbmVsV2lkdGggPSAzMjA7IC8vIGZyb20gdy04MCBjbGFzc1xuICAgIGNvbnN0IHBhbmVsSGVpZ2h0RXN0aW1hdGUgPSAzNTA7IC8vIEEgc2FmZSBlc3RpbWF0ZVxuICAgIGNvbnN0IHBhbmVsR2FwID0gODtcblxuICAgIGNvbnN0IHN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzID0ge307XG5cbiAgICAvLyBWZXJ0aWNhbCBwb3NpdGlvbmluZ1xuICAgIGNvbnN0IHNwYWNlQmVsb3cgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSBjdXJyZW50QW5jaG9yLmJvdHRvbTtcbiAgICBjb25zdCBzcGFjZUFib3ZlID0gY3VycmVudEFuY2hvci50b3A7XG5cbiAgICBpZiAoc3BhY2VCZWxvdyA8IHBhbmVsSGVpZ2h0RXN0aW1hdGUgJiYgc3BhY2VBYm92ZSA+IHNwYWNlQmVsb3cpIHtcbiAgICAgICAgLy8gTm90IGVub3VnaCBzcGFjZSBiZWxvdywgbW9yZSBzcGFjZSBhYm92ZS4gUG9zaXRpb24gYWJvdmUuXG4gICAgICAgIHN0eWxlLmJvdHRvbSA9IGAke3dpbmRvdy5pbm5lckhlaWdodCAtIGN1cnJlbnRBbmNob3IudG9wICsgcGFuZWxHYXB9cHhgO1xuICAgICAgICBzdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSAnYm90dG9tIGNlbnRlcic7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRGVmYXVsdCB0byBwb3NpdGlvbmluZyBiZWxvdy5cbiAgICAgICAgc3R5bGUudG9wID0gYCR7Y3VycmVudEFuY2hvci5ib3R0b20gKyBwYW5lbEdhcH1weGA7XG4gICAgICAgIHN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9ICd0b3AgY2VudGVyJztcbiAgICB9XG5cbiAgICAvLyBIb3Jpem9udGFsIHBvc2l0aW9uaW5nXG4gICAgbGV0IGxlZnRQb3MgPSBjdXJyZW50QW5jaG9yLmxlZnQgKyBjdXJyZW50QW5jaG9yLndpZHRoIC8gMiAtIHBhbmVsV2lkdGggLyAyO1xuICAgIGlmIChsZWZ0UG9zICsgcGFuZWxXaWR0aCA+IHdpbmRvdy5pbm5lcldpZHRoIC0gcGFuZWxHYXApIHtcbiAgICAgICAgbGVmdFBvcyA9IHdpbmRvdy5pbm5lcldpZHRoIC0gcGFuZWxXaWR0aCAtIHBhbmVsR2FwO1xuICAgIH1cbiAgICBpZiAobGVmdFBvcyA8IHBhbmVsR2FwKSB7XG4gICAgICAgIGxlZnRQb3MgPSBwYW5lbEdhcDtcbiAgICB9XG4gICAgc3R5bGUubGVmdCA9IGAke2xlZnRQb3N9cHhgO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBzdHlsZT17c3R5bGV9IGNsYXNzTmFtZT17YGZpeGVkIHotNDAgdy04MCB0cmFuc2Zvcm0gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGVhc2UtaW4tb3V0ICR7aXNPcGVuICYmICFpc0Nsb3NpbmcgPyAnb3BhY2l0eS0xMDAgc2NhbGUtMTAwJyA6ICdvcGFjaXR5LTAgc2NhbGUtOTUnfWB9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzY2ktZmktcGFuZWwtcG9wdXAgc2NpLWZpLWdyaWQgcC00XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOCBoLThcIj57TWFpbkljb259PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1zZXJpZiBjYXBpdGFsaXplXCI+e3RpdGxlfTwvaDI+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUNsb3NlfSBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgc2NpLWZpLWNsb3NlLWJ1dHRvblwiPiZ0aW1lczs8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1hcm91bmQgaXRlbXMtY2VudGVyIGJnLWJsYWNrLzIwIHAtMiByb3VuZGVkLW1kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgIHtJbmZvSWNvbnN9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgPGhyIGNsYXNzTmFtZT1cImJvcmRlci1zdG9uZS1saWdodC8yMCBteS0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cInZpbGxhZ2VyLWFzc2lnbi1zbGlkZXJcIiBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtc2VyaWYgdGV4dC1icmFuZC1nb2xkIG1iLTFcIj5Bc3NpZ24gSWRsZSBWaWxsYWdlcnMgKHtpZGxlVmlsbGFnZXJDb3VudH0gYXZhaWxhYmxlKTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cInZpbGxhZ2VyLWFzc2lnbi1zbGlkZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFuZ2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW49XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4PXttYXhBc3NpZ25hYmxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17YXNzaWduQ291bnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0QXNzaWduQ291bnQoTnVtYmVyKGUudGFyZ2V0LnZhbHVlKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNjaS1maS1zbGlkZXIgZmxleC1ncm93XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e21heEFzc2lnbmFibGUgPT09IDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJBc3NpZ24gVmlsbGFnZXJzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWxnIHctMTIgdGV4dC1jZW50ZXIgYmctYmxhY2svMjAgcC0xIHJvdW5kZWQtbWRcIj57YXNzaWduQ291bnR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQXNzaWdufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Fzc2lnbkNvdW50ID09PSAwIHx8IG1heEFzc2lnbmFibGUgPT09IDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzY2ktZmktYWN0aW9uLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy02IGgtNlwiPntBc3NpZ25JY29ufTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLWZ1bGwgcmlnaHQtMCBtYi0yIHctbWF4IHB4LTIgcHktMSBiZy1zdG9uZS1kYXJrIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkIG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLW9wYWNpdHkgcG9pbnRlci1ldmVudHMtbm9uZSB6LTEwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bWF4QXNzaWduYWJsZSA9PT0gMCA/ICdObyBJZGxlIFZpbGxhZ2VycycgOiBgQXNzaWduICR7YXNzaWduQ291bnR9IFZpbGxhZ2VyKHMpYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB7YXNzaWduZWRDb3VudCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGhyIGNsYXNzTmFtZT1cImJvcmRlci1zdG9uZS1saWdodC8yMCBteS0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJ2aWxsYWdlci1yZWNhbGwtc2xpZGVyXCIgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LXNlcmlmIHRleHQtYnJhbmQtcmVkIG1iLTFcIj5SZWNhbGwgQXNzaWduZWQgVmlsbGFnZXJzICh7YXNzaWduZWRDb3VudH0gYXNzaWduZWQpPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cInZpbGxhZ2VyLXJlY2FsbC1zbGlkZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbj1cIjFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4PXthc3NpZ25lZENvdW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3JlY2FsbENvdW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRSZWNhbGxDb3VudChOdW1iZXIoZS50YXJnZXQudmFsdWUpKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNjaS1maS1zbGlkZXIgZmxleC1ncm93XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJSZWNhbGwgVmlsbGFnZXJzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtbGcgdy0xMiB0ZXh0LWNlbnRlciBiZy1ibGFjay8yMCBwLTEgcm91bmRlZC1tZFwiPntyZWNhbGxDb3VudH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVSZWNhbGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2NpLWZpLWFjdGlvbi1idXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2BSZWNhbGwgJHtyZWNhbGxDb3VudH0gVmlsbGFnZXIocylgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy02IGgtNiB0ZXh0LWJyYW5kLXJlZFwiPjxVbmRvMi8+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIHJpZ2h0LTAgbWItMiB3LW1heCBweC0yIHB5LTEgYmctc3RvbmUtZGFyayB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IHBvaW50ZXItZXZlbnRzLW5vbmUgei0xMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtgUmVjYWxsICR7cmVjYWxsQ291bnR9IFZpbGxhZ2VyKHMpYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUmVzb3VyY2VBc3NpZ25tZW50UGFuZWw7XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIkZvb2RJY29uIiwiV29vZEljb24iLCJHb2xkSWNvbiIsIlN0b25lSWNvbiIsIlZpbGxhZ2VySWNvbiIsIkNsb2NrSWNvbiIsIkdhdGhlckljb24iLCJCdWlsZEljb24iLCJpY29uTWFwIiwiVW5kbzIiLCJJbmZvSWNvbiIsImljb24iLCJ2YWx1ZSIsInRvb2x0aXAiLCJkaXYiLCJjbGFzc05hbWUiLCJzcGFuIiwiUmVzb3VyY2VBc3NpZ25tZW50UGFuZWwiLCJwcm9wcyIsImlzT3BlbiIsIm9uQ2xvc2UiLCJhc3NpZ25tZW50VGFyZ2V0IiwiaWRsZVZpbGxhZ2VyQ291bnQiLCJvbkFzc2lnblZpbGxhZ2VycyIsIm9uUmVjYWxsVmlsbGFnZXJzIiwiZ2F0aGVySW5mbyIsImJ1aWxkaW5nTGlzdCIsImFuY2hvclJlY3QiLCJhc3NpZ25Db3VudCIsInNldEFzc2lnbkNvdW50IiwicmVjYWxsQ291bnQiLCJzZXRSZWNhbGxDb3VudCIsImlzQ2xvc2luZyIsInNldElzQ2xvc2luZyIsImN1cnJlbnREYXRhIiwic2V0Q3VycmVudERhdGEiLCJpc0NvbnN0cnVjdGlvbiIsInR5cGUiLCJpc1Jlc291cmNlIiwiYXNzaWduZWRDb3VudCIsImFzc2lnbmVkVmlsbGFnZXJzIiwibGVuZ3RoIiwicGF5bG9hZCIsInZpbGxhZ2VySWRzIiwiaGFuZGxlQ2xvc2UiLCJzZXRUaW1lb3V0IiwiaGFuZGxlQXNzaWduIiwiaWQiLCJoYW5kbGVSZWNhbGwiLCJjdXJyZW50VGFyZ2V0IiwiY3VycmVudEFuY2hvciIsInRpdGxlIiwiTWFpbkljb24iLCJJbmZvSWNvbnMiLCJBc3NpZ25JY29uIiwibm9kZSIsIkljb25Db21wb25lbnQiLCJmb29kIiwid29vZCIsImdvbGQiLCJzdG9uZSIsImN1cnJlbnRSYXRlIiwicmF0ZSIsIk1hdGgiLCJmbG9vciIsImFtb3VudCIsInRvRml4ZWQiLCJjb25zdHJ1Y3Rpb25UYXNrIiwiYnVpbGRpbmdJbmZvIiwiZmluZCIsImIiLCJidWlsZGluZ1R5cGUiLCJuYW1lIiwibWF4QXNzaWduYWJsZSIsInBhbmVsV2lkdGgiLCJwYW5lbEhlaWdodEVzdGltYXRlIiwicGFuZWxHYXAiLCJzdHlsZSIsInNwYWNlQmVsb3ciLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsImJvdHRvbSIsInNwYWNlQWJvdmUiLCJ0b3AiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJsZWZ0UG9zIiwibGVmdCIsIndpZHRoIiwiaW5uZXJXaWR0aCIsImgyIiwiYnV0dG9uIiwib25DbGljayIsImhyIiwibGFiZWwiLCJodG1sRm9yIiwiaW5wdXQiLCJtaW4iLCJtYXgiLCJvbkNoYW5nZSIsImUiLCJOdW1iZXIiLCJ0YXJnZXQiLCJkaXNhYmxlZCIsImFyaWEtbGFiZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ResourceAssignmentPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/types */ \"(app-pages-browser)/./types.ts\");\n/* harmony import */ var _services_geminiService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/services/geminiService */ \"(app-pages-browser)/./services/geminiService.ts\");\n/* harmony import */ var _services_dbService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/services/dbService */ \"(app-pages-browser)/./services/dbService.ts\");\n/* harmony import */ var _services_nameService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/services/nameService */ \"(app-pages-browser)/./services/nameService.ts\");\n/* harmony import */ var _components_GameUI__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/GameUI */ \"(app-pages-browser)/./components/GameUI.tsx\");\n/* harmony import */ var _components_StartScreen__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/StartScreen */ \"(app-pages-browser)/./components/StartScreen.tsx\");\n/* harmony import */ var _components_LoadingScreen__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/LoadingScreen */ \"(app-pages-browser)/./components/LoadingScreen.tsx\");\n/* harmony import */ var _components_BuildPanel__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/BuildPanel */ \"(app-pages-browser)/./components/BuildPanel.tsx\");\n/* harmony import */ var _components_NotificationManager__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/NotificationManager */ \"(app-pages-browser)/./components/NotificationManager.tsx\");\n/* harmony import */ var _components_UnitManagementPanel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/UnitManagementPanel */ \"(app-pages-browser)/./components/UnitManagementPanel.tsx\");\n/* harmony import */ var _components_BuildingManagementPanel__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/components/BuildingManagementPanel */ \"(app-pages-browser)/./components/BuildingManagementPanel.tsx\");\n/* harmony import */ var _components_ResourceAssignmentPanel__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/components/ResourceAssignmentPanel */ \"(app-pages-browser)/./components/ResourceAssignmentPanel.tsx\");\n/* harmony import */ var _components_CivilizationPanel__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/components/CivilizationPanel */ \"(app-pages-browser)/./components/CivilizationPanel.tsx\");\n/* harmony import */ var _components_AllBuildingsPanel__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/components/AllBuildingsPanel */ \"(app-pages-browser)/./components/AllBuildingsPanel.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst BUILDINGS_INFO = [\n    {\n        id: \"houses\",\n        name: \"House\",\n        description: \"Increases population capacity by 5.\",\n        cost: {\n            wood: 50\n        },\n        isUnique: false,\n        buildTime: 15\n    },\n    {\n        id: \"barracks\",\n        name: \"Barracks\",\n        description: \"Allows training of Swordsmen.\",\n        cost: {\n            wood: 150,\n            stone: 50\n        },\n        isUnique: true,\n        buildTime: 60\n    },\n    {\n        id: \"archeryRange\",\n        name: \"Archery Range\",\n        description: \"Allows training of Archers.\",\n        cost: {\n            wood: 175\n        },\n        isUnique: true,\n        buildTime: 60\n    },\n    {\n        id: \"stable\",\n        name: \"Stables\",\n        description: \"Allows training of Knights.\",\n        cost: {\n            wood: 175,\n            gold: 75\n        },\n        isUnique: true,\n        buildTime: 75\n    },\n    {\n        id: \"siegeWorkshop\",\n        name: \"Siege Workshop\",\n        description: \"Constructs powerful Catapults.\",\n        cost: {\n            wood: 200,\n            gold: 150\n        },\n        isUnique: true,\n        buildTime: 90\n    },\n    {\n        id: \"blacksmith\",\n        name: \"Blacksmith\",\n        description: \"Researches infantry and cavalry upgrades.\",\n        cost: {\n            wood: 100,\n            gold: 100\n        },\n        isUnique: true,\n        buildTime: 45\n    },\n    {\n        id: \"watchTower\",\n        name: \"Watch Tower\",\n        description: \"Provides defense against raids.\",\n        cost: {\n            stone: 125\n        },\n        isUnique: true,\n        buildTime: 45\n    },\n    {\n        id: \"townCenter\",\n        name: \"Town Center\",\n        description: \"The heart of your settlement.\",\n        cost: {},\n        isUnique: true,\n        buildTime: 0\n    }\n];\nconst UNIT_INFO = [\n    {\n        id: \"swordsman\",\n        name: \"Swordsman\",\n        description: \"Basic melee infantry.\",\n        cost: {\n            food: 60,\n            gold: 20\n        },\n        requiredBuilding: \"barracks\",\n        trainTime: 22\n    },\n    {\n        id: \"archer\",\n        name: \"Archer\",\n        description: \"Ranged unit effective against infantry.\",\n        cost: {\n            food: 30,\n            wood: 40\n        },\n        requiredBuilding: \"archeryRange\",\n        trainTime: 25\n    },\n    {\n        id: \"knight\",\n        name: \"Knight\",\n        description: \"Fast and powerful cavalry.\",\n        cost: {\n            food: 60,\n            gold: 75\n        },\n        requiredBuilding: \"stable\",\n        trainTime: 30\n    },\n    {\n        id: \"catapult\",\n        name: \"Catapult\",\n        description: \"Siege engine devastating to buildings.\",\n        cost: {\n            wood: 150,\n            gold: 150\n        },\n        requiredBuilding: \"siegeWorkshop\",\n        trainTime: 45\n    }\n];\nconst GATHER_INFO = {\n    food: {\n        rate: 100\n    },\n    wood: {\n        rate: 80\n    },\n    gold: {\n        rate: 50\n    },\n    stone: {\n        rate: 60\n    }\n};\nconst initialBuildingsState = {\n    houses: [],\n    barracks: [],\n    archeryRange: [],\n    stable: [],\n    siegeWorkshop: [],\n    blacksmith: [],\n    watchTower: [],\n    townCenter: []\n};\nconst MAP_DIMENSIONS = {\n    width: 25,\n    height: 18\n};\nconst GamePage = ()=>{\n    var _buildings_townCenter;\n    _s();\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU);\n    const [civilization, setCivilization] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [resources, setResources] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        food: 200,\n        wood: 150,\n        gold: 50,\n        stone: 100\n    });\n    const [units, setUnits] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        villagers: [],\n        military: []\n    });\n    const [buildings, setBuildings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialBuildingsState);\n    const [currentAge, setCurrentAge] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Nomadic Age\");\n    const [gameLog, setGameLog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentEvent, setCurrentEvent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [resourceDeltas, setResourceDeltas] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [activityStatus, setActivityStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Your story begins...\");\n    const [notifications, setNotifications] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [unlimitedResources, setUnlimitedResources] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [allSaves, setAllSaves] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentSaveName, setCurrentSaveName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [playerAction, setPlayerAction] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [activeTasks, setActiveTasks] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [resourceNodes, setResourceNodes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // Panel States\n    const [buildPanelState, setBuildPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        villagerId: null,\n        anchorRect: null\n    });\n    const [unitManagementPanel, setUnitManagementPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        type: null,\n        anchorRect: null\n    });\n    const [buildingManagementPanel, setBuildingManagementPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        type: null,\n        anchorRect: null\n    });\n    const [allBuildingsPanel, setAllBuildingsPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const [assignmentPanelState, setAssignmentPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        targetId: null,\n        targetType: null,\n        anchorRect: null\n    });\n    const [civPanelState, setCivPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const deltaTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    const eventTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const population = {\n        current: units.villagers.length + units.military.length,\n        capacity: (((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter.length) > 0 ? 20 : 0) + buildings.houses.length * 5\n    };\n    const fetchSaves = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        const names = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllSaveNames)();\n        setAllSaves(names);\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        fetchSaves();\n    }, [\n        fetchSaves\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && civilization && currentSaveName) {\n            const fullState = {\n                civilization,\n                resources,\n                units,\n                buildings,\n                currentAge,\n                gameLog,\n                activeTasks,\n                resourceNodes\n            };\n            (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.saveGameState)(currentSaveName, fullState);\n        }\n    }, [\n        civilization,\n        resources,\n        units,\n        buildings,\n        currentAge,\n        gameLog,\n        gameState,\n        currentSaveName,\n        activeTasks,\n        resourceNodes\n    ]);\n    const addNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message)=>{\n        const id = \"\".concat(Date.now(), \"-\").concat(Math.random());\n        setNotifications((prev)=>[\n                ...prev,\n                {\n                    id,\n                    message\n                }\n            ]);\n    }, []);\n    const removeNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id)=>{\n        setNotifications((prev)=>prev.filter((n)=>n.id !== id));\n    }, []);\n    const addToLog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message, icon)=>{\n        setGameLog((prev)=>[\n                {\n                    id: \"\".concat(Date.now(), \"-\").concat(Math.random()),\n                    message,\n                    icon\n                },\n                ...prev.slice(0, 19)\n            ]);\n    }, []);\n    const updateResources = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((deltas)=>{\n        setResources((prev)=>{\n            const newResources = {\n                ...prev\n            };\n            for(const key in deltas){\n                const resourceKey = key;\n                var _deltas_resourceKey;\n                newResources[resourceKey] = Math.max(0, newResources[resourceKey] + ((_deltas_resourceKey = deltas[resourceKey]) !== null && _deltas_resourceKey !== void 0 ? _deltas_resourceKey : 0));\n            }\n            return newResources;\n        });\n        setResourceDeltas((prev)=>({\n                ...prev,\n                ...deltas\n            }));\n        for(const key in deltas){\n            const resourceKey = key;\n            if (deltaTimeoutRef.current[resourceKey]) {\n                window.clearTimeout(deltaTimeoutRef.current[resourceKey]);\n            }\n            deltaTimeoutRef.current[resourceKey] = window.setTimeout(()=>{\n                setResourceDeltas((prev)=>{\n                    const newDeltas = {\n                        ...prev\n                    };\n                    delete newDeltas[resourceKey];\n                    return newDeltas;\n                });\n            }, 1500);\n        }\n    }, []);\n    const handleTaskCompletion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((task)=>{\n        switch(task.type){\n            case \"build\":\n                {\n                    const { buildingType, villagerIds, position } = task.payload;\n                    const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === buildingType);\n                    const [name] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n                    const newBuilding = {\n                        id: task.id,\n                        name,\n                        position: position\n                    };\n                    setBuildings((p)=>({\n                            ...p,\n                            [buildingType]: [\n                                ...p[buildingType],\n                                newBuilding\n                            ]\n                        }));\n                    if (villagerIds && villagerIds.length > 0) {\n                        addToLog(\"\".concat(villagerIds.length, \" builder(s) have constructed \").concat(name, \", a new \").concat(buildingInfo.name, \".\"), buildingType);\n                        setActivityStatus(\"Construction of \".concat(name, \" is complete.\"));\n                    }\n                    break;\n                }\n            case \"gather\":\n                {\n                    break;\n                }\n            case \"train_villager\":\n                {\n                    const { count } = task.payload;\n                    const newVillagerNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", count);\n                    const newVillagers = newVillagerNames.map((name)=>({\n                            id: \"\".concat(Date.now(), \"-\").concat(name),\n                            name\n                        }));\n                    setUnits((p)=>({\n                            ...p,\n                            villagers: [\n                                ...p.villagers,\n                                ...newVillagers\n                            ]\n                        }));\n                    addToLog(\"\".concat(count, \" new villager(s) have joined your settlement.\"), \"villager\");\n                    setActivityStatus(\"\".concat(count, \" new villager(s) are ready to work.\"));\n                    break;\n                }\n            case \"train_military\":\n                {\n                    const { unitType, count } = task.payload;\n                    const unitInfo = UNIT_INFO.find((u)=>u.id === unitType);\n                    const newUnitNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"soldier\", count);\n                    const newUnits = newUnitNames.map((name)=>({\n                            id: \"\".concat(Date.now(), \"-\").concat(unitType, \"-\").concat(name),\n                            name,\n                            title: \"\",\n                            unitType: unitType\n                        }));\n                    setUnits((p)=>({\n                            ...p,\n                            military: [\n                                ...p.military,\n                                ...newUnits\n                            ]\n                        }));\n                    addToLog(\"\".concat(count, \" \").concat(unitInfo.name, \"(s) have been trained.\"), unitType);\n                    setActivityStatus(\"\".concat(count, \" new \").concat(unitInfo.name, \"(s) are ready for battle.\"));\n                    break;\n                }\n            case \"advance_age\":\n                {\n                    const ageResult = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedAge)(currentAge);\n                    setCurrentAge(ageResult.nextAgeName);\n                    addToLog(\"You have advanced to the \".concat(ageResult.nextAgeName, \"!\"), \"age\");\n                    addToLog(ageResult.description, \"age\");\n                    setActivityStatus(\"Welcome to the \".concat(ageResult.nextAgeName, \"!\"));\n                    break;\n                }\n        }\n    }, [\n        currentAge,\n        addToLog\n    ]);\n    // Game Loop\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState !== _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING) return;\n        const gameLoop = setInterval(()=>{\n            const now = Date.now();\n            let completedTasks = [];\n            let resourceDeltasThisTick = {};\n            const stillActiveTasks = activeTasks.map((task)=>{\n                if (now >= task.startTime + task.duration) {\n                    completedTasks.push(task);\n                    return null;\n                }\n                if (task.type === \"gather\") {\n                    var _task_payload_villagerIds, _task_payload;\n                    const node = resourceNodes.find((n)=>{\n                        var _task_payload;\n                        return n.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.resourceNodeId);\n                    });\n                    const villagerCount = ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 0;\n                    if (!node || villagerCount === 0) {\n                        completedTasks.push(task); // Orphaned or empty gather task, mark for removal\n                        return null;\n                    }\n                    const gatherRatePerVillagerPerSecond = GATHER_INFO[node.type].rate / 10;\n                    const amountGatheredThisTick = gatherRatePerVillagerPerSecond * villagerCount;\n                    resourceDeltasThisTick[node.type] = (resourceDeltasThisTick[node.type] || 0) + amountGatheredThisTick;\n                }\n                return task;\n            }).filter(Boolean);\n            // Update resource nodes separately to avoid race conditions with state\n            if (Object.keys(resourceDeltasThisTick).length > 0) {\n                setResources((prevRes)=>{\n                    const newResources = {\n                        ...prevRes\n                    };\n                    for(const key in resourceDeltasThisTick){\n                        const resKey = key;\n                        newResources[resKey] += resourceDeltasThisTick[resKey];\n                    }\n                    return newResources;\n                });\n                setResourceNodes((prevNodes)=>{\n                    const newNodes = prevNodes.map((node)=>{\n                        const amountToDecrement = resourceDeltasThisTick[node.type];\n                        if (amountToDecrement) {\n                            const newAmount = node.amount - amountToDecrement;\n                            if (newAmount <= 0) {\n                                addToLog(\"\".concat(node.assignedVillagers.length, \" villager(s) depleted a \").concat(node.type, \" source, gaining \").concat(Math.floor(node.amount), \" \").concat(node.type, \".\"), node.type);\n                                setActivityStatus(\"A \".concat(node.type, \" source has been fully depleted.\"));\n                                const gatherTask = stillActiveTasks.find((t)=>{\n                                    var _t_payload;\n                                    return t.type === \"gather\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.resourceNodeId) === node.id;\n                                });\n                                if (gatherTask) completedTasks.push(gatherTask);\n                                return null;\n                            }\n                            return {\n                                ...node,\n                                amount: newAmount\n                            };\n                        }\n                        return node;\n                    }).filter(Boolean);\n                    return newNodes;\n                });\n            }\n            const finalActiveTasks = stillActiveTasks.filter((t)=>!completedTasks.some((ct)=>ct.id === t.id));\n            setActiveTasks(finalActiveTasks);\n            if (completedTasks.length > 0) {\n                completedTasks.forEach(handleTaskCompletion);\n            }\n        }, 1000);\n        return ()=>clearInterval(gameLoop);\n    }, [\n        gameState,\n        activeTasks,\n        resourceNodes,\n        handleTaskCompletion,\n        addToLog\n    ]);\n    const handleNewEvent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        // Events should not trigger if a major task (build, train, advance age) is in progress.\n        // Gathering resources is a background task and should not block events.\n        const majorTaskInProgress = activeTasks.some((t)=>t.type !== \"gather\");\n        if (!civilization || currentEvent || majorTaskInProgress) return;\n        addToLog(\"A new chapter unfolds...\", \"event\");\n        const event = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedGameEvent)();\n        setCurrentEvent(event);\n        setActivityStatus(\"A new event requires your attention!\");\n    }, [\n        civilization,\n        currentEvent,\n        activeTasks,\n        addToLog\n    ]);\n    const scheduleNextEvent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (eventTimerRef.current) {\n            clearTimeout(eventTimerRef.current);\n        }\n        const nextEventTime = (45 + Math.random() * 45) * 1000; // 45-90 seconds\n        eventTimerRef.current = setTimeout(()=>handleNewEvent(), nextEventTime);\n    }, [\n        handleNewEvent\n    ]);\n    const generateResourceNodes = (existingPositions)=>{\n        const nodes = [];\n        const types = [\n            \"food\",\n            \"wood\",\n            \"gold\",\n            \"stone\"\n        ];\n        const numNodes = 20 + Math.floor(Math.random() * 10);\n        for(let i = 0; i < numNodes; i++){\n            let pos;\n            do {\n                pos = {\n                    x: Math.floor(Math.random() * MAP_DIMENSIONS.width),\n                    y: Math.floor(Math.random() * MAP_DIMENSIONS.height)\n                };\n            }while (existingPositions.has(\"\".concat(pos.x, \",\").concat(pos.y)));\n            existingPositions.add(\"\".concat(pos.x, \",\").concat(pos.y));\n            const type = types[Math.floor(Math.random() * types.length)];\n            const amount = Math.floor(Math.random() * (2500 - 500 + 1)) + 500;\n            nodes.push({\n                id: \"\".concat(Date.now(), \"-node-\").concat(i),\n                type,\n                position: pos,\n                amount,\n                assignedVillagers: []\n            });\n        }\n        return nodes;\n    };\n    const handleStartNewGame = (saveName)=>{\n        if (allSaves.includes(saveName)) {\n            addNotification('A saga named \"'.concat(saveName, '\" already exists.'));\n            return;\n        }\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n        setCurrentSaveName(saveName);\n        const civ = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedCivilization)();\n        setCivilization(civ);\n        setResources({\n            food: 200,\n            wood: 150,\n            gold: 50,\n            stone: 100\n        });\n        const initialVillagerNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", 3);\n        const initialVillagers = initialVillagerNames.map((name)=>({\n                id: \"\".concat(Date.now(), \"-\").concat(name),\n                name\n            }));\n        setUnits({\n            villagers: initialVillagers,\n            military: []\n        });\n        const [initialTCName] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n        const tcPosition = {\n            x: Math.floor(MAP_DIMENSIONS.width / 2),\n            y: Math.floor(MAP_DIMENSIONS.height / 2)\n        };\n        const initialTC = {\n            id: \"\".concat(Date.now(), \"-tc\"),\n            name: initialTCName,\n            position: tcPosition\n        };\n        setBuildings({\n            ...initialBuildingsState,\n            townCenter: [\n                initialTC\n            ]\n        });\n        setResourceNodes(generateResourceNodes(new Set([\n            \"\".concat(tcPosition.x, \",\").concat(tcPosition.y)\n        ])));\n        setCurrentAge(\"Nomadic Age\");\n        setGameLog([]);\n        setCurrentEvent(null);\n        setUnlimitedResources(false);\n        setActiveTasks([]);\n        addToLog(\"\".concat(civ.name, \" has been founded!\"), \"system\");\n        addToLog(\"Your story begins...\", \"system\");\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING);\n        setActivityStatus(\"Your settlement awaits your command.\");\n        fetchSaves();\n    };\n    const getVillagerTaskDetails = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((villagerId)=>{\n        const task = activeTasks.find((t)=>{\n            var _t_payload_villagerIds, _t_payload;\n            return (_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : (_t_payload_villagerIds = _t_payload.villagerIds) === null || _t_payload_villagerIds === void 0 ? void 0 : _t_payload_villagerIds.includes(villagerId);\n        });\n        if (task) {\n            if (task.type === \"build\") {\n                const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === task.payload.buildingType);\n                return \"Busy: Constructing \".concat((buildingInfo === null || buildingInfo === void 0 ? void 0 : buildingInfo.name) || \"a building\");\n            }\n            if (task.type === \"gather\") {\n                const node = resourceNodes.find((n)=>n.id === task.payload.resourceNodeId);\n                return \"Busy: Gathering \".concat((node === null || node === void 0 ? void 0 : node.type) || \"resources\");\n            }\n        }\n        return \"Idle\";\n    }, [\n        activeTasks,\n        resourceNodes\n    ]);\n    const isVillagerBusy = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((villagerId)=>{\n        return getVillagerTaskDetails(villagerId) !== \"Idle\";\n    }, [\n        getVillagerTaskDetails\n    ]);\n    const handleResumeGame = async (saveName)=>{\n        const savedState = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.loadGameState)(saveName);\n        if (savedState) {\n            var _savedState_units;\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n            setCurrentSaveName(saveName);\n            setCivilization(savedState.civilization);\n            setResources(savedState.resources);\n            if ((_savedState_units = savedState.units) === null || _savedState_units === void 0 ? void 0 : _savedState_units.soldiers) {\n                const migratedMilitary = savedState.units.soldiers.map((s)=>({\n                        ...s,\n                        unitType: \"swordsman\"\n                    }));\n                setUnits({\n                    villagers: savedState.units.villagers || [],\n                    military: migratedMilitary\n                });\n            } else {\n                setUnits(savedState.units || {\n                    villagers: [],\n                    military: []\n                });\n            }\n            let finalBuildings = {\n                ...initialBuildingsState,\n                ...savedState.buildings || {}\n            };\n            const constructionTasks = (savedState.activeTasks || []).filter((t)=>t.type === \"build\");\n            const occupiedCells = new Set([\n                ...Object.values(finalBuildings).flat().map((b)=>\"\".concat(b.position.x, \",\").concat(b.position.y)),\n                ...constructionTasks.map((t)=>\"\".concat(t.payload.position.x, \",\").concat(t.payload.position.y))\n            ]);\n            if (!finalBuildings.townCenter || finalBuildings.townCenter.length === 0) {\n                let tcPos = {\n                    x: 10,\n                    y: 5\n                };\n                while(occupiedCells.has(\"\".concat(tcPos.x, \",\").concat(tcPos.y))){\n                    tcPos.x++;\n                }\n                const [tcName] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n                finalBuildings.townCenter = [\n                    {\n                        id: \"\".concat(Date.now(), \"-tc\"),\n                        name: tcName,\n                        position: tcPos\n                    }\n                ];\n                occupiedCells.add(\"\".concat(tcPos.x, \",\").concat(tcPos.y));\n            }\n            const firstBuilding = Object.values(finalBuildings).flat()[0];\n            if (firstBuilding && typeof firstBuilding === \"object\" && !(\"position\" in firstBuilding)) {\n                const migrated = {\n                    ...initialBuildingsState\n                };\n                let y = 3;\n                Object.entries(finalBuildings).forEach((param)=>{\n                    let [type, instances] = param;\n                    let x = 5;\n                    instances.forEach((inst)=>{\n                        while(occupiedCells.has(\"\".concat(x, \",\").concat(y))){\n                            x++;\n                        }\n                        migrated[type].push({\n                            ...inst,\n                            position: {\n                                x,\n                                y\n                            }\n                        });\n                        occupiedCells.add(\"\".concat(x, \",\").concat(y));\n                        x++;\n                    });\n                });\n                finalBuildings = migrated;\n            }\n            setBuildings(finalBuildings);\n            const nodesToSet = (savedState.resourceNodes || []).map((n)=>({\n                    ...n,\n                    assignedVillagers: n.assignedVillagers || []\n                }));\n            if (nodesToSet.length === 0) {\n                setResourceNodes(generateResourceNodes(occupiedCells));\n            } else {\n                setResourceNodes(nodesToSet);\n            }\n            setCurrentAge(savedState.currentAge);\n            setGameLog(savedState.gameLog);\n            // Migration for old save formats\n            const migratedTasks = (savedState.activeTasks || []).map((t)=>{\n                var _t_payload, _t_payload1;\n                if (\"constructingBuildings\" in savedState && t.type === \"build\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.villagerId)) {\n                    return {\n                        ...t,\n                        payload: {\n                            ...t.payload,\n                            villagerIds: [\n                                t.payload.villagerId\n                            ]\n                        }\n                    };\n                }\n                if (t.type === \"build\" && !((_t_payload1 = t.payload) === null || _t_payload1 === void 0 ? void 0 : _t_payload1.villagerIds)) {\n                    return {\n                        ...t,\n                        payload: {\n                            ...t.payload,\n                            villagerIds: []\n                        }\n                    };\n                }\n                return t;\n            });\n            setActiveTasks(migratedTasks);\n            setCurrentEvent(null);\n            setActivityStatus(\"Welcome back to your saga.\");\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING);\n        } else {\n            addNotification('Could not find a saved game named \"'.concat(saveName, '\".'));\n        }\n    };\n    // Event Trigger Timer\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState !== _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING) return;\n        const majorTaskInProgress = activeTasks.some((t)=>t.type !== \"gather\");\n        if (!currentEvent && !playerAction && !majorTaskInProgress) {\n            scheduleNextEvent();\n        } else if (eventTimerRef.current) {\n            clearTimeout(eventTimerRef.current);\n        }\n        return ()=>{\n            if (eventTimerRef.current) {\n                clearTimeout(eventTimerRef.current);\n            }\n        };\n    }, [\n        gameState,\n        currentEvent,\n        playerAction,\n        activeTasks,\n        scheduleNextEvent\n    ]);\n    const handleEventChoice = (choice)=>{\n        addToLog('Decision: \"'.concat(choice.text, '\"'), \"event\");\n        // 1. Check and apply cost\n        if (choice.cost) {\n            const missingRes = [];\n            for(const key in choice.cost){\n                const resKey = key;\n                if (resources[resKey] < (choice.cost[resKey] || 0)) {\n                    missingRes.push(resKey);\n                }\n            }\n            if (missingRes.length > 0) {\n                addNotification(\"You lack the required resources: \".concat(missingRes.join(\", \"), \".\"));\n                return;\n            }\n            const negativeCost = {};\n            for(const key in choice.cost){\n                const resKey = key;\n                negativeCost[resKey] = -(choice.cost[resKey] || 0);\n            }\n            updateResources(negativeCost);\n        }\n        // 2. Determine success\n        const isSuccess = choice.successChance === undefined || Math.random() < choice.successChance;\n        const effects = isSuccess ? choice.successEffects : choice.failureEffects;\n        if (!effects) {\n            setCurrentEvent(null);\n            scheduleNextEvent();\n            return;\n        }\n        // 3. Calculate resource change\n        let amount = 0;\n        if (Array.isArray(effects.amount)) {\n            const [min, max] = effects.amount;\n            amount = Math.floor(Math.random() * (max - min + 1)) + min;\n        } else {\n            amount = effects.amount;\n        }\n        // 4. Apply effects\n        if (effects.resource !== \"none\" && amount !== 0) {\n            updateResources({\n                [effects.resource]: amount\n            });\n        }\n        // 5. Log and update UI\n        addToLog(effects.log, effects.resource !== \"none\" ? effects.resource : \"system\");\n        setActivityStatus(effects.log);\n        setCurrentEvent(null);\n        scheduleNextEvent();\n    };\n    const handleInitiateBuild = (villagerId, rect)=>{\n        if (isVillagerBusy(villagerId)) {\n            addNotification(\"This villager is already busy.\");\n            return;\n        }\n        setBuildPanelState({\n            isOpen: true,\n            villagerId,\n            anchorRect: rect\n        });\n        setUnitManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleStartPlacement = (buildingId)=>{\n        const villagerId = buildPanelState.villagerId;\n        if (!villagerId) return;\n        const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === buildingId);\n        if (!buildingInfo) return;\n        const isAlreadyConstructing = activeTasks.some((t)=>{\n            var _t_payload;\n            return t.type === \"build\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.buildingType) === buildingInfo.id;\n        });\n        if (buildingInfo.isUnique && (buildings[buildingInfo.id].length > 0 || isAlreadyConstructing)) {\n            addNotification(\"You can only build one \".concat(buildingInfo.name, \".\"));\n            return;\n        }\n        const cost = buildingInfo.cost;\n        if (!unlimitedResources) {\n            const missing = [];\n            for(const res in cost){\n                const resourceKey = res;\n                var _cost_resourceKey;\n                if (resources[resourceKey] < ((_cost_resourceKey = cost[resourceKey]) !== null && _cost_resourceKey !== void 0 ? _cost_resourceKey : 0)) {\n                    var _cost_resourceKey1;\n                    missing.push(\"\".concat(((_cost_resourceKey1 = cost[resourceKey]) !== null && _cost_resourceKey1 !== void 0 ? _cost_resourceKey1 : 0) - resources[resourceKey], \" \").concat(resourceKey));\n                }\n            }\n            if (missing.length > 0) {\n                addNotification(\"Need \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n        }\n        setPlayerAction({\n            mode: \"build\",\n            buildingType: buildingId,\n            villagerId\n        });\n        setBuildPanelState({\n            isOpen: false,\n            villagerId: null,\n            anchorRect: null\n        });\n        setActivityStatus(\"Select a location to build a \".concat(buildingInfo.name, \". Right-click to cancel.\"));\n    };\n    const handleConfirmPlacement = (position)=>{\n        if ((playerAction === null || playerAction === void 0 ? void 0 : playerAction.mode) !== \"build\") return;\n        const { buildingType, villagerId } = playerAction;\n        const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === buildingType);\n        const builder = units.villagers.find((v)=>v.id === villagerId);\n        if (!buildingInfo || !builder) return;\n        if (!unlimitedResources) {\n            const cost = buildingInfo.cost;\n            const negativeCost = {};\n            for(const resource in cost){\n                negativeCost[resource] = -(cost[resource] || 0);\n            }\n            updateResources(negativeCost);\n        }\n        const buildTime = buildingInfo.buildTime * 1000;\n        const taskId = \"\".concat(Date.now(), \"-build-\").concat(buildingType);\n        const taskPayload = {\n            buildingType,\n            villagerIds: [\n                villagerId\n            ],\n            position\n        };\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: taskId,\n                type: \"build\",\n                startTime: 0,\n                duration: 0,\n                payload: {\n                    ...taskPayload,\n                    position\n                }\n            });\n        } else {\n            const newTask = {\n                id: taskId,\n                type: \"build\",\n                startTime: Date.now(),\n                duration: buildTime,\n                payload: taskPayload\n            };\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    newTask\n                ]);\n            setActivityStatus(\"\".concat(builder.name, \" has started constructing a \").concat(buildingInfo.name, \".\"));\n            addToLog(\"\".concat(builder.name, \" began construction of a new \").concat(buildingInfo.name, \".\"), buildingType);\n        }\n        setPlayerAction(null);\n    };\n    const handleCancelPlayerAction = ()=>{\n        setPlayerAction(null);\n        setActivityStatus(\"Command cancelled.\");\n    };\n    const handleDemolishBuilding = (type, id)=>{\n        var _buildings_townCenter;\n        if (activeTasks.some((t)=>{\n            var _t_payload;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.buildingId) === id;\n        })) {\n            addNotification(\"Cannot demolish a building with an active task.\");\n            return;\n        }\n        const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === type);\n        const buildingInstance = buildings[type].find((b)=>b.id === id);\n        if (!buildingInfo || !buildingInstance) return;\n        if (type === \"houses\" && population.current > (((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter.length) > 0 ? 20 : 0) + (buildings.houses.length - 1) * 5) {\n            addNotification(\"Cannot demolish this house, your people would be homeless.\");\n            return;\n        }\n        const refund = {};\n        let refundMessageParts = [];\n        for(const res in buildingInfo.cost){\n            const resourceKey = res;\n            const cost = buildingInfo.cost[resourceKey] || 0;\n            const amount = Math.floor(cost * 0.5);\n            if (amount > 0) {\n                refund[resourceKey] = amount;\n                refundMessageParts.push(\"\".concat(amount, \" \").concat(resourceKey));\n            }\n        }\n        updateResources(refund);\n        setBuildings((prev)=>({\n                ...prev,\n                [type]: prev[type].filter((b)=>b.id !== id)\n            }));\n        addToLog(\"\".concat(buildingInstance.name, \" (\").concat(buildingInfo.name, \") was demolished.\"), type);\n        if (refundMessageParts.length > 0) {\n            addNotification(\"Salvaged \".concat(refundMessageParts.join(\", \"), \".\"));\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleUpdateBuilding = (type, id, name)=>{\n        setBuildings((prev)=>({\n                ...prev,\n                [type]: prev[type].map((b)=>b.id === id ? {\n                        ...b,\n                        name\n                    } : b)\n            }));\n        addNotification(\"Building renamed.\");\n    };\n    const handleTrainVillagers = (count)=>{\n        var _buildings_townCenter;\n        if (activeTasks.some((t)=>t.type === \"train_villager\") || count <= 0) return;\n        const villagerCost = 50;\n        const totalCost = villagerCost * count;\n        if (population.current + count > population.capacity) {\n            addNotification(\"Need space for \".concat(count, \" more villagers.\"));\n            return;\n        }\n        const townCenter = (_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter[0];\n        if (!townCenter) {\n            addNotification(\"No Town Center to train villagers.\");\n            return;\n        }\n        if (!unlimitedResources) {\n            if (resources.food < totalCost) {\n                addNotification(\"Need \".concat(totalCost - resources.food, \" more Food.\"));\n                return;\n            }\n            updateResources({\n                food: -totalCost\n            });\n        }\n        const trainTime = 10000 * count; // 10s per villager\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: \"instant\",\n                type: \"train_villager\",\n                startTime: 0,\n                duration: 0,\n                payload: {\n                    count\n                }\n            });\n        } else {\n            const taskId = \"\".concat(Date.now(), \"-train-villager\");\n            const newTask = {\n                id: taskId,\n                type: \"train_villager\",\n                startTime: Date.now(),\n                duration: trainTime,\n                payload: {\n                    count,\n                    buildingId: townCenter.id\n                }\n            };\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    newTask\n                ]);\n            setActivityStatus(\"Training \".concat(count, \" villager(s)...\"));\n            addToLog(\"Began training \".concat(count, \" new villager(s).\"), \"villager\");\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleTrainUnits = (unitType, count)=>{\n        var _buildings_unitInfo_requiredBuilding;\n        const unitInfo = UNIT_INFO.find((u)=>u.id === unitType);\n        if (!unitInfo || activeTasks.some((t)=>{\n            var _t_payload;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.unitType) === unitType;\n        }) || count <= 0) return;\n        if (population.current + count > population.capacity) {\n            addNotification(\"Need space for \".concat(count, \" more units.\"));\n            return;\n        }\n        const trainingBuilding = (_buildings_unitInfo_requiredBuilding = buildings[unitInfo.requiredBuilding]) === null || _buildings_unitInfo_requiredBuilding === void 0 ? void 0 : _buildings_unitInfo_requiredBuilding[0];\n        if (!trainingBuilding) {\n            addNotification(\"No \".concat(unitInfo.requiredBuilding, \" to train units.\"));\n            return;\n        }\n        if (!unlimitedResources) {\n            const totalCost = {};\n            const missing = [];\n            for(const res in unitInfo.cost){\n                const resourceKey = res;\n                const cost = (unitInfo.cost[resourceKey] || 0) * count;\n                totalCost[resourceKey] = -cost;\n                if (resources[resourceKey] < cost) missing.push(\"\".concat(cost - resources[resourceKey], \" \").concat(resourceKey));\n            }\n            if (missing.length > 0) {\n                addNotification(\"Need \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n            updateResources(totalCost);\n        }\n        const trainTime = unitInfo.trainTime * 1000 * count;\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: \"instant\",\n                type: \"train_military\",\n                startTime: 0,\n                duration: 0,\n                payload: {\n                    unitType,\n                    count\n                }\n            });\n        } else {\n            const taskId = \"\".concat(Date.now(), \"-train-\").concat(unitType);\n            const newTask = {\n                id: taskId,\n                type: \"train_military\",\n                startTime: Date.now(),\n                duration: trainTime,\n                payload: {\n                    unitType,\n                    count,\n                    buildingId: trainingBuilding.id\n                }\n            };\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    newTask\n                ]);\n            setActivityStatus(\"Training \".concat(count, \" \").concat(unitInfo.name, \"(s)...\"));\n            addToLog(\"Began training \".concat(count, \" new \").concat(unitInfo.name, \"(s).\"), unitType);\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleDismissSpecificUnit = (type, id)=>{\n        if (type === \"villagers\" && isVillagerBusy(id)) {\n            addNotification(\"Cannot dismiss a busy villager.\");\n            return;\n        }\n        const unit = units[type].find((u)=>u.id === id);\n        if (!unit) return;\n        if (type === \"villagers\" && units.villagers.length <= 1) {\n            addNotification(\"Cannot dismiss your last villager.\");\n            return;\n        }\n        setUnits((prev)=>({\n                ...prev,\n                [type]: prev[type].filter((u)=>u.id !== id)\n            }));\n        const unitTypeName = type === \"villagers\" ? \"villager\" : unit.unitType;\n        addToLog(\"\".concat(unit.name, \" the \").concat(unitTypeName, \" has been dismissed.\"), type === \"villagers\" ? \"villager\" : unit.unitType);\n        addNotification(\"\".concat(unit.name, \" was dismissed.\"));\n    };\n    const handleUpdateUnit = (type, id, name, title)=>{\n        setUnits((prev)=>({\n                ...prev,\n                [type]: prev[type].map((u)=>{\n                    if (u.id === id) {\n                        const updatedUnit = {\n                            ...u,\n                            name\n                        };\n                        if (type === \"military\" && title !== undefined) {\n                            updatedUnit.title = title;\n                        }\n                        return updatedUnit;\n                    }\n                    return u;\n                })\n            }));\n        addNotification(\"Unit updated.\");\n    };\n    const handleAssignVillagersToNode = (nodeId, count)=>{\n        const idleVillagers = units.villagers.filter((v)=>!isVillagerBusy(v.id));\n        if (count <= 0) return;\n        let cappedCount = Math.min(count, idleVillagers.length);\n        if (cappedCount === 0) {\n            addNotification(\"No idle villagers available.\");\n            return;\n        }\n        const villagersToAssign = idleVillagers.slice(0, cappedCount);\n        const villagerIdsToAssign = villagersToAssign.map((v)=>v.id);\n        const targetNode = resourceNodes.find((n)=>n.id === nodeId);\n        if (!targetNode) return;\n        setResourceNodes((prevNodes)=>prevNodes.map((n)=>n.id === nodeId ? {\n                    ...n,\n                    assignedVillagers: [\n                        ...new Set([\n                            ...n.assignedVillagers,\n                            ...villagerIdsToAssign\n                        ])\n                    ]\n                } : n));\n        if (unlimitedResources) {\n            updateResources({\n                [targetNode.type]: targetNode.amount\n            });\n            addToLog(\"\".concat(cappedCount, \" villager(s) instantly gathered \").concat(Math.floor(targetNode.amount), \" \").concat(targetNode.type, \".\"), targetNode.type);\n            setResourceNodes((prev)=>prev.filter((n)=>n.id !== nodeId));\n        } else {\n            const existingTask = activeTasks.find((t)=>{\n                var _t_payload;\n                return t.type === \"gather\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.resourceNodeId) === nodeId;\n            });\n            if (existingTask) {\n                setActiveTasks((prev)=>prev.map((t)=>t.id === existingTask.id ? {\n                            ...t,\n                            payload: {\n                                ...t.payload,\n                                villagerIds: [\n                                    ...new Set([\n                                        ...t.payload.villagerIds,\n                                        ...villagerIdsToAssign\n                                    ])\n                                ]\n                            }\n                        } : t));\n            } else {\n                const newTask = {\n                    id: \"gather-\".concat(nodeId),\n                    type: \"gather\",\n                    startTime: Date.now(),\n                    duration: 86400000,\n                    payload: {\n                        resourceNodeId: nodeId,\n                        villagerIds: villagerIdsToAssign\n                    }\n                }; // Duration is arbitrary, loop handles completion\n                setActiveTasks((prev)=>[\n                        ...prev,\n                        newTask\n                    ]);\n            }\n        }\n        addToLog(\"\".concat(cappedCount, \" villager(s) assigned to gather \").concat(targetNode.type, \".\"), targetNode.type);\n        setActivityStatus(\"\".concat(cappedCount, \" villager(s) are now gathering \").concat(targetNode.type, \".\"));\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleRecallVillagers = (targetId, count, type)=>{\n        if (type === \"resource\") {\n            const node = resourceNodes.find((n)=>n.id === targetId);\n            if (!node || node.assignedVillagers.length < count) return;\n            const villagersToRecall = node.assignedVillagers.slice(node.assignedVillagers.length - count);\n            setResourceNodes((prev)=>prev.map((n)=>n.id === targetId ? {\n                        ...n,\n                        assignedVillagers: n.assignedVillagers.filter((id)=>!villagersToRecall.includes(id))\n                    } : n));\n            setActiveTasks((prev)=>{\n                const taskIndex = prev.findIndex((t)=>{\n                    var _t_payload;\n                    return t.type === \"gather\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.resourceNodeId) === targetId;\n                });\n                if (taskIndex === -1) return prev;\n                const task = prev[taskIndex];\n                const remainingVillagers = task.payload.villagerIds.filter((id)=>!villagersToRecall.includes(id));\n                if (remainingVillagers.length === 0) {\n                    return prev.filter((_, i)=>i !== taskIndex);\n                } else {\n                    return prev.map((t, i)=>i === taskIndex ? {\n                            ...t,\n                            payload: {\n                                ...t.payload,\n                                villagerIds: remainingVillagers\n                            }\n                        } : t);\n                }\n            });\n            addToLog(\"\".concat(count, \" villager(s) recalled from gathering \").concat(node.type, \".\"), \"villager\");\n        } else {\n            var _task_payload_villagerIds, _task_payload;\n            const task = activeTasks.find((t)=>t.id === targetId);\n            var _task_payload_villagerIds_length;\n            if (!task || task.type !== \"build\" || ((_task_payload_villagerIds_length = (_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) !== null && _task_payload_villagerIds_length !== void 0 ? _task_payload_villagerIds_length : 0) < count) return;\n            const villagersToRecall = task.payload.villagerIds.slice(task.payload.villagerIds.length - count);\n            const remainingVillagers = task.payload.villagerIds.filter((id)=>!villagersToRecall.includes(id));\n            if (remainingVillagers.length === 0) {\n                addNotification(\"Cannot recall the last builder. This would cancel the project.\");\n                return;\n            }\n            const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === task.payload.buildingType);\n            const totalWork = buildingInfo.buildTime * 1000;\n            const oldWorkerCount = task.payload.villagerIds.length;\n            const timeElapsed = Date.now() - task.startTime;\n            const workDone = timeElapsed * oldWorkerCount;\n            const workRemaining = Math.max(0, totalWork - workDone);\n            const newWorkerCount = remainingVillagers.length;\n            const newRemainingDuration = workRemaining / newWorkerCount;\n            setActiveTasks((prev)=>prev.map((t)=>t.id === targetId ? {\n                        ...t,\n                        startTime: Date.now(),\n                        duration: newRemainingDuration,\n                        payload: {\n                            ...t.payload,\n                            villagerIds: remainingVillagers\n                        }\n                    } : t));\n            addToLog(\"\".concat(count, \" villager(s) recalled from construction. Work will now proceed slower.\"), \"villager\");\n        }\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleAssignVillagersToConstruction = (constructionId, count)=>{\n        var _task_payload_villagerIds, _task_payload;\n        const idleVillagers = units.villagers.filter((v)=>!isVillagerBusy(v.id));\n        if (count <= 0) return;\n        let cappedCount = Math.min(count, idleVillagers.length);\n        if (cappedCount === 0) {\n            addNotification(\"No idle villagers available to assist.\");\n            return;\n        }\n        const villagersToAssign = idleVillagers.slice(0, cappedCount).map((v)=>v.id);\n        const task = activeTasks.find((t)=>t.id === constructionId);\n        if (!task || task.type !== \"build\") return;\n        const buildingInfo = BUILDINGS_INFO.find((b)=>{\n            var _task_payload;\n            return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n        });\n        if (!buildingInfo) return;\n        const baseDuration = buildingInfo.buildTime * 1000;\n        const oldWorkerCount = ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 1;\n        const timeElapsed = Date.now() - task.startTime;\n        const workDone = timeElapsed * oldWorkerCount;\n        const totalWork = baseDuration;\n        const workRemaining = Math.max(0, totalWork - workDone);\n        const newWorkerCount = oldWorkerCount + cappedCount;\n        const newRemainingDuration = workRemaining / newWorkerCount;\n        const updatedVillagerIds = [\n            ...task.payload.villagerIds,\n            ...villagersToAssign\n        ];\n        setActiveTasks((prev)=>prev.map((t)=>t.id === constructionId ? {\n                    ...t,\n                    startTime: Date.now(),\n                    duration: newRemainingDuration,\n                    payload: {\n                        ...t.payload,\n                        villagerIds: updatedVillagerIds\n                    }\n                } : t));\n        addToLog(\"\".concat(cappedCount, \" villager(s) are now assisting with the \").concat(buildingInfo.name, \".\"), buildingInfo.id);\n        setActivityStatus(\"Construction of the \".concat(buildingInfo.name, \" is now faster.\"));\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleAssignVillagers = (targetId, count)=>{\n        if (assignmentPanelState.targetType === \"resource\") {\n            handleAssignVillagersToNode(targetId, count);\n        } else if (assignmentPanelState.targetType === \"construction\") {\n            handleAssignVillagersToConstruction(targetId, count);\n        }\n    };\n    const handleAdvanceAge = async ()=>{\n        if (activeTasks.some((t)=>t.type === \"advance_age\")) {\n            addNotification(\"Advancement already in progress.\");\n            return;\n        }\n        if (!unlimitedResources) {\n            if (resources.food < 500 || resources.gold < 200) {\n                const missing = [];\n                if (resources.food < 500) missing.push(\"\".concat(500 - resources.food, \" Food\"));\n                if (resources.gold < 200) missing.push(\"\".concat(200 - resources.gold, \" Gold\"));\n                addNotification(\"To advance, you need \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n            updateResources({\n                food: -500,\n                gold: -200\n            });\n        }\n        const duration = 60000;\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: \"instant\",\n                type: \"advance_age\",\n                startTime: 0,\n                duration: 0\n            });\n        } else {\n            const taskId = \"\".concat(Date.now(), \"-advance_age\");\n            const newTask = {\n                id: taskId,\n                type: \"advance_age\",\n                startTime: Date.now(),\n                duration\n            };\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    newTask\n                ]);\n            setActivityStatus(\"Your people begin the long journey to a new age.\");\n            setBuildingManagementPanel({\n                isOpen: false,\n                type: null,\n                anchorRect: null\n            });\n        }\n    };\n    const handleExitGame = async ()=>{\n        setCurrentSaveName(null);\n        await fetchSaves();\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU);\n    };\n    const handleDeleteGame = async (saveName)=>{\n        await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.deleteGameState)(saveName);\n        await fetchSaves();\n        addNotification('Deleted saga: \"'.concat(saveName, '\"'));\n    };\n    const handleToggleUnlimitedResources = ()=>{\n        const newMode = !unlimitedResources;\n        setUnlimitedResources(newMode);\n        if (newMode) {\n            setResources({\n                food: 99999,\n                wood: 99999,\n                gold: 99999,\n                stone: 99999\n            });\n            addNotification(\"Test Mode: ON\");\n        } else {\n            addNotification(\"Test Mode: OFF\");\n        }\n    };\n    const buildingCounts = Object.keys(buildings).reduce((acc, key)=>{\n        const buildingType = key;\n        acc[buildingType] = buildings[buildingType].length;\n        return acc;\n    }, {});\n    const idleVillagerCount = units.villagers.filter((v)=>!isVillagerBusy(v.id)).length;\n    const assignmentTarget = assignmentPanelState.targetType === \"resource\" ? resourceNodes.find((n)=>n.id === assignmentPanelState.targetId) : activeTasks.find((t)=>t.type === \"build\" && t.id === assignmentPanelState.targetId);\n    const closeAllPanels = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setUnitManagementPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                type: null,\n                anchorRect: null\n            } : p);\n        setBuildingManagementPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                type: null,\n                instanceId: undefined,\n                anchorRect: null\n            } : p);\n        setBuildPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                villagerId: null,\n                anchorRect: null\n            } : p);\n        setAssignmentPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                targetId: null,\n                targetType: null,\n                anchorRect: null\n            } : p);\n        setCivPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n        setAllBuildingsPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n    }, []);\n    const handleOpenBuildingPanel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((type, instanceId, rect)=>{\n        closeAllPanels();\n        setBuildingManagementPanel({\n            isOpen: true,\n            type,\n            instanceId,\n            anchorRect: rect\n        });\n    }, [\n        closeAllPanels\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClickOutside = (event)=>{\n            const isAnyPanelOpen = unitManagementPanel.isOpen || buildingManagementPanel.isOpen || buildPanelState.isOpen || assignmentPanelState.isOpen || civPanelState.isOpen || allBuildingsPanel.isOpen;\n            if (!isAnyPanelOpen) {\n                return;\n            }\n            const target = event.target;\n            if (target.closest(\".sci-fi-panel-popup\")) {\n                return;\n            }\n            closeAllPanels();\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>{\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n    }, [\n        unitManagementPanel.isOpen,\n        buildingManagementPanel.isOpen,\n        buildPanelState.isOpen,\n        assignmentPanelState.isOpen,\n        civPanelState.isOpen,\n        allBuildingsPanel.isOpen,\n        closeAllPanels\n    ]);\n    const renderContent = ()=>{\n        switch(gameState){\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StartScreen__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                    onNewGame: handleStartNewGame,\n                    onResumeGame: handleResumeGame,\n                    savedGames: allSaves,\n                    onDeleteGame: handleDeleteGame\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 982,\n                    columnNumber: 24\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 984,\n                    columnNumber: 24\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING:\n                if (!civilization) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 986,\n                    columnNumber: 43\n                }, undefined);\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_GameUI__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                            civilization: civilization,\n                            resources: resources,\n                            units: units,\n                            buildings: buildings,\n                            population: population,\n                            currentAge: currentAge,\n                            gameLog: gameLog,\n                            currentEvent: currentEvent,\n                            onEventChoice: handleEventChoice,\n                            resourceDeltas: resourceDeltas,\n                            activityStatus: activityStatus,\n                            unitList: UNIT_INFO,\n                            buildingList: BUILDINGS_INFO,\n                            onOpenUnitPanel: (type, rect)=>{\n                                closeAllPanels();\n                                setUnitManagementPanel({\n                                    isOpen: true,\n                                    type,\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenBuildingPanel: handleOpenBuildingPanel,\n                            onOpenAllBuildingsPanel: (rect)=>{\n                                closeAllPanels();\n                                setAllBuildingsPanel({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            playerAction: playerAction,\n                            onConfirmPlacement: handleConfirmPlacement,\n                            onCancelPlayerAction: handleCancelPlayerAction,\n                            onBuildingClick: (building, rect)=>{\n                                closeAllPanels();\n                                const type = Object.keys(buildings).find((key)=>buildings[key].some((b)=>b.id === building.id));\n                                if (type) setBuildingManagementPanel({\n                                    isOpen: true,\n                                    type,\n                                    instanceId: building.id,\n                                    anchorRect: rect\n                                });\n                            },\n                            mapDimensions: MAP_DIMENSIONS,\n                            activeTasks: activeTasks,\n                            onExitGame: handleExitGame,\n                            onOpenCivPanel: (rect)=>{\n                                closeAllPanels();\n                                setCivPanelState({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            resourceNodes: resourceNodes,\n                            onOpenAssignmentPanel: (nodeId, rect)=>{\n                                closeAllPanels();\n                                setAssignmentPanelState({\n                                    isOpen: true,\n                                    targetId: nodeId,\n                                    targetType: \"resource\",\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenConstructionPanel: (constructionId, rect)=>{\n                                closeAllPanels();\n                                setAssignmentPanelState({\n                                    isOpen: true,\n                                    targetId: constructionId,\n                                    targetType: \"construction\",\n                                    anchorRect: rect\n                                });\n                            },\n                            gatherInfo: GATHER_INFO\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 989,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BuildPanel__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                            isOpen: buildPanelState.isOpen,\n                            onClose: ()=>setBuildPanelState({\n                                    isOpen: false,\n                                    villagerId: null,\n                                    anchorRect: null\n                                }),\n                            onStartPlacement: handleStartPlacement,\n                            resources: resources,\n                            buildingCounts: buildingCounts,\n                            buildingList: BUILDINGS_INFO,\n                            anchorRect: buildPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1023,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_UnitManagementPanel__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                            isOpen: unitManagementPanel.isOpen,\n                            onClose: ()=>setUnitManagementPanel({\n                                    isOpen: false,\n                                    type: null,\n                                    anchorRect: null\n                                }),\n                            type: unitManagementPanel.type,\n                            units: units,\n                            onUpdateUnit: handleUpdateUnit,\n                            onDismissUnit: handleDismissSpecificUnit,\n                            onInitiateBuild: (villagerId, rect)=>{\n                                closeAllPanels();\n                                handleInitiateBuild(villagerId, rect);\n                            },\n                            getVillagerTaskDetails: getVillagerTaskDetails,\n                            anchorRect: unitManagementPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1032,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BuildingManagementPanel__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                            isOpen: buildingManagementPanel.isOpen,\n                            onClose: ()=>setBuildingManagementPanel({\n                                    isOpen: false,\n                                    type: null,\n                                    anchorRect: null\n                                }),\n                            panelState: buildingManagementPanel,\n                            buildings: buildings,\n                            buildingList: BUILDINGS_INFO,\n                            onUpdateBuilding: handleUpdateBuilding,\n                            onDemolishBuilding: handleDemolishBuilding,\n                            onTrainUnits: handleTrainUnits,\n                            onTrainVillagers: handleTrainVillagers,\n                            resources: resources,\n                            population: population,\n                            unitList: UNIT_INFO,\n                            onAdvanceAge: handleAdvanceAge,\n                            activeTasks: activeTasks,\n                            anchorRect: buildingManagementPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1043,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ResourceAssignmentPanel__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                            isOpen: assignmentPanelState.isOpen,\n                            onClose: ()=>setAssignmentPanelState({\n                                    isOpen: false,\n                                    targetId: null,\n                                    targetType: null,\n                                    anchorRect: null\n                                }),\n                            assignmentTarget: assignmentTarget || null,\n                            idleVillagerCount: idleVillagerCount,\n                            onAssignVillagers: handleAssignVillagers,\n                            onRecallVillagers: handleRecallVillagers,\n                            gatherInfo: GATHER_INFO,\n                            buildingList: BUILDINGS_INFO,\n                            anchorRect: assignmentPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1060,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CivilizationPanel__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                            isOpen: civPanelState.isOpen,\n                            onClose: ()=>setCivPanelState({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            civilization: civilization,\n                            anchorRect: civPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1071,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AllBuildingsPanel__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                            isOpen: allBuildingsPanel.isOpen,\n                            onClose: ()=>setAllBuildingsPanel({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            buildingList: BUILDINGS_INFO,\n                            buildingCounts: buildingCounts,\n                            activeTasks: activeTasks,\n                            onOpenBuildingPanel: handleOpenBuildingPanel,\n                            anchorRect: allBuildingsPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1077,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true);\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StartScreen__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                    onNewGame: handleStartNewGame,\n                    onResumeGame: handleResumeGame,\n                    savedGames: allSaves,\n                    onDeleteGame: handleDeleteGame\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 1089,\n                    columnNumber: 24\n                }, undefined);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-stone-dark flex items-center justify-center p-4\",\n        children: [\n            gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handleToggleUnlimitedResources,\n                className: \"fixed bottom-4 left-4 z-[101] bg-brand-gold text-stone-dark font-bold py-1 px-3 rounded-full text-xs shadow-lg hover:scale-105 transition-transform\",\n                \"aria-label\": \"Toggle unlimited resources test mode\",\n                children: [\n                    \"Test Mode: \",\n                    unlimitedResources ? \"ON\" : \"OFF\"\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 1096,\n                columnNumber: 18\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_NotificationManager__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                notifications: notifications,\n                onRemoveNotification: removeNotification\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 1104,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"w-full max-w-7xl mx-auto\",\n                children: renderContent()\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 1105,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/src/app/page.tsx\",\n        lineNumber: 1094,\n        columnNumber: 9\n    }, undefined);\n};\n_s(GamePage, \"XTHGw+qYLVLF0tH7KS9pLeUaYgw=\");\n_c = GamePage;\n/* harmony default export */ __webpack_exports__[\"default\"] = (GamePage);\nvar _c;\n$RefreshReg$(_c, \"GamePage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UVEsa0JBQWtCUixNQUFNOzRCQUNoQzBRLFNBQVMsSUFBTWpRLHFCQUFxQjtvQ0FBRVQsUUFBUTtvQ0FBT0UsWUFBWTtnQ0FBSzs0QkFDdEUwUCxjQUFjaFU7NEJBQ2QwUyxnQkFBZ0JBOzRCQUNoQjVPLGFBQWFBOzRCQUNib1EscUJBQXFCakI7NEJBQ3JCM08sWUFBWU0sa0JBQWtCTixVQUFVOzs7Ozs7OztZQUl4RDtnQkFDSSxxQkFBTyw4REFBQy9FLCtEQUFXQTtvQkFBQ21VLFdBQVc5SDtvQkFBb0IrSCxjQUFjbEg7b0JBQWtCbUgsWUFBWXBRO29CQUFVcVEsY0FBY3RCOzs7Ozs7UUFDL0g7SUFDSjtJQUVBLHFCQUNJLDhEQUFDb0Q7UUFBSUMsV0FBVTs7WUFDVjlULGNBQWNqRCw4Q0FBVUEsQ0FBQytHLE9BQU8sa0JBQzVCLDhEQUFDaVE7Z0JBQ0VDLFNBQVN0RDtnQkFDVG9ELFdBQVU7Z0JBQ1ZHLGNBQVc7O29CQUNkO29CQUNlelMscUJBQXFCLE9BQU87Ozs7Ozs7MEJBR2hELDhEQUFDNUQsd0VBQW1CQTtnQkFBQzBELGVBQWVBO2dCQUFlNFMsc0JBQXNCM1A7Ozs7OzswQkFDekUsOERBQUM0UDtnQkFBS0wsV0FBVTswQkFDWG5DOzs7Ozs7Ozs7Ozs7QUFJakI7R0FuaUNNN1I7S0FBQUE7QUFxaUNOLCtEQUFlQSxRQUFRQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcHAvcGFnZS50c3g/ZjY4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbid1c2UgY2xpZW50JztcblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBHYW1lU3RhdHVzLCB0eXBlIENpdmlsaXphdGlvbiwgdHlwZSBSZXNvdXJjZXMsIHR5cGUgVW5pdHMsIHR5cGUgQnVpbGRpbmdzLCB0eXBlIEdhbWVFdmVudCwgdHlwZSBHYW1lTG9nRW50cnksIHR5cGUgTG9nSWNvblR5cGUsIHR5cGUgUmVzb3VyY2VEZWx0YXMsIEJ1aWxkaW5nVHlwZSwgQnVpbGRpbmdJbmZvLCBVSU5vdGlmaWNhdGlvbiwgRnVsbEdhbWVTdGF0ZSwgVmlsbGFnZXIsIE1pbGl0YXJ5VW5pdCwgVW5pdEluZm8sIE1pbGl0YXJ5VW5pdFR5cGUsIEdhbWVUYXNrLCBUYXNrVHlwZSwgUmVzb3VyY2VOb2RlLCBSZXNvdXJjZU5vZGVUeXBlLCBQbGF5ZXJBY3Rpb25TdGF0ZSwgR2FtZUV2ZW50Q2hvaWNlIH0gZnJvbSAnQC90eXBlcyc7XG5pbXBvcnQgeyBnZXRQcmVkZWZpbmVkQ2l2aWxpemF0aW9uLCBnZXRQcmVkZWZpbmVkR2FtZUV2ZW50LCBnZXRQcmVkZWZpbmVkQWdlIH0gZnJvbSAnQC9zZXJ2aWNlcy9nZW1pbmlTZXJ2aWNlJztcbmltcG9ydCB7IHNhdmVHYW1lU3RhdGUsIGxvYWRHYW1lU3RhdGUsIGdldEFsbFNhdmVOYW1lcywgZGVsZXRlR2FtZVN0YXRlIH0gZnJvbSAnQC9zZXJ2aWNlcy9kYlNlcnZpY2UnO1xuaW1wb3J0IHsgZ2V0UmFuZG9tTmFtZXMgfSBmcm9tICdAL3NlcnZpY2VzL25hbWVTZXJ2aWNlJztcbmltcG9ydCBHYW1lVUkgZnJvbSAnQC9jb21wb25lbnRzL0dhbWVVSSc7XG5pbXBvcnQgU3RhcnRTY3JlZW4gZnJvbSAnQC9jb21wb25lbnRzL1N0YXJ0U2NyZWVuJztcbmltcG9ydCBMb2FkaW5nU2NyZWVuIGZyb20gJ0AvY29tcG9uZW50cy9Mb2FkaW5nU2NyZWVuJztcbmltcG9ydCBCdWlsZFBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9CdWlsZFBhbmVsJztcbmltcG9ydCBOb3RpZmljYXRpb25NYW5hZ2VyIGZyb20gJ0AvY29tcG9uZW50cy9Ob3RpZmljYXRpb25NYW5hZ2VyJztcbmltcG9ydCBVbml0TWFuYWdlbWVudFBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9Vbml0TWFuYWdlbWVudFBhbmVsJztcbmltcG9ydCBCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvQnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwnO1xuaW1wb3J0IFJlc291cmNlQXNzaWdubWVudFBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9SZXNvdXJjZUFzc2lnbm1lbnRQYW5lbCc7XG5pbXBvcnQgQ2l2aWxpemF0aW9uUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL0NpdmlsaXphdGlvblBhbmVsJztcbmltcG9ydCBBbGxCdWlsZGluZ3NQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvQWxsQnVpbGRpbmdzUGFuZWwnO1xuXG5jb25zdCBCVUlMRElOR1NfSU5GTzogQnVpbGRpbmdJbmZvW10gPSBbXG4gICAgeyBpZDogJ2hvdXNlcycsIG5hbWU6ICdIb3VzZScsIGRlc2NyaXB0aW9uOiAnSW5jcmVhc2VzIHBvcHVsYXRpb24gY2FwYWNpdHkgYnkgNS4nLCBjb3N0OiB7IHdvb2Q6IDUwIH0sIGlzVW5pcXVlOiBmYWxzZSwgYnVpbGRUaW1lOiAxNSB9LFxuICAgIHsgaWQ6ICdiYXJyYWNrcycsIG5hbWU6ICdCYXJyYWNrcycsIGRlc2NyaXB0aW9uOiAnQWxsb3dzIHRyYWluaW5nIG9mIFN3b3Jkc21lbi4nLCBjb3N0OiB7IHdvb2Q6IDE1MCwgc3RvbmU6IDUwIH0sIGlzVW5pcXVlOiB0cnVlLCBidWlsZFRpbWU6IDYwIH0sXG4gICAgeyBpZDogJ2FyY2hlcnlSYW5nZScsIG5hbWU6ICdBcmNoZXJ5IFJhbmdlJywgZGVzY3JpcHRpb246ICdBbGxvd3MgdHJhaW5pbmcgb2YgQXJjaGVycy4nLCBjb3N0OiB7IHdvb2Q6IDE3NSB9LCBpc1VuaXF1ZTogdHJ1ZSwgYnVpbGRUaW1lOiA2MCB9LFxuICAgIHsgaWQ6ICdzdGFibGUnLCBuYW1lOiAnU3RhYmxlcycsIGRlc2NyaXB0aW9uOiAnQWxsb3dzIHRyYWluaW5nIG9mIEtuaWdodHMuJywgY29zdDogeyB3b29kOiAxNzUsIGdvbGQ6IDc1IH0sIGlzVW5pcXVlOiB0cnVlLCBidWlsZFRpbWU6IDc1IH0sXG4gICAgeyBpZDogJ3NpZWdlV29ya3Nob3AnLCBuYW1lOiAnU2llZ2UgV29ya3Nob3AnLCBkZXNjcmlwdGlvbjogJ0NvbnN0cnVjdHMgcG93ZXJmdWwgQ2F0YXB1bHRzLicsIGNvc3Q6IHsgd29vZDogMjAwLCBnb2xkOiAxNTAgfSwgaXNVbmlxdWU6IHRydWUsIGJ1aWxkVGltZTogOTAgfSxcbiAgICB7IGlkOiAnYmxhY2tzbWl0aCcsIG5hbWU6ICdCbGFja3NtaXRoJywgZGVzY3JpcHRpb246ICdSZXNlYXJjaGVzIGluZmFudHJ5IGFuZCBjYXZhbHJ5IHVwZ3JhZGVzLicsIGNvc3Q6IHsgd29vZDogMTAwLCBnb2xkOiAxMDAgfSwgaXNVbmlxdWU6IHRydWUsIGJ1aWxkVGltZTogNDUgfSxcbiAgICB7IGlkOiAnd2F0Y2hUb3dlcicsIG5hbWU6ICdXYXRjaCBUb3dlcicsIGRlc2NyaXB0aW9uOiAnUHJvdmlkZXMgZGVmZW5zZSBhZ2FpbnN0IHJhaWRzLicsIGNvc3Q6IHsgc3RvbmU6IDEyNSB9LCBpc1VuaXF1ZTogdHJ1ZSwgYnVpbGRUaW1lOiA0NSB9LFxuICAgIHsgaWQ6ICd0b3duQ2VudGVyJywgbmFtZTogJ1Rvd24gQ2VudGVyJywgZGVzY3JpcHRpb246ICdUaGUgaGVhcnQgb2YgeW91ciBzZXR0bGVtZW50LicsIGNvc3Q6IHt9LCBpc1VuaXF1ZTogdHJ1ZSwgYnVpbGRUaW1lOiAwIH1cbl07XG5cbmNvbnN0IFVOSVRfSU5GTzogVW5pdEluZm9bXSA9IFtcbiAgICB7IGlkOiAnc3dvcmRzbWFuJywgbmFtZTogJ1N3b3Jkc21hbicsIGRlc2NyaXB0aW9uOiAnQmFzaWMgbWVsZWUgaW5mYW50cnkuJywgY29zdDogeyBmb29kOiA2MCwgZ29sZDogMjAgfSwgcmVxdWlyZWRCdWlsZGluZzogJ2JhcnJhY2tzJywgdHJhaW5UaW1lOiAyMiB9LFxuICAgIHsgaWQ6ICdhcmNoZXInLCBuYW1lOiAnQXJjaGVyJywgZGVzY3JpcHRpb246ICdSYW5nZWQgdW5pdCBlZmZlY3RpdmUgYWdhaW5zdCBpbmZhbnRyeS4nLCBjb3N0OiB7IGZvb2Q6IDMwLCB3b29kOiA0MCB9LCByZXF1aXJlZEJ1aWxkaW5nOiAnYXJjaGVyeVJhbmdlJywgdHJhaW5UaW1lOiAyNSB9LFxuICAgIHsgaWQ6ICdrbmlnaHQnLCBuYW1lOiAnS25pZ2h0JywgZGVzY3JpcHRpb246ICdGYXN0IGFuZCBwb3dlcmZ1bCBjYXZhbHJ5LicsIGNvc3Q6IHsgZm9vZDogNjAsIGdvbGQ6IDc1IH0sIHJlcXVpcmVkQnVpbGRpbmc6ICdzdGFibGUnLCB0cmFpblRpbWU6IDMwIH0sXG4gICAgeyBpZDogJ2NhdGFwdWx0JywgbmFtZTogJ0NhdGFwdWx0JywgZGVzY3JpcHRpb246ICdTaWVnZSBlbmdpbmUgZGV2YXN0YXRpbmcgdG8gYnVpbGRpbmdzLicsIGNvc3Q6IHsgd29vZDogMTUwLCBnb2xkOiAxNTAgfSwgcmVxdWlyZWRCdWlsZGluZzogJ3NpZWdlV29ya3Nob3AnLCB0cmFpblRpbWU6IDQ1IH0sXG5dO1xuXG5jb25zdCBHQVRIRVJfSU5GTzogUmVjb3JkPFJlc291cmNlTm9kZVR5cGUsIHsgcmF0ZTogbnVtYmVyIH0+ID0ge1xuICAgIGZvb2Q6IHsgcmF0ZTogMTAwIH0sIC8vIFJhdGVzIGFyZSBub3cgcGVyIDEwIHNlY29uZHMgZm9yIG1vcmUgaW50dWl0aXZlIG51bWJlcnNcbiAgICB3b29kOiB7IHJhdGU6IDgwIH0sXG4gICAgZ29sZDogeyByYXRlOiA1MCB9LFxuICAgIHN0b25lOiB7IHJhdGU6IDYwIH0sXG59XG5cbmNvbnN0IGluaXRpYWxCdWlsZGluZ3NTdGF0ZTogQnVpbGRpbmdzID0ge1xuICAgIGhvdXNlczogW10sIGJhcnJhY2tzOiBbXSwgYXJjaGVyeVJhbmdlOiBbXSwgc3RhYmxlOiBbXSwgc2llZ2VXb3Jrc2hvcDogW10sIGJsYWNrc21pdGg6IFtdLCB3YXRjaFRvd2VyOiBbXSwgdG93bkNlbnRlcjogW11cbn07XG5cbmNvbnN0IE1BUF9ESU1FTlNJT05TID0geyB3aWR0aDogMjUsIGhlaWdodDogMTggfTtcblxuY29uc3QgR2FtZVBhZ2U6IFJlYWN0LkZDID0gKCkgPT4ge1xuICAgIGNvbnN0IFtnYW1lU3RhdGUsIHNldEdhbWVTdGF0ZV0gPSB1c2VTdGF0ZTxHYW1lU3RhdHVzPihHYW1lU3RhdHVzLk1FTlUpO1xuICAgIGNvbnN0IFtjaXZpbGl6YXRpb24sIHNldENpdmlsaXphdGlvbl0gPSB1c2VTdGF0ZTxDaXZpbGl6YXRpb24gfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbcmVzb3VyY2VzLCBzZXRSZXNvdXJjZXNdID0gdXNlU3RhdGU8UmVzb3VyY2VzPih7IGZvb2Q6IDIwMCwgd29vZDogMTUwLCBnb2xkOiA1MCwgc3RvbmU6IDEwMCB9KTtcbiAgICBjb25zdCBbdW5pdHMsIHNldFVuaXRzXSA9IHVzZVN0YXRlPFVuaXRzPih7IHZpbGxhZ2VyczogW10sIG1pbGl0YXJ5OiBbXSB9KTtcbiAgICBjb25zdCBbYnVpbGRpbmdzLCBzZXRCdWlsZGluZ3NdID0gdXNlU3RhdGU8QnVpbGRpbmdzPihpbml0aWFsQnVpbGRpbmdzU3RhdGUpO1xuICAgIGNvbnN0IFtjdXJyZW50QWdlLCBzZXRDdXJyZW50QWdlXSA9IHVzZVN0YXRlPHN0cmluZz4oJ05vbWFkaWMgQWdlJyk7XG4gICAgY29uc3QgW2dhbWVMb2csIHNldEdhbWVMb2ddID0gdXNlU3RhdGU8R2FtZUxvZ0VudHJ5W10+KFtdKTtcbiAgICBjb25zdCBbY3VycmVudEV2ZW50LCBzZXRDdXJyZW50RXZlbnRdID0gdXNlU3RhdGU8R2FtZUV2ZW50IHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW3Jlc291cmNlRGVsdGFzLCBzZXRSZXNvdXJjZURlbHRhc10gPSB1c2VTdGF0ZTxSZXNvdXJjZURlbHRhcz4oe30pO1xuICAgIGNvbnN0IFthY3Rpdml0eVN0YXR1cywgc2V0QWN0aXZpdHlTdGF0dXNdID0gdXNlU3RhdGU8c3RyaW5nPignWW91ciBzdG9yeSBiZWdpbnMuLi4nKTtcbiAgICBjb25zdCBbbm90aWZpY2F0aW9ucywgc2V0Tm90aWZpY2F0aW9uc10gPSB1c2VTdGF0ZTxVSU5vdGlmaWNhdGlvbltdPihbXSk7XG4gICAgY29uc3QgW3VubGltaXRlZFJlc291cmNlcywgc2V0VW5saW1pdGVkUmVzb3VyY2VzXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgICBjb25zdCBbYWxsU2F2ZXMsIHNldEFsbFNhdmVzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG4gICAgY29uc3QgW2N1cnJlbnRTYXZlTmFtZSwgc2V0Q3VycmVudFNhdmVOYW1lXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFtwbGF5ZXJBY3Rpb24sIHNldFBsYXllckFjdGlvbl0gPSB1c2VTdGF0ZTxQbGF5ZXJBY3Rpb25TdGF0ZT4obnVsbCk7XG4gICAgY29uc3QgW2FjdGl2ZVRhc2tzLCBzZXRBY3RpdmVUYXNrc10gPSB1c2VTdGF0ZTxHYW1lVGFza1tdPihbXSk7XG4gICAgY29uc3QgW3Jlc291cmNlTm9kZXMsIHNldFJlc291cmNlTm9kZXNdID0gdXNlU3RhdGU8UmVzb3VyY2VOb2RlW10+KFtdKTtcbiAgICBcbiAgICAvLyBQYW5lbCBTdGF0ZXNcbiAgICBjb25zdCBbYnVpbGRQYW5lbFN0YXRlLCBzZXRCdWlsZFBhbmVsU3RhdGVdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IHZpbGxhZ2VySWQ6IHN0cmluZyB8IG51bGw7IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsIH0+KHsgaXNPcGVuOiBmYWxzZSwgdmlsbGFnZXJJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICBjb25zdCBbdW5pdE1hbmFnZW1lbnRQYW5lbCwgc2V0VW5pdE1hbmFnZW1lbnRQYW5lbF0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgdHlwZTogJ3ZpbGxhZ2VycycgfCAnbWlsaXRhcnknIHwgbnVsbDsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7IH0+KHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICBjb25zdCBbYnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwsIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsXSA9IHVzZVN0YXRlPHsgaXNPcGVuOiBib29sZWFuOyB0eXBlOiBCdWlsZGluZ1R5cGUgfCBudWxsOyBpbnN0YW5jZUlkPzogc3RyaW5nOyBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbDsgfT4oeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIGNvbnN0IFthbGxCdWlsZGluZ3NQYW5lbCwgc2V0QWxsQnVpbGRpbmdzUGFuZWxdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsOyB9Pih7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgY29uc3QgW2Fzc2lnbm1lbnRQYW5lbFN0YXRlLCBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZV0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgdGFyZ2V0SWQ6IHN0cmluZyB8IG51bGw7IHRhcmdldFR5cGU6ICdyZXNvdXJjZScgfCAnY29uc3RydWN0aW9uJyB8IG51bGw7IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsOyB9Pih7IGlzT3BlbjogZmFsc2UsIHRhcmdldElkOiBudWxsLCB0YXJnZXRUeXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIGNvbnN0IFtjaXZQYW5lbFN0YXRlLCBzZXRDaXZQYW5lbFN0YXRlXSA9IHVzZVN0YXRlPHsgaXNPcGVuOiBib29sZWFuOyBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbDsgfT4oeyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuXG4gICAgY29uc3QgZGVsdGFUaW1lb3V0UmVmID0gdXNlUmVmPHsgW2tleSBpbiBrZXlvZiBSZXNvdXJjZXNdPzogbnVtYmVyIH0+KHt9KTtcbiAgICBjb25zdCBldmVudFRpbWVyUmVmID0gdXNlUmVmPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7XG5cbiAgICBjb25zdCBwb3B1bGF0aW9uID0ge1xuICAgICAgICBjdXJyZW50OiB1bml0cy52aWxsYWdlcnMubGVuZ3RoICsgdW5pdHMubWlsaXRhcnkubGVuZ3RoLFxuICAgICAgICBjYXBhY2l0eTogKGJ1aWxkaW5ncy50b3duQ2VudGVyPy5sZW5ndGggPiAwID8gMjAgOiAwKSArIGJ1aWxkaW5ncy5ob3VzZXMubGVuZ3RoICogNSxcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGZldGNoU2F2ZXMgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5hbWVzID0gYXdhaXQgZ2V0QWxsU2F2ZU5hbWVzKCk7XG4gICAgICAgIHNldEFsbFNhdmVzKG5hbWVzKTtcbiAgICB9LCBbXSk7XG4gICAgXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgZmV0Y2hTYXZlcygpO1xuICAgIH0sIFtmZXRjaFNhdmVzXSk7XG4gICAgXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGdhbWVTdGF0ZSA9PT0gR2FtZVN0YXR1cy5QTEFZSU5HICYmIGNpdmlsaXphdGlvbiAmJiBjdXJyZW50U2F2ZU5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGZ1bGxTdGF0ZTogRnVsbEdhbWVTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICBjaXZpbGl6YXRpb24sXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VzLFxuICAgICAgICAgICAgICAgIHVuaXRzLFxuICAgICAgICAgICAgICAgIGJ1aWxkaW5ncyxcbiAgICAgICAgICAgICAgICBjdXJyZW50QWdlLFxuICAgICAgICAgICAgICAgIGdhbWVMb2csXG4gICAgICAgICAgICAgICAgYWN0aXZlVGFza3MsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VOb2RlcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzYXZlR2FtZVN0YXRlKGN1cnJlbnRTYXZlTmFtZSwgZnVsbFN0YXRlKTtcbiAgICAgICAgfVxuICAgIH0sIFtjaXZpbGl6YXRpb24sIHJlc291cmNlcywgdW5pdHMsIGJ1aWxkaW5ncywgY3VycmVudEFnZSwgZ2FtZUxvZywgZ2FtZVN0YXRlLCBjdXJyZW50U2F2ZU5hbWUsIGFjdGl2ZVRhc2tzLCByZXNvdXJjZU5vZGVzXSk7XG5cbiAgICBjb25zdCBhZGROb3RpZmljYXRpb24gPSB1c2VDYWxsYmFjaygobWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkID0gYCR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpfWA7XG4gICAgICAgIHNldE5vdGlmaWNhdGlvbnMocHJldiA9PiBbLi4ucHJldiwgeyBpZCwgbWVzc2FnZSB9XSk7XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgcmVtb3ZlTm90aWZpY2F0aW9uID0gdXNlQ2FsbGJhY2soKGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgc2V0Tm90aWZpY2F0aW9ucyhwcmV2ID0+IHByZXYuZmlsdGVyKG4gPT4gbi5pZCAhPT0gaWQpKTtcbiAgICB9LCBbXSk7XG4gICAgXG4gICAgY29uc3QgYWRkVG9Mb2cgPSB1c2VDYWxsYmFjaygobWVzc2FnZTogc3RyaW5nLCBpY29uOiBMb2dJY29uVHlwZSkgPT4ge1xuICAgICAgICBzZXRHYW1lTG9nKHByZXYgPT4gW3sgaWQ6IGAke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKX1gLCBtZXNzYWdlLCBpY29uIH0sIC4uLnByZXYuc2xpY2UoMCwgMTkpXSk7XG4gICAgfSwgW10pO1xuICAgIFxuICAgIGNvbnN0IHVwZGF0ZVJlc291cmNlcyA9IHVzZUNhbGxiYWNrKChkZWx0YXM6IFJlc291cmNlRGVsdGFzKSA9PiB7XG4gICAgICAgIHNldFJlc291cmNlcyhwcmV2ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Jlc291cmNlcyA9IHsgLi4ucHJldiB9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGVsdGFzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzb3VyY2VLZXkgPSBrZXkgYXMga2V5b2YgUmVzb3VyY2VzO1xuICAgICAgICAgICAgICAgIG5ld1Jlc291cmNlc1tyZXNvdXJjZUtleV0gPSBNYXRoLm1heCgwLCBuZXdSZXNvdXJjZXNbcmVzb3VyY2VLZXldICsgKGRlbHRhc1tyZXNvdXJjZUtleV0gPz8gMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ld1Jlc291cmNlcztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2V0UmVzb3VyY2VEZWx0YXMocHJldiA9PiAoey4uLnByZXYsIC4uLmRlbHRhc30pKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkZWx0YXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc291cmNlS2V5ID0ga2V5IGFzIGtleW9mIFJlc291cmNlcztcbiAgICAgICAgICAgIGlmIChkZWx0YVRpbWVvdXRSZWYuY3VycmVudFtyZXNvdXJjZUtleV0pIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGRlbHRhVGltZW91dFJlZi5jdXJyZW50W3Jlc291cmNlS2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWx0YVRpbWVvdXRSZWYuY3VycmVudFtyZXNvdXJjZUtleV0gPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0UmVzb3VyY2VEZWx0YXMocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0RlbHRhcyA9IHsuLi5wcmV2fTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG5ld0RlbHRhc1tyZXNvdXJjZUtleV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdEZWx0YXM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCAxNTAwKTtcbiAgICAgICAgfVxuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IGhhbmRsZVRhc2tDb21wbGV0aW9uID0gdXNlQ2FsbGJhY2soKHRhc2s6IEdhbWVUYXNrKSA9PiB7XG4gICAgICAgIHN3aXRjaCAodGFzay50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdidWlsZCc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGJ1aWxkaW5nVHlwZSwgdmlsbGFnZXJJZHMsIHBvc2l0aW9uIH0gPSB0YXNrLnBheWxvYWQhO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IEJVSUxESU5HU19JTkZPLmZpbmQoYiA9PiBiLmlkID09PSBidWlsZGluZ1R5cGUpITtcbiAgICAgICAgICAgICAgICBjb25zdCBbbmFtZV0gPSBnZXRSYW5kb21OYW1lcygnYnVpbGRpbmcnLCAxKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdCdWlsZGluZzogQnVpbGRpbmdJbnN0YW5jZSA9IHsgaWQ6IHRhc2suaWQsIG5hbWUsIHBvc2l0aW9uOiBwb3NpdGlvbiEgfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzZXRCdWlsZGluZ3MocCA9PiAoeyAuLi5wLCBbYnVpbGRpbmdUeXBlIV06IFsuLi5wW2J1aWxkaW5nVHlwZSFdLCBuZXdCdWlsZGluZ10gfSkpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICh2aWxsYWdlcklkcyAmJiB2aWxsYWdlcklkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFRvTG9nKGAke3ZpbGxhZ2VySWRzLmxlbmd0aH0gYnVpbGRlcihzKSBoYXZlIGNvbnN0cnVjdGVkICR7bmFtZX0sIGEgbmV3ICR7YnVpbGRpbmdJbmZvLm5hbWV9LmAsIGJ1aWxkaW5nVHlwZSEpO1xuICAgICAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgQ29uc3RydWN0aW9uIG9mICR7bmFtZX0gaXMgY29tcGxldGUuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnZ2F0aGVyJzoge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgbm93IGhhbmRsZWQgYnkgdGhlIGdhbWUgbG9vcCBkZXBsZXRpbmcgdGhlIG5vZGUuXG4gICAgICAgICAgICAgICAgLy8gaGFuZGxlVGFza0NvbXBsZXRpb24gZm9yIGdhdGhlciBpcyBvbmx5IGNhbGxlZCB3aGVuIHRoZSBub2RlIGlzIGdvbmUuXG4gICAgICAgICAgICAgICAgLy8gVGhlIHZpbGxhZ2VycyBhc3NpZ25lZCBhcmUgbm93IGlkbGUuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICd0cmFpbl92aWxsYWdlcic6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNvdW50IH0gPSB0YXNrLnBheWxvYWQhO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZpbGxhZ2VyTmFtZXMgPSBnZXRSYW5kb21OYW1lcygndmlsbGFnZXInLCBjb3VudCEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZpbGxhZ2VyczogVmlsbGFnZXJbXSA9IG5ld1ZpbGxhZ2VyTmFtZXMubWFwKG5hbWUgPT4gKHsgaWQ6IGAke0RhdGUubm93KCl9LSR7bmFtZX1gLCBuYW1lIH0pKTtcbiAgICAgICAgICAgICAgICBzZXRVbml0cyhwID0+ICh7IC4uLnAsIHZpbGxhZ2VyczogWy4uLnAudmlsbGFnZXJzLCAuLi5uZXdWaWxsYWdlcnNdIH0pKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhgJHtjb3VudH0gbmV3IHZpbGxhZ2VyKHMpIGhhdmUgam9pbmVkIHlvdXIgc2V0dGxlbWVudC5gLCAndmlsbGFnZXInKTtcbiAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgJHtjb3VudH0gbmV3IHZpbGxhZ2VyKHMpIGFyZSByZWFkeSB0byB3b3JrLmApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAndHJhaW5fbWlsaXRhcnknOiB7XG4gICAgICAgICAgICAgICAgIGNvbnN0IHsgdW5pdFR5cGUsIGNvdW50IH0gPSB0YXNrLnBheWxvYWQhO1xuICAgICAgICAgICAgICAgICBjb25zdCB1bml0SW5mbyA9IFVOSVRfSU5GTy5maW5kKHUgPT4gdS5pZCA9PT0gdW5pdFR5cGUpITtcbiAgICAgICAgICAgICAgICAgY29uc3QgbmV3VW5pdE5hbWVzID0gZ2V0UmFuZG9tTmFtZXMoJ3NvbGRpZXInLCBjb3VudCEpO1xuICAgICAgICAgICAgICAgICBjb25zdCBuZXdVbml0czogTWlsaXRhcnlVbml0W10gPSBuZXdVbml0TmFtZXMubWFwKG5hbWUgPT4gKHsgaWQ6IGAke0RhdGUubm93KCl9LSR7dW5pdFR5cGV9LSR7bmFtZX1gLCBuYW1lLCB0aXRsZTogJycsIHVuaXRUeXBlOiB1bml0VHlwZSEgfSkpO1xuICAgICAgICAgICAgICAgICBzZXRVbml0cyhwID0+ICh7IC4uLnAsIG1pbGl0YXJ5OiBbLi4ucC5taWxpdGFyeSwgLi4ubmV3VW5pdHNdIH0pKTtcbiAgICAgICAgICAgICAgICAgYWRkVG9Mb2coYCR7Y291bnR9ICR7dW5pdEluZm8ubmFtZX0ocykgaGF2ZSBiZWVuIHRyYWluZWQuYCwgdW5pdFR5cGUhKTtcbiAgICAgICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYCR7Y291bnR9IG5ldyAke3VuaXRJbmZvLm5hbWV9KHMpIGFyZSByZWFkeSBmb3IgYmF0dGxlLmApO1xuICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2FkdmFuY2VfYWdlJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFnZVJlc3VsdCA9IGdldFByZWRlZmluZWRBZ2UoY3VycmVudEFnZSk7XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudEFnZShhZ2VSZXN1bHQubmV4dEFnZU5hbWUpO1xuICAgICAgICAgICAgICAgIGFkZFRvTG9nKGBZb3UgaGF2ZSBhZHZhbmNlZCB0byB0aGUgJHthZ2VSZXN1bHQubmV4dEFnZU5hbWV9IWAsICdhZ2UnKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhhZ2VSZXN1bHQuZGVzY3JpcHRpb24sICdhZ2UnKTtcbiAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgV2VsY29tZSB0byB0aGUgJHthZ2VSZXN1bHQubmV4dEFnZU5hbWV9IWApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgW2N1cnJlbnRBZ2UsIGFkZFRvTG9nXSk7XG4gICAgXG4gICAgLy8gR2FtZSBMb29wXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGdhbWVTdGF0ZSAhPT0gR2FtZVN0YXR1cy5QTEFZSU5HKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGdhbWVMb29wID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGxldCBjb21wbGV0ZWRUYXNrczogR2FtZVRhc2tbXSA9IFtdO1xuICAgICAgICAgICAgbGV0IHJlc291cmNlRGVsdGFzVGhpc1RpY2s6IFJlc291cmNlRGVsdGFzID0ge307XG5cbiAgICAgICAgICAgIGNvbnN0IHN0aWxsQWN0aXZlVGFza3MgPSBhY3RpdmVUYXNrcy5tYXAodGFzayA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG5vdyA+PSB0YXNrLnN0YXJ0VGltZSArIHRhc2suZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkVGFza3MucHVzaCh0YXNrKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICh0YXNrLnR5cGUgPT09ICdnYXRoZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSByZXNvdXJjZU5vZGVzLmZpbmQobiA9PiBuLmlkID09PSB0YXNrLnBheWxvYWQ/LnJlc291cmNlTm9kZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlsbGFnZXJDb3VudCA9IHRhc2sucGF5bG9hZD8udmlsbGFnZXJJZHM/Lmxlbmd0aCB8fCAwO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFub2RlIHx8IHZpbGxhZ2VyQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZFRhc2tzLnB1c2godGFzayk7IC8vIE9ycGhhbmVkIG9yIGVtcHR5IGdhdGhlciB0YXNrLCBtYXJrIGZvciByZW1vdmFsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsgXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBnYXRoZXJSYXRlUGVyVmlsbGFnZXJQZXJTZWNvbmQgPSBHQVRIRVJfSU5GT1tub2RlLnR5cGVdLnJhdGUgLyAxMDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYW1vdW50R2F0aGVyZWRUaGlzVGljayA9IGdhdGhlclJhdGVQZXJWaWxsYWdlclBlclNlY29uZCAqIHZpbGxhZ2VyQ291bnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VEZWx0YXNUaGlzVGlja1tub2RlLnR5cGVdID0gKHJlc291cmNlRGVsdGFzVGhpc1RpY2tbbm9kZS50eXBlXSB8fCAwKSArIGFtb3VudEdhdGhlcmVkVGhpc1RpY2s7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhc2s7XG5cbiAgICAgICAgICAgIH0pLmZpbHRlcihCb29sZWFuKSBhcyBHYW1lVGFza1tdO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBVcGRhdGUgcmVzb3VyY2Ugbm9kZXMgc2VwYXJhdGVseSB0byBhdm9pZCByYWNlIGNvbmRpdGlvbnMgd2l0aCBzdGF0ZVxuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHJlc291cmNlRGVsdGFzVGhpc1RpY2spLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBzZXRSZXNvdXJjZXMocHJldlJlcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Jlc291cmNlcyA9IHsgLi4ucHJldlJlcyB9O1xuICAgICAgICAgICAgICAgICAgICBmb3IoY29uc3Qga2V5IGluIHJlc291cmNlRGVsdGFzVGhpc1RpY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc0tleSA9IGtleSBhcyBrZXlvZiBSZXNvdXJjZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdSZXNvdXJjZXNbcmVzS2V5XSArPSByZXNvdXJjZURlbHRhc1RoaXNUaWNrW3Jlc0tleV0hO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdSZXNvdXJjZXM7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBzZXRSZXNvdXJjZU5vZGVzKHByZXZOb2RlcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld05vZGVzID0gcHJldk5vZGVzLm1hcChub2RlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudFRvRGVjcmVtZW50ID0gcmVzb3VyY2VEZWx0YXNUaGlzVGlja1tub2RlLnR5cGVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFtb3VudFRvRGVjcmVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3QW1vdW50ID0gbm9kZS5hbW91bnQgLSBhbW91bnRUb0RlY3JlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3QW1vdW50IDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9Mb2coYCR7bm9kZS5hc3NpZ25lZFZpbGxhZ2Vycy5sZW5ndGh9IHZpbGxhZ2VyKHMpIGRlcGxldGVkIGEgJHtub2RlLnR5cGV9IHNvdXJjZSwgZ2FpbmluZyAke01hdGguZmxvb3Iobm9kZS5hbW91bnQpfSAke25vZGUudHlwZX0uYCwgbm9kZS50eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYEEgJHtub2RlLnR5cGV9IHNvdXJjZSBoYXMgYmVlbiBmdWxseSBkZXBsZXRlZC5gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBnYXRoZXJUYXNrID0gc3RpbGxBY3RpdmVUYXNrcy5maW5kKHQgPT4gdC50eXBlID09PSAnZ2F0aGVyJyAmJiB0LnBheWxvYWQ/LnJlc291cmNlTm9kZUlkID09PSBub2RlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZ2F0aGVyVGFzaykgY29tcGxldGVkVGFza3MucHVzaChnYXRoZXJUYXNrKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4ubm9kZSwgYW1vdW50OiBuZXdBbW91bnQgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgICAgICAgICB9KS5maWx0ZXIoQm9vbGVhbikgYXMgUmVzb3VyY2VOb2RlW107XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld05vZGVzO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBmaW5hbEFjdGl2ZVRhc2tzID0gc3RpbGxBY3RpdmVUYXNrcy5maWx0ZXIodCA9PiAhY29tcGxldGVkVGFza3Muc29tZShjdCA9PiBjdC5pZCA9PT0gdC5pZCkpO1xuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MoZmluYWxBY3RpdmVUYXNrcyk7XG5cbiAgICAgICAgICAgIGlmIChjb21wbGV0ZWRUYXNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVkVGFza3MuZm9yRWFjaChoYW5kbGVUYXNrQ29tcGxldGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDEwMDApO1xuXG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGdhbWVMb29wKTtcbiAgICB9LCBbZ2FtZVN0YXRlLCBhY3RpdmVUYXNrcywgcmVzb3VyY2VOb2RlcywgaGFuZGxlVGFza0NvbXBsZXRpb24sIGFkZFRvTG9nXSk7XG5cblxuICAgIGNvbnN0IGhhbmRsZU5ld0V2ZW50ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICAvLyBFdmVudHMgc2hvdWxkIG5vdCB0cmlnZ2VyIGlmIGEgbWFqb3IgdGFzayAoYnVpbGQsIHRyYWluLCBhZHZhbmNlIGFnZSkgaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICAgIC8vIEdhdGhlcmluZyByZXNvdXJjZXMgaXMgYSBiYWNrZ3JvdW5kIHRhc2sgYW5kIHNob3VsZCBub3QgYmxvY2sgZXZlbnRzLlxuICAgICAgICBjb25zdCBtYWpvclRhc2tJblByb2dyZXNzID0gYWN0aXZlVGFza3Muc29tZSh0ID0+IHQudHlwZSAhPT0gJ2dhdGhlcicpO1xuICAgICAgICBpZiAoIWNpdmlsaXphdGlvbiB8fCBjdXJyZW50RXZlbnQgfHwgbWFqb3JUYXNrSW5Qcm9ncmVzcykgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgYWRkVG9Mb2coJ0EgbmV3IGNoYXB0ZXIgdW5mb2xkcy4uLicsICdldmVudCcpO1xuICAgICAgICBjb25zdCBldmVudCA9IGdldFByZWRlZmluZWRHYW1lRXZlbnQoKTtcbiAgICAgICAgc2V0Q3VycmVudEV2ZW50KGV2ZW50KTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoJ0EgbmV3IGV2ZW50IHJlcXVpcmVzIHlvdXIgYXR0ZW50aW9uIScpO1xuICAgIH0sIFtjaXZpbGl6YXRpb24sIGN1cnJlbnRFdmVudCwgYWN0aXZlVGFza3MsIGFkZFRvTG9nXSk7XG4gICAgXG4gICAgY29uc3Qgc2NoZWR1bGVOZXh0RXZlbnQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmIChldmVudFRpbWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChldmVudFRpbWVyUmVmLmN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5leHRFdmVudFRpbWUgPSAoNDUgKyBNYXRoLnJhbmRvbSgpICogNDUpICogMTAwMDsgLy8gNDUtOTAgc2Vjb25kc1xuICAgICAgICBldmVudFRpbWVyUmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IGhhbmRsZU5ld0V2ZW50KCksIG5leHRFdmVudFRpbWUpO1xuICAgIH0sIFtoYW5kbGVOZXdFdmVudF0pO1xuXG4gICAgY29uc3QgZ2VuZXJhdGVSZXNvdXJjZU5vZGVzID0gKGV4aXN0aW5nUG9zaXRpb25zOiBTZXQ8c3RyaW5nPik6IFJlc291cmNlTm9kZVtdID0+IHtcbiAgICAgICAgY29uc3Qgbm9kZXM6IFJlc291cmNlTm9kZVtdID0gW107XG4gICAgICAgIGNvbnN0IHR5cGVzOiBSZXNvdXJjZU5vZGVUeXBlW10gPSBbJ2Zvb2QnLCAnd29vZCcsICdnb2xkJywgJ3N0b25lJ107XG4gICAgICAgIGNvbnN0IG51bU5vZGVzID0gMjAgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gICAgICAgIFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bU5vZGVzOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBwb3M6IHt4OiBudW1iZXIsIHk6IG51bWJlcn07XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgcG9zID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNQVBfRElNRU5TSU9OUy53aWR0aCksXG4gICAgICAgICAgICAgICAgICAgIHk6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE1BUF9ESU1FTlNJT05TLmhlaWdodCksXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAoZXhpc3RpbmdQb3NpdGlvbnMuaGFzKGAke3Bvcy54fSwke3Bvcy55fWApKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhpc3RpbmdQb3NpdGlvbnMuYWRkKGAke3Bvcy54fSwke3Bvcy55fWApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCB0eXBlID0gdHlwZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdHlwZXMubGVuZ3RoKV07XG4gICAgICAgICAgICBjb25zdCBhbW91bnQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMjUwMCAtIDUwMCArIDEpKSArIDUwMDtcblxuICAgICAgICAgICAgbm9kZXMucHVzaCh7IGlkOiBgJHtEYXRlLm5vdygpfS1ub2RlLSR7aX1gLCB0eXBlLCBwb3NpdGlvbjogcG9zLCBhbW91bnQsIGFzc2lnbmVkVmlsbGFnZXJzOiBbXSB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZXM7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVN0YXJ0TmV3R2FtZSA9IChzYXZlTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmIChhbGxTYXZlcy5pbmNsdWRlcyhzYXZlTmFtZSkpIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihgQSBzYWdhIG5hbWVkIFwiJHtzYXZlTmFtZX1cIiBhbHJlYWR5IGV4aXN0cy5gKTsgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldEdhbWVTdGF0ZShHYW1lU3RhdHVzLkxPQURJTkcpO1xuICAgICAgICBzZXRDdXJyZW50U2F2ZU5hbWUoc2F2ZU5hbWUpO1xuXG4gICAgICAgIGNvbnN0IGNpdiA9IGdldFByZWRlZmluZWRDaXZpbGl6YXRpb24oKTtcbiAgICAgICAgc2V0Q2l2aWxpemF0aW9uKGNpdik7XG4gICAgICAgIHNldFJlc291cmNlcyh7IGZvb2Q6IDIwMCwgd29vZDogMTUwLCBnb2xkOiA1MCwgc3RvbmU6IDEwMCB9KTtcbiAgICAgICAgY29uc3QgaW5pdGlhbFZpbGxhZ2VyTmFtZXMgPSBnZXRSYW5kb21OYW1lcygndmlsbGFnZXInLCAzKTtcbiAgICAgICAgY29uc3QgaW5pdGlhbFZpbGxhZ2VyczogVmlsbGFnZXJbXSA9IGluaXRpYWxWaWxsYWdlck5hbWVzLm1hcChuYW1lID0+ICh7IGlkOiBgJHtEYXRlLm5vdygpfS0ke25hbWV9YCwgbmFtZSB9KSk7XG4gICAgICAgIHNldFVuaXRzKHsgdmlsbGFnZXJzOiBpbml0aWFsVmlsbGFnZXJzLCBtaWxpdGFyeTogW10gfSk7XG4gICAgICAgIGNvbnN0IFtpbml0aWFsVENOYW1lXSA9IGdldFJhbmRvbU5hbWVzKCdidWlsZGluZycsIDEpO1xuICAgICAgICBjb25zdCB0Y1Bvc2l0aW9uID0geyB4OiBNYXRoLmZsb29yKE1BUF9ESU1FTlNJT05TLndpZHRoIC8gMiksIHk6IE1hdGguZmxvb3IoTUFQX0RJTUVOU0lPTlMuaGVpZ2h0IC8gMikgfTtcbiAgICAgICAgY29uc3QgaW5pdGlhbFRDOiBCdWlsZGluZ0luc3RhbmNlID0geyBpZDogYCR7RGF0ZS5ub3coKX0tdGNgLCBuYW1lOiBpbml0aWFsVENOYW1lLCBwb3NpdGlvbjogdGNQb3NpdGlvbiB9O1xuICAgICAgICBzZXRCdWlsZGluZ3Moey4uLmluaXRpYWxCdWlsZGluZ3NTdGF0ZSwgdG93bkNlbnRlcjogW2luaXRpYWxUQ119KTtcbiAgICAgICAgc2V0UmVzb3VyY2VOb2RlcyhnZW5lcmF0ZVJlc291cmNlTm9kZXMobmV3IFNldChbYCR7dGNQb3NpdGlvbi54fSwke3RjUG9zaXRpb24ueX1gXSkpKTtcbiAgICAgICAgc2V0Q3VycmVudEFnZSgnTm9tYWRpYyBBZ2UnKTtcbiAgICAgICAgc2V0R2FtZUxvZyhbXSk7XG4gICAgICAgIHNldEN1cnJlbnRFdmVudChudWxsKTtcbiAgICAgICAgc2V0VW5saW1pdGVkUmVzb3VyY2VzKGZhbHNlKTtcbiAgICAgICAgc2V0QWN0aXZlVGFza3MoW10pO1xuICAgICAgICBhZGRUb0xvZyhgJHtjaXYubmFtZX0gaGFzIGJlZW4gZm91bmRlZCFgLCAnc3lzdGVtJyk7XG4gICAgICAgIGFkZFRvTG9nKCdZb3VyIHN0b3J5IGJlZ2lucy4uLicsICdzeXN0ZW0nKTtcbiAgICAgICAgc2V0R2FtZVN0YXRlKEdhbWVTdGF0dXMuUExBWUlORyk7XG4gICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKCdZb3VyIHNldHRsZW1lbnQgYXdhaXRzIHlvdXIgY29tbWFuZC4nKTtcbiAgICAgICAgZmV0Y2hTYXZlcygpO1xuICAgIH07XG5cbiAgICBjb25zdCBnZXRWaWxsYWdlclRhc2tEZXRhaWxzID0gdXNlQ2FsbGJhY2soKHZpbGxhZ2VySWQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBhY3RpdmVUYXNrcy5maW5kKHQgPT4gdC5wYXlsb2FkPy52aWxsYWdlcklkcz8uaW5jbHVkZXModmlsbGFnZXJJZCkpO1xuXG4gICAgICAgIGlmICh0YXNrKSB7XG4gICAgICAgICAgICBpZiAodGFzay50eXBlID09PSAnYnVpbGQnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVpbGRpbmdJbmZvID0gQlVJTERJTkdTX0lORk8uZmluZChiID0+IGIuaWQgPT09IHRhc2sucGF5bG9hZCEuYnVpbGRpbmdUeXBlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYEJ1c3k6IENvbnN0cnVjdGluZyAke2J1aWxkaW5nSW5mbz8ubmFtZSB8fCAnYSBidWlsZGluZyd9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0YXNrLnR5cGUgPT09ICdnYXRoZXInKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHJlc291cmNlTm9kZXMuZmluZChuID0+IG4uaWQgPT09IHRhc2sucGF5bG9hZCEucmVzb3VyY2VOb2RlSWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBgQnVzeTogR2F0aGVyaW5nICR7bm9kZT8udHlwZSB8fCAncmVzb3VyY2VzJ31gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gJ0lkbGUnO1xuICAgIH0sIFthY3RpdmVUYXNrcywgcmVzb3VyY2VOb2Rlc10pO1xuXG4gICAgY29uc3QgaXNWaWxsYWdlckJ1c3kgPSB1c2VDYWxsYmFjaygodmlsbGFnZXJJZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIHJldHVybiBnZXRWaWxsYWdlclRhc2tEZXRhaWxzKHZpbGxhZ2VySWQpICE9PSAnSWRsZSc7XG4gICAgfSwgW2dldFZpbGxhZ2VyVGFza0RldGFpbHNdKTtcblxuICAgIGNvbnN0IGhhbmRsZVJlc3VtZUdhbWUgPSBhc3luYyAoc2F2ZU5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBzYXZlZFN0YXRlID0gYXdhaXQgbG9hZEdhbWVTdGF0ZShzYXZlTmFtZSkgYXMgRnVsbEdhbWVTdGF0ZTtcbiAgICAgICAgaWYgKHNhdmVkU3RhdGUpIHtcbiAgICAgICAgICAgIHNldEdhbWVTdGF0ZShHYW1lU3RhdHVzLkxPQURJTkcpO1xuICAgICAgICAgICAgc2V0Q3VycmVudFNhdmVOYW1lKHNhdmVOYW1lKTtcbiAgICAgICAgICAgIHNldENpdmlsaXphdGlvbihzYXZlZFN0YXRlLmNpdmlsaXphdGlvbik7XG4gICAgICAgICAgICBzZXRSZXNvdXJjZXMoc2F2ZWRTdGF0ZS5yZXNvdXJjZXMpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoKHNhdmVkU3RhdGUudW5pdHMgYXMgYW55KT8uc29sZGllcnMpIHtcbiAgICAgICAgICAgICAgICAgY29uc3QgbWlncmF0ZWRNaWxpdGFyeTogTWlsaXRhcnlVbml0W10gPSAoc2F2ZWRTdGF0ZS51bml0cyBhcyBhbnkpLnNvbGRpZXJzLm1hcCgoczogYW55KSA9PiAoeyAuLi5zLCB1bml0VHlwZTogJ3N3b3Jkc21hbicgfSkpO1xuICAgICAgICAgICAgICAgICBzZXRVbml0cyh7IHZpbGxhZ2Vyczogc2F2ZWRTdGF0ZS51bml0cy52aWxsYWdlcnMgfHwgW10sIG1pbGl0YXJ5OiBtaWdyYXRlZE1pbGl0YXJ5IH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgc2V0VW5pdHMoc2F2ZWRTdGF0ZS51bml0cyB8fCB7IHZpbGxhZ2VyczogW10sIG1pbGl0YXJ5OiBbXSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IGZpbmFsQnVpbGRpbmdzID0geyAuLi5pbml0aWFsQnVpbGRpbmdzU3RhdGUsIC4uLihzYXZlZFN0YXRlLmJ1aWxkaW5ncyB8fCB7fSkgfTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnN0cnVjdGlvblRhc2tzID0gKHNhdmVkU3RhdGUuYWN0aXZlVGFza3MgfHwgW10pLmZpbHRlcih0ID0+IHQudHlwZSA9PT0gJ2J1aWxkJyk7XG4gICAgICAgICAgICBjb25zdCBvY2N1cGllZENlbGxzID0gbmV3IFNldChbXG4gICAgICAgICAgICAgICAgLi4uT2JqZWN0LnZhbHVlcyhmaW5hbEJ1aWxkaW5ncykuZmxhdCgpLm1hcCgoYjogYW55KSA9PiBgJHtiLnBvc2l0aW9uLnh9LCR7Yi5wb3NpdGlvbi55fWApLFxuICAgICAgICAgICAgICAgIC4uLmNvbnN0cnVjdGlvblRhc2tzLm1hcCh0ID0+IGAke3QucGF5bG9hZCEucG9zaXRpb24hLnh9LCR7dC5wYXlsb2FkIS5wb3NpdGlvbiEueX1gKVxuICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgIGlmICghZmluYWxCdWlsZGluZ3MudG93bkNlbnRlciB8fCBmaW5hbEJ1aWxkaW5ncy50b3duQ2VudGVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGxldCB0Y1BvcyA9IHsgeDogMTAsIHk6IDUgfTtcbiAgICAgICAgICAgICAgICB3aGlsZSAob2NjdXBpZWRDZWxscy5oYXMoYCR7dGNQb3MueH0sJHt0Y1Bvcy55fWApKSB7IHRjUG9zLngrKzsgfVxuICAgICAgICAgICAgICAgIGNvbnN0IFt0Y05hbWVdID0gZ2V0UmFuZG9tTmFtZXMoJ2J1aWxkaW5nJywgMSk7XG4gICAgICAgICAgICAgICAgZmluYWxCdWlsZGluZ3MudG93bkNlbnRlciA9IFt7IGlkOiBgJHtEYXRlLm5vdygpfS10Y2AsIG5hbWU6IHRjTmFtZSwgcG9zaXRpb246IHRjUG9zIH1dO1xuICAgICAgICAgICAgICAgIG9jY3VwaWVkQ2VsbHMuYWRkKGAke3RjUG9zLnh9LCR7dGNQb3MueX1gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZmlyc3RCdWlsZGluZyA9IE9iamVjdC52YWx1ZXMoZmluYWxCdWlsZGluZ3MpLmZsYXQoKVswXTtcbiAgICAgICAgICAgIGlmIChmaXJzdEJ1aWxkaW5nICYmIHR5cGVvZiBmaXJzdEJ1aWxkaW5nID09PSAnb2JqZWN0JyAmJiAhKCdwb3NpdGlvbicgaW4gZmlyc3RCdWlsZGluZykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtaWdyYXRlZCA9IHsgLi4uaW5pdGlhbEJ1aWxkaW5nc1N0YXRlIH07XG4gICAgICAgICAgICAgICAgbGV0IHkgPSAzO1xuICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGZpbmFsQnVpbGRpbmdzKS5mb3JFYWNoKChbdHlwZSwgaW5zdGFuY2VzXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgeCA9IDU7XG4gICAgICAgICAgICAgICAgICAgIChpbnN0YW5jZXMgYXMgQnVpbGRpbmdJbnN0YW5jZVtdKS5mb3JFYWNoKGluc3QgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG9jY3VwaWVkQ2VsbHMuaGFzKGAke3h9LCR7eX1gKSkgeyB4Kys7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIChtaWdyYXRlZFt0eXBlIGFzIEJ1aWxkaW5nVHlwZV0gYXMgQnVpbGRpbmdJbnN0YW5jZVtdKS5wdXNoKHsgLi4uaW5zdCwgcG9zaXRpb246IHsgeCwgeSB9IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2NjdXBpZWRDZWxscy5hZGQoYCR7eH0sJHt5fWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgeCsrO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmaW5hbEJ1aWxkaW5ncyA9IG1pZ3JhdGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZXRCdWlsZGluZ3MoZmluYWxCdWlsZGluZ3MpO1xuXG4gICAgICAgICAgICBjb25zdCBub2Rlc1RvU2V0ID0gKHNhdmVkU3RhdGUucmVzb3VyY2VOb2RlcyB8fCBbXSkubWFwKG4gPT4gKHsuLi5uLCBhc3NpZ25lZFZpbGxhZ2Vyczogbi5hc3NpZ25lZFZpbGxhZ2VycyB8fCBbXX0pKTtcbiAgICAgICAgICAgIGlmIChub2Rlc1RvU2V0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICBzZXRSZXNvdXJjZU5vZGVzKGdlbmVyYXRlUmVzb3VyY2VOb2RlcyhvY2N1cGllZENlbGxzKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICBzZXRSZXNvdXJjZU5vZGVzKG5vZGVzVG9TZXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZXRDdXJyZW50QWdlKHNhdmVkU3RhdGUuY3VycmVudEFnZSk7XG4gICAgICAgICAgICBzZXRHYW1lTG9nKHNhdmVkU3RhdGUuZ2FtZUxvZyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIE1pZ3JhdGlvbiBmb3Igb2xkIHNhdmUgZm9ybWF0c1xuICAgICAgICAgICAgY29uc3QgbWlncmF0ZWRUYXNrcyA9IChzYXZlZFN0YXRlLmFjdGl2ZVRhc2tzIHx8IFtdKS5tYXAodCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCdjb25zdHJ1Y3RpbmdCdWlsZGluZ3MnIGluIHNhdmVkU3RhdGUgJiYgdC50eXBlID09PSAnYnVpbGQnICYmIHQucGF5bG9hZD8udmlsbGFnZXJJZCkge1xuICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4udCwgcGF5bG9hZDogeyAuLi50LnBheWxvYWQsIHZpbGxhZ2VySWRzOiBbdC5wYXlsb2FkLnZpbGxhZ2VySWRdIH0gfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHQudHlwZSA9PT0gJ2J1aWxkJyAmJiAhdC5wYXlsb2FkPy52aWxsYWdlcklkcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi50LCBwYXlsb2FkOiB7IC4uLnQucGF5bG9hZCwgdmlsbGFnZXJJZHM6IFtdIH0gfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKG1pZ3JhdGVkVGFza3MpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZXRDdXJyZW50RXZlbnQobnVsbCk7XG4gICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cygnV2VsY29tZSBiYWNrIHRvIHlvdXIgc2FnYS4nKTtcbiAgICAgICAgICAgIHNldEdhbWVTdGF0ZShHYW1lU3RhdHVzLlBMQVlJTkcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKGBDb3VsZCBub3QgZmluZCBhIHNhdmVkIGdhbWUgbmFtZWQgXCIke3NhdmVOYW1lfVwiLmApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIEV2ZW50IFRyaWdnZXIgVGltZXJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZ2FtZVN0YXRlICE9PSBHYW1lU3RhdHVzLlBMQVlJTkcpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IG1ham9yVGFza0luUHJvZ3Jlc3MgPSBhY3RpdmVUYXNrcy5zb21lKHQgPT4gdC50eXBlICE9PSAnZ2F0aGVyJyk7XG5cbiAgICAgICAgaWYgKCFjdXJyZW50RXZlbnQgJiYgIXBsYXllckFjdGlvbiAmJiAhbWFqb3JUYXNrSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgc2NoZWR1bGVOZXh0RXZlbnQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudFRpbWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChldmVudFRpbWVyUmVmLmN1cnJlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudFRpbWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoZXZlbnRUaW1lclJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LCBbZ2FtZVN0YXRlLCBjdXJyZW50RXZlbnQsIHBsYXllckFjdGlvbiwgYWN0aXZlVGFza3MsIHNjaGVkdWxlTmV4dEV2ZW50XSk7XG5cbiAgICBjb25zdCBoYW5kbGVFdmVudENob2ljZSA9IChjaG9pY2U6IEdhbWVFdmVudENob2ljZSkgPT4ge1xuICAgICAgICBhZGRUb0xvZyhgRGVjaXNpb246IFwiJHtjaG9pY2UudGV4dH1cImAsICdldmVudCcpO1xuXG4gICAgICAgIC8vIDEuIENoZWNrIGFuZCBhcHBseSBjb3N0XG4gICAgICAgIGlmIChjaG9pY2UuY29zdCkge1xuICAgICAgICAgICAgY29uc3QgbWlzc2luZ1Jlczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGNob2ljZS5jb3N0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzS2V5ID0ga2V5IGFzIGtleW9mIFJlc291cmNlcztcbiAgICAgICAgICAgICAgICBpZiAocmVzb3VyY2VzW3Jlc0tleV0gPCAoY2hvaWNlLmNvc3RbcmVzS2V5XSB8fCAwKSkge1xuICAgICAgICAgICAgICAgICAgICBtaXNzaW5nUmVzLnB1c2gocmVzS2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWlzc2luZ1Jlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKGBZb3UgbGFjayB0aGUgcmVxdWlyZWQgcmVzb3VyY2VzOiAke21pc3NpbmdSZXMuam9pbignLCAnKX0uYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbmVnYXRpdmVDb3N0OiBSZXNvdXJjZURlbHRhcyA9IHt9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY2hvaWNlLmNvc3QpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNLZXkgPSBrZXkgYXMga2V5b2YgUmVzb3VyY2VzO1xuICAgICAgICAgICAgICAgIG5lZ2F0aXZlQ29zdFtyZXNLZXldID0gLShjaG9pY2UuY29zdFtyZXNLZXldIHx8IDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKG5lZ2F0aXZlQ29zdCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIDIuIERldGVybWluZSBzdWNjZXNzXG4gICAgICAgIGNvbnN0IGlzU3VjY2VzcyA9IGNob2ljZS5zdWNjZXNzQ2hhbmNlID09PSB1bmRlZmluZWQgfHwgTWF0aC5yYW5kb20oKSA8IGNob2ljZS5zdWNjZXNzQ2hhbmNlO1xuICAgICAgICBjb25zdCBlZmZlY3RzID0gaXNTdWNjZXNzID8gY2hvaWNlLnN1Y2Nlc3NFZmZlY3RzIDogY2hvaWNlLmZhaWx1cmVFZmZlY3RzO1xuXG4gICAgICAgIGlmICghZWZmZWN0cykgeyAvLyBIYW5kbGUgY2FzZXMgd2l0aCBubyBmYWlsdXJlIGVmZmVjdCBkZWZpbmVkXG4gICAgICAgICAgICBzZXRDdXJyZW50RXZlbnQobnVsbCk7XG4gICAgICAgICAgICBzY2hlZHVsZU5leHRFdmVudCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gMy4gQ2FsY3VsYXRlIHJlc291cmNlIGNoYW5nZVxuICAgICAgICBsZXQgYW1vdW50ID0gMDtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZWZmZWN0cy5hbW91bnQpKSB7XG4gICAgICAgICAgICBjb25zdCBbbWluLCBtYXhdID0gZWZmZWN0cy5hbW91bnQ7XG4gICAgICAgICAgICBhbW91bnQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYW1vdW50ID0gZWZmZWN0cy5hbW91bnQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIDQuIEFwcGx5IGVmZmVjdHNcbiAgICAgICAgaWYgKGVmZmVjdHMucmVzb3VyY2UgIT09ICdub25lJyAmJiBhbW91bnQgIT09IDApIHtcbiAgICAgICAgICAgIHVwZGF0ZVJlc291cmNlcyh7IFtlZmZlY3RzLnJlc291cmNlXTogYW1vdW50IH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyA1LiBMb2cgYW5kIHVwZGF0ZSBVSVxuICAgICAgICBhZGRUb0xvZyhlZmZlY3RzLmxvZywgZWZmZWN0cy5yZXNvdXJjZSAhPT0gJ25vbmUnID8gZWZmZWN0cy5yZXNvdXJjZSA6ICdzeXN0ZW0nKTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoZWZmZWN0cy5sb2cpO1xuICAgICAgICBzZXRDdXJyZW50RXZlbnQobnVsbCk7XG4gICAgICAgIHNjaGVkdWxlTmV4dEV2ZW50KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUluaXRpYXRlQnVpbGQgPSAodmlsbGFnZXJJZDogc3RyaW5nLCByZWN0OiBET01SZWN0KSA9PiB7XG4gICAgICAgIGlmIChpc1ZpbGxhZ2VyQnVzeSh2aWxsYWdlcklkKSkge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiVGhpcyB2aWxsYWdlciBpcyBhbHJlYWR5IGJ1c3kuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldEJ1aWxkUGFuZWxTdGF0ZSh7IGlzT3BlbjogdHJ1ZSwgdmlsbGFnZXJJZCwgYW5jaG9yUmVjdDogcmVjdCB9KTtcbiAgICAgICAgc2V0VW5pdE1hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBoYW5kbGVTdGFydFBsYWNlbWVudCA9IChidWlsZGluZ0lkOiBCdWlsZGluZ1R5cGUpID0+IHtcbiAgICAgICAgY29uc3QgdmlsbGFnZXJJZCA9IGJ1aWxkUGFuZWxTdGF0ZS52aWxsYWdlcklkO1xuICAgICAgICBpZiAoIXZpbGxhZ2VySWQpIHJldHVybjtcblxuICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBCVUlMRElOR1NfSU5GTy5maW5kKGIgPT4gYi5pZCA9PT0gYnVpbGRpbmdJZCk7XG4gICAgICAgIGlmICghYnVpbGRpbmdJbmZvKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgaXNBbHJlYWR5Q29uc3RydWN0aW5nID0gYWN0aXZlVGFza3Muc29tZSh0ID0+IHQudHlwZSA9PT0gJ2J1aWxkJyAmJiB0LnBheWxvYWQ/LmJ1aWxkaW5nVHlwZSA9PT0gYnVpbGRpbmdJbmZvLmlkKTtcbiAgICAgICAgaWYgKGJ1aWxkaW5nSW5mby5pc1VuaXF1ZSAmJiAoYnVpbGRpbmdzW2J1aWxkaW5nSW5mby5pZF0ubGVuZ3RoID4gMCB8fCBpc0FscmVhZHlDb25zdHJ1Y3RpbmcpKSB7XG4gICAgICAgICAgICBhZGROb3RpZmljYXRpb24oYFlvdSBjYW4gb25seSBidWlsZCBvbmUgJHtidWlsZGluZ0luZm8ubmFtZX0uYCk7IHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgY29zdCA9IGJ1aWxkaW5nSW5mby5jb3N0O1xuICAgICAgICBpZiAoIXVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgY29uc3QgbWlzc2luZzogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVzIGluIGNvc3QpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNvdXJjZUtleSA9IHJlcyBhcyBrZXlvZiBSZXNvdXJjZXM7XG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlc1tyZXNvdXJjZUtleV0gPCAoY29zdFtyZXNvdXJjZUtleV0gPz8gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgIG1pc3NpbmcucHVzaChgJHsoY29zdFtyZXNvdXJjZUtleV0gPz8gMCkgLSByZXNvdXJjZXNbcmVzb3VyY2VLZXldfSAke3Jlc291cmNlS2V5fWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICBpZiAobWlzc2luZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKGBOZWVkICR7bWlzc2luZy5qb2luKCcgYW5kICcpfS5gKTsgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNldFBsYXllckFjdGlvbih7IG1vZGU6ICdidWlsZCcsIGJ1aWxkaW5nVHlwZTogYnVpbGRpbmdJZCwgdmlsbGFnZXJJZCB9KTtcbiAgICAgICAgc2V0QnVpbGRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdmlsbGFnZXJJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYFNlbGVjdCBhIGxvY2F0aW9uIHRvIGJ1aWxkIGEgJHtidWlsZGluZ0luZm8ubmFtZX0uIFJpZ2h0LWNsaWNrIHRvIGNhbmNlbC5gKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQ29uZmlybVBsYWNlbWVudCA9IChwb3NpdGlvbjogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9KSA9PiB7XG4gICAgICAgIGlmIChwbGF5ZXJBY3Rpb24/Lm1vZGUgIT09ICdidWlsZCcpIHJldHVybjtcbiAgICAgICAgY29uc3QgeyBidWlsZGluZ1R5cGUsIHZpbGxhZ2VySWQgfSA9IHBsYXllckFjdGlvbjtcbiAgICAgICAgY29uc3QgYnVpbGRpbmdJbmZvID0gQlVJTERJTkdTX0lORk8uZmluZChiID0+IGIuaWQgPT09IGJ1aWxkaW5nVHlwZSk7XG4gICAgICAgIGNvbnN0IGJ1aWxkZXIgPSB1bml0cy52aWxsYWdlcnMuZmluZCh2ID0+IHYuaWQgPT09IHZpbGxhZ2VySWQpO1xuICAgICAgICBpZiAoIWJ1aWxkaW5nSW5mbyB8fCAhYnVpbGRlcikgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgaWYgKCF1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvc3QgPSBidWlsZGluZ0luZm8uY29zdDtcbiAgICAgICAgICAgIGNvbnN0IG5lZ2F0aXZlQ29zdDogUmVzb3VyY2VEZWx0YXMgPSB7fTtcbiAgICAgICAgICAgIGZvcihjb25zdCByZXNvdXJjZSBpbiBjb3N0KSB7XG4gICAgICAgICAgICAgICAgbmVnYXRpdmVDb3N0W3Jlc291cmNlIGFzIGtleW9mIFJlc291cmNlc10gPSAtKGNvc3RbcmVzb3VyY2UgYXMga2V5b2YgUmVzb3VyY2VzXSB8fCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZVJlc291cmNlcyhuZWdhdGl2ZUNvc3QpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBidWlsZFRpbWUgPSBidWlsZGluZ0luZm8uYnVpbGRUaW1lICogMTAwMDtcbiAgICAgICAgY29uc3QgdGFza0lkID0gYCR7RGF0ZS5ub3coKX0tYnVpbGQtJHtidWlsZGluZ1R5cGV9YDtcbiAgICAgICAgY29uc3QgdGFza1BheWxvYWQgPSB7IGJ1aWxkaW5nVHlwZSwgdmlsbGFnZXJJZHM6IFt2aWxsYWdlcklkXSwgcG9zaXRpb24gfTtcblxuICAgICAgICBpZiAodW5saW1pdGVkUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICAgaGFuZGxlVGFza0NvbXBsZXRpb24oeyBpZDogdGFza0lkLCB0eXBlOiAnYnVpbGQnLCBzdGFydFRpbWU6IDAsIGR1cmF0aW9uOiAwLCBwYXlsb2FkOiB7IC4uLnRhc2tQYXlsb2FkLCBwb3NpdGlvbiB9IH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbmV3VGFzazogR2FtZVRhc2sgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHRhc2tJZCwgXG4gICAgICAgICAgICAgICAgdHlwZTogJ2J1aWxkJywgXG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogYnVpbGRUaW1lLCBcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB0YXNrUGF5bG9hZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gWy4uLnByZXYsIG5ld1Rhc2tdKTtcbiAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGAke2J1aWxkZXIubmFtZX0gaGFzIHN0YXJ0ZWQgY29uc3RydWN0aW5nIGEgJHtidWlsZGluZ0luZm8ubmFtZX0uYCk7XG4gICAgICAgICAgICBhZGRUb0xvZyhgJHtidWlsZGVyLm5hbWV9IGJlZ2FuIGNvbnN0cnVjdGlvbiBvZiBhIG5ldyAke2J1aWxkaW5nSW5mby5uYW1lfS5gLCBidWlsZGluZ1R5cGUpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzZXRQbGF5ZXJBY3Rpb24obnVsbCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUNhbmNlbFBsYXllckFjdGlvbiA9ICgpID0+IHtcbiAgICAgICAgc2V0UGxheWVyQWN0aW9uKG51bGwpO1xuICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cygnQ29tbWFuZCBjYW5jZWxsZWQuJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZURlbW9saXNoQnVpbGRpbmcgPSAodHlwZTogQnVpbGRpbmdUeXBlLCBpZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmKGFjdGl2ZVRhc2tzLnNvbWUodCA9PiB0LnBheWxvYWQ/LmJ1aWxkaW5nSWQgPT09IGlkKSkge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiQ2Fubm90IGRlbW9saXNoIGEgYnVpbGRpbmcgd2l0aCBhbiBhY3RpdmUgdGFzay5cIik7IHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBCVUlMRElOR1NfSU5GTy5maW5kKGIgPT4gYi5pZCA9PT0gdHlwZSk7XG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5zdGFuY2UgPSBidWlsZGluZ3NbdHlwZV0uZmluZChiID0+IGIuaWQgPT09IGlkKTtcbiAgICAgICAgaWYgKCFidWlsZGluZ0luZm8gfHwgIWJ1aWxkaW5nSW5zdGFuY2UpIHJldHVybjtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdob3VzZXMnICYmIHBvcHVsYXRpb24uY3VycmVudCA+IChidWlsZGluZ3MudG93bkNlbnRlcj8ubGVuZ3RoID4gMCA/IDIwIDogMCkgKyAoYnVpbGRpbmdzLmhvdXNlcy5sZW5ndGggLSAxKSAqIDUpIHtcbiAgICAgICAgICAgICBhZGROb3RpZmljYXRpb24oXCJDYW5ub3QgZGVtb2xpc2ggdGhpcyBob3VzZSwgeW91ciBwZW9wbGUgd291bGQgYmUgaG9tZWxlc3MuXCIpOyByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVmdW5kOiBSZXNvdXJjZURlbHRhcyA9IHt9O1xuICAgICAgICBsZXQgcmVmdW5kTWVzc2FnZVBhcnRzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHJlcyBpbiBidWlsZGluZ0luZm8uY29zdCkge1xuICAgICAgICAgICAgY29uc3QgcmVzb3VyY2VLZXkgPSByZXMgYXMga2V5b2YgUmVzb3VyY2VzO1xuICAgICAgICAgICAgY29uc3QgY29zdCA9IGJ1aWxkaW5nSW5mby5jb3N0W3Jlc291cmNlS2V5XSB8fCAwO1xuICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gTWF0aC5mbG9vcihjb3N0ICogMC41KTtcbiAgICAgICAgICAgIGlmIChhbW91bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgcmVmdW5kW3Jlc291cmNlS2V5XSA9IGFtb3VudDtcbiAgICAgICAgICAgICAgICByZWZ1bmRNZXNzYWdlUGFydHMucHVzaChgJHthbW91bnR9ICR7cmVzb3VyY2VLZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlUmVzb3VyY2VzKHJlZnVuZCk7XG4gICAgICAgIHNldEJ1aWxkaW5ncyhwcmV2ID0+ICh7IC4uLnByZXYsIFt0eXBlXTogcHJldlt0eXBlXS5maWx0ZXIoYiA9PiBiLmlkICE9PSBpZCkgfSkpO1xuICAgICAgICBhZGRUb0xvZyhgJHtidWlsZGluZ0luc3RhbmNlLm5hbWV9ICgke2J1aWxkaW5nSW5mby5uYW1lfSkgd2FzIGRlbW9saXNoZWQuYCwgdHlwZSk7XG4gICAgICAgIGlmIChyZWZ1bmRNZXNzYWdlUGFydHMubGVuZ3RoID4gMCkgeyBhZGROb3RpZmljYXRpb24oYFNhbHZhZ2VkICR7cmVmdW5kTWVzc2FnZVBhcnRzLmpvaW4oJywgJyl9LmApOyB9XG4gICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHtpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVVcGRhdGVCdWlsZGluZyA9ICh0eXBlOiBCdWlsZGluZ1R5cGUsIGlkOiBzdHJpbmcsIG5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICBzZXRCdWlsZGluZ3MocHJldiA9PiAoeyAuLi5wcmV2LCBbdHlwZV06IHByZXZbdHlwZV0ubWFwKGIgPT4gYi5pZCA9PT0gaWQgPyB7IC4uLmIsIG5hbWUgfSA6IGIpIH0pKTtcbiAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiQnVpbGRpbmcgcmVuYW1lZC5cIik7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVRyYWluVmlsbGFnZXJzID0gKGNvdW50OiBudW1iZXIpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZVRhc2tzLnNvbWUodCA9PiB0LnR5cGUgPT09ICd0cmFpbl92aWxsYWdlcicpIHx8IGNvdW50IDw9IDApIHJldHVybjtcbiAgICAgICAgY29uc3QgdmlsbGFnZXJDb3N0ID0gNTA7XG4gICAgICAgIGNvbnN0IHRvdGFsQ29zdCA9IHZpbGxhZ2VyQ29zdCAqIGNvdW50O1xuICAgICAgICBpZiAocG9wdWxhdGlvbi5jdXJyZW50ICsgY291bnQgPiBwb3B1bGF0aW9uLmNhcGFjaXR5KSB7IGFkZE5vdGlmaWNhdGlvbihgTmVlZCBzcGFjZSBmb3IgJHtjb3VudH0gbW9yZSB2aWxsYWdlcnMuYCk7IHJldHVybjsgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgdG93bkNlbnRlciA9IGJ1aWxkaW5ncy50b3duQ2VudGVyPy5bMF07XG4gICAgICAgIGlmICghdG93bkNlbnRlcikgeyBhZGROb3RpZmljYXRpb24oYE5vIFRvd24gQ2VudGVyIHRvIHRyYWluIHZpbGxhZ2Vycy5gKTsgcmV0dXJuOyB9XG5cbiAgICAgICAgaWYgKCF1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZXMuZm9vZCA8IHRvdGFsQ29zdCkgeyBhZGROb3RpZmljYXRpb24oYE5lZWQgJHt0b3RhbENvc3QgLSByZXNvdXJjZXMuZm9vZH0gbW9yZSBGb29kLmApOyByZXR1cm47IH1cbiAgICAgICAgICAgIHVwZGF0ZVJlc291cmNlcyh7IGZvb2Q6IC10b3RhbENvc3QgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHJhaW5UaW1lID0gMTAwMDAgKiBjb3VudDsgLy8gMTBzIHBlciB2aWxsYWdlclxuICAgICAgICBpZih1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGhhbmRsZVRhc2tDb21wbGV0aW9uKHsgaWQ6ICdpbnN0YW50JywgdHlwZTogJ3RyYWluX3ZpbGxhZ2VyJywgc3RhcnRUaW1lOiAwLCBkdXJhdGlvbjogMCwgcGF5bG9hZDogeyBjb3VudCB9IH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdGFza0lkID0gYCR7RGF0ZS5ub3coKX0tdHJhaW4tdmlsbGFnZXJgO1xuICAgICAgICAgICAgY29uc3QgbmV3VGFzazogR2FtZVRhc2sgPSB7IGlkOiB0YXNrSWQsIHR5cGU6ICd0cmFpbl92aWxsYWdlcicsIHN0YXJ0VGltZTogRGF0ZS5ub3coKSwgZHVyYXRpb246IHRyYWluVGltZSwgcGF5bG9hZDogeyBjb3VudCwgYnVpbGRpbmdJZDogdG93bkNlbnRlci5pZCB9IH07XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IFsuLi5wcmV2LCBuZXdUYXNrXSk7XG4gICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgVHJhaW5pbmcgJHtjb3VudH0gdmlsbGFnZXIocykuLi5gKTtcbiAgICAgICAgICAgIGFkZFRvTG9nKGBCZWdhbiB0cmFpbmluZyAke2NvdW50fSBuZXcgdmlsbGFnZXIocykuYCwgJ3ZpbGxhZ2VyJyk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgaGFuZGxlVHJhaW5Vbml0cyA9ICh1bml0VHlwZTogTWlsaXRhcnlVbml0VHlwZSwgY291bnQ6IG51bWJlcikgPT4ge1xuICAgICAgICBjb25zdCB1bml0SW5mbyA9IFVOSVRfSU5GTy5maW5kKHUgPT4gdS5pZCA9PT0gdW5pdFR5cGUpO1xuICAgICAgICBpZiAoIXVuaXRJbmZvIHx8IGFjdGl2ZVRhc2tzLnNvbWUodCA9PiB0LnBheWxvYWQ/LnVuaXRUeXBlID09PSB1bml0VHlwZSkgfHwgY291bnQgPD0gMCkgcmV0dXJuO1xuICAgICAgICBpZiAocG9wdWxhdGlvbi5jdXJyZW50ICsgY291bnQgPiBwb3B1bGF0aW9uLmNhcGFjaXR5KSB7IGFkZE5vdGlmaWNhdGlvbihgTmVlZCBzcGFjZSBmb3IgJHtjb3VudH0gbW9yZSB1bml0cy5gKTsgcmV0dXJuOyB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0cmFpbmluZ0J1aWxkaW5nID0gYnVpbGRpbmdzW3VuaXRJbmZvLnJlcXVpcmVkQnVpbGRpbmddPy5bMF07XG4gICAgICAgIGlmICghdHJhaW5pbmdCdWlsZGluZykgeyBhZGROb3RpZmljYXRpb24oYE5vICR7dW5pdEluZm8ucmVxdWlyZWRCdWlsZGluZ30gdG8gdHJhaW4gdW5pdHMuYCk7IHJldHVybjsgfVxuXG4gICAgICAgIGlmICghdW5saW1pdGVkUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICBjb25zdCB0b3RhbENvc3Q6IFJlc291cmNlRGVsdGFzID0ge307IGNvbnN0IG1pc3Npbmc6IHN0cmluZ1tdID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlcyBpbiB1bml0SW5mby5jb3N0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzb3VyY2VLZXkgPSByZXMgYXMga2V5b2YgUmVzb3VyY2VzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvc3QgPSAodW5pdEluZm8uY29zdFtyZXNvdXJjZUtleV0gfHwgMCkgKiBjb3VudDtcbiAgICAgICAgICAgICAgICB0b3RhbENvc3RbcmVzb3VyY2VLZXldID0gLWNvc3Q7XG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlc1tyZXNvdXJjZUtleV0gPCBjb3N0KSBtaXNzaW5nLnB1c2goYCR7Y29zdCAtIHJlc291cmNlc1tyZXNvdXJjZUtleV19ICR7cmVzb3VyY2VLZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWlzc2luZy5sZW5ndGggPiAwKSB7IGFkZE5vdGlmaWNhdGlvbihgTmVlZCAke21pc3Npbmcuam9pbignIGFuZCAnKX0uYCk7IHJldHVybjsgfVxuICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKHRvdGFsQ29zdCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHJhaW5UaW1lID0gdW5pdEluZm8udHJhaW5UaW1lICogMTAwMCAqIGNvdW50O1xuICAgICAgICBpZih1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGhhbmRsZVRhc2tDb21wbGV0aW9uKHsgaWQ6ICdpbnN0YW50JywgdHlwZTogJ3RyYWluX21pbGl0YXJ5Jywgc3RhcnRUaW1lOiAwLCBkdXJhdGlvbjogMCwgcGF5bG9hZDogeyB1bml0VHlwZSwgY291bnQgfSB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tJZCA9IGAke0RhdGUubm93KCl9LXRyYWluLSR7dW5pdFR5cGV9YDtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Rhc2s6IEdhbWVUYXNrID0geyBpZDogdGFza0lkLCB0eXBlOiAndHJhaW5fbWlsaXRhcnknLCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiB0cmFpblRpbWUsIHBheWxvYWQ6IHsgdW5pdFR5cGUsIGNvdW50LCBidWlsZGluZ0lkOiB0cmFpbmluZ0J1aWxkaW5nLmlkIH0gfTtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gWy4uLnByZXYsIG5ld1Rhc2tdKTtcbiAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBUcmFpbmluZyAke2NvdW50fSAke3VuaXRJbmZvLm5hbWV9KHMpLi4uYCk7XG4gICAgICAgICAgICBhZGRUb0xvZyhgQmVnYW4gdHJhaW5pbmcgJHtjb3VudH0gbmV3ICR7dW5pdEluZm8ubmFtZX0ocykuYCwgdW5pdFR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlRGlzbWlzc1NwZWNpZmljVW5pdCA9ICh0eXBlOiAndmlsbGFnZXJzJyB8ICdtaWxpdGFyeScsIGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgaWYgKHR5cGUgPT09ICd2aWxsYWdlcnMnICYmIGlzVmlsbGFnZXJCdXN5KGlkKSkge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiQ2Fubm90IGRpc21pc3MgYSBidXN5IHZpbGxhZ2VyLlwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1bml0ID0gdW5pdHNbdHlwZV0uZmluZCh1ID0+IHUuaWQgPT09IGlkKTtcbiAgICAgICAgaWYgKCF1bml0KSByZXR1cm47XG4gICAgICAgIGlmICh0eXBlID09PSAndmlsbGFnZXJzJyAmJiB1bml0cy52aWxsYWdlcnMubGVuZ3RoIDw9IDEpIHsgYWRkTm90aWZpY2F0aW9uKFwiQ2Fubm90IGRpc21pc3MgeW91ciBsYXN0IHZpbGxhZ2VyLlwiKTsgcmV0dXJuOyB9XG4gICAgICAgIHNldFVuaXRzKHByZXYgPT4gKHsgLi4ucHJldiwgW3R5cGVdOiBwcmV2W3R5cGVdLmZpbHRlcih1ID0+IHUuaWQgIT09IGlkKSB9KSk7XG4gICAgICAgIGNvbnN0IHVuaXRUeXBlTmFtZSA9IHR5cGUgPT09ICd2aWxsYWdlcnMnID8gJ3ZpbGxhZ2VyJyA6ICh1bml0IGFzIE1pbGl0YXJ5VW5pdCkudW5pdFR5cGU7XG4gICAgICAgIGFkZFRvTG9nKGAke3VuaXQubmFtZX0gdGhlICR7dW5pdFR5cGVOYW1lfSBoYXMgYmVlbiBkaXNtaXNzZWQuYCwgdHlwZSA9PT0gJ3ZpbGxhZ2VycycgPyAndmlsbGFnZXInIDogKHVuaXQgYXMgTWlsaXRhcnlVbml0KS51bml0VHlwZSk7XG4gICAgICAgIGFkZE5vdGlmaWNhdGlvbihgJHt1bml0Lm5hbWV9IHdhcyBkaXNtaXNzZWQuYCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVVwZGF0ZVVuaXQgPSAodHlwZTogJ3ZpbGxhZ2VycycgfCAnbWlsaXRhcnknLCBpZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIHRpdGxlPzogc3RyaW5nKSA9PiB7XG4gICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7IC4uLnByZXYsIFt0eXBlXTogcHJldlt0eXBlXS5tYXAodSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHUuaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRVbml0ID0geyAuLi51LCBuYW1lIH07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnbWlsaXRhcnknICYmIHRpdGxlICE9PSB1bmRlZmluZWQpIHsgKHVwZGF0ZWRVbml0IGFzIE1pbGl0YXJ5VW5pdCkudGl0bGUgPSB0aXRsZTsgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZFVuaXQ7XG4gICAgICAgICAgICAgICAgfSByZXR1cm4gdTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pKTtcbiAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiVW5pdCB1cGRhdGVkLlwiKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQXNzaWduVmlsbGFnZXJzVG9Ob2RlID0gKG5vZGVJZDogc3RyaW5nLCBjb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkbGVWaWxsYWdlcnMgPSB1bml0cy52aWxsYWdlcnMuZmlsdGVyKHYgPT4gIWlzVmlsbGFnZXJCdXN5KHYuaWQpKTtcbiAgICAgICAgaWYgKGNvdW50IDw9IDApIHJldHVybjtcbiAgICAgICAgbGV0IGNhcHBlZENvdW50ID0gTWF0aC5taW4oY291bnQsIGlkbGVWaWxsYWdlcnMubGVuZ3RoKTtcbiAgICAgICAgaWYgKGNhcHBlZENvdW50ID09PSAwKSB7IGFkZE5vdGlmaWNhdGlvbihcIk5vIGlkbGUgdmlsbGFnZXJzIGF2YWlsYWJsZS5cIik7IHJldHVybjsgfVxuICAgIFxuICAgICAgICBjb25zdCB2aWxsYWdlcnNUb0Fzc2lnbiA9IGlkbGVWaWxsYWdlcnMuc2xpY2UoMCwgY2FwcGVkQ291bnQpO1xuICAgICAgICBjb25zdCB2aWxsYWdlcklkc1RvQXNzaWduID0gdmlsbGFnZXJzVG9Bc3NpZ24ubWFwKHYgPT4gdi5pZCk7XG4gICAgXG4gICAgICAgIGNvbnN0IHRhcmdldE5vZGUgPSByZXNvdXJjZU5vZGVzLmZpbmQobiA9PiBuLmlkID09PSBub2RlSWQpO1xuICAgICAgICBpZiAoIXRhcmdldE5vZGUpIHJldHVybjtcbiAgICBcbiAgICAgICAgc2V0UmVzb3VyY2VOb2RlcyhwcmV2Tm9kZXMgPT4gXG4gICAgICAgICAgICBwcmV2Tm9kZXMubWFwKG4gPT4gbi5pZCA9PT0gbm9kZUlkID8gey4uLm4sIGFzc2lnbmVkVmlsbGFnZXJzOiBbLi4ubmV3IFNldChbLi4ubi5hc3NpZ25lZFZpbGxhZ2VycywgLi4udmlsbGFnZXJJZHNUb0Fzc2lnbl0pXX0gOiBuKVxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgaWYgKHVubGltaXRlZFJlc291cmNlcykgeyAvLyBJbnN0YW50IGdhdGhlciBmb3IgdGVzdCBtb2RlXG4gICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXMoeyBbdGFyZ2V0Tm9kZS50eXBlXTogdGFyZ2V0Tm9kZS5hbW91bnQgfSk7XG4gICAgICAgICAgICBhZGRUb0xvZyhgJHtjYXBwZWRDb3VudH0gdmlsbGFnZXIocykgaW5zdGFudGx5IGdhdGhlcmVkICR7TWF0aC5mbG9vcih0YXJnZXROb2RlLmFtb3VudCl9ICR7dGFyZ2V0Tm9kZS50eXBlfS5gLCB0YXJnZXROb2RlLnR5cGUpO1xuICAgICAgICAgICAgc2V0UmVzb3VyY2VOb2RlcyhwcmV2ID0+IHByZXYuZmlsdGVyKG4gPT4gbi5pZCAhPT0gbm9kZUlkKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ1Rhc2sgPSBhY3RpdmVUYXNrcy5maW5kKHQgPT4gdC50eXBlID09PSAnZ2F0aGVyJyAmJiB0LnBheWxvYWQ/LnJlc291cmNlTm9kZUlkID09PSBub2RlSWQpO1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nVGFzaykge1xuICAgICAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gcHJldi5tYXAodCA9PiB0LmlkID09PSBleGlzdGluZ1Rhc2suaWQgPyB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnQsXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsgLi4udC5wYXlsb2FkLCB2aWxsYWdlcklkczogWy4uLm5ldyBTZXQoWy4uLnQucGF5bG9hZCEudmlsbGFnZXJJZHMhLCAuLi52aWxsYWdlcklkc1RvQXNzaWduXSldIH1cbiAgICAgICAgICAgICAgICB9IDogdCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgY29uc3QgbmV3VGFzazogR2FtZVRhc2sgPSB7IGlkOiBgZ2F0aGVyLSR7bm9kZUlkfWAsIHR5cGU6ICdnYXRoZXInLCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiA4NjQwMDAwMCwgcGF5bG9hZDogeyByZXNvdXJjZU5vZGVJZDogbm9kZUlkLCB2aWxsYWdlcklkczogdmlsbGFnZXJJZHNUb0Fzc2lnbiB9fTsgLy8gRHVyYXRpb24gaXMgYXJiaXRyYXJ5LCBsb29wIGhhbmRsZXMgY29tcGxldGlvblxuICAgICAgICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IFsuLi5wcmV2LCBuZXdUYXNrXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgYWRkVG9Mb2coYCR7Y2FwcGVkQ291bnR9IHZpbGxhZ2VyKHMpIGFzc2lnbmVkIHRvIGdhdGhlciAke3RhcmdldE5vZGUudHlwZX0uYCwgdGFyZ2V0Tm9kZS50eXBlKTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYCR7Y2FwcGVkQ291bnR9IHZpbGxhZ2VyKHMpIGFyZSBub3cgZ2F0aGVyaW5nICR7dGFyZ2V0Tm9kZS50eXBlfS5gKTtcbiAgICAgICAgc2V0QXNzaWdubWVudFBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlUmVjYWxsVmlsbGFnZXJzID0gKHRhcmdldElkOiBzdHJpbmcsIGNvdW50OiBudW1iZXIsIHR5cGU6ICdyZXNvdXJjZScgfCAnY29uc3RydWN0aW9uJykgPT4ge1xuICAgICAgICBpZiAodHlwZSA9PT0gJ3Jlc291cmNlJykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHJlc291cmNlTm9kZXMuZmluZChuID0+IG4uaWQgPT09IHRhcmdldElkKTtcbiAgICAgICAgICAgIGlmICghbm9kZSB8fCBub2RlLmFzc2lnbmVkVmlsbGFnZXJzLmxlbmd0aCA8IGNvdW50KSByZXR1cm47XG4gICAgXG4gICAgICAgICAgICBjb25zdCB2aWxsYWdlcnNUb1JlY2FsbCA9IG5vZGUuYXNzaWduZWRWaWxsYWdlcnMuc2xpY2Uobm9kZS5hc3NpZ25lZFZpbGxhZ2Vycy5sZW5ndGggLSBjb3VudCk7XG4gICAgICAgICAgICBzZXRSZXNvdXJjZU5vZGVzKHByZXYgPT4gcHJldi5tYXAobiA9PiBuLmlkID09PSB0YXJnZXRJZCA/IHsgLi4ubiwgYXNzaWduZWRWaWxsYWdlcnM6IG4uYXNzaWduZWRWaWxsYWdlcnMuZmlsdGVyKGlkID0+ICF2aWxsYWdlcnNUb1JlY2FsbC5pbmNsdWRlcyhpZCkpIH0gOiBuKSk7XG4gICAgXG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBwcmV2LmZpbmRJbmRleCh0ID0+IHQudHlwZSA9PT0gJ2dhdGhlcicgJiYgdC5wYXlsb2FkPy5yZXNvdXJjZU5vZGVJZCA9PT0gdGFyZ2V0SWQpO1xuICAgICAgICAgICAgICAgIGlmICh0YXNrSW5kZXggPT09IC0xKSByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCB0YXNrID0gcHJldlt0YXNrSW5kZXhdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ1ZpbGxhZ2VycyA9IHRhc2sucGF5bG9hZCEudmlsbGFnZXJJZHMhLmZpbHRlcihpZCA9PiAhdmlsbGFnZXJzVG9SZWNhbGwuaW5jbHVkZXMoaWQpKTtcbiAgICBcbiAgICAgICAgICAgICAgICBpZiAocmVtYWluaW5nVmlsbGFnZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldi5maWx0ZXIoKF8sIGkpID0+IGkgIT09IHRhc2tJbmRleCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXYubWFwKCh0LCBpKSA9PiBpID09PSB0YXNrSW5kZXggPyB7IC4uLnQsIHBheWxvYWQ6IHsgLi4udC5wYXlsb2FkLCB2aWxsYWdlcklkczogcmVtYWluaW5nVmlsbGFnZXJzIH0gfSA6IHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYWRkVG9Mb2coYCR7Y291bnR9IHZpbGxhZ2VyKHMpIHJlY2FsbGVkIGZyb20gZ2F0aGVyaW5nICR7bm9kZS50eXBlfS5gLCAndmlsbGFnZXInKTtcbiAgICAgICAgfSBlbHNlIHsgLy8gY29uc3RydWN0aW9uXG4gICAgICAgICAgICBjb25zdCB0YXNrID0gYWN0aXZlVGFza3MuZmluZCh0ID0+IHQuaWQgPT09IHRhcmdldElkKTtcbiAgICAgICAgICAgIGlmICghdGFzayB8fCB0YXNrLnR5cGUgIT09ICdidWlsZCcgfHwgKHRhc2sucGF5bG9hZD8udmlsbGFnZXJJZHM/Lmxlbmd0aCA/PyAwKSA8IGNvdW50KSByZXR1cm47XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHZpbGxhZ2Vyc1RvUmVjYWxsID0gdGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEuc2xpY2UodGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEubGVuZ3RoIC0gY291bnQpO1xuICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nVmlsbGFnZXJzID0gdGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEuZmlsdGVyKGlkID0+ICF2aWxsYWdlcnNUb1JlY2FsbC5pbmNsdWRlcyhpZCkpO1xuICAgIFxuICAgICAgICAgICAgaWYgKHJlbWFpbmluZ1ZpbGxhZ2Vycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBhZGROb3RpZmljYXRpb24oXCJDYW5ub3QgcmVjYWxsIHRoZSBsYXN0IGJ1aWxkZXIuIFRoaXMgd291bGQgY2FuY2VsIHRoZSBwcm9qZWN0LlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBCVUlMRElOR1NfSU5GTy5maW5kKGIgPT4gYi5pZCA9PT0gdGFzay5wYXlsb2FkIS5idWlsZGluZ1R5cGUpITtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsV29yayA9IGJ1aWxkaW5nSW5mby5idWlsZFRpbWUgKiAxMDAwO1xuICAgICAgICAgICAgY29uc3Qgb2xkV29ya2VyQ291bnQgPSB0YXNrLnBheWxvYWQhLnZpbGxhZ2VySWRzIS5sZW5ndGg7XG4gICAgXG4gICAgICAgICAgICBjb25zdCB0aW1lRWxhcHNlZCA9IERhdGUubm93KCkgLSB0YXNrLnN0YXJ0VGltZTtcbiAgICAgICAgICAgIGNvbnN0IHdvcmtEb25lID0gdGltZUVsYXBzZWQgKiBvbGRXb3JrZXJDb3VudDtcbiAgICAgICAgICAgIGNvbnN0IHdvcmtSZW1haW5pbmcgPSBNYXRoLm1heCgwLCB0b3RhbFdvcmsgLSB3b3JrRG9uZSk7XG4gICAgXG4gICAgICAgICAgICBjb25zdCBuZXdXb3JrZXJDb3VudCA9IHJlbWFpbmluZ1ZpbGxhZ2Vycy5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBuZXdSZW1haW5pbmdEdXJhdGlvbiA9IHdvcmtSZW1haW5pbmcgLyBuZXdXb3JrZXJDb3VudDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBwcmV2Lm1hcCh0ID0+IHQuaWQgPT09IHRhcmdldElkID8ge1xuICAgICAgICAgICAgICAgIC4uLnQsXG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBuZXdSZW1haW5pbmdEdXJhdGlvbixcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7IC4uLnQucGF5bG9hZCwgdmlsbGFnZXJJZHM6IHJlbWFpbmluZ1ZpbGxhZ2VycyB9XG4gICAgICAgICAgICB9IDogdCkpO1xuICAgICAgICAgICAgYWRkVG9Mb2coYCR7Y291bnR9IHZpbGxhZ2VyKHMpIHJlY2FsbGVkIGZyb20gY29uc3RydWN0aW9uLiBXb3JrIHdpbGwgbm93IHByb2NlZWQgc2xvd2VyLmAsICd2aWxsYWdlcicpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdGFyZ2V0SWQ6IG51bGwsIHRhcmdldFR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUFzc2lnblZpbGxhZ2Vyc1RvQ29uc3RydWN0aW9uID0gKGNvbnN0cnVjdGlvbklkOiBzdHJpbmcsIGNvdW50OiBudW1iZXIpID0+IHtcbiAgICAgICAgY29uc3QgaWRsZVZpbGxhZ2VycyA9IHVuaXRzLnZpbGxhZ2Vycy5maWx0ZXIodiA9PiAhaXNWaWxsYWdlckJ1c3kodi5pZCkpO1xuICAgICAgICBpZiAoY291bnQgPD0gMCkgcmV0dXJuO1xuICAgICAgICBsZXQgY2FwcGVkQ291bnQgPSBNYXRoLm1pbihjb3VudCwgaWRsZVZpbGxhZ2Vycy5sZW5ndGgpO1xuICAgICAgICBpZiAoY2FwcGVkQ291bnQgPT09IDApIHsgYWRkTm90aWZpY2F0aW9uKFwiTm8gaWRsZSB2aWxsYWdlcnMgYXZhaWxhYmxlIHRvIGFzc2lzdC5cIik7IHJldHVybjsgfVxuXG4gICAgICAgIGNvbnN0IHZpbGxhZ2Vyc1RvQXNzaWduID0gaWRsZVZpbGxhZ2Vycy5zbGljZSgwLCBjYXBwZWRDb3VudCkubWFwKHYgPT4gdi5pZCk7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBhY3RpdmVUYXNrcy5maW5kKHQgPT4gdC5pZCA9PT0gY29uc3RydWN0aW9uSWQpO1xuXG4gICAgICAgIGlmICghdGFzayB8fCB0YXNrLnR5cGUgIT09ICdidWlsZCcpIHJldHVybjtcblxuICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBCVUlMRElOR1NfSU5GTy5maW5kKGIgPT4gYi5pZCA9PT0gdGFzay5wYXlsb2FkPy5idWlsZGluZ1R5cGUpO1xuICAgICAgICBpZiAoIWJ1aWxkaW5nSW5mbykgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGJhc2VEdXJhdGlvbiA9IGJ1aWxkaW5nSW5mby5idWlsZFRpbWUgKiAxMDAwO1xuICAgICAgICBjb25zdCBvbGRXb3JrZXJDb3VudCA9IHRhc2sucGF5bG9hZD8udmlsbGFnZXJJZHM/Lmxlbmd0aCB8fCAxO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdGltZUVsYXBzZWQgPSBEYXRlLm5vdygpIC0gdGFzay5zdGFydFRpbWU7XG4gICAgICAgIGNvbnN0IHdvcmtEb25lID0gdGltZUVsYXBzZWQgKiBvbGRXb3JrZXJDb3VudDtcbiAgICAgICAgY29uc3QgdG90YWxXb3JrID0gYmFzZUR1cmF0aW9uO1xuICAgICAgICBjb25zdCB3b3JrUmVtYWluaW5nID0gTWF0aC5tYXgoMCwgdG90YWxXb3JrIC0gd29ya0RvbmUpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgbmV3V29ya2VyQ291bnQgPSBvbGRXb3JrZXJDb3VudCArIGNhcHBlZENvdW50O1xuICAgICAgICBjb25zdCBuZXdSZW1haW5pbmdEdXJhdGlvbiA9IHdvcmtSZW1haW5pbmcgLyBuZXdXb3JrZXJDb3VudDtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRWaWxsYWdlcklkcyA9IFsuLi50YXNrLnBheWxvYWQhLnZpbGxhZ2VySWRzISwgLi4udmlsbGFnZXJzVG9Bc3NpZ25dO1xuXG4gICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gcHJldi5tYXAodCA9PiB0LmlkID09PSBjb25zdHJ1Y3Rpb25JZCA/IHtcbiAgICAgICAgICAgIC4uLnQsXG4gICAgICAgICAgICBzdGFydFRpbWU6IERhdGUubm93KCksXG4gICAgICAgICAgICBkdXJhdGlvbjogbmV3UmVtYWluaW5nRHVyYXRpb24sXG4gICAgICAgICAgICBwYXlsb2FkOiB7IC4uLnQucGF5bG9hZCwgdmlsbGFnZXJJZHM6IHVwZGF0ZWRWaWxsYWdlcklkcyB9XG4gICAgICAgIH0gOiB0KSk7XG5cbiAgICAgICAgYWRkVG9Mb2coYCR7Y2FwcGVkQ291bnR9IHZpbGxhZ2VyKHMpIGFyZSBub3cgYXNzaXN0aW5nIHdpdGggdGhlICR7YnVpbGRpbmdJbmZvLm5hbWV9LmAsIGJ1aWxkaW5nSW5mby5pZCk7XG4gICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBDb25zdHJ1Y3Rpb24gb2YgdGhlICR7YnVpbGRpbmdJbmZvLm5hbWV9IGlzIG5vdyBmYXN0ZXIuYCk7XG4gICAgICAgIHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdGFyZ2V0SWQ6IG51bGwsIHRhcmdldFR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUFzc2lnblZpbGxhZ2VycyA9ICh0YXJnZXRJZDogc3RyaW5nLCBjb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGlmIChhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRUeXBlID09PSAncmVzb3VyY2UnKSB7XG4gICAgICAgICAgICBoYW5kbGVBc3NpZ25WaWxsYWdlcnNUb05vZGUodGFyZ2V0SWQsIGNvdW50KTtcbiAgICAgICAgfSBlbHNlIGlmIChhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRUeXBlID09PSAnY29uc3RydWN0aW9uJykge1xuICAgICAgICAgICAgaGFuZGxlQXNzaWduVmlsbGFnZXJzVG9Db25zdHJ1Y3Rpb24odGFyZ2V0SWQsIGNvdW50KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVBZHZhbmNlQWdlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoYWN0aXZlVGFza3Muc29tZSh0ID0+IHQudHlwZSA9PT0gJ2FkdmFuY2VfYWdlJykpIHsgYWRkTm90aWZpY2F0aW9uKFwiQWR2YW5jZW1lbnQgYWxyZWFkeSBpbiBwcm9ncmVzcy5cIik7IHJldHVybjsgfVxuICAgICAgICBpZiAoIXVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgaWYgKHJlc291cmNlcy5mb29kIDwgNTAwIHx8IHJlc291cmNlcy5nb2xkIDwgMjAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWlzc2luZzogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgICAgICBpZiAocmVzb3VyY2VzLmZvb2QgPCA1MDApIG1pc3NpbmcucHVzaChgJHs1MDAgLSByZXNvdXJjZXMuZm9vZH0gRm9vZGApO1xuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZXMuZ29sZCA8IDIwMCkgbWlzc2luZy5wdXNoKGAkezIwMCAtIHJlc291cmNlcy5nb2xkfSBHb2xkYCk7XG4gICAgICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKGBUbyBhZHZhbmNlLCB5b3UgbmVlZCAke21pc3Npbmcuam9pbignIGFuZCAnKX0uYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKHsgZm9vZDogLTUwMCwgZ29sZDogLTIwMCB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IDYwMDAwO1xuICAgICAgICBpZih1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGhhbmRsZVRhc2tDb21wbGV0aW9uKHsgaWQ6ICdpbnN0YW50JywgdHlwZTogJ2FkdmFuY2VfYWdlJywgc3RhcnRUaW1lOiAwLCBkdXJhdGlvbjogMCB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tJZCA9IGAke0RhdGUubm93KCl9LWFkdmFuY2VfYWdlYDtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Rhc2s6IEdhbWVUYXNrID0geyBpZDogdGFza0lkLCB0eXBlOiAnYWR2YW5jZV9hZ2UnLCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uIH07XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IFsuLi5wcmV2LCBuZXdUYXNrXSk7XG4gICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgWW91ciBwZW9wbGUgYmVnaW4gdGhlIGxvbmcgam91cm5leSB0byBhIG5ldyBhZ2UuYCk7XG4gICAgICAgICAgICBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGhhbmRsZUV4aXRHYW1lID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBzZXRDdXJyZW50U2F2ZU5hbWUobnVsbCk7XG4gICAgICAgIGF3YWl0IGZldGNoU2F2ZXMoKTtcbiAgICAgICAgc2V0R2FtZVN0YXRlKEdhbWVTdGF0dXMuTUVOVSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZURlbGV0ZUdhbWUgPSBhc3luYyAoc2F2ZU5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICBhd2FpdCBkZWxldGVHYW1lU3RhdGUoc2F2ZU5hbWUpO1xuICAgICAgICBhd2FpdCBmZXRjaFNhdmVzKCk7XG4gICAgICAgIGFkZE5vdGlmaWNhdGlvbihgRGVsZXRlZCBzYWdhOiBcIiR7c2F2ZU5hbWV9XCJgKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlVG9nZ2xlVW5saW1pdGVkUmVzb3VyY2VzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdNb2RlID0gIXVubGltaXRlZFJlc291cmNlcztcbiAgICAgICAgc2V0VW5saW1pdGVkUmVzb3VyY2VzKG5ld01vZGUpO1xuICAgICAgICBpZiAobmV3TW9kZSkge1xuICAgICAgICAgICAgc2V0UmVzb3VyY2VzKHsgZm9vZDogOTk5OTksIHdvb2Q6IDk5OTk5LCBnb2xkOiA5OTk5OSwgc3RvbmU6IDk5OTk5IH0pO1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiVGVzdCBNb2RlOiBPTlwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihcIlRlc3QgTW9kZTogT0ZGXCIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGJ1aWxkaW5nQ291bnRzID0gT2JqZWN0LmtleXMoYnVpbGRpbmdzKS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nVHlwZSA9IGtleSBhcyBCdWlsZGluZ1R5cGU7XG4gICAgICAgIGFjY1tidWlsZGluZ1R5cGVdID0gYnVpbGRpbmdzW2J1aWxkaW5nVHlwZV0ubGVuZ3RoO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9IGFzIFJlY29yZDxCdWlsZGluZ1R5cGUsIG51bWJlcj4pO1xuICAgIFxuICAgIGNvbnN0IGlkbGVWaWxsYWdlckNvdW50ID0gdW5pdHMudmlsbGFnZXJzLmZpbHRlcih2ID0+ICFpc1ZpbGxhZ2VyQnVzeSh2LmlkKSkubGVuZ3RoO1xuICAgIFxuICAgIGNvbnN0IGFzc2lnbm1lbnRUYXJnZXQgPSBhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRUeXBlID09PSAncmVzb3VyY2UnXG4gICAgICAgID8gcmVzb3VyY2VOb2Rlcy5maW5kKG4gPT4gbi5pZCA9PT0gYXNzaWdubWVudFBhbmVsU3RhdGUudGFyZ2V0SWQpXG4gICAgICAgIDogYWN0aXZlVGFza3MuZmluZCh0ID0+IHQudHlwZSA9PT0gJ2J1aWxkJyAmJiB0LmlkID09PSBhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRJZCk7XG5cbiAgICBjb25zdCBjbG9zZUFsbFBhbmVscyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgc2V0VW5pdE1hbmFnZW1lbnRQYW5lbChwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICAgICAgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwocCA9PiBwLmlzT3BlbiA/IHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgaW5zdGFuY2VJZDogdW5kZWZpbmVkLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICAgICAgc2V0QnVpbGRQYW5lbFN0YXRlKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIHZpbGxhZ2VySWQ6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgICAgICBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZShwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgICAgIHNldENpdlBhbmVsU3RhdGUocCA9PiBwLmlzT3BlbiA/IHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgICAgIHNldEFsbEJ1aWxkaW5nc1BhbmVsKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IGhhbmRsZU9wZW5CdWlsZGluZ1BhbmVsID0gdXNlQ2FsbGJhY2soKHR5cGU6IEJ1aWxkaW5nVHlwZSwgaW5zdGFuY2VJZDogc3RyaW5nLCByZWN0OiBET01SZWN0KSA9PiB7XG4gICAgICAgIGNsb3NlQWxsUGFuZWxzKCk7XG4gICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiB0cnVlLCB0eXBlLCBpbnN0YW5jZUlkLCBhbmNob3JSZWN0OiByZWN0IH0pO1xuICAgIH0sIFtjbG9zZUFsbFBhbmVsc10pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgaGFuZGxlQ2xpY2tPdXRzaWRlID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc0FueVBhbmVsT3BlbiA9IHVuaXRNYW5hZ2VtZW50UGFuZWwuaXNPcGVuIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZGluZ01hbmFnZW1lbnRQYW5lbC5pc09wZW4gfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkUGFuZWxTdGF0ZS5pc09wZW4gfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbm1lbnRQYW5lbFN0YXRlLmlzT3BlbiB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2l2UGFuZWxTdGF0ZS5pc09wZW4gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsQnVpbGRpbmdzUGFuZWwuaXNPcGVuO1xuXG4gICAgICAgICAgICBpZiAoIWlzQW55UGFuZWxPcGVuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgRWxlbWVudDtcblxuICAgICAgICAgICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuc2NpLWZpLXBhbmVsLXBvcHVwJykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNsb3NlQWxsUGFuZWxzKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgICAgIH07XG4gICAgfSwgW1xuICAgICAgICB1bml0TWFuYWdlbWVudFBhbmVsLmlzT3BlbiwgXG4gICAgICAgIGJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsLmlzT3BlbixcbiAgICAgICAgYnVpbGRQYW5lbFN0YXRlLmlzT3BlbixcbiAgICAgICAgYXNzaWdubWVudFBhbmVsU3RhdGUuaXNPcGVuLFxuICAgICAgICBjaXZQYW5lbFN0YXRlLmlzT3BlbixcbiAgICAgICAgYWxsQnVpbGRpbmdzUGFuZWwuaXNPcGVuLFxuICAgICAgICBjbG9zZUFsbFBhbmVsc1xuICAgIF0pO1xuXG4gICAgY29uc3QgcmVuZGVyQ29udGVudCA9ICgpID0+IHtcbiAgICAgICAgc3dpdGNoIChnYW1lU3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZVN0YXR1cy5NRU5VOlxuICAgICAgICAgICAgICAgIHJldHVybiA8U3RhcnRTY3JlZW4gb25OZXdHYW1lPXtoYW5kbGVTdGFydE5ld0dhbWV9IG9uUmVzdW1lR2FtZT17aGFuZGxlUmVzdW1lR2FtZX0gc2F2ZWRHYW1lcz17YWxsU2F2ZXN9IG9uRGVsZXRlR2FtZT17aGFuZGxlRGVsZXRlR2FtZX0gLz47XG4gICAgICAgICAgICBjYXNlIEdhbWVTdGF0dXMuTE9BRElORzpcbiAgICAgICAgICAgICAgICByZXR1cm4gPExvYWRpbmdTY3JlZW4gLz47XG4gICAgICAgICAgICBjYXNlIEdhbWVTdGF0dXMuUExBWUlORzpcbiAgICAgICAgICAgICAgICBpZiAoIWNpdmlsaXphdGlvbikgcmV0dXJuIDxMb2FkaW5nU2NyZWVuIC8+O1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8R2FtZVVJXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2l2aWxpemF0aW9uPXtjaXZpbGl6YXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VzPXtyZXNvdXJjZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pdHM9e3VuaXRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5ncz17YnVpbGRpbmdzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVsYXRpb249e3BvcHVsYXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEFnZT17Y3VycmVudEFnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lTG9nPXtnYW1lTG9nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFdmVudD17Y3VycmVudEV2ZW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRXZlbnRDaG9pY2U9e2hhbmRsZUV2ZW50Q2hvaWNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlRGVsdGFzPXtyZXNvdXJjZURlbHRhc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpdml0eVN0YXR1cz17YWN0aXZpdHlTdGF0dXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pdExpc3Q9e1VOSVRfSU5GT31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZGluZ0xpc3Q9e0JVSUxESU5HU19JTkZPfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlblVuaXRQYW5lbD17KHR5cGUsIHJlY3QpID0+IHsgY2xvc2VBbGxQYW5lbHMoKTsgc2V0VW5pdE1hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogdHJ1ZSwgdHlwZSwgYW5jaG9yUmVjdDogcmVjdCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5CdWlsZGluZ1BhbmVsPXtoYW5kbGVPcGVuQnVpbGRpbmdQYW5lbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5BbGxCdWlsZGluZ3NQYW5lbD17KHJlY3QpID0+IHsgY2xvc2VBbGxQYW5lbHMoKTsgc2V0QWxsQnVpbGRpbmdzUGFuZWwoeyBpc09wZW46IHRydWUsIGFuY2hvclJlY3Q6IHJlY3QgfSk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyQWN0aW9uPXtwbGF5ZXJBY3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtUGxhY2VtZW50PXtoYW5kbGVDb25maXJtUGxhY2VtZW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsUGxheWVyQWN0aW9uPXtoYW5kbGVDYW5jZWxQbGF5ZXJBY3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25CdWlsZGluZ0NsaWNrPXsoYnVpbGRpbmcsIHJlY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VBbGxQYW5lbHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IE9iamVjdC5rZXlzKGJ1aWxkaW5ncykuZmluZChrZXkgPT4gYnVpbGRpbmdzW2tleSBhcyBCdWlsZGluZ1R5cGVdLnNvbWUoYiA9PiBiLmlkID09PSBidWlsZGluZy5pZCkpIGFzIEJ1aWxkaW5nVHlwZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodHlwZSkgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IHRydWUsIHR5cGUsIGluc3RhbmNlSWQ6IGJ1aWxkaW5nLmlkLCBhbmNob3JSZWN0OiByZWN0IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwRGltZW5zaW9ucz17TUFQX0RJTUVOU0lPTlN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlVGFza3M9e2FjdGl2ZVRhc2tzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRXhpdEdhbWU9e2hhbmRsZUV4aXRHYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkNpdlBhbmVsPXsocmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRDaXZQYW5lbFN0YXRlKHsgaXNPcGVuOiB0cnVlLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlTm9kZXM9e3Jlc291cmNlTm9kZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuQXNzaWdubWVudFBhbmVsPXsobm9kZUlkLCByZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiB0cnVlLCB0YXJnZXRJZDogbm9kZUlkLCB0YXJnZXRUeXBlOiAncmVzb3VyY2UnLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkNvbnN0cnVjdGlvblBhbmVsPXsoY29uc3RydWN0aW9uSWQsIHJlY3QpID0+IHsgY2xvc2VBbGxQYW5lbHMoKTsgc2V0QXNzaWdubWVudFBhbmVsU3RhdGUoeyBpc09wZW46IHRydWUsIHRhcmdldElkOiBjb25zdHJ1Y3Rpb25JZCwgdGFyZ2V0VHlwZTogJ2NvbnN0cnVjdGlvbicsIGFuY2hvclJlY3Q6IHJlY3QgfSk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2F0aGVySW5mbz17R0FUSEVSX0lORk99XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1aWxkUGFuZWwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPcGVuPXtidWlsZFBhbmVsU3RhdGUuaXNPcGVufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldEJ1aWxkUGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIHZpbGxhZ2VySWQ6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TdGFydFBsYWNlbWVudD17aGFuZGxlU3RhcnRQbGFjZW1lbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VzPXtyZXNvdXJjZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdDb3VudHM9e2J1aWxkaW5nQ291bnRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nTGlzdD17QlVJTERJTkdTX0lORk99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yUmVjdD17YnVpbGRQYW5lbFN0YXRlLmFuY2hvclJlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFVuaXRNYW5hZ2VtZW50UGFuZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW49e3VuaXRNYW5hZ2VtZW50UGFuZWwuaXNPcGVufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldFVuaXRNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9e3VuaXRNYW5hZ2VtZW50UGFuZWwudHlwZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bml0cz17dW5pdHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25VcGRhdGVVbml0PXtoYW5kbGVVcGRhdGVVbml0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRGlzbWlzc1VuaXQ9e2hhbmRsZURpc21pc3NTcGVjaWZpY1VuaXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Jbml0aWF0ZUJ1aWxkPXsodmlsbGFnZXJJZCwgcmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBoYW5kbGVJbml0aWF0ZUJ1aWxkKHZpbGxhZ2VySWQsIHJlY3QpOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldFZpbGxhZ2VyVGFza0RldGFpbHM9e2dldFZpbGxhZ2VyVGFza0RldGFpbHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yUmVjdD17dW5pdE1hbmFnZW1lbnRQYW5lbC5hbmNob3JSZWN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdWlsZGluZ01hbmFnZW1lbnRQYW5lbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT3Blbj17YnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwuaXNPcGVufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYW5lbFN0YXRlPXtidWlsZGluZ01hbmFnZW1lbnRQYW5lbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZGluZ3M9e2J1aWxkaW5nc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZGluZ0xpc3Q9e0JVSUxESU5HU19JTkZPfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlQnVpbGRpbmc9e2hhbmRsZVVwZGF0ZUJ1aWxkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRGVtb2xpc2hCdWlsZGluZz17aGFuZGxlRGVtb2xpc2hCdWlsZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblRyYWluVW5pdHM9e2hhbmRsZVRyYWluVW5pdHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25UcmFpblZpbGxhZ2Vycz17aGFuZGxlVHJhaW5WaWxsYWdlcnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VzPXtyZXNvdXJjZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGlvbj17cG9wdWxhdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bml0TGlzdD17VU5JVF9JTkZPfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQWR2YW5jZUFnZT17aGFuZGxlQWR2YW5jZUFnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVUYXNrcz17YWN0aXZlVGFza3N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yUmVjdD17YnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwuYW5jaG9yUmVjdH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UmVzb3VyY2VBc3NpZ25tZW50UGFuZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW49e2Fzc2lnbm1lbnRQYW5lbFN0YXRlLmlzT3Blbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIHRhcmdldElkOiBudWxsLCB0YXJnZXRUeXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbm1lbnRUYXJnZXQ9e2Fzc2lnbm1lbnRUYXJnZXQgfHwgbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGxlVmlsbGFnZXJDb3VudD17aWRsZVZpbGxhZ2VyQ291bnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Bc3NpZ25WaWxsYWdlcnM9e2hhbmRsZUFzc2lnblZpbGxhZ2Vyc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblJlY2FsbFZpbGxhZ2Vycz17aGFuZGxlUmVjYWxsVmlsbGFnZXJzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhdGhlckluZm89e0dBVEhFUl9JTkZPfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nTGlzdD17QlVJTERJTkdTX0lORk99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yUmVjdD17YXNzaWdubWVudFBhbmVsU3RhdGUuYW5jaG9yUmVjdH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2l2aWxpemF0aW9uUGFuZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW49e2NpdlBhbmVsU3RhdGUuaXNPcGVufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldENpdlBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpdmlsaXphdGlvbj17Y2l2aWxpemF0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclJlY3Q9e2NpdlBhbmVsU3RhdGUuYW5jaG9yUmVjdH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QWxsQnVpbGRpbmdzUGFuZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW49e2FsbEJ1aWxkaW5nc1BhbmVsLmlzT3Blbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRBbGxCdWlsZGluZ3NQYW5lbCh7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdMaXN0PXtCVUlMRElOR1NfSU5GT31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZGluZ0NvdW50cz17YnVpbGRpbmdDb3VudHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlVGFza3M9e2FjdGl2ZVRhc2tzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkJ1aWxkaW5nUGFuZWw9e2hhbmRsZU9wZW5CdWlsZGluZ1BhbmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclJlY3Q9e2FsbEJ1aWxkaW5nc1BhbmVsLmFuY2hvclJlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gPFN0YXJ0U2NyZWVuIG9uTmV3R2FtZT17aGFuZGxlU3RhcnROZXdHYW1lfSBvblJlc3VtZUdhbWU9e2hhbmRsZVJlc3VtZUdhbWV9IHNhdmVkR2FtZXM9e2FsbFNhdmVzfSBvbkRlbGV0ZUdhbWU9e2hhbmRsZURlbGV0ZUdhbWV9IC8+O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLXN0b25lLWRhcmsgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC00XCI+XG4gICAgICAgICAgICB7Z2FtZVN0YXRlID09PSBHYW1lU3RhdHVzLlBMQVlJTkcgJiYgKFxuICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZVVubGltaXRlZFJlc291cmNlc31cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgYm90dG9tLTQgbGVmdC00IHotWzEwMV0gYmctYnJhbmQtZ29sZCB0ZXh0LXN0b25lLWRhcmsgZm9udC1ib2xkIHB5LTEgcHgtMyByb3VuZGVkLWZ1bGwgdGV4dC14cyBzaGFkb3ctbGcgaG92ZXI6c2NhbGUtMTA1IHRyYW5zaXRpb24tdHJhbnNmb3JtXCJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlRvZ2dsZSB1bmxpbWl0ZWQgcmVzb3VyY2VzIHRlc3QgbW9kZVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBUZXN0IE1vZGU6IHt1bmxpbWl0ZWRSZXNvdXJjZXMgPyAnT04nIDogJ09GRid9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPE5vdGlmaWNhdGlvbk1hbmFnZXIgbm90aWZpY2F0aW9ucz17bm90aWZpY2F0aW9uc30gb25SZW1vdmVOb3RpZmljYXRpb249e3JlbW92ZU5vdGlmaWNhdGlvbn0gLz5cbiAgICAgICAgICAgIDxtYWluIGNsYXNzTmFtZT1cInctZnVsbCBtYXgtdy03eGwgbXgtYXV0b1wiPlxuICAgICAgICAgICAgICAgIHtyZW5kZXJDb250ZW50KCl9XG4gICAgICAgICAgICA8L21haW4+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBHYW1lUGFnZTtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJHYW1lU3RhdHVzIiwiZ2V0UHJlZGVmaW5lZENpdmlsaXphdGlvbiIsImdldFByZWRlZmluZWRHYW1lRXZlbnQiLCJnZXRQcmVkZWZpbmVkQWdlIiwic2F2ZUdhbWVTdGF0ZSIsImxvYWRHYW1lU3RhdGUiLCJnZXRBbGxTYXZlTmFtZXMiLCJkZWxldGVHYW1lU3RhdGUiLCJnZXRSYW5kb21OYW1lcyIsIkdhbWVVSSIsIlN0YXJ0U2NyZWVuIiwiTG9hZGluZ1NjcmVlbiIsIkJ1aWxkUGFuZWwiLCJOb3RpZmljYXRpb25NYW5hZ2VyIiwiVW5pdE1hbmFnZW1lbnRQYW5lbCIsIkJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsIiwiUmVzb3VyY2VBc3NpZ25tZW50UGFuZWwiLCJDaXZpbGl6YXRpb25QYW5lbCIsIkFsbEJ1aWxkaW5nc1BhbmVsIiwiQlVJTERJTkdTX0lORk8iLCJpZCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsImNvc3QiLCJ3b29kIiwiaXNVbmlxdWUiLCJidWlsZFRpbWUiLCJzdG9uZSIsImdvbGQiLCJVTklUX0lORk8iLCJmb29kIiwicmVxdWlyZWRCdWlsZGluZyIsInRyYWluVGltZSIsIkdBVEhFUl9JTkZPIiwicmF0ZSIsImluaXRpYWxCdWlsZGluZ3NTdGF0ZSIsImhvdXNlcyIsImJhcnJhY2tzIiwiYXJjaGVyeVJhbmdlIiwic3RhYmxlIiwic2llZ2VXb3Jrc2hvcCIsImJsYWNrc21pdGgiLCJ3YXRjaFRvd2VyIiwidG93bkNlbnRlciIsIk1BUF9ESU1FTlNJT05TIiwid2lkdGgiLCJoZWlnaHQiLCJHYW1lUGFnZSIsImJ1aWxkaW5ncyIsImdhbWVTdGF0ZSIsInNldEdhbWVTdGF0ZSIsIk1FTlUiLCJjaXZpbGl6YXRpb24iLCJzZXRDaXZpbGl6YXRpb24iLCJyZXNvdXJjZXMiLCJzZXRSZXNvdXJjZXMiLCJ1bml0cyIsInNldFVuaXRzIiwidmlsbGFnZXJzIiwibWlsaXRhcnkiLCJzZXRCdWlsZGluZ3MiLCJjdXJyZW50QWdlIiwic2V0Q3VycmVudEFnZSIsImdhbWVMb2ciLCJzZXRHYW1lTG9nIiwiY3VycmVudEV2ZW50Iiwic2V0Q3VycmVudEV2ZW50IiwicmVzb3VyY2VEZWx0YXMiLCJzZXRSZXNvdXJjZURlbHRhcyIsImFjdGl2aXR5U3RhdHVzIiwic2V0QWN0aXZpdHlTdGF0dXMiLCJub3RpZmljYXRpb25zIiwic2V0Tm90aWZpY2F0aW9ucyIsInVubGltaXRlZFJlc291cmNlcyIsInNldFVubGltaXRlZFJlc291cmNlcyIsImFsbFNhdmVzIiwic2V0QWxsU2F2ZXMiLCJjdXJyZW50U2F2ZU5hbWUiLCJzZXRDdXJyZW50U2F2ZU5hbWUiLCJwbGF5ZXJBY3Rpb24iLCJzZXRQbGF5ZXJBY3Rpb24iLCJhY3RpdmVUYXNrcyIsInNldEFjdGl2ZVRhc2tzIiwicmVzb3VyY2VOb2RlcyIsInNldFJlc291cmNlTm9kZXMiLCJidWlsZFBhbmVsU3RhdGUiLCJzZXRCdWlsZFBhbmVsU3RhdGUiLCJpc09wZW4iLCJ2aWxsYWdlcklkIiwiYW5jaG9yUmVjdCIsInVuaXRNYW5hZ2VtZW50UGFuZWwiLCJzZXRVbml0TWFuYWdlbWVudFBhbmVsIiwidHlwZSIsImJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsIiwic2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwiLCJhbGxCdWlsZGluZ3NQYW5lbCIsInNldEFsbEJ1aWxkaW5nc1BhbmVsIiwiYXNzaWdubWVudFBhbmVsU3RhdGUiLCJzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZSIsInRhcmdldElkIiwidGFyZ2V0VHlwZSIsImNpdlBhbmVsU3RhdGUiLCJzZXRDaXZQYW5lbFN0YXRlIiwiZGVsdGFUaW1lb3V0UmVmIiwiZXZlbnRUaW1lclJlZiIsInBvcHVsYXRpb24iLCJjdXJyZW50IiwibGVuZ3RoIiwiY2FwYWNpdHkiLCJmZXRjaFNhdmVzIiwibmFtZXMiLCJQTEFZSU5HIiwiZnVsbFN0YXRlIiwiYWRkTm90aWZpY2F0aW9uIiwibWVzc2FnZSIsIk1hdGgiLCJEYXRlIiwibm93IiwicmFuZG9tIiwicHJldiIsInJlbW92ZU5vdGlmaWNhdGlvbiIsImZpbHRlciIsIm4iLCJhZGRUb0xvZyIsImljb24iLCJzbGljZSIsInVwZGF0ZVJlc291cmNlcyIsImRlbHRhcyIsIm5ld1Jlc291cmNlcyIsImtleSIsInJlc291cmNlS2V5IiwibWF4Iiwid2luZG93IiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsIm5ld0RlbHRhcyIsImhhbmRsZVRhc2tDb21wbGV0aW9uIiwidGFzayIsImJ1aWxkaW5nVHlwZSIsInZpbGxhZ2VySWRzIiwicG9zaXRpb24iLCJwYXlsb2FkIiwiYnVpbGRpbmdJbmZvIiwiZmluZCIsImIiLCJuZXdCdWlsZGluZyIsInAiLCJjb3VudCIsIm5ld1ZpbGxhZ2VyTmFtZXMiLCJuZXdWaWxsYWdlcnMiLCJtYXAiLCJ1bml0VHlwZSIsInVuaXRJbmZvIiwidSIsIm5ld1VuaXROYW1lcyIsIm5ld1VuaXRzIiwidGl0bGUiLCJhZ2VSZXN1bHQiLCJuZXh0QWdlTmFtZSIsImdhbWVMb29wIiwic2V0SW50ZXJ2YWwiLCJjb21wbGV0ZWRUYXNrcyIsInJlc291cmNlRGVsdGFzVGhpc1RpY2siLCJzdGlsbEFjdGl2ZVRhc2tzIiwic3RhcnRUaW1lIiwiZHVyYXRpb24iLCJwdXNoIiwibm9kZSIsInJlc291cmNlTm9kZUlkIiwidmlsbGFnZXJDb3VudCIsImdhdGhlclJhdGVQZXJWaWxsYWdlclBlclNlY29uZCIsImFtb3VudEdhdGhlcmVkVGhpc1RpY2siLCJCb29sZWFuIiwiT2JqZWN0Iiwia2V5cyIsInByZXZSZXMiLCJyZXNLZXkiLCJwcmV2Tm9kZXMiLCJuZXdOb2RlcyIsImFtb3VudFRvRGVjcmVtZW50IiwibmV3QW1vdW50IiwiYW1vdW50IiwiYXNzaWduZWRWaWxsYWdlcnMiLCJmbG9vciIsImdhdGhlclRhc2siLCJ0IiwiZmluYWxBY3RpdmVUYXNrcyIsInNvbWUiLCJjdCIsImZvckVhY2giLCJjbGVhckludGVydmFsIiwiaGFuZGxlTmV3RXZlbnQiLCJtYWpvclRhc2tJblByb2dyZXNzIiwiZXZlbnQiLCJzY2hlZHVsZU5leHRFdmVudCIsIm5leHRFdmVudFRpbWUiLCJnZW5lcmF0ZVJlc291cmNlTm9kZXMiLCJleGlzdGluZ1Bvc2l0aW9ucyIsIm5vZGVzIiwidHlwZXMiLCJudW1Ob2RlcyIsImkiLCJwb3MiLCJ4IiwieSIsImhhcyIsImFkZCIsImhhbmRsZVN0YXJ0TmV3R2FtZSIsInNhdmVOYW1lIiwiaW5jbHVkZXMiLCJMT0FESU5HIiwiY2l2IiwiaW5pdGlhbFZpbGxhZ2VyTmFtZXMiLCJpbml0aWFsVmlsbGFnZXJzIiwiaW5pdGlhbFRDTmFtZSIsInRjUG9zaXRpb24iLCJpbml0aWFsVEMiLCJTZXQiLCJnZXRWaWxsYWdlclRhc2tEZXRhaWxzIiwiaXNWaWxsYWdlckJ1c3kiLCJoYW5kbGVSZXN1bWVHYW1lIiwic2F2ZWRTdGF0ZSIsInNvbGRpZXJzIiwibWlncmF0ZWRNaWxpdGFyeSIsInMiLCJmaW5hbEJ1aWxkaW5ncyIsImNvbnN0cnVjdGlvblRhc2tzIiwib2NjdXBpZWRDZWxscyIsInZhbHVlcyIsImZsYXQiLCJ0Y1BvcyIsInRjTmFtZSIsImZpcnN0QnVpbGRpbmciLCJtaWdyYXRlZCIsImVudHJpZXMiLCJpbnN0YW5jZXMiLCJpbnN0Iiwibm9kZXNUb1NldCIsIm1pZ3JhdGVkVGFza3MiLCJoYW5kbGVFdmVudENob2ljZSIsImNob2ljZSIsInRleHQiLCJtaXNzaW5nUmVzIiwiam9pbiIsIm5lZ2F0aXZlQ29zdCIsImlzU3VjY2VzcyIsInN1Y2Nlc3NDaGFuY2UiLCJ1bmRlZmluZWQiLCJlZmZlY3RzIiwic3VjY2Vzc0VmZmVjdHMiLCJmYWlsdXJlRWZmZWN0cyIsIkFycmF5IiwiaXNBcnJheSIsIm1pbiIsInJlc291cmNlIiwibG9nIiwiaGFuZGxlSW5pdGlhdGVCdWlsZCIsInJlY3QiLCJoYW5kbGVTdGFydFBsYWNlbWVudCIsImJ1aWxkaW5nSWQiLCJpc0FscmVhZHlDb25zdHJ1Y3RpbmciLCJtaXNzaW5nIiwicmVzIiwibW9kZSIsImhhbmRsZUNvbmZpcm1QbGFjZW1lbnQiLCJidWlsZGVyIiwidiIsInRhc2tJZCIsInRhc2tQYXlsb2FkIiwibmV3VGFzayIsImhhbmRsZUNhbmNlbFBsYXllckFjdGlvbiIsImhhbmRsZURlbW9saXNoQnVpbGRpbmciLCJidWlsZGluZ0luc3RhbmNlIiwicmVmdW5kIiwicmVmdW5kTWVzc2FnZVBhcnRzIiwiaGFuZGxlVXBkYXRlQnVpbGRpbmciLCJoYW5kbGVUcmFpblZpbGxhZ2VycyIsInZpbGxhZ2VyQ29zdCIsInRvdGFsQ29zdCIsImhhbmRsZVRyYWluVW5pdHMiLCJ0cmFpbmluZ0J1aWxkaW5nIiwiaGFuZGxlRGlzbWlzc1NwZWNpZmljVW5pdCIsInVuaXQiLCJ1bml0VHlwZU5hbWUiLCJoYW5kbGVVcGRhdGVVbml0IiwidXBkYXRlZFVuaXQiLCJoYW5kbGVBc3NpZ25WaWxsYWdlcnNUb05vZGUiLCJub2RlSWQiLCJpZGxlVmlsbGFnZXJzIiwiY2FwcGVkQ291bnQiLCJ2aWxsYWdlcnNUb0Fzc2lnbiIsInZpbGxhZ2VySWRzVG9Bc3NpZ24iLCJ0YXJnZXROb2RlIiwiZXhpc3RpbmdUYXNrIiwiaGFuZGxlUmVjYWxsVmlsbGFnZXJzIiwidmlsbGFnZXJzVG9SZWNhbGwiLCJ0YXNrSW5kZXgiLCJmaW5kSW5kZXgiLCJyZW1haW5pbmdWaWxsYWdlcnMiLCJfIiwidG90YWxXb3JrIiwib2xkV29ya2VyQ291bnQiLCJ0aW1lRWxhcHNlZCIsIndvcmtEb25lIiwid29ya1JlbWFpbmluZyIsIm5ld1dvcmtlckNvdW50IiwibmV3UmVtYWluaW5nRHVyYXRpb24iLCJoYW5kbGVBc3NpZ25WaWxsYWdlcnNUb0NvbnN0cnVjdGlvbiIsImNvbnN0cnVjdGlvbklkIiwiYmFzZUR1cmF0aW9uIiwidXBkYXRlZFZpbGxhZ2VySWRzIiwiaGFuZGxlQXNzaWduVmlsbGFnZXJzIiwiaGFuZGxlQWR2YW5jZUFnZSIsImhhbmRsZUV4aXRHYW1lIiwiaGFuZGxlRGVsZXRlR2FtZSIsImhhbmRsZVRvZ2dsZVVubGltaXRlZFJlc291cmNlcyIsIm5ld01vZGUiLCJidWlsZGluZ0NvdW50cyIsInJlZHVjZSIsImFjYyIsImlkbGVWaWxsYWdlckNvdW50IiwiYXNzaWdubWVudFRhcmdldCIsImNsb3NlQWxsUGFuZWxzIiwiaW5zdGFuY2VJZCIsImhhbmRsZU9wZW5CdWlsZGluZ1BhbmVsIiwiaGFuZGxlQ2xpY2tPdXRzaWRlIiwiaXNBbnlQYW5lbE9wZW4iLCJ0YXJnZXQiLCJjbG9zZXN0IiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbmRlckNvbnRlbnQiLCJvbk5ld0dhbWUiLCJvblJlc3VtZUdhbWUiLCJzYXZlZEdhbWVzIiwib25EZWxldGVHYW1lIiwib25FdmVudENob2ljZSIsInVuaXRMaXN0IiwiYnVpbGRpbmdMaXN0Iiwib25PcGVuVW5pdFBhbmVsIiwib25PcGVuQnVpbGRpbmdQYW5lbCIsIm9uT3BlbkFsbEJ1aWxkaW5nc1BhbmVsIiwib25Db25maXJtUGxhY2VtZW50Iiwib25DYW5jZWxQbGF5ZXJBY3Rpb24iLCJvbkJ1aWxkaW5nQ2xpY2siLCJidWlsZGluZyIsIm1hcERpbWVuc2lvbnMiLCJvbkV4aXRHYW1lIiwib25PcGVuQ2l2UGFuZWwiLCJvbk9wZW5Bc3NpZ25tZW50UGFuZWwiLCJvbk9wZW5Db25zdHJ1Y3Rpb25QYW5lbCIsImdhdGhlckluZm8iLCJvbkNsb3NlIiwib25TdGFydFBsYWNlbWVudCIsIm9uVXBkYXRlVW5pdCIsIm9uRGlzbWlzc1VuaXQiLCJvbkluaXRpYXRlQnVpbGQiLCJwYW5lbFN0YXRlIiwib25VcGRhdGVCdWlsZGluZyIsIm9uRGVtb2xpc2hCdWlsZGluZyIsIm9uVHJhaW5Vbml0cyIsIm9uVHJhaW5WaWxsYWdlcnMiLCJvbkFkdmFuY2VBZ2UiLCJvbkFzc2lnblZpbGxhZ2VycyIsIm9uUmVjYWxsVmlsbGFnZXJzIiwiZGl2IiwiY2xhc3NOYW1lIiwiYnV0dG9uIiwib25DbGljayIsImFyaWEtbGFiZWwiLCJvblJlbW92ZU5vdGlmaWNhdGlvbiIsIm1haW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./types.ts":
/*!******************!*\
  !*** ./types.ts ***!
  \******************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GameStatus: function() { return /* binding */ GameStatus; }\n/* harmony export */ });\nvar GameStatus;\n(function(GameStatus) {\n    GameStatus[GameStatus[\"MENU\"] = 0] = \"MENU\";\n    GameStatus[GameStatus[\"LOADING\"] = 1] = \"LOADING\";\n    GameStatus[GameStatus[\"PLAYING\"] = 2] = \"PLAYING\";\n    GameStatus[GameStatus[\"GAME_OVER\"] = 3] = \"GAME_OVER\";\n})(GameStatus || (GameStatus = {}));\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3R5cGVzLnRzIiwibWFwcGluZ3MiOiI7Ozs7O1VBRVlBOzs7OztHQUFBQSxlQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi90eXBlcy50cz81NjUyIl0sInNvdXJjZXNDb250ZW50IjpbIlxuXG5leHBvcnQgZW51bSBHYW1lU3RhdHVzIHtcbiAgICBNRU5VLFxuICAgIExPQURJTkcsXG4gICAgUExBWUlORyxcbiAgICBHQU1FX09WRVIsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2l2aWxpemF0aW9uIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgbG9yZTogc3RyaW5nO1xuICAgIGJvbnVzOiBzdHJpbmc7XG4gICAgdW5pcXVlVW5pdDoge1xuICAgICAgICBuYW1lOnN0cmluZztcbiAgICAgICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgICB9O1xuICAgIGJhbm5lclVybDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlc291cmNlcyB7XG4gICAgZm9vZDogbnVtYmVyO1xuICAgIHdvb2Q6IG51bWJlcjtcbiAgICBnb2xkOiBudW1iZXI7XG4gICAgc3RvbmU6IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgUmVzb3VyY2VEZWx0YXMgPSBQYXJ0aWFsPFJlc291cmNlcz47XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmlsbGFnZXIge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBNaWxpdGFyeVVuaXRUeXBlID0gJ3N3b3Jkc21hbicgfCAnYXJjaGVyJyB8ICdrbmlnaHQnIHwgJ2NhdGFwdWx0JztcblxuZXhwb3J0IGludGVyZmFjZSBNaWxpdGFyeVVuaXQge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgdW5pdFR5cGU6IE1pbGl0YXJ5VW5pdFR5cGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVW5pdHMge1xuICAgIHZpbGxhZ2VyczogVmlsbGFnZXJbXTtcbiAgICBtaWxpdGFyeTogTWlsaXRhcnlVbml0W107XG59XG5cbmV4cG9ydCB0eXBlIEJ1aWxkaW5nVHlwZSA9ICdob3VzZXMnIHwgJ2JhcnJhY2tzJyB8ICdhcmNoZXJ5UmFuZ2UnIHwgJ3N0YWJsZScgfCAnc2llZ2VXb3Jrc2hvcCcgfCAnYmxhY2tzbWl0aCcgfCAnd2F0Y2hUb3dlcicgfCAndG93bkNlbnRlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnVpbGRpbmdJbnN0YW5jZSB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgcG9zaXRpb246IHsgeDogbnVtYmVyOyB5OiBudW1iZXI7IH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnVpbGRpbmdzIHtcbiAgICBob3VzZXM6IEJ1aWxkaW5nSW5zdGFuY2VbXTtcbiAgICBiYXJyYWNrczogQnVpbGRpbmdJbnN0YW5jZVtdO1xuICAgIGFyY2hlcnlSYW5nZTogQnVpbGRpbmdJbnN0YW5jZVtdO1xuICAgIHN0YWJsZTogQnVpbGRpbmdJbnN0YW5jZVtdO1xuICAgIHNpZWdlV29ya3Nob3A6IEJ1aWxkaW5nSW5zdGFuY2VbXTtcbiAgICBibGFja3NtaXRoOiBCdWlsZGluZ0luc3RhbmNlW107XG4gICAgd2F0Y2hUb3dlcjogQnVpbGRpbmdJbnN0YW5jZVtdO1xuICAgIHRvd25DZW50ZXI6IEJ1aWxkaW5nSW5zdGFuY2VbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHYW1lU3RhdGVQYXlsb2FkIHtcbiAgICBjaXY6IENpdmlsaXphdGlvbjtcbiAgICBhZ2U6IHN0cmluZztcbiAgICByZXM6IFJlc291cmNlcztcbiAgICB1bml0czoge1xuICAgICAgICB2aWxsYWdlcnM6IG51bWJlcjtcbiAgICAgICAgc3dvcmRzbWVuOiBudW1iZXI7XG4gICAgICAgIGFyY2hlcnM6IG51bWJlcjtcbiAgICAgICAga25pZ2h0czogbnVtYmVyO1xuICAgICAgICBjYXRhcHVsdHM6IG51bWJlcjtcbiAgICB9O1xuICAgIGJ1aWxkaW5nczogeyBba2V5IGluIEJ1aWxkaW5nVHlwZV0/OiBudW1iZXIgfTtcbn1cblxuZXhwb3J0IHR5cGUgQnVpbGRpbmdDb3N0cyA9IHsgW2tleSBpbiBrZXlvZiBSZXNvdXJjZXNdPzogbnVtYmVyIH07XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnRFZmZlY3Qge1xuICAgIHJlc291cmNlOiBrZXlvZiBSZXNvdXJjZXMgfCAnbm9uZSc7XG4gICAgYW1vdW50OiBudW1iZXIgfCBbbnVtYmVyLCBudW1iZXJdOyAvLyBlLmcuLCA1MCBvciBbNTAsIDEwMF1cbiAgICBsb2c6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHYW1lRXZlbnRDaG9pY2Uge1xuICAgIHRleHQ6IHN0cmluZztcbiAgICBjb3N0PzogQnVpbGRpbmdDb3N0cztcbiAgICBzdWNjZXNzQ2hhbmNlPzogbnVtYmVyOyAvLyAwLTEsIHVuZGVmaW5lZCBtZWFucyAxMDAlXG4gICAgc3VjY2Vzc0VmZmVjdHM6IEV2ZW50RWZmZWN0O1xuICAgIGZhaWx1cmVFZmZlY3RzPzogRXZlbnRFZmZlY3Q7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2FtZUV2ZW50IHtcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgY2hvaWNlczogR2FtZUV2ZW50Q2hvaWNlW107XG59XG5cbmV4cG9ydCB0eXBlIExvZ0ljb25UeXBlID0ga2V5b2YgUmVzb3VyY2VzIHwgJ3ZpbGxhZ2VyJyB8IE1pbGl0YXJ5VW5pdFR5cGUgfCAnYWdlJyB8ICdldmVudCcgfCAnc3lzdGVtJyB8IEJ1aWxkaW5nVHlwZTtcblxuZXhwb3J0IGludGVyZmFjZSBHYW1lTG9nRW50cnkge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIGljb246IExvZ0ljb25UeXBlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJ1aWxkaW5nSW5mbyB7XG4gICAgaWQ6IEJ1aWxkaW5nVHlwZTtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgICBjb3N0OiBCdWlsZGluZ0Nvc3RzO1xuICAgIGlzVW5pcXVlOiBib29sZWFuO1xuICAgIGJ1aWxkVGltZTogbnVtYmVyOyAvLyBpbiBzZWNvbmRzXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVW5pdEluZm8ge1xuICAgIGlkOiBNaWxpdGFyeVVuaXRUeXBlO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIGNvc3Q6IEJ1aWxkaW5nQ29zdHM7XG4gICAgcmVxdWlyZWRCdWlsZGluZzogQnVpbGRpbmdUeXBlO1xuICAgIHRyYWluVGltZTogbnVtYmVyOyAvLyBpbiBzZWNvbmRzIHBlciB1bml0XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVUlOb3RpZmljYXRpb24ge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBSZXNvdXJjZU5vZGVUeXBlID0gJ2Zvb2QnIHwgJ3dvb2QnIHwgJ2dvbGQnIHwgJ3N0b25lJztcblxuZXhwb3J0IGludGVyZmFjZSBSZXNvdXJjZU5vZGUge1xuICBpZDogc3RyaW5nO1xuICB0eXBlOiBSZXNvdXJjZU5vZGVUeXBlO1xuICBwb3NpdGlvbjogeyB4OiBudW1iZXI7IHk6IG51bWJlcjsgfTtcbiAgYW1vdW50OiBudW1iZXI7XG4gIGFzc2lnbmVkVmlsbGFnZXJzOiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IHR5cGUgVGFza1R5cGUgPSAnZ2F0aGVyJyB8ICdidWlsZCcgfCAndHJhaW5fdmlsbGFnZXInIHwgJ3RyYWluX21pbGl0YXJ5JyB8ICdhZHZhbmNlX2FnZSc7XG5cbmV4cG9ydCB0eXBlIFBsYXllckFjdGlvblN0YXRlID0ge1xuICAgIG1vZGU6ICdidWlsZCc7XG4gICAgYnVpbGRpbmdUeXBlOiBCdWlsZGluZ1R5cGU7XG4gICAgdmlsbGFnZXJJZDogc3RyaW5nO1xufSB8IG51bGw7XG5cblxuZXhwb3J0IGludGVyZmFjZSBHYW1lVGFzayB7XG4gICAgaWQ6IHN0cmluZztcbiAgICB0eXBlOiBUYXNrVHlwZTtcbiAgICBzdGFydFRpbWU6IG51bWJlcjtcbiAgICBkdXJhdGlvbjogbnVtYmVyOyAvLyBpbiBtaWxsaXNlY29uZHNcbiAgICBwYXlsb2FkPzoge1xuICAgICAgICAvLyBTaGFyZWRcbiAgICAgICAgYnVpbGRpbmdJZD86IHN0cmluZzsgLy8gSUQgb2YgdGhlIGJ1aWxkaW5nIHBlcmZvcm1pbmcgdGhlIGFjdGlvbiAoZS5nLiBUQyBmb3IgdHJhaW5pbmcpXG4gICAgICAgIHZpbGxhZ2VySWRzPzogc3RyaW5nW107XG4gICAgICAgIGNvdW50PzogbnVtYmVyO1xuICAgICAgICBcbiAgICAgICAgLy8gQnVpbGQgdGFza1xuICAgICAgICBidWlsZGluZ1R5cGU/OiBCdWlsZGluZ1R5cGU7XG4gICAgICAgIHBvc2l0aW9uPzogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9O1xuICAgICAgICBcbiAgICAgICAgLy8gVHJhaW4gbWlsaXRhcnkgdGFza1xuICAgICAgICB1bml0VHlwZT86IE1pbGl0YXJ5VW5pdFR5cGU7XG4gICAgICAgIFxuICAgICAgICAvLyBHYXRoZXIgdGFza1xuICAgICAgICByZXNvdXJjZU5vZGVJZD86IHN0cmluZztcbiAgICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZ1bGxHYW1lU3RhdGUge1xuICAgIGNpdmlsaXphdGlvbjogQ2l2aWxpemF0aW9uO1xuICAgIHJlc291cmNlczogUmVzb3VyY2VzO1xuICAgIHVuaXRzOiBVbml0cztcbiAgICBidWlsZGluZ3M6IEJ1aWxkaW5ncztcbiAgICBjdXJyZW50QWdlOiBzdHJpbmc7XG4gICAgZ2FtZUxvZzogR2FtZUxvZ0VudHJ5W107XG4gICAgYWN0aXZlVGFza3M6IEdhbWVUYXNrW107XG4gICAgcmVzb3VyY2VOb2RlczogUmVzb3VyY2VOb2RlW107XG59XG4iXSwibmFtZXMiOlsiR2FtZVN0YXR1cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./types.ts\n"));

/***/ })

});