"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/types */ \"(app-pages-browser)/./types.ts\");\n/* harmony import */ var _services_geminiService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/services/geminiService */ \"(app-pages-browser)/./services/geminiService.ts\");\n/* harmony import */ var _services_dbService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/services/dbService */ \"(app-pages-browser)/./services/dbService.ts\");\n/* harmony import */ var _services_nameService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/services/nameService */ \"(app-pages-browser)/./services/nameService.ts\");\n/* harmony import */ var _data_itemContent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/data/itemContent */ \"(app-pages-browser)/./data/itemContent.ts\");\n/* harmony import */ var _components_GameUI__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/GameUI */ \"(app-pages-browser)/./components/GameUI.tsx\");\n/* harmony import */ var _components_StartScreen__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/StartScreen */ \"(app-pages-browser)/./components/StartScreen.tsx\");\n/* harmony import */ var _components_LoadingScreen__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/LoadingScreen */ \"(app-pages-browser)/./components/LoadingScreen.tsx\");\n/* harmony import */ var _components_BuildPanel__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/BuildPanel */ \"(app-pages-browser)/./components/BuildPanel.tsx\");\n/* harmony import */ var _components_NotificationManager__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/NotificationManager */ \"(app-pages-browser)/./components/NotificationManager.tsx\");\n/* harmony import */ var _components_UnitManagementPanel__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/components/UnitManagementPanel */ \"(app-pages-browser)/./components/UnitManagementPanel.tsx\");\n/* harmony import */ var _components_BuildingManagementPanel__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/components/BuildingManagementPanel */ \"(app-pages-browser)/./components/BuildingManagementPanel.tsx\");\n/* harmony import */ var _components_ResourceAssignmentPanel__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/components/ResourceAssignmentPanel */ \"(app-pages-browser)/./components/ResourceAssignmentPanel.tsx\");\n/* harmony import */ var _components_CivilizationPanel__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/components/CivilizationPanel */ \"(app-pages-browser)/./components/CivilizationPanel.tsx\");\n/* harmony import */ var _components_AllBuildingsPanel__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/components/AllBuildingsPanel */ \"(app-pages-browser)/./components/AllBuildingsPanel.tsx\");\n/* harmony import */ var _components_InventoryPanel__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @/components/InventoryPanel */ \"(app-pages-browser)/./components/InventoryPanel.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst BUILDINGS_INFO = [\n    {\n        id: \"houses\",\n        name: \"House\",\n        description: \"Increases population capacity by 5.\",\n        cost: {\n            wood: 50\n        },\n        isUnique: false,\n        buildTime: 15,\n        hp: 550\n    },\n    {\n        id: \"barracks\",\n        name: \"Barracks\",\n        description: \"Allows training of Swordsmen.\",\n        cost: {\n            wood: 150,\n            stone: 50\n        },\n        isUnique: true,\n        buildTime: 60,\n        hp: 1200\n    },\n    {\n        id: \"archeryRange\",\n        name: \"Archery Range\",\n        description: \"Allows training of Archers.\",\n        cost: {\n            wood: 175\n        },\n        isUnique: true,\n        buildTime: 60,\n        hp: 1200\n    },\n    {\n        id: \"stable\",\n        name: \"Stables\",\n        description: \"Allows training of Knights.\",\n        cost: {\n            wood: 175,\n            gold: 75\n        },\n        isUnique: true,\n        buildTime: 75,\n        hp: 1200\n    },\n    {\n        id: \"siegeWorkshop\",\n        name: \"Siege Workshop\",\n        description: \"Constructs powerful Catapults.\",\n        cost: {\n            wood: 200,\n            gold: 150\n        },\n        isUnique: true,\n        buildTime: 90,\n        hp: 2100\n    },\n    {\n        id: \"blacksmith\",\n        name: \"Blacksmith\",\n        description: \"Researches infantry and cavalry upgrades.\",\n        cost: {\n            wood: 100,\n            gold: 100\n        },\n        isUnique: true,\n        buildTime: 45,\n        hp: 2100\n    },\n    {\n        id: \"watchTower\",\n        name: \"Watch Tower\",\n        description: \"Provides defense against raids.\",\n        cost: {\n            stone: 125\n        },\n        isUnique: true,\n        buildTime: 45,\n        hp: 1500\n    },\n    {\n        id: \"townCenter\",\n        name: \"Town Center\",\n        description: \"The heart of your settlement.\",\n        cost: {},\n        isUnique: true,\n        buildTime: 0,\n        hp: 2400\n    }\n];\nconst UNIT_INFO = [\n    {\n        id: \"swordsman\",\n        name: \"Swordsman\",\n        description: \"Basic melee infantry.\",\n        cost: {\n            food: 60,\n            gold: 20\n        },\n        requiredBuilding: \"barracks\",\n        trainTime: 22\n    },\n    {\n        id: \"archer\",\n        name: \"Archer\",\n        description: \"Ranged unit effective against infantry.\",\n        cost: {\n            food: 30,\n            wood: 40\n        },\n        requiredBuilding: \"archeryRange\",\n        trainTime: 25\n    },\n    {\n        id: \"knight\",\n        name: \"Knight\",\n        description: \"Fast and powerful cavalry.\",\n        cost: {\n            food: 60,\n            gold: 75\n        },\n        requiredBuilding: \"stable\",\n        trainTime: 30\n    },\n    {\n        id: \"catapult\",\n        name: \"Catapult\",\n        description: \"Siege engine devastating to buildings.\",\n        cost: {\n            wood: 150,\n            gold: 150\n        },\n        requiredBuilding: \"siegeWorkshop\",\n        trainTime: 45\n    }\n];\nconst GATHER_INFO = {\n    food: {\n        rate: 10\n    },\n    wood: {\n        rate: 8\n    },\n    gold: {\n        rate: 5\n    },\n    stone: {\n        rate: 6\n    }\n};\nconst initialBuildingsState = {\n    houses: [],\n    barracks: [],\n    archeryRange: [],\n    stable: [],\n    siegeWorkshop: [],\n    blacksmith: [],\n    watchTower: [],\n    townCenter: []\n};\nconst MAP_DIMENSIONS = {\n    width: 25,\n    height: 18\n};\nconst GamePage = ()=>{\n    var _buildings_townCenter;\n    _s();\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU);\n    const [civilization, setCivilization] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [resources, setResources] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        food: 200,\n        wood: 150,\n        gold: 50,\n        stone: 100\n    });\n    const [units, setUnits] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        villagers: [],\n        military: []\n    });\n    const [buildings, setBuildings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialBuildingsState);\n    const [currentAge, setCurrentAge] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Nomadic Age\");\n    const [gameLog, setGameLog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentEvent, setCurrentEvent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [resourceDeltas, setResourceDeltas] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [activityStatus, setActivityStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Your story begins...\");\n    const [notifications, setNotifications] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [unlimitedResources, setUnlimitedResources] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [allSaves, setAllSaves] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentSaveName, setCurrentSaveName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [playerAction, setPlayerAction] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [activeTasks, setActiveTasks] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [resourceNodes, setResourceNodes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [inventory, setInventory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [activeBuffs, setActiveBuffs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        resourceBoost: []\n    });\n    // Panel States\n    const [buildPanelState, setBuildPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        villagerId: null,\n        anchorRect: null\n    });\n    const [unitManagementPanel, setUnitManagementPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        type: null,\n        anchorRect: null\n    });\n    const [buildingManagementPanel, setBuildingManagementPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        type: null,\n        anchorRect: null\n    });\n    const [allBuildingsPanel, setAllBuildingsPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const [assignmentPanelState, setAssignmentPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        targetId: null,\n        targetType: null,\n        anchorRect: null\n    });\n    const [civPanelState, setCivPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const [inventoryPanelState, setInventoryPanelState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        anchorRect: null\n    });\n    const deltaTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    const eventTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const lastTickRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(Date.now());\n    const animationFrameRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const population = {\n        current: units.villagers.length + units.military.length,\n        capacity: (((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter.length) > 0 ? 20 : 0) + buildings.houses.length * 5\n    };\n    const fetchSaves = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        const names = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.getAllSaveNames)();\n        setAllSaves(names);\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        fetchSaves();\n    }, [\n        fetchSaves\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && civilization && currentSaveName) {\n            const fullState = {\n                civilization,\n                resources,\n                units,\n                buildings,\n                currentAge,\n                gameLog,\n                activeTasks,\n                resourceNodes,\n                inventory,\n                activeBuffs\n            };\n            (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.saveGameState)(currentSaveName, fullState);\n        }\n    }, [\n        civilization,\n        resources,\n        units,\n        buildings,\n        currentAge,\n        gameLog,\n        gameState,\n        currentSaveName,\n        activeTasks,\n        resourceNodes,\n        inventory,\n        activeBuffs\n    ]);\n    const addNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message)=>{\n        const id = \"\".concat(Date.now(), \"-\").concat(Math.random());\n        setNotifications((prev)=>[\n                {\n                    id,\n                    message\n                }\n            ]);\n    }, []);\n    const removeNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id)=>{\n        setNotifications((prev)=>prev.filter((n)=>n.id !== id));\n    }, []);\n    const addToLog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message, icon)=>{\n        setGameLog((prev)=>[\n                {\n                    id: \"\".concat(Date.now(), \"-\").concat(Math.random()),\n                    message,\n                    icon\n                },\n                ...prev.slice(0, 19)\n            ]);\n    }, []);\n    const updateResources = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((deltas)=>{\n        setResources((prev)=>{\n            const newResources = {\n                ...prev\n            };\n            for(const key in deltas){\n                const resourceKey = key;\n                var _deltas_resourceKey;\n                newResources[resourceKey] = Math.max(0, newResources[resourceKey] + ((_deltas_resourceKey = deltas[resourceKey]) !== null && _deltas_resourceKey !== void 0 ? _deltas_resourceKey : 0));\n            }\n            return newResources;\n        });\n        setResourceDeltas((prev)=>({\n                ...prev,\n                ...deltas\n            }));\n        for(const key in deltas){\n            const resourceKey = key;\n            if (deltaTimeoutRef.current[resourceKey]) {\n                window.clearTimeout(deltaTimeoutRef.current[resourceKey]);\n            }\n            deltaTimeoutRef.current[resourceKey] = window.setTimeout(()=>{\n                setResourceDeltas((prev)=>{\n                    const newDeltas = {\n                        ...prev\n                    };\n                    delete newDeltas[resourceKey];\n                    return newDeltas;\n                });\n            }, 1500);\n        }\n    }, []);\n    const handleTaskCompletion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((task)=>{\n        var _task_payload;\n        // Free up any villagers that were assigned to this task\n        if (((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.villagerIds) && task.payload.villagerIds.length > 0) {\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>task.payload.villagerIds.includes(v.id) ? {\n                            ...v,\n                            currentTask: null\n                        } : v)\n                }));\n        }\n        switch(task.type){\n            case \"build\":\n                {\n                    const { buildingType, villagerIds, position } = task.payload;\n                    const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === buildingType);\n                    const [name] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n                    const newBuilding = {\n                        id: task.id,\n                        name,\n                        position: position,\n                        currentHp: buildingInfo.hp\n                    };\n                    setBuildings((p)=>({\n                            ...p,\n                            [buildingType]: [\n                                ...p[buildingType],\n                                newBuilding\n                            ]\n                        }));\n                    if (villagerIds && villagerIds.length > 0) {\n                        addToLog(\"\".concat(villagerIds.length, \" builder(s) have constructed \").concat(name, \", a new \").concat(buildingInfo.name, \".\"), buildingType);\n                        setActivityStatus(\"Construction of \".concat(name, \" is complete.\"));\n                    }\n                    break;\n                }\n            case \"gather\":\n                {\n                    break;\n                }\n            case \"train_villager\":\n                {\n                    const { count } = task.payload;\n                    const newVillagerNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", count);\n                    const newVillagers = newVillagerNames.map((name)=>({\n                            id: \"\".concat(Date.now(), \"-\").concat(name),\n                            name,\n                            currentTask: null\n                        }));\n                    setUnits((p)=>({\n                            ...p,\n                            villagers: [\n                                ...p.villagers,\n                                ...newVillagers\n                            ]\n                        }));\n                    addToLog(\"\".concat(count, \" new villager(s) have joined your settlement.\"), \"villager\");\n                    setActivityStatus(\"\".concat(count, \" new villager(s) are ready to work.\"));\n                    break;\n                }\n            case \"train_military\":\n                {\n                    const { unitType, count } = task.payload;\n                    const unitInfo = UNIT_INFO.find((u)=>u.id === unitType);\n                    const newUnitNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"soldier\", count);\n                    const newUnits = newUnitNames.map((name)=>({\n                            id: \"\".concat(Date.now(), \"-\").concat(unitType, \"-\").concat(name),\n                            name,\n                            title: \"\",\n                            unitType: unitType\n                        }));\n                    setUnits((p)=>({\n                            ...p,\n                            military: [\n                                ...p.military,\n                                ...newUnits\n                            ]\n                        }));\n                    addToLog(\"\".concat(count, \" \").concat(unitInfo.name, \"(s) have been trained.\"), unitType);\n                    setActivityStatus(\"\".concat(count, \" new \").concat(unitInfo.name, \"(s) are ready for battle.\"));\n                    break;\n                }\n            case \"advance_age\":\n                {\n                    const ageResult = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedAge)(currentAge);\n                    setCurrentAge(ageResult.nextAgeName);\n                    addToLog(\"You have advanced to the \".concat(ageResult.nextAgeName, \"!\"), \"age\");\n                    addToLog(ageResult.description, \"age\");\n                    setActivityStatus(\"Welcome to the \".concat(ageResult.nextAgeName, \"!\"));\n                    break;\n                }\n        }\n    }, [\n        currentAge,\n        addToLog\n    ]);\n    // Game Loop\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState !== _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING) {\n            if (animationFrameRef.current) cancelAnimationFrame(animationFrameRef.current);\n            return;\n        }\n        const gameLoop = ()=>{\n            const now = Date.now();\n            const deltaTime = now - lastTickRef.current;\n            lastTickRef.current = now;\n            let completedTasks = [];\n            let resourceDeltasThisTick = {};\n            // Clean up expired buffs\n            setActiveBuffs((prev)=>{\n                var _prev_resourceBoost, _prev_resourceBoost1;\n                const newResourceBoosts = (_prev_resourceBoost = prev.resourceBoost) === null || _prev_resourceBoost === void 0 ? void 0 : _prev_resourceBoost.filter((b)=>b.endTime > now);\n                if ((newResourceBoosts === null || newResourceBoosts === void 0 ? void 0 : newResourceBoosts.length) !== ((_prev_resourceBoost1 = prev.resourceBoost) === null || _prev_resourceBoost1 === void 0 ? void 0 : _prev_resourceBoost1.length)) {\n                    addToLog(\"A resource gathering bonus has expired.\", \"system\");\n                }\n                return {\n                    ...prev,\n                    resourceBoost: newResourceBoosts\n                };\n            });\n            const tasksInProgress = activeTasks.map((task)=>{\n                if (now >= task.startTime + task.duration) {\n                    completedTasks.push(task);\n                    return null;\n                }\n                if (task.type === \"gather\") {\n                    var _activeBuffs_resourceBoost;\n                    const node = resourceNodes.find((n)=>{\n                        var _task_payload;\n                        return n.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.resourceNodeId);\n                    });\n                    const assignedVillagers = units.villagers.filter((v)=>v.currentTask === task.id);\n                    const villagerCount = assignedVillagers.length;\n                    if (!node || villagerCount === 0) {\n                        completedTasks.push(task); // Orphaned or empty gather task\n                        return null;\n                    }\n                    const baseRatePerSecond = GATHER_INFO[node.type].rate;\n                    let civBonusMultiplier = 1;\n                    if (civilization) {\n                        const bonusString = civilization.bonus.toLowerCase();\n                        const resourceString = node.type.toLowerCase();\n                        if (bonusString.includes(resourceString)) {\n                            const match = bonusString.match(/(\\d+)%/);\n                            if (match && match[1]) {\n                                civBonusMultiplier = 1 + parseInt(match[1], 10) / 100;\n                            }\n                        }\n                    }\n                    const itemBoost = (_activeBuffs_resourceBoost = activeBuffs.resourceBoost) === null || _activeBuffs_resourceBoost === void 0 ? void 0 : _activeBuffs_resourceBoost.find((b)=>b.resource === node.type);\n                    const itemBoostMultiplier = itemBoost ? itemBoost.multiplier : 1;\n                    const finalRatePerSecond = baseRatePerSecond * civBonusMultiplier * itemBoostMultiplier;\n                    const amountGatheredThisTick = finalRatePerSecond / 1000 * deltaTime * villagerCount;\n                    resourceDeltasThisTick[node.type] = (resourceDeltasThisTick[node.type] || 0) + amountGatheredThisTick;\n                }\n                return task;\n            }).filter(Boolean);\n            if (Object.keys(resourceDeltasThisTick).length > 0) {\n                updateResources(resourceDeltasThisTick);\n                setResourceNodes((prevNodes)=>{\n                    const newNodes = prevNodes.map((node)=>{\n                        const amountToDecrement = resourceDeltasThisTick[node.type];\n                        if (amountToDecrement) {\n                            const newAmount = node.amount - amountToDecrement;\n                            if (newAmount <= 0) {\n                                const taskId = \"gather-\".concat(node.id);\n                                const assigned = units.villagers.filter((v)=>v.currentTask === taskId);\n                                addToLog(\"\".concat(assigned.length, \" villager(s) depleted a \").concat(node.type, \" source, gaining \").concat(Math.floor(node.amount), \" \").concat(node.type, \".\"), node.type);\n                                setActivityStatus(\"A \".concat(node.type, \" source has been fully depleted.\"));\n                                const gatherTask = tasksInProgress.find((t)=>t.id === taskId);\n                                if (gatherTask) completedTasks.push(gatherTask);\n                                return null;\n                            }\n                            return {\n                                ...node,\n                                amount: newAmount\n                            };\n                        }\n                        return node;\n                    }).filter(Boolean);\n                    return newNodes;\n                });\n            }\n            const finalActiveTasks = tasksInProgress.filter((t)=>!completedTasks.some((ct)=>ct.id === t.id));\n            setActiveTasks(finalActiveTasks);\n            if (completedTasks.length > 0) {\n                completedTasks.forEach(handleTaskCompletion);\n            }\n            animationFrameRef.current = requestAnimationFrame(gameLoop);\n        };\n        animationFrameRef.current = requestAnimationFrame(gameLoop);\n        return ()=>{\n            if (animationFrameRef.current) cancelAnimationFrame(animationFrameRef.current);\n        };\n    }, [\n        gameState,\n        activeTasks,\n        resourceNodes,\n        handleTaskCompletion,\n        addToLog,\n        updateResources,\n        units.villagers,\n        civilization,\n        activeBuffs\n    ]);\n    const handleNewEvent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!civilization || currentEvent) return;\n        const event = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedGameEvent)();\n        setCurrentEvent(event);\n        setActivityStatus(\"A new event requires your attention!\");\n    }, [\n        civilization,\n        currentEvent\n    ]);\n    const scheduleNextEvent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (eventTimerRef.current) {\n            clearTimeout(eventTimerRef.current);\n        }\n        const nextEventTime = (10 + Math.random() * 15) * 1000;\n        eventTimerRef.current = setTimeout(()=>handleNewEvent(), nextEventTime);\n    }, [\n        handleNewEvent\n    ]);\n    const generateResourceNodes = (existingPositions)=>{\n        const nodes = [];\n        const types = [\n            \"food\",\n            \"wood\",\n            \"gold\",\n            \"stone\"\n        ];\n        const numNodes = 20 + Math.floor(Math.random() * 10);\n        for(let i = 0; i < numNodes; i++){\n            let pos;\n            do {\n                pos = {\n                    x: Math.floor(Math.random() * MAP_DIMENSIONS.width),\n                    y: Math.floor(Math.random() * MAP_DIMENSIONS.height)\n                };\n            }while (existingPositions.has(\"\".concat(pos.x, \",\").concat(pos.y)));\n            existingPositions.add(\"\".concat(pos.x, \",\").concat(pos.y));\n            const type = types[Math.floor(Math.random() * types.length)];\n            const amount = Math.floor(Math.random() * (2500 - 500 + 1)) + 500;\n            nodes.push({\n                id: \"\".concat(Date.now(), \"-node-\").concat(i),\n                type,\n                position: pos,\n                amount\n            });\n        }\n        return nodes;\n    };\n    const handleStartNewGame = (saveName)=>{\n        if (allSaves.includes(saveName)) {\n            addNotification('A saga named \"'.concat(saveName, '\" already exists.'));\n            return;\n        }\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n        setCurrentSaveName(saveName);\n        const civ = (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_3__.getPredefinedCivilization)();\n        setCivilization(civ);\n        setResources({\n            food: 200,\n            wood: 150,\n            gold: 50,\n            stone: 100\n        });\n        const initialVillagerNames = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"villager\", 3);\n        const initialVillagers = initialVillagerNames.map((name)=>({\n                id: \"\".concat(Date.now(), \"-\").concat(name),\n                name,\n                currentTask: null\n            }));\n        setUnits({\n            villagers: initialVillagers,\n            military: []\n        });\n        const [initialTCName] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n        const tcPosition = {\n            x: Math.floor(MAP_DIMENSIONS.width / 2),\n            y: Math.floor(MAP_DIMENSIONS.height / 2)\n        };\n        const tcInfo = BUILDINGS_INFO.find((b)=>b.id === \"townCenter\");\n        const initialTC = {\n            id: \"\".concat(Date.now(), \"-tc\"),\n            name: initialTCName,\n            position: tcPosition,\n            currentHp: tcInfo.hp\n        };\n        setBuildings({\n            ...initialBuildingsState,\n            townCenter: [\n                initialTC\n            ]\n        });\n        setResourceNodes(generateResourceNodes(new Set([\n            \"\".concat(tcPosition.x, \",\").concat(tcPosition.y)\n        ])));\n        setCurrentAge(\"Nomadic Age\");\n        setGameLog([]);\n        setCurrentEvent(null);\n        setUnlimitedResources(false);\n        setActiveTasks([]);\n        setInventory([]);\n        setActiveBuffs({\n            resourceBoost: []\n        });\n        addToLog(\"\".concat(civ.name, \" has been founded!\"), \"system\");\n        addToLog(\"Your story begins...\", \"system\");\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING);\n        setActivityStatus(\"Your settlement awaits your command.\");\n        fetchSaves();\n    };\n    const isVillagerBusy = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((villagerId)=>{\n        const villager = units.villagers.find((v)=>v.id === villagerId);\n        return !!(villager === null || villager === void 0 ? void 0 : villager.currentTask);\n    }, [\n        units.villagers\n    ]);\n    const getVillagerTaskDetails = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((villagerId)=>{\n        const villager = units.villagers.find((v)=>v.id === villagerId);\n        if (!villager || !villager.currentTask) {\n            return \"Idle\";\n        }\n        const task = activeTasks.find((t)=>t.id === villager.currentTask);\n        if (!task) {\n            return \"Idle (Finalizing Task)\";\n        }\n        if (task.type === \"build\") {\n            const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === task.payload.buildingType);\n            return \"Busy: Constructing \".concat((buildingInfo === null || buildingInfo === void 0 ? void 0 : buildingInfo.name) || \"a building\");\n        }\n        if (task.type === \"gather\") {\n            const node = resourceNodes.find((n)=>n.id === task.payload.resourceNodeId);\n            return \"Busy: Gathering \".concat((node === null || node === void 0 ? void 0 : node.type) || \"resources\");\n        }\n        return \"Idle\";\n    }, [\n        activeTasks,\n        resourceNodes,\n        units.villagers\n    ]);\n    const handleResumeGame = async (saveName)=>{\n        const savedState = await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.loadGameState)(saveName);\n        if (savedState) {\n            var _savedState_units;\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING);\n            setCurrentSaveName(saveName);\n            setCivilization(savedState.civilization);\n            setResources(savedState.resources);\n            let savedUnits = savedState.units || {\n                villagers: [],\n                military: []\n            };\n            if ((_savedState_units = savedState.units) === null || _savedState_units === void 0 ? void 0 : _savedState_units.soldiers) {\n                const migratedMilitary = savedState.units.soldiers.map((s)=>({\n                        ...s,\n                        unitType: \"swordsman\"\n                    }));\n                savedUnits = {\n                    villagers: savedUnits.villagers || [],\n                    military: migratedMilitary\n                };\n            }\n            const migratedVillagers = savedUnits.villagers.map((v)=>({\n                    ...v,\n                    currentTask: v.currentTask !== undefined ? v.currentTask : null\n                }));\n            const migratedTasks = (savedState.activeTasks || []).map((t)=>{\n                var _t_payload;\n                if (t.type === \"build\" && !((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.villagerIds)) {\n                    return {\n                        ...t,\n                        payload: {\n                            ...t.payload,\n                            villagerIds: []\n                        }\n                    };\n                }\n                return t;\n            });\n            // Back-fill currentTask for older saves\n            migratedTasks.forEach((task)=>{\n                var _task_payload;\n                if ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.villagerIds) {\n                    task.payload.villagerIds.forEach((vid)=>{\n                        const villager = migratedVillagers.find((v)=>v.id === vid);\n                        if (villager) villager.currentTask = task.id;\n                    });\n                }\n            });\n            setUnits({\n                ...savedUnits,\n                villagers: migratedVillagers\n            });\n            let finalBuildings = {\n                ...initialBuildingsState,\n                ...savedState.buildings || {}\n            };\n            Object.keys(finalBuildings).forEach((bType)=>{\n                const type = bType;\n                const info = BUILDINGS_INFO.find((b)=>b.id === type);\n                if (info) {\n                    finalBuildings[type] = finalBuildings[type].map((b)=>({\n                            ...b,\n                            currentHp: b.currentHp === undefined ? info.hp : b.currentHp\n                        }));\n                }\n            });\n            const constructionTasks = migratedTasks.filter((t)=>t.type === \"build\");\n            const occupiedCells = new Set([\n                ...Object.values(finalBuildings).flat().map((b)=>\"\".concat(b.position.x, \",\").concat(b.position.y)),\n                ...constructionTasks.map((t)=>\"\".concat(t.payload.position.x, \",\").concat(t.payload.position.y))\n            ]);\n            if (!finalBuildings.townCenter || finalBuildings.townCenter.length === 0) {\n                let tcPos = {\n                    x: 10,\n                    y: 5\n                };\n                while(occupiedCells.has(\"\".concat(tcPos.x, \",\").concat(tcPos.y))){\n                    tcPos.x++;\n                }\n                const [tcName] = (0,_services_nameService__WEBPACK_IMPORTED_MODULE_5__.getRandomNames)(\"building\", 1);\n                const tcInfo = BUILDINGS_INFO.find((b)=>b.id === \"townCenter\");\n                finalBuildings.townCenter = [\n                    {\n                        id: \"\".concat(Date.now(), \"-tc\"),\n                        name: tcName,\n                        position: tcPos,\n                        currentHp: tcInfo.hp\n                    }\n                ];\n                occupiedCells.add(\"\".concat(tcPos.x, \",\").concat(tcPos.y));\n            }\n            const firstBuilding = Object.values(finalBuildings).flat()[0];\n            if (firstBuilding && typeof firstBuilding === \"object\" && !(\"position\" in firstBuilding)) {\n                const migrated = {\n                    ...initialBuildingsState\n                };\n                let y = 3;\n                Object.entries(finalBuildings).forEach((param)=>{\n                    let [type, instances] = param;\n                    let x = 5;\n                    instances.forEach((inst)=>{\n                        while(occupiedCells.has(\"\".concat(x, \",\").concat(y))){\n                            x++;\n                        }\n                        const info = BUILDINGS_INFO.find((b)=>b.id === type);\n                        migrated[type].push({\n                            ...inst,\n                            position: {\n                                x,\n                                y\n                            },\n                            currentHp: inst.currentHp || info.hp\n                        });\n                        occupiedCells.add(\"\".concat(x, \",\").concat(y));\n                        x++;\n                    });\n                });\n                finalBuildings = migrated;\n            }\n            setBuildings(finalBuildings);\n            const nodesToSet = (savedState.resourceNodes || []).map((n)=>({\n                    ...n,\n                    assignedVillagers: n.assignedVillagers || []\n                }));\n            if (nodesToSet.length === 0) {\n                setResourceNodes(generateResourceNodes(occupiedCells));\n            } else {\n                setResourceNodes(nodesToSet);\n            }\n            setCurrentAge(savedState.currentAge);\n            setGameLog(savedState.gameLog);\n            setActiveTasks(migratedTasks);\n            setInventory(savedState.inventory || []);\n            setActiveBuffs(savedState.activeBuffs || {\n                resourceBoost: []\n            });\n            setCurrentEvent(null);\n            setActivityStatus(\"Welcome back to your saga.\");\n            setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING);\n        } else {\n            addNotification('Could not find a saved game named \"'.concat(saveName, '\".'));\n        }\n    };\n    // Event Trigger Timer\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState !== _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING) return;\n        if (!currentEvent) {\n            scheduleNextEvent();\n        } else if (eventTimerRef.current) {\n            clearTimeout(eventTimerRef.current);\n        }\n        return ()=>{\n            if (eventTimerRef.current) {\n                clearTimeout(eventTimerRef.current);\n            }\n        };\n    }, [\n        gameState,\n        currentEvent,\n        scheduleNextEvent\n    ]);\n    const handleEventChoice = (choice)=>{\n        if (choice.cost) {\n            const missingRes = [];\n            for(const key in choice.cost){\n                const resKey = key;\n                if (resources[resKey] < (choice.cost[resKey] || 0)) {\n                    missingRes.push(resKey);\n                }\n            }\n            if (missingRes.length > 0) {\n                addNotification(\"You lack the required resources: \".concat(missingRes.join(\", \"), \".\"));\n                return;\n            }\n            const negativeCost = {};\n            for(const key in choice.cost){\n                const resKey = key;\n                negativeCost[resKey] = -(choice.cost[resKey] || 0);\n            }\n            updateResources(negativeCost);\n        }\n        const isSuccess = choice.successChance === undefined || Math.random() < choice.successChance;\n        const effects = isSuccess ? choice.successEffects : choice.failureEffects;\n        if (!effects) {\n            setCurrentEvent(null);\n            scheduleNextEvent();\n            return;\n        }\n        let logMessage = 'Decision: \"'.concat(choice.text, '\". Outcome: ').concat(isSuccess ? \"Success\" : \"Failure\", \". \").concat(effects.log);\n        effects.rewards.forEach((reward)=>{\n            if (reward.type === \"resource\") {\n                let amount = 0;\n                if (Array.isArray(reward.amount)) {\n                    const [min, max] = reward.amount;\n                    amount = Math.floor(Math.random() * (max - min + 1)) + min;\n                } else {\n                    amount = reward.amount;\n                }\n                if (amount !== 0) {\n                    updateResources({\n                        [reward.resource]: amount\n                    });\n                    logMessage += \" You \".concat(amount > 0 ? \"gained\" : \"lost\", \" \").concat(Math.abs(amount), \" \").concat(reward.resource, \".\");\n                }\n            } else if (reward.type === \"item\") {\n                const itemInfo = _data_itemContent__WEBPACK_IMPORTED_MODULE_6__.GAME_ITEMS[reward.itemId];\n                if (itemInfo) {\n                    const newItems = [];\n                    for(let i = 0; i < reward.amount; i++){\n                        newItems.push({\n                            ...itemInfo,\n                            id: \"\".concat(reward.itemId, \"-\").concat(Date.now(), \"-\").concat(i)\n                        });\n                    }\n                    setInventory((prev)=>[\n                            ...prev,\n                            ...newItems\n                        ]);\n                    logMessage += \" You received \".concat(reward.amount, \"x \").concat(itemInfo.name, \"!\");\n                }\n            }\n        });\n        addToLog(logMessage, \"event\");\n        setActivityStatus(effects.log);\n        setCurrentEvent(null);\n        scheduleNextEvent();\n    };\n    const handleInitiateBuild = (villagerId, rect)=>{\n        if (isVillagerBusy(villagerId)) {\n            addNotification(\"This villager is already busy.\");\n            return;\n        }\n        setBuildPanelState({\n            isOpen: true,\n            villagerId,\n            anchorRect: rect\n        });\n        setUnitManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleStartPlacement = (buildingId)=>{\n        const villagerId = buildPanelState.villagerId;\n        if (!villagerId) return;\n        const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === buildingId);\n        if (!buildingInfo) return;\n        const isAlreadyConstructing = activeTasks.some((t)=>{\n            var _t_payload;\n            return t.type === \"build\" && ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.buildingType) === buildingInfo.id;\n        });\n        if (buildingInfo.isUnique && (buildings[buildingInfo.id].length > 0 || isAlreadyConstructing)) {\n            addNotification(\"You can only build one \".concat(buildingInfo.name, \".\"));\n            return;\n        }\n        const cost = buildingInfo.cost;\n        if (!unlimitedResources) {\n            const missing = [];\n            for(const res in cost){\n                const resourceKey = res;\n                var _cost_resourceKey;\n                if (resources[resourceKey] < ((_cost_resourceKey = cost[resourceKey]) !== null && _cost_resourceKey !== void 0 ? _cost_resourceKey : 0)) {\n                    var _cost_resourceKey1;\n                    missing.push(\"\".concat(((_cost_resourceKey1 = cost[resourceKey]) !== null && _cost_resourceKey1 !== void 0 ? _cost_resourceKey1 : 0) - resources[resourceKey], \" \").concat(resourceKey));\n                }\n            }\n            if (missing.length > 0) {\n                addNotification(\"Need \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n        }\n        setPlayerAction({\n            mode: \"build\",\n            buildingType: buildingId,\n            villagerId\n        });\n        setBuildPanelState({\n            isOpen: false,\n            villagerId: null,\n            anchorRect: null\n        });\n        setActivityStatus(\"Select a location to build a \".concat(buildingInfo.name, \". Right-click to cancel.\"));\n    };\n    const handleConfirmPlacement = (position)=>{\n        if ((playerAction === null || playerAction === void 0 ? void 0 : playerAction.mode) !== \"build\") return;\n        const { buildingType, villagerId } = playerAction;\n        const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === buildingType);\n        const builder = units.villagers.find((v)=>v.id === villagerId);\n        if (!buildingInfo || !builder) return;\n        if (!unlimitedResources) {\n            const cost = buildingInfo.cost;\n            const negativeCost = {};\n            for(const resource in cost){\n                negativeCost[resource] = -(cost[resource] || 0);\n            }\n            updateResources(negativeCost);\n        }\n        let buildTime = buildingInfo.buildTime * 1000;\n        if (activeBuffs.buildTimeReduction) {\n            buildTime *= 1 - activeBuffs.buildTimeReduction.percentage;\n            addToLog(\"A Builder's Charm reduced construction time by \".concat(activeBuffs.buildTimeReduction.percentage * 100, \"%!\"), \"item\");\n            setActiveBuffs((prev)=>{\n                const newUses = prev.buildTimeReduction.uses - 1;\n                return newUses > 0 ? {\n                    ...prev,\n                    buildTimeReduction: {\n                        ...prev.buildTimeReduction,\n                        uses: newUses\n                    }\n                } : {\n                    ...prev,\n                    buildTimeReduction: undefined\n                };\n            });\n        }\n        const taskId = \"\".concat(Date.now(), \"-build-\").concat(buildingType);\n        const taskPayload = {\n            buildingType,\n            villagerIds: [\n                villagerId\n            ],\n            position\n        };\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: taskId,\n                type: \"build\",\n                startTime: 0,\n                duration: 0,\n                payload: {\n                    ...taskPayload,\n                    position\n                }\n            });\n        } else {\n            const newTask = {\n                id: taskId,\n                type: \"build\",\n                startTime: Date.now(),\n                duration: buildTime,\n                payload: taskPayload\n            };\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    newTask\n                ]);\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>v.id === villagerId ? {\n                            ...v,\n                            currentTask: taskId\n                        } : v)\n                }));\n            setActivityStatus(\"\".concat(builder.name, \" has started constructing a \").concat(buildingInfo.name, \".\"));\n            addToLog(\"\".concat(builder.name, \" began construction of a new \").concat(buildingInfo.name, \".\"), buildingType);\n        }\n        setPlayerAction(null);\n    };\n    const handleCancelPlayerAction = ()=>{\n        setPlayerAction(null);\n        setActivityStatus(\"Command cancelled.\");\n    };\n    const handleDemolishBuilding = (type, id)=>{\n        var _buildings_townCenter;\n        if (type === \"townCenter\") {\n            addNotification(\"The Town Center is the heart of your civilization and cannot be demolished.\");\n            return;\n        }\n        if (activeTasks.some((t)=>{\n            var _t_payload;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.buildingId) === id;\n        })) {\n            addNotification(\"Cannot demolish a building with an active task.\");\n            return;\n        }\n        const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === type);\n        const buildingInstance = buildings[type].find((b)=>b.id === id);\n        if (!buildingInfo || !buildingInstance) return;\n        if (type === \"houses\" && population.current > (((_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter.length) > 0 ? 20 : 0) + (buildings.houses.length - 1) * 5) {\n            addNotification(\"Cannot demolish this house, your people would be homeless.\");\n            return;\n        }\n        const refund = {};\n        let refundMessageParts = [];\n        for(const res in buildingInfo.cost){\n            const resourceKey = res;\n            const cost = buildingInfo.cost[resourceKey] || 0;\n            const amount = Math.floor(cost * 0.5);\n            if (amount > 0) {\n                refund[resourceKey] = amount;\n                refundMessageParts.push(\"\".concat(amount, \" \").concat(resourceKey));\n            }\n        }\n        updateResources(refund);\n        setBuildings((prev)=>({\n                ...prev,\n                [type]: prev[type].filter((b)=>b.id !== id)\n            }));\n        addToLog(\"\".concat(buildingInstance.name, \" (\").concat(buildingInfo.name, \") was demolished.\"), type);\n        if (refundMessageParts.length > 0) {\n            addNotification(\"Salvaged \".concat(refundMessageParts.join(\", \"), \".\"));\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleUpdateBuilding = (type, id, name)=>{\n        setBuildings((prev)=>({\n                ...prev,\n                [type]: prev[type].map((b)=>b.id === id ? {\n                        ...b,\n                        name\n                    } : b)\n            }));\n        addNotification(\"Building renamed.\");\n    };\n    const handleTrainVillagers = (count)=>{\n        var _buildings_townCenter;\n        if (activeTasks.some((t)=>t.type === \"train_villager\") || count <= 0) return;\n        const villagerCost = 50;\n        const totalCost = villagerCost * count;\n        if (population.current + count > population.capacity) {\n            addNotification(\"Need space for \".concat(count, \" more villagers.\"));\n            return;\n        }\n        const townCenter = (_buildings_townCenter = buildings.townCenter) === null || _buildings_townCenter === void 0 ? void 0 : _buildings_townCenter[0];\n        if (!townCenter) {\n            addNotification(\"No Town Center to train villagers.\");\n            return;\n        }\n        if (!unlimitedResources) {\n            if (resources.food < totalCost) {\n                addNotification(\"Need \".concat(totalCost - resources.food, \" more Food.\"));\n                return;\n            }\n            updateResources({\n                food: -totalCost\n            });\n        }\n        const trainTime = 10000 * count;\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: \"instant\",\n                type: \"train_villager\",\n                startTime: 0,\n                duration: 0,\n                payload: {\n                    count\n                }\n            });\n        } else {\n            const taskId = \"\".concat(Date.now(), \"-train-villager\");\n            const newTask = {\n                id: taskId,\n                type: \"train_villager\",\n                startTime: Date.now(),\n                duration: trainTime,\n                payload: {\n                    count,\n                    buildingId: townCenter.id\n                }\n            };\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    newTask\n                ]);\n            setActivityStatus(\"Training \".concat(count, \" villager(s)...\"));\n            addToLog(\"Began training \".concat(count, \" new villager(s).\"), \"villager\");\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleTrainUnits = (unitType, count)=>{\n        var _buildings_unitInfo_requiredBuilding;\n        const unitInfo = UNIT_INFO.find((u)=>u.id === unitType);\n        if (!unitInfo || activeTasks.some((t)=>{\n            var _t_payload;\n            return ((_t_payload = t.payload) === null || _t_payload === void 0 ? void 0 : _t_payload.unitType) === unitType;\n        }) || count <= 0) return;\n        if (population.current + count > population.capacity) {\n            addNotification(\"Need space for \".concat(count, \" more units.\"));\n            return;\n        }\n        const trainingBuilding = (_buildings_unitInfo_requiredBuilding = buildings[unitInfo.requiredBuilding]) === null || _buildings_unitInfo_requiredBuilding === void 0 ? void 0 : _buildings_unitInfo_requiredBuilding[0];\n        if (!trainingBuilding) {\n            addNotification(\"No \".concat(unitInfo.requiredBuilding, \" to train units.\"));\n            return;\n        }\n        if (!unlimitedResources) {\n            const totalCost = {};\n            const missing = [];\n            for(const res in unitInfo.cost){\n                const resourceKey = res;\n                const cost = (unitInfo.cost[resourceKey] || 0) * count;\n                totalCost[resourceKey] = -cost;\n                if (resources[resourceKey] < cost) missing.push(\"\".concat(cost - resources[resourceKey], \" \").concat(resourceKey));\n            }\n            if (missing.length > 0) {\n                addNotification(\"Need \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n            updateResources(totalCost);\n        }\n        let trainTime = unitInfo.trainTime * 1000 * count;\n        const permanentBonus = activeBuffs.permanentTrainTimeReduction || 0;\n        let tempBonus = 0;\n        if (activeBuffs.trainTimeReduction) {\n            const applicableUses = Math.min(count, activeBuffs.trainTimeReduction.uses);\n            const remainingUses = activeBuffs.trainTimeReduction.uses - applicableUses;\n            tempBonus = activeBuffs.trainTimeReduction.percentage;\n            const timeForBuffedUnits = unitInfo.trainTime * 1000 * applicableUses * (1 - tempBonus);\n            const timeForNormalUnits = unitInfo.trainTime * 1000 * (count - applicableUses);\n            trainTime = timeForBuffedUnits + timeForNormalUnits;\n            if (remainingUses > 0) {\n                setActiveBuffs((prev)=>({\n                        ...prev,\n                        trainTimeReduction: {\n                            ...prev.trainTimeReduction,\n                            uses: remainingUses\n                        }\n                    }));\n            } else {\n                setActiveBuffs((prev)=>({\n                        ...prev,\n                        trainTimeReduction: undefined\n                    }));\n                addToLog(\"The Drillmaster's Whistle buff has been fully used.\", \"item\");\n            }\n        }\n        trainTime *= 1 - permanentBonus;\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: \"instant\",\n                type: \"train_military\",\n                startTime: 0,\n                duration: 0,\n                payload: {\n                    unitType,\n                    count\n                }\n            });\n        } else {\n            const taskId = \"\".concat(Date.now(), \"-train-\").concat(unitType);\n            const newTask = {\n                id: taskId,\n                type: \"train_military\",\n                startTime: Date.now(),\n                duration: trainTime,\n                payload: {\n                    unitType,\n                    count,\n                    buildingId: trainingBuilding.id\n                }\n            };\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    newTask\n                ]);\n            setActivityStatus(\"Training \".concat(count, \" \").concat(unitInfo.name, \"(s)...\"));\n            addToLog(\"Began training \".concat(count, \" new \").concat(unitInfo.name, \"(s).\"), unitType);\n        }\n        setBuildingManagementPanel({\n            isOpen: false,\n            type: null,\n            anchorRect: null\n        });\n    };\n    const handleDismissSpecificUnit = (type, id)=>{\n        if (type === \"villagers\" && isVillagerBusy(id)) {\n            addNotification(\"Cannot dismiss a busy villager.\");\n            return;\n        }\n        const unit = units[type].find((u)=>u.id === id);\n        if (!unit) return;\n        if (type === \"villagers\" && units.villagers.length <= 1) {\n            addNotification(\"Cannot dismiss your last villager.\");\n            return;\n        }\n        setUnits((prev)=>({\n                ...prev,\n                [type]: prev[type].filter((u)=>u.id !== id)\n            }));\n        const unitTypeName = type === \"villagers\" ? \"villager\" : unit.unitType;\n        addToLog(\"\".concat(unit.name, \" the \").concat(unitTypeName, \" has been dismissed.\"), type === \"villagers\" ? \"villager\" : unit.unitType);\n        addNotification(\"\".concat(unit.name, \" was dismissed.\"));\n    };\n    const handleUpdateUnit = (type, id, name, title)=>{\n        setUnits((prev)=>({\n                ...prev,\n                [type]: prev[type].map((u)=>{\n                    if (u.id === id) {\n                        const updatedUnit = {\n                            ...u,\n                            name\n                        };\n                        if (type === \"military\" && title !== undefined) {\n                            updatedUnit.title = title;\n                        }\n                        return updatedUnit;\n                    }\n                    return u;\n                })\n            }));\n        addNotification(\"Unit updated.\");\n    };\n    const handleAssignVillagersToNode = (nodeId, count)=>{\n        const idleVillagers = units.villagers.filter((v)=>!v.currentTask);\n        if (count <= 0) return;\n        let cappedCount = Math.min(count, idleVillagers.length);\n        if (cappedCount === 0) {\n            addNotification(\"No idle villagers available.\");\n            return;\n        }\n        const villagersToAssign = idleVillagers.slice(0, cappedCount);\n        const villagerIdsToAssign = villagersToAssign.map((v)=>v.id);\n        const targetNode = resourceNodes.find((n)=>n.id === nodeId);\n        if (!targetNode) return;\n        const taskId = \"gather-\".concat(nodeId);\n        const existingTask = activeTasks.find((t)=>t.id === taskId);\n        if (unlimitedResources) {\n            updateResources({\n                [targetNode.type]: targetNode.amount\n            });\n            addToLog(\"\".concat(cappedCount, \" villager(s) instantly gathered \").concat(Math.floor(targetNode.amount), \" \").concat(targetNode.type, \".\"), targetNode.type);\n            setResourceNodes((prev)=>prev.filter((n)=>n.id !== nodeId));\n        } else {\n            if (existingTask) {\n                setActiveTasks((prev)=>prev.map((t)=>t.id === taskId ? {\n                            ...t,\n                            payload: {\n                                ...t.payload,\n                                villagerIds: [\n                                    ...new Set([\n                                        ...t.payload.villagerIds,\n                                        ...villagerIdsToAssign\n                                    ])\n                                ]\n                            }\n                        } : t));\n            } else {\n                const newTask = {\n                    id: taskId,\n                    type: \"gather\",\n                    startTime: Date.now(),\n                    duration: 999999999,\n                    payload: {\n                        resourceNodeId: nodeId,\n                        villagerIds: villagerIdsToAssign\n                    }\n                }; // Duration is arbitrary\n                setActiveTasks((prev)=>[\n                        ...prev,\n                        newTask\n                    ]);\n            }\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>villagerIdsToAssign.includes(v.id) ? {\n                            ...v,\n                            currentTask: taskId\n                        } : v)\n                }));\n        }\n        addToLog(\"\".concat(cappedCount, \" villager(s) assigned to gather \").concat(targetNode.type, \".\"), targetNode.type);\n        setActivityStatus(\"\".concat(cappedCount, \" villager(s) are now gathering \").concat(targetNode.type, \".\"));\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleRecallVillagers = (targetId, count, type)=>{\n        if (type === \"resource\") {\n            const taskId = \"gather-\".concat(targetId);\n            const node = resourceNodes.find((n)=>n.id === targetId);\n            const assignedVillagers = units.villagers.filter((v)=>v.currentTask === taskId);\n            if (!node || assignedVillagers.length < count) return;\n            const villagersToRecall = assignedVillagers.slice(assignedVillagers.length - count).map((v)=>v.id);\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>villagersToRecall.includes(v.id) ? {\n                            ...v,\n                            currentTask: null\n                        } : v)\n                }));\n            setActiveTasks((prev)=>{\n                const taskIndex = prev.findIndex((t)=>t.id === taskId);\n                if (taskIndex === -1) return prev;\n                const task = prev[taskIndex];\n                const remainingVillagers = task.payload.villagerIds.filter((id)=>!villagersToRecall.includes(id));\n                if (remainingVillagers.length === 0) {\n                    return prev.filter((_, i)=>i !== taskIndex);\n                } else {\n                    return prev.map((t, i)=>i === taskIndex ? {\n                            ...t,\n                            payload: {\n                                ...t.payload,\n                                villagerIds: remainingVillagers\n                            }\n                        } : t);\n                }\n            });\n            addToLog(\"\".concat(count, \" villager(s) recalled from gathering \").concat(node.type, \".\"), \"villager\");\n        } else {\n            var _task_payload_villagerIds, _task_payload;\n            const task = activeTasks.find((t)=>t.id === targetId);\n            var _task_payload_villagerIds_length;\n            if (!task || task.type !== \"build\" || ((_task_payload_villagerIds_length = (_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) !== null && _task_payload_villagerIds_length !== void 0 ? _task_payload_villagerIds_length : 0) < count) return;\n            const villagersToRecall = task.payload.villagerIds.slice(task.payload.villagerIds.length - count);\n            const remainingVillagers = task.payload.villagerIds.filter((id)=>!villagersToRecall.includes(id));\n            if (remainingVillagers.length === 0) {\n                addNotification(\"Cannot recall the last builder. This would cancel the project.\");\n                return;\n            }\n            setUnits((prev)=>({\n                    ...prev,\n                    villagers: prev.villagers.map((v)=>villagersToRecall.includes(v.id) ? {\n                            ...v,\n                            currentTask: null\n                        } : v)\n                }));\n            const buildingInfo = BUILDINGS_INFO.find((b)=>b.id === task.payload.buildingType);\n            const totalWork = buildingInfo.buildTime * 1000;\n            const oldWorkerCount = task.payload.villagerIds.length;\n            const timeElapsed = Date.now() - task.startTime;\n            const workDone = timeElapsed * oldWorkerCount;\n            const workRemaining = Math.max(0, totalWork - workDone);\n            const newWorkerCount = remainingVillagers.length;\n            const newRemainingDuration = workRemaining / newWorkerCount;\n            setActiveTasks((prev)=>prev.map((t)=>t.id === targetId ? {\n                        ...t,\n                        startTime: Date.now(),\n                        duration: newRemainingDuration,\n                        payload: {\n                            ...t.payload,\n                            villagerIds: remainingVillagers\n                        }\n                    } : t));\n            addToLog(\"\".concat(count, \" villager(s) recalled from construction. Work will now proceed slower.\"), \"villager\");\n        }\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleAssignVillagersToConstruction = (constructionId, count)=>{\n        var _task_payload_villagerIds, _task_payload;\n        const idleVillagers = units.villagers.filter((v)=>!v.currentTask);\n        if (count <= 0) return;\n        let cappedCount = Math.min(count, idleVillagers.length);\n        if (cappedCount === 0) {\n            addNotification(\"No idle villagers available to assist.\");\n            return;\n        }\n        const villagersToAssign = idleVillagers.slice(0, cappedCount);\n        const villagerIdsToAssign = villagersToAssign.map((v)=>v.id);\n        const task = activeTasks.find((t)=>t.id === constructionId);\n        if (!task || task.type !== \"build\") return;\n        const buildingInfo = BUILDINGS_INFO.find((b)=>{\n            var _task_payload;\n            return b.id === ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.buildingType);\n        });\n        if (!buildingInfo) return;\n        const baseDuration = buildingInfo.buildTime * 1000;\n        const oldWorkerCount = ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : (_task_payload_villagerIds = _task_payload.villagerIds) === null || _task_payload_villagerIds === void 0 ? void 0 : _task_payload_villagerIds.length) || 1;\n        const timeElapsed = Date.now() - task.startTime;\n        const workDone = timeElapsed * oldWorkerCount;\n        const totalWork = baseDuration;\n        const workRemaining = Math.max(0, totalWork - workDone);\n        const newWorkerCount = oldWorkerCount + cappedCount;\n        const newRemainingDuration = workRemaining / newWorkerCount;\n        const updatedVillagerIds = [\n            ...task.payload.villagerIds,\n            ...villagerIdsToAssign\n        ];\n        setUnits((prev)=>({\n                ...prev,\n                villagers: prev.villagers.map((v)=>villagerIdsToAssign.includes(v.id) ? {\n                        ...v,\n                        currentTask: constructionId\n                    } : v)\n            }));\n        setActiveTasks((prev)=>prev.map((t)=>t.id === constructionId ? {\n                    ...t,\n                    startTime: Date.now(),\n                    duration: newRemainingDuration,\n                    payload: {\n                        ...t.payload,\n                        villagerIds: updatedVillagerIds\n                    }\n                } : t));\n        addToLog(\"\".concat(cappedCount, \" villager(s) are now assisting with the \").concat(buildingInfo.name, \".\"), buildingInfo.id);\n        setActivityStatus(\"Construction of the \".concat(buildingInfo.name, \" is now faster.\"));\n        setAssignmentPanelState({\n            isOpen: false,\n            targetId: null,\n            targetType: null,\n            anchorRect: null\n        });\n    };\n    const handleAssignVillagers = (targetId, count)=>{\n        if (assignmentPanelState.targetType === \"resource\") {\n            handleAssignVillagersToNode(targetId, count);\n        } else if (assignmentPanelState.targetType === \"construction\") {\n            handleAssignVillagersToConstruction(targetId, count);\n        }\n    };\n    const handleAdvanceAge = async ()=>{\n        if (activeTasks.some((t)=>t.type === \"advance_age\")) {\n            addNotification(\"Advancement already in progress.\");\n            return;\n        }\n        if (!unlimitedResources) {\n            if (resources.food < 500 || resources.gold < 200) {\n                const missing = [];\n                if (resources.food < 500) missing.push(\"\".concat(500 - resources.food, \" Food\"));\n                if (resources.gold < 200) missing.push(\"\".concat(200 - resources.gold, \" Gold\"));\n                addNotification(\"To advance, you need \".concat(missing.join(\" and \"), \".\"));\n                return;\n            }\n            updateResources({\n                food: -500,\n                gold: -200\n            });\n        }\n        const duration = 60000;\n        if (unlimitedResources) {\n            handleTaskCompletion({\n                id: \"instant\",\n                type: \"advance_age\",\n                startTime: 0,\n                duration: 0,\n                payload: {}\n            });\n        } else {\n            const taskId = \"\".concat(Date.now(), \"-advance_age\");\n            const newTask = {\n                id: taskId,\n                type: \"advance_age\",\n                startTime: Date.now(),\n                duration\n            };\n            setActiveTasks((prev)=>[\n                    ...prev,\n                    newTask\n                ]);\n            setActivityStatus(\"Your people begin the long journey to a new age.\");\n            setBuildingManagementPanel({\n                isOpen: false,\n                type: null,\n                anchorRect: null\n            });\n        }\n    };\n    const handleExitGame = async ()=>{\n        setCurrentSaveName(null);\n        await fetchSaves();\n        setGameState(_types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU);\n    };\n    const handleDeleteGame = async (saveName)=>{\n        await (0,_services_dbService__WEBPACK_IMPORTED_MODULE_4__.deleteGameState)(saveName);\n        await fetchSaves();\n        addNotification('Deleted saga: \"'.concat(saveName, '\"'));\n    };\n    const handleToggleUnlimitedResources = ()=>{\n        const newMode = !unlimitedResources;\n        setUnlimitedResources(newMode);\n        if (newMode) {\n            setResources({\n                food: 99999,\n                wood: 99999,\n                gold: 99999,\n                stone: 99999\n            });\n            addNotification(\"Test Mode: ON - All active tasks completed.\");\n            const depletedNodeIds = new Set();\n            const tasksToComplete = [\n                ...activeTasks\n            ];\n            setActiveTasks([]);\n            tasksToComplete.forEach((task)=>{\n                if (task.type === \"gather\") {\n                    var _task_payload;\n                    if ((_task_payload = task.payload) === null || _task_payload === void 0 ? void 0 : _task_payload.resourceNodeId) {\n                        depletedNodeIds.add(task.payload.resourceNodeId);\n                        const node = resourceNodes.find((n)=>n.id === task.payload.resourceNodeId);\n                        if (node) {\n                            addToLog(\"Instantly gathered all \".concat(node.type, \" from a depleted source.\"), node.type);\n                        }\n                    }\n                }\n                handleTaskCompletion(task);\n            });\n            if (depletedNodeIds.size > 0) {\n                setResourceNodes((prev)=>prev.filter((n)=>!depletedNodeIds.has(n.id)));\n            }\n        } else {\n            addNotification(\"Test Mode: OFF\");\n        }\n    };\n    const handleUseItem = (itemId)=>{\n        const item = inventory.find((i)=>i.id === itemId);\n        if (!item) return;\n        const baseItemId = item.id.split(\"-\")[0];\n        switch(baseItemId){\n            case \"scroll_of_haste\":\n            case \"blueprint_of_the_master\":\n                {\n                    const constructionTasks = activeTasks.filter((t)=>t.type === \"build\");\n                    if (constructionTasks.length > 0) {\n                        var _BUILDINGS_INFO_find;\n                        const taskToBoost = constructionTasks.sort((a, b)=>b.startTime + b.duration - (a.startTime + a.duration))[0];\n                        const timeReduction = baseItemId === \"scroll_of_haste\" ? 15000 : 60000;\n                        setActiveTasks((prev)=>prev.map((t)=>t.id === taskToBoost.id ? {\n                                    ...t,\n                                    duration: Math.max(0, t.duration - timeReduction)\n                                } : t));\n                        addToLog(\"Used \".concat(item.name, \" to speed up construction of the \").concat((_BUILDINGS_INFO_find = BUILDINGS_INFO.find((b)=>{\n                            var _taskToBoost_payload;\n                            return b.id === ((_taskToBoost_payload = taskToBoost.payload) === null || _taskToBoost_payload === void 0 ? void 0 : _taskToBoost_payload.buildingType);\n                        })) === null || _BUILDINGS_INFO_find === void 0 ? void 0 : _BUILDINGS_INFO_find.name, \".\"), \"item\");\n                    }\n                    break;\n                }\n            case \"hearty_meal\":\n                {\n                    updateResources({\n                        food: 75\n                    });\n                    addToLog(\"Used \".concat(item.name, \" to gain 75 food.\"), \"item\");\n                    break;\n                }\n            case \"builders_charm\":\n                {\n                    setActiveBuffs((prev)=>({\n                            ...prev,\n                            buildTimeReduction: {\n                                percentage: 0.1,\n                                uses: 1\n                            }\n                        }));\n                    addToLog(\"Used \".concat(item.name, \". The next building will be constructed 10% faster.\"), \"item\");\n                    break;\n                }\n            case \"drillmasters_whistle\":\n                {\n                    setActiveBuffs((prev)=>({\n                            ...prev,\n                            trainTimeReduction: {\n                                percentage: 0.25,\n                                uses: 5\n                            }\n                        }));\n                    addToLog(\"Used \".concat(item.name, \". The next 5 military units will train 25% faster.\"), \"item\");\n                    break;\n                }\n            case \"golden_harvest\":\n                {\n                    setActiveBuffs((prev)=>({\n                            ...prev,\n                            resourceBoost: [\n                                ...prev.resourceBoost || [],\n                                {\n                                    resource: \"food\",\n                                    multiplier: 1.5,\n                                    endTime: Date.now() + 60000\n                                }\n                            ]\n                        }));\n                    addToLog(\"Used \".concat(item.name, \". Food gathering is boosted by 50% for 60 seconds.\"), \"item\");\n                    break;\n                }\n            case \"shard_of_the_ancients\":\n                {\n                    const constructionTasks = activeTasks.filter((t)=>t.type === \"build\");\n                    if (constructionTasks.length > 0) {\n                        var _BUILDINGS_INFO_find1;\n                        const taskToComplete = constructionTasks.sort((a, b)=>b.startTime + b.duration - (a.startTime + a.duration))[0];\n                        setActiveTasks((prev)=>prev.filter((t)=>t.id !== taskToComplete.id));\n                        handleTaskCompletion(taskToComplete);\n                        addToLog(\"Used \".concat(item.name, \" to instantly complete the \").concat((_BUILDINGS_INFO_find1 = BUILDINGS_INFO.find((b)=>{\n                            var _taskToComplete_payload;\n                            return b.id === ((_taskToComplete_payload = taskToComplete.payload) === null || _taskToComplete_payload === void 0 ? void 0 : _taskToComplete_payload.buildingType);\n                        })) === null || _BUILDINGS_INFO_find1 === void 0 ? void 0 : _BUILDINGS_INFO_find1.name, \".\"), \"item\");\n                    }\n                    break;\n                }\n            case \"heart_of_the_mountain\":\n                {\n                    const now = Date.now();\n                    setActiveBuffs((prev)=>({\n                            ...prev,\n                            resourceBoost: [\n                                ...prev.resourceBoost || [],\n                                {\n                                    resource: \"gold\",\n                                    multiplier: 2,\n                                    endTime: now + 120000\n                                },\n                                {\n                                    resource: \"stone\",\n                                    multiplier: 2,\n                                    endTime: now + 120000\n                                }\n                            ]\n                        }));\n                    addToLog(\"Used \".concat(item.name, \". Gold and Stone gathering are doubled for 2 minutes.\"), \"item\");\n                    break;\n                }\n            case \"banner_of_command\":\n                {\n                    // Since there is no combat, we'll make this a permanent training speed boost\n                    const currentBonus = activeBuffs.permanentTrainTimeReduction || 0;\n                    setActiveBuffs((prev)=>({\n                            ...prev,\n                            permanentTrainTimeReduction: currentBonus + 0.05\n                        }));\n                    addToLog(\"Used \".concat(item.name, \". All military units will now train 5% faster, permanently.\"), \"item\");\n                    break;\n                }\n            case \"whisper_of_the_creator\":\n                {\n                    const tasksToComplete = [\n                        ...activeTasks\n                    ];\n                    setActiveTasks([]);\n                    tasksToComplete.forEach(handleTaskCompletion);\n                    addToLog(\"A divine whisper echoes through your civilization, and all work is instantly finished.\", \"item\");\n                    break;\n                }\n        }\n        setInventory((prev)=>prev.filter((i)=>i.id !== itemId));\n        setInventoryPanelState({\n            isOpen: false,\n            anchorRect: null\n        });\n    };\n    const buildingCounts = Object.keys(buildings).reduce((acc, key)=>{\n        const buildingType = key;\n        acc[buildingType] = buildings[buildingType].length;\n        return acc;\n    }, {});\n    const idleVillagerCount = units.villagers.filter((v)=>!v.currentTask).length;\n    const assignmentTarget = assignmentPanelState.targetType === \"resource\" ? resourceNodes.find((n)=>n.id === assignmentPanelState.targetId) : activeTasks.find((t)=>t.type === \"build\" && t.id === assignmentPanelState.targetId);\n    const closeAllPanels = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setUnitManagementPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                type: null,\n                anchorRect: null\n            } : p);\n        setBuildingManagementPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                type: null,\n                instanceId: undefined,\n                anchorRect: null\n            } : p);\n        setBuildPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                villagerId: null,\n                anchorRect: null\n            } : p);\n        setAssignmentPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                targetId: null,\n                targetType: null,\n                anchorRect: null\n            } : p);\n        setCivPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n        setAllBuildingsPanel((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n        setInventoryPanelState((p)=>p.isOpen ? {\n                isOpen: false,\n                anchorRect: null\n            } : p);\n    }, []);\n    const handleOpenBuildingPanel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((type, instanceId, rect)=>{\n        closeAllPanels();\n        setBuildingManagementPanel({\n            isOpen: true,\n            type,\n            instanceId,\n            anchorRect: rect\n        });\n    }, [\n        closeAllPanels\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClickOutside = (event)=>{\n            const isAnyPanelOpen = unitManagementPanel.isOpen || buildingManagementPanel.isOpen || buildPanelState.isOpen || assignmentPanelState.isOpen || civPanelState.isOpen || allBuildingsPanel.isOpen || inventoryPanelState.isOpen;\n            if (!isAnyPanelOpen) {\n                return;\n            }\n            const target = event.target;\n            if (target.closest(\".sci-fi-panel-popup\")) {\n                return;\n            }\n            closeAllPanels();\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>{\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n    }, [\n        unitManagementPanel.isOpen,\n        buildingManagementPanel.isOpen,\n        buildPanelState.isOpen,\n        assignmentPanelState.isOpen,\n        civPanelState.isOpen,\n        allBuildingsPanel.isOpen,\n        inventoryPanelState.isOpen,\n        closeAllPanels\n    ]);\n    const renderContent = ()=>{\n        switch(gameState){\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.MENU:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StartScreen__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                    onNewGame: handleStartNewGame,\n                    onResumeGame: handleResumeGame,\n                    savedGames: allSaves,\n                    onDeleteGame: handleDeleteGame\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 1220,\n                    columnNumber: 24\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.LOADING:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 1222,\n                    columnNumber: 24\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING:\n                if (!civilization) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoadingScreen__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 1224,\n                    columnNumber: 43\n                }, undefined);\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_GameUI__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                            civilization: civilization,\n                            resources: resources,\n                            units: units,\n                            buildings: buildings,\n                            population: population,\n                            currentAge: currentAge,\n                            gameLog: gameLog,\n                            resourceDeltas: resourceDeltas,\n                            activityStatus: activityStatus,\n                            unitList: UNIT_INFO,\n                            buildingList: BUILDINGS_INFO,\n                            onOpenUnitPanel: (type, rect)=>{\n                                closeAllPanels();\n                                setUnitManagementPanel({\n                                    isOpen: true,\n                                    type,\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenBuildingPanel: handleOpenBuildingPanel,\n                            onOpenAllBuildingsPanel: (rect)=>{\n                                closeAllPanels();\n                                setAllBuildingsPanel({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            playerAction: playerAction,\n                            onConfirmPlacement: handleConfirmPlacement,\n                            onCancelPlayerAction: handleCancelPlayerAction,\n                            onBuildingClick: (building, rect)=>{\n                                closeAllPanels();\n                                const type = Object.keys(buildings).find((key)=>buildings[key].some((b)=>b.id === building.id));\n                                if (type) setBuildingManagementPanel({\n                                    isOpen: true,\n                                    type,\n                                    instanceId: building.id,\n                                    anchorRect: rect\n                                });\n                            },\n                            mapDimensions: MAP_DIMENSIONS,\n                            activeTasks: activeTasks,\n                            onExitGame: handleExitGame,\n                            onOpenCivPanel: (rect)=>{\n                                closeAllPanels();\n                                setCivPanelState({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            },\n                            resourceNodes: resourceNodes,\n                            onOpenAssignmentPanel: (nodeId, rect)=>{\n                                closeAllPanels();\n                                setAssignmentPanelState({\n                                    isOpen: true,\n                                    targetId: nodeId,\n                                    targetType: \"resource\",\n                                    anchorRect: rect\n                                });\n                            },\n                            onOpenConstructionPanel: (constructionId, rect)=>{\n                                closeAllPanels();\n                                setAssignmentPanelState({\n                                    isOpen: true,\n                                    targetId: constructionId,\n                                    targetType: \"construction\",\n                                    anchorRect: rect\n                                });\n                            },\n                            gatherInfo: GATHER_INFO,\n                            currentEvent: currentEvent,\n                            onEventChoice: handleEventChoice,\n                            inventory: inventory,\n                            onOpenInventoryPanel: (rect)=>{\n                                closeAllPanels();\n                                setInventoryPanelState({\n                                    isOpen: true,\n                                    anchorRect: rect\n                                });\n                            }\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1227,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BuildPanel__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                            isOpen: buildPanelState.isOpen,\n                            onClose: ()=>setBuildPanelState({\n                                    isOpen: false,\n                                    villagerId: null,\n                                    anchorRect: null\n                                }),\n                            onStartPlacement: handleStartPlacement,\n                            resources: resources,\n                            buildingCounts: buildingCounts,\n                            buildingList: BUILDINGS_INFO,\n                            anchorRect: buildPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1263,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_UnitManagementPanel__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                            isOpen: unitManagementPanel.isOpen,\n                            onClose: ()=>setUnitManagementPanel({\n                                    isOpen: false,\n                                    type: null,\n                                    anchorRect: null\n                                }),\n                            type: unitManagementPanel.type,\n                            units: units,\n                            onUpdateUnit: handleUpdateUnit,\n                            onDismissUnit: handleDismissSpecificUnit,\n                            onInitiateBuild: (villagerId, rect)=>{\n                                closeAllPanels();\n                                handleInitiateBuild(villagerId, rect);\n                            },\n                            getVillagerTaskDetails: getVillagerTaskDetails,\n                            anchorRect: unitManagementPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1272,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BuildingManagementPanel__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                            isOpen: buildingManagementPanel.isOpen,\n                            onClose: ()=>setBuildingManagementPanel({\n                                    isOpen: false,\n                                    type: null,\n                                    anchorRect: null\n                                }),\n                            panelState: buildingManagementPanel,\n                            buildings: buildings,\n                            buildingList: BUILDINGS_INFO,\n                            onUpdateBuilding: handleUpdateBuilding,\n                            onDemolishBuilding: handleDemolishBuilding,\n                            onTrainUnits: handleTrainUnits,\n                            onTrainVillagers: handleTrainVillagers,\n                            resources: resources,\n                            population: population,\n                            unitList: UNIT_INFO,\n                            onAdvanceAge: handleAdvanceAge,\n                            activeTasks: activeTasks,\n                            anchorRect: buildingManagementPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1283,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ResourceAssignmentPanel__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                            isOpen: assignmentPanelState.isOpen,\n                            onClose: ()=>setAssignmentPanelState({\n                                    isOpen: false,\n                                    targetId: null,\n                                    targetType: null,\n                                    anchorRect: null\n                                }),\n                            assignmentTarget: assignmentTarget || null,\n                            idleVillagerCount: idleVillagerCount,\n                            onAssignVillagers: handleAssignVillagers,\n                            onRecallVillagers: handleRecallVillagers,\n                            gatherInfo: GATHER_INFO,\n                            buildingList: BUILDINGS_INFO,\n                            units: units,\n                            anchorRect: assignmentPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1300,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CivilizationPanel__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                            isOpen: civPanelState.isOpen,\n                            onClose: ()=>setCivPanelState({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            civilization: civilization,\n                            anchorRect: civPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1312,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AllBuildingsPanel__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                            isOpen: allBuildingsPanel.isOpen,\n                            onClose: ()=>setAllBuildingsPanel({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            buildingList: BUILDINGS_INFO,\n                            buildingCounts: buildingCounts,\n                            activeTasks: activeTasks,\n                            onOpenBuildingPanel: handleOpenBuildingPanel,\n                            anchorRect: allBuildingsPanel.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1318,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_InventoryPanel__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                            isOpen: inventoryPanelState.isOpen,\n                            onClose: ()=>setInventoryPanelState({\n                                    isOpen: false,\n                                    anchorRect: null\n                                }),\n                            inventory: inventory,\n                            onUseItem: handleUseItem,\n                            activeTasks: activeTasks,\n                            activeBuffs: activeBuffs,\n                            anchorRect: inventoryPanelState.anchorRect\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 1327,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true);\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StartScreen__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                    onNewGame: handleStartNewGame,\n                    onResumeGame: handleResumeGame,\n                    savedGames: allSaves,\n                    onDeleteGame: handleDeleteGame\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 1339,\n                    columnNumber: 24\n                }, undefined);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-stone-dark flex items-center justify-center p-4\",\n        children: [\n            gameState === _types__WEBPACK_IMPORTED_MODULE_2__.GameStatus.PLAYING && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handleToggleUnlimitedResources,\n                className: \"fixed bottom-4 left-4 z-[101] bg-brand-gold text-stone-dark font-bold py-1 px-3 rounded-full text-xs shadow-lg hover:scale-105 transition-transform\",\n                \"aria-label\": \"Toggle unlimited resources test mode\",\n                children: [\n                    \"Test Mode: \",\n                    unlimitedResources ? \"ON\" : \"OFF\"\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 1346,\n                columnNumber: 18\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_NotificationManager__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                notifications: notifications,\n                onRemoveNotification: removeNotification\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 1354,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"w-full max-w-7xl mx-auto\",\n                children: renderContent()\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 1355,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/src/app/page.tsx\",\n        lineNumber: 1344,\n        columnNumber: 9\n    }, undefined);\n};\n_s(GamePage, \"Mg6UVGouxeZwNCTf2NpYhhQGVEk=\");\n_c = GamePage;\n/* harmony default export */ __webpack_exports__[\"default\"] = (GamePage);\nvar _c;\n$RefreshReg$(_c, \"GamePage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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NEJBQ1gyRSxRQUFRZ0Isb0JBQW9CaEIsTUFBTTs0QkFDbENxVSxTQUFTLElBQU1wVCx1QkFBdUI7b0NBQUVqQixRQUFRO29DQUFPRSxZQUFZO2dDQUFLOzRCQUN4RVQsV0FBV0E7NEJBQ1h5VixXQUFXNUQ7NEJBQ1hqUyxhQUFhQTs0QkFDYk0sYUFBYUE7NEJBQ2JPLFlBQVljLG9CQUFvQmQsVUFBVTs7Ozs7Ozs7WUFJMUQ7Z0JBQ0kscUJBQU8sOERBQUN0RiwrREFBV0E7b0JBQUNvWSxXQUFXbEs7b0JBQW9CbUssY0FBY3JKO29CQUFrQnNKLFlBQVluVTtvQkFBVW9VLGNBQWNuQzs7Ozs7O1FBQy9IO0lBQ0o7SUFFQSxxQkFDSSw4REFBQ21FO1FBQUlDLFdBQVU7O1lBQ1YvWCxjQUFjcEQsOENBQVVBLENBQUM2SCxPQUFPLGtCQUM1Qiw4REFBQ3VUO2dCQUNFQyxTQUFTckU7Z0JBQ1RtRSxXQUFVO2dCQUNWRyxjQUFXOztvQkFDZDtvQkFDZTFXLHFCQUFxQixPQUFPOzs7Ozs7OzBCQUdoRCw4REFBQzlELHdFQUFtQkE7Z0JBQUM0RCxlQUFlQTtnQkFBZTZXLHNCQUFzQm5UOzs7Ozs7MEJBQ3pFLDhEQUFDb1Q7Z0JBQUtMLFdBQVU7MEJBQ1hyQzs7Ozs7Ozs7Ozs7O0FBSWpCO0dBM3hDTTVWO0tBQUFBO0FBNnhDTiwrREFBZUEsUUFBUUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvYXBwL3BhZ2UudHN4P2Y2OGEiXSwic291cmNlc0NvbnRlbnQiOlsiXG4ndXNlIGNsaWVudCc7XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgR2FtZVN0YXR1cywgdHlwZSBDaXZpbGl6YXRpb24sIHR5cGUgUmVzb3VyY2VzLCB0eXBlIFVuaXRzLCB0eXBlIEJ1aWxkaW5ncywgdHlwZSBHYW1lRXZlbnQsIHR5cGUgR2FtZUxvZ0VudHJ5LCB0eXBlIExvZ0ljb25UeXBlLCB0eXBlIFJlc291cmNlRGVsdGFzLCBCdWlsZGluZ1R5cGUsIEJ1aWxkaW5nSW5mbywgVUlOb3RpZmljYXRpb24sIEZ1bGxHYW1lU3RhdGUsIFZpbGxhZ2VyLCBNaWxpdGFyeVVuaXQsIFVuaXRJbmZvLCBNaWxpdGFyeVVuaXRUeXBlLCBHYW1lVGFzaywgVGFza1R5cGUsIFJlc291cmNlTm9kZSwgUmVzb3VyY2VOb2RlVHlwZSwgUGxheWVyQWN0aW9uU3RhdGUsIEdhbWVFdmVudENob2ljZSwgR2FtZUl0ZW0sIFJld2FyZCwgQWN0aXZlQnVmZnMsIEJ1aWxkaW5nSW5zdGFuY2UgfSBmcm9tICdAL3R5cGVzJztcbmltcG9ydCB7IGdldFByZWRlZmluZWRDaXZpbGl6YXRpb24sIGdldFByZWRlZmluZWRHYW1lRXZlbnQsIGdldFByZWRlZmluZWRBZ2UgfSBmcm9tICdAL3NlcnZpY2VzL2dlbWluaVNlcnZpY2UnO1xuaW1wb3J0IHsgc2F2ZUdhbWVTdGF0ZSwgbG9hZEdhbWVTdGF0ZSwgZ2V0QWxsU2F2ZU5hbWVzLCBkZWxldGVHYW1lU3RhdGUgfSBmcm9tICdAL3NlcnZpY2VzL2RiU2VydmljZSc7XG5pbXBvcnQgeyBnZXRSYW5kb21OYW1lcyB9IGZyb20gJ0Avc2VydmljZXMvbmFtZVNlcnZpY2UnO1xuaW1wb3J0IHsgR0FNRV9JVEVNUyB9IGZyb20gJ0AvZGF0YS9pdGVtQ29udGVudCc7XG5pbXBvcnQgR2FtZVVJIGZyb20gJ0AvY29tcG9uZW50cy9HYW1lVUknO1xuaW1wb3J0IFN0YXJ0U2NyZWVuIGZyb20gJ0AvY29tcG9uZW50cy9TdGFydFNjcmVlbic7XG5pbXBvcnQgTG9hZGluZ1NjcmVlbiBmcm9tICdAL2NvbXBvbmVudHMvTG9hZGluZ1NjcmVlbic7XG5pbXBvcnQgQnVpbGRQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvQnVpbGRQYW5lbCc7XG5pbXBvcnQgTm90aWZpY2F0aW9uTWFuYWdlciBmcm9tICdAL2NvbXBvbmVudHMvTm90aWZpY2F0aW9uTWFuYWdlcic7XG5pbXBvcnQgVW5pdE1hbmFnZW1lbnRQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvVW5pdE1hbmFnZW1lbnRQYW5lbCc7XG5pbXBvcnQgQnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL0J1aWxkaW5nTWFuYWdlbWVudFBhbmVsJztcbmltcG9ydCBSZXNvdXJjZUFzc2lnbm1lbnRQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvUmVzb3VyY2VBc3NpZ25tZW50UGFuZWwnO1xuaW1wb3J0IENpdmlsaXphdGlvblBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9DaXZpbGl6YXRpb25QYW5lbCc7XG5pbXBvcnQgQWxsQnVpbGRpbmdzUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL0FsbEJ1aWxkaW5nc1BhbmVsJztcbmltcG9ydCBJbnZlbnRvcnlQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvSW52ZW50b3J5UGFuZWwnO1xuXG5jb25zdCBCVUlMRElOR1NfSU5GTzogQnVpbGRpbmdJbmZvW10gPSBbXG4gICAgeyBpZDogJ2hvdXNlcycsIG5hbWU6ICdIb3VzZScsIGRlc2NyaXB0aW9uOiAnSW5jcmVhc2VzIHBvcHVsYXRpb24gY2FwYWNpdHkgYnkgNS4nLCBjb3N0OiB7IHdvb2Q6IDUwIH0sIGlzVW5pcXVlOiBmYWxzZSwgYnVpbGRUaW1lOiAxNSwgaHA6IDU1MCB9LFxuICAgIHsgaWQ6ICdiYXJyYWNrcycsIG5hbWU6ICdCYXJyYWNrcycsIGRlc2NyaXB0aW9uOiAnQWxsb3dzIHRyYWluaW5nIG9mIFN3b3Jkc21lbi4nLCBjb3N0OiB7IHdvb2Q6IDE1MCwgc3RvbmU6IDUwIH0sIGlzVW5pcXVlOiB0cnVlLCBidWlsZFRpbWU6IDYwLCBocDogMTIwMCB9LFxuICAgIHsgaWQ6ICdhcmNoZXJ5UmFuZ2UnLCBuYW1lOiAnQXJjaGVyeSBSYW5nZScsIGRlc2NyaXB0aW9uOiAnQWxsb3dzIHRyYWluaW5nIG9mIEFyY2hlcnMuJywgY29zdDogeyB3b29kOiAxNzUgfSwgaXNVbmlxdWU6IHRydWUsIGJ1aWxkVGltZTogNjAsIGhwOiAxMjAwIH0sXG4gICAgeyBpZDogJ3N0YWJsZScsIG5hbWU6ICdTdGFibGVzJywgZGVzY3JpcHRpb246ICdBbGxvd3MgdHJhaW5pbmcgb2YgS25pZ2h0cy4nLCBjb3N0OiB7IHdvb2Q6IDE3NSwgZ29sZDogNzUgfSwgaXNVbmlxdWU6IHRydWUsIGJ1aWxkVGltZTogNzUsIGhwOiAxMjAwIH0sXG4gICAgeyBpZDogJ3NpZWdlV29ya3Nob3AnLCBuYW1lOiAnU2llZ2UgV29ya3Nob3AnLCBkZXNjcmlwdGlvbjogJ0NvbnN0cnVjdHMgcG93ZXJmdWwgQ2F0YXB1bHRzLicsIGNvc3Q6IHsgd29vZDogMjAwLCBnb2xkOiAxNTAgfSwgaXNVbmlxdWU6IHRydWUsIGJ1aWxkVGltZTogOTAsIGhwOiAyMTAwIH0sXG4gICAgeyBpZDogJ2JsYWNrc21pdGgnLCBuYW1lOiAnQmxhY2tzbWl0aCcsIGRlc2NyaXB0aW9uOiAnUmVzZWFyY2hlcyBpbmZhbnRyeSBhbmQgY2F2YWxyeSB1cGdyYWRlcy4nLCBjb3N0OiB7IHdvb2Q6IDEwMCwgZ29sZDogMTAwIH0sIGlzVW5pcXVlOiB0cnVlLCBidWlsZFRpbWU6IDQ1LCBocDogMjEwMCB9LFxuICAgIHsgaWQ6ICd3YXRjaFRvd2VyJywgbmFtZTogJ1dhdGNoIFRvd2VyJywgZGVzY3JpcHRpb246ICdQcm92aWRlcyBkZWZlbnNlIGFnYWluc3QgcmFpZHMuJywgY29zdDogeyBzdG9uZTogMTI1IH0sIGlzVW5pcXVlOiB0cnVlLCBidWlsZFRpbWU6IDQ1LCBocDogMTUwMCB9LFxuICAgIHsgaWQ6ICd0b3duQ2VudGVyJywgbmFtZTogJ1Rvd24gQ2VudGVyJywgZGVzY3JpcHRpb246ICdUaGUgaGVhcnQgb2YgeW91ciBzZXR0bGVtZW50LicsIGNvc3Q6IHt9LCBpc1VuaXF1ZTogdHJ1ZSwgYnVpbGRUaW1lOiAwLCBocDogMjQwMCB9XG5dO1xuXG5jb25zdCBVTklUX0lORk86IFVuaXRJbmZvW10gPSBbXG4gICAgeyBpZDogJ3N3b3Jkc21hbicsIG5hbWU6ICdTd29yZHNtYW4nLCBkZXNjcmlwdGlvbjogJ0Jhc2ljIG1lbGVlIGluZmFudHJ5LicsIGNvc3Q6IHsgZm9vZDogNjAsIGdvbGQ6IDIwIH0sIHJlcXVpcmVkQnVpbGRpbmc6ICdiYXJyYWNrcycsIHRyYWluVGltZTogMjIgfSxcbiAgICB7IGlkOiAnYXJjaGVyJywgbmFtZTogJ0FyY2hlcicsIGRlc2NyaXB0aW9uOiAnUmFuZ2VkIHVuaXQgZWZmZWN0aXZlIGFnYWluc3QgaW5mYW50cnkuJywgY29zdDogeyBmb29kOiAzMCwgd29vZDogNDAgfSwgcmVxdWlyZWRCdWlsZGluZzogJ2FyY2hlcnlSYW5nZScsIHRyYWluVGltZTogMjUgfSxcbiAgICB7IGlkOiAna25pZ2h0JywgbmFtZTogJ0tuaWdodCcsIGRlc2NyaXB0aW9uOiAnRmFzdCBhbmQgcG93ZXJmdWwgY2F2YWxyeS4nLCBjb3N0OiB7IGZvb2Q6IDYwLCBnb2xkOiA3NSB9LCByZXF1aXJlZEJ1aWxkaW5nOiAnc3RhYmxlJywgdHJhaW5UaW1lOiAzMCB9LFxuICAgIHsgaWQ6ICdjYXRhcHVsdCcsIG5hbWU6ICdDYXRhcHVsdCcsIGRlc2NyaXB0aW9uOiAnU2llZ2UgZW5naW5lIGRldmFzdGF0aW5nIHRvIGJ1aWxkaW5ncy4nLCBjb3N0OiB7IHdvb2Q6IDE1MCwgZ29sZDogMTUwIH0sIHJlcXVpcmVkQnVpbGRpbmc6ICdzaWVnZVdvcmtzaG9wJywgdHJhaW5UaW1lOiA0NSB9LFxuXTtcblxuY29uc3QgR0FUSEVSX0lORk86IFJlY29yZDxSZXNvdXJjZU5vZGVUeXBlLCB7IHJhdGU6IG51bWJlciB9PiA9IHtcbiAgICBmb29kOiB7IHJhdGU6IDEwIH0sXG4gICAgd29vZDogeyByYXRlOiA4IH0sXG4gICAgZ29sZDogeyByYXRlOiA1IH0sXG4gICAgc3RvbmU6IHsgcmF0ZTogNiB9LFxufVxuXG5jb25zdCBpbml0aWFsQnVpbGRpbmdzU3RhdGU6IEJ1aWxkaW5ncyA9IHtcbiAgICBob3VzZXM6IFtdLCBiYXJyYWNrczogW10sIGFyY2hlcnlSYW5nZTogW10sIHN0YWJsZTogW10sIHNpZWdlV29ya3Nob3A6IFtdLCBibGFja3NtaXRoOiBbXSwgd2F0Y2hUb3dlcjogW10sIHRvd25DZW50ZXI6IFtdXG59O1xuXG5jb25zdCBNQVBfRElNRU5TSU9OUyA9IHsgd2lkdGg6IDI1LCBoZWlnaHQ6IDE4IH07XG5cbmNvbnN0IEdhbWVQYWdlOiBSZWFjdC5GQyA9ICgpID0+IHtcbiAgICBjb25zdCBbZ2FtZVN0YXRlLCBzZXRHYW1lU3RhdGVdID0gdXNlU3RhdGU8R2FtZVN0YXR1cz4oR2FtZVN0YXR1cy5NRU5VKTtcbiAgICBjb25zdCBbY2l2aWxpemF0aW9uLCBzZXRDaXZpbGl6YXRpb25dID0gdXNlU3RhdGU8Q2l2aWxpemF0aW9uIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW3Jlc291cmNlcywgc2V0UmVzb3VyY2VzXSA9IHVzZVN0YXRlPFJlc291cmNlcz4oeyBmb29kOiAyMDAsIHdvb2Q6IDE1MCwgZ29sZDogNTAsIHN0b25lOiAxMDAgfSk7XG4gICAgY29uc3QgW3VuaXRzLCBzZXRVbml0c10gPSB1c2VTdGF0ZTxVbml0cz4oeyB2aWxsYWdlcnM6IFtdLCBtaWxpdGFyeTogW10gfSk7XG4gICAgY29uc3QgW2J1aWxkaW5ncywgc2V0QnVpbGRpbmdzXSA9IHVzZVN0YXRlPEJ1aWxkaW5ncz4oaW5pdGlhbEJ1aWxkaW5nc1N0YXRlKTtcbiAgICBjb25zdCBbY3VycmVudEFnZSwgc2V0Q3VycmVudEFnZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCdOb21hZGljIEFnZScpO1xuICAgIGNvbnN0IFtnYW1lTG9nLCBzZXRHYW1lTG9nXSA9IHVzZVN0YXRlPEdhbWVMb2dFbnRyeVtdPihbXSk7XG4gICAgY29uc3QgW2N1cnJlbnRFdmVudCwgc2V0Q3VycmVudEV2ZW50XSA9IHVzZVN0YXRlPEdhbWVFdmVudCB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFtyZXNvdXJjZURlbHRhcywgc2V0UmVzb3VyY2VEZWx0YXNdID0gdXNlU3RhdGU8UmVzb3VyY2VEZWx0YXM+KHt9KTtcbiAgICBjb25zdCBbYWN0aXZpdHlTdGF0dXMsIHNldEFjdGl2aXR5U3RhdHVzXSA9IHVzZVN0YXRlPHN0cmluZz4oJ1lvdXIgc3RvcnkgYmVnaW5zLi4uJyk7XG4gICAgY29uc3QgW25vdGlmaWNhdGlvbnMsIHNldE5vdGlmaWNhdGlvbnNdID0gdXNlU3RhdGU8VUlOb3RpZmljYXRpb25bXT4oW10pO1xuICAgIGNvbnN0IFt1bmxpbWl0ZWRSZXNvdXJjZXMsIHNldFVubGltaXRlZFJlc291cmNlc10gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gICAgY29uc3QgW2FsbFNhdmVzLCBzZXRBbGxTYXZlc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICAgIGNvbnN0IFtjdXJyZW50U2F2ZU5hbWUsIHNldEN1cnJlbnRTYXZlTmFtZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbcGxheWVyQWN0aW9uLCBzZXRQbGF5ZXJBY3Rpb25dID0gdXNlU3RhdGU8UGxheWVyQWN0aW9uU3RhdGU+KG51bGwpO1xuICAgIGNvbnN0IFthY3RpdmVUYXNrcywgc2V0QWN0aXZlVGFza3NdID0gdXNlU3RhdGU8R2FtZVRhc2tbXT4oW10pO1xuICAgIGNvbnN0IFtyZXNvdXJjZU5vZGVzLCBzZXRSZXNvdXJjZU5vZGVzXSA9IHVzZVN0YXRlPFJlc291cmNlTm9kZVtdPihbXSk7XG4gICAgY29uc3QgW2ludmVudG9yeSwgc2V0SW52ZW50b3J5XSA9IHVzZVN0YXRlPEdhbWVJdGVtW10+KFtdKTtcbiAgICBjb25zdCBbYWN0aXZlQnVmZnMsIHNldEFjdGl2ZUJ1ZmZzXSA9IHVzZVN0YXRlPEFjdGl2ZUJ1ZmZzPih7IHJlc291cmNlQm9vc3Q6IFtdIH0pO1xuICAgIFxuICAgIC8vIFBhbmVsIFN0YXRlc1xuICAgIGNvbnN0IFtidWlsZFBhbmVsU3RhdGUsIHNldEJ1aWxkUGFuZWxTdGF0ZV0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgdmlsbGFnZXJJZDogc3RyaW5nIHwgbnVsbDsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGwgfT4oeyBpc09wZW46IGZhbHNlLCB2aWxsYWdlcklkOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIGNvbnN0IFt1bml0TWFuYWdlbWVudFBhbmVsLCBzZXRVbml0TWFuYWdlbWVudFBhbmVsXSA9IHVzZVN0YXRlPHsgaXNPcGVuOiBib29sZWFuOyB0eXBlOiAndmlsbGFnZXJzJyB8ICdtaWxpdGFyeScgfCBudWxsOyBhbmNob3JSZWN0OiBET01SZWN0IHwgbnVsbDsgfT4oeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIGNvbnN0IFtidWlsZGluZ01hbmFnZW1lbnRQYW5lbCwgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWxdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IHR5cGU6IEJ1aWxkaW5nVHlwZSB8IG51bGw7IGluc3RhbmNlSWQ/OiBzdHJpbmc7IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsOyB9Pih7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgY29uc3QgW2FsbEJ1aWxkaW5nc1BhbmVsLCBzZXRBbGxCdWlsZGluZ3NQYW5lbF0gPSB1c2VTdGF0ZTx7IGlzT3BlbjogYm9vbGVhbjsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7IH0+KHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICBjb25zdCBbYXNzaWdubWVudFBhbmVsU3RhdGUsIHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlXSA9IHVzZVN0YXRlPHsgaXNPcGVuOiBib29sZWFuOyB0YXJnZXRJZDogc3RyaW5nIHwgbnVsbDsgdGFyZ2V0VHlwZTogJ3Jlc291cmNlJyB8ICdjb25zdHJ1Y3Rpb24nIHwgbnVsbDsgYW5jaG9yUmVjdDogRE9NUmVjdCB8IG51bGw7IH0+KHsgaXNPcGVuOiBmYWxzZSwgdGFyZ2V0SWQ6IG51bGwsIHRhcmdldFR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgY29uc3QgW2NpdlBhbmVsU3RhdGUsIHNldENpdlBhbmVsU3RhdGVdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsOyB9Pih7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgY29uc3QgW2ludmVudG9yeVBhbmVsU3RhdGUsIHNldEludmVudG9yeVBhbmVsU3RhdGVdID0gdXNlU3RhdGU8eyBpc09wZW46IGJvb2xlYW47IGFuY2hvclJlY3Q6IERPTVJlY3QgfCBudWxsOyB9Pih7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG5cbiAgICBjb25zdCBkZWx0YVRpbWVvdXRSZWYgPSB1c2VSZWY8eyBba2V5IGluIGtleW9mIFJlc291cmNlc10/OiBudW1iZXIgfT4oe30pO1xuICAgIGNvbnN0IGV2ZW50VGltZXJSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBsYXN0VGlja1JlZiA9IHVzZVJlZjxudW1iZXI+KERhdGUubm93KCkpO1xuICAgIGNvbnN0IGFuaW1hdGlvbkZyYW1lUmVmID0gdXNlUmVmPG51bWJlcj4oKTtcblxuICAgIGNvbnN0IHBvcHVsYXRpb24gPSB7XG4gICAgICAgIGN1cnJlbnQ6IHVuaXRzLnZpbGxhZ2Vycy5sZW5ndGggKyB1bml0cy5taWxpdGFyeS5sZW5ndGgsXG4gICAgICAgIGNhcGFjaXR5OiAoYnVpbGRpbmdzLnRvd25DZW50ZXI/Lmxlbmd0aCA+IDAgPyAyMCA6IDApICsgYnVpbGRpbmdzLmhvdXNlcy5sZW5ndGggKiA1LFxuICAgIH07XG4gICAgXG4gICAgY29uc3QgZmV0Y2hTYXZlcyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgbmFtZXMgPSBhd2FpdCBnZXRBbGxTYXZlTmFtZXMoKTtcbiAgICAgICAgc2V0QWxsU2F2ZXMobmFtZXMpO1xuICAgIH0sIFtdKTtcbiAgICBcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBmZXRjaFNhdmVzKCk7XG4gICAgfSwgW2ZldGNoU2F2ZXNdKTtcbiAgICBcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZ2FtZVN0YXRlID09PSBHYW1lU3RhdHVzLlBMQVlJTkcgJiYgY2l2aWxpemF0aW9uICYmIGN1cnJlbnRTYXZlTmFtZSkge1xuICAgICAgICAgICAgY29uc3QgZnVsbFN0YXRlOiBGdWxsR2FtZVN0YXRlID0ge1xuICAgICAgICAgICAgICAgIGNpdmlsaXphdGlvbixcbiAgICAgICAgICAgICAgICByZXNvdXJjZXMsXG4gICAgICAgICAgICAgICAgdW5pdHMsXG4gICAgICAgICAgICAgICAgYnVpbGRpbmdzLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRBZ2UsXG4gICAgICAgICAgICAgICAgZ2FtZUxvZyxcbiAgICAgICAgICAgICAgICBhY3RpdmVUYXNrcyxcbiAgICAgICAgICAgICAgICByZXNvdXJjZU5vZGVzLFxuICAgICAgICAgICAgICAgIGludmVudG9yeSxcbiAgICAgICAgICAgICAgICBhY3RpdmVCdWZmcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzYXZlR2FtZVN0YXRlKGN1cnJlbnRTYXZlTmFtZSwgZnVsbFN0YXRlKTtcbiAgICAgICAgfVxuICAgIH0sIFtjaXZpbGl6YXRpb24sIHJlc291cmNlcywgdW5pdHMsIGJ1aWxkaW5ncywgY3VycmVudEFnZSwgZ2FtZUxvZywgZ2FtZVN0YXRlLCBjdXJyZW50U2F2ZU5hbWUsIGFjdGl2ZVRhc2tzLCByZXNvdXJjZU5vZGVzLCBpbnZlbnRvcnksIGFjdGl2ZUJ1ZmZzXSk7XG5cbiAgICBjb25zdCBhZGROb3RpZmljYXRpb24gPSB1c2VDYWxsYmFjaygobWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkID0gYCR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpfWA7XG4gICAgICAgIHNldE5vdGlmaWNhdGlvbnMocHJldiA9PiBbeyBpZCwgbWVzc2FnZSB9XSk7XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgcmVtb3ZlTm90aWZpY2F0aW9uID0gdXNlQ2FsbGJhY2soKGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgc2V0Tm90aWZpY2F0aW9ucyhwcmV2ID0+IHByZXYuZmlsdGVyKG4gPT4gbi5pZCAhPT0gaWQpKTtcbiAgICB9LCBbXSk7XG4gICAgXG4gICAgY29uc3QgYWRkVG9Mb2cgPSB1c2VDYWxsYmFjaygobWVzc2FnZTogc3RyaW5nLCBpY29uOiBMb2dJY29uVHlwZSkgPT4ge1xuICAgICAgICBzZXRHYW1lTG9nKHByZXYgPT4gW3sgaWQ6IGAke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKX1gLCBtZXNzYWdlLCBpY29uIH0sIC4uLnByZXYuc2xpY2UoMCwgMTkpXSk7XG4gICAgfSwgW10pO1xuICAgIFxuICAgIGNvbnN0IHVwZGF0ZVJlc291cmNlcyA9IHVzZUNhbGxiYWNrKChkZWx0YXM6IFJlc291cmNlRGVsdGFzKSA9PiB7XG4gICAgICAgIHNldFJlc291cmNlcyhwcmV2ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Jlc291cmNlcyA9IHsgLi4ucHJldiB9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGVsdGFzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzb3VyY2VLZXkgPSBrZXkgYXMga2V5b2YgUmVzb3VyY2VzO1xuICAgICAgICAgICAgICAgIG5ld1Jlc291cmNlc1tyZXNvdXJjZUtleV0gPSBNYXRoLm1heCgwLCBuZXdSZXNvdXJjZXNbcmVzb3VyY2VLZXldICsgKGRlbHRhc1tyZXNvdXJjZUtleV0gPz8gMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ld1Jlc291cmNlcztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2V0UmVzb3VyY2VEZWx0YXMocHJldiA9PiAoey4uLnByZXYsIC4uLmRlbHRhc30pKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkZWx0YXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc291cmNlS2V5ID0ga2V5IGFzIGtleW9mIFJlc291cmNlcztcbiAgICAgICAgICAgIGlmIChkZWx0YVRpbWVvdXRSZWYuY3VycmVudFtyZXNvdXJjZUtleV0pIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGRlbHRhVGltZW91dFJlZi5jdXJyZW50W3Jlc291cmNlS2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWx0YVRpbWVvdXRSZWYuY3VycmVudFtyZXNvdXJjZUtleV0gPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0UmVzb3VyY2VEZWx0YXMocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0RlbHRhcyA9IHsuLi5wcmV2fTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG5ld0RlbHRhc1tyZXNvdXJjZUtleV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdEZWx0YXM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCAxNTAwKTtcbiAgICAgICAgfVxuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IGhhbmRsZVRhc2tDb21wbGV0aW9uID0gdXNlQ2FsbGJhY2soKHRhc2s6IEdhbWVUYXNrKSA9PiB7XG4gICAgICAgIC8vIEZyZWUgdXAgYW55IHZpbGxhZ2VycyB0aGF0IHdlcmUgYXNzaWduZWQgdG8gdGhpcyB0YXNrXG4gICAgICAgIGlmICh0YXNrLnBheWxvYWQ/LnZpbGxhZ2VySWRzICYmIHRhc2sucGF5bG9hZC52aWxsYWdlcklkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7XG4gICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICB2aWxsYWdlcnM6IHByZXYudmlsbGFnZXJzLm1hcCh2ID0+IFxuICAgICAgICAgICAgICAgICAgICB0YXNrLnBheWxvYWQhLnZpbGxhZ2VySWRzIS5pbmNsdWRlcyh2LmlkKSA/IHsgLi4udiwgY3VycmVudFRhc2s6IG51bGwgfSA6IHZcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHRhc2sudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnYnVpbGQnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBidWlsZGluZ1R5cGUsIHZpbGxhZ2VySWRzLCBwb3NpdGlvbiB9ID0gdGFzay5wYXlsb2FkITtcbiAgICAgICAgICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBCVUlMRElOR1NfSU5GTy5maW5kKGIgPT4gYi5pZCA9PT0gYnVpbGRpbmdUeXBlKSE7XG4gICAgICAgICAgICAgICAgY29uc3QgW25hbWVdID0gZ2V0UmFuZG9tTmFtZXMoJ2J1aWxkaW5nJywgMSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3QnVpbGRpbmc6IEJ1aWxkaW5nSW5zdGFuY2UgPSB7IGlkOiB0YXNrLmlkLCBuYW1lLCBwb3NpdGlvbjogcG9zaXRpb24hLCBjdXJyZW50SHA6IGJ1aWxkaW5nSW5mby5ocCB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHNldEJ1aWxkaW5ncyhwID0+ICh7IC4uLnAsIFtidWlsZGluZ1R5cGUhXTogWy4uLnBbYnVpbGRpbmdUeXBlIV0sIG5ld0J1aWxkaW5nXSB9KSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKHZpbGxhZ2VySWRzICYmIHZpbGxhZ2VySWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkVG9Mb2coYCR7dmlsbGFnZXJJZHMubGVuZ3RofSBidWlsZGVyKHMpIGhhdmUgY29uc3RydWN0ZWQgJHtuYW1lfSwgYSBuZXcgJHtidWlsZGluZ0luZm8ubmFtZX0uYCwgYnVpbGRpbmdUeXBlISk7XG4gICAgICAgICAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBDb25zdHJ1Y3Rpb24gb2YgJHtuYW1lfSBpcyBjb21wbGV0ZS5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdnYXRoZXInOiB7XG4gICAgICAgICAgICAgICAgLy8gVmlsbGFnZXJzIGFyZSBmcmVlZCBhYm92ZS4gTm90aGluZyBlbHNlIHRvIGRvIGhlcmUgYXMgdGhlIHJlc291cmNlIG5vZGUgZGVwbGV0aW9uIGlzIGhhbmRsZWQgaW4gdGhlIGdhbWUgbG9vcC5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ3RyYWluX3ZpbGxhZ2VyJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgY291bnQgfSA9IHRhc2sucGF5bG9hZCE7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VmlsbGFnZXJOYW1lcyA9IGdldFJhbmRvbU5hbWVzKCd2aWxsYWdlcicsIGNvdW50ISk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VmlsbGFnZXJzOiBWaWxsYWdlcltdID0gbmV3VmlsbGFnZXJOYW1lcy5tYXAobmFtZSA9PiAoeyBpZDogYCR7RGF0ZS5ub3coKX0tJHtuYW1lfWAsIG5hbWUsIGN1cnJlbnRUYXNrOiBudWxsIH0pKTtcbiAgICAgICAgICAgICAgICBzZXRVbml0cyhwID0+ICh7IC4uLnAsIHZpbGxhZ2VyczogWy4uLnAudmlsbGFnZXJzLCAuLi5uZXdWaWxsYWdlcnNdIH0pKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhgJHtjb3VudH0gbmV3IHZpbGxhZ2VyKHMpIGhhdmUgam9pbmVkIHlvdXIgc2V0dGxlbWVudC5gLCAndmlsbGFnZXInKTtcbiAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgJHtjb3VudH0gbmV3IHZpbGxhZ2VyKHMpIGFyZSByZWFkeSB0byB3b3JrLmApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAndHJhaW5fbWlsaXRhcnknOiB7XG4gICAgICAgICAgICAgICAgIGNvbnN0IHsgdW5pdFR5cGUsIGNvdW50IH0gPSB0YXNrLnBheWxvYWQhO1xuICAgICAgICAgICAgICAgICBjb25zdCB1bml0SW5mbyA9IFVOSVRfSU5GTy5maW5kKHUgPT4gdS5pZCA9PT0gdW5pdFR5cGUpITtcbiAgICAgICAgICAgICAgICAgY29uc3QgbmV3VW5pdE5hbWVzID0gZ2V0UmFuZG9tTmFtZXMoJ3NvbGRpZXInLCBjb3VudCEpO1xuICAgICAgICAgICAgICAgICBjb25zdCBuZXdVbml0czogTWlsaXRhcnlVbml0W10gPSBuZXdVbml0TmFtZXMubWFwKG5hbWUgPT4gKHsgaWQ6IGAke0RhdGUubm93KCl9LSR7dW5pdFR5cGV9LSR7bmFtZX1gLCBuYW1lLCB0aXRsZTogJycsIHVuaXRUeXBlOiB1bml0VHlwZSEgfSkpO1xuICAgICAgICAgICAgICAgICBzZXRVbml0cyhwID0+ICh7IC4uLnAsIG1pbGl0YXJ5OiBbLi4ucC5taWxpdGFyeSwgLi4ubmV3VW5pdHNdIH0pKTtcbiAgICAgICAgICAgICAgICAgYWRkVG9Mb2coYCR7Y291bnR9ICR7dW5pdEluZm8ubmFtZX0ocykgaGF2ZSBiZWVuIHRyYWluZWQuYCwgdW5pdFR5cGUhKTtcbiAgICAgICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYCR7Y291bnR9IG5ldyAke3VuaXRJbmZvLm5hbWV9KHMpIGFyZSByZWFkeSBmb3IgYmF0dGxlLmApO1xuICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2FkdmFuY2VfYWdlJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFnZVJlc3VsdCA9IGdldFByZWRlZmluZWRBZ2UoY3VycmVudEFnZSk7XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudEFnZShhZ2VSZXN1bHQubmV4dEFnZU5hbWUpO1xuICAgICAgICAgICAgICAgIGFkZFRvTG9nKGBZb3UgaGF2ZSBhZHZhbmNlZCB0byB0aGUgJHthZ2VSZXN1bHQubmV4dEFnZU5hbWV9IWAsICdhZ2UnKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhhZ2VSZXN1bHQuZGVzY3JpcHRpb24sICdhZ2UnKTtcbiAgICAgICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgV2VsY29tZSB0byB0aGUgJHthZ2VSZXN1bHQubmV4dEFnZU5hbWV9IWApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgW2N1cnJlbnRBZ2UsIGFkZFRvTG9nXSk7XG4gICAgXG4gICAgLy8gR2FtZSBMb29wXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGdhbWVTdGF0ZSAhPT0gR2FtZVN0YXR1cy5QTEFZSU5HKSB7XG4gICAgICAgICAgICBpZiAoYW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCkgY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBnYW1lTG9vcCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBjb25zdCBkZWx0YVRpbWUgPSBub3cgLSBsYXN0VGlja1JlZi5jdXJyZW50O1xuICAgICAgICAgICAgbGFzdFRpY2tSZWYuY3VycmVudCA9IG5vdztcblxuICAgICAgICAgICAgbGV0IGNvbXBsZXRlZFRhc2tzOiBHYW1lVGFza1tdID0gW107XG4gICAgICAgICAgICBsZXQgcmVzb3VyY2VEZWx0YXNUaGlzVGljazogUmVzb3VyY2VEZWx0YXMgPSB7fTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2xlYW4gdXAgZXhwaXJlZCBidWZmc1xuICAgICAgICAgICAgc2V0QWN0aXZlQnVmZnMocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3UmVzb3VyY2VCb29zdHMgPSBwcmV2LnJlc291cmNlQm9vc3Q/LmZpbHRlcihiID0+IGIuZW5kVGltZSA+IG5vdyk7XG4gICAgICAgICAgICAgICAgaWYgKG5ld1Jlc291cmNlQm9vc3RzPy5sZW5ndGggIT09IHByZXYucmVzb3VyY2VCb29zdD8ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFRvTG9nKFwiQSByZXNvdXJjZSBnYXRoZXJpbmcgYm9udXMgaGFzIGV4cGlyZWQuXCIsICdzeXN0ZW0nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4ucHJldiwgcmVzb3VyY2VCb29zdDogbmV3UmVzb3VyY2VCb29zdHMgfTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCB0YXNrc0luUHJvZ3Jlc3MgPSBhY3RpdmVUYXNrcy5tYXAodGFzayA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG5vdyA+PSB0YXNrLnN0YXJ0VGltZSArIHRhc2suZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkVGFza3MucHVzaCh0YXNrKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICh0YXNrLnR5cGUgPT09ICdnYXRoZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSByZXNvdXJjZU5vZGVzLmZpbmQobiA9PiBuLmlkID09PSB0YXNrLnBheWxvYWQ/LnJlc291cmNlTm9kZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXNzaWduZWRWaWxsYWdlcnMgPSB1bml0cy52aWxsYWdlcnMuZmlsdGVyKHYgPT4gdi5jdXJyZW50VGFzayA9PT0gdGFzay5pZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZpbGxhZ2VyQ291bnQgPSBhc3NpZ25lZFZpbGxhZ2Vycy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoIW5vZGUgfHwgdmlsbGFnZXJDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkVGFza3MucHVzaCh0YXNrKTsgLy8gT3JwaGFuZWQgb3IgZW1wdHkgZ2F0aGVyIHRhc2tcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOyBcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VSYXRlUGVyU2Vjb25kID0gR0FUSEVSX0lORk9bbm9kZS50eXBlXS5yYXRlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2l2Qm9udXNNdWx0aXBsaWVyID0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNpdmlsaXphdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYm9udXNTdHJpbmcgPSBjaXZpbGl6YXRpb24uYm9udXMudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc291cmNlU3RyaW5nID0gbm9kZS50eXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYm9udXNTdHJpbmcuaW5jbHVkZXMocmVzb3VyY2VTdHJpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBib251c1N0cmluZy5tYXRjaCgvKFxcZCspJS8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCAmJiBtYXRjaFsxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXZCb251c011bHRpcGxpZXIgPSAxICsgKHBhcnNlSW50KG1hdGNoWzFdLCAxMCkgLyAxMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbUJvb3N0ID0gYWN0aXZlQnVmZnMucmVzb3VyY2VCb29zdD8uZmluZChiID0+IGIucmVzb3VyY2UgPT09IG5vZGUudHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1Cb29zdE11bHRpcGxpZXIgPSBpdGVtQm9vc3QgPyBpdGVtQm9vc3QubXVsdGlwbGllciA6IDE7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluYWxSYXRlUGVyU2Vjb25kID0gYmFzZVJhdGVQZXJTZWNvbmQgKiBjaXZCb251c011bHRpcGxpZXIgKiBpdGVtQm9vc3RNdWx0aXBsaWVyO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbW91bnRHYXRoZXJlZFRoaXNUaWNrID0gKGZpbmFsUmF0ZVBlclNlY29uZCAvIDEwMDApICogZGVsdGFUaW1lICogdmlsbGFnZXJDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlRGVsdGFzVGhpc1RpY2tbbm9kZS50eXBlXSA9IChyZXNvdXJjZURlbHRhc1RoaXNUaWNrW25vZGUudHlwZV0gfHwgMCkgKyBhbW91bnRHYXRoZXJlZFRoaXNUaWNrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0YXNrO1xuXG4gICAgICAgICAgICB9KS5maWx0ZXIoQm9vbGVhbikgYXMgR2FtZVRhc2tbXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHJlc291cmNlRGVsdGFzVGhpc1RpY2spLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXMocmVzb3VyY2VEZWx0YXNUaGlzVGljayk7XG5cbiAgICAgICAgICAgICAgICBzZXRSZXNvdXJjZU5vZGVzKHByZXZOb2RlcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld05vZGVzID0gcHJldk5vZGVzLm1hcChub2RlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudFRvRGVjcmVtZW50ID0gcmVzb3VyY2VEZWx0YXNUaGlzVGlja1tub2RlLnR5cGVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFtb3VudFRvRGVjcmVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3QW1vdW50ID0gbm9kZS5hbW91bnQgLSBhbW91bnRUb0RlY3JlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3QW1vdW50IDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFza0lkID0gYGdhdGhlci0ke25vZGUuaWR9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXNzaWduZWQgPSB1bml0cy52aWxsYWdlcnMuZmlsdGVyKHYgPT4gdi5jdXJyZW50VGFzayA9PT0gdGFza0lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9Mb2coYCR7YXNzaWduZWQubGVuZ3RofSB2aWxsYWdlcihzKSBkZXBsZXRlZCBhICR7bm9kZS50eXBlfSBzb3VyY2UsIGdhaW5pbmcgJHtNYXRoLmZsb29yKG5vZGUuYW1vdW50KX0gJHtub2RlLnR5cGV9LmAsIG5vZGUudHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBBICR7bm9kZS50eXBlfSBzb3VyY2UgaGFzIGJlZW4gZnVsbHkgZGVwbGV0ZWQuYCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2F0aGVyVGFzayA9IHRhc2tzSW5Qcm9ncmVzcy5maW5kKHQgPT4gdC5pZCA9PT0gdGFza0lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZ2F0aGVyVGFzaykgY29tcGxldGVkVGFza3MucHVzaChnYXRoZXJUYXNrKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4ubm9kZSwgYW1vdW50OiBuZXdBbW91bnQgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgICAgICAgICB9KS5maWx0ZXIoQm9vbGVhbikgYXMgUmVzb3VyY2VOb2RlW107XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld05vZGVzO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBmaW5hbEFjdGl2ZVRhc2tzID0gdGFza3NJblByb2dyZXNzLmZpbHRlcih0ID0+ICFjb21wbGV0ZWRUYXNrcy5zb21lKGN0ID0+IGN0LmlkID09PSB0LmlkKSk7XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhmaW5hbEFjdGl2ZVRhc2tzKTtcblxuICAgICAgICAgICAgaWYgKGNvbXBsZXRlZFRhc2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWRUYXNrcy5mb3JFYWNoKGhhbmRsZVRhc2tDb21wbGV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgYW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lTG9vcCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgYW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lTG9vcCk7XG5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlmIChhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50KSBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50KTtcbiAgICAgICAgfTtcbiAgICB9LCBbZ2FtZVN0YXRlLCBhY3RpdmVUYXNrcywgcmVzb3VyY2VOb2RlcywgaGFuZGxlVGFza0NvbXBsZXRpb24sIGFkZFRvTG9nLCB1cGRhdGVSZXNvdXJjZXMsIHVuaXRzLnZpbGxhZ2VycywgY2l2aWxpemF0aW9uLCBhY3RpdmVCdWZmc10pO1xuXG5cbiAgICBjb25zdCBoYW5kbGVOZXdFdmVudCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKCFjaXZpbGl6YXRpb24gfHwgY3VycmVudEV2ZW50KSByZXR1cm47XG4gICAgICAgIFxuICAgICAgICBjb25zdCBldmVudCA9IGdldFByZWRlZmluZWRHYW1lRXZlbnQoKTtcbiAgICAgICAgc2V0Q3VycmVudEV2ZW50KGV2ZW50KTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoJ0EgbmV3IGV2ZW50IHJlcXVpcmVzIHlvdXIgYXR0ZW50aW9uIScpO1xuICAgIH0sIFtjaXZpbGl6YXRpb24sIGN1cnJlbnRFdmVudF0pO1xuICAgIFxuICAgIGNvbnN0IHNjaGVkdWxlTmV4dEV2ZW50ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnRUaW1lclJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoZXZlbnRUaW1lclJlZi5jdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXh0RXZlbnRUaW1lID0gKDEwICsgTWF0aC5yYW5kb20oKSAqIDE1KSAqIDEwMDA7XG4gICAgICAgIGV2ZW50VGltZXJSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4gaGFuZGxlTmV3RXZlbnQoKSwgbmV4dEV2ZW50VGltZSk7XG4gICAgfSwgW2hhbmRsZU5ld0V2ZW50XSk7XG5cbiAgICBjb25zdCBnZW5lcmF0ZVJlc291cmNlTm9kZXMgPSAoZXhpc3RpbmdQb3NpdGlvbnM6IFNldDxzdHJpbmc+KTogUmVzb3VyY2VOb2RlW10gPT4ge1xuICAgICAgICBjb25zdCBub2RlczogUmVzb3VyY2VOb2RlW10gPSBbXTtcbiAgICAgICAgY29uc3QgdHlwZXM6IFJlc291cmNlTm9kZVR5cGVbXSA9IFsnZm9vZCcsICd3b29kJywgJ2dvbGQnLCAnc3RvbmUnXTtcbiAgICAgICAgY29uc3QgbnVtTm9kZXMgPSAyMCArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcbiAgICAgICAgXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtTm9kZXM7IGkrKykge1xuICAgICAgICAgICAgbGV0IHBvczoge3g6IG51bWJlciwgeTogbnVtYmVyfTtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBwb3MgPSB7XG4gICAgICAgICAgICAgICAgICAgIHg6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE1BUF9ESU1FTlNJT05TLndpZHRoKSxcbiAgICAgICAgICAgICAgICAgICAgeTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTUFQX0RJTUVOU0lPTlMuaGVpZ2h0KSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlIChleGlzdGluZ1Bvc2l0aW9ucy5oYXMoYCR7cG9zLnh9LCR7cG9zLnl9YCkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleGlzdGluZ1Bvc2l0aW9ucy5hZGQoYCR7cG9zLnh9LCR7cG9zLnl9YCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSB0eXBlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0eXBlcy5sZW5ndGgpXTtcbiAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgyNTAwIC0gNTAwICsgMSkpICsgNTAwO1xuXG4gICAgICAgICAgICBub2Rlcy5wdXNoKHsgaWQ6IGAke0RhdGUubm93KCl9LW5vZGUtJHtpfWAsIHR5cGUsIHBvc2l0aW9uOiBwb3MsIGFtb3VudCB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZXM7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVN0YXJ0TmV3R2FtZSA9IChzYXZlTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmIChhbGxTYXZlcy5pbmNsdWRlcyhzYXZlTmFtZSkpIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihgQSBzYWdhIG5hbWVkIFwiJHtzYXZlTmFtZX1cIiBhbHJlYWR5IGV4aXN0cy5gKTsgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldEdhbWVTdGF0ZShHYW1lU3RhdHVzLkxPQURJTkcpO1xuICAgICAgICBzZXRDdXJyZW50U2F2ZU5hbWUoc2F2ZU5hbWUpO1xuXG4gICAgICAgIGNvbnN0IGNpdiA9IGdldFByZWRlZmluZWRDaXZpbGl6YXRpb24oKTtcbiAgICAgICAgc2V0Q2l2aWxpemF0aW9uKGNpdik7XG4gICAgICAgIHNldFJlc291cmNlcyh7IGZvb2Q6IDIwMCwgd29vZDogMTUwLCBnb2xkOiA1MCwgc3RvbmU6IDEwMCB9KTtcbiAgICAgICAgY29uc3QgaW5pdGlhbFZpbGxhZ2VyTmFtZXMgPSBnZXRSYW5kb21OYW1lcygndmlsbGFnZXInLCAzKTtcbiAgICAgICAgY29uc3QgaW5pdGlhbFZpbGxhZ2VyczogVmlsbGFnZXJbXSA9IGluaXRpYWxWaWxsYWdlck5hbWVzLm1hcChuYW1lID0+ICh7IGlkOiBgJHtEYXRlLm5vdygpfS0ke25hbWV9YCwgbmFtZSwgY3VycmVudFRhc2s6IG51bGwgfSkpO1xuICAgICAgICBzZXRVbml0cyh7IHZpbGxhZ2VyczogaW5pdGlhbFZpbGxhZ2VycywgbWlsaXRhcnk6IFtdIH0pO1xuICAgICAgICBjb25zdCBbaW5pdGlhbFRDTmFtZV0gPSBnZXRSYW5kb21OYW1lcygnYnVpbGRpbmcnLCAxKTtcbiAgICAgICAgY29uc3QgdGNQb3NpdGlvbiA9IHsgeDogTWF0aC5mbG9vcihNQVBfRElNRU5TSU9OUy53aWR0aCAvIDIpLCB5OiBNYXRoLmZsb29yKE1BUF9ESU1FTlNJT05TLmhlaWdodCAvIDIpIH07XG4gICAgICAgIGNvbnN0IHRjSW5mbyA9IEJVSUxESU5HU19JTkZPLmZpbmQoYiA9PiBiLmlkID09PSAndG93bkNlbnRlcicpITtcbiAgICAgICAgY29uc3QgaW5pdGlhbFRDOiBCdWlsZGluZ0luc3RhbmNlID0geyBpZDogYCR7RGF0ZS5ub3coKX0tdGNgLCBuYW1lOiBpbml0aWFsVENOYW1lLCBwb3NpdGlvbjogdGNQb3NpdGlvbiwgY3VycmVudEhwOiB0Y0luZm8uaHAgfTtcbiAgICAgICAgc2V0QnVpbGRpbmdzKHsuLi5pbml0aWFsQnVpbGRpbmdzU3RhdGUsIHRvd25DZW50ZXI6IFtpbml0aWFsVENdfSk7XG4gICAgICAgIHNldFJlc291cmNlTm9kZXMoZ2VuZXJhdGVSZXNvdXJjZU5vZGVzKG5ldyBTZXQoW2Ake3RjUG9zaXRpb24ueH0sJHt0Y1Bvc2l0aW9uLnl9YF0pKSk7XG4gICAgICAgIHNldEN1cnJlbnRBZ2UoJ05vbWFkaWMgQWdlJyk7XG4gICAgICAgIHNldEdhbWVMb2coW10pO1xuICAgICAgICBzZXRDdXJyZW50RXZlbnQobnVsbCk7XG4gICAgICAgIHNldFVubGltaXRlZFJlc291cmNlcyhmYWxzZSk7XG4gICAgICAgIHNldEFjdGl2ZVRhc2tzKFtdKTtcbiAgICAgICAgc2V0SW52ZW50b3J5KFtdKTtcbiAgICAgICAgc2V0QWN0aXZlQnVmZnMoeyByZXNvdXJjZUJvb3N0OiBbXSB9KTtcbiAgICAgICAgYWRkVG9Mb2coYCR7Y2l2Lm5hbWV9IGhhcyBiZWVuIGZvdW5kZWQhYCwgJ3N5c3RlbScpO1xuICAgICAgICBhZGRUb0xvZygnWW91ciBzdG9yeSBiZWdpbnMuLi4nLCAnc3lzdGVtJyk7XG4gICAgICAgIHNldEdhbWVTdGF0ZShHYW1lU3RhdHVzLlBMQVlJTkcpO1xuICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cygnWW91ciBzZXR0bGVtZW50IGF3YWl0cyB5b3VyIGNvbW1hbmQuJyk7XG4gICAgICAgIGZldGNoU2F2ZXMoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaXNWaWxsYWdlckJ1c3kgPSB1c2VDYWxsYmFjaygodmlsbGFnZXJJZDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgICAgIGNvbnN0IHZpbGxhZ2VyID0gdW5pdHMudmlsbGFnZXJzLmZpbmQodiA9PiB2LmlkID09PSB2aWxsYWdlcklkKTtcbiAgICAgICAgcmV0dXJuICEhdmlsbGFnZXI/LmN1cnJlbnRUYXNrO1xuICAgIH0sIFt1bml0cy52aWxsYWdlcnNdKTtcblxuICAgIGNvbnN0IGdldFZpbGxhZ2VyVGFza0RldGFpbHMgPSB1c2VDYWxsYmFjaygodmlsbGFnZXJJZDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICAgICAgY29uc3QgdmlsbGFnZXIgPSB1bml0cy52aWxsYWdlcnMuZmluZCh2ID0+IHYuaWQgPT09IHZpbGxhZ2VySWQpO1xuICAgICAgICBpZiAoIXZpbGxhZ2VyIHx8ICF2aWxsYWdlci5jdXJyZW50VGFzaykge1xuICAgICAgICAgICAgcmV0dXJuICdJZGxlJztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgdGFzayA9IGFjdGl2ZVRhc2tzLmZpbmQodCA9PiB0LmlkID09PSB2aWxsYWdlci5jdXJyZW50VGFzayk7XG4gICAgICAgIGlmICghdGFzaykge1xuICAgICAgICAgICAgcmV0dXJuICdJZGxlIChGaW5hbGl6aW5nIFRhc2spJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YXNrLnR5cGUgPT09ICdidWlsZCcpIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IEJVSUxESU5HU19JTkZPLmZpbmQoYiA9PiBiLmlkID09PSB0YXNrLnBheWxvYWQhLmJ1aWxkaW5nVHlwZSk7XG4gICAgICAgICAgICByZXR1cm4gYEJ1c3k6IENvbnN0cnVjdGluZyAke2J1aWxkaW5nSW5mbz8ubmFtZSB8fCAnYSBidWlsZGluZyd9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFzay50eXBlID09PSAnZ2F0aGVyJykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHJlc291cmNlTm9kZXMuZmluZChuID0+IG4uaWQgPT09IHRhc2sucGF5bG9hZCEucmVzb3VyY2VOb2RlSWQpO1xuICAgICAgICAgICAgcmV0dXJuIGBCdXN5OiBHYXRoZXJpbmcgJHtub2RlPy50eXBlIHx8ICdyZXNvdXJjZXMnfWA7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiAnSWRsZSc7XG4gICAgfSwgW2FjdGl2ZVRhc2tzLCByZXNvdXJjZU5vZGVzLCB1bml0cy52aWxsYWdlcnNdKTtcblxuICAgIGNvbnN0IGhhbmRsZVJlc3VtZUdhbWUgPSBhc3luYyAoc2F2ZU5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBzYXZlZFN0YXRlID0gYXdhaXQgbG9hZEdhbWVTdGF0ZShzYXZlTmFtZSkgYXMgRnVsbEdhbWVTdGF0ZTtcbiAgICAgICAgaWYgKHNhdmVkU3RhdGUpIHtcbiAgICAgICAgICAgIHNldEdhbWVTdGF0ZShHYW1lU3RhdHVzLkxPQURJTkcpO1xuICAgICAgICAgICAgc2V0Q3VycmVudFNhdmVOYW1lKHNhdmVOYW1lKTtcbiAgICAgICAgICAgIHNldENpdmlsaXphdGlvbihzYXZlZFN0YXRlLmNpdmlsaXphdGlvbik7XG4gICAgICAgICAgICBzZXRSZXNvdXJjZXMoc2F2ZWRTdGF0ZS5yZXNvdXJjZXMpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgc2F2ZWRVbml0cyA9IHNhdmVkU3RhdGUudW5pdHMgfHwgeyB2aWxsYWdlcnM6IFtdLCBtaWxpdGFyeTogW10gfTtcbiAgICAgICAgICAgIGlmICgoc2F2ZWRTdGF0ZS51bml0cyBhcyBhbnkpPy5zb2xkaWVycykge1xuICAgICAgICAgICAgICAgICBjb25zdCBtaWdyYXRlZE1pbGl0YXJ5OiBNaWxpdGFyeVVuaXRbXSA9IChzYXZlZFN0YXRlLnVuaXRzIGFzIGFueSkuc29sZGllcnMubWFwKChzOiBhbnkpID0+ICh7IC4uLnMsIHVuaXRUeXBlOiAnc3dvcmRzbWFuJyB9KSk7XG4gICAgICAgICAgICAgICAgIHNhdmVkVW5pdHMgPSB7IHZpbGxhZ2Vyczogc2F2ZWRVbml0cy52aWxsYWdlcnMgfHwgW10sIG1pbGl0YXJ5OiBtaWdyYXRlZE1pbGl0YXJ5IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtaWdyYXRlZFZpbGxhZ2VycyA9IHNhdmVkVW5pdHMudmlsbGFnZXJzLm1hcCh2ID0+ICh7Li4udiwgY3VycmVudFRhc2s6IHYuY3VycmVudFRhc2sgIT09IHVuZGVmaW5lZCA/IHYuY3VycmVudFRhc2sgOiBudWxsfSkpO1xuICAgICAgICAgICAgY29uc3QgbWlncmF0ZWRUYXNrcyA9IChzYXZlZFN0YXRlLmFjdGl2ZVRhc2tzIHx8IFtdKS5tYXAodCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHQudHlwZSA9PT0gJ2J1aWxkJyAmJiAhdC5wYXlsb2FkPy52aWxsYWdlcklkcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi50LCBwYXlsb2FkOiB7IC4uLnQucGF5bG9hZCwgdmlsbGFnZXJJZHM6IFtdIH0gfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAvLyBCYWNrLWZpbGwgY3VycmVudFRhc2sgZm9yIG9sZGVyIHNhdmVzXG4gICAgICAgICAgICBtaWdyYXRlZFRhc2tzLmZvckVhY2godGFzayA9PiB7XG4gICAgICAgICAgICAgICAgaWYodGFzay5wYXlsb2FkPy52aWxsYWdlcklkcykge1xuICAgICAgICAgICAgICAgICAgICB0YXNrLnBheWxvYWQudmlsbGFnZXJJZHMuZm9yRWFjaCh2aWQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlsbGFnZXIgPSBtaWdyYXRlZFZpbGxhZ2Vycy5maW5kKHYgPT4gdi5pZCA9PT0gdmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHZpbGxhZ2VyKSB2aWxsYWdlci5jdXJyZW50VGFzayA9IHRhc2suaWQ7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2V0VW5pdHMoeyAuLi5zYXZlZFVuaXRzLCB2aWxsYWdlcnM6IG1pZ3JhdGVkVmlsbGFnZXJzIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgZmluYWxCdWlsZGluZ3MgPSB7IC4uLmluaXRpYWxCdWlsZGluZ3NTdGF0ZSwgLi4uKHNhdmVkU3RhdGUuYnVpbGRpbmdzIHx8IHt9KSB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhmaW5hbEJ1aWxkaW5ncykuZm9yRWFjaChiVHlwZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IGJUeXBlIGFzIEJ1aWxkaW5nVHlwZTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmZvID0gQlVJTERJTkdTX0lORk8uZmluZChiID0+IGIuaWQgPT09IHR5cGUpO1xuICAgICAgICAgICAgICAgIGlmKGluZm8pIHtcbiAgICAgICAgICAgICAgICAgICAgZmluYWxCdWlsZGluZ3NbdHlwZV0gPSBmaW5hbEJ1aWxkaW5nc1t0eXBlXS5tYXAoYiA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uYixcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRIcDogYi5jdXJyZW50SHAgPT09IHVuZGVmaW5lZCA/IGluZm8uaHAgOiBiLmN1cnJlbnRIcFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbnN0cnVjdGlvblRhc2tzID0gKG1pZ3JhdGVkVGFza3MpLmZpbHRlcih0ID0+IHQudHlwZSA9PT0gJ2J1aWxkJyk7XG4gICAgICAgICAgICBjb25zdCBvY2N1cGllZENlbGxzID0gbmV3IFNldChbXG4gICAgICAgICAgICAgICAgLi4uT2JqZWN0LnZhbHVlcyhmaW5hbEJ1aWxkaW5ncykuZmxhdCgpLm1hcCgoYjogYW55KSA9PiBgJHtiLnBvc2l0aW9uLnh9LCR7Yi5wb3NpdGlvbi55fWApLFxuICAgICAgICAgICAgICAgIC4uLmNvbnN0cnVjdGlvblRhc2tzLm1hcCh0ID0+IGAke3QucGF5bG9hZCEucG9zaXRpb24hLnh9LCR7dC5wYXlsb2FkIS5wb3NpdGlvbiEueX1gKVxuICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgIGlmICghZmluYWxCdWlsZGluZ3MudG93bkNlbnRlciB8fCBmaW5hbEJ1aWxkaW5ncy50b3duQ2VudGVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGxldCB0Y1BvcyA9IHsgeDogMTAsIHk6IDUgfTtcbiAgICAgICAgICAgICAgICB3aGlsZSAob2NjdXBpZWRDZWxscy5oYXMoYCR7dGNQb3MueH0sJHt0Y1Bvcy55fWApKSB7IHRjUG9zLngrKzsgfVxuICAgICAgICAgICAgICAgIGNvbnN0IFt0Y05hbWVdID0gZ2V0UmFuZG9tTmFtZXMoJ2J1aWxkaW5nJywgMSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGNJbmZvID0gQlVJTERJTkdTX0lORk8uZmluZChiID0+IGIuaWQgPT09ICd0b3duQ2VudGVyJykhO1xuICAgICAgICAgICAgICAgIGZpbmFsQnVpbGRpbmdzLnRvd25DZW50ZXIgPSBbeyBpZDogYCR7RGF0ZS5ub3coKX0tdGNgLCBuYW1lOiB0Y05hbWUsIHBvc2l0aW9uOiB0Y1BvcywgY3VycmVudEhwOiB0Y0luZm8uaHAgfV07XG4gICAgICAgICAgICAgICAgb2NjdXBpZWRDZWxscy5hZGQoYCR7dGNQb3MueH0sJHt0Y1Bvcy55fWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBmaXJzdEJ1aWxkaW5nID0gT2JqZWN0LnZhbHVlcyhmaW5hbEJ1aWxkaW5ncykuZmxhdCgpWzBdO1xuICAgICAgICAgICAgaWYgKGZpcnN0QnVpbGRpbmcgJiYgdHlwZW9mIGZpcnN0QnVpbGRpbmcgPT09ICdvYmplY3QnICYmICEoJ3Bvc2l0aW9uJyBpbiBmaXJzdEJ1aWxkaW5nKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pZ3JhdGVkID0geyAuLi5pbml0aWFsQnVpbGRpbmdzU3RhdGUgfTtcbiAgICAgICAgICAgICAgICBsZXQgeSA9IDM7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoZmluYWxCdWlsZGluZ3MpLmZvckVhY2goKFt0eXBlLCBpbnN0YW5jZXNdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB4ID0gNTtcbiAgICAgICAgICAgICAgICAgICAgKGluc3RhbmNlcyBhcyBCdWlsZGluZ0luc3RhbmNlW10pLmZvckVhY2goaW5zdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAob2NjdXBpZWRDZWxscy5oYXMoYCR7eH0sJHt5fWApKSB7IHgrKzsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZm8gPSBCVUlMRElOR1NfSU5GTy5maW5kKGIgPT4gYi5pZCA9PT0gdHlwZSBhcyBCdWlsZGluZ1R5cGUpITtcbiAgICAgICAgICAgICAgICAgICAgICAgIChtaWdyYXRlZFt0eXBlIGFzIEJ1aWxkaW5nVHlwZV0gYXMgQnVpbGRpbmdJbnN0YW5jZVtdKS5wdXNoKHsgLi4uaW5zdCwgcG9zaXRpb246IHsgeCwgeSB9LCBjdXJyZW50SHA6IGluc3QuY3VycmVudEhwIHx8IGluZm8uaHAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvY2N1cGllZENlbGxzLmFkZChgJHt4fSwke3l9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB4Kys7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZpbmFsQnVpbGRpbmdzID0gbWlncmF0ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNldEJ1aWxkaW5ncyhmaW5hbEJ1aWxkaW5ncyk7XG5cbiAgICAgICAgICAgIGNvbnN0IG5vZGVzVG9TZXQgPSAoc2F2ZWRTdGF0ZS5yZXNvdXJjZU5vZGVzIHx8IFtdKS5tYXAobiA9PiAoey4uLm4sIGFzc2lnbmVkVmlsbGFnZXJzOiBuLmFzc2lnbmVkVmlsbGFnZXJzIHx8IFtdfSkpO1xuICAgICAgICAgICAgaWYgKG5vZGVzVG9TZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgIHNldFJlc291cmNlTm9kZXMoZ2VuZXJhdGVSZXNvdXJjZU5vZGVzKG9jY3VwaWVkQ2VsbHMpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgIHNldFJlc291cmNlTm9kZXMobm9kZXNUb1NldCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldEN1cnJlbnRBZ2Uoc2F2ZWRTdGF0ZS5jdXJyZW50QWdlKTtcbiAgICAgICAgICAgIHNldEdhbWVMb2coc2F2ZWRTdGF0ZS5nYW1lTG9nKTtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKG1pZ3JhdGVkVGFza3MpO1xuICAgICAgICAgICAgc2V0SW52ZW50b3J5KHNhdmVkU3RhdGUuaW52ZW50b3J5IHx8IFtdKTtcbiAgICAgICAgICAgIHNldEFjdGl2ZUJ1ZmZzKHNhdmVkU3RhdGUuYWN0aXZlQnVmZnMgfHwgeyByZXNvdXJjZUJvb3N0OiBbXSB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc2V0Q3VycmVudEV2ZW50KG51bGwpO1xuICAgICAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoJ1dlbGNvbWUgYmFjayB0byB5b3VyIHNhZ2EuJyk7XG4gICAgICAgICAgICBzZXRHYW1lU3RhdGUoR2FtZVN0YXR1cy5QTEFZSU5HKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihgQ291bGQgbm90IGZpbmQgYSBzYXZlZCBnYW1lIG5hbWVkIFwiJHtzYXZlTmFtZX1cIi5gKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBFdmVudCBUcmlnZ2VyIFRpbWVyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGdhbWVTdGF0ZSAhPT0gR2FtZVN0YXR1cy5QTEFZSU5HKSByZXR1cm47XG5cbiAgICAgICAgaWYgKCFjdXJyZW50RXZlbnQpIHtcbiAgICAgICAgICAgIHNjaGVkdWxlTmV4dEV2ZW50KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnRUaW1lclJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoZXZlbnRUaW1lclJlZi5jdXJyZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnRUaW1lclJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGV2ZW50VGltZXJSZWYuY3VycmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSwgW2dhbWVTdGF0ZSwgY3VycmVudEV2ZW50LCBzY2hlZHVsZU5leHRFdmVudF0pO1xuXG4gICAgY29uc3QgaGFuZGxlRXZlbnRDaG9pY2UgPSAoY2hvaWNlOiBHYW1lRXZlbnRDaG9pY2UpID0+IHtcbiAgICAgICAgaWYgKGNob2ljZS5jb3N0KSB7XG4gICAgICAgICAgICBjb25zdCBtaXNzaW5nUmVzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY2hvaWNlLmNvc3QpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNLZXkgPSBrZXkgYXMga2V5b2YgUmVzb3VyY2VzO1xuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbcmVzS2V5XSA8IChjaG9pY2UuY29zdFtyZXNLZXldIHx8IDApKSB7XG4gICAgICAgICAgICAgICAgICAgIG1pc3NpbmdSZXMucHVzaChyZXNLZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtaXNzaW5nUmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBhZGROb3RpZmljYXRpb24oYFlvdSBsYWNrIHRoZSByZXF1aXJlZCByZXNvdXJjZXM6ICR7bWlzc2luZ1Jlcy5qb2luKCcsICcpfS5gKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuZWdhdGl2ZUNvc3Q6IFJlc291cmNlRGVsdGFzID0ge307XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBjaG9pY2UuY29zdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc0tleSA9IGtleSBhcyBrZXlvZiBSZXNvdXJjZXM7XG4gICAgICAgICAgICAgICAgbmVnYXRpdmVDb3N0W3Jlc0tleV0gPSAtKGNob2ljZS5jb3N0W3Jlc0tleV0gfHwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXMobmVnYXRpdmVDb3N0KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgaXNTdWNjZXNzID0gY2hvaWNlLnN1Y2Nlc3NDaGFuY2UgPT09IHVuZGVmaW5lZCB8fCBNYXRoLnJhbmRvbSgpIDwgY2hvaWNlLnN1Y2Nlc3NDaGFuY2U7XG4gICAgICAgIGNvbnN0IGVmZmVjdHMgPSBpc1N1Y2Nlc3MgPyBjaG9pY2Uuc3VjY2Vzc0VmZmVjdHMgOiBjaG9pY2UuZmFpbHVyZUVmZmVjdHM7XG5cbiAgICAgICAgaWYgKCFlZmZlY3RzKSB7XG4gICAgICAgICAgICBzZXRDdXJyZW50RXZlbnQobnVsbCk7XG4gICAgICAgICAgICBzY2hlZHVsZU5leHRFdmVudCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxvZ01lc3NhZ2UgPSBgRGVjaXNpb246IFwiJHtjaG9pY2UudGV4dH1cIi4gT3V0Y29tZTogJHtpc1N1Y2Nlc3MgPyAnU3VjY2VzcycgOiAnRmFpbHVyZSd9LiAke2VmZmVjdHMubG9nfWA7XG5cbiAgICAgICAgZWZmZWN0cy5yZXdhcmRzLmZvckVhY2goKHJld2FyZDogUmV3YXJkKSA9PiB7XG4gICAgICAgICAgICBpZiAocmV3YXJkLnR5cGUgPT09ICdyZXNvdXJjZScpIHtcbiAgICAgICAgICAgICAgICBsZXQgYW1vdW50ID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXdhcmQuYW1vdW50KSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbbWluLCBtYXhdID0gcmV3YXJkLmFtb3VudDtcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhbW91bnQgPSByZXdhcmQuYW1vdW50O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChhbW91bnQgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKHsgW3Jld2FyZC5yZXNvdXJjZV06IGFtb3VudCB9KTtcbiAgICAgICAgICAgICAgICAgICAgbG9nTWVzc2FnZSArPSBgIFlvdSAke2Ftb3VudCA+IDAgPyAnZ2FpbmVkJyA6ICdsb3N0J30gJHtNYXRoLmFicyhhbW91bnQpfSAke3Jld2FyZC5yZXNvdXJjZX0uYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJld2FyZC50eXBlID09PSAnaXRlbScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtSW5mbyA9IEdBTUVfSVRFTVNbcmV3YXJkLml0ZW1JZF07XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1JbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW1zOiBHYW1lSXRlbVtdID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCByZXdhcmQuYW1vdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0l0ZW1zLnB1c2goeyAuLi5pdGVtSW5mbywgaWQ6IGAke3Jld2FyZC5pdGVtSWR9LSR7RGF0ZS5ub3coKX0tJHtpfWAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0SW52ZW50b3J5KHByZXYgPT4gWy4uLnByZXYsIC4uLm5ld0l0ZW1zXSk7XG4gICAgICAgICAgICAgICAgICAgIGxvZ01lc3NhZ2UgKz0gYCBZb3UgcmVjZWl2ZWQgJHtyZXdhcmQuYW1vdW50fXggJHtpdGVtSW5mby5uYW1lfSFgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBhZGRUb0xvZyhsb2dNZXNzYWdlLCAnZXZlbnQnKTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoZWZmZWN0cy5sb2cpO1xuICAgICAgICBzZXRDdXJyZW50RXZlbnQobnVsbCk7XG4gICAgICAgIHNjaGVkdWxlTmV4dEV2ZW50KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUluaXRpYXRlQnVpbGQgPSAodmlsbGFnZXJJZDogc3RyaW5nLCByZWN0OiBET01SZWN0KSA9PiB7XG4gICAgICAgIGlmIChpc1ZpbGxhZ2VyQnVzeSh2aWxsYWdlcklkKSkge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiVGhpcyB2aWxsYWdlciBpcyBhbHJlYWR5IGJ1c3kuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldEJ1aWxkUGFuZWxTdGF0ZSh7IGlzT3BlbjogdHJ1ZSwgdmlsbGFnZXJJZCwgYW5jaG9yUmVjdDogcmVjdCB9KTtcbiAgICAgICAgc2V0VW5pdE1hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBoYW5kbGVTdGFydFBsYWNlbWVudCA9IChidWlsZGluZ0lkOiBCdWlsZGluZ1R5cGUpID0+IHtcbiAgICAgICAgY29uc3QgdmlsbGFnZXJJZCA9IGJ1aWxkUGFuZWxTdGF0ZS52aWxsYWdlcklkO1xuICAgICAgICBpZiAoIXZpbGxhZ2VySWQpIHJldHVybjtcblxuICAgICAgICBjb25zdCBidWlsZGluZ0luZm8gPSBCVUlMRElOR1NfSU5GTy5maW5kKGIgPT4gYi5pZCA9PT0gYnVpbGRpbmdJZCk7XG4gICAgICAgIGlmICghYnVpbGRpbmdJbmZvKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgaXNBbHJlYWR5Q29uc3RydWN0aW5nID0gYWN0aXZlVGFza3Muc29tZSh0ID0+IHQudHlwZSA9PT0gJ2J1aWxkJyAmJiB0LnBheWxvYWQ/LmJ1aWxkaW5nVHlwZSA9PT0gYnVpbGRpbmdJbmZvLmlkKTtcbiAgICAgICAgaWYgKGJ1aWxkaW5nSW5mby5pc1VuaXF1ZSAmJiAoYnVpbGRpbmdzW2J1aWxkaW5nSW5mby5pZF0ubGVuZ3RoID4gMCB8fCBpc0FscmVhZHlDb25zdHJ1Y3RpbmcpKSB7XG4gICAgICAgICAgICBhZGROb3RpZmljYXRpb24oYFlvdSBjYW4gb25seSBidWlsZCBvbmUgJHtidWlsZGluZ0luZm8ubmFtZX0uYCk7IHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgY29zdCA9IGJ1aWxkaW5nSW5mby5jb3N0O1xuICAgICAgICBpZiAoIXVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgY29uc3QgbWlzc2luZzogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVzIGluIGNvc3QpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNvdXJjZUtleSA9IHJlcyBhcyBrZXlvZiBSZXNvdXJjZXM7XG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlc1tyZXNvdXJjZUtleV0gPCAoY29zdFtyZXNvdXJjZUtleV0gPz8gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgIG1pc3NpbmcucHVzaChgJHsoY29zdFtyZXNvdXJjZUtleV0gPz8gMCkgLSByZXNvdXJjZXNbcmVzb3VyY2VLZXldfSAke3Jlc291cmNlS2V5fWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICBpZiAobWlzc2luZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKGBOZWVkICR7bWlzc2luZy5qb2luKCcgYW5kICcpfS5gKTsgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNldFBsYXllckFjdGlvbih7IG1vZGU6ICdidWlsZCcsIGJ1aWxkaW5nVHlwZTogYnVpbGRpbmdJZCwgdmlsbGFnZXJJZCB9KTtcbiAgICAgICAgc2V0QnVpbGRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdmlsbGFnZXJJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYFNlbGVjdCBhIGxvY2F0aW9uIHRvIGJ1aWxkIGEgJHtidWlsZGluZ0luZm8ubmFtZX0uIFJpZ2h0LWNsaWNrIHRvIGNhbmNlbC5gKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQ29uZmlybVBsYWNlbWVudCA9IChwb3NpdGlvbjogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9KSA9PiB7XG4gICAgICAgIGlmIChwbGF5ZXJBY3Rpb24/Lm1vZGUgIT09ICdidWlsZCcpIHJldHVybjtcbiAgICAgICAgY29uc3QgeyBidWlsZGluZ1R5cGUsIHZpbGxhZ2VySWQgfSA9IHBsYXllckFjdGlvbjtcbiAgICAgICAgY29uc3QgYnVpbGRpbmdJbmZvID0gQlVJTERJTkdTX0lORk8uZmluZChiID0+IGIuaWQgPT09IGJ1aWxkaW5nVHlwZSk7XG4gICAgICAgIGNvbnN0IGJ1aWxkZXIgPSB1bml0cy52aWxsYWdlcnMuZmluZCh2ID0+IHYuaWQgPT09IHZpbGxhZ2VySWQpO1xuICAgICAgICBpZiAoIWJ1aWxkaW5nSW5mbyB8fCAhYnVpbGRlcikgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgaWYgKCF1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvc3QgPSBidWlsZGluZ0luZm8uY29zdDtcbiAgICAgICAgICAgIGNvbnN0IG5lZ2F0aXZlQ29zdDogUmVzb3VyY2VEZWx0YXMgPSB7fTtcbiAgICAgICAgICAgIGZvcihjb25zdCByZXNvdXJjZSBpbiBjb3N0KSB7XG4gICAgICAgICAgICAgICAgbmVnYXRpdmVDb3N0W3Jlc291cmNlIGFzIGtleW9mIFJlc291cmNlc10gPSAtKGNvc3RbcmVzb3VyY2UgYXMga2V5b2YgUmVzb3VyY2VzXSB8fCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZVJlc291cmNlcyhuZWdhdGl2ZUNvc3QpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBsZXQgYnVpbGRUaW1lID0gYnVpbGRpbmdJbmZvLmJ1aWxkVGltZSAqIDEwMDA7XG4gICAgICAgIGlmKGFjdGl2ZUJ1ZmZzLmJ1aWxkVGltZVJlZHVjdGlvbikge1xuICAgICAgICAgICAgYnVpbGRUaW1lICo9ICgxIC0gYWN0aXZlQnVmZnMuYnVpbGRUaW1lUmVkdWN0aW9uLnBlcmNlbnRhZ2UpO1xuICAgICAgICAgICAgYWRkVG9Mb2coYEEgQnVpbGRlcidzIENoYXJtIHJlZHVjZWQgY29uc3RydWN0aW9uIHRpbWUgYnkgJHthY3RpdmVCdWZmcy5idWlsZFRpbWVSZWR1Y3Rpb24ucGVyY2VudGFnZSAqIDEwMH0lIWAsICdpdGVtJyk7XG4gICAgICAgICAgICBzZXRBY3RpdmVCdWZmcyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdVc2VzID0gcHJldi5idWlsZFRpbWVSZWR1Y3Rpb24hLnVzZXMgLSAxO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXdVc2VzID4gMCBcbiAgICAgICAgICAgICAgICAgICAgPyB7IC4uLnByZXYsIGJ1aWxkVGltZVJlZHVjdGlvbjogeyAuLi5wcmV2LmJ1aWxkVGltZVJlZHVjdGlvbiEsIHVzZXM6IG5ld1VzZXMgfSB9XG4gICAgICAgICAgICAgICAgICAgIDogeyAuLi5wcmV2LCBidWlsZFRpbWVSZWR1Y3Rpb246IHVuZGVmaW5lZCB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRhc2tJZCA9IGAke0RhdGUubm93KCl9LWJ1aWxkLSR7YnVpbGRpbmdUeXBlfWA7XG4gICAgICAgIGNvbnN0IHRhc2tQYXlsb2FkID0geyBidWlsZGluZ1R5cGUsIHZpbGxhZ2VySWRzOiBbdmlsbGFnZXJJZF0sIHBvc2l0aW9uIH07XG5cbiAgICAgICAgaWYgKHVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgIGhhbmRsZVRhc2tDb21wbGV0aW9uKHsgaWQ6IHRhc2tJZCwgdHlwZTogJ2J1aWxkJywgc3RhcnRUaW1lOiAwLCBkdXJhdGlvbjogMCwgcGF5bG9hZDogeyAuLi50YXNrUGF5bG9hZCwgcG9zaXRpb24gfSB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Rhc2s6IEdhbWVUYXNrID0ge1xuICAgICAgICAgICAgICAgIGlkOiB0YXNrSWQsIFxuICAgICAgICAgICAgICAgIHR5cGU6ICdidWlsZCcsIFxuICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogRGF0ZS5ub3coKSwgXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IGJ1aWxkVGltZSwgXG4gICAgICAgICAgICAgICAgcGF5bG9hZDogdGFza1BheWxvYWRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IFsuLi5wcmV2LCBuZXdUYXNrXSk7XG4gICAgICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7Li4ucHJldiwgdmlsbGFnZXJzOiBwcmV2LnZpbGxhZ2Vycy5tYXAodiA9PiB2LmlkID09PSB2aWxsYWdlcklkID8gey4uLnYsIGN1cnJlbnRUYXNrOiB0YXNrSWR9IDogdil9KSk7XG4gICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgJHtidWlsZGVyLm5hbWV9IGhhcyBzdGFydGVkIGNvbnN0cnVjdGluZyBhICR7YnVpbGRpbmdJbmZvLm5hbWV9LmApO1xuICAgICAgICAgICAgYWRkVG9Mb2coYCR7YnVpbGRlci5uYW1lfSBiZWdhbiBjb25zdHJ1Y3Rpb24gb2YgYSBuZXcgJHtidWlsZGluZ0luZm8ubmFtZX0uYCwgYnVpbGRpbmdUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc2V0UGxheWVyQWN0aW9uKG51bGwpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVDYW5jZWxQbGF5ZXJBY3Rpb24gPSAoKSA9PiB7XG4gICAgICAgIHNldFBsYXllckFjdGlvbihudWxsKTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoJ0NvbW1hbmQgY2FuY2VsbGVkLicpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVEZW1vbGlzaEJ1aWxkaW5nID0gKHR5cGU6IEJ1aWxkaW5nVHlwZSwgaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAodHlwZSA9PT0gJ3Rvd25DZW50ZXInKSB7XG4gICAgICAgICAgICBhZGROb3RpZmljYXRpb24oXCJUaGUgVG93biBDZW50ZXIgaXMgdGhlIGhlYXJ0IG9mIHlvdXIgY2l2aWxpemF0aW9uIGFuZCBjYW5ub3QgYmUgZGVtb2xpc2hlZC5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZihhY3RpdmVUYXNrcy5zb21lKHQgPT4gdC5wYXlsb2FkPy5idWlsZGluZ0lkID09PSBpZCkpIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihcIkNhbm5vdCBkZW1vbGlzaCBhIGJ1aWxkaW5nIHdpdGggYW4gYWN0aXZlIHRhc2suXCIpOyByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYnVpbGRpbmdJbmZvID0gQlVJTERJTkdTX0lORk8uZmluZChiID0+IGIuaWQgPT09IHR5cGUpO1xuICAgICAgICBjb25zdCBidWlsZGluZ0luc3RhbmNlID0gYnVpbGRpbmdzW3R5cGVdLmZpbmQoYiA9PiBiLmlkID09PSBpZCk7XG4gICAgICAgIGlmICghYnVpbGRpbmdJbmZvIHx8ICFidWlsZGluZ0luc3RhbmNlKSByZXR1cm47XG4gICAgICAgIGlmICh0eXBlID09PSAnaG91c2VzJyAmJiBwb3B1bGF0aW9uLmN1cnJlbnQgPiAoYnVpbGRpbmdzLnRvd25DZW50ZXI/Lmxlbmd0aCA+IDAgPyAyMCA6IDApICsgKGJ1aWxkaW5ncy5ob3VzZXMubGVuZ3RoIC0gMSkgKiA1KSB7XG4gICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKFwiQ2Fubm90IGRlbW9saXNoIHRoaXMgaG91c2UsIHlvdXIgcGVvcGxlIHdvdWxkIGJlIGhvbWVsZXNzLlwiKTsgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlZnVuZDogUmVzb3VyY2VEZWx0YXMgPSB7fTtcbiAgICAgICAgbGV0IHJlZnVuZE1lc3NhZ2VQYXJ0czogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCByZXMgaW4gYnVpbGRpbmdJbmZvLmNvc3QpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc291cmNlS2V5ID0gcmVzIGFzIGtleW9mIFJlc291cmNlcztcbiAgICAgICAgICAgIGNvbnN0IGNvc3QgPSBidWlsZGluZ0luZm8uY29zdFtyZXNvdXJjZUtleV0gfHwgMDtcbiAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IE1hdGguZmxvb3IoY29zdCAqIDAuNSk7XG4gICAgICAgICAgICBpZiAoYW1vdW50ID4gMCkge1xuICAgICAgICAgICAgICAgIHJlZnVuZFtyZXNvdXJjZUtleV0gPSBhbW91bnQ7XG4gICAgICAgICAgICAgICAgcmVmdW5kTWVzc2FnZVBhcnRzLnB1c2goYCR7YW1vdW50fSAke3Jlc291cmNlS2V5fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZVJlc291cmNlcyhyZWZ1bmQpO1xuICAgICAgICBzZXRCdWlsZGluZ3MocHJldiA9PiAoeyAuLi5wcmV2LCBbdHlwZV06IHByZXZbdHlwZV0uZmlsdGVyKGIgPT4gYi5pZCAhPT0gaWQpIH0pKTtcbiAgICAgICAgYWRkVG9Mb2coYCR7YnVpbGRpbmdJbnN0YW5jZS5uYW1lfSAoJHtidWlsZGluZ0luZm8ubmFtZX0pIHdhcyBkZW1vbGlzaGVkLmAsIHR5cGUpO1xuICAgICAgICBpZiAocmVmdW5kTWVzc2FnZVBhcnRzLmxlbmd0aCA+IDApIHsgYWRkTm90aWZpY2F0aW9uKGBTYWx2YWdlZCAke3JlZnVuZE1lc3NhZ2VQYXJ0cy5qb2luKCcsICcpfS5gKTsgfVxuICAgICAgICBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7aXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlVXBkYXRlQnVpbGRpbmcgPSAodHlwZTogQnVpbGRpbmdUeXBlLCBpZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgc2V0QnVpbGRpbmdzKHByZXYgPT4gKHsgLi4ucHJldiwgW3R5cGVdOiBwcmV2W3R5cGVdLm1hcChiID0+IGIuaWQgPT09IGlkID8geyAuLi5iLCBuYW1lIH0gOiBiKSB9KSk7XG4gICAgICAgIGFkZE5vdGlmaWNhdGlvbihcIkJ1aWxkaW5nIHJlbmFtZWQuXCIpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVUcmFpblZpbGxhZ2VycyA9IChjb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGlmIChhY3RpdmVUYXNrcy5zb21lKHQgPT4gdC50eXBlID09PSAndHJhaW5fdmlsbGFnZXInKSB8fCBjb3VudCA8PSAwKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHZpbGxhZ2VyQ29zdCA9IDUwO1xuICAgICAgICBjb25zdCB0b3RhbENvc3QgPSB2aWxsYWdlckNvc3QgKiBjb3VudDtcbiAgICAgICAgaWYgKHBvcHVsYXRpb24uY3VycmVudCArIGNvdW50ID4gcG9wdWxhdGlvbi5jYXBhY2l0eSkgeyBhZGROb3RpZmljYXRpb24oYE5lZWQgc3BhY2UgZm9yICR7Y291bnR9IG1vcmUgdmlsbGFnZXJzLmApOyByZXR1cm47IH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRvd25DZW50ZXIgPSBidWlsZGluZ3MudG93bkNlbnRlcj8uWzBdO1xuICAgICAgICBpZiAoIXRvd25DZW50ZXIpIHsgYWRkTm90aWZpY2F0aW9uKGBObyBUb3duIENlbnRlciB0byB0cmFpbiB2aWxsYWdlcnMuYCk7IHJldHVybjsgfVxuXG4gICAgICAgIGlmICghdW5saW1pdGVkUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICBpZiAocmVzb3VyY2VzLmZvb2QgPCB0b3RhbENvc3QpIHsgYWRkTm90aWZpY2F0aW9uKGBOZWVkICR7dG90YWxDb3N0IC0gcmVzb3VyY2VzLmZvb2R9IG1vcmUgRm9vZC5gKTsgcmV0dXJuOyB9XG4gICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXMoeyBmb29kOiAtdG90YWxDb3N0IH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRyYWluVGltZSA9IDEwMDAwICogY291bnQ7XG4gICAgICAgIGlmKHVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgaGFuZGxlVGFza0NvbXBsZXRpb24oeyBpZDogJ2luc3RhbnQnLCB0eXBlOiAndHJhaW5fdmlsbGFnZXInLCBzdGFydFRpbWU6IDAsIGR1cmF0aW9uOiAwLCBwYXlsb2FkOiB7IGNvdW50IH0gfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrSWQgPSBgJHtEYXRlLm5vdygpfS10cmFpbi12aWxsYWdlcmA7XG4gICAgICAgICAgICBjb25zdCBuZXdUYXNrOiBHYW1lVGFzayA9IHsgaWQ6IHRhc2tJZCwgdHlwZTogJ3RyYWluX3ZpbGxhZ2VyJywgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBkdXJhdGlvbjogdHJhaW5UaW1lLCBwYXlsb2FkOiB7IGNvdW50LCBidWlsZGluZ0lkOiB0b3duQ2VudGVyLmlkIH0gfTtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gWy4uLnByZXYsIG5ld1Rhc2tdKTtcbiAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBUcmFpbmluZyAke2NvdW50fSB2aWxsYWdlcihzKS4uLmApO1xuICAgICAgICAgICAgYWRkVG9Mb2coYEJlZ2FuIHRyYWluaW5nICR7Y291bnR9IG5ldyB2aWxsYWdlcihzKS5gLCAndmlsbGFnZXInKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBoYW5kbGVUcmFpblVuaXRzID0gKHVuaXRUeXBlOiBNaWxpdGFyeVVuaXRUeXBlLCBjb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IHVuaXRJbmZvID0gVU5JVF9JTkZPLmZpbmQodSA9PiB1LmlkID09PSB1bml0VHlwZSk7XG4gICAgICAgIGlmICghdW5pdEluZm8gfHwgYWN0aXZlVGFza3Muc29tZSh0ID0+IHQucGF5bG9hZD8udW5pdFR5cGUgPT09IHVuaXRUeXBlKSB8fCBjb3VudCA8PSAwKSByZXR1cm47XG4gICAgICAgIGlmIChwb3B1bGF0aW9uLmN1cnJlbnQgKyBjb3VudCA+IHBvcHVsYXRpb24uY2FwYWNpdHkpIHsgYWRkTm90aWZpY2F0aW9uKGBOZWVkIHNwYWNlIGZvciAke2NvdW50fSBtb3JlIHVuaXRzLmApOyByZXR1cm47IH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRyYWluaW5nQnVpbGRpbmcgPSBidWlsZGluZ3NbdW5pdEluZm8ucmVxdWlyZWRCdWlsZGluZ10/LlswXTtcbiAgICAgICAgaWYgKCF0cmFpbmluZ0J1aWxkaW5nKSB7IGFkZE5vdGlmaWNhdGlvbihgTm8gJHt1bml0SW5mby5yZXF1aXJlZEJ1aWxkaW5nfSB0byB0cmFpbiB1bml0cy5gKTsgcmV0dXJuOyB9XG5cbiAgICAgICAgaWYgKCF1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsQ29zdDogUmVzb3VyY2VEZWx0YXMgPSB7fTsgY29uc3QgbWlzc2luZzogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVzIGluIHVuaXRJbmZvLmNvc3QpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNvdXJjZUtleSA9IHJlcyBhcyBrZXlvZiBSZXNvdXJjZXM7XG4gICAgICAgICAgICAgICAgY29uc3QgY29zdCA9ICh1bml0SW5mby5jb3N0W3Jlc291cmNlS2V5XSB8fCAwKSAqIGNvdW50O1xuICAgICAgICAgICAgICAgIHRvdGFsQ29zdFtyZXNvdXJjZUtleV0gPSAtY29zdDtcbiAgICAgICAgICAgICAgICBpZiAocmVzb3VyY2VzW3Jlc291cmNlS2V5XSA8IGNvc3QpIG1pc3NpbmcucHVzaChgJHtjb3N0IC0gcmVzb3VyY2VzW3Jlc291cmNlS2V5XX0gJHtyZXNvdXJjZUtleX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtaXNzaW5nLmxlbmd0aCA+IDApIHsgYWRkTm90aWZpY2F0aW9uKGBOZWVkICR7bWlzc2luZy5qb2luKCcgYW5kICcpfS5gKTsgcmV0dXJuOyB9XG4gICAgICAgICAgICB1cGRhdGVSZXNvdXJjZXModG90YWxDb3N0KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgbGV0IHRyYWluVGltZSA9IHVuaXRJbmZvLnRyYWluVGltZSAqIDEwMDAgKiBjb3VudDtcbiAgICAgICAgY29uc3QgcGVybWFuZW50Qm9udXMgPSBhY3RpdmVCdWZmcy5wZXJtYW5lbnRUcmFpblRpbWVSZWR1Y3Rpb24gfHwgMDtcbiAgICAgICAgbGV0IHRlbXBCb251cyA9IDA7XG4gICAgICAgIGlmIChhY3RpdmVCdWZmcy50cmFpblRpbWVSZWR1Y3Rpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IGFwcGxpY2FibGVVc2VzID0gTWF0aC5taW4oY291bnQsIGFjdGl2ZUJ1ZmZzLnRyYWluVGltZVJlZHVjdGlvbi51c2VzKTtcbiAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ1VzZXMgPSBhY3RpdmVCdWZmcy50cmFpblRpbWVSZWR1Y3Rpb24udXNlcyAtIGFwcGxpY2FibGVVc2VzO1xuICAgICAgICAgICAgdGVtcEJvbnVzID0gYWN0aXZlQnVmZnMudHJhaW5UaW1lUmVkdWN0aW9uLnBlcmNlbnRhZ2U7XG5cbiAgICAgICAgICAgIGNvbnN0IHRpbWVGb3JCdWZmZWRVbml0cyA9ICh1bml0SW5mby50cmFpblRpbWUgKiAxMDAwICogYXBwbGljYWJsZVVzZXMpICogKDEgLSB0ZW1wQm9udXMpO1xuICAgICAgICAgICAgY29uc3QgdGltZUZvck5vcm1hbFVuaXRzID0gKHVuaXRJbmZvLnRyYWluVGltZSAqIDEwMDAgKiAoY291bnQgLSBhcHBsaWNhYmxlVXNlcykpO1xuICAgICAgICAgICAgdHJhaW5UaW1lID0gdGltZUZvckJ1ZmZlZFVuaXRzICsgdGltZUZvck5vcm1hbFVuaXRzO1xuXG4gICAgICAgICAgICBpZiAocmVtYWluaW5nVXNlcyA+IDApIHtcbiAgICAgICAgICAgICAgICBzZXRBY3RpdmVCdWZmcyhwcmV2ID0+ICh7Li4ucHJldiwgdHJhaW5UaW1lUmVkdWN0aW9uOiB7Li4ucHJldi50cmFpblRpbWVSZWR1Y3Rpb24hLCB1c2VzOiByZW1haW5pbmdVc2VzfX0pKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlQnVmZnMocHJldiA9PiAoey4uLnByZXYsIHRyYWluVGltZVJlZHVjdGlvbjogdW5kZWZpbmVkfSkpO1xuICAgICAgICAgICAgICAgIGFkZFRvTG9nKFwiVGhlIERyaWxsbWFzdGVyJ3MgV2hpc3RsZSBidWZmIGhhcyBiZWVuIGZ1bGx5IHVzZWQuXCIsICdpdGVtJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdHJhaW5UaW1lICo9ICgxIC0gcGVybWFuZW50Qm9udXMpO1xuICAgICAgICBcbiAgICAgICAgaWYodW5saW1pdGVkUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICBoYW5kbGVUYXNrQ29tcGxldGlvbih7IGlkOiAnaW5zdGFudCcsIHR5cGU6ICd0cmFpbl9taWxpdGFyeScsIHN0YXJ0VGltZTogMCwgZHVyYXRpb246IDAsIHBheWxvYWQ6IHsgdW5pdFR5cGUsIGNvdW50IH0gfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrSWQgPSBgJHtEYXRlLm5vdygpfS10cmFpbi0ke3VuaXRUeXBlfWA7XG4gICAgICAgICAgICBjb25zdCBuZXdUYXNrOiBHYW1lVGFzayA9IHsgaWQ6IHRhc2tJZCwgdHlwZTogJ3RyYWluX21pbGl0YXJ5Jywgc3RhcnRUaW1lOiBEYXRlLm5vdygpLCBkdXJhdGlvbjogdHJhaW5UaW1lLCBwYXlsb2FkOiB7IHVuaXRUeXBlLCBjb3VudCwgYnVpbGRpbmdJZDogdHJhaW5pbmdCdWlsZGluZy5pZCB9IH07XG4gICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IFsuLi5wcmV2LCBuZXdUYXNrXSk7XG4gICAgICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgVHJhaW5pbmcgJHtjb3VudH0gJHt1bml0SW5mby5uYW1lfShzKS4uLmApO1xuICAgICAgICAgICAgYWRkVG9Mb2coYEJlZ2FuIHRyYWluaW5nICR7Y291bnR9IG5ldyAke3VuaXRJbmZvLm5hbWV9KHMpLmAsIHVuaXRUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZURpc21pc3NTcGVjaWZpY1VuaXQgPSAodHlwZTogJ3ZpbGxhZ2VycycgfCAnbWlsaXRhcnknLCBpZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmICh0eXBlID09PSAndmlsbGFnZXJzJyAmJiBpc1ZpbGxhZ2VyQnVzeShpZCkpIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihcIkNhbm5vdCBkaXNtaXNzIGEgYnVzeSB2aWxsYWdlci5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdW5pdCA9IHVuaXRzW3R5cGVdLmZpbmQodSA9PiB1LmlkID09PSBpZCk7XG4gICAgICAgIGlmICghdW5pdCkgcmV0dXJuO1xuICAgICAgICBpZiAodHlwZSA9PT0gJ3ZpbGxhZ2VycycgJiYgdW5pdHMudmlsbGFnZXJzLmxlbmd0aCA8PSAxKSB7IGFkZE5vdGlmaWNhdGlvbihcIkNhbm5vdCBkaXNtaXNzIHlvdXIgbGFzdCB2aWxsYWdlci5cIik7IHJldHVybjsgfVxuICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7IC4uLnByZXYsIFt0eXBlXTogcHJldlt0eXBlXS5maWx0ZXIodSA9PiB1LmlkICE9PSBpZCkgfSkpO1xuICAgICAgICBjb25zdCB1bml0VHlwZU5hbWUgPSB0eXBlID09PSAndmlsbGFnZXJzJyA/ICd2aWxsYWdlcicgOiAodW5pdCBhcyBNaWxpdGFyeVVuaXQpLnVuaXRUeXBlO1xuICAgICAgICBhZGRUb0xvZyhgJHt1bml0Lm5hbWV9IHRoZSAke3VuaXRUeXBlTmFtZX0gaGFzIGJlZW4gZGlzbWlzc2VkLmAsIHR5cGUgPT09ICd2aWxsYWdlcnMnID8gJ3ZpbGxhZ2VyJyA6ICh1bml0IGFzIE1pbGl0YXJ5VW5pdCkudW5pdFR5cGUpO1xuICAgICAgICBhZGROb3RpZmljYXRpb24oYCR7dW5pdC5uYW1lfSB3YXMgZGlzbWlzc2VkLmApO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVVcGRhdGVVbml0ID0gKHR5cGU6ICd2aWxsYWdlcnMnIHwgJ21pbGl0YXJ5JywgaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCB0aXRsZT86IHN0cmluZykgPT4ge1xuICAgICAgICAgc2V0VW5pdHMocHJldiA9PiAoeyAuLi5wcmV2LCBbdHlwZV06IHByZXZbdHlwZV0ubWFwKHUgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh1LmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkVW5pdCA9IHsgLi4udSwgbmFtZSB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ21pbGl0YXJ5JyAmJiB0aXRsZSAhPT0gdW5kZWZpbmVkKSB7ICh1cGRhdGVkVW5pdCBhcyBNaWxpdGFyeVVuaXQpLnRpdGxlID0gdGl0bGU7IH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWRVbml0O1xuICAgICAgICAgICAgICAgIH0gcmV0dXJuIHU7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KSk7XG4gICAgICAgIGFkZE5vdGlmaWNhdGlvbihcIlVuaXQgdXBkYXRlZC5cIik7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUFzc2lnblZpbGxhZ2Vyc1RvTm9kZSA9IChub2RlSWQ6IHN0cmluZywgY291bnQ6IG51bWJlcikgPT4ge1xuICAgICAgICBjb25zdCBpZGxlVmlsbGFnZXJzID0gdW5pdHMudmlsbGFnZXJzLmZpbHRlcih2ID0+ICF2LmN1cnJlbnRUYXNrKTtcbiAgICAgICAgaWYgKGNvdW50IDw9IDApIHJldHVybjtcbiAgICAgICAgbGV0IGNhcHBlZENvdW50ID0gTWF0aC5taW4oY291bnQsIGlkbGVWaWxsYWdlcnMubGVuZ3RoKTtcbiAgICAgICAgaWYgKGNhcHBlZENvdW50ID09PSAwKSB7IGFkZE5vdGlmaWNhdGlvbihcIk5vIGlkbGUgdmlsbGFnZXJzIGF2YWlsYWJsZS5cIik7IHJldHVybjsgfVxuICAgIFxuICAgICAgICBjb25zdCB2aWxsYWdlcnNUb0Fzc2lnbiA9IGlkbGVWaWxsYWdlcnMuc2xpY2UoMCwgY2FwcGVkQ291bnQpO1xuICAgICAgICBjb25zdCB2aWxsYWdlcklkc1RvQXNzaWduID0gdmlsbGFnZXJzVG9Bc3NpZ24ubWFwKHYgPT4gdi5pZCk7XG4gICAgXG4gICAgICAgIGNvbnN0IHRhcmdldE5vZGUgPSByZXNvdXJjZU5vZGVzLmZpbmQobiA9PiBuLmlkID09PSBub2RlSWQpO1xuICAgICAgICBpZiAoIXRhcmdldE5vZGUpIHJldHVybjtcbiAgICBcbiAgICAgICAgY29uc3QgdGFza0lkID0gYGdhdGhlci0ke25vZGVJZH1gO1xuICAgICAgICBjb25zdCBleGlzdGluZ1Rhc2sgPSBhY3RpdmVUYXNrcy5maW5kKHQgPT4gdC5pZCA9PT0gdGFza0lkKTtcbiAgICBcbiAgICAgICAgaWYgKHVubGltaXRlZFJlc291cmNlcykge1xuICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKHsgW3RhcmdldE5vZGUudHlwZV06IHRhcmdldE5vZGUuYW1vdW50IH0pO1xuICAgICAgICAgICAgYWRkVG9Mb2coYCR7Y2FwcGVkQ291bnR9IHZpbGxhZ2VyKHMpIGluc3RhbnRseSBnYXRoZXJlZCAke01hdGguZmxvb3IodGFyZ2V0Tm9kZS5hbW91bnQpfSAke3RhcmdldE5vZGUudHlwZX0uYCwgdGFyZ2V0Tm9kZS50eXBlKTtcbiAgICAgICAgICAgIHNldFJlc291cmNlTm9kZXMocHJldiA9PiBwcmV2LmZpbHRlcihuID0+IG4uaWQgIT09IG5vZGVJZCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nVGFzaykge1xuICAgICAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gcHJldi5tYXAodCA9PiB0LmlkID09PSB0YXNrSWQgPyB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnQsXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsgLi4udC5wYXlsb2FkLCB2aWxsYWdlcklkczogWy4uLm5ldyBTZXQoWy4uLnQucGF5bG9hZCEudmlsbGFnZXJJZHMhLCAuLi52aWxsYWdlcklkc1RvQXNzaWduXSldIH1cbiAgICAgICAgICAgICAgICB9IDogdCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgY29uc3QgbmV3VGFzazogR2FtZVRhc2sgPSB7IGlkOiB0YXNrSWQsIHR5cGU6ICdnYXRoZXInLCBzdGFydFRpbWU6IERhdGUubm93KCksIGR1cmF0aW9uOiA5OTk5OTk5OTksIHBheWxvYWQ6IHsgcmVzb3VyY2VOb2RlSWQ6IG5vZGVJZCwgdmlsbGFnZXJJZHM6IHZpbGxhZ2VySWRzVG9Bc3NpZ24gfX07IC8vIER1cmF0aW9uIGlzIGFyYml0cmFyeVxuICAgICAgICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IFsuLi5wcmV2LCBuZXdUYXNrXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7Li4ucHJldiwgdmlsbGFnZXJzOiBwcmV2LnZpbGxhZ2Vycy5tYXAodiA9PiB2aWxsYWdlcklkc1RvQXNzaWduLmluY2x1ZGVzKHYuaWQpID8gey4uLnYsIGN1cnJlbnRUYXNrOiB0YXNrSWR9IDogdil9KSk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgYWRkVG9Mb2coYCR7Y2FwcGVkQ291bnR9IHZpbGxhZ2VyKHMpIGFzc2lnbmVkIHRvIGdhdGhlciAke3RhcmdldE5vZGUudHlwZX0uYCwgdGFyZ2V0Tm9kZS50eXBlKTtcbiAgICAgICAgc2V0QWN0aXZpdHlTdGF0dXMoYCR7Y2FwcGVkQ291bnR9IHZpbGxhZ2VyKHMpIGFyZSBub3cgZ2F0aGVyaW5nICR7dGFyZ2V0Tm9kZS50eXBlfS5gKTtcbiAgICAgICAgc2V0QXNzaWdubWVudFBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlUmVjYWxsVmlsbGFnZXJzID0gKHRhcmdldElkOiBzdHJpbmcsIGNvdW50OiBudW1iZXIsIHR5cGU6ICdyZXNvdXJjZScgfCAnY29uc3RydWN0aW9uJykgPT4ge1xuICAgICAgICBpZiAodHlwZSA9PT0gJ3Jlc291cmNlJykge1xuICAgICAgICAgICAgY29uc3QgdGFza0lkID0gYGdhdGhlci0ke3RhcmdldElkfWA7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gcmVzb3VyY2VOb2Rlcy5maW5kKG4gPT4gbi5pZCA9PT0gdGFyZ2V0SWQpO1xuICAgICAgICAgICAgY29uc3QgYXNzaWduZWRWaWxsYWdlcnMgPSB1bml0cy52aWxsYWdlcnMuZmlsdGVyKHYgPT4gdi5jdXJyZW50VGFzayA9PT0gdGFza0lkKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFub2RlIHx8IGFzc2lnbmVkVmlsbGFnZXJzLmxlbmd0aCA8IGNvdW50KSByZXR1cm47XG4gICAgXG4gICAgICAgICAgICBjb25zdCB2aWxsYWdlcnNUb1JlY2FsbCA9IGFzc2lnbmVkVmlsbGFnZXJzLnNsaWNlKGFzc2lnbmVkVmlsbGFnZXJzLmxlbmd0aCAtIGNvdW50KS5tYXAodiA9PiB2LmlkKTtcbiAgICAgICAgICAgIHNldFVuaXRzKHByZXYgPT4gKHsuLi5wcmV2LCB2aWxsYWdlcnM6IHByZXYudmlsbGFnZXJzLm1hcCh2ID0+IHZpbGxhZ2Vyc1RvUmVjYWxsLmluY2x1ZGVzKHYuaWQpID8gey4uLnYsIGN1cnJlbnRUYXNrOiBudWxsfSA6IHYpfSkpO1xuICAgIFxuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFza0luZGV4ID0gcHJldi5maW5kSW5kZXgodCA9PiB0LmlkID09PSB0YXNrSWQpO1xuICAgICAgICAgICAgICAgIGlmICh0YXNrSW5kZXggPT09IC0xKSByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCB0YXNrID0gcHJldlt0YXNrSW5kZXhdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ1ZpbGxhZ2VycyA9IHRhc2sucGF5bG9hZCEudmlsbGFnZXJJZHMhLmZpbHRlcihpZCA9PiAhdmlsbGFnZXJzVG9SZWNhbGwuaW5jbHVkZXMoaWQpKTtcbiAgICBcbiAgICAgICAgICAgICAgICBpZiAocmVtYWluaW5nVmlsbGFnZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldi5maWx0ZXIoKF8sIGkpID0+IGkgIT09IHRhc2tJbmRleCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXYubWFwKCh0LCBpKSA9PiBpID09PSB0YXNrSW5kZXggPyB7IC4uLnQsIHBheWxvYWQ6IHsgLi4udC5wYXlsb2FkLCB2aWxsYWdlcklkczogcmVtYWluaW5nVmlsbGFnZXJzIH0gfSA6IHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYWRkVG9Mb2coYCR7Y291bnR9IHZpbGxhZ2VyKHMpIHJlY2FsbGVkIGZyb20gZ2F0aGVyaW5nICR7bm9kZS50eXBlfS5gLCAndmlsbGFnZXInKTtcbiAgICAgICAgfSBlbHNlIHsgLy8gY29uc3RydWN0aW9uXG4gICAgICAgICAgICBjb25zdCB0YXNrID0gYWN0aXZlVGFza3MuZmluZCh0ID0+IHQuaWQgPT09IHRhcmdldElkKTtcbiAgICAgICAgICAgIGlmICghdGFzayB8fCB0YXNrLnR5cGUgIT09ICdidWlsZCcgfHwgKHRhc2sucGF5bG9hZD8udmlsbGFnZXJJZHM/Lmxlbmd0aCA/PyAwKSA8IGNvdW50KSByZXR1cm47XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHZpbGxhZ2Vyc1RvUmVjYWxsID0gdGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEuc2xpY2UodGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEubGVuZ3RoIC0gY291bnQpO1xuICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nVmlsbGFnZXJzID0gdGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEuZmlsdGVyKGlkID0+ICF2aWxsYWdlcnNUb1JlY2FsbC5pbmNsdWRlcyhpZCkpO1xuICAgIFxuICAgICAgICAgICAgaWYgKHJlbWFpbmluZ1ZpbGxhZ2Vycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBhZGROb3RpZmljYXRpb24oXCJDYW5ub3QgcmVjYWxsIHRoZSBsYXN0IGJ1aWxkZXIuIFRoaXMgd291bGQgY2FuY2VsIHRoZSBwcm9qZWN0LlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldFVuaXRzKHByZXYgPT4gKHsuLi5wcmV2LCB2aWxsYWdlcnM6IHByZXYudmlsbGFnZXJzLm1hcCh2ID0+IHZpbGxhZ2Vyc1RvUmVjYWxsLmluY2x1ZGVzKHYuaWQpID8gey4uLnYsIGN1cnJlbnRUYXNrOiBudWxsfSA6IHYpfSkpO1xuICAgIFxuICAgICAgICAgICAgY29uc3QgYnVpbGRpbmdJbmZvID0gQlVJTERJTkdTX0lORk8uZmluZChiID0+IGIuaWQgPT09IHRhc2sucGF5bG9hZCEuYnVpbGRpbmdUeXBlKSE7XG4gICAgICAgICAgICBjb25zdCB0b3RhbFdvcmsgPSBidWlsZGluZ0luZm8uYnVpbGRUaW1lICogMTAwMDtcbiAgICAgICAgICAgIGNvbnN0IG9sZFdvcmtlckNvdW50ID0gdGFzay5wYXlsb2FkIS52aWxsYWdlcklkcyEubGVuZ3RoO1xuICAgIFxuICAgICAgICAgICAgY29uc3QgdGltZUVsYXBzZWQgPSBEYXRlLm5vdygpIC0gdGFzay5zdGFydFRpbWU7XG4gICAgICAgICAgICBjb25zdCB3b3JrRG9uZSA9IHRpbWVFbGFwc2VkICogb2xkV29ya2VyQ291bnQ7XG4gICAgICAgICAgICBjb25zdCB3b3JrUmVtYWluaW5nID0gTWF0aC5tYXgoMCwgdG90YWxXb3JrIC0gd29ya0RvbmUpO1xuICAgIFxuICAgICAgICAgICAgY29uc3QgbmV3V29ya2VyQ291bnQgPSByZW1haW5pbmdWaWxsYWdlcnMubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgbmV3UmVtYWluaW5nRHVyYXRpb24gPSB3b3JrUmVtYWluaW5nIC8gbmV3V29ya2VyQ291bnQ7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gcHJldi5tYXAodCA9PiB0LmlkID09PSB0YXJnZXRJZCA/IHtcbiAgICAgICAgICAgICAgICAuLi50LFxuICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogbmV3UmVtYWluaW5nRHVyYXRpb24sXG4gICAgICAgICAgICAgICAgcGF5bG9hZDogeyAuLi50LnBheWxvYWQsIHZpbGxhZ2VySWRzOiByZW1haW5pbmdWaWxsYWdlcnMgfVxuICAgICAgICAgICAgfSA6IHQpKTtcbiAgICAgICAgICAgIGFkZFRvTG9nKGAke2NvdW50fSB2aWxsYWdlcihzKSByZWNhbGxlZCBmcm9tIGNvbnN0cnVjdGlvbi4gV29yayB3aWxsIG5vdyBwcm9jZWVkIHNsb3dlci5gLCAndmlsbGFnZXInKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIHRhcmdldElkOiBudWxsLCB0YXJnZXRUeXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVBc3NpZ25WaWxsYWdlcnNUb0NvbnN0cnVjdGlvbiA9IChjb25zdHJ1Y3Rpb25JZDogc3RyaW5nLCBjb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkbGVWaWxsYWdlcnMgPSB1bml0cy52aWxsYWdlcnMuZmlsdGVyKHYgPT4gIXYuY3VycmVudFRhc2spO1xuICAgICAgICBpZiAoY291bnQgPD0gMCkgcmV0dXJuO1xuICAgICAgICBsZXQgY2FwcGVkQ291bnQgPSBNYXRoLm1pbihjb3VudCwgaWRsZVZpbGxhZ2Vycy5sZW5ndGgpO1xuICAgICAgICBpZiAoY2FwcGVkQ291bnQgPT09IDApIHsgYWRkTm90aWZpY2F0aW9uKFwiTm8gaWRsZSB2aWxsYWdlcnMgYXZhaWxhYmxlIHRvIGFzc2lzdC5cIik7IHJldHVybjsgfVxuXG4gICAgICAgIGNvbnN0IHZpbGxhZ2Vyc1RvQXNzaWduID0gaWRsZVZpbGxhZ2Vycy5zbGljZSgwLCBjYXBwZWRDb3VudCk7XG4gICAgICAgIGNvbnN0IHZpbGxhZ2VySWRzVG9Bc3NpZ24gPSB2aWxsYWdlcnNUb0Fzc2lnbi5tYXAodiA9PiB2LmlkKTtcbiAgICAgICAgY29uc3QgdGFzayA9IGFjdGl2ZVRhc2tzLmZpbmQodCA9PiB0LmlkID09PSBjb25zdHJ1Y3Rpb25JZCk7XG5cbiAgICAgICAgaWYgKCF0YXNrIHx8IHRhc2sudHlwZSAhPT0gJ2J1aWxkJykgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nSW5mbyA9IEJVSUxESU5HU19JTkZPLmZpbmQoYiA9PiBiLmlkID09PSB0YXNrLnBheWxvYWQ/LmJ1aWxkaW5nVHlwZSk7XG4gICAgICAgIGlmICghYnVpbGRpbmdJbmZvKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgYmFzZUR1cmF0aW9uID0gYnVpbGRpbmdJbmZvLmJ1aWxkVGltZSAqIDEwMDA7XG4gICAgICAgIGNvbnN0IG9sZFdvcmtlckNvdW50ID0gdGFzay5wYXlsb2FkPy52aWxsYWdlcklkcz8ubGVuZ3RoIHx8IDE7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0aW1lRWxhcHNlZCA9IERhdGUubm93KCkgLSB0YXNrLnN0YXJ0VGltZTtcbiAgICAgICAgY29uc3Qgd29ya0RvbmUgPSB0aW1lRWxhcHNlZCAqIG9sZFdvcmtlckNvdW50O1xuICAgICAgICBjb25zdCB0b3RhbFdvcmsgPSBiYXNlRHVyYXRpb247XG4gICAgICAgIGNvbnN0IHdvcmtSZW1haW5pbmcgPSBNYXRoLm1heCgwLCB0b3RhbFdvcmsgLSB3b3JrRG9uZSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBuZXdXb3JrZXJDb3VudCA9IG9sZFdvcmtlckNvdW50ICsgY2FwcGVkQ291bnQ7XG4gICAgICAgIGNvbnN0IG5ld1JlbWFpbmluZ0R1cmF0aW9uID0gd29ya1JlbWFpbmluZyAvIG5ld1dvcmtlckNvdW50O1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdXBkYXRlZFZpbGxhZ2VySWRzID0gWy4uLnRhc2sucGF5bG9hZCEudmlsbGFnZXJJZHMhLCAuLi52aWxsYWdlcklkc1RvQXNzaWduXTtcblxuICAgICAgICBzZXRVbml0cyhwcmV2ID0+ICh7Li4ucHJldiwgdmlsbGFnZXJzOiBwcmV2LnZpbGxhZ2Vycy5tYXAodiA9PiB2aWxsYWdlcklkc1RvQXNzaWduLmluY2x1ZGVzKHYuaWQpID8gey4uLnYsIGN1cnJlbnRUYXNrOiBjb25zdHJ1Y3Rpb25JZH0gOiB2KX0pKTtcblxuICAgICAgICBzZXRBY3RpdmVUYXNrcyhwcmV2ID0+IHByZXYubWFwKHQgPT4gdC5pZCA9PT0gY29uc3RydWN0aW9uSWQgPyB7XG4gICAgICAgICAgICAuLi50LFxuICAgICAgICAgICAgc3RhcnRUaW1lOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgZHVyYXRpb246IG5ld1JlbWFpbmluZ0R1cmF0aW9uLFxuICAgICAgICAgICAgcGF5bG9hZDogeyAuLi50LnBheWxvYWQsIHZpbGxhZ2VySWRzOiB1cGRhdGVkVmlsbGFnZXJJZHMgfVxuICAgICAgICB9IDogdCkpO1xuXG4gICAgICAgIGFkZFRvTG9nKGAke2NhcHBlZENvdW50fSB2aWxsYWdlcihzKSBhcmUgbm93IGFzc2lzdGluZyB3aXRoIHRoZSAke2J1aWxkaW5nSW5mby5uYW1lfS5gLCBidWlsZGluZ0luZm8uaWQpO1xuICAgICAgICBzZXRBY3Rpdml0eVN0YXR1cyhgQ29uc3RydWN0aW9uIG9mIHRoZSAke2J1aWxkaW5nSW5mby5uYW1lfSBpcyBub3cgZmFzdGVyLmApO1xuICAgICAgICBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIHRhcmdldElkOiBudWxsLCB0YXJnZXRUeXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVBc3NpZ25WaWxsYWdlcnMgPSAodGFyZ2V0SWQ6IHN0cmluZywgY291bnQ6IG51bWJlcikgPT4ge1xuICAgICAgICBpZiAoYXNzaWdubWVudFBhbmVsU3RhdGUudGFyZ2V0VHlwZSA9PT0gJ3Jlc291cmNlJykge1xuICAgICAgICAgICAgaGFuZGxlQXNzaWduVmlsbGFnZXJzVG9Ob2RlKHRhcmdldElkLCBjb3VudCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYXNzaWdubWVudFBhbmVsU3RhdGUudGFyZ2V0VHlwZSA9PT0gJ2NvbnN0cnVjdGlvbicpIHtcbiAgICAgICAgICAgIGhhbmRsZUFzc2lnblZpbGxhZ2Vyc1RvQ29uc3RydWN0aW9uKHRhcmdldElkLCBjb3VudCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQWR2YW5jZUFnZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZVRhc2tzLnNvbWUodCA9PiB0LnR5cGUgPT09ICdhZHZhbmNlX2FnZScpKSB7IGFkZE5vdGlmaWNhdGlvbihcIkFkdmFuY2VtZW50IGFscmVhZHkgaW4gcHJvZ3Jlc3MuXCIpOyByZXR1cm47IH1cbiAgICAgICAgaWYgKCF1bmxpbWl0ZWRSZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZXMuZm9vZCA8IDUwMCB8fCByZXNvdXJjZXMuZ29sZCA8IDIwMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pc3Npbmc6IHN0cmluZ1tdID0gW107XG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlcy5mb29kIDwgNTAwKSBtaXNzaW5nLnB1c2goYCR7NTAwIC0gcmVzb3VyY2VzLmZvb2R9IEZvb2RgKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzb3VyY2VzLmdvbGQgPCAyMDApIG1pc3NpbmcucHVzaChgJHsyMDAgLSByZXNvdXJjZXMuZ29sZH0gR29sZGApO1xuICAgICAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihgVG8gYWR2YW5jZSwgeW91IG5lZWQgJHttaXNzaW5nLmpvaW4oJyBhbmQgJyl9LmApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZVJlc291cmNlcyh7IGZvb2Q6IC01MDAsIGdvbGQ6IC0yMDAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSA2MDAwMDtcbiAgICAgICAgaWYodW5saW1pdGVkUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICBoYW5kbGVUYXNrQ29tcGxldGlvbih7IGlkOiAnaW5zdGFudCcsIHR5cGU6ICdhZHZhbmNlX2FnZScsIHN0YXJ0VGltZTogMCwgZHVyYXRpb246IDAsIHBheWxvYWQ6IHt9IH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdGFza0lkID0gYCR7RGF0ZS5ub3coKX0tYWR2YW5jZV9hZ2VgO1xuICAgICAgICAgICAgY29uc3QgbmV3VGFzazogR2FtZVRhc2sgPSB7IGlkOiB0YXNrSWQsIHR5cGU6ICdhZHZhbmNlX2FnZScsIHN0YXJ0VGltZTogRGF0ZS5ub3coKSwgZHVyYXRpb24gfTtcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gWy4uLnByZXYsIG5ld1Rhc2tdKTtcbiAgICAgICAgICAgIHNldEFjdGl2aXR5U3RhdHVzKGBZb3VyIHBlb3BsZSBiZWdpbiB0aGUgbG9uZyBqb3VybmV5IHRvIGEgbmV3IGFnZS5gKTtcbiAgICAgICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgY29uc3QgaGFuZGxlRXhpdEdhbWUgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHNldEN1cnJlbnRTYXZlTmFtZShudWxsKTtcbiAgICAgICAgYXdhaXQgZmV0Y2hTYXZlcygpO1xuICAgICAgICBzZXRHYW1lU3RhdGUoR2FtZVN0YXR1cy5NRU5VKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlRGVsZXRlR2FtZSA9IGFzeW5jIChzYXZlTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGF3YWl0IGRlbGV0ZUdhbWVTdGF0ZShzYXZlTmFtZSk7XG4gICAgICAgIGF3YWl0IGZldGNoU2F2ZXMoKTtcbiAgICAgICAgYWRkTm90aWZpY2F0aW9uKGBEZWxldGVkIHNhZ2E6IFwiJHtzYXZlTmFtZX1cImApO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVUb2dnbGVVbmxpbWl0ZWRSZXNvdXJjZXMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld01vZGUgPSAhdW5saW1pdGVkUmVzb3VyY2VzO1xuICAgICAgICBzZXRVbmxpbWl0ZWRSZXNvdXJjZXMobmV3TW9kZSk7XG5cbiAgICAgICAgaWYgKG5ld01vZGUpIHtcbiAgICAgICAgICAgIHNldFJlc291cmNlcyh7IGZvb2Q6IDk5OTk5LCB3b29kOiA5OTk5OSwgZ29sZDogOTk5OTksIHN0b25lOiA5OTk5OSB9KTtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihcIlRlc3QgTW9kZTogT04gLSBBbGwgYWN0aXZlIHRhc2tzIGNvbXBsZXRlZC5cIik7XG5cbiAgICAgICAgICAgIGNvbnN0IGRlcGxldGVkTm9kZUlkcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICAgICAgICAgY29uc3QgdGFza3NUb0NvbXBsZXRlID0gWy4uLmFjdGl2ZVRhc2tzXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MoW10pO1xuXG4gICAgICAgICAgICB0YXNrc1RvQ29tcGxldGUuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGFzay50eXBlID09PSAnZ2F0aGVyJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFzay5wYXlsb2FkPy5yZXNvdXJjZU5vZGVJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVwbGV0ZWROb2RlSWRzLmFkZCh0YXNrLnBheWxvYWQucmVzb3VyY2VOb2RlSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHJlc291cmNlTm9kZXMuZmluZChuID0+IG4uaWQgPT09IHRhc2sucGF5bG9hZC5yZXNvdXJjZU5vZGVJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvTG9nKGBJbnN0YW50bHkgZ2F0aGVyZWQgYWxsICR7bm9kZS50eXBlfSBmcm9tIGEgZGVwbGV0ZWQgc291cmNlLmAsIG5vZGUudHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaGFuZGxlVGFza0NvbXBsZXRpb24odGFzayk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGRlcGxldGVkTm9kZUlkcy5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgIHNldFJlc291cmNlTm9kZXMocHJldiA9PiBwcmV2LmZpbHRlcihuID0+ICFkZXBsZXRlZE5vZGVJZHMuaGFzKG4uaWQpKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihcIlRlc3QgTW9kZTogT0ZGXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBoYW5kbGVVc2VJdGVtID0gKGl0ZW1JZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBpbnZlbnRvcnkuZmluZChpID0+IGkuaWQgPT09IGl0ZW1JZCk7XG4gICAgICAgIGlmICghaXRlbSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGJhc2VJdGVtSWQgPSBpdGVtLmlkLnNwbGl0KCctJylbMF07XG5cbiAgICAgICAgc3dpdGNoKGJhc2VJdGVtSWQpIHtcbiAgICAgICAgICAgIGNhc2UgJ3Njcm9sbF9vZl9oYXN0ZSc6XG4gICAgICAgICAgICBjYXNlICdibHVlcHJpbnRfb2ZfdGhlX21hc3Rlcic6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb25zdHJ1Y3Rpb25UYXNrcyA9IGFjdGl2ZVRhc2tzLmZpbHRlcih0ID0+IHQudHlwZSA9PT0gJ2J1aWxkJyk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnN0cnVjdGlvblRhc2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFza1RvQm9vc3QgPSBjb25zdHJ1Y3Rpb25UYXNrcy5zb3J0KChhLGIpID0+IChiLnN0YXJ0VGltZSArIGIuZHVyYXRpb24pIC0gKGEuc3RhcnRUaW1lICsgYS5kdXJhdGlvbikpWzBdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lUmVkdWN0aW9uID0gYmFzZUl0ZW1JZCA9PT0gJ3Njcm9sbF9vZl9oYXN0ZScgPyAxNTAwMCA6IDYwMDAwO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlVGFza3MocHJldiA9PiBwcmV2Lm1hcCh0ID0+IFxuICAgICAgICAgICAgICAgICAgICAgICAgdC5pZCA9PT0gdGFza1RvQm9vc3QuaWQgPyB7IC4uLnQsIGR1cmF0aW9uOiBNYXRoLm1heCgwLCB0LmR1cmF0aW9uIC0gdGltZVJlZHVjdGlvbikgfSA6IHRcbiAgICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFRvTG9nKGBVc2VkICR7aXRlbS5uYW1lfSB0byBzcGVlZCB1cCBjb25zdHJ1Y3Rpb24gb2YgdGhlICR7QlVJTERJTkdTX0lORk8uZmluZChiID0+IGIuaWQgPT09IHRhc2tUb0Jvb3N0LnBheWxvYWQ/LmJ1aWxkaW5nVHlwZSk/Lm5hbWV9LmAsICdpdGVtJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnaGVhcnR5X21lYWwnOiB7XG4gICAgICAgICAgICAgICAgdXBkYXRlUmVzb3VyY2VzKHsgZm9vZDogNzUgfSk7XG4gICAgICAgICAgICAgICAgYWRkVG9Mb2coYFVzZWQgJHtpdGVtLm5hbWV9IHRvIGdhaW4gNzUgZm9vZC5gLCAnaXRlbScpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgIGNhc2UgJ2J1aWxkZXJzX2NoYXJtJzoge1xuICAgICAgICAgICAgICAgIHNldEFjdGl2ZUJ1ZmZzKHByZXYgPT4gKHsuLi5wcmV2LCBidWlsZFRpbWVSZWR1Y3Rpb246IHsgcGVyY2VudGFnZTogMC4xLCB1c2VzOiAxIH19KSk7XG4gICAgICAgICAgICAgICAgYWRkVG9Mb2coYFVzZWQgJHtpdGVtLm5hbWV9LiBUaGUgbmV4dCBidWlsZGluZyB3aWxsIGJlIGNvbnN0cnVjdGVkIDEwJSBmYXN0ZXIuYCwgJ2l0ZW0nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICBjYXNlICdkcmlsbG1hc3RlcnNfd2hpc3RsZSc6IHtcbiAgICAgICAgICAgICAgICBzZXRBY3RpdmVCdWZmcyhwcmV2ID0+ICh7Li4ucHJldiwgdHJhaW5UaW1lUmVkdWN0aW9uOiB7IHBlcmNlbnRhZ2U6IDAuMjUsIHVzZXM6IDUgfX0pKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhgVXNlZCAke2l0ZW0ubmFtZX0uIFRoZSBuZXh0IDUgbWlsaXRhcnkgdW5pdHMgd2lsbCB0cmFpbiAyNSUgZmFzdGVyLmAsICdpdGVtJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAgY2FzZSAnZ29sZGVuX2hhcnZlc3QnOiB7XG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlQnVmZnMocHJldiA9PiAoey4uLnByZXYsIHJlc291cmNlQm9vc3Q6IFsuLi4ocHJldi5yZXNvdXJjZUJvb3N0IHx8IFtdKSwgeyByZXNvdXJjZTogJ2Zvb2QnLCBtdWx0aXBsaWVyOiAxLjUsIGVuZFRpbWU6IERhdGUubm93KCkgKyA2MDAwMCB9XX0pKTtcbiAgICAgICAgICAgICAgICBhZGRUb0xvZyhgVXNlZCAke2l0ZW0ubmFtZX0uIEZvb2QgZ2F0aGVyaW5nIGlzIGJvb3N0ZWQgYnkgNTAlIGZvciA2MCBzZWNvbmRzLmAsICdpdGVtJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdzaGFyZF9vZl90aGVfYW5jaWVudHMnOiB7XG4gICAgICAgICAgICAgICAgIGNvbnN0IGNvbnN0cnVjdGlvblRhc2tzID0gYWN0aXZlVGFza3MuZmlsdGVyKHQgPT4gdC50eXBlID09PSAnYnVpbGQnKTtcbiAgICAgICAgICAgICAgICBpZiAoY29uc3RydWN0aW9uVGFza3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXNrVG9Db21wbGV0ZSA9IGNvbnN0cnVjdGlvblRhc2tzLnNvcnQoKGEsYikgPT4gKGIuc3RhcnRUaW1lICsgYi5kdXJhdGlvbikgLSAoYS5zdGFydFRpbWUgKyBhLmR1cmF0aW9uKSlbMF07XG4gICAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZVRhc2tzKHByZXYgPT4gcHJldi5maWx0ZXIodCA9PiB0LmlkICE9PSB0YXNrVG9Db21wbGV0ZS5pZCkpO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVUYXNrQ29tcGxldGlvbih0YXNrVG9Db21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFRvTG9nKGBVc2VkICR7aXRlbS5uYW1lfSB0byBpbnN0YW50bHkgY29tcGxldGUgdGhlICR7QlVJTERJTkdTX0lORk8uZmluZChiID0+IGIuaWQgPT09IHRhc2tUb0NvbXBsZXRlLnBheWxvYWQ/LmJ1aWxkaW5nVHlwZSk/Lm5hbWV9LmAsICdpdGVtJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnaGVhcnRfb2ZfdGhlX21vdW50YWluJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlQnVmZnMocHJldiA9PiAoey4uLnByZXYsIHJlc291cmNlQm9vc3Q6IFtcbiAgICAgICAgICAgICAgICAgICAgLi4uKHByZXYucmVzb3VyY2VCb29zdCB8fCBbXSksIFxuICAgICAgICAgICAgICAgICAgICB7IHJlc291cmNlOiAnZ29sZCcsIG11bHRpcGxpZXI6IDIsIGVuZFRpbWU6IG5vdyArIDEyMDAwMCB9LFxuICAgICAgICAgICAgICAgICAgICB7IHJlc291cmNlOiAnc3RvbmUnLCBtdWx0aXBsaWVyOiAyLCBlbmRUaW1lOiBub3cgKyAxMjAwMDAgfVxuICAgICAgICAgICAgICAgIF19KSk7XG4gICAgICAgICAgICAgICAgYWRkVG9Mb2coYFVzZWQgJHtpdGVtLm5hbWV9LiBHb2xkIGFuZCBTdG9uZSBnYXRoZXJpbmcgYXJlIGRvdWJsZWQgZm9yIDIgbWludXRlcy5gLCAnaXRlbScpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnYmFubmVyX29mX2NvbW1hbmQnOiB7XG4gICAgICAgICAgICAgICAgLy8gU2luY2UgdGhlcmUgaXMgbm8gY29tYmF0LCB3ZSdsbCBtYWtlIHRoaXMgYSBwZXJtYW5lbnQgdHJhaW5pbmcgc3BlZWQgYm9vc3RcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Qm9udXMgPSBhY3RpdmVCdWZmcy5wZXJtYW5lbnRUcmFpblRpbWVSZWR1Y3Rpb24gfHwgMDtcbiAgICAgICAgICAgICAgICBzZXRBY3RpdmVCdWZmcyhwcmV2ID0+ICh7Li4ucHJldiwgcGVybWFuZW50VHJhaW5UaW1lUmVkdWN0aW9uOiBjdXJyZW50Qm9udXMgKyAwLjA1fSkpO1xuICAgICAgICAgICAgICAgIGFkZFRvTG9nKGBVc2VkICR7aXRlbS5uYW1lfS4gQWxsIG1pbGl0YXJ5IHVuaXRzIHdpbGwgbm93IHRyYWluIDUlIGZhc3RlciwgcGVybWFuZW50bHkuYCwgJ2l0ZW0nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ3doaXNwZXJfb2ZfdGhlX2NyZWF0b3InOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFza3NUb0NvbXBsZXRlID0gWy4uLmFjdGl2ZVRhc2tzXTtcbiAgICAgICAgICAgICAgICBzZXRBY3RpdmVUYXNrcyhbXSk7XG4gICAgICAgICAgICAgICAgdGFza3NUb0NvbXBsZXRlLmZvckVhY2goaGFuZGxlVGFza0NvbXBsZXRpb24pO1xuICAgICAgICAgICAgICAgIGFkZFRvTG9nKGBBIGRpdmluZSB3aGlzcGVyIGVjaG9lcyB0aHJvdWdoIHlvdXIgY2l2aWxpemF0aW9uLCBhbmQgYWxsIHdvcmsgaXMgaW5zdGFudGx5IGZpbmlzaGVkLmAsICdpdGVtJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzZXRJbnZlbnRvcnkocHJldiA9PiBwcmV2LmZpbHRlcihpID0+IGkuaWQgIT09IGl0ZW1JZCkpO1xuICAgICAgICBzZXRJbnZlbnRvcnlQYW5lbFN0YXRlKHtpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsfSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBidWlsZGluZ0NvdW50cyA9IE9iamVjdC5rZXlzKGJ1aWxkaW5ncykucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgICAgICBjb25zdCBidWlsZGluZ1R5cGUgPSBrZXkgYXMgQnVpbGRpbmdUeXBlO1xuICAgICAgICBhY2NbYnVpbGRpbmdUeXBlXSA9IGJ1aWxkaW5nc1tidWlsZGluZ1R5cGVdLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSBhcyBSZWNvcmQ8QnVpbGRpbmdUeXBlLCBudW1iZXI+KTtcbiAgICBcbiAgICBjb25zdCBpZGxlVmlsbGFnZXJDb3VudCA9IHVuaXRzLnZpbGxhZ2Vycy5maWx0ZXIodiA9PiAhdi5jdXJyZW50VGFzaykubGVuZ3RoO1xuICAgIFxuICAgIGNvbnN0IGFzc2lnbm1lbnRUYXJnZXQgPSBhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRUeXBlID09PSAncmVzb3VyY2UnXG4gICAgICAgID8gcmVzb3VyY2VOb2Rlcy5maW5kKG4gPT4gbi5pZCA9PT0gYXNzaWdubWVudFBhbmVsU3RhdGUudGFyZ2V0SWQpXG4gICAgICAgIDogYWN0aXZlVGFza3MuZmluZCh0ID0+IHQudHlwZSA9PT0gJ2J1aWxkJyAmJiB0LmlkID09PSBhc3NpZ25tZW50UGFuZWxTdGF0ZS50YXJnZXRJZCk7XG5cbiAgICBjb25zdCBjbG9zZUFsbFBhbmVscyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgc2V0VW5pdE1hbmFnZW1lbnRQYW5lbChwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICAgICAgc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwocCA9PiBwLmlzT3BlbiA/IHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgaW5zdGFuY2VJZDogdW5kZWZpbmVkLCBhbmNob3JSZWN0OiBudWxsIH0gOiBwKTtcbiAgICAgICAgc2V0QnVpbGRQYW5lbFN0YXRlKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIHZpbGxhZ2VySWQ6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgICAgICBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZShwID0+IHAuaXNPcGVuID8geyBpc09wZW46IGZhbHNlLCB0YXJnZXRJZDogbnVsbCwgdGFyZ2V0VHlwZTogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgICAgIHNldENpdlBhbmVsU3RhdGUocCA9PiBwLmlzT3BlbiA/IHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9IDogcCk7XG4gICAgICAgIHNldEFsbEJ1aWxkaW5nc1BhbmVsKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgICAgICBzZXRJbnZlbnRvcnlQYW5lbFN0YXRlKHAgPT4gcC5pc09wZW4gPyB7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSA6IHApO1xuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IGhhbmRsZU9wZW5CdWlsZGluZ1BhbmVsID0gdXNlQ2FsbGJhY2soKHR5cGU6IEJ1aWxkaW5nVHlwZSwgaW5zdGFuY2VJZDogc3RyaW5nLCByZWN0OiBET01SZWN0KSA9PiB7XG4gICAgICAgIGNsb3NlQWxsUGFuZWxzKCk7XG4gICAgICAgIHNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiB0cnVlLCB0eXBlLCBpbnN0YW5jZUlkLCBhbmNob3JSZWN0OiByZWN0IH0pO1xuICAgIH0sIFtjbG9zZUFsbFBhbmVsc10pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgaGFuZGxlQ2xpY2tPdXRzaWRlID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc0FueVBhbmVsT3BlbiA9IHVuaXRNYW5hZ2VtZW50UGFuZWwuaXNPcGVuIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZGluZ01hbmFnZW1lbnRQYW5lbC5pc09wZW4gfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkUGFuZWxTdGF0ZS5pc09wZW4gfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbm1lbnRQYW5lbFN0YXRlLmlzT3BlbiB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2l2UGFuZWxTdGF0ZS5pc09wZW4gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsQnVpbGRpbmdzUGFuZWwuaXNPcGVuIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmVudG9yeVBhbmVsU3RhdGUuaXNPcGVuO1xuXG4gICAgICAgICAgICBpZiAoIWlzQW55UGFuZWxPcGVuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgRWxlbWVudDtcblxuICAgICAgICAgICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuc2NpLWZpLXBhbmVsLXBvcHVwJykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNsb3NlQWxsUGFuZWxzKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgICAgIH07XG4gICAgfSwgW1xuICAgICAgICB1bml0TWFuYWdlbWVudFBhbmVsLmlzT3BlbiwgXG4gICAgICAgIGJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsLmlzT3BlbixcbiAgICAgICAgYnVpbGRQYW5lbFN0YXRlLmlzT3BlbixcbiAgICAgICAgYXNzaWdubWVudFBhbmVsU3RhdGUuaXNPcGVuLFxuICAgICAgICBjaXZQYW5lbFN0YXRlLmlzT3BlbixcbiAgICAgICAgYWxsQnVpbGRpbmdzUGFuZWwuaXNPcGVuLFxuICAgICAgICBpbnZlbnRvcnlQYW5lbFN0YXRlLmlzT3BlbixcbiAgICAgICAgY2xvc2VBbGxQYW5lbHMsXG4gICAgXSk7XG5cbiAgICBjb25zdCByZW5kZXJDb250ZW50ID0gKCkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGdhbWVTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lU3RhdHVzLk1FTlU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDxTdGFydFNjcmVlbiBvbk5ld0dhbWU9e2hhbmRsZVN0YXJ0TmV3R2FtZX0gb25SZXN1bWVHYW1lPXtoYW5kbGVSZXN1bWVHYW1lfSBzYXZlZEdhbWVzPXthbGxTYXZlc30gb25EZWxldGVHYW1lPXtoYW5kbGVEZWxldGVHYW1lfSAvPjtcbiAgICAgICAgICAgIGNhc2UgR2FtZVN0YXR1cy5MT0FESU5HOlxuICAgICAgICAgICAgICAgIHJldHVybiA8TG9hZGluZ1NjcmVlbiAvPjtcbiAgICAgICAgICAgIGNhc2UgR2FtZVN0YXR1cy5QTEFZSU5HOlxuICAgICAgICAgICAgICAgIGlmICghY2l2aWxpemF0aW9uKSByZXR1cm4gPExvYWRpbmdTY3JlZW4gLz47XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxHYW1lVUlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXZpbGl6YXRpb249e2NpdmlsaXphdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZXM9e3Jlc291cmNlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bml0cz17dW5pdHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdzPXtidWlsZGluZ3N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGlvbj17cG9wdWxhdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50QWdlPXtjdXJyZW50QWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVMb2c9e2dhbWVMb2d9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VEZWx0YXM9e3Jlc291cmNlRGVsdGFzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5U3RhdHVzPXthY3Rpdml0eVN0YXR1c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bml0TGlzdD17VU5JVF9JTkZPfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nTGlzdD17QlVJTERJTkdTX0lORk99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuVW5pdFBhbmVsPXsodHlwZSwgcmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRVbml0TWFuYWdlbWVudFBhbmVsKHsgaXNPcGVuOiB0cnVlLCB0eXBlLCBhbmNob3JSZWN0OiByZWN0IH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkJ1aWxkaW5nUGFuZWw9e2hhbmRsZU9wZW5CdWlsZGluZ1BhbmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkFsbEJ1aWxkaW5nc1BhbmVsPXsocmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRBbGxCdWlsZGluZ3NQYW5lbCh7IGlzT3BlbjogdHJ1ZSwgYW5jaG9yUmVjdDogcmVjdCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJBY3Rpb249e3BsYXllckFjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm1QbGFjZW1lbnQ9e2hhbmRsZUNvbmZpcm1QbGFjZW1lbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DYW5jZWxQbGF5ZXJBY3Rpb249e2hhbmRsZUNhbmNlbFBsYXllckFjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkJ1aWxkaW5nQ2xpY2s9eyhidWlsZGluZywgcmVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZUFsbFBhbmVscygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gT2JqZWN0LmtleXMoYnVpbGRpbmdzKS5maW5kKGtleSA9PiBidWlsZGluZ3Nba2V5IGFzIEJ1aWxkaW5nVHlwZV0uc29tZShiID0+IGIuaWQgPT09IGJ1aWxkaW5nLmlkKSkgYXMgQnVpbGRpbmdUeXBlIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0eXBlKSBzZXRCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogdHJ1ZSwgdHlwZSwgaW5zdGFuY2VJZDogYnVpbGRpbmcuaWQsIGFuY2hvclJlY3Q6IHJlY3QgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBEaW1lbnNpb25zPXtNQVBfRElNRU5TSU9OU31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVUYXNrcz17YWN0aXZlVGFza3N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25FeGl0R2FtZT17aGFuZGxlRXhpdEdhbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuQ2l2UGFuZWw9eyhyZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IHNldENpdlBhbmVsU3RhdGUoeyBpc09wZW46IHRydWUsIGFuY2hvclJlY3Q6IHJlY3QgfSk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VOb2Rlcz17cmVzb3VyY2VOb2Rlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5Bc3NpZ25tZW50UGFuZWw9eyhub2RlSWQsIHJlY3QpID0+IHsgY2xvc2VBbGxQYW5lbHMoKTsgc2V0QXNzaWdubWVudFBhbmVsU3RhdGUoeyBpc09wZW46IHRydWUsIHRhcmdldElkOiBub2RlSWQsIHRhcmdldFR5cGU6ICdyZXNvdXJjZScsIGFuY2hvclJlY3Q6IHJlY3QgfSk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuQ29uc3RydWN0aW9uUGFuZWw9eyhjb25zdHJ1Y3Rpb25JZCwgcmVjdCkgPT4geyBjbG9zZUFsbFBhbmVscygpOyBzZXRBc3NpZ25tZW50UGFuZWxTdGF0ZSh7IGlzT3BlbjogdHJ1ZSwgdGFyZ2V0SWQ6IGNvbnN0cnVjdGlvbklkLCB0YXJnZXRUeXBlOiAnY29uc3RydWN0aW9uJywgYW5jaG9yUmVjdDogcmVjdCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXRoZXJJbmZvPXtHQVRIRVJfSU5GT31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RXZlbnQ9e2N1cnJlbnRFdmVudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkV2ZW50Q2hvaWNlPXtoYW5kbGVFdmVudENob2ljZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZlbnRvcnk9e2ludmVudG9yeX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5JbnZlbnRvcnlQYW5lbD17KHJlY3QpID0+IHsgY2xvc2VBbGxQYW5lbHMoKTsgc2V0SW52ZW50b3J5UGFuZWxTdGF0ZSh7IGlzT3BlbjogdHJ1ZSwgYW5jaG9yUmVjdDogcmVjdCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnVpbGRQYW5lbCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW49e2J1aWxkUGFuZWxTdGF0ZS5pc09wZW59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0QnVpbGRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdmlsbGFnZXJJZDogbnVsbCwgYW5jaG9yUmVjdDogbnVsbCB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblN0YXJ0UGxhY2VtZW50PXtoYW5kbGVTdGFydFBsYWNlbWVudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZXM9e3Jlc291cmNlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZGluZ0NvdW50cz17YnVpbGRpbmdDb3VudHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdMaXN0PXtCVUlMRElOR1NfSU5GT31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3JSZWN0PXtidWlsZFBhbmVsU3RhdGUuYW5jaG9yUmVjdH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VW5pdE1hbmFnZW1lbnRQYW5lbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT3Blbj17dW5pdE1hbmFnZW1lbnRQYW5lbC5pc09wZW59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0VW5pdE1hbmFnZW1lbnRQYW5lbCh7IGlzT3BlbjogZmFsc2UsIHR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT17dW5pdE1hbmFnZW1lbnRQYW5lbC50eXBlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXRzPXt1bml0c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZVVuaXQ9e2hhbmRsZVVwZGF0ZVVuaXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EaXNtaXNzVW5pdD17aGFuZGxlRGlzbWlzc1NwZWNpZmljVW5pdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkluaXRpYXRlQnVpbGQ9eyh2aWxsYWdlcklkLCByZWN0KSA9PiB7IGNsb3NlQWxsUGFuZWxzKCk7IGhhbmRsZUluaXRpYXRlQnVpbGQodmlsbGFnZXJJZCwgcmVjdCk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0VmlsbGFnZXJUYXNrRGV0YWlscz17Z2V0VmlsbGFnZXJUYXNrRGV0YWlsc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3JSZWN0PXt1bml0TWFuYWdlbWVudFBhbmVsLmFuY2hvclJlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPcGVuPXtidWlsZGluZ01hbmFnZW1lbnRQYW5lbC5pc09wZW59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0QnVpbGRpbmdNYW5hZ2VtZW50UGFuZWwoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBhbmNob3JSZWN0OiBudWxsIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhbmVsU3RhdGU9e2J1aWxkaW5nTWFuYWdlbWVudFBhbmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5ncz17YnVpbGRpbmdzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nTGlzdD17QlVJTERJTkdTX0lORk99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25VcGRhdGVCdWlsZGluZz17aGFuZGxlVXBkYXRlQnVpbGRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EZW1vbGlzaEJ1aWxkaW5nPXtoYW5kbGVEZW1vbGlzaEJ1aWxkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uVHJhaW5Vbml0cz17aGFuZGxlVHJhaW5Vbml0c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblRyYWluVmlsbGFnZXJzPXtoYW5kbGVUcmFpblZpbGxhZ2Vyc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZXM9e3Jlc291cmNlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1bGF0aW9uPXtwb3B1bGF0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXRMaXN0PXtVTklUX0lORk99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25BZHZhbmNlQWdlPXtoYW5kbGVBZHZhbmNlQWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVRhc2tzPXthY3RpdmVUYXNrc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3JSZWN0PXtidWlsZGluZ01hbmFnZW1lbnRQYW5lbC5hbmNob3JSZWN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxSZXNvdXJjZUFzc2lnbm1lbnRQYW5lbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT3Blbj17YXNzaWdubWVudFBhbmVsU3RhdGUuaXNPcGVufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldEFzc2lnbm1lbnRQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdGFyZ2V0SWQ6IG51bGwsIHRhcmdldFR5cGU6IG51bGwsIGFuY2hvclJlY3Q6IG51bGwgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWdubWVudFRhcmdldD17YXNzaWdubWVudFRhcmdldCB8fCBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkbGVWaWxsYWdlckNvdW50PXtpZGxlVmlsbGFnZXJDb3VudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkFzc2lnblZpbGxhZ2Vycz17aGFuZGxlQXNzaWduVmlsbGFnZXJzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVjYWxsVmlsbGFnZXJzPXtoYW5kbGVSZWNhbGxWaWxsYWdlcnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2F0aGVySW5mbz17R0FUSEVSX0lORk99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdMaXN0PXtCVUlMRElOR1NfSU5GT31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bml0cz17dW5pdHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yUmVjdD17YXNzaWdubWVudFBhbmVsU3RhdGUuYW5jaG9yUmVjdH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2l2aWxpemF0aW9uUGFuZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW49e2NpdlBhbmVsU3RhdGUuaXNPcGVufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldENpdlBhbmVsU3RhdGUoeyBpc09wZW46IGZhbHNlLCBhbmNob3JSZWN0OiBudWxsIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpdmlsaXphdGlvbj17Y2l2aWxpemF0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclJlY3Q9e2NpdlBhbmVsU3RhdGUuYW5jaG9yUmVjdH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QWxsQnVpbGRpbmdzUGFuZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW49e2FsbEJ1aWxkaW5nc1BhbmVsLmlzT3Blbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRBbGxCdWlsZGluZ3NQYW5lbCh7IGlzT3BlbjogZmFsc2UsIGFuY2hvclJlY3Q6IG51bGwgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdMaXN0PXtCVUlMRElOR1NfSU5GT31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZGluZ0NvdW50cz17YnVpbGRpbmdDb3VudHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlVGFza3M9e2FjdGl2ZVRhc2tzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbkJ1aWxkaW5nUGFuZWw9e2hhbmRsZU9wZW5CdWlsZGluZ1BhbmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclJlY3Q9e2FsbEJ1aWxkaW5nc1BhbmVsLmFuY2hvclJlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEludmVudG9yeVBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPcGVuPXtpbnZlbnRvcnlQYW5lbFN0YXRlLmlzT3Blbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRJbnZlbnRvcnlQYW5lbFN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgYW5jaG9yUmVjdDogbnVsbCB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZlbnRvcnk9e2ludmVudG9yeX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblVzZUl0ZW09e2hhbmRsZVVzZUl0ZW19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlVGFza3M9e2FjdGl2ZVRhc2tzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUJ1ZmZzPXthY3RpdmVCdWZmc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3JSZWN0PXtpbnZlbnRvcnlQYW5lbFN0YXRlLmFuY2hvclJlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gPFN0YXJ0U2NyZWVuIG9uTmV3R2FtZT17aGFuZGxlU3RhcnROZXdHYW1lfSBvblJlc3VtZUdhbWU9e2hhbmRsZVJlc3VtZUdhbWV9IHNhdmVkR2FtZXM9e2FsbFNhdmVzfSBvbkRlbGV0ZUdhbWU9e2hhbmRsZURlbGV0ZUdhbWV9IC8+O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLXN0b25lLWRhcmsgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC00XCI+XG4gICAgICAgICAgICB7Z2FtZVN0YXRlID09PSBHYW1lU3RhdHVzLlBMQVlJTkcgJiYgKFxuICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZVVubGltaXRlZFJlc291cmNlc31cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgYm90dG9tLTQgbGVmdC00IHotWzEwMV0gYmctYnJhbmQtZ29sZCB0ZXh0LXN0b25lLWRhcmsgZm9udC1ib2xkIHB5LTEgcHgtMyByb3VuZGVkLWZ1bGwgdGV4dC14cyBzaGFkb3ctbGcgaG92ZXI6c2NhbGUtMTA1IHRyYW5zaXRpb24tdHJhbnNmb3JtXCJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlRvZ2dsZSB1bmxpbWl0ZWQgcmVzb3VyY2VzIHRlc3QgbW9kZVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBUZXN0IE1vZGU6IHt1bmxpbWl0ZWRSZXNvdXJjZXMgPyAnT04nIDogJ09GRid9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPE5vdGlmaWNhdGlvbk1hbmFnZXIgbm90aWZpY2F0aW9ucz17bm90aWZpY2F0aW9uc30gb25SZW1vdmVOb3RpZmljYXRpb249e3JlbW92ZU5vdGlmaWNhdGlvbn0gLz5cbiAgICAgICAgICAgIDxtYWluIGNsYXNzTmFtZT1cInctZnVsbCBtYXgtdy03eGwgbXgtYXV0b1wiPlxuICAgICAgICAgICAgICAgIHtyZW5kZXJDb250ZW50KCl9XG4gICAgICAgICAgICA8L21haW4+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBHYW1lUGFnZTtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJHYW1lU3RhdHVzIiwiZ2V0UHJlZGVmaW5lZENpdmlsaXphdGlvbiIsImdldFByZWRlZmluZWRHYW1lRXZlbnQiLCJnZXRQcmVkZWZpbmVkQWdlIiwic2F2ZUdhbWVTdGF0ZSIsImxvYWRHYW1lU3RhdGUiLCJnZXRBbGxTYXZlTmFtZXMiLCJkZWxldGVHYW1lU3RhdGUiLCJnZXRSYW5kb21OYW1lcyIsIkdBTUVfSVRFTVMiLCJHYW1lVUkiLCJTdGFydFNjcmVlbiIsIkxvYWRpbmdTY3JlZW4iLCJCdWlsZFBhbmVsIiwiTm90aWZpY2F0aW9uTWFuYWdlciIsIlVuaXRNYW5hZ2VtZW50UGFuZWwiLCJCdWlsZGluZ01hbmFnZW1lbnRQYW5lbCIsIlJlc291cmNlQXNzaWdubWVudFBhbmVsIiwiQ2l2aWxpemF0aW9uUGFuZWwiLCJBbGxCdWlsZGluZ3NQYW5lbCIsIkludmVudG9yeVBhbmVsIiwiQlVJTERJTkdTX0lORk8iLCJpZCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsImNvc3QiLCJ3b29kIiwiaXNVbmlxdWUiLCJidWlsZFRpbWUiLCJocCIsInN0b25lIiwiZ29sZCIsIlVOSVRfSU5GTyIsImZvb2QiLCJyZXF1aXJlZEJ1aWxkaW5nIiwidHJhaW5UaW1lIiwiR0FUSEVSX0lORk8iLCJyYXRlIiwiaW5pdGlhbEJ1aWxkaW5nc1N0YXRlIiwiaG91c2VzIiwiYmFycmFja3MiLCJhcmNoZXJ5UmFuZ2UiLCJzdGFibGUiLCJzaWVnZVdvcmtzaG9wIiwiYmxhY2tzbWl0aCIsIndhdGNoVG93ZXIiLCJ0b3duQ2VudGVyIiwiTUFQX0RJTUVOU0lPTlMiLCJ3aWR0aCIsImhlaWdodCIsIkdhbWVQYWdlIiwiYnVpbGRpbmdzIiwiZ2FtZVN0YXRlIiwic2V0R2FtZVN0YXRlIiwiTUVOVSIsImNpdmlsaXphdGlvbiIsInNldENpdmlsaXphdGlvbiIsInJlc291cmNlcyIsInNldFJlc291cmNlcyIsInVuaXRzIiwic2V0VW5pdHMiLCJ2aWxsYWdlcnMiLCJtaWxpdGFyeSIsInNldEJ1aWxkaW5ncyIsImN1cnJlbnRBZ2UiLCJzZXRDdXJyZW50QWdlIiwiZ2FtZUxvZyIsInNldEdhbWVMb2ciLCJjdXJyZW50RXZlbnQiLCJzZXRDdXJyZW50RXZlbnQiLCJyZXNvdXJjZURlbHRhcyIsInNldFJlc291cmNlRGVsdGFzIiwiYWN0aXZpdHlTdGF0dXMiLCJzZXRBY3Rpdml0eVN0YXR1cyIsIm5vdGlmaWNhdGlvbnMiLCJzZXROb3RpZmljYXRpb25zIiwidW5saW1pdGVkUmVzb3VyY2VzIiwic2V0VW5saW1pdGVkUmVzb3VyY2VzIiwiYWxsU2F2ZXMiLCJzZXRBbGxTYXZlcyIsImN1cnJlbnRTYXZlTmFtZSIsInNldEN1cnJlbnRTYXZlTmFtZSIsInBsYXllckFjdGlvbiIsInNldFBsYXllckFjdGlvbiIsImFjdGl2ZVRhc2tzIiwic2V0QWN0aXZlVGFza3MiLCJyZXNvdXJjZU5vZGVzIiwic2V0UmVzb3VyY2VOb2RlcyIsImludmVudG9yeSIsInNldEludmVudG9yeSIsImFjdGl2ZUJ1ZmZzIiwic2V0QWN0aXZlQnVmZnMiLCJyZXNvdXJjZUJvb3N0IiwiYnVpbGRQYW5lbFN0YXRlIiwic2V0QnVpbGRQYW5lbFN0YXRlIiwiaXNPcGVuIiwidmlsbGFnZXJJZCIsImFuY2hvclJlY3QiLCJ1bml0TWFuYWdlbWVudFBhbmVsIiwic2V0VW5pdE1hbmFnZW1lbnRQYW5lbCIsInR5cGUiLCJidWlsZGluZ01hbmFnZW1lbnRQYW5lbCIsInNldEJ1aWxkaW5nTWFuYWdlbWVudFBhbmVsIiwiYWxsQnVpbGRpbmdzUGFuZWwiLCJzZXRBbGxCdWlsZGluZ3NQYW5lbCIsImFzc2lnbm1lbnRQYW5lbFN0YXRlIiwic2V0QXNzaWdubWVudFBhbmVsU3RhdGUiLCJ0YXJnZXRJZCIsInRhcmdldFR5cGUiLCJjaXZQYW5lbFN0YXRlIiwic2V0Q2l2UGFuZWxTdGF0ZSIsImludmVudG9yeVBhbmVsU3RhdGUiLCJzZXRJbnZlbnRvcnlQYW5lbFN0YXRlIiwiZGVsdGFUaW1lb3V0UmVmIiwiZXZlbnRUaW1lclJlZiIsImxhc3RUaWNrUmVmIiwiRGF0ZSIsIm5vdyIsImFuaW1hdGlvbkZyYW1lUmVmIiwicG9wdWxhdGlvbiIsImN1cnJlbnQiLCJsZW5ndGgiLCJjYXBhY2l0eSIsImZldGNoU2F2ZXMiLCJuYW1lcyIsIlBMQVlJTkciLCJmdWxsU3RhdGUiLCJhZGROb3RpZmljYXRpb24iLCJtZXNzYWdlIiwiTWF0aCIsInJhbmRvbSIsInByZXYiLCJyZW1vdmVOb3RpZmljYXRpb24iLCJmaWx0ZXIiLCJuIiwiYWRkVG9Mb2ciLCJpY29uIiwic2xpY2UiLCJ1cGRhdGVSZXNvdXJjZXMiLCJkZWx0YXMiLCJuZXdSZXNvdXJjZXMiLCJrZXkiLCJyZXNvdXJjZUtleSIsIm1heCIsIndpbmRvdyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJuZXdEZWx0YXMiLCJoYW5kbGVUYXNrQ29tcGxldGlvbiIsInRhc2siLCJwYXlsb2FkIiwidmlsbGFnZXJJZHMiLCJtYXAiLCJ2IiwiaW5jbHVkZXMiLCJjdXJyZW50VGFzayIsImJ1aWxkaW5nVHlwZSIsInBvc2l0aW9uIiwiYnVpbGRpbmdJbmZvIiwiZmluZCIsImIiLCJuZXdCdWlsZGluZyIsImN1cnJlbnRIcCIsInAiLCJjb3VudCIsIm5ld1ZpbGxhZ2VyTmFtZXMiLCJuZXdWaWxsYWdlcnMiLCJ1bml0VHlwZSIsInVuaXRJbmZvIiwidSIsIm5ld1VuaXROYW1lcyIsIm5ld1VuaXRzIiwidGl0bGUiLCJhZ2VSZXN1bHQiLCJuZXh0QWdlTmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiZ2FtZUxvb3AiLCJkZWx0YVRpbWUiLCJjb21wbGV0ZWRUYXNrcyIsInJlc291cmNlRGVsdGFzVGhpc1RpY2siLCJuZXdSZXNvdXJjZUJvb3N0cyIsImVuZFRpbWUiLCJ0YXNrc0luUHJvZ3Jlc3MiLCJzdGFydFRpbWUiLCJkdXJhdGlvbiIsInB1c2giLCJub2RlIiwicmVzb3VyY2VOb2RlSWQiLCJhc3NpZ25lZFZpbGxhZ2VycyIsInZpbGxhZ2VyQ291bnQiLCJiYXNlUmF0ZVBlclNlY29uZCIsImNpdkJvbnVzTXVsdGlwbGllciIsImJvbnVzU3RyaW5nIiwiYm9udXMiLCJ0b0xvd2VyQ2FzZSIsInJlc291cmNlU3RyaW5nIiwibWF0Y2giLCJwYXJzZUludCIsIml0ZW1Cb29zdCIsInJlc291cmNlIiwiaXRlbUJvb3N0TXVsdGlwbGllciIsIm11bHRpcGxpZXIiLCJmaW5hbFJhdGVQZXJTZWNvbmQiLCJhbW91bnRHYXRoZXJlZFRoaXNUaWNrIiwiQm9vbGVhbiIsIk9iamVjdCIsImtleXMiLCJwcmV2Tm9kZXMiLCJuZXdOb2RlcyIsImFtb3VudFRvRGVjcmVtZW50IiwibmV3QW1vdW50IiwiYW1vdW50IiwidGFza0lkIiwiYXNzaWduZWQiLCJmbG9vciIsImdhdGhlclRhc2siLCJ0IiwiZmluYWxBY3RpdmVUYXNrcyIsInNvbWUiLCJjdCIsImZvckVhY2giLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJoYW5kbGVOZXdFdmVudCIsImV2ZW50Iiwic2NoZWR1bGVOZXh0RXZlbnQiLCJuZXh0RXZlbnRUaW1lIiwiZ2VuZXJhdGVSZXNvdXJjZU5vZGVzIiwiZXhpc3RpbmdQb3NpdGlvbnMiLCJub2RlcyIsInR5cGVzIiwibnVtTm9kZXMiLCJpIiwicG9zIiwieCIsInkiLCJoYXMiLCJhZGQiLCJoYW5kbGVTdGFydE5ld0dhbWUiLCJzYXZlTmFtZSIsIkxPQURJTkciLCJjaXYiLCJpbml0aWFsVmlsbGFnZXJOYW1lcyIsImluaXRpYWxWaWxsYWdlcnMiLCJpbml0aWFsVENOYW1lIiwidGNQb3NpdGlvbiIsInRjSW5mbyIsImluaXRpYWxUQyIsIlNldCIsImlzVmlsbGFnZXJCdXN5IiwidmlsbGFnZXIiLCJnZXRWaWxsYWdlclRhc2tEZXRhaWxzIiwiaGFuZGxlUmVzdW1lR2FtZSIsInNhdmVkU3RhdGUiLCJzYXZlZFVuaXRzIiwic29sZGllcnMiLCJtaWdyYXRlZE1pbGl0YXJ5IiwicyIsIm1pZ3JhdGVkVmlsbGFnZXJzIiwidW5kZWZpbmVkIiwibWlncmF0ZWRUYXNrcyIsInZpZCIsImZpbmFsQnVpbGRpbmdzIiwiYlR5cGUiLCJpbmZvIiwiY29uc3RydWN0aW9uVGFza3MiLCJvY2N1cGllZENlbGxzIiwidmFsdWVzIiwiZmxhdCIsInRjUG9zIiwidGNOYW1lIiwiZmlyc3RCdWlsZGluZyIsIm1pZ3JhdGVkIiwiZW50cmllcyIsImluc3RhbmNlcyIsImluc3QiLCJub2Rlc1RvU2V0IiwiaGFuZGxlRXZlbnRDaG9pY2UiLCJjaG9pY2UiLCJtaXNzaW5nUmVzIiwicmVzS2V5Iiwiam9pbiIsIm5lZ2F0aXZlQ29zdCIsImlzU3VjY2VzcyIsInN1Y2Nlc3NDaGFuY2UiLCJlZmZlY3RzIiwic3VjY2Vzc0VmZmVjdHMiLCJmYWlsdXJlRWZmZWN0cyIsImxvZ01lc3NhZ2UiLCJ0ZXh0IiwibG9nIiwicmV3YXJkcyIsInJld2FyZCIsIkFycmF5IiwiaXNBcnJheSIsIm1pbiIsImFicyIsIml0ZW1JbmZvIiwiaXRlbUlkIiwibmV3SXRlbXMiLCJoYW5kbGVJbml0aWF0ZUJ1aWxkIiwicmVjdCIsImhhbmRsZVN0YXJ0UGxhY2VtZW50IiwiYnVpbGRpbmdJZCIsImlzQWxyZWFkeUNvbnN0cnVjdGluZyIsIm1pc3NpbmciLCJyZXMiLCJtb2RlIiwiaGFuZGxlQ29uZmlybVBsYWNlbWVudCIsImJ1aWxkZXIiLCJidWlsZFRpbWVSZWR1Y3Rpb24iLCJwZXJjZW50YWdlIiwibmV3VXNlcyIsInVzZXMiLCJ0YXNrUGF5bG9hZCIsIm5ld1Rhc2siLCJoYW5kbGVDYW5jZWxQbGF5ZXJBY3Rpb24iLCJoYW5kbGVEZW1vbGlzaEJ1aWxkaW5nIiwiYnVpbGRpbmdJbnN0YW5jZSIsInJlZnVuZCIsInJlZnVuZE1lc3NhZ2VQYXJ0cyIsImhhbmRsZVVwZGF0ZUJ1aWxkaW5nIiwiaGFuZGxlVHJhaW5WaWxsYWdlcnMiLCJ2aWxsYWdlckNvc3QiLCJ0b3RhbENvc3QiLCJoYW5kbGVUcmFpblVuaXRzIiwidHJhaW5pbmdCdWlsZGluZyIsInBlcm1hbmVudEJvbnVzIiwicGVybWFuZW50VHJhaW5UaW1lUmVkdWN0aW9uIiwidGVtcEJvbnVzIiwidHJhaW5UaW1lUmVkdWN0aW9uIiwiYXBwbGljYWJsZVVzZXMiLCJyZW1haW5pbmdVc2VzIiwidGltZUZvckJ1ZmZlZFVuaXRzIiwidGltZUZvck5vcm1hbFVuaXRzIiwiaGFuZGxlRGlzbWlzc1NwZWNpZmljVW5pdCIsInVuaXQiLCJ1bml0VHlwZU5hbWUiLCJoYW5kbGVVcGRhdGVVbml0IiwidXBkYXRlZFVuaXQiLCJoYW5kbGVBc3NpZ25WaWxsYWdlcnNUb05vZGUiLCJub2RlSWQiLCJpZGxlVmlsbGFnZXJzIiwiY2FwcGVkQ291bnQiLCJ2aWxsYWdlcnNUb0Fzc2lnbiIsInZpbGxhZ2VySWRzVG9Bc3NpZ24iLCJ0YXJnZXROb2RlIiwiZXhpc3RpbmdUYXNrIiwiaGFuZGxlUmVjYWxsVmlsbGFnZXJzIiwidmlsbGFnZXJzVG9SZWNhbGwiLCJ0YXNrSW5kZXgiLCJmaW5kSW5kZXgiLCJyZW1haW5pbmdWaWxsYWdlcnMiLCJfIiwidG90YWxXb3JrIiwib2xkV29ya2VyQ291bnQiLCJ0aW1lRWxhcHNlZCIsIndvcmtEb25lIiwid29ya1JlbWFpbmluZyIsIm5ld1dvcmtlckNvdW50IiwibmV3UmVtYWluaW5nRHVyYXRpb24iLCJoYW5kbGVBc3NpZ25WaWxsYWdlcnNUb0NvbnN0cnVjdGlvbiIsImNvbnN0cnVjdGlvbklkIiwiYmFzZUR1cmF0aW9uIiwidXBkYXRlZFZpbGxhZ2VySWRzIiwiaGFuZGxlQXNzaWduVmlsbGFnZXJzIiwiaGFuZGxlQWR2YW5jZUFnZSIsImhhbmRsZUV4aXRHYW1lIiwiaGFuZGxlRGVsZXRlR2FtZSIsImhhbmRsZVRvZ2dsZVVubGltaXRlZFJlc291cmNlcyIsIm5ld01vZGUiLCJkZXBsZXRlZE5vZGVJZHMiLCJ0YXNrc1RvQ29tcGxldGUiLCJzaXplIiwiaGFuZGxlVXNlSXRlbSIsIml0ZW0iLCJiYXNlSXRlbUlkIiwic3BsaXQiLCJ0YXNrVG9Cb29zdCIsInNvcnQiLCJhIiwidGltZVJlZHVjdGlvbiIsInRhc2tUb0NvbXBsZXRlIiwiY3VycmVudEJvbnVzIiwiYnVpbGRpbmdDb3VudHMiLCJyZWR1Y2UiLCJhY2MiLCJpZGxlVmlsbGFnZXJDb3VudCIsImFzc2lnbm1lbnRUYXJnZXQiLCJjbG9zZUFsbFBhbmVscyIsImluc3RhbmNlSWQiLCJoYW5kbGVPcGVuQnVpbGRpbmdQYW5lbCIsImhhbmRsZUNsaWNrT3V0c2lkZSIsImlzQW55UGFuZWxPcGVuIiwidGFyZ2V0IiwiY2xvc2VzdCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZW5kZXJDb250ZW50Iiwib25OZXdHYW1lIiwib25SZXN1bWVHYW1lIiwic2F2ZWRHYW1lcyIsIm9uRGVsZXRlR2FtZSIsInVuaXRMaXN0IiwiYnVpbGRpbmdMaXN0Iiwib25PcGVuVW5pdFBhbmVsIiwib25PcGVuQnVpbGRpbmdQYW5lbCIsIm9uT3BlbkFsbEJ1aWxkaW5nc1BhbmVsIiwib25Db25maXJtUGxhY2VtZW50Iiwib25DYW5jZWxQbGF5ZXJBY3Rpb24iLCJvbkJ1aWxkaW5nQ2xpY2siLCJidWlsZGluZyIsIm1hcERpbWVuc2lvbnMiLCJvbkV4aXRHYW1lIiwib25PcGVuQ2l2UGFuZWwiLCJvbk9wZW5Bc3NpZ25tZW50UGFuZWwiLCJvbk9wZW5Db25zdHJ1Y3Rpb25QYW5lbCIsImdhdGhlckluZm8iLCJvbkV2ZW50Q2hvaWNlIiwib25PcGVuSW52ZW50b3J5UGFuZWwiLCJvbkNsb3NlIiwib25TdGFydFBsYWNlbWVudCIsIm9uVXBkYXRlVW5pdCIsIm9uRGlzbWlzc1VuaXQiLCJvbkluaXRpYXRlQnVpbGQiLCJwYW5lbFN0YXRlIiwib25VcGRhdGVCdWlsZGluZyIsIm9uRGVtb2xpc2hCdWlsZGluZyIsIm9uVHJhaW5Vbml0cyIsIm9uVHJhaW5WaWxsYWdlcnMiLCJvbkFkdmFuY2VBZ2UiLCJvbkFzc2lnblZpbGxhZ2VycyIsIm9uUmVjYWxsVmlsbGFnZXJzIiwib25Vc2VJdGVtIiwiZGl2IiwiY2xhc3NOYW1lIiwiYnV0dG9uIiwib25DbGljayIsImFyaWEtbGFiZWwiLCJvblJlbW92ZU5vdGlmaWNhdGlvbiIsIm1haW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/page.tsx\n"));

/***/ })

});